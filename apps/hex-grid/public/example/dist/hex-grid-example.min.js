"use strict";!function(){function e(e){function a(){console.log("Response status="+r.status+" ("+r.statusText+")"),o.dataRequestState="received-response";try{o.combinedMetadata=JSON.parse(r.response)}catch(i){return o.combinedMetadata={},o.collectionMetadata={},o.postData=[],void console.error("Unable to parse response body as JSON: "+r.response)}o.collectionMetadata=o.combinedMetadata.collectionMetadata,o.postData=o.combinedMetadata.posts,n(),e()}function t(){console.error("An error occurred while transferring the data"),o.dataRequestState="error-with-request"}function d(){console.error("The transfer has been cancelled by the user"),o.dataRequestState="error-with-request"}var r=new XMLHttpRequest;r.addEventListener("load",a,!1),r.addEventListener("error",t,!1),r.addEventListener("abort",d,!1),console.log("Sending request to "+i.metadataUrl),r.open("GET",i.metadataUrl,!0),r.send(),o.dataRequestState="waiting-for-response"}function n(){function e(e){function n(e){e.src=t+e.fileName}function a(e){switch(e.videoHost){case"youtube":e.videoSrc=i.youtubeVideoBaseUrl+"/"+e.id+"?enablejsapi=1",e.thumbnailSrc=i.youtubeThumbnailBaseUrl+"/"+e.id+"/default.jpg";break;case"vimeo":e.videoSrc=i.vimeoVideoBaseUrl+"/"+e.id,e.thumbnailSrc=null;break;default:throw new Error("Invalid video host: "+e.videoHost)}}var t=o.collectionMetadata.baseUrl+"/"+e.id+"/";e.images.forEach(n),e.videos.forEach(a),e.thumbnailSrc=t+o.collectionMetadata.thumbnailName,e.logoSrc=t+o.collectionMetadata.logoName}o.postData.forEach(e)}var i={};i.youtubeVideoBaseUrl="//www.youtube.com/embed",i.youtubeThumbnailBaseUrl="http://img.youtube.com/vi",i.vimeoVideoBaseUrl="//player.vimeo.com/video",i.appRootPath=window.appRootPath||"example",i.metadataUrl=i.appRootPath+"/dist/data.min.json";var o={};o.config=i,o.dataRequestState="request-not-sent",o.combinedMetadata={},o.collectionMetadata={},o.postData=[],o.fetchData=e,window.app=window.app||{},app.data=o,console.log("data module loaded")}(),function(){function e(){console.log("onDocumentLoad"),window.removeEventListener("load",e);var o=document.getElementById("hex-grid-area");i.grid=window.hg.controller.createNewHexGrid(o,app.data.postData,!1),app.parameters.initDatGui(i.grid),app.data.fetchData(n)}function n(){window.hg.controller.setGridPostData(i.grid,app.data.postData),app.parameters.updateForNewPostData(app.data.postData)}var i={};i.grid=null,window.app=window.app||{},app.main=i,window.addEventListener("load",e,!1),console.log("main module loaded")}(),function(){var e={},n={};n.config=e,window.app=window.app||{},app.menuPanel=n,console.log("menu-panel module loaded")}(),function(){function e(e){c.grid=e}function n(e){var n={"Go Home":window.app.parameters.goHome,"Hide Menu":window.app.parameters.hideMenu};e.add(n,"Go Home"),e.add(n,"Hide Menu")}function i(e){function n(n){i[n]=window.app.parameters.updateToPreSetConfigs.bind(window.app.parameters,g.preSetConfigs[n]),e.add(i,n)}var i={};Object.keys(g.preSetConfigs).forEach(n)}function o(e){function n(e){window.app.parameters.categoryData[e].menuItem.setValue(!0)}var i={all:n.bind(window.app.parameters,"all"),work:n.bind(window.app.parameters,"work"),research:n.bind(window.app.parameters,"research"),"side-projects":n.bind(window.app.parameters,"side-project")};e.add(i,"all"),e.add(i,"work"),e.add(i,"research"),e.add(i,"side-projects"),window.app.parameters.categoriesFolder=e.addFolder("All Categories")}function a(e){var n={};n.backgroundColor=window.hg.util.hslToHsv({h:window.hg.Grid.config.backgroundHue,s:.01*window.hg.Grid.config.backgroundSaturation,l:.01*window.hg.Grid.config.backgroundLightness}),n.tileColor=window.hg.util.hslToHsv({h:window.hg.Grid.config.tileHue,s:.01*window.hg.Grid.config.tileSaturation,l:.01*window.hg.Grid.config.tileLightness}),e.add(c.grid,"isVertical").onChange(function(){window.hg.controller.resetGrid(c.grid)}),e.add(window.hg.Grid.config,"tileOuterRadius",10,400).onChange(function(){window.hg.Grid.config.computeDependentValues(),window.hg.controller.resetGrid(c.grid)}),e.add(window.hg.Grid.config,"tileGap",-50,100).onChange(function(){window.hg.Grid.config.computeDependentValues(),window.hg.controller.resetGrid(c.grid)}),e.addColor(n,"backgroundColor").onChange(function(){var e=window.hg.util.hsvToHsl(n.backgroundColor);window.hg.Grid.config.backgroundHue=e.h,window.hg.Grid.config.backgroundSaturation=100*e.s,window.hg.Grid.config.backgroundLightness=100*e.l,c.grid.setBackgroundColor()}),e.addColor(n,"tileColor").onChange(function(){var e=window.hg.util.hsvToHsl(n.tileColor);window.hg.Grid.config.tileHue=e.h,window.hg.Grid.config.tileSaturation=100*e.s,window.hg.Grid.config.tileLightness=100*e.l,c.grid.updateTileColor(),window.hg.Annotations.config.annotations.contentTiles.enabled&&c.grid.annotations.toggleAnnotationEnabled("contentTiles",!0)}),e.add(window.hg.Grid.config,"firstRowYOffset",-100,100).onChange(function(){window.hg.Grid.config.computeDependentValues(),window.hg.controller.resetGrid(c.grid)}),e.add(window.hg.Grid.config,"contentStartingRowIndex",0,4).step(1).onChange(function(){window.hg.Grid.config.computeDependentValues(),c.grid.computeContentIndices(),window.hg.controller.resetGrid(c.grid)}),e.add(window.hg.Grid.config,"targetContentAreaWidth",500,1500).onChange(function(){window.hg.Grid.config.computeDependentValues(),c.grid.computeContentIndices(),window.hg.controller.resetGrid(c.grid)}),e.add(window.hg.Grid.config,"contentDensity",.1,1).onChange(function(){window.hg.Grid.config.computeDependentValues(),c.grid.computeContentIndices(),window.hg.controller.resetGrid(c.grid)})}function t(e){var n,i;for(n in window.hg.Annotations.config.annotations)i={},i[n]=window.hg.Annotations.config.annotations[n].enabled,e.add(i,n).onChange(function(e){c.grid.annotations.toggleAnnotationEnabled(this.property,e)})}function d(e){e.add(window.hg.Input.config,"contentTileClickAnimation",Object.keys(window.hg.Input.config.possibleClickAnimations)),e.add(window.hg.Input.config,"emptyTileClickAnimation",Object.keys(window.hg.Input.config.possibleClickAnimations))}function r(e){e.add(window.hg.Tile.config,"dragCoeff",1e-6,.1),e.add(window.hg.Tile.config,"neighborSpringCoeff",1e-6,1e-4),e.add(window.hg.Tile.config,"neighborDampingCoeff",1e-6,.009999),e.add(window.hg.Tile.config,"innerAnchorSpringCoeff",1e-6,1e-4),e.add(window.hg.Tile.config,"innerAnchorDampingCoeff",1e-6,.009999),e.add(window.hg.Tile.config,"borderAnchorSpringCoeff",1e-6,1e-4),e.add(window.hg.Tile.config,"borderAnchorDampingCoeff",1e-6,.009999),e.add(window.hg.Tile.config,"forceSuppressionLowerThreshold",1e-6,.009999),e.add(window.hg.Tile.config,"velocitySuppressionLowerThreshold",1e-6,.009999),e.add(window.hg.Grid.config,"tileMass",.1,10).onChange(function(e){c.grid.updateTileMass(e)})}var g={};g.folders=[{name:"Main",isOpen:!0,createItems:n,children:[{name:"Pre-Set Configurations",isOpen:!0,createItems:i,children:[]},{name:"Filter Posts",isOpen:!0,createItems:o,children:[]}]},{name:"Grid",isOpen:!1,createItems:a},{name:"Annotations",isOpen:!1,createItems:t},{name:"Particle System",isOpen:!1,createItems:r},{name:"Input",isOpen:!1,createItems:d}],g.preSetConfigs={},g.preSetConfigs["stormy-sea"]={LineJob:{isRecurring:!0}},g.preSetConfigs["color-worms"]={Grid:{tileOuterRadius:50,tileHue:39,tileSaturation:49,tileLightness:12},Tile:{dragCoeff:.02,neighborSpringCoeff:4e-6,innerAnchorSpringCoeff:2e-5,borderAnchorSpringCoeff:2e-5},LineJob:{isRecurring:!0,lineWidth:12,lineLength:400,duration:7e4,lineSidePeriod:1e3,startSaturation:100,startLightness:60,startOpacity:.8,endSaturation:100,endLightness:60,endOpacity:0,sameDirectionProb:.75,avgDelay:2e3,delayDeviationRange:200},LinesRadiateJob:{lineWidth:7,lineLength:250,duration:3e4,lineSidePeriod:120,startSaturation:100,startLightness:60,startOpacity:.8,endSaturation:100,endLightness:60,endOpacity:0,sameDirectionProb:.75},DisplacementWaveJob:{period:1e6,tileDeltaX:0,tileDeltaY:0},ColorWaveJob:{period:1e6,deltaLightness:0},Input:{contentTileClickAnimation:"None",emptyTileClickAnimation:"Radiate Lines"},OpenPostJob:{expandedDisplacementTileCount:4}},g.preSetConfigs["crazy-flux"]={Grid:{tileOuterRadius:60,tileGap:40,tileHue:24,tileSaturation:75,tileLightness:50},LineJob:{isRecurring:!0},Input:{contentTileClickAnimation:"None",emptyTileClickAnimation:"Radiate Lines"},DisplacementWaveJob:{period:1400,tileDeltaX:140,tileDeltaY:-120,originX:2e3,originY:1800}},g.preSetConfigs["wire-frame"]={LineJob:{isRecurring:!0},Annotations:{annotations:{tileNeighborConnections:{enabled:!0},tileAnchorCenters:{enabled:!0},transparentTiles:{enabled:!0},lineAnimationGapPoints:{enabled:!0},lineAnimationCornerData:{enabled:!0},sectorAnchorCenters:{enabled:!0}}},Input:{contentTileClickAnimation:"None",emptyTileClickAnimation:"Radiate Lines"},DisplacementWaveJob:{originX:1600,originY:1800},Tile:{dragCoeff:.013,neighborSpringCoeff:2e-6,innerAnchorSpringCoeff:1e-5,borderAnchorSpringCoeff:2e-5}};var c={};c.init=e,c.config=g,window.app=window.app||{},app.miscParams=c,console.log("miscellaneous-parameters module loaded")}(),function(){function e(e){J.grid=e,s(),window.app.miscParams.init(e),window.app.persistentParams.init(e),window.app.transientParams.init(e),i();var o=window.hg.util.debounce(n,300);window.addEventListener("resize",o,!1)}function n(){setTimeout(function(){window.hg.controller.isSmallScreen&&J.gui.close()},10)}function i(){J.gui=new dat.GUI,J.gui.width=v.datGuiWidth,window.gui=J.gui,o()}function o(){a(v.folders,J.gui)}function a(e,n){e.forEach(function(e){if("function"==typeof e)e(n);else{var i=n.addFolder(e.name);e.folder=i,e.isOpen&&i.open(),e.createItems&&e.createItems(i),e.children&&a(e.children,i)}})}function t(e){a(window.app.miscParams.config.folders,e)}function d(e){a(window.app.transientParams.config.folders,e)}function r(e){a(window.app.persistentParams.config.folders,e)}function g(){c(v.folders),window.app.parameters.recordOpenChildFolders(window.app.miscParams.config.folders),window.app.parameters.recordOpenChildFolders(window.app.transientParams.config.folders),window.app.parameters.recordOpenChildFolders(window.app.persistentParams.config.folders)}function c(e){e.forEach(function(e){"function"!=typeof e&&(e.isOpen=!e.folder.closed,e.children&&c(e.children))})}function l(e){function n(e){var n=e.reduce(function(e,n){return n.categories.reduce(function(e,n){return e[n]=e[n]?e[n]+1:1,e},e)},{}),i=Object.keys(n).sort(function(e,i){return n[i]-n[e]});return i}function i(){function e(e,n,i){e[n]={},e[n][n]=!1,e[n].menuItem=i.add(e[n],n).onChange(function(){w(n)})}J.categoryData={},e(J.categoryData,"all",J.categoriesFolder),J.categoryData.all.all=!0,J.allCategories.forEach(function(n){e(J.categoryData,n,J.categoriesFolder)})}J.allCategories=n(e),i()}function s(){R=Object.keys(window.hg).reduce(function(e,n){return window.hg[n].config&&(e[n]=window.hg.util.deepCopy(window.hg[n].config)),e},{})}function w(e){C++,J.categoryData[e][e]?(Object.keys(J.categoryData).forEach(function(n){J.categoryData[n][n]&&n!==e&&J.categoryData[n].menuItem.setValue(!1)}),window.hg.controller.filterGridPostDataByCategory(J.grid,e)):1===C&&J.categoryData.all.menuItem.setValue(!0),C--}function h(){console.log("Go Home clicked"),window.location.href="/"}function f(){console.log("Hide Menu clicked"),document.querySelector("body > .dg").style.display="none"}function u(e){console.log("Updating to pre-set configuration",e),g(),p(),b(e),J.grid.annotations.refresh(),window.hg.Grid.config.computeDependentValues(),window.hg.controller.resetGrid(J.grid),m()}function p(){Object.keys(window.hg).forEach(function(e){window.hg[e].config&&Object.keys(R[e]).forEach(function(n){window.hg[e].config[n]=window.hg.util.deepCopy(R[e][n])})})}function b(e){function n(e,i,o){"object"==typeof i[o]?Object.keys(i[o]).forEach(function(a){n(e[o],i[o],a)}):e[o]=i[o]}Object.keys(e).forEach(function(i){Object.keys(e[i]).forEach(function(o){n(window.hg[i].config,e[i],o)}),window.hg.controller.transientJobs[i]&&window.hg.controller.transientJobs[i].toggleRecurrence(J.grid,window.hg[i].config.isRecurring,window.hg[i].config.avgDelay,window.hg[i].config.delayDeviationRange)})}function m(){J.gui.destroy(),i()}var J={},v={},R={};v.datGuiWidth=300,v.folders=[t,{name:"Animations",isOpen:!1,createItems:null,children:[d,r]}],J.config=v,J.initDatGui=e,J.updateForNewPostData=l,J.goHome=h,J.hideMenu=f,J.updateToPreSetConfigs=u,J.filterPosts=w,J.recordOpenChildFolders=c,J.grid=null,J.gui=null,J.categoriesFolder=null,J.allCategories=[],J.categoryData={},window.app=window.app||{},app.parameters=J;var C=0;console.log("parameters module loaded")}(),function(){function e(e){t.grid=e}function n(){}function i(e){e.add(window.hg.ColorWaveJob.config,"period",1,1e4).onChange(function(e){window.hg.ColorWaveJob.config.halfPeriod=e/2}),e.add(window.hg.ColorWaveJob.config,"wavelength",1,4e3).onChange(function(){window.hg.controller.persistentJobs.ColorWaveJob.start(t.grid)}),e.add(window.hg.ColorWaveJob.config,"originX",-500,3e3).onChange(function(){window.hg.controller.persistentJobs.ColorWaveJob.start(t.grid)}),e.add(window.hg.ColorWaveJob.config,"originY",-500,3e3).onChange(function(){window.hg.controller.persistentJobs.ColorWaveJob.start(t.grid)}),e.add(window.hg.ColorWaveJob.config,"deltaHue",0,360),e.add(window.hg.ColorWaveJob.config,"deltaSaturation",0,100),e.add(window.hg.ColorWaveJob.config,"deltaLightness",0,100),e.add(window.hg.ColorWaveJob.config,"opacity",0,1)}function o(e){e.add(window.hg.DisplacementWaveJob.config,"period",1,1e4).onChange(function(e){window.hg.DisplacementWaveJob.config.halfPeriod=e/2}),e.add(window.hg.DisplacementWaveJob.config,"wavelength",1,4e3).onChange(function(){window.hg.controller.persistentJobs.DisplacementWaveJob.start(t.grid)}),e.add(window.hg.DisplacementWaveJob.config,"originX",-500,3e3).onChange(function(){window.hg.controller.persistentJobs.DisplacementWaveJob.start(t.grid)}),e.add(window.hg.DisplacementWaveJob.config,"originY",-500,3e3).onChange(function(){window.hg.controller.persistentJobs.DisplacementWaveJob.start(t.grid)}),e.add(window.hg.DisplacementWaveJob.config,"tileDeltaX",-300,300),e.add(window.hg.DisplacementWaveJob.config,"tileDeltaY",-300,300)}var a={};a.folders=[{name:"Persistent",isOpen:!1,createItems:null,children:[{name:"Color Shift",isOpen:!1,createItems:n},{name:"Color Wave",isOpen:!1,createItems:i},{name:"Displacement Wave",isOpen:!1,createItems:o}]}];var t={};t.init=e,t.config=a,window.app=window.app||{},app.persistentParams=t,console.log("persistent-animation-parameters module loaded")}(),function(){function e(e){w.grid=e}function n(e){var n={triggerOpenPost:window.hg.controller.transientJobs.OpenPostJob.createRandom.bind(window.hg.controller,w.grid),triggerClosePost:window.hg.controller.transientJobs.ClosePostJob.createRandom.bind(window.hg.controller,w.grid),triggerTogglePost:function(){w.grid.isPostOpen?n.triggerClosePost():n.triggerOpenPost()}};e.add(n,"triggerTogglePost"),e.add(window.hg.OpenPostJob.config,"duration",10,1e4).name("Open Duration"),e.add(window.hg.ClosePostJob.config,"duration",10,1e4).name("Close Duration"),e.add(window.hg.OpenPostJob.config,"expandedDisplacementTileCount",0,5).step(1)}function i(e){function n(){window.hg.controller.transientJobs.DisplacementRadiateJob.toggleRecurrence(w.grid,window.hg.DisplacementRadiateJob.config.isRecurring,window.hg.DisplacementRadiateJob.config.avgDelay,window.hg.DisplacementRadiateJob.config.delayDeviationRange)}var i={triggerDisplacement:window.hg.controller.transientJobs.DisplacementRadiateJob.createRandom.bind(window.hg.controller,w.grid)};e.add(i,"triggerDisplacement"),e.add(window.hg.DisplacementRadiateJob.config,"duration",10,1e4),e.add(window.hg.DisplacementRadiateJob.config,"isRecurring").onChange(n),e.add(window.hg.DisplacementRadiateJob.config,"avgDelay",10,1e4).onChange(n),e.add(window.hg.DisplacementRadiateJob.config,"delayDeviationRange",0,1e4).onChange(n)}function o(e){function n(){window.hg.controller.transientJobs.HighlightHoverJob.toggleRecurrence(w.grid,window.hg.HighlightHoverJob.config.isRecurring,window.hg.HighlightHoverJob.config.avgDelay,window.hg.HighlightHoverJob.config.delayDeviationRange)}var i,o;o=[],o.deltaColor=window.hg.util.hslToHsv({h:window.hg.HighlightHoverJob.config.deltaHue,s:.01*window.hg.HighlightHoverJob.config.deltaSaturation,l:.01*window.hg.HighlightHoverJob.config.deltaLightness}),i={triggerHighlightHover:window.hg.controller.transientJobs.HighlightHoverJob.createRandom.bind(window.hg.controller,w.grid)},e.add(i,"triggerHighlightHover"),e.add(window.hg.HighlightHoverJob.config,"duration",10,1e4),e.addColor(o,"deltaColor").onChange(function(){var e=window.hg.util.hsvToHsl(o.deltaColor);window.hg.HighlightHoverJob.config.deltaHue=e.h,window.hg.HighlightHoverJob.config.deltaSaturation=100*e.s,window.hg.HighlightHoverJob.config.deltaLightness=100*e.l}),e.add(window.hg.HighlightHoverJob.config,"opacity",0,1),e.add(window.hg.HighlightHoverJob.config,"isRecurring").onChange(n),e.add(window.hg.HighlightHoverJob.config,"avgDelay",10,2e3).onChange(n),e.add(window.hg.HighlightHoverJob.config,"delayDeviationRange",0,2e3).onChange(n)}function a(e){function n(){window.hg.controller.transientJobs.HighlightRadiateJob.toggleRecurrence(w.grid,window.hg.HighlightRadiateJob.config.isRecurring,window.hg.HighlightRadiateJob.config.avgDelay,window.hg.HighlightRadiateJob.config.delayDeviationRange)}var i,o;o=[],o.deltaColor=window.hg.util.hslToHsv({h:window.hg.HighlightRadiateJob.config.deltaHue,s:.01*window.hg.HighlightRadiateJob.config.deltaSaturation,l:.01*window.hg.HighlightRadiateJob.config.deltaLightness}),i={triggerHighlightRadiate:window.hg.controller.transientJobs.HighlightRadiateJob.createRandom.bind(window.hg.controller,w.grid)},e.add(i,"triggerHighlightRadiate"),e.add(window.hg.HighlightRadiateJob.config,"shimmerSpeed",.1,10),e.add(window.hg.HighlightRadiateJob.config,"shimmerWaveWidth",1,2e3),e.add(window.hg.HighlightRadiateJob.config,"duration",10,1e4),e.addColor(o,"deltaColor").onChange(function(){var e=window.hg.util.hsvToHsl(o.deltaColor);window.hg.HighlightRadiateJob.config.deltaHue=e.h,window.hg.HighlightRadiateJob.config.deltaSaturation=100*e.s,window.hg.HighlightRadiateJob.config.deltaLightness=100*e.l}),e.add(window.hg.HighlightRadiateJob.config,"opacity",0,1),e.add(window.hg.HighlightRadiateJob.config,"isRecurring").onChange(n),e.add(window.hg.HighlightRadiateJob.config,"avgDelay",10,1e4).onChange(n),e.add(window.hg.HighlightRadiateJob.config,"delayDeviationRange",0,1e4).onChange(n)}function t(e){function n(){window.hg.controller.transientJobs.IntraTileRadiateJob.toggleRecurrence(w.grid,window.hg.IntraTileRadiateJob.config.isRecurring,window.hg.IntraTileRadiateJob.config.avgDelay,window.hg.IntraTileRadiateJob.config.delayDeviationRange)}var i={triggerIntraTileRadiate:window.hg.controller.transientJobs.IntraTileRadiateJob.createRandom.bind(window.hg.controller,w.grid)};e.add(i,"triggerIntraTileRadiate"),e.add(window.hg.IntraTileRadiateJob.config,"duration",10,1e4),e.add(window.hg.IntraTileRadiateJob.config,"isRecurring").onChange(n),e.add(window.hg.IntraTileRadiateJob.config,"avgDelay",10,1e4).onChange(n),e.add(window.hg.IntraTileRadiateJob.config,"delayDeviationRange",0,1e4).onChange(n)}function d(e){function n(){window.hg.controller.transientJobs.LineJob.toggleRecurrence(w.grid,window.hg.LineJob.config.isRecurring,window.hg.LineJob.config.avgDelay,window.hg.LineJob.config.delayDeviationRange)}var i={triggerLine:window.hg.controller.transientJobs.LineJob.createRandom.bind(window.hg.controller,w.grid)};e.add(i,"triggerLine"),e.add(window.hg.LineJob.config,"duration",100,2e4),e.add(window.hg.LineJob.config,"lineWidth",1,100),e.add(window.hg.LineJob.config,"lineLength",10,6e4),e.add(window.hg.LineJob.config,"lineSidePeriod",5,500),e.add(window.hg.LineJob.config,"startSaturation",0,100),e.add(window.hg.LineJob.config,"startLightness",0,100),e.add(window.hg.LineJob.config,"startOpacity",0,1),e.add(window.hg.LineJob.config,"endSaturation",0,100),e.add(window.hg.LineJob.config,"endLightness",0,100),e.add(window.hg.LineJob.config,"endOpacity",0,1),e.add(window.hg.LineJob.config,"sameDirectionProb",0,1),e.add(window.hg.LineJob.config,"isBlurOn"),e.add(window.hg.LineJob.config,"blurStdDeviation",0,80),e.add(window.hg.LineJob.config,"isRecurring").onChange(n),e.add(window.hg.LineJob.config,"avgDelay",10,1e4).onChange(n),e.add(window.hg.LineJob.config,"delayDeviationRange",0,1e4).onChange(n)}function r(e){function n(){window.hg.controller.transientJobs.LinesRadiateJob.toggleRecurrence(w.grid,window.hg.LinesRadiateJob.config.isRecurring,window.hg.LinesRadiateJob.config.avgDelay,window.hg.LinesRadiateJob.config.delayDeviationRange)}var i={triggerLinesRadiate:window.hg.controller.transientJobs.LinesRadiateJob.createRandom.bind(window.hg.controller,w.grid)};e.add(i,"triggerLinesRadiate"),e.add(window.hg.LinesRadiateJob.config,"duration",100,2e4),e.add(window.hg.LinesRadiateJob.config,"lineWidth",1,100),e.add(window.hg.LinesRadiateJob.config,"lineLength",10,6e4),e.add(window.hg.LinesRadiateJob.config,"lineSidePeriod",5,500),e.add(window.hg.LinesRadiateJob.config,"startSaturation",0,100),e.add(window.hg.LinesRadiateJob.config,"startLightness",0,100),e.add(window.hg.LinesRadiateJob.config,"startOpacity",0,1),e.add(window.hg.LinesRadiateJob.config,"endSaturation",0,100),e.add(window.hg.LinesRadiateJob.config,"endLightness",0,100),e.add(window.hg.LinesRadiateJob.config,"endOpacity",0,1),e.add(window.hg.LinesRadiateJob.config,"sameDirectionProb",0,1),e.add(window.hg.LinesRadiateJob.config,"isBlurOn"),e.add(window.hg.LinesRadiateJob.config,"blurStdDeviation",0,80),e.add(window.hg.LinesRadiateJob.config,"isRecurring").onChange(n),e.add(window.hg.LinesRadiateJob.config,"avgDelay",10,1e4).onChange(n),e.add(window.hg.LinesRadiateJob.config,"delayDeviationRange",0,1e4).onChange(n)}function g(e){function n(){window.hg.controller.transientJobs.PanJob.toggleRecurrence(w.grid,window.hg.PanJob.config.isRecurring,window.hg.PanJob.config.avgDelay,window.hg.PanJob.config.delayDeviationRange)}var i={triggerPan:window.hg.controller.transientJobs.PanJob.createRandom.bind(window.hg.controller,w.grid)};e.add(i,"triggerPan"),e.add(window.hg.PanJob.config,"duration",10,1e4),e.add(window.hg.PanJob.config,"isRecurring").onChange(n),e.add(window.hg.PanJob.config,"avgDelay",10,1e4).onChange(n),e.add(window.hg.PanJob.config,"delayDeviationRange",0,1e4).onChange(n)}function c(e){function n(){window.hg.controller.transientJobs.SpreadJob.toggleRecurrence(w.grid,window.hg.SpreadJob.config.isRecurring,window.hg.SpreadJob.config.avgDelay,window.hg.SpreadJob.config.delayDeviationRange)}var i={triggerSpread:window.hg.controller.transientJobs.SpreadJob.createRandom.bind(window.hg.controller,w.grid)};e.add(i,"triggerSpread"),e.add(window.hg.SpreadJob.config,"duration",10,1e4),e.add(window.hg.SpreadJob.config,"displacementRatio",.01,1),e.add(window.hg.SpreadJob.config,"isRecurring").onChange(n),e.add(window.hg.SpreadJob.config,"avgDelay",10,1e4).onChange(n),e.add(window.hg.SpreadJob.config,"delayDeviationRange",0,1e4).onChange(n)}function l(e){function n(){window.hg.controller.transientJobs.TileBorderJob.toggleRecurrence(w.grid,window.hg.TileBorderJob.config.isRecurring,window.hg.TileBorderJob.config.avgDelay,window.hg.TileBorderJob.config.delayDeviationRange)}var i={triggerTileBorder:window.hg.controller.transientJobs.TileBorderJob.createRandom.bind(window.hg.controller,w.grid)};e.add(i,"triggerTileBorder"),e.add(window.hg.TileBorderJob.config,"duration",10,1e4),e.add(window.hg.TileBorderJob.config,"isRecurring").onChange(n),e.add(window.hg.TileBorderJob.config,"avgDelay",10,1e4).onChange(n),e.add(window.hg.TileBorderJob.config,"delayDeviationRange",0,1e4).onChange(n)}var s={};s.folders=[{name:"Transient",isOpen:!1,createItems:null,children:[{name:"Open/Close Post",isOpen:!1,createItems:n},{name:"Displacement Radiate",isOpen:!1,createItems:i},{name:"Hover Highlight",isOpen:!1,createItems:o},{name:"Radiating Highlight",isOpen:!1,createItems:a},{name:"Intra-Tile Radiate",isOpen:!1,createItems:t},{name:"Random Lines",isOpen:!1,createItems:d},{name:"Radiating Lines",isOpen:!1,createItems:r},{name:"Pan",isOpen:!1,createItems:g},{name:"Spread",isOpen:!1,createItems:c},{name:"Tile Border",isOpen:!1,createItems:l}]}];var w={};w.init=e,w.config=s,window.app=window.app||{},app.transientParams=w,console.log("transient-animation-parameters module loaded")}();
/**
 * dat-gui JavaScript Controller Library
 * http://code.google.com/p/dat-gui
 *
 * Copyright 2011 Data Arts Team, Google Creative Lab
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 */
var dat=dat||{};dat.gui=dat.gui||{};dat.utils=dat.utils||{};dat.controllers=dat.controllers||{};dat.dom=dat.dom||{};dat.color=dat.color||{};dat.utils.css=function(){return{load:function(e,a){var a=a||document,c=a.createElement("link");c.type="text/css";c.rel="stylesheet";c.href=e;a.getElementsByTagName("head")[0].appendChild(c)},inject:function(e,a){var a=a||document,c=document.createElement("style");c.type="text/css";c.innerHTML=e;a.getElementsByTagName("head")[0].appendChild(c)}}}();
dat.utils.common=function(){var e=Array.prototype.forEach,a=Array.prototype.slice;return{BREAK:{},extend:function(c){this.each(a.call(arguments,1),function(a){for(var f in a)this.isUndefined(a[f])||(c[f]=a[f])},this);return c},defaults:function(c){this.each(a.call(arguments,1),function(a){for(var f in a)this.isUndefined(c[f])&&(c[f]=a[f])},this);return c},compose:function(){var c=a.call(arguments);return function(){for(var d=a.call(arguments),f=c.length-1;f>=0;f--)d=[c[f].apply(this,d)];return d[0]}},
each:function(a,d,f){if(e&&a.forEach===e)a.forEach(d,f);else if(a.length===a.length+0)for(var b=0,n=a.length;b<n;b++){if(b in a&&d.call(f,a[b],b)===this.BREAK)break}else for(b in a)if(d.call(f,a[b],b)===this.BREAK)break},defer:function(a){setTimeout(a,0)},toArray:function(c){return c.toArray?c.toArray():a.call(c)},isUndefined:function(a){return a===void 0},isNull:function(a){return a===null},isNaN:function(a){return a!==a},isArray:Array.isArray||function(a){return a.constructor===Array},isObject:function(a){return a===
Object(a)},isNumber:function(a){return a===a+0},isString:function(a){return a===a+""},isBoolean:function(a){return a===false||a===true},isFunction:function(a){return Object.prototype.toString.call(a)==="[object Function]"}}}();
dat.controllers.Controller=function(e){var a=function(a,d){this.initialValue=a[d];this.domElement=document.createElement("div");this.object=a;this.property=d;this.__onFinishChange=this.__onChange=void 0};e.extend(a.prototype,{onChange:function(a){this.__onChange=a;return this},onFinishChange:function(a){this.__onFinishChange=a;return this},setValue:function(a){this.object[this.property]=a;this.__onChange&&this.__onChange.call(this,a);this.updateDisplay();return this},getValue:function(){return this.object[this.property]},
updateDisplay:function(){return this},isModified:function(){return this.initialValue!==this.getValue()}});return a}(dat.utils.common);
dat.dom.dom=function(e){function a(b){if(b==="0"||e.isUndefined(b))return 0;b=b.match(d);return!e.isNull(b)?parseFloat(b[1]):0}var c={};e.each({HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},function(b,a){e.each(b,function(b){c[b]=a})});var d=/(\d+(\.\d+)?)px/,f={makeSelectable:function(b,a){if(!(b===void 0||b.style===void 0))b.onselectstart=a?function(){return false}:function(){},b.style.MozUserSelect=a?"auto":"none",b.style.KhtmlUserSelect=
a?"auto":"none",b.unselectable=a?"on":"off"},makeFullscreen:function(b,a,d){e.isUndefined(a)&&(a=true);e.isUndefined(d)&&(d=true);b.style.position="absolute";if(a)b.style.left=0,b.style.right=0;if(d)b.style.top=0,b.style.bottom=0},fakeEvent:function(b,a,d,f){var d=d||{},m=c[a];if(!m)throw Error("Event type "+a+" not supported.");var l=document.createEvent(m);switch(m){case "MouseEvents":l.initMouseEvent(a,d.bubbles||false,d.cancelable||true,window,d.clickCount||1,0,0,d.x||d.clientX||0,d.y||d.clientY||
0,false,false,false,false,0,null);break;case "KeyboardEvents":m=l.initKeyboardEvent||l.initKeyEvent;e.defaults(d,{cancelable:true,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false,keyCode:void 0,charCode:void 0});m(a,d.bubbles||false,d.cancelable,window,d.ctrlKey,d.altKey,d.shiftKey,d.metaKey,d.keyCode,d.charCode);break;default:l.initEvent(a,d.bubbles||false,d.cancelable||true)}e.defaults(l,f);b.dispatchEvent(l)},bind:function(b,a,d,c){b.addEventListener?b.addEventListener(a,d,c||false):b.attachEvent&&
b.attachEvent("on"+a,d);return f},unbind:function(b,a,d,c){b.removeEventListener?b.removeEventListener(a,d,c||false):b.detachEvent&&b.detachEvent("on"+a,d);return f},addClass:function(b,a){if(b.className===void 0)b.className=a;else if(b.className!==a){var d=b.className.split(/ +/);if(d.indexOf(a)==-1)d.push(a),b.className=d.join(" ").replace(/^\s+/,"").replace(/\s+$/,"")}return f},removeClass:function(b,a){if(a){if(b.className!==void 0)if(b.className===a)b.removeAttribute("class");else{var d=b.className.split(/ +/),
c=d.indexOf(a);if(c!=-1)d.splice(c,1),b.className=d.join(" ")}}else b.className=void 0;return f},hasClass:function(a,d){return RegExp("(?:^|\\s+)"+d+"(?:\\s+|$)").test(a.className)||false},getWidth:function(b){b=getComputedStyle(b);return a(b["border-left-width"])+a(b["border-right-width"])+a(b["padding-left"])+a(b["padding-right"])+a(b.width)},getHeight:function(b){b=getComputedStyle(b);return a(b["border-top-width"])+a(b["border-bottom-width"])+a(b["padding-top"])+a(b["padding-bottom"])+a(b.height)},
getOffset:function(a){var d={left:0,top:0};if(a.offsetParent){do d.left+=a.offsetLeft,d.top+=a.offsetTop;while(a=a.offsetParent)}return d},isActive:function(a){return a===document.activeElement&&(a.type||a.href)}};return f}(dat.utils.common);
dat.controllers.OptionController=function(e,a,c){var d=function(f,b,e){d.superclass.call(this,f,b);var h=this;this.__select=document.createElement("select");if(c.isArray(e)){var j={};c.each(e,function(a){j[a]=a});e=j}c.each(e,function(a,b){var d=document.createElement("option");d.innerHTML=b;d.setAttribute("value",a);h.__select.appendChild(d)});this.updateDisplay();a.bind(this.__select,"change",function(){h.setValue(this.options[this.selectedIndex].value)});this.domElement.appendChild(this.__select)};
d.superclass=e;c.extend(d.prototype,e.prototype,{setValue:function(a){a=d.superclass.prototype.setValue.call(this,a);this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue());return a},updateDisplay:function(){this.__select.value=this.getValue();return d.superclass.prototype.updateDisplay.call(this)}});return d}(dat.controllers.Controller,dat.dom.dom,dat.utils.common);
dat.controllers.NumberController=function(e,a){var c=function(d,f,b){c.superclass.call(this,d,f);b=b||{};this.__min=b.min;this.__max=b.max;this.__step=b.step;d=this.__impliedStep=a.isUndefined(this.__step)?this.initialValue==0?1:Math.pow(10,Math.floor(Math.log(this.initialValue)/Math.LN10))/10:this.__step;d=d.toString();this.__precision=d.indexOf(".")>-1?d.length-d.indexOf(".")-1:0};c.superclass=e;a.extend(c.prototype,e.prototype,{setValue:function(a){if(this.__min!==void 0&&a<this.__min)a=this.__min;
else if(this.__max!==void 0&&a>this.__max)a=this.__max;this.__step!==void 0&&a%this.__step!=0&&(a=Math.round(a/this.__step)*this.__step);return c.superclass.prototype.setValue.call(this,a)},min:function(a){this.__min=a;return this},max:function(a){this.__max=a;return this},step:function(a){this.__step=a;return this}});return c}(dat.controllers.Controller,dat.utils.common);
dat.controllers.NumberControllerBox=function(e,a,c){var d=function(f,b,e){function h(){var a=parseFloat(l.__input.value);c.isNaN(a)||l.setValue(a)}function j(a){var b=o-a.clientY;l.setValue(l.getValue()+b*l.__impliedStep);o=a.clientY}function m(){a.unbind(window,"mousemove",j);a.unbind(window,"mouseup",m)}this.__truncationSuspended=false;d.superclass.call(this,f,b,e);var l=this,o;this.__input=document.createElement("input");this.__input.setAttribute("type","text");a.bind(this.__input,"change",h);
a.bind(this.__input,"blur",function(){h();l.__onFinishChange&&l.__onFinishChange.call(l,l.getValue())});a.bind(this.__input,"mousedown",function(b){a.bind(window,"mousemove",j);a.bind(window,"mouseup",m);o=b.clientY});a.bind(this.__input,"keydown",function(a){if(a.keyCode===13)l.__truncationSuspended=true,this.blur(),l.__truncationSuspended=false});this.updateDisplay();this.domElement.appendChild(this.__input)};d.superclass=e;c.extend(d.prototype,e.prototype,{updateDisplay:function(){var a=this.__input,
b;if(this.__truncationSuspended)b=this.getValue();else{b=this.getValue();var c=Math.pow(10,this.__precision);b=Math.round(b*c)/c}a.value=b;return d.superclass.prototype.updateDisplay.call(this)}});return d}(dat.controllers.NumberController,dat.dom.dom,dat.utils.common);
dat.controllers.NumberControllerSlider=function(e,a,c,d,f){var b=function(d,c,f,e,l){function o(b){b.preventDefault();var d=a.getOffset(g.__background),c=a.getWidth(g.__background);g.setValue(g.__min+(g.__max-g.__min)*((b.clientX-d.left)/(d.left+c-d.left)));return false}function y(){a.unbind(window,"mousemove",o);a.unbind(window,"mouseup",y);g.__onFinishChange&&g.__onFinishChange.call(g,g.getValue())}b.superclass.call(this,d,c,{min:f,max:e,step:l});var g=this;this.__background=document.createElement("div");
this.__foreground=document.createElement("div");a.bind(this.__background,"mousedown",function(b){a.bind(window,"mousemove",o);a.bind(window,"mouseup",y);o(b)});a.addClass(this.__background,"slider");a.addClass(this.__foreground,"slider-fg");this.updateDisplay();this.__background.appendChild(this.__foreground);this.domElement.appendChild(this.__background)};b.superclass=e;b.useDefaultStyles=function(){c.inject(f)};d.extend(b.prototype,e.prototype,{updateDisplay:function(){this.__foreground.style.width=
(this.getValue()-this.__min)/(this.__max-this.__min)*100+"%";return b.superclass.prototype.updateDisplay.call(this)}});return b}(dat.controllers.NumberController,dat.dom.dom,dat.utils.css,dat.utils.common,".slider {\n  box-shadow: inset 0 2px 4px rgba(0,0,0,0.15);\n  height: 1em;\n  border-radius: 1em;\n  background-color: #eee;\n  padding: 0 0.5em;\n  overflow: hidden;\n}\n\n.slider-fg {\n  padding: 1px 0 2px 0;\n  background-color: #aaa;\n  height: 1em;\n  margin-left: -0.5em;\n  padding-right: 0.5em;\n  border-radius: 1em 0 0 1em;\n}\n\n.slider-fg:after {\n  display: inline-block;\n  border-radius: 1em;\n  background-color: #fff;\n  border:  1px solid #aaa;\n  content: '';\n  float: right;\n  margin-right: -1em;\n  margin-top: -1px;\n  height: 0.9em;\n  width: 0.9em;\n}");
dat.controllers.FunctionController=function(e,a,c){var d=function(c,b,e){d.superclass.call(this,c,b);var h=this;this.__button=document.createElement("div");this.__button.innerHTML=e===void 0?"Fire":e;a.bind(this.__button,"click",function(a){a.preventDefault();h.fire();return false});a.addClass(this.__button,"button");this.domElement.appendChild(this.__button)};d.superclass=e;c.extend(d.prototype,e.prototype,{fire:function(){this.__onChange&&this.__onChange.call(this);this.__onFinishChange&&this.__onFinishChange.call(this,
this.getValue());this.getValue().call(this.object)}});return d}(dat.controllers.Controller,dat.dom.dom,dat.utils.common);
dat.controllers.BooleanController=function(e,a,c){var d=function(c,b){d.superclass.call(this,c,b);var e=this;this.__prev=this.getValue();this.__checkbox=document.createElement("input");this.__checkbox.setAttribute("type","checkbox");a.bind(this.__checkbox,"change",function(){e.setValue(!e.__prev)},false);this.domElement.appendChild(this.__checkbox);this.updateDisplay()};d.superclass=e;c.extend(d.prototype,e.prototype,{setValue:function(a){a=d.superclass.prototype.setValue.call(this,a);this.__onFinishChange&&
this.__onFinishChange.call(this,this.getValue());this.__prev=this.getValue();return a},updateDisplay:function(){this.getValue()===true?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=true):this.__checkbox.checked=false;return d.superclass.prototype.updateDisplay.call(this)}});return d}(dat.controllers.Controller,dat.dom.dom,dat.utils.common);
dat.color.toString=function(e){return function(a){if(a.a==1||e.isUndefined(a.a)){for(a=a.hex.toString(16);a.length<6;)a="0"+a;return"#"+a}else return"rgba("+Math.round(a.r)+","+Math.round(a.g)+","+Math.round(a.b)+","+a.a+")"}}(dat.utils.common);
dat.color.interpret=function(e,a){var c,d,f=[{litmus:a.isString,conversions:{THREE_CHAR_HEX:{read:function(a){a=a.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return a===null?false:{space:"HEX",hex:parseInt("0x"+a[1].toString()+a[1].toString()+a[2].toString()+a[2].toString()+a[3].toString()+a[3].toString())}},write:e},SIX_CHAR_HEX:{read:function(a){a=a.match(/^#([A-F0-9]{6})$/i);return a===null?false:{space:"HEX",hex:parseInt("0x"+a[1].toString())}},write:e},CSS_RGB:{read:function(a){a=a.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);
return a===null?false:{space:"RGB",r:parseFloat(a[1]),g:parseFloat(a[2]),b:parseFloat(a[3])}},write:e},CSS_RGBA:{read:function(a){a=a.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\,\s*(.+)\s*\)/);return a===null?false:{space:"RGB",r:parseFloat(a[1]),g:parseFloat(a[2]),b:parseFloat(a[3]),a:parseFloat(a[4])}},write:e}}},{litmus:a.isNumber,conversions:{HEX:{read:function(a){return{space:"HEX",hex:a,conversionName:"HEX"}},write:function(a){return a.hex}}}},{litmus:a.isArray,conversions:{RGB_ARRAY:{read:function(a){return a.length!=
3?false:{space:"RGB",r:a[0],g:a[1],b:a[2]}},write:function(a){return[a.r,a.g,a.b]}},RGBA_ARRAY:{read:function(a){return a.length!=4?false:{space:"RGB",r:a[0],g:a[1],b:a[2],a:a[3]}},write:function(a){return[a.r,a.g,a.b,a.a]}}}},{litmus:a.isObject,conversions:{RGBA_OBJ:{read:function(b){return a.isNumber(b.r)&&a.isNumber(b.g)&&a.isNumber(b.b)&&a.isNumber(b.a)?{space:"RGB",r:b.r,g:b.g,b:b.b,a:b.a}:false},write:function(a){return{r:a.r,g:a.g,b:a.b,a:a.a}}},RGB_OBJ:{read:function(b){return a.isNumber(b.r)&&
a.isNumber(b.g)&&a.isNumber(b.b)?{space:"RGB",r:b.r,g:b.g,b:b.b}:false},write:function(a){return{r:a.r,g:a.g,b:a.b}}},HSVA_OBJ:{read:function(b){return a.isNumber(b.h)&&a.isNumber(b.s)&&a.isNumber(b.v)&&a.isNumber(b.a)?{space:"HSV",h:b.h,s:b.s,v:b.v,a:b.a}:false},write:function(a){return{h:a.h,s:a.s,v:a.v,a:a.a}}},HSV_OBJ:{read:function(b){return a.isNumber(b.h)&&a.isNumber(b.s)&&a.isNumber(b.v)?{space:"HSV",h:b.h,s:b.s,v:b.v}:false},write:function(a){return{h:a.h,s:a.s,v:a.v}}}}}];return function(){d=
false;var b=arguments.length>1?a.toArray(arguments):arguments[0];a.each(f,function(e){if(e.litmus(b))return a.each(e.conversions,function(e,f){c=e.read(b);if(d===false&&c!==false)return d=c,c.conversionName=f,c.conversion=e,a.BREAK}),a.BREAK});return d}}(dat.color.toString,dat.utils.common);
dat.GUI=dat.gui.GUI=function(e,a,c,d,f,b,n,h,j,m,l,o,y,g,i){function q(a,b,r,c){if(b[r]===void 0)throw Error("Object "+b+' has no property "'+r+'"');c.color?b=new l(b,r):(b=[b,r].concat(c.factoryArgs),b=d.apply(a,b));if(c.before instanceof f)c.before=c.before.__li;t(a,b);g.addClass(b.domElement,"c");r=document.createElement("span");g.addClass(r,"property-name");r.innerHTML=b.property;var e=document.createElement("div");e.appendChild(r);e.appendChild(b.domElement);c=s(a,e,c.before);g.addClass(c,k.CLASS_CONTROLLER_ROW);
g.addClass(c,typeof b.getValue());p(a,c,b);a.__controllers.push(b);return b}function s(a,b,d){var c=document.createElement("li");b&&c.appendChild(b);d?a.__ul.insertBefore(c,params.before):a.__ul.appendChild(c);a.onResize();return c}function p(a,d,c){c.__li=d;c.__gui=a;i.extend(c,{options:function(b){if(arguments.length>1)return c.remove(),q(a,c.object,c.property,{before:c.__li.nextElementSibling,factoryArgs:[i.toArray(arguments)]});if(i.isArray(b)||i.isObject(b))return c.remove(),q(a,c.object,c.property,
{before:c.__li.nextElementSibling,factoryArgs:[b]})},name:function(a){c.__li.firstElementChild.firstElementChild.innerHTML=a;return c},listen:function(){c.__gui.listen(c);return c},remove:function(){c.__gui.remove(c);return c}});if(c instanceof j){var e=new h(c.object,c.property,{min:c.__min,max:c.__max,step:c.__step});i.each(["updateDisplay","onChange","onFinishChange"],function(a){var b=c[a],H=e[a];c[a]=e[a]=function(){var a=Array.prototype.slice.call(arguments);b.apply(c,a);return H.apply(e,a)}});
g.addClass(d,"has-slider");c.domElement.insertBefore(e.domElement,c.domElement.firstElementChild)}else if(c instanceof h){var f=function(b){return i.isNumber(c.__min)&&i.isNumber(c.__max)?(c.remove(),q(a,c.object,c.property,{before:c.__li.nextElementSibling,factoryArgs:[c.__min,c.__max,c.__step]})):b};c.min=i.compose(f,c.min);c.max=i.compose(f,c.max)}else if(c instanceof b)g.bind(d,"click",function(){g.fakeEvent(c.__checkbox,"click")}),g.bind(c.__checkbox,"click",function(a){a.stopPropagation()});
else if(c instanceof n)g.bind(d,"click",function(){g.fakeEvent(c.__button,"click")}),g.bind(d,"mouseover",function(){g.addClass(c.__button,"hover")}),g.bind(d,"mouseout",function(){g.removeClass(c.__button,"hover")});else if(c instanceof l)g.addClass(d,"color"),c.updateDisplay=i.compose(function(a){d.style.borderLeftColor=c.__color.toString();return a},c.updateDisplay),c.updateDisplay();c.setValue=i.compose(function(b){a.getRoot().__preset_select&&c.isModified()&&B(a.getRoot(),true);return b},c.setValue)}
function t(a,b){var c=a.getRoot(),d=c.__rememberedObjects.indexOf(b.object);if(d!=-1){var e=c.__rememberedObjectIndecesToControllers[d];e===void 0&&(e={},c.__rememberedObjectIndecesToControllers[d]=e);e[b.property]=b;if(c.load&&c.load.remembered){c=c.load.remembered;if(c[a.preset])c=c[a.preset];else if(c[w])c=c[w];else return;if(c[d]&&c[d][b.property]!==void 0)d=c[d][b.property],b.initialValue=d,b.setValue(d)}}}function I(a){var b=a.__save_row=document.createElement("li");g.addClass(a.domElement,
"has-save");a.__ul.insertBefore(b,a.__ul.firstChild);g.addClass(b,"save-row");var c=document.createElement("span");c.innerHTML="&nbsp;";g.addClass(c,"button gears");var d=document.createElement("span");d.innerHTML="Save";g.addClass(d,"button");g.addClass(d,"save");var e=document.createElement("span");e.innerHTML="New";g.addClass(e,"button");g.addClass(e,"save-as");var f=document.createElement("span");f.innerHTML="Revert";g.addClass(f,"button");g.addClass(f,"revert");var m=a.__preset_select=document.createElement("select");
a.load&&a.load.remembered?i.each(a.load.remembered,function(b,c){C(a,c,c==a.preset)}):C(a,w,false);g.bind(m,"change",function(){for(var b=0;b<a.__preset_select.length;b++)a.__preset_select[b].innerHTML=a.__preset_select[b].value;a.preset=this.value});b.appendChild(m);b.appendChild(c);b.appendChild(d);b.appendChild(e);b.appendChild(f);if(u){var b=document.getElementById("dg-save-locally"),l=document.getElementById("dg-local-explain");b.style.display="block";b=document.getElementById("dg-local-storage");
localStorage.getItem(document.location.href+".isLocal")==="true"&&b.setAttribute("checked","checked");var o=function(){l.style.display=a.useLocalStorage?"block":"none"};o();g.bind(b,"change",function(){a.useLocalStorage=!a.useLocalStorage;o()})}var h=document.getElementById("dg-new-constructor");g.bind(h,"keydown",function(a){a.metaKey&&(a.which===67||a.keyCode==67)&&x.hide()});g.bind(c,"click",function(){h.innerHTML=JSON.stringify(a.getSaveObject(),void 0,2);x.show();h.focus();h.select()});g.bind(d,
"click",function(){a.save()});g.bind(e,"click",function(){var b=prompt("Enter a new preset name.");b&&a.saveAs(b)});g.bind(f,"click",function(){a.revert()})}function J(a){function b(f){f.preventDefault();e=f.clientX;g.addClass(a.__closeButton,k.CLASS_DRAG);g.bind(window,"mousemove",c);g.bind(window,"mouseup",d);return false}function c(b){b.preventDefault();a.width+=e-b.clientX;a.onResize();e=b.clientX;return false}function d(){g.removeClass(a.__closeButton,k.CLASS_DRAG);g.unbind(window,"mousemove",
c);g.unbind(window,"mouseup",d)}a.__resize_handle=document.createElement("div");i.extend(a.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"});var e;g.bind(a.__resize_handle,"mousedown",b);g.bind(a.__closeButton,"mousedown",b);a.domElement.insertBefore(a.__resize_handle,a.domElement.firstElementChild)}function D(a,b){a.domElement.style.width=b+"px";if(a.__save_row&&a.autoPlace)a.__save_row.style.width=b+"px";if(a.__closeButton)a.__closeButton.style.width=
b+"px"}function z(a,b){var c={};i.each(a.__rememberedObjects,function(d,e){var f={};i.each(a.__rememberedObjectIndecesToControllers[e],function(a,c){f[c]=b?a.initialValue:a.getValue()});c[e]=f});return c}function C(a,b,c){var d=document.createElement("option");d.innerHTML=b;d.value=b;a.__preset_select.appendChild(d);if(c)a.__preset_select.selectedIndex=a.__preset_select.length-1}function B(a,b){var c=a.__preset_select[a.__preset_select.selectedIndex];c.innerHTML=b?c.value+"*":c.value}function E(a){a.length!=
0&&o(function(){E(a)});i.each(a,function(a){a.updateDisplay()})}e.inject(c);var w="Default",u;try{u="localStorage"in window&&window.localStorage!==null}catch(K){u=false}var x,F=true,v,A=false,G=[],k=function(a){function b(){localStorage.setItem(document.location.href+".gui",JSON.stringify(d.getSaveObject()))}function c(){var a=d.getRoot();a.width+=1;i.defer(function(){a.width-=1})}var d=this;this.domElement=document.createElement("div");this.__ul=document.createElement("ul");this.domElement.appendChild(this.__ul);
g.addClass(this.domElement,"dg");this.__folders={};this.__controllers=[];this.__rememberedObjects=[];this.__rememberedObjectIndecesToControllers=[];this.__listening=[];a=a||{};a=i.defaults(a,{autoPlace:true,width:k.DEFAULT_WIDTH});a=i.defaults(a,{resizable:a.autoPlace,hideable:a.autoPlace});if(i.isUndefined(a.load))a.load={preset:w};else if(a.preset)a.load.preset=a.preset;i.isUndefined(a.parent)&&a.hideable&&G.push(this);a.resizable=i.isUndefined(a.parent)&&a.resizable;if(a.autoPlace&&i.isUndefined(a.scrollable))a.scrollable=
true;var e=u&&localStorage.getItem(document.location.href+".isLocal")==="true";Object.defineProperties(this,{parent:{get:function(){return a.parent}},scrollable:{get:function(){return a.scrollable}},autoPlace:{get:function(){return a.autoPlace}},preset:{get:function(){return d.parent?d.getRoot().preset:a.load.preset},set:function(b){d.parent?d.getRoot().preset=b:a.load.preset=b;for(b=0;b<this.__preset_select.length;b++)if(this.__preset_select[b].value==this.preset)this.__preset_select.selectedIndex=
b;d.revert()}},width:{get:function(){return a.width},set:function(b){a.width=b;D(d,b)}},name:{get:function(){return a.name},set:function(b){a.name=b;if(m)m.innerHTML=a.name}},closed:{get:function(){return a.closed},set:function(b){a.closed=b;a.closed?g.addClass(d.__ul,k.CLASS_CLOSED):g.removeClass(d.__ul,k.CLASS_CLOSED);this.onResize();if(d.__closeButton)d.__closeButton.innerHTML=b?k.TEXT_OPEN:k.TEXT_CLOSED}},load:{get:function(){return a.load}},useLocalStorage:{get:function(){return e},set:function(a){u&&
((e=a)?g.bind(window,"unload",b):g.unbind(window,"unload",b),localStorage.setItem(document.location.href+".isLocal",a))}}});if(i.isUndefined(a.parent)){a.closed=false;g.addClass(this.domElement,k.CLASS_MAIN);g.makeSelectable(this.domElement,false);if(u&&e){d.useLocalStorage=true;var f=localStorage.getItem(document.location.href+".gui");if(f)a.load=JSON.parse(f)}this.__closeButton=document.createElement("div");this.__closeButton.innerHTML=k.TEXT_CLOSED;g.addClass(this.__closeButton,k.CLASS_CLOSE_BUTTON);
this.domElement.appendChild(this.__closeButton);g.bind(this.__closeButton,"click",function(){d.closed=!d.closed})}else{if(a.closed===void 0)a.closed=true;var m=document.createTextNode(a.name);g.addClass(m,"controller-name");f=s(d,m);g.addClass(this.__ul,k.CLASS_CLOSED);g.addClass(f,"title");g.bind(f,"click",function(a){a.preventDefault();d.closed=!d.closed;return false});if(!a.closed)this.closed=false}a.autoPlace&&(i.isUndefined(a.parent)&&(F&&(v=document.createElement("div"),g.addClass(v,"dg"),g.addClass(v,
k.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(v),F=false),v.appendChild(this.domElement),g.addClass(this.domElement,k.CLASS_AUTO_PLACE)),this.parent||D(d,a.width));g.bind(window,"resize",function(){d.onResize()});g.bind(this.__ul,"webkitTransitionEnd",function(){d.onResize()});g.bind(this.__ul,"transitionend",function(){d.onResize()});g.bind(this.__ul,"oTransitionEnd",function(){d.onResize()});this.onResize();a.resizable&&J(this);d.getRoot();a.parent||c()};k.toggleHide=function(){A=!A;i.each(G,
function(a){a.domElement.style.zIndex=A?-999:999;a.domElement.style.opacity=A?0:1})};k.CLASS_AUTO_PLACE="a";k.CLASS_AUTO_PLACE_CONTAINER="ac";k.CLASS_MAIN="main";k.CLASS_CONTROLLER_ROW="cr";k.CLASS_TOO_TALL="taller-than-window";k.CLASS_CLOSED="closed";k.CLASS_CLOSE_BUTTON="close-button";k.CLASS_DRAG="drag";k.DEFAULT_WIDTH=245;k.TEXT_CLOSED="Close Controls";k.TEXT_OPEN="Open Controls";g.bind(window,"keydown",function(a){document.activeElement.type!=="text"&&(a.which===72||a.keyCode==72)&&k.toggleHide()},
false);i.extend(k.prototype,{add:function(a,b){return q(this,a,b,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(a,b){return q(this,a,b,{color:true})},remove:function(a){this.__ul.removeChild(a.__li);this.__controllers.slice(this.__controllers.indexOf(a),1);var b=this;i.defer(function(){b.onResize()})},destroy:function(){this.autoPlace&&v.removeChild(this.domElement)},addFolder:function(a){if(this.__folders[a]!==void 0)throw Error('You already have a folder in this GUI by the name "'+
a+'"');var b={name:a,parent:this};b.autoPlace=this.autoPlace;if(this.load&&this.load.folders&&this.load.folders[a])b.closed=this.load.folders[a].closed,b.load=this.load.folders[a];b=new k(b);this.__folders[a]=b;a=s(this,b.domElement);g.addClass(a,"folder");return b},open:function(){this.closed=false},close:function(){this.closed=true},onResize:function(){var a=this.getRoot();if(a.scrollable){var b=g.getOffset(a.__ul).top,c=0;i.each(a.__ul.childNodes,function(b){a.autoPlace&&b===a.__save_row||(c+=
g.getHeight(b))});window.innerHeight-b-20<c?(g.addClass(a.domElement,k.CLASS_TOO_TALL),a.__ul.style.height=window.innerHeight-b-20+"px"):(g.removeClass(a.domElement,k.CLASS_TOO_TALL),a.__ul.style.height="auto")}a.__resize_handle&&i.defer(function(){a.__resize_handle.style.height=a.__ul.offsetHeight+"px"});if(a.__closeButton)a.__closeButton.style.width=a.width+"px"},remember:function(){if(i.isUndefined(x))x=new y,x.domElement.innerHTML=a;if(this.parent)throw Error("You can only call remember on a top level GUI.");
var b=this;i.each(Array.prototype.slice.call(arguments),function(a){b.__rememberedObjects.length==0&&I(b);b.__rememberedObjects.indexOf(a)==-1&&b.__rememberedObjects.push(a)});this.autoPlace&&D(this,this.width)},getRoot:function(){for(var a=this;a.parent;)a=a.parent;return a},getSaveObject:function(){var a=this.load;a.closed=this.closed;if(this.__rememberedObjects.length>0){a.preset=this.preset;if(!a.remembered)a.remembered={};a.remembered[this.preset]=z(this)}a.folders={};i.each(this.__folders,function(b,
c){a.folders[c]=b.getSaveObject()});return a},save:function(){if(!this.load.remembered)this.load.remembered={};this.load.remembered[this.preset]=z(this);B(this,false)},saveAs:function(a){if(!this.load.remembered)this.load.remembered={},this.load.remembered[w]=z(this,true);this.load.remembered[a]=z(this);this.preset=a;C(this,a,true)},revert:function(a){i.each(this.__controllers,function(b){this.getRoot().load.remembered?t(a||this.getRoot(),b):b.setValue(b.initialValue)},this);i.each(this.__folders,
function(a){a.revert(a)});a||B(this.getRoot(),false)},listen:function(a){var b=this.__listening.length==0;this.__listening.push(a);b&&E(this.__listening)}});return k}(dat.utils.css,'<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n      \n    </div>\n    \n  </div>\n\n</div>',
".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity 0.1s linear;-o-transition:opacity 0.1s linear;-moz-transition:opacity 0.1s linear;transition:opacity 0.1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity 0.1s linear;-o-transition:opacity 0.1s linear;-moz-transition:opacity 0.1s linear;transition:opacity 0.1s linear;border:0;position:absolute;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-x:hidden}.dg.a.has-save ul{margin-top:27px}.dg.a.has-save ul.closed{margin-top:0}.dg.a .save-row{position:fixed;top:0;z-index:1002}.dg li{-webkit-transition:height 0.1s ease-out;-o-transition:height 0.1s ease-out;-moz-transition:height 0.1s ease-out;transition:height 0.1s ease-out}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;overflow:hidden;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li > *{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:9px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2fa1d6}.dg .cr.number input[type=text]{color:#2fa1d6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2fa1d6}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\n",
dat.controllers.factory=function(e,a,c,d,f,b,n){return function(h,j,m,l){var o=h[j];if(n.isArray(m)||n.isObject(m))return new e(h,j,m);if(n.isNumber(o))return n.isNumber(m)&&n.isNumber(l)?new c(h,j,m,l):new a(h,j,{min:m,max:l});if(n.isString(o))return new d(h,j);if(n.isFunction(o))return new f(h,j,"");if(n.isBoolean(o))return new b(h,j)}}(dat.controllers.OptionController,dat.controllers.NumberControllerBox,dat.controllers.NumberControllerSlider,dat.controllers.StringController=function(e,a,c){var d=
function(c,b){function e(){h.setValue(h.__input.value)}d.superclass.call(this,c,b);var h=this;this.__input=document.createElement("input");this.__input.setAttribute("type","text");a.bind(this.__input,"keyup",e);a.bind(this.__input,"change",e);a.bind(this.__input,"blur",function(){h.__onFinishChange&&h.__onFinishChange.call(h,h.getValue())});a.bind(this.__input,"keydown",function(a){a.keyCode===13&&this.blur()});this.updateDisplay();this.domElement.appendChild(this.__input)};d.superclass=e;c.extend(d.prototype,
e.prototype,{updateDisplay:function(){if(!a.isActive(this.__input))this.__input.value=this.getValue();return d.superclass.prototype.updateDisplay.call(this)}});return d}(dat.controllers.Controller,dat.dom.dom,dat.utils.common),dat.controllers.FunctionController,dat.controllers.BooleanController,dat.utils.common),dat.controllers.Controller,dat.controllers.BooleanController,dat.controllers.FunctionController,dat.controllers.NumberControllerBox,dat.controllers.NumberControllerSlider,dat.controllers.OptionController,
dat.controllers.ColorController=function(e,a,c,d,f){function b(a,b,c,d){a.style.background="";f.each(j,function(e){a.style.cssText+="background: "+e+"linear-gradient("+b+", "+c+" 0%, "+d+" 100%); "})}function n(a){a.style.background="";a.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);";a.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);";
a.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);";a.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);";a.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"}var h=function(e,l){function o(b){q(b);a.bind(window,"mousemove",q);a.bind(window,
"mouseup",j)}function j(){a.unbind(window,"mousemove",q);a.unbind(window,"mouseup",j)}function g(){var a=d(this.value);a!==false?(p.__color.__state=a,p.setValue(p.__color.toOriginal())):this.value=p.__color.toString()}function i(){a.unbind(window,"mousemove",s);a.unbind(window,"mouseup",i)}function q(b){b.preventDefault();var c=a.getWidth(p.__saturation_field),d=a.getOffset(p.__saturation_field),e=(b.clientX-d.left+document.body.scrollLeft)/c,b=1-(b.clientY-d.top+document.body.scrollTop)/c;b>1?b=
1:b<0&&(b=0);e>1?e=1:e<0&&(e=0);p.__color.v=b;p.__color.s=e;p.setValue(p.__color.toOriginal());return false}function s(b){b.preventDefault();var c=a.getHeight(p.__hue_field),d=a.getOffset(p.__hue_field),b=1-(b.clientY-d.top+document.body.scrollTop)/c;b>1?b=1:b<0&&(b=0);p.__color.h=b*360;p.setValue(p.__color.toOriginal());return false}h.superclass.call(this,e,l);this.__color=new c(this.getValue());this.__temp=new c(0);var p=this;this.domElement=document.createElement("div");a.makeSelectable(this.domElement,
false);this.__selector=document.createElement("div");this.__selector.className="selector";this.__saturation_field=document.createElement("div");this.__saturation_field.className="saturation-field";this.__field_knob=document.createElement("div");this.__field_knob.className="field-knob";this.__field_knob_border="2px solid ";this.__hue_knob=document.createElement("div");this.__hue_knob.className="hue-knob";this.__hue_field=document.createElement("div");this.__hue_field.className="hue-field";this.__input=
document.createElement("input");this.__input.type="text";this.__input_textShadow="0 1px 1px ";a.bind(this.__input,"keydown",function(a){a.keyCode===13&&g.call(this)});a.bind(this.__input,"blur",g);a.bind(this.__selector,"mousedown",function(){a.addClass(this,"drag").bind(window,"mouseup",function(){a.removeClass(p.__selector,"drag")})});var t=document.createElement("div");f.extend(this.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"});
f.extend(this.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:this.__field_knob_border+(this.__color.v<0.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1});f.extend(this.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1});f.extend(this.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"});f.extend(t.style,
{width:"100%",height:"100%",background:"none"});b(t,"top","rgba(0,0,0,0)","#000");f.extend(this.__hue_field.style,{width:"15px",height:"100px",display:"inline-block",border:"1px solid #555",cursor:"ns-resize"});n(this.__hue_field);f.extend(this.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:this.__input_textShadow+"rgba(0,0,0,0.7)"});a.bind(this.__saturation_field,"mousedown",o);a.bind(this.__field_knob,"mousedown",o);a.bind(this.__hue_field,"mousedown",
function(b){s(b);a.bind(window,"mousemove",s);a.bind(window,"mouseup",i)});this.__saturation_field.appendChild(t);this.__selector.appendChild(this.__field_knob);this.__selector.appendChild(this.__saturation_field);this.__selector.appendChild(this.__hue_field);this.__hue_field.appendChild(this.__hue_knob);this.domElement.appendChild(this.__input);this.domElement.appendChild(this.__selector);this.updateDisplay()};h.superclass=e;f.extend(h.prototype,e.prototype,{updateDisplay:function(){var a=d(this.getValue());
if(a!==false){var e=false;f.each(c.COMPONENTS,function(b){if(!f.isUndefined(a[b])&&!f.isUndefined(this.__color.__state[b])&&a[b]!==this.__color.__state[b])return e=true,{}},this);e&&f.extend(this.__color.__state,a)}f.extend(this.__temp.__state,this.__color.__state);this.__temp.a=1;var h=this.__color.v<0.5||this.__color.s>0.5?255:0,j=255-h;f.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toString(),border:this.__field_knob_border+
"rgb("+h+","+h+","+h+")"});this.__hue_knob.style.marginTop=(1-this.__color.h/360)*100+"px";this.__temp.s=1;this.__temp.v=1;b(this.__saturation_field,"left","#fff",this.__temp.toString());f.extend(this.__input.style,{backgroundColor:this.__input.value=this.__color.toString(),color:"rgb("+h+","+h+","+h+")",textShadow:this.__input_textShadow+"rgba("+j+","+j+","+j+",.7)"})}});var j=["-moz-","-o-","-webkit-","-ms-",""];return h}(dat.controllers.Controller,dat.dom.dom,dat.color.Color=function(e,a,c,d){function f(a,
b,c){Object.defineProperty(a,b,{get:function(){if(this.__state.space==="RGB")return this.__state[b];n(this,b,c);return this.__state[b]},set:function(a){if(this.__state.space!=="RGB")n(this,b,c),this.__state.space="RGB";this.__state[b]=a}})}function b(a,b){Object.defineProperty(a,b,{get:function(){if(this.__state.space==="HSV")return this.__state[b];h(this);return this.__state[b]},set:function(a){if(this.__state.space!=="HSV")h(this),this.__state.space="HSV";this.__state[b]=a}})}function n(b,c,e){if(b.__state.space===
"HEX")b.__state[c]=a.component_from_hex(b.__state.hex,e);else if(b.__state.space==="HSV")d.extend(b.__state,a.hsv_to_rgb(b.__state.h,b.__state.s,b.__state.v));else throw"Corrupted color state";}function h(b){var c=a.rgb_to_hsv(b.r,b.g,b.b);d.extend(b.__state,{s:c.s,v:c.v});if(d.isNaN(c.h)){if(d.isUndefined(b.__state.h))b.__state.h=0}else b.__state.h=c.h}var j=function(){this.__state=e.apply(this,arguments);if(this.__state===false)throw"Failed to interpret color arguments";this.__state.a=this.__state.a||
1};j.COMPONENTS="r,g,b,h,s,v,hex,a".split(",");d.extend(j.prototype,{toString:function(){return c(this)},toOriginal:function(){return this.__state.conversion.write(this)}});f(j.prototype,"r",2);f(j.prototype,"g",1);f(j.prototype,"b",0);b(j.prototype,"h");b(j.prototype,"s");b(j.prototype,"v");Object.defineProperty(j.prototype,"a",{get:function(){return this.__state.a},set:function(a){this.__state.a=a}});Object.defineProperty(j.prototype,"hex",{get:function(){if(!this.__state.space!=="HEX")this.__state.hex=
a.rgb_to_hex(this.r,this.g,this.b);return this.__state.hex},set:function(a){this.__state.space="HEX";this.__state.hex=a}});return j}(dat.color.interpret,dat.color.math=function(){var e;return{hsv_to_rgb:function(a,c,d){var e=a/60-Math.floor(a/60),b=d*(1-c),n=d*(1-e*c),c=d*(1-(1-e)*c),a=[[d,c,b],[n,d,b],[b,d,c],[b,n,d],[c,b,d],[d,b,n]][Math.floor(a/60)%6];return{r:a[0]*255,g:a[1]*255,b:a[2]*255}},rgb_to_hsv:function(a,c,d){var e=Math.min(a,c,d),b=Math.max(a,c,d),e=b-e;if(b==0)return{h:NaN,s:0,v:0};
a=a==b?(c-d)/e:c==b?2+(d-a)/e:4+(a-c)/e;a/=6;a<0&&(a+=1);return{h:a*360,s:e/b,v:b/255}},rgb_to_hex:function(a,c,d){a=this.hex_with_component(0,2,a);a=this.hex_with_component(a,1,c);return a=this.hex_with_component(a,0,d)},component_from_hex:function(a,c){return a>>c*8&255},hex_with_component:function(a,c,d){return d<<(e=c*8)|a&~(255<<e)}}}(),dat.color.toString,dat.utils.common),dat.color.interpret,dat.utils.common),dat.utils.requestAnimationFrame=function(){return window.webkitRequestAnimationFrame||
window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1E3/60)}}(),dat.dom.CenteredDiv=function(e,a){var c=function(){this.backgroundElement=document.createElement("div");a.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear"});e.makeFullscreen(this.backgroundElement);this.backgroundElement.style.position="fixed";this.domElement=
document.createElement("div");a.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear"});document.body.appendChild(this.backgroundElement);document.body.appendChild(this.domElement);var c=this;e.bind(this.backgroundElement,"click",function(){c.hide()})};c.prototype.show=function(){var c=this;this.backgroundElement.style.display="block";this.domElement.style.display="block";this.domElement.style.opacity=
0;this.domElement.style.webkitTransform="scale(1.1)";this.layout();a.defer(function(){c.backgroundElement.style.opacity=1;c.domElement.style.opacity=1;c.domElement.style.webkitTransform="scale(1)"})};c.prototype.hide=function(){var a=this,c=function(){a.domElement.style.display="none";a.backgroundElement.style.display="none";e.unbind(a.domElement,"webkitTransitionEnd",c);e.unbind(a.domElement,"transitionend",c);e.unbind(a.domElement,"oTransitionEnd",c)};e.bind(this.domElement,"webkitTransitionEnd",
c);e.bind(this.domElement,"transitionend",c);e.bind(this.domElement,"oTransitionEnd",c);this.backgroundElement.style.opacity=0;this.domElement.style.opacity=0;this.domElement.style.webkitTransform="scale(1.1)"};c.prototype.layout=function(){this.domElement.style.left=window.innerWidth/2-e.getWidth(this.domElement)/2+"px";this.domElement.style.top=window.innerHeight/2-e.getHeight(this.domElement)/2+"px"};return c}(dat.dom.dom,dat.utils.common),dat.dom.dom,dat.utils.common);
//
// showdown.js -- A javascript port of Markdown.
//
// Copyright (c) 2007 John Fraser.
//
// Original Markdown Copyright (c) 2004-2005 John Gruber
//   <http://daringfireball.net/projects/markdown/>
//
// Redistributable under a BSD-style open source license.
// See license.txt for more information.
//
// The full source distribution is at:
//
//				A A L
//				T C A
//				T K B
//
//   <http://www.attacklab.net/>
//
//
// Wherever possible, Showdown is a straight, line-by-line port
// of the Perl version of Markdown.
//
// This is not a normal parser design; it's basically just a
// series of string substitutions.  It's hard to read and
// maintain this way,  but keeping Showdown close to the original
// design makes it easier to port new features.
//
// More importantly, Showdown behaves like markdown.pl in most
// edge cases.  So web applications can do client-side preview
// in Javascript, and then build identical HTML on the server.
//
// This port needs the new RegExp functionality of ECMA 262,
// 3rd Edition (i.e. Javascript 1.5).  Most modern web browsers
// should do fine.  Even with the new regular expression features,
// We do a lot of work to emulate Perl's regex functionality.
// The tricky changes in this file mostly have the "attacklab:"
// label.  Major or self-explanatory changes don't.
//
// Smart diff tools like Araxis Merge will be able to match up
// this file with markdown.pl in a useful way.  A little tweaking
// helps: in a copy of markdown.pl, replace "#" with "//" and
// replace "$text" with "text".  Be sure to ignore whitespace
// and line endings.
//
//
// Showdown usage:
//
//   var text = "Markdown *rocks*.";
//
//   var converter = new Showdown.converter();
//   var html = converter.makeHtml(text);
//
//   alert(html);
//
// Note: move the sample code to the bottom of this
// file before uncommenting it.
//
//
// Showdown namespace
//
var Showdown={extensions:{}},forEach=Showdown.forEach=function(a,b){if(typeof a.forEach=="function")a.forEach(b);else{var c,d=a.length;for(c=0;c<d;c++)b(a[c],c,a)}},stdExtName=function(a){return a.replace(/[_-]||\s/g,"").toLowerCase()};Showdown.converter=function(a){var b,c,d,e=0,f=[],g=[];if(typeof module!="undefind"&&typeof exports!="undefined"&&typeof require!="undefind"){var h=require("fs");if(h){var i=h.readdirSync((__dirname||".")+"/extensions").filter(function(a){return~a.indexOf(".js")}).map(function(a){return a.replace(/\.js$/,"")});Showdown.forEach(i,function(a){var b=stdExtName(a);Showdown.extensions[b]=require("./extensions/"+a)})}}a&&a.extensions&&Showdown.forEach(a.extensions,function(a){typeof a=="string"&&(a=Showdown.extensions[stdExtName(a)]);if(typeof a!="function")throw"Extension '"+a+"' could not be loaded.  It was either not found or is not a valid extension.";Showdown.forEach(a(this),function(a){a.type?a.type==="language"||a.type==="lang"?f.push(a):(a.type==="output"||a.type==="html")&&g.push(a):g.push(a)})}),this.makeHtml=function(a){return b={},c={},d=[],a=a.replace(/~/g,"~T"),a=a.replace(/\$/g,"~D"),a=a.replace(/\r\n/g,"\n"),a=a.replace(/\r/g,"\n"),a="\n\n"+a+"\n\n",a=L(a),a=a.replace(/^[ \t]+$/mg,""),Showdown.forEach(f,function(b){a=j(b,a)}),a=y(a),a=l(a),a=k(a),a=n(a),a=J(a),a=a.replace(/~D/g,"$$"),a=a.replace(/~T/g,"~"),Showdown.forEach(g,function(b){a=j(b,a)}),a};var j=function(a,b){if(a.regex){var c=new RegExp(a.regex,"g");return b.replace(c,a.replace)}if(a.filter)return a.filter(b)},k=function(a){return a+="~0",a=a.replace(/^[ ]{0,3}\[(.+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?[ \t]*\n?[ \t]*(?:(\n*)["(](.+?)[")][ \t]*)?(?:\n+|(?=~0))/gm,function(a,d,e,f,g){return d=d.toLowerCase(),b[d]=F(e),f?f+g:(g&&(c[d]=g.replace(/"/g,"&quot;")),"")}),a=a.replace(/~0/,""),a},l=function(a){a=a.replace(/\n/g,"\n\n");var b="p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del|style|section|header|footer|nav|article|aside",c="p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|style|section|header|footer|nav|article|aside";return a=a.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,m),a=a.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|style|section|header|footer|nav|article|aside)\b[^\r]*?<\/\2>[ \t]*(?=\n+)\n)/gm,m),a=a.replace(/(\n[ ]{0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,m),a=a.replace(/(\n\n[ ]{0,3}<!(--[^\r]*?--\s*)+>[ \t]*(?=\n{2,}))/g,m),a=a.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,m),a=a.replace(/\n\n/g,"\n"),a},m=function(a,b){var c=b;return c=c.replace(/\n\n/g,"\n"),c=c.replace(/^\n/,""),c=c.replace(/\n+$/g,""),c="\n\n~K"+(d.push(c)-1)+"K\n\n",c},n=function(a){a=u(a);var b=z("<hr />");return a=a.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,b),a=a.replace(/^[ ]{0,2}([ ]?\-[ ]?){3,}[ \t]*$/gm,b),a=a.replace(/^[ ]{0,2}([ ]?\_[ ]?){3,}[ \t]*$/gm,b),a=w(a),a=x(a),a=D(a),a=l(a),a=E(a),a},o=function(a){return a=A(a),a=p(a),a=G(a),a=s(a),a=q(a),a=H(a),a=F(a),a=C(a),a=a.replace(/  +\n/g," <br />\n"),a},p=function(a){var b=/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--.*?--\s*)+>)/gi;return a=a.replace(b,function(a){var b=a.replace(/(.)<\/?code>(?=.)/g,"$1`");return b=M(b,"\\`*_"),b}),a},q=function(a){return a=a.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,r),a=a.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?(.*?(?:\(.*?\).*?)?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,r),a=a.replace(/(\[([^\[\]]+)\])()()()()()/g,r),a},r=function(a,d,e,f,g,h,i,j){j==undefined&&(j="");var k=d,l=e,m=f.toLowerCase(),n=g,o=j;if(n==""){m==""&&(m=l.toLowerCase().replace(/ ?\n/g," ")),n="#"+m;if(b[m]!=undefined)n=b[m],c[m]!=undefined&&(o=c[m]);else{if(!(k.search(/\(\s*\)$/m)>-1))return k;n=""}}n=M(n,"*_");var p='<a href="'+n+'"';return o!=""&&(o=o.replace(/"/g,"&quot;"),o=M(o,"*_"),p+=' title="'+o+'"'),p+=">"+l+"</a>",p},s=function(a){return a=a.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,t),a=a.replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,t),a},t=function(a,d,e,f,g,h,i,j){var k=d,l=e,m=f.toLowerCase(),n=g,o=j;o||(o="");if(n==""){m==""&&(m=l.toLowerCase().replace(/ ?\n/g," ")),n="#"+m;if(b[m]==undefined)return k;n=b[m],c[m]!=undefined&&(o=c[m])}l=l.replace(/"/g,"&quot;"),n=M(n,"*_");var p='<img src="'+n+'" alt="'+l+'"';return o=o.replace(/"/g,"&quot;"),o=M(o,"*_"),p+=' title="'+o+'"',p+=" />",p},u=function(a){function b(a){return a.replace(/[^\w]/g,"").toLowerCase()}return a=a.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(a,c){return z('<h1 id="'+b(c)+'">'+o(c)+"</h1>")}),a=a.replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,function(a,c){return z('<h2 id="'+b(c)+'">'+o(c)+"</h2>")}),a=a.replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm,function(a,c,d){var e=c.length;return z("<h"+e+' id="'+b(d)+'">'+o(d)+"</h"+e+">")}),a},v,w=function(a){a+="~0";var b=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;return e?a=a.replace(b,function(a,b,c){var d=b,e=c.search(/[*+-]/g)>-1?"ul":"ol";d=d.replace(/\n{2,}/g,"\n\n\n");var f=v(d);return f=f.replace(/\s+$/,""),f="<"+e+">"+f+"</"+e+">\n",f}):(b=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g,a=a.replace(b,function(a,b,c,d){var e=b,f=c,g=d.search(/[*+-]/g)>-1?"ul":"ol",f=f.replace(/\n{2,}/g,"\n\n\n"),h=v(f);return h=e+"<"+g+">\n"+h+"</"+g+">\n",h})),a=a.replace(/~0/,""),a};v=function(a){return e++,a=a.replace(/\n{2,}$/,"\n"),a+="~0",a=a.replace(/(\n)?(^[ \t]*)([*+-]|\d+[.])[ \t]+([^\r]+?(\n{1,2}))(?=\n*(~0|\2([*+-]|\d+[.])[ \t]+))/gm,function(a,b,c,d,e){var f=e,g=b,h=c;return g||f.search(/\n{2,}/)>-1?f=n(K(f)):(f=w(K(f)),f=f.replace(/\n$/,""),f=o(f)),"<li>"+f+"</li>\n"}),a=a.replace(/~0/g,""),e--,a};var x=function(a){return a+="~0",a=a.replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,function(a,b,c){var d=b,e=c;return d=B(K(d)),d=L(d),d=d.replace(/^\n+/g,""),d=d.replace(/\n+$/g,""),d="<pre><code>"+d+"\n</code></pre>",z(d)+e}),a=a.replace(/~0/,""),a},y=function(a){return a+="~0",a=a.replace(/(?:^|\n)```(.*)\n([\s\S]*?)\n```/g,function(a,b,c){var d=b,e=c;return e=B(e),e=L(e),e=e.replace(/^\n+/g,""),e=e.replace(/\n+$/g,""),e="<pre><code"+(d?' class="'+d+'"':"")+">"+e+"\n</code></pre>",z(e)}),a=a.replace(/~0/,""),a},z=function(a){return a=a.replace(/(^\n+|\n+$)/g,""),"\n\n~K"+(d.push(a)-1)+"K\n\n"},A=function(a){return a=a.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(a,b,c,d,e){var f=d;return f=f.replace(/^([ \t]*)/g,""),f=f.replace(/[ \t]*$/g,""),f=B(f),b+"<code>"+f+"</code>"}),a},B=function(a){return a=a.replace(/&/g,"&amp;"),a=a.replace(/</g,"&lt;"),a=a.replace(/>/g,"&gt;"),a=M(a,"*_{}[]\\",!1),a},C=function(a){return a=a.replace(/(\*\*|__)(?=\S)([^\r]*?\S[*_]*)\1/g,"<strong>$2</strong>"),a=a.replace(/(\*|_)(?=\S)([^\r]*?\S)\1/g,"<em>$2</em>"),a},D=function(a){return a=a.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(a,b){var c=b;return c=c.replace(/^[ \t]*>[ \t]?/gm,"~0"),c=c.replace(/~0/g,""),c=c.replace(/^[ \t]+$/gm,""),c=n(c),c=c.replace(/(^|\n)/g,"$1  "),c=c.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(a,b){var c=b;return c=c.replace(/^  /mg,"~0"),c=c.replace(/~0/g,""),c}),z("<blockquote>\n"+c+"\n</blockquote>")}),a},E=function(a){a=a.replace(/^\n+/g,""),a=a.replace(/\n+$/g,"");var b=a.split(/\n{2,}/g),c=[],e=b.length;for(var f=0;f<e;f++){var g=b[f];g.search(/~K(\d+)K/g)>=0?c.push(g):g.search(/\S/)>=0&&(g=o(g),g=g.replace(/^([ \t]*)/g,"<p>"),g+="</p>",c.push(g))}e=c.length;for(var f=0;f<e;f++)while(c[f].search(/~K(\d+)K/)>=0){var h=d[RegExp.$1];h=h.replace(/\$/g,"$$$$"),c[f]=c[f].replace(/~K\d+K/,h)}return c.join("\n\n")},F=function(a){return a=a.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),a=a.replace(/<(?![a-z\/?\$!])/gi,"&lt;"),a},G=function(a){return a=a.replace(/\\(\\)/g,N),a=a.replace(/\\([`*_{}\[\]()>#+-.!])/g,N),a},H=function(a){return a=a.replace(/<((https?|ftp|dict):[^'">\s]+)>/gi,'<a href="$1">$1</a>'),a=a.replace(/<(?:mailto:)?([-.\w]+\@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,function(a,b){return I(J(b))}),a},I=function(a){var b=[function(a){return"&#"+a.charCodeAt(0)+";"},function(a){return"&#x"+a.charCodeAt(0).toString(16)+";"},function(a){return a}];return a="mailto:"+a,a=a.replace(/./g,function(a){if(a=="@")a=b[Math.floor(Math.random()*2)](a);else if(a!=":"){var c=Math.random();a=c>.9?b[2](a):c>.45?b[1](a):b[0](a)}return a}),a='<a href="'+a+'">'+a+"</a>",a=a.replace(/">.+:/g,'">'),a},J=function(a){return a=a.replace(/~E(\d+)E/g,function(a,b){var c=parseInt(b);return String.fromCharCode(c)}),a},K=function(a){return a=a.replace(/^(\t|[ ]{1,4})/gm,"~0"),a=a.replace(/~0/g,""),a},L=function(a){return a=a.replace(/\t(?=\t)/g,"    "),a=a.replace(/\t/g,"~A~B"),a=a.replace(/~B(.+?)~A/g,function(a,b,c){var d=b,e=4-d.length%4;for(var f=0;f<e;f++)d+=" ";return d}),a=a.replace(/~A/g,"    "),a=a.replace(/~B/g,""),a},M=function(a,b,c){var d="(["+b.replace(/([\[\]\\])/g,"\\$1")+"])";c&&(d="\\\\"+d);var e=new RegExp(d,"g");return a=a.replace(e,N),a},N=function(a,b){var c=b.charCodeAt(0);return"~E"+c+"E"}},typeof module!="undefined"&&(module.exports=Showdown),typeof define=="function"&&define.amd&&define("showdown",function(){return Showdown});
//
//  Twitter Extension
//  @username   ->  <a href="http://twitter.com/username">@username</a>
//  #hashtag    ->  <a href="http://twitter.com/search/%23hashtag">#hashtag</a>
//
(function(){var a=function(a){return[{type:"lang",regex:"\\B(\\\\)?@([\\S]+)\\b",replace:function(a,b,c){return b==="\\"?a:'<a href="http://twitter.com/'+c+'">@'+c+"</a>"}},{type:"lang",regex:"\\B(\\\\)?#([\\S]+)\\b",replace:function(a,b,c){return b==="\\"?a:'<a href="http://twitter.com/search/%23'+c+'">#'+c+"</a>"}},{type:"lang",regex:"\\\\@",replace:"@"}]};typeof window!="undefined"&&window.Showdown&&window.Showdown.extensions&&(window.Showdown.extensions.twitter=a),typeof module!="undefined"&&(module.exports=a)})();
//
//  Google Prettify
//  A showdown extension to add Google Prettify (http://code.google.com/p/google-code-prettify/)
//  hints to showdown's HTML output.
//
(function(){var a=function(a){return[{type:"output",filter:function(a){return a.replace(/(<pre>)?<code>/gi,function(a,b){return b?'<pre class="prettyprint linenums" tabIndex="0"><code data-inner="1">':'<code class="prettyprint">'})}}]};typeof window!="undefined"&&window.Showdown&&window.Showdown.extensions&&(window.Showdown.extensions.googlePrettify=a),typeof module!="undefined"&&(module.exports=a)})();
//
//  Github Extension (WIP)
//  ~~strike-through~~   ->  <del>strike-through</del>
//
(function(){var a=function(a){return[{type:"lang",regex:"(~T){2}([^~]+)(~T){2}",replace:function(a,b,c,d){return"<del>"+c+"</del>"}}]};typeof window!="undefined"&&window.Showdown&&window.Showdown.extensions&&(window.Showdown.extensions.github=a),typeof module!="undefined"&&(module.exports=a)})();
"use strict";!function(){function e(){window.removeEventListener("load",e);var t=window.hg.util.debounce(c,300);window.addEventListener("resize",t,!1)}function t(e){Object.keys(R.transientJobs).forEach(function(t){var i=window.hg[R.transientJobs[t].constructorName].config;i.isRecurring&&R.transientJobs[t].toggleRecurrence(e,!0,i.avgDelay,i.delayDeviationRange)})}function i(e,t,i,n,o){return new window.hg[R.transientJobs[e].constructorName](t,i,n,o)}function n(e,t,n,o,r){function a(){R.transientJobs[t].jobs[n.index].splice(R.transientJobs[t].jobs[n.index].indexOf(l),1)}var l;return!n.isPostOpen||R.transientJobs[t].canRunWithOpenGrid?(e=e||i.bind(R,t),l=e(n,o,a,r),R.transientJobs[t].jobs[n.index].push(l),window.hg.animator.startJob(l),l):(console.log("Cannot create a "+R.transientJobs[t].constructorName+" while the Grid is expanded"),null)}function o(e,t){return R.transientJobs[e].create(t,d(t))}function r(e,t,i,n,o){function r(){var i=Math.random()*s+a;R.transientJobs[e].createRandom(t),c[t.index]=setTimeout(r,i)}var a,l,s,c;c=R.transientJobs[e].timeouts,a=n-.5*o,a=a>0?a:1,l=n+.5*o,s=l-a,c[t.index]&&(clearTimeout(c[t.index]),c[t.index]=null),i&&(c[t.index]=setTimeout(r,n))}function a(e,t){var i,n;i=R.persistentJobs[e],n=new window.hg[i.constructorName](t),i.jobs[t.index].push(n),i.start(t,i.jobs[t.index].length-1)}function l(e,t,i){"undefined"!=typeof i?window.hg.animator.startJob(R.persistentJobs[e].jobs[t.index][i]):R.persistentJobs[e].jobs[t.index].forEach(window.hg.animator.startJob)}function s(e,t,i){"undefined"!=typeof i?R.persistentJobs[e].jobs[t.index][i].cancel():R.persistentJobs[e].jobs[t.index].forEach(function(e){e.cancel()})}function c(){L.grids.forEach(f)}function d(e){var t=parseInt(Math.random()*e.originalTiles.length);return e.originalTiles[t]}function u(e){var t=parseInt(Math.random()*e.contentTiles.length);return e.contentTiles[t]}function g(e,t,i){return window.hg.LineJob.createRandomLineJob(e,i)}function h(e,t,i){function n(){o.lineJobs.forEach(function(t){R.transientJobs.LineJob.jobs[e.index].splice(R.transientJobs.LineJob.jobs[e.index].indexOf(t),1)}),i()}var o=new window.hg.LinesRadiateJob(e,t,n);return o.lineJobs.forEach(function(t){R.transientJobs.LineJob.jobs[e.index].push(t)}),o}function p(e){return e.isPostOpen?null:R.transientJobs.OpenPostJob.create(e,u(e))}function m(e){return e.isPostOpen?R.transientJobs.ClosePostJob.create(e,e.expandedTile):null}function b(e,i,n){function o(e){Object.keys(R.persistentJobs).forEach(function(t){R.persistentJobs[t].jobs[e]=[]}),Object.keys(R.transientJobs).forEach(function(t){R.transientJobs[t].jobs[e]=[]})}var r,a,l,s;return a=L.grids.length,o(a),r=new window.hg.Grid(a,e,i,n),L.grids.push(r),l=r.annotations,L.annotations.push(l),s=new window.hg.Input(r),L.inputs.push(s),window.hg.animator.startJob(r),R.persistentJobs.ColorResetJob.create(r),R.persistentJobs.DisplacementResetJob.create(r),window.hg.animator.startJob(l),R.persistentJobs.ColorShiftJob.create(r),R.persistentJobs.ColorWaveJob.create(r),R.persistentJobs.DisplacementWaveJob.create(r),t(r),T(r),N(),A(),r}function f(e){function t(e,t){var i,n;for(i=0,n=e.originalTiles.length;n>i;i+=1)if(e.originalTiles[i].holdsContent&&e.originalTiles[i].postData.id===t)return e.originalTiles[i];return null}var i,n=e.isPostOpen?e.expandedTile.postData.id:null;window.hg.animator.cancelAll(),e.resize(),w(e),n&&(i=t(e,n),R.transientJobs.OpenPostJob.create(e,i)),L.performanceCheckJob&&D(),T(e),N(),A()}function w(e){window.hg.animator.startJob(e),R.persistentJobs.ColorResetJob.start(e),R.persistentJobs.DisplacementResetJob.start(e),window.hg.animator.startJob(L.annotations[e.index]),R.isLowPerformanceBrowser||(R.persistentJobs.ColorShiftJob.start(e),R.persistentJobs.ColorWaveJob.start(e),R.persistentJobs.DisplacementWaveJob.start(e))}function v(e){R.persistentJobs.ColorShiftJob.cancel(e),R.persistentJobs.ColorWaveJob.cancel(e),R.persistentJobs.DisplacementWaveJob.cancel(e)}function y(e,t){L.postData[e.index]=t,x(e,t)}function C(e,t){var i,n=L.postData[e.index];i="all"!==t?n.filter(function(e){return e.categories.indexOf(t)>=0}):n.slice(0),x(e,i)}function x(e,t){e.isPostOpen=!1,e.pagePost=null,e.isTransitioning=!1,e.expandedTile=null,e.sectors=null,e.allNonContentTiles=null,e.postData=t,e.computeContentIndices(),f(e)}function T(e){window.hg.util.checkForSafari()&&(console.info("Is a Safari browser"),R.isSafariBrowser=!0,e.svg.style.width=e.parent.offsetWidth+"px",e.svg.style.height=e.parent.offsetHeight+"px")}function N(){window.hg.util.checkForIos()&&(console.info("Is an iOS browser"),R.isIosBrowser=!0)}function A(){document.documentElement.clientWidth<800?(console.info("Is a small-screen browser"),R.isSmallScreen=!0):R.isSmallScreen=!1}function S(){function e(){console.info("Is a low-performance browser");var e=document.createElement("div"),t=document.getElementsByTagName("body")[0];t.appendChild(e),e.innerHTML="Switching to low-performance mode.",e.style.zIndex=5e3,e.style.position="absolute",e.style.top="0",e.style.right="0",e.style.bottom="0",e.style.left="0",e.style.width="70%",e.style.height="70%",e.style.margin="auto",e.style.padding="5%",e.style.fontSize="5em",e.style.fontWeight="bold",e.style.opacity="1",e.style.color="white",e.style.backgroundColor="rgba(60,0,0,0.6)",window.hg.util.setTransition(e,"opacity 1s linear 1.5s"),setTimeout(function(){e.style.opacity="0",setTimeout(function(){t.removeChild(e)},2500)},10)}window.hg.util.requestAnimationFrame(function(){R.isLowPerformanceBrowser=!0,L.grids.forEach(v),c(),e()})}function D(){var e,t,i=.25,n=20;L.performanceCheckJob={start:function(i){e=0,t=0,L.performanceCheckJob.startTime=i,L.performanceCheckJob.isComplete=!1},update:function(o,r){e++,r>=window.hg.animator.config.deltaTimeUpperThreshold&&t++,e>=n&&(L.performanceCheckJob.isComplete=!0,L.performanceCheckJob=null,console.info("--- PERFORMANCE DIAGNOSTICS ---"),console.info("maxDeltaTimeFrameCount",t),console.info("frameCount",e),console.info("-------------------------------"),t/e>i&&S())},draw:function(){},cancel:function(){},init:function(){},isComplete:!0},window.hg.util.requestAnimationFrame(function(){window.hg.animator.startJob(L.performanceCheckJob)})}var R={},P={},L={};R.persistentJobs={ColorShiftJob:{constructorName:"ColorShiftJob",jobs:[],create:a.bind(R,"ColorShiftJob"),start:l.bind(R,"ColorShiftJob"),cancel:s.bind(R,"ColorShiftJob")},ColorWaveJob:{constructorName:"ColorWaveJob",jobs:[],create:a.bind(R,"ColorWaveJob"),start:l.bind(R,"ColorWaveJob"),cancel:s.bind(R,"ColorWaveJob")},DisplacementWaveJob:{constructorName:"DisplacementWaveJob",jobs:[],create:a.bind(R,"DisplacementWaveJob"),start:l.bind(R,"DisplacementWaveJob"),cancel:s.bind(R,"DisplacementWaveJob")},ColorResetJob:{constructorName:"ColorResetJob",jobs:[],create:a.bind(R,"ColorResetJob"),start:l.bind(R,"ColorResetJob"),cancel:s.bind(R,"ColorResetJob")},DisplacementResetJob:{constructorName:"DisplacementResetJob",jobs:[],create:a.bind(R,"DisplacementResetJob"),start:l.bind(R,"DisplacementResetJob"),cancel:s.bind(R,"DisplacementResetJob")}},R.transientJobs={OpenPostJob:{constructorName:"OpenPostJob",jobs:[],timeouts:[],create:n.bind(R,null,"OpenPostJob"),createRandom:p,toggleRecurrence:r.bind(R,"OpenPostJob"),canRunWithOpenGrid:!1},ClosePostJob:{constructorName:"ClosePostJob",jobs:[],timeouts:[],create:n.bind(R,null,"ClosePostJob"),createRandom:m,toggleRecurrence:r.bind(R,"ClosePostJob"),canRunWithOpenGrid:!0},CarouselImageSlideJob:{constructorName:"CarouselImageSlideJob",jobs:[],timeouts:[],create:n.bind(R,null,"CarouselImageSlideJob"),createRandom:null,toggleRecurrence:null,canRunWithOpenGrid:!0},DilateSectorsJob:{constructorName:"DilateSectorsJob",jobs:[],timeouts:[],create:n.bind(R,null,"DilateSectorsJob"),createRandom:null,toggleRecurrence:null,canRunWithOpenGrid:!0},FadePostJob:{constructorName:"FadePostJob",jobs:[],timeouts:[],create:n.bind(R,null,"FadePostJob"),createRandom:null,toggleRecurrence:null,canRunWithOpenGrid:!0},DisplacementRadiateJob:{constructorName:"DisplacementRadiateJob",jobs:[],timeouts:[],create:n.bind(R,null,"DisplacementRadiateJob"),createRandom:o.bind(R,"DisplacementRadiateJob"),toggleRecurrence:r.bind(R,"DisplacementRadiateJob"),canRunWithOpenGrid:!0},HighlightHoverJob:{constructorName:"HighlightHoverJob",jobs:[],timeouts:[],create:n.bind(R,null,"HighlightHoverJob"),createRandom:o.bind(R,"HighlightHoverJob"),toggleRecurrence:r.bind(R,"HighlightHoverJob"),canRunWithOpenGrid:!0},HighlightRadiateJob:{constructorName:"HighlightRadiateJob",jobs:[],timeouts:[],create:n.bind(R,null,"HighlightRadiateJob"),createRandom:o.bind(R,"HighlightRadiateJob"),toggleRecurrence:r.bind(R,"HighlightRadiateJob"),canRunWithOpenGrid:!0},IntraTileRadiateJob:{constructorName:"IntraTileRadiateJob",jobs:[],timeouts:[],create:n.bind(R,null,"IntraTileRadiateJob"),createRandom:o.bind(R,"IntraTileRadiateJob"),toggleRecurrence:r.bind(R,"IntraTileRadiateJob"),canRunWithOpenGrid:!0},LineJob:{constructorName:"LineJob",jobs:[],timeouts:[],create:n.bind(R,g,"LineJob"),createRandom:o.bind(R,"LineJob"),toggleRecurrence:r.bind(R,"LineJob"),canRunWithOpenGrid:!1},LinesRadiateJob:{constructorName:"LinesRadiateJob",jobs:[],timeouts:[],create:n.bind(R,h,"LinesRadiateJob"),createRandom:o.bind(R,"LinesRadiateJob"),toggleRecurrence:r.bind(R,"LinesRadiateJob"),canRunWithOpenGrid:!1},PanJob:{constructorName:"PanJob",jobs:[],timeouts:[],create:n.bind(R,null,"PanJob"),createRandom:o.bind(R,"PanJob"),toggleRecurrence:r.bind(R,"PanJob"),canRunWithOpenGrid:!0},SpreadJob:{constructorName:"SpreadJob",jobs:[],timeouts:[],create:n.bind(R,null,"SpreadJob"),createRandom:o.bind(R,"SpreadJob"),toggleRecurrence:r.bind(R,"SpreadJob"),canRunWithOpenGrid:!0},TileBorderJob:{constructorName:"TileBorderJob",jobs:[],timeouts:[],create:n.bind(R,null,"TileBorderJob"),createRandom:o.bind(R,"TileBorderJob"),toggleRecurrence:r.bind(R,"TileBorderJob"),canRunWithOpenGrid:!0}},L.grids=[],L.inputs=[],L.annotations=[],L.postData=[],L.performanceCheckJob=!0,R.isLowPerformanceBrowser=!1,R.isSafariBrowser=!1,R.isIosBrowser=!1,R.isSmallScreen=!1,R.config=P,R.createNewHexGrid=b,R.resetGrid=f,R.resetPersistentJobs=w,R.setGridPostData=y,R.filterGridPostDataByCategory=C,window.hg=window.hg||{},window.hg.controller=R,window.addEventListener("load",e,!1),console.log("controller module loaded")}(),function(){function e(e,t,i){e.forEach(function(e){t.forEach(function(t){H.listen(e,t,i)})})}function t(e,t,i,n){var o=document.createElement(e);return t&&t.appendChild(o),i&&(o.id=i),n&&n.forEach(function(e){l(o,e)}),o}function i(e,t){var i,n;return i=e.className.indexOf(t),i>=0&&(0===i||" "===e.className[i-1])&&(n=i+t.length,n===e.className.length||" "===e.className[n])?!0:!1}function n(e,t,n){"undefined"==typeof n?i(e,t)?s(e,t):l(e,t):n?l(e,t):s(e,t)}function o(e){for(var t=0,i=0;e;)t+=e.offsetLeft,i+=e.offsetTop,e=e.offsetParent;return t-=H.getScrollLeft(),i-=H.getScrollTop(),{x:t,y:i}}function r(){var e,t;return"undefined"!=typeof window.innerWidth?(e=window.innerWidth,t=window.innerHeight):"undefined"!=typeof document.documentElement&&"undefined"!=typeof document.documentElement.clientWidth&&0!==document.documentElement.clientWidth?(e=document.documentElement.clientWidth,t=document.documentElement.clientHeight):(e=document.getElementsByTagName("body")[0].clientWidth,t=document.getElementsByTagName("body")[0].clientHeight),{w:e,h:t}}function a(e,t){return t&&t.parentNode===e?(e.removeChild(t),!0):!1}function l(e,t){e.setAttribute("class",e.className+" "+t)}function s(e,t){e.setAttribute("class",e.className.split(" ").filter(function(e){return e!==t}).join(" "))}function c(e){e.className=""}function d(e,t,i,n,o){var r,a;return i=i||document.getElementsByTagName("body")[0],r=H.createElement(t,null,n,o),r.style.position="absolute",r.style.visibility="hidden",r.style.whiteSpace="nowrap",i.appendChild(r),r.innerHTML=e,a=r.clientWidth,i.removeChild(r),a}function u(e){var t,i;i=[];for(t in e)e.hasOwnProperty(t)&&i.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return"?"+i.join("&")}function g(e,t){var i,n;return t=encodeURIComponent(t),t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),i=new RegExp("[\\?&]"+t+"=([^&#]*)","i"),n=i.exec(e),null===n?null:decodeURIComponent(n[1].replace(/\+/g," "))}function h(e,t){e.style.transition=t,e.style.WebkitTransition=t,e.style.MozTransition=t,e.style.msTransition=t,e.style.OTransition=t}function p(e,t){e.style.transitionDuration=t+"s",e.style.WebkitTransitionDuration=t+"s",e.style.MozTransitionDuration=t+"s",e.style.msTransitionDuration=t+"s",e.style.OTransitionDuration=t+"s"}function m(e,t){e.style.transitionDelay=t+"s",e.style.WebkitTransitionDelay=t+"s",e.style.MozTransitionDelay=t+"s",e.style.msTransitionDelay=t+"s",e.style.OTransitionDelay=t+"s"}function b(e){e.style.userSelect="none",e.style.webkitUserSelect="none",e.style.MozUserSelect="none",e.style.msUserSelect="none"}function f(e,t){var i,n,o;for(i=e.querySelectorAll("."+t),n=0,o=i.length;o>n;n++)e.removeChild(i[n])}function w(e,t){var i="cubic-bezier("+t.p1x+","+t.p1y+","+t.p2x+","+t.p2y+")";e.style.transitionTimingFunction=i,e.style.WebkitTransitionTimingFunction=i,e.style.MozTransitionTimingFunction=i,e.style.msTransitionTimingFunction=i,e.style.OTransitionTimingFunction=i}function v(e,t){var i,n,o,r,a,l,s;return o=1-e,r=o*o*o,a=3*e*o*o,l=3*e*e*o,s=e*e*e,i=t[0].x*r+t[1].x*a+t[2].x*l+t[3].x*s,n=t[0].y*r+t[1].y*a+t[2].y*l+t[3].y*s,{x:i,y:n}}function y(e,t){e.style.webkitTransform=t,e.style.MozTransform=t,e.style.msTransform=t,e.style.OTransform=t,e.style.transform=t}function C(e){var t,i,n,o;for(t=0,n=e.length;n>t;t+=1)i=parseInt(Math.random()*n),o=e[i],e[i]=e[t],e[t]=o;return e}function x(e,t,i,n){var o,r,a,l,s,c,d,u,g,h,p;if(o=!1,n){if(i.length<6)return o;u=i[i.length-4],g=i[i.length-3]}else{if(i.length<4)return o;u=i[i.length-2],g=i[i.length-1]}for(r=0,a=i.length-2;a>r;r+=2)h=i[r],p=i[r+1],h>u?(l=u,s=g,c=h,d=p):(l=h,s=p,c=u,d=g),e>h==u>=e&&(d-s)*(e-l)>(t-s)*(c-l)&&(o=!o),u=h,g=p;return o}function T(e){var t,i;if("object"==typeof e){i={};for(t in e)i[t]=e[t];return i}return e}function N(e){var t,i;if("object"==typeof e){i=e instanceof Array?[]:{};for(t in e)i[t]="object"==typeof e[t]?N(e[t]):e[t];return i}return e}function A(e){var t=e.s*(e.l<.5?e.l:1-e.l);return{h:e.h,s:2*t/(e.l+t),v:e.l+t}}function S(e){var t=(2-e.s)*e.v;return{h:e.h,s:e.s*e.v/(1>t?t:2.00000001-t),l:.5*t}}function D(e,t){for(;e;)if(window.hg.util.containsClass(e,t))return e;return null}function R(e){I||(I=document.createElement("style"),document.getElementsByTagName("head")[0].appendChild(I)),I.styleSheet?I.styleSheet.cssText=e:I.appendChild(document.createTextNode(e))}function P(){return/Safari/i.test(window.navigator.userAgent)&&!/Chrome/i.test(window.navigator.userAgent)}function L(){return/iPhone|iPod|iPad/i.test(window.navigator.userAgent)}function J(e,t,i){var n;return function(){var o=this,r=arguments,a=i&&!n,l=function(){n=null,i||e.apply(o,r)};clearTimeout(n),n=setTimeout(l,t),a&&e.apply(o,r)}}var I,E={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return.5>e?2*e*e:-1+(4-2*e)*e},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1+--e*e*e},easeInOutCubic:function(e){return.5>e?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return.5>e?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return.5>e?16*e*e*e*e*e:1+16*--e*e*e*e*e}},O={linear:function(e){return e},easeInQuad:function(e){return Math.sqrt(e)},easeOutQuad:function(e){return 1-Math.sqrt(1-e)},easeInOutQuad:function(e){return.5>e?Math.sqrt(.5*e):1-.70710678*Math.sqrt(1-e)}},G=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,16)}).bind(window),H={listenToMultipleForMultiple:e,createElement:t,containsClass:i,toggleClass:n,getPageOffset:o,getViewportSize:r,removeChildIfPresent:a,addClass:l,removeClass:s,clearClasses:c,getTextWidth:d,encodeQueryString:u,getQueryStringParameterValue:g,setTransition:h,setTransitionDurationSeconds:p,setTransitionDelaySeconds:m,setUserSelectNone:b,removeChildrenWithClass:f,setTransitionCubicBezierTimingFunction:w,easingFunctions:E,inverseEasingFunctions:O,requestAnimationFrame:G,getXYFromPercentWithBezier:v,setTransform:y,shuffle:C,isPointInsidePolyline:x,shallowCopy:T,deepCopy:N,hsvToHsl:S,hslToHsv:A,findClassInSelfOrAncestors:D,addRuleToStyleSheet:R,checkForSafari:P,checkForIos:L,debounce:J,svgNamespace:"http://www.w3.org/2000/svg",xlinkNamespace:"http://www.w3.org/1999/xlink"};window.hg=window.hg||{},window.hg.util=H,console.log("util module loaded")}(),function(){function e(i){var o=i-s.previousTime;o=o>c.deltaTimeUpperThreshold?c.deltaTimeUpperThreshold:o,s.isLooping=!0,s.isPaused?s.isLooping=!1:(t(i,o),n(),window.hg.util.requestAnimationFrame(e)),s.previousTime=i}function t(e,t){var n,o;for(n=0,o=s.jobs.length;o>n;n+=1)s.jobs[n].update(e,t),s.jobs[n].isComplete&&(i(s.jobs[n],n),n--,o--)}function i(e,t){var i;if("number"==typeof t)s.jobs.splice(t,1);else for(t=0,i=s.jobs.length;i>t;t+=1)if(s.jobs[t]===e){s.jobs.splice(t,1);break}0===s.jobs.length&&(s.isPaused=!0)}function n(){var e,t;for(e=0,t=s.jobs.length;t>e;e+=1)s.jobs[e].draw()}function o(){function t(t){s.previousTime=t,window.hg.util.requestAnimationFrame(e)}s.isPaused=!1,s.isLooping||(s.isLooping=!0,window.hg.util.requestAnimationFrame(t))}function r(e){e.isComplete?(console.log("Job starting: "+e.constructor.name),e.init(),e.start(s.previousTime),s.jobs.push(e)):(console.log("Job restarting: "+e.constructor.name),e.refresh?e.refresh():(e.cancel(),e.init(),e.start(s.previousTime))),o()}function a(e){console.log("Job cancelling: "+e.constructor.name),e.cancel(),i(e)}function l(){for(;s.jobs.length;)a(s.jobs[0])}var s={},c={};c.deltaTimeUpperThreshold=160,s.jobs=[],s.previousTime=window.performance&&window.performance.now()||0,s.isLooping=!1,s.isPaused=!0,s.startJob=r,s.cancelJob=a,s.cancelAll=l,s.config=c,window.hg=window.hg||{},window.hg.animator=s,console.log("animator module loaded")}(),function(){function e(e){var t=this;t.grid=e,t.startTime=0,t.isComplete=!0,t.annotations=window.hg.util.shallowCopy(it.annotations),t.contentAreaGuideLines=[],t.tileParticleCenters=[],t.tileAnchorLines=[],t.tileAnchorCenters=[],t.tileDisplacementCircles=[],t.tileInnerRadii=[],t.tileOuterRadii=[],t.neighborLines=[],t.forceLines=[],t.velocityLines=[],t.indexTexts=[],t.lineAnimationGapDots=[],t.lineAnimationSelfCornerDots=[],t.lineAnimationLowerNeighborCornerDots=[],t.lineAnimationUpperNeighborCornerDots=[],t.sectorAnchorLines=[],t.sectorAnchorCenters=[],t.originalGridCenterDot=null,t.currentGridCenterDot=null,t.panCenterDot=null,t.toggleAnnotationEnabled=U,t.createAnnotations=Y,t.destroyAnnotations=q,t.setExpandedAnnotations=z,t.start=Q,t.update=K,t.draw=Z,t.cancel=$,t.init=et,t.refresh=tt}function t(){var e,t,i;for(e=this,t=0,i=e.grid.originalTiles.length;i>t;t+=1)e.grid.originalTiles[t].holdsContent&&(e.grid.originalTiles[t].currentColor.h=it.contentTileHue,e.grid.originalTiles[t].currentColor.s=it.contentTileSaturation,e.grid.originalTiles[t].currentColor.l=it.contentTileLightness)}function i(){var e,t,i;for(e=this,t=0,i=e.grid.allTiles.length;i>t;t+=1)e.grid.allTiles[t].getIsBorderTile()&&(e.grid.allTiles[t].currentColor.h=it.borderTileHue,e.grid.allTiles[t].currentColor.s=it.borderTileSaturation,e.grid.allTiles[t].currentColor.l=it.borderTileLightness)}function n(){var e,t,i;for(e=this,t=0,i=e.grid.originalBorderTiles.length;i>t;t+=1)e.grid.originalBorderTiles[t].isCornerTile&&(e.grid.originalTiles[t].currentColor.h=it.cornerTileHue,e.grid.originalTiles[t].currentColor.s=it.cornerTileSaturation,e.grid.originalTiles[t].currentColor.l=it.cornerTileLightness)}function o(){var e,t,i;for(e=this,t=0,i=e.grid.allTiles.length;i>t;t+=1)e.grid.allTiles[t].element.setAttribute("opacity","0")}function r(){var e,t;e=this,e.contentAreaGuideLines=[],t=document.createElementNS(window.hg.util.svgNamespace,"line"),e.grid.svg.appendChild(t),e.contentAreaGuideLines[0]=t,t.setAttribute("x1",e.grid.contentAreaLeft),t.setAttribute("y1",0),t.setAttribute("x2",e.grid.contentAreaLeft),t.setAttribute("y2",e.grid.height),t.setAttribute("stroke","red"),t.setAttribute("stroke-width","2"),t=document.createElementNS(window.hg.util.svgNamespace,"line"),e.grid.svg.appendChild(t),e.contentAreaGuideLines[1]=t,t.setAttribute("x1",e.grid.contentAreaRight),t.setAttribute("y1",0),t.setAttribute("x2",e.grid.contentAreaRight),t.setAttribute("y2",e.grid.height),t.setAttribute("stroke","red"),t.setAttribute("stroke-width","2")}function a(){var e,t,i;for(e=this,e.tileParticleCenters=[],t=0,i=e.grid.allTiles.length;i>t;t+=1)e.tileParticleCenters[t]=document.createElementNS(window.hg.util.svgNamespace,"circle"),e.grid.svg.appendChild(e.tileParticleCenters[t]),e.tileParticleCenters[t].setAttribute("r","4"),e.tileParticleCenters[t].setAttribute("fill","gray")}function l(){var e,t,i;for(e=this,e.tileAnchorLines=[],e.tileAnchorCenters=[],t=0,i=e.grid.allTiles.length;i>t;t+=1)e.tileAnchorLines[t]=document.createElementNS(window.hg.util.svgNamespace,"line"),e.grid.svg.appendChild(e.tileAnchorLines[t]),e.tileAnchorLines[t].setAttribute("stroke","#666666"),e.tileAnchorLines[t].setAttribute("stroke-width","2"),e.tileAnchorCenters[t]=document.createElementNS(window.hg.util.svgNamespace,"circle"),e.grid.svg.appendChild(e.tileAnchorCenters[t]),e.tileAnchorCenters[t].setAttribute("r","4"),e.tileAnchorCenters[t].setAttribute("fill","#888888")}function s(){var e,t,i;for(e=this,e.tileDisplacementCircles=[],t=0,i=e.grid.allTiles.length;i>t;t+=1)e.tileDisplacementCircles[t]=document.createElementNS(window.hg.util.svgNamespace,"circle"),e.grid.svg.appendChild(e.tileDisplacementCircles[t]),e.tileDisplacementCircles[t].setAttribute("r","80"),e.tileDisplacementCircles[t].setAttribute("opacity","0.4"),e.tileDisplacementCircles[t].setAttribute("fill","white")}function c(){var e,t,i;for(e=this,e.tileInnerRadii=[],t=0,i=e.grid.allTiles.length;i>t;t+=1)e.tileInnerRadii[t]=document.createElementNS(window.hg.util.svgNamespace,"circle"),e.grid.svg.appendChild(e.tileInnerRadii[t]),e.tileInnerRadii[t].setAttribute("stroke","blue"),e.tileInnerRadii[t].setAttribute("stroke-width","1"),e.tileInnerRadii[t].setAttribute("fill","transparent")}function d(){var e,t,i;for(e=this,e.tileOuterRadii=[],t=0,i=e.grid.allTiles.length;i>t;t+=1)e.tileOuterRadii[t]=document.createElementNS(window.hg.util.svgNamespace,"circle"),e.grid.svg.appendChild(e.tileOuterRadii[t]),e.tileOuterRadii[t].setAttribute("stroke","green"),e.tileOuterRadii[t].setAttribute("stroke-width","1"),e.tileOuterRadii[t].setAttribute("fill","transparent")}function u(){var e,t,i,n,o,r,a,l;for(e=this,e.neighborLines=[],t=0,n=e.grid.allTiles.length;n>t;t+=1)for(r=e.grid.allTiles[t],a=r.getNeighborStates(),e.neighborLines[t]=[],i=0,o=a.length;o>i;i+=1)l=a[i],l&&(e.neighborLines[t][i]=document.createElementNS(window.hg.util.svgNamespace,"line"),e.grid.svg.appendChild(e.neighborLines[t][i]),e.neighborLines[t][i].setAttribute("stroke","purple"),e.neighborLines[t][i].setAttribute("stroke-width","1"))}function g(){var e,t,i;for(e=this,e.forceLines=[],t=0,i=e.grid.allTiles.length;i>t;t+=1)e.forceLines[t]=document.createElementNS(window.hg.util.svgNamespace,"line"),e.grid.svg.appendChild(e.forceLines[t]),e.forceLines[t].setAttribute("stroke","orange"),e.forceLines[t].setAttribute("stroke-width","2")}function h(){var e,t,i;for(e=this,e.velocityLines=[],t=0,i=e.grid.allTiles.length;i>t;t+=1)e.velocityLines[t]=document.createElementNS(window.hg.util.svgNamespace,"line"),e.grid.svg.appendChild(e.velocityLines[t]),e.velocityLines[t].setAttribute("stroke","red"),e.velocityLines[t].setAttribute("stroke-width","2")}function p(){var e,t,i;for(e=this,e.indexTexts=[],t=0,i=e.grid.allTiles.length;i>t;t+=1)e.indexTexts[t]=document.createElementNS(window.hg.util.svgNamespace,"text"),e.indexTexts[t].innerHTML=isNaN(e.grid.allTiles[t].originalIndex)?"?":e.grid.allTiles[t].originalIndex,e.grid.svg.appendChild(e.indexTexts[t]),e.indexTexts[t].setAttribute("font-size","16"),e.indexTexts[t].setAttribute("fill","black"),e.indexTexts[t].setAttribute("pointer-events","none")}function m(){var e,t,i,n,o,r,a;for(e=this,t=0,i=e.grid.sectors.length;i>t;t+=1)for(r=e.grid.sectors[t],a=60*t+20,n=0,o=r.tiles.length;o>n;n+=1)r.tiles[n].currentColor.h=a,r.tiles[n].currentColor.s=window.hg.Grid.config.tileSaturation,r.tiles[n].currentColor.l=window.hg.Grid.config.tileLightness}function b(){var e;e=this,e.currentGridCenterDot=document.createElementNS(window.hg.util.svgNamespace,"circle"),e.grid.svg.appendChild(e.currentGridCenterDot),e.currentGridCenterDot.setAttribute("r","8"),e.currentGridCenterDot.setAttribute("fill","chartreuse"),e.panCenterDot=document.createElementNS(window.hg.util.svgNamespace,"circle"),e.grid.svg.appendChild(e.panCenterDot),e.panCenterDot.setAttribute("r","5"),e.panCenterDot.setAttribute("fill","red"),e.originalGridCenterDot=document.createElementNS(window.hg.util.svgNamespace,"circle"),e.grid.svg.appendChild(e.originalGridCenterDot),e.originalGridCenterDot.setAttribute("r","2"),e.originalGridCenterDot.setAttribute("fill","yellow")}function f(){var e,t;for(e=this,e.sectorAnchorLines=[],e.sectorAnchorCenters=[],t=0;t<e.grid.sectors.length;t+=1)e.sectorAnchorLines[t]=document.createElementNS(window.hg.util.svgNamespace,"line"),e.grid.svg.appendChild(e.sectorAnchorLines[t]),e.sectorAnchorLines[t].setAttribute("stroke","#999999"),e.sectorAnchorLines[t].setAttribute("stroke-width","2"),e.sectorAnchorCenters[t]=document.createElementNS(window.hg.util.svgNamespace,"circle"),e.grid.svg.appendChild(e.sectorAnchorCenters[t]),e.sectorAnchorCenters[t].setAttribute("r","5"),e.sectorAnchorCenters[t].setAttribute("fill","#BBBBBB")}function w(){var e,t,i;for(e=this,t=0,i=e.grid.originalTiles.length;i>t;t+=1)e.grid.originalTiles[t].element.setAttribute("opacity","1")}function v(){var e,t,i;for(e=this,t=0,i=e.contentAreaGuideLines.length;i>t;t+=1)e.grid.svg.removeChild(e.contentAreaGuideLines[t]);e.contentAreaGuideLines=[]}function y(){var e,t,i;for(e=this,t=0,i=e.tileParticleCenters.length;i>t;t+=1)e.grid.svg.removeChild(e.tileParticleCenters[t]);e.tileParticleCenters=[]}function C(){var e,t,i;for(e=this,t=0,i=e.tileAnchorLines.length;i>t;t+=1)e.grid.svg.removeChild(e.tileAnchorLines[t]),e.grid.svg.removeChild(e.tileAnchorCenters[t]);e.tileAnchorLines=[],e.tileAnchorCenters=[]}function x(){var e,t,i;for(e=this,t=0,i=e.tileDisplacementCircles.length;i>t;t+=1)e.grid.svg.removeChild(e.tileDisplacementCircles[t]);e.tileDisplacementCircles=[]}function T(){var e,t,i;for(e=this,t=0,i=e.tileInnerRadii.length;i>t;t+=1)e.grid.svg.removeChild(e.tileInnerRadii[t]);e.tileInnerRadii=[]}function N(){var e,t,i;for(e=this,t=0,i=e.tileOuterRadii.length;i>t;t+=1)e.grid.svg.removeChild(e.tileOuterRadii[t]);e.tileOuterRadii=[]}function A(){var e,t,i,n,o;for(e=this,t=0,n=e.neighborLines.length;n>t;t+=1)for(i=0,o=e.neighborLines[t].length;o>i;i+=1)e.neighborLines[t][i]&&e.grid.svg.removeChild(e.neighborLines[t][i]);e.neighborLines=[]}function S(){var e,t,i;for(e=this,t=0,i=e.forceLines.length;i>t;t+=1)e.grid.svg.removeChild(e.forceLines[t]);e.forceLines=[]}function D(){var e,t,i;for(e=this,t=0,i=e.velocityLines.length;i>t;t+=1)e.grid.svg.removeChild(e.velocityLines[t]);e.velocityLines=[]}function R(){var e,t,i;for(e=this,t=0,i=e.indexTexts.length;i>t;t+=1)e.grid.svg.removeChild(e.indexTexts[t]);e.indexTexts=[]}function P(){var e,t,i;for(e=this,t=0,i=e.lineAnimationGapDots.length;i>t;t+=1)e.grid.svg.removeChild(e.lineAnimationGapDots[t]);e.lineAnimationGapDots=[]}function L(){var e,t,i;for(e=this,t=0,i=e.lineAnimationSelfCornerDots.length;i>t;t+=1)e.grid.svg.removeChild(e.lineAnimationSelfCornerDots[t]);for(t=0,i=e.lineAnimationLowerNeighborCornerDots.length;i>t;t+=1)e.grid.svg.removeChild(e.lineAnimationLowerNeighborCornerDots[t]);for(t=0,i=e.lineAnimationUpperNeighborCornerDots.length;i>t;t+=1)e.grid.svg.removeChild(e.lineAnimationUpperNeighborCornerDots[t]);e.lineAnimationSelfCornerDots=[],e.lineAnimationLowerNeighborCornerDots=[],e.lineAnimationUpperNeighborCornerDots=[]}function J(){var e;e=this,e.originalGridCenterDot&&(e.grid.svg.removeChild(e.originalGridCenterDot),e.grid.svg.removeChild(e.currentGridCenterDot),e.grid.svg.removeChild(e.panCenterDot),e.originalGridCenterDot=null,e.currentGridCenterDot=null,e.panCenterDot=null)}function I(){var e,t;for(e=this,t=0;t<e.sectorAnchorLines.length;t+=1)e.grid.svg.removeChild(e.sectorAnchorLines[t]),e.grid.svg.removeChild(e.sectorAnchorCenters[t]);e.sectorAnchorLines=[],e.sectorAnchorCenters=[]}function E(){var e,t,i;for(e=this,t=0,i=e.grid.allTiles.length;i>t;t+=1)e.tileParticleCenters[t].setAttribute("cx",e.grid.allTiles[t].particle.px),e.tileParticleCenters[t].setAttribute("cy",e.grid.allTiles[t].particle.py)}function O(){var e,t,i;for(e=this,t=0,i=e.grid.allTiles.length;i>t;t+=1)e.tileAnchorLines[t].setAttribute("x1",e.grid.allTiles[t].particle.px),e.tileAnchorLines[t].setAttribute("y1",e.grid.allTiles[t].particle.py),e.tileAnchorLines[t].setAttribute("x2",e.grid.allTiles[t].currentAnchor.x),e.tileAnchorLines[t].setAttribute("y2",e.grid.allTiles[t].currentAnchor.y),e.tileAnchorCenters[t].setAttribute("cx",e.grid.allTiles[t].currentAnchor.x),e.tileAnchorCenters[t].setAttribute("cy",e.grid.allTiles[t].currentAnchor.y)}function G(){var e,t,i,n,o,r,a,l;for(e=this,t=0,i=e.grid.allTiles.length;i>t;t+=1)n=e.grid.allTiles[t].particle.px-e.grid.allTiles[t].originalAnchor.x,o=e.grid.allTiles[t].particle.py-e.grid.allTiles[t].originalAnchor.y,r=180*Math.atan2(n,o)/Math.PI,a=Math.sqrt(n*n+o*o),l="hsl("+r+","+a/window.hg.DisplacementWaveJob.config.displacementAmplitude*100+"%,80%)",e.tileDisplacementCircles[t].setAttribute("fill",l),e.tileDisplacementCircles[t].setAttribute("cx",e.grid.allTiles[t].particle.px),e.tileDisplacementCircles[t].setAttribute("cy",e.grid.allTiles[t].particle.py)}function H(){var e,t,i;for(e=this,t=0,i=e.grid.allTiles.length;i>t;t+=1)e.tileInnerRadii[t].setAttribute("cx",e.grid.allTiles[t].particle.px),e.tileInnerRadii[t].setAttribute("cy",e.grid.allTiles[t].particle.py),e.tileInnerRadii[t].setAttribute("r",e.grid.allTiles[t].outerRadius*window.hg.Grid.config.sqrtThreeOverTwo)}function k(){var e,t,i;for(e=this,t=0,i=e.grid.allTiles.length;i>t;t+=1)e.tileOuterRadii[t].setAttribute("cx",e.grid.allTiles[t].particle.px),e.tileOuterRadii[t].setAttribute("cy",e.grid.allTiles[t].particle.py),e.tileOuterRadii[t].setAttribute("r",e.grid.allTiles[t].outerRadius)}function B(){var e,t,i,n,o,r,a,l;for(e=this,t=0,n=e.grid.allTiles.length;n>t;t+=1)for(r=e.grid.allTiles[t],a=r.getNeighborStates(),i=0,o=a.length;o>i;i+=1)l=a[i],l&&(e.neighborLines[t][i].setAttribute("x1",r.particle.px),e.neighborLines[t][i].setAttribute("y1",r.particle.py),e.neighborLines[t][i].setAttribute("x2",l.tile.particle.px),e.neighborLines[t][i].setAttribute("y2",l.tile.particle.py))}function W(){var e,t,i;for(e=this,t=0,i=e.grid.allTiles.length;i>t;t+=1)e.forceLines[t].setAttribute("x1",e.grid.allTiles[t].particle.px),e.forceLines[t].setAttribute("y1",e.grid.allTiles[t].particle.py),e.forceLines[t].setAttribute("x2",e.grid.allTiles[t].particle.px+e.grid.allTiles[t].particle.fx*it.forceLineLengthMultiplier),e.forceLines[t].setAttribute("y2",e.grid.allTiles[t].particle.py+e.grid.allTiles[t].particle.fy*it.forceLineLengthMultiplier)}function M(){var e,t,i;for(e=this,t=0,i=e.grid.allTiles.length;i>t;t+=1)e.velocityLines[t].setAttribute("x1",e.grid.allTiles[t].particle.px),e.velocityLines[t].setAttribute("y1",e.grid.allTiles[t].particle.py),e.velocityLines[t].setAttribute("x2",e.grid.allTiles[t].particle.px+e.grid.allTiles[t].particle.vx*it.velocityLineLengthMultiplier),e.velocityLines[t].setAttribute("y2",e.grid.allTiles[t].particle.py+e.grid.allTiles[t].particle.vy*it.velocityLineLengthMultiplier)
}function F(){var e,t,i;for(e=this,t=0,i=e.grid.allTiles.length;i>t;t+=1)e.indexTexts[t].setAttribute("x",e.grid.allTiles[t].particle.px-10),e.indexTexts[t].setAttribute("y",e.grid.allTiles[t].particle.py+6)}function V(){var e,t,i,n,o,r,a;for(e=this,P.call(e),e.lineAnimationGapDots=[],r=0,t=0,i=window.hg.controller.transientJobs.LineJob.jobs[e.grid.index].length;i>t;t+=1)for(a=window.hg.controller.transientJobs.LineJob.jobs[e.grid.index][t],n=0,o=a.gapPoints.length;o>n;n+=1,r+=1)e.lineAnimationGapDots[r]=document.createElementNS(window.hg.util.svgNamespace,"circle"),e.lineAnimationGapDots[r].setAttribute("cx",a.gapPoints[n].x),e.lineAnimationGapDots[r].setAttribute("cy",a.gapPoints[n].y),e.lineAnimationGapDots[r].setAttribute("r","4"),e.lineAnimationGapDots[r].setAttribute("fill","white"),e.grid.svg.appendChild(e.lineAnimationGapDots[r])}function j(){function e(e,t){return{x:e.vertices[2*t],y:e.vertices[2*t+1]}}var t,i,n,o,r,a,l,s;for(t=this,L.call(t),t.lineAnimationSelfCornerDots=[],t.lineAnimationLowerNeighborCornerDots=[],t.lineAnimationUpperNeighborCornerDots=[],i=0,n=window.hg.controller.transientJobs.LineJob.jobs[t.grid.index].length;n>i;i+=1)for(a=window.hg.controller.transientJobs.LineJob.jobs[t.grid.index][i],o=0,r=a.corners.length;r>o;o+=1)l=e(a.tiles[o],a.corners[o]),s=document.createElementNS(window.hg.util.svgNamespace,"circle"),s.setAttribute("cx",l.x),s.setAttribute("cy",l.y),s.setAttribute("r","3"),s.setAttribute("fill","#ffaaaa"),t.grid.svg.appendChild(s),t.lineAnimationSelfCornerDots.push(s),a.lowerNeighbors[o]&&(l=e(a.lowerNeighbors[o].tile,a.lowerNeighborCorners[o]),s=document.createElementNS(window.hg.util.svgNamespace,"circle"),s.setAttribute("cx",l.x),s.setAttribute("cy",l.y),s.setAttribute("r","3"),s.setAttribute("fill","#aaffaa"),t.grid.svg.appendChild(s),t.lineAnimationLowerNeighborCornerDots.push(s)),a.upperNeighbors[o]&&(l=e(a.upperNeighbors[o].tile,a.upperNeighborCorners[o]),s=document.createElementNS(window.hg.util.svgNamespace,"circle"),s.setAttribute("cx",l.x),s.setAttribute("cy",l.y),s.setAttribute("r","3"),s.setAttribute("fill","#aaaaff"),t.grid.svg.appendChild(s),t.lineAnimationUpperNeighborCornerDots.push(s))}function X(){var e,t;e=this,e.originalGridCenterDot&&(e.originalGridCenterDot.setAttribute("cx",e.grid.originalCenter.x),e.originalGridCenterDot.setAttribute("cy",e.grid.originalCenter.y),e.currentGridCenterDot.setAttribute("cx",e.grid.currentCenter.x),e.currentGridCenterDot.setAttribute("cy",e.grid.currentCenter.y),e.panCenterDot.setAttribute("cx",e.grid.panCenter.x),e.panCenterDot.setAttribute("cy",e.grid.panCenter.y),t=window.hg.controller.transientJobs.PanJob.jobs[e.grid.index][0],t&&(t.baseTile.currentColor.h=0,t.baseTile.currentColor.s=0,t.baseTile.currentColor.l=90))}function _(){var e,t,i,n,o,r;for(e=this,t=0;t<e.sectorAnchorLines.length;t+=1)i=e.grid.sectors[t].currentAnchor.x,n=e.grid.sectors[t].currentAnchor.y,o=e.grid.sectors[t].originalAnchor.x-e.grid.sectors[t].expandedDisplacement.x,r=e.grid.sectors[t].originalAnchor.y-e.grid.sectors[t].expandedDisplacement.y,e.sectorAnchorLines[t].setAttribute("x1",i),e.sectorAnchorLines[t].setAttribute("y1",n),e.sectorAnchorLines[t].setAttribute("x2",o),e.sectorAnchorLines[t].setAttribute("y2",r),e.sectorAnchorCenters[t].setAttribute("cx",o),e.sectorAnchorCenters[t].setAttribute("cy",r)}function U(e,t){var i;i=this,i.annotations[e].enabled=t,t?i.annotations[e].create.call(i):i.annotations[e].destroy.call(i)}function Y(){var e,t,i;for(e=this,t=0,i=it.annotationsArray.length;i>t;t+=1)it.annotationsArray[t].enabled&&it.annotationsArray[t].create.call(e)}function q(){var e,t,i;for(e=this,t=0,i=it.annotationsArray.length;i>t;t+=1)it.annotationsArray[t].destroy.call(e)}function z(){var e;e=this,e.annotations.tileNeighborConnections.enabled&&(A.call(e),u.call(e))}function Q(){var e=this;e.isComplete=!1}function K(){var e,t,i;for(e=this,t=0,i=it.annotationsArray.length;i>t;t+=1)it.annotationsArray[t].enabled&&it.annotationsArray[t].update.call(e)}function Z(){}function $(){var e=this;e.isComplete=!0}function et(){it.computeDependentValues()}function tt(){var e=this;et(),e.annotations=window.hg.util.shallowCopy(it.annotations)}var it={};it.forceLineLengthMultiplier=4e3,it.velocityLineLengthMultiplier=300,it.contentTileHue=187,it.contentTileSaturation=50,it.contentTileLightness=30,it.borderTileHue=267,it.borderTileSaturation=0,it.borderTileLightness=30,it.cornerTileHue=267,it.cornerTileSaturation=50,it.cornerTileLightness=30,it.annotations={tileNeighborConnections:{enabled:!1,create:u,destroy:A,update:B,priority:1300},tileAnchorCenters:{enabled:!1,create:l,destroy:C,update:O,priority:500},transparentTiles:{enabled:!1,create:o,destroy:w,update:function(){},priority:400},tileIndices:{enabled:!1,create:p,destroy:R,update:F,priority:1e3},tileForces:{enabled:!1,create:g,destroy:S,update:W,priority:1100},tileVelocities:{enabled:!1,create:h,destroy:D,update:M,priority:1200},sectorColors:{enabled:!1,create:m,destroy:function(){},update:m,priority:0},borderTiles:{enabled:!1,create:i,destroy:function(){},update:i,priority:200},contentTiles:{enabled:!1,create:t,destroy:function(){},update:t,priority:100},cornerTiles:{enabled:!1,create:n,destroy:function(){},update:n,priority:300},tileParticleCenters:{enabled:!1,create:a,destroy:y,update:E,priority:600},tileDisplacementColors:{enabled:!1,create:s,destroy:x,update:G,priority:700},tileInnerRadii:{enabled:!1,create:c,destroy:T,update:H,priority:800},tileOuterRadii:{enabled:!1,create:d,destroy:N,update:k,priority:900},contentAreaGuidelines:{enabled:!1,create:r,destroy:v,update:function(){},priority:1400},lineAnimationGapPoints:{enabled:!1,create:function(){},destroy:P,update:V,priority:1500},lineAnimationCornerData:{enabled:!1,create:function(){},destroy:L,update:j,priority:1600},panCenterPoints:{enabled:!1,create:b,destroy:J,update:X,priority:1700},sectorAnchorCenters:{enabled:!1,create:f,destroy:I,update:_,priority:1800}},it.annotationsArray=[],it.computeDependentValues=function(){it.annotationsArray=Object.keys(it.annotations).map(function(e){return it.annotations[e]}),it.annotationsArray.sort(function(e,t){return e.priority-t.priority})},it.computeDependentValues(),e.config=it,window.hg=window.hg||{},window.hg.Annotations=e,console.log("Annotations module loaded")}(),function(){function e(){var e=document.querySelector("body"),t=document.createElementNS(window.hg.util.svgNamespace,"svg"),i=document.createElementNS(window.hg.util.svgNamespace,"symbol"),n=document.createElementNS(window.hg.util.svgNamespace,"path");e.appendChild(t),t.appendChild(i),i.appendChild(n),t.style.display="none",i.setAttribute("id","chevron-left"),i.setAttribute("viewBox","0 0 247.88 428.75"),n.setAttribute("d","M149.03125,428.29625,0.54125,214.36625,149.03125,0.44725l97.959,0.000001-148.49,213.92,148.49,213.92z")}function t(e,t,o,r,a,l){var g=this;g.grid=e,g.pagePost=t,g.parent=o,g.elements=null,g.currentIndex=0,g.previousIndex=0,g.mediaMetadata=null,g.currentIndexPositionRatio=0,g.loadMedia=s,g.onSlideFinished=c,g.draw=d,g.destroy=u,i.call(g,r,a),n.call(g,l),console.log("Carousel created")}function i(e,t){var i=this;i.mediaMetadata=t.concat(e).map(function(e){return e.isVideo=!!e.videoHost,e})}function n(e){var t=this,i=document.createElement("div"),n=document.createElement("div"),l=document.createElement("div"),c=document.createElement("div"),d=document.createElement("div"),u=document.createElement("div"),h=document.createElement("p"),p=document.createElement("div"),m=document.createElementNS(window.hg.util.svgNamespace,"svg"),b=document.createElementNS(window.hg.util.svgNamespace,"use"),f=document.createElement("div"),w=document.createElementNS(window.hg.util.svgNamespace,"svg"),v=document.createElementNS(window.hg.util.svgNamespace,"use");t.parent.appendChild(i),i.appendChild(n),n.appendChild(l),n.appendChild(c),n.appendChild(d),d.appendChild(p),p.appendChild(m),m.appendChild(b),d.appendChild(f),f.appendChild(w),w.appendChild(v),i.appendChild(u),u.appendChild(h),t.elements={},t.elements.container=i,t.elements.slidersContainer=n,t.elements.mainMediaRibbon=l,t.elements.thumbnailsRibbon=c,t.elements.buttonsContainer=d,t.elements.captionsPanel=u,t.elements.captionsText=h,t.elements.previousButtonPanel=p,t.elements.previousButtonSvg=m,t.elements.previousButtonUse=b,t.elements.nextButtonPanel=f,t.elements.nextButtonSvg=w,t.elements.nextButtonUse=v,t.elements.mainMedia=[],t.elements.thumbnails=[],t.elements.thumbnailScreens=[],i.setAttribute("data-hg-carousel-container","data-hg-carousel-container"),n.setAttribute("data-hg-carousel-sliders-container","data-hg-carousel-sliders-container"),n.style.position="relative",n.style.overflow="hidden",n.style.width="100%",window.hg.util.setUserSelectNone(i),l.style.position="relative",l.style.width="100%",l.style.height="0",l.style.padding="56.25% 0 0 0",c.style.position="relative",c.style.width=g.thumbnailWidth*t.mediaMetadata.length+"px",c.style.height=g.thumbnailHeight+"px",c.style.left="calc(50% - "+g.thumbnailWidth/2+"px)",c.style.paddingTop=g.thumbnailRibbonPadding+"px",d.style.position="absolute",d.style.top="0",d.style.width="100%",d.style.height="0",d.style.padding="56.25% 0 0 0",p.setAttribute("data-hg-carousel-button","data-hg-carousel-button"),p.style.position="absolute",p.style.top="0",p.style.left="0",p.style.width="calc(33.33% - "+g.prevNextButtonPadding+"px)",p.style.height="100%",p.style.cursor="pointer",p.addEventListener("click",r.bind(t),!1),m.style.position="absolute",m.style.top="0",m.style.bottom="0",m.style.left="0",m.style.margin="auto",m.style.height=g.prevNextButtonHeight+"px",m.style.width=g.prevNextButtonWidth+"px",m.style.paddingLeft=g.prevNextButtonPadding+"px",b.setAttributeNS(window.hg.util.xlinkNamespace,"xlink:href","#chevron-left"),f.setAttribute("data-hg-carousel-button","data-hg-carousel-button"),f.style.position="absolute",f.style.top="0",f.style.right="0",f.style.width="calc(66.67% - "+g.prevNextButtonPadding+"px)",f.style.height="100%",f.style.cursor="pointer",f.addEventListener("click",a.bind(t),!1),window.hg.util.setTransform(w,"scaleX(-1)"),w.style.position="absolute",w.style.top="0",w.style.bottom="0",w.style.right="0",w.style.margin="auto",w.style.height=g.prevNextButtonHeight+"px",w.style.width=g.prevNextButtonWidth+"px",w.style.paddingLeft=g.prevNextButtonPadding+"px",v.setAttributeNS(window.hg.util.xlinkNamespace,"xlink:href","#chevron-left"),u.setAttribute("data-hg-captions-panel","data-hg-captions-panel"),h.style.margin="0",h.style.padding="0",t.elements.captionsPanel.setAttribute("data-hg-selected","data-hg-selected"),e||s.call(t),0===t.mediaMetadata.length?(i.style.display="none",u.style.display="none"):(h.innerHTML=t.mediaMetadata[0].description,1===t.mediaMetadata.length&&(c.style.display="none")),o.call(t)}function o(){var e,t,i,n=this;!n.mediaMetadata.length||n.mediaMetadata[n.currentIndex].isVideo?(e="hidden",t="hidden",i="hidden"):(e=n.currentIndex>0?"visible":"hidden",t=n.currentIndex<n.mediaMetadata.length-1?"visible":"hidden",i="visible"),n.elements.previousButtonPanel.style.visibility=e,n.elements.nextButtonPanel.style.visibility=t,n.elements.buttonsContainer.style.visibility=i}function r(){var e,t=this;t.currentIndex>0?(e=(t.currentIndex+t.mediaMetadata.length-1)%t.mediaMetadata.length,l.call(t,e)):console.warn("Carousel cannot go to previous. Already at first medium.")}function a(){var e,t=this;t.currentIndex<t.mediaMetadata.length-1?(e=(t.currentIndex+1)%t.mediaMetadata.length,l.call(t,e)):console.warn("Carousel cannot go to next. Already at last medium.")}function l(e){var t=this;if(t.previousIndex=t.currentIndex,t.currentIndex=e,window.hg.controller.transientJobs.CarouselImageSlideJob.create(t.grid,null,t),t.mediaMetadata[t.previousIndex].isVideo)switch(t.mediaMetadata[t.previousIndex].videoHost){case"youtube":t.elements.mainMedia[t.previousIndex].querySelector("iframe").contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*");break;case"vimeo":t.elements.mainMedia[t.previousIndex].querySelector("iframe").contentWindow.postMessage('{"method": "pause", "value": ""}',"*");break;default:throw new Error("Invalid video host: "+t.mediaMetadata[t.previousIndex].videoHost)}t.elements.captionsPanel.removeAttribute("data-hg-selected"),t.elements.thumbnails[t.previousIndex].removeAttribute("data-hg-selected"),t.elements.thumbnails[t.currentIndex].setAttribute("data-hg-selected","data-hg-selected"),o.call(t)}function s(){function e(e,i){function n(e,i){function n(){var n;console.log("Vimeo metadata response status="+l.status+" ("+l.statusText+")");try{n=JSON.parse(l.response)}catch(o){return void console.error("Unable to parse Vimeo metadata response body as JSON: "+l.response)}e.thumbnailSrc=n[0].thumbnail_large,t.elements.thumbnails[i].style.backgroundImage="url("+e.thumbnailSrc+")"}function o(){console.error("An error occurred while loading the Vimeo thumbnail")}function r(){console.error("The Vimeo thumbnail load has been cancelled by the user")}var a=g.vimeoMetadataBaseUrl+"/"+e.id+".json",l=new XMLHttpRequest;l.addEventListener("load",n,!1),l.addEventListener("error",o,!1),l.addEventListener("abort",r,!1),console.log("Sending request for Vimeo metadata to "+a),l.open("GET",a,!0),l.send()}var o,r,a,s,c;if(e.isVideo)switch(r=document.createElement("iframe"),r.setAttribute("src",e.videoSrc),r.setAttribute("allowfullscreen","allowfullscreen"),r.setAttribute("frameborder","0"),r.style.position="absolute",r.style.top="0",r.style.width="100%",r.style.height="100%",o=document.createElement("div"),o.appendChild(r),e.videoHost){case"youtube":c=e.thumbnailSrc;break;case"vimeo":c="",n(e,i);break;default:throw new Error("Invalid video host: "+e.videoHost)}else o=document.createElement("div"),o.style.backgroundImage="url("+e.src+")",o.style.backgroundSize="contain",o.style.backgroundRepeat="no-repeat",o.style.backgroundPosition="50% 50%",c=e.src;o.setAttribute("data-hg-carousel-main-media","data-hg-carousel-main-media"),o.style.position="absolute",o.style.top="0",o.style.left=100*i+"%",o.style.width="100%",o.style.height="0",o.style.padding="56.25% 0 0 0",a=document.createElement("div"),a.setAttribute("data-hg-carousel-thumbnail","data-hg-carousel-thumbnail"),a.style.backgroundImage="url("+c+")",a.style.backgroundSize="contain",a.style.backgroundRepeat="no-repeat",a.style.backgroundPosition="50% 50%",a.style.width=g.thumbnailWidth+"px",a.style.height=g.thumbnailHeight+"px",a.style.styleFloat="left",a.style.cssFloat="left",s=document.createElement("div"),s.setAttribute("data-hg-carousel-thumbnail-screen","data-hg-carousel-thumbnail-screen"),s.style.width="100%",s.style.height="100%",s.style.cursor="pointer",s.addEventListener("click",l.bind(t,i),!1),t.elements.mainMedia.push(o),t.elements.thumbnails.push(a),t.elements.thumbnailScreens.push(s),t.elements.mainMediaRibbon.appendChild(o),t.elements.thumbnailsRibbon.appendChild(a),a.appendChild(s)}var t=this;0===t.elements.mainMedia.length&&t.mediaMetadata.forEach(e),t.mediaMetadata.length>0&&t.elements.thumbnails[0].setAttribute("data-hg-selected","data-hg-selected")}function c(){var e=this;e.elements.captionsText.innerHTML=e.mediaMetadata[e.currentIndex].description,e.elements.captionsPanel.setAttribute("data-hg-selected","data-hg-selected")}function d(){var e=this;e.elements.mainMediaRibbon.style.left=100*-e.currentIndexPositionRatio+"%",e.elements.thumbnailsRibbon.style.left="calc(50% - "+(g.thumbnailWidth/2+e.currentIndexPositionRatio*g.thumbnailWidth)+"px"}function u(){var e=this;e.parent.removeChild(e.elements.container),e.elements.container=null}var g;g={},g.thumbnailHeight=80,g.thumbnailRibbonPadding=3,g.prevNextButtonPadding=10,g.prevNextButtonHeight=41,g.prevNextButtonWidth=24,g.aspectRatio=16/9,g.vimeoMetadataBaseUrl="http://vimeo.com/api/v2/video",g.computeDependentValues=function(){g.thumbnailWidth=g.thumbnailHeight*g.aspectRatio},g.computeDependentValues(),e(),t.config=g,window.hg=window.hg||{},window.hg.Carousel=t,console.log("Carousel module loaded")}(),function(){function e(e,t,o,r){var a=this;a.index=e,a.parent=t,a.postData=o,a.isVertical=r,a.actualContentAreaWidth=N.targetContentAreaWidth,a.isComplete=!0,a.svg=null,a.svgDefs=null,a.originalTiles=[],a.originalBorderTiles=[],a.contentTiles=[],a.originalContentInnerIndices=null,a.innerIndexOfLastContentTile=null,a.originalCenter=null,a.currentCenter=null,a.panCenter=null,a.isPostOpen=!1,a.pagePost=null,a.isTransitioning=!1,a.expandedTile=null,a.sectors=null,a.allTiles=null,a.allNonContentTiles=null,a.lastExpansionJob=null,a.scrollTop=Number.NaN,a.annotations=new window.hg.Annotations(a),a.actualContentAreaWidth=Number.NaN,a.rowDeltaY=Number.NaN,a.tileDeltaX=Number.NaN,a.tileNeighborDistance=Number.NaN,a.oddRowTileCount=Number.NaN,a.evenRowTileCount=Number.NaN,a.oddRowXOffset=Number.NaN,a.rowCount=Number.NaN,a.evenRowXOffset=Number.NaN,a.contentAreaLeft=Number.NaN,a.contentAreaRight=Number.NaN,a.oddRowContentStartIndex=Number.NaN,a.evenRowContentStartIndex=Number.NaN,a.oddRowContentTileCount=Number.NaN,a.evenRowContentTileCount=Number.NaN,a.oddRowContentEndIndex=Number.NaN,a.evenRowContentEndIndex=Number.NaN,a.actualContentInnerIndices=Number.NaN,a.innerIndexOfLastContentTile=Number.NaN,a.rowCount=Number.NaN,a.height=Number.NaN,a.resize=u,a.start=m,a.update=b,a.draw=f,a.cancel=w,a.init=T,a.setBackgroundColor=g,a.updateTileColor=h,a.updateTileMass=p,a.setHoveredTile=v,a.createPagePost=y,a.destroyPagePost=C,a.updateAllTilesCollection=x,a.computeContentIndices=i,a.parent.setAttribute("data-hg-grid-parent","data-hg-grid-parent"),n.call(a),g.call(a),i.call(a),u.call(a)}function t(){var e,t,i,n,o,r,a,l,s;for(e=this,t=.5*e.parent.clientWidth,i=e.parent.clientHeight,e.originalCenter.x=t,e.originalCenter.y=.5*i,e.currentCenter.x=e.originalCenter.x,e.currentCenter.y=e.originalCenter.y,e.panCenter.x=e.originalCenter.x,e.panCenter.y=e.originalCenter.y,e.actualContentAreaWidth=e.parent.clientWidth<N.targetContentAreaWidth?e.parent.clientWidth:N.targetContentAreaWidth,e.isVertical?(e.rowDeltaY=1.5*N.tileOuterRadius+N.tileGap*N.sqrtThreeOverTwo,e.tileDeltaX=N.tileShortLengthWithGap,e.oddRowTileCount=2*Math.ceil((t-(N.tileInnerRadius+N.tileGap))/N.tileShortLengthWithGap)+1,e.evenRowTileCount=2*Math.ceil((t-(N.tileShortLengthWithGap+.5*N.tileGap))/N.tileShortLengthWithGap)+2,e.oddRowXOffset=t-N.tileShortLengthWithGap*(e.oddRowTileCount-1)/2,e.rowCount=Math.ceil((i-(N.firstRowYOffset+2*N.tileOuterRadius+N.tileGap*Math.sqrt(3)))/e.rowDeltaY)+2):(e.rowDeltaY=N.tileInnerRadius+.5*N.tileGap,e.tileDeltaX=3*N.tileOuterRadius+N.tileGap*Math.sqrt(3),e.oddRowTileCount=2*Math.ceil((t-(e.tileDeltaX-N.tileOuterRadius))/e.tileDeltaX)+1,e.evenRowTileCount=2*Math.ceil((t-(e.tileDeltaX+N.tileGap*N.sqrtThreeOverTwo+.5*N.tileOuterRadius))/e.tileDeltaX)+2,e.oddRowXOffset=t-e.tileDeltaX*(e.oddRowTileCount-1)/2,e.rowCount=Math.ceil((i-(N.firstRowYOffset+3*N.tileInnerRadius+2*N.tileGap))/e.rowDeltaY)+4),e.evenRowXOffset=e.oddRowXOffset+(e.evenRowTileCount>e.oddRowTileCount?-1:1)*e.tileDeltaX*.5,e.contentAreaLeft=t-.5*e.actualContentAreaWidth,e.contentAreaRight=e.contentAreaLeft+e.actualContentAreaWidth,e.isVertical?(e.oddRowContentStartIndex=Math.ceil((e.contentAreaLeft-(e.oddRowXOffset-N.tileInnerRadius))/e.tileDeltaX),e.evenRowContentStartIndex=Math.ceil((e.contentAreaLeft-(e.evenRowXOffset-N.tileInnerRadius))/e.tileDeltaX)):(e.oddRowContentStartIndex=Math.ceil((e.contentAreaLeft-(e.oddRowXOffset-N.tileOuterRadius))/e.tileDeltaX),e.evenRowContentStartIndex=Math.ceil((e.contentAreaLeft-(e.evenRowXOffset-N.tileOuterRadius))/e.tileDeltaX)),e.oddRowContentTileCount=e.oddRowTileCount-2*e.oddRowContentStartIndex,e.evenRowContentTileCount=e.evenRowTileCount-2*e.evenRowContentStartIndex,e.oddRowContentEndIndex=e.oddRowContentStartIndex+e.oddRowContentTileCount-1,e.evenRowContentEndIndex=e.evenRowContentStartIndex+e.evenRowContentTileCount-1,e.actualContentInnerIndices=[],l=Math.ceil(N.contentStartingRowIndex/2)*e.oddRowContentTileCount+Math.floor(N.contentStartingRowIndex/2)*e.evenRowContentTileCount,r=0,a=e.originalContentInnerIndices.length;a>r;r+=1)e.actualContentInnerIndices[r]=e.originalContentInnerIndices[r]+l;for(e.innerIndexOfLastContentTile=e.actualContentInnerIndices[e.actualContentInnerIndices.length-1],s=l+e.innerIndexOfLastContentTile+1,n=0,o=0;s>n;)n+=o%2===0?e.oddRowContentTileCount:e.evenRowContentTileCount,o+=1;o>e.rowCount?(e.rowCount=o+(e.isVertical?0:1),e.height=(e.rowCount-2)*e.rowDeltaY):e.height=i}function i(){var e,t,i,n,o;for(e=this,o=[],n=e.postData.length,t=0;n>t;t+=1)o[t]=1;for(n=1/N.contentDensity*e.postData.length,t=e.postData.length;n>t;t+=1)o[t]=0;for(o=window.hg.util.shuffle(o),e.originalContentInnerIndices=[],t=0,i=0,n=o.length;n>t;t+=1)o[t]&&(e.originalContentInnerIndices[i++]=t)}function n(){var e;e=this,e.svg=document.createElementNS(window.hg.util.svgNamespace,"svg"),e.parent.appendChild(e.svg),e.svg.style.display="block",e.svg.style.position="relative",e.svg.style.width="1px",e.svg.style.height="1px",e.svg.style.zIndex="1000",e.svg.style.overflow="visible",e.svg.setAttribute("data-hg-svg","data-hg-svg"),e.svgDefs=document.createElementNS(window.hg.util.svgNamespace,"defs"),e.svg.appendChild(e.svgDefs)}function o(){var e,t,i,n,o,s,c,d,u,g,h,p,m,b,f,w,v,y;for(e=this,e.originalTiles=[],e.originalBorderTiles=[],t=0,m=0,b=0,d=N.firstRowYOffset,n=e.rowCount,w=[],f=l.call(e),v=e.oddRowTileCount>e.evenRowTileCount,i=0;n>i;i+=1,d+=e.rowDeltaY)for(p=i%2===0,y=v&&p||!v&&!p,p?(c=e.oddRowXOffset,s=e.oddRowTileCount):(c=e.evenRowXOffset,s=e.evenRowTileCount),o=0;s>o;t+=1,o+=1,c+=e.tileDeltaX)u=p?o<e.oddRowContentStartIndex||o>e.oddRowContentEndIndex:o<e.evenRowContentStartIndex||o>e.evenRowContentEndIndex,g=e.isVertical?0===o||o===s-1||0===i||i===n-1:1>=i||i>=n-2||y&&(0===o||o===s-1),h=g&&(e.isVertical?!(0!==o&&o!==s-1||0!==i&&i!==n-1):(1>=i||i>=n-2)&&y&&(0===o||o===s-1)),e.originalTiles[t]=new window.hg.Tile(e.svg,e,c,d,N.tileOuterRadius,e.isVertical,N.tileHue,N.tileSaturation,N.tileLightness,null,t,i,o,u,g,h,y,N.tileMass),g&&e.originalBorderTiles.push(e.originalTiles[t]),u||(m===e.actualContentInnerIndices[b]&&(e.originalTiles[t].setContent(e.postData[b]),e.contentTiles[b]=e.originalTiles[t],b+=1),m+=1),w[t]=a.call(e,i,n,o,s,y,f);r.call(e,w),x.call(e,e.originalTiles)}function r(e){var t,i,n,o,r,a;for(t=this,a=[],i=0,o=t.originalTiles.length;o>i;i+=1){for(n=0,r=6;r>n;n+=1)a[n]=isNaN(e[i][n])?null:t.originalTiles[i+e[i][n]];t.originalTiles[i].setNeighborTiles(a)}}function a(e,t,i,n,o,r){var a,l;return a=this,l=r.slice(0),a.isVertical?(o?(0===i&&(l[3]=Number.NaN,l[4]=Number.NaN,l[5]=Number.NaN),i===n-1&&(l[0]=Number.NaN,l[1]=Number.NaN,l[2]=Number.NaN)):(0===i&&(l[4]=Number.NaN),i===n-1&&(l[1]=Number.NaN)),0===e&&(l[0]=Number.NaN,l[5]=Number.NaN),e===t-1&&(l[2]=Number.NaN,l[3]=Number.NaN)):(o&&(0===i&&(l[4]=Number.NaN,l[5]=Number.NaN),i===n-1&&(l[1]=Number.NaN,l[2]=Number.NaN)),0===e?(l[0]=Number.NaN,l[1]=Number.NaN,l[5]=Number.NaN):1===e&&(l[0]=Number.NaN),e===t-1?(l[2]=Number.NaN,l[3]=Number.NaN,l[4]=Number.NaN):e===t-2&&(l[3]=Number.NaN)),l}function l(){var e,t,i;return e=this,i=[],t=e.oddRowTileCount>e.evenRowTileCount?e.oddRowTileCount:e.evenRowTileCount,e.isVertical?(i[0]=-t+1,i[1]=1,i[2]=t,i[3]=t-1,i[4]=-1,i[5]=-t):(i[0]=2*-t+1,i[1]=-t+1,i[2]=t,i[3]=2*t-1,i[4]=t-1,i[5]=-t),i}function s(){var e,t;for(e=this,t=e.svg,e.annotations.destroyAnnotations();t.firstChild;)t.removeChild(t.firstChild);e.svg.appendChild(e.svgDefs)}function c(){var e,t,i;for(e=this,t=0,i=e.allTiles.length;i>t;t+=1)e.allTiles[t].element.setAttribute("data-hg-index",t)}function d(){var e=this;console.log("// --- Grid Info: ------- //"),console.log("// - Tile count="+e.originalTiles.length),console.log("// - Row count="+e.rowCount),console.log("// - Odd row tile count="+e.oddRowTileCount),console.log("// - Even row tile count="+e.evenRowTileCount),console.log("// ------------------------- //")}function u(){var e;e=this,e.allTiles&&e.allTiles.forEach(function(e){e.destroy()}),e.isPostOpen&&e.pagePost.destroy(),e.originalCenter={x:Number.NaN,y:Number.NaN},e.currentCenter={x:Number.NaN,y:Number.NaN},e.panCenter={x:Number.NaN,y:Number.NaN},e.isPostOpen=!1,e.isTransitioning=!1,e.expandedTile=null,e.sectors=[],e.allTiles=null,e.allNonContentTiles=null,e.lastExpansionJob=null,e.parent.style.overflowX="hidden",e.parent.style.overflowY="auto",s.call(e),t.call(e),o.call(e),d.call(e)}function g(){var e=this;e.parent.style.backgroundColor="hsl("+N.backgroundHue+","+N.backgroundSaturation+"%,"+N.backgroundLightness+"%)"}function h(){var e,t,i;for(e=this,t=0,i=e.allNonContentTiles.length;i>t;t+=1)e.allNonContentTiles[t].setColor(N.tileHue,N.tileSaturation,N.tileLightness)}function p(e){var t,i,n;for(t=this,i=0,n=t.allTiles.length;n>i;i+=1)t.allTiles[i].particle.m=e}function m(){var e=this;e.isComplete=!1}function b(e,t){var i,n,o;for(i=this,n=0,o=i.allTiles.length;o>n;n+=1)i.allTiles[n].update(e,t)}function f(){var e,t,i;for(e=this,t=0,i=e.allTiles.length;i>t;t+=1)e.allTiles[t].draw();e.isPostOpen&&e.pagePost.draw()}function w(){var e=this;e.isComplete=!0}function v(e){var t=this;t.hoveredTile&&t.hoveredTile.setIsHighlighted(!1),e&&e.setIsHighlighted(!0),t.hoveredTile=e}function y(e,t){var i=this;return i.pagePost=new window.hg.PagePost(e,t),i.pagePost}function C(){var e=this;e.pagePost.destroy(),e.pagePost=null}function x(e){var t,i,n,o=this;for(o.allTiles=e,o.allNonContentTiles=[],n=0,t=0,i=e.length;i>t;t+=1)e[t].holdsContent||(o.allNonContentTiles[n++]=e[t]);o.annotations.destroyAnnotations(),o.annotations.createAnnotations(),c.call(o)}function T(){N.computeDependentValues()}var N={};N.targetContentAreaWidth=800,N.backgroundHue=230,N.backgroundSaturation=1,N.backgroundLightness=4,N.tileHue=230,N.tileSaturation=67,N.tileLightness=22,N.tileOuterRadius=80,N.tileGap=12,N.contentStartingRowIndex=2,N.firstRowYOffset=N.tileOuterRadius*-.8,N.contentDensity=.6,N.tileMass=1,N.computeDependentValues=function(){N.sqrtThreeOverTwo=Math.sqrt(3)/2,N.twoOverSqrtThree=2/Math.sqrt(3),N.tileInnerRadius=N.tileOuterRadius*N.sqrtThreeOverTwo,N.longGap=N.tileGap*N.twoOverSqrtThree,N.tileShortLengthWithGap=2*N.tileInnerRadius+N.tileGap,N.tileLongLengthWithGap=2*N.tileOuterRadius+N.longGap},N.computeDependentValues(),e.config=N,window.hg=window.hg||{},window.hg.Grid=e,console.log("Grid module loaded")}(),function(){function e(e){var i=this;i.grid=e,t.call(i)}function t(){function e(e){var t;(t=a(e))&&(t.element.getAttribute("data-hg-post-tile"),l.grid.setHoveredTile(t))}function t(e){var t;e.relatedTarget&&"HTML"!==e.relatedTarget.nodeName?(t=a(e))&&(t.element.getAttribute("data-hg-post-tile"),l.grid.setHoveredTile(null),window.hg.controller.transientJobs.HighlightHoverJob.create(l.grid,t),e.stopPropagation()):(console.log("The mouse left the viewport"),l.grid.setHoveredTile(null))}function n(e){e.target.getAttribute("data-hg-post-tile")||e.target.getAttribute("data-hg-tile")}function o(e){e.target.getAttribute("data-hg-post-tile")}function r(e){var t;0===e.button&&(t=a(e))&&(t.element.getAttribute("data-hg-post-tile"),i(l.grid,t))}function a(e){var t;return e.target.getAttribute("data-hg-tile")?(t=e.target.getAttribute("data-hg-index"),l.grid.allTiles[t]):null}var l;l=this,document.addEventListener("mouseover",e,!1),document.addEventListener("mouseout",t,!1),document.addEventListener("mousemove",n,!1),document.addEventListener("mousedown",o,!1),document.addEventListener("mouseup",r,!1)}function i(e,t){t.holdsContent?(n.possibleClickAnimations[n.contentTileClickAnimation](e,t),e.isPostOpen&&window.hg.controller.transientJobs.ClosePostJob.create(e,e.expandedTile),window.hg.controller.transientJobs.OpenPostJob.create(e,t)):(n.possibleClickAnimations[n.emptyTileClickAnimation](e,t),e.isPostOpen&&window.hg.controller.transientJobs.ClosePostJob.create(e,e.expandedTile))}var n={};n.contentTileClickAnimation="Radiate Highlight",n.emptyTileClickAnimation="Radiate Highlight",n.possibleClickAnimations={"Radiate Highlight":window.hg.controller.transientJobs.HighlightRadiateJob.create,"Radiate Lines":window.hg.controller.transientJobs.LinesRadiateJob.create,"Random Line":window.hg.controller.transientJobs.LineJob.create,None:function(){}},e.config=n,window.hg=window.hg||{},window.hg.Input=e,console.log("Input module loaded")}(),function(){function e(e,i){var n=this;n.tile=e,n.elements=null,n.carousel=null,n.opacity=0,n.paddingX=Number.NaN,n.paddingY=Number.NaN,n.halfWidth=Number.NaN,n.halfHeight=Number.NaN,n.innerWrapperPaddingFromCss=Number.NaN,n.center={x:i.x,y:i.y},n.loadCarouselMedia=r,n.draw=a,n.destroy=l,t.call(n),console.log("PagePost created: postId="+e.postData.id+", tileIndex="+e.originalIndex)}function t(){var e=this,t=new Showdown.converter({extensions:["github"]}),r=window.hg.Grid.config.tileShortLengthWithGap*(window.hg.OpenPostJob.config.expandedDisplacementTileCount+4.25),l=2*window.hg.Grid.config.longGap*window.hg.OpenPostJob.config.expandedDisplacementTileCount+window.hg.Grid.config.tileOuterRadius*(3*window.hg.OpenPostJob.config.expandedDisplacementTileCount+2);switch(window.hg.OpenPostJob.config.expandedDisplacementTileCount){case 2:l+=window.hg.Grid.config.tileOuterRadius;break;case 1:l+=3*window.hg.Grid.config.tileOuterRadius,r-=window.hg.Grid.config.tileShortLengthWithGap;break;case 0:l+=4*window.hg.Grid.config.tileOuterRadius,r-=window.hg.Grid.config.tileShortLengthWithGap}var s,c,d,u,g,h,p,m,b=1.15*window.hg.Grid.config.tileShortLengthWithGap,f=2.25*window.hg.Grid.config.tileOuterRadius;e.tile.grid.isVertical?(s=r,c=l,d=b,u=f):(s=l,c=r,d=f,u=b),s-=2*d,c-=2*u,e.paddingX=d,e.paddingY=u,e.halfWidth=s/2,e.halfHeight=c/2,g="hsl("+window.hg.Grid.config.backgroundHue+","+window.hg.Grid.config.backgroundSaturation+"%,"+window.hg.Grid.config.backgroundLightness+"%)",h="hsla("+window.hg.Grid.config.backgroundHue+","+window.hg.Grid.config.backgroundSaturation+"%,"+window.hg.Grid.config.backgroundLightness+"%,0)";var w=document.createElement("div"),v=document.createElement("div"),y=document.createElement("div"),C=document.createElement("h1"),x=document.createElement("div"),T=document.createElement("div"),N=document.createElement("div"),A=document.createElement("div"),S=document.createElement("div"),D=document.createElement("div"),R=document.createElement("div");e.tile.grid.parent.appendChild(w),w.appendChild(v),v.appendChild(y),y.appendChild(T),y.appendChild(N),y.appendChild(C),y.appendChild(A),y.appendChild(x),y.appendChild(S),w.appendChild(D),w.appendChild(R),e.elements=[],e.elements.container=w,e.elements.title=C,e.elements.content=x,e.elements.logo=T,e.elements.date=N,e.elements.urls=A,e.elements.categories=S,w.setAttribute("data-hg-post-container","data-hg-post-container"),w.style.position="absolute",w.style.width=s+d+"px",w.style.height=c+2*u+"px",w.style.margin="0",w.style.padding="0",w.style.overflow="hidden",w.style.zIndex=window.hg.controller.isSafariBrowser?"1500":"500",v.setAttribute("data-hg-post-outer-wrapper","data-hg-post-outer-wrapper"),v.style.width=s+"px",v.style.height=c+2*u+"px",v.style.margin="0",v.style.padding="0 0 0 "+d+"px",v.style.overflow="auto",v.style.webkitOverflowScrolling="touch",y.setAttribute("data-hg-post-inner-wrapper","data-hg-post-inner-wrapper"),p=parseInt(window.getComputedStyle(y,null).getPropertyValue("padding-top")),m=p+u,y.style.padding=m+"px "+p+"px "+m+"px "+p+"px",y.style.minHeight=c-2*p+"px",y.style.overflowX="hidden",e.innerWrapperPaddingFromCss=p,C.setAttribute("data-hg-post-title","data-hg-post-title"),C.innerHTML=e.tile.postData.titleLong,D.style.position="absolute",D.style.top="0",D.style.left=d+"px",D.style.height=u+"px",D.style.width=s+"px",D.style.backgroundColor="#000000",D.style.background="linear-gradient(0,"+h+","+g+" 75%)",D.style.pointerEvents="none",R.style.position="absolute",R.style.bottom="0",R.style.left=d+"px",R.style.height=u+"px",R.style.width=s+"px",R.style.backgroundColor="#000000",R.style.background="linear-gradient(0,"+g+" 25%,"+h+")",R.style.pointerEvents="none",x.setAttribute("data-hg-post-content","data-hg-post-content"),x.innerHTML=t.makeHtml(e.tile.postData.content),T.setAttribute("data-hg-post-logo","data-hg-post-logo"),T.style.backgroundImage="url("+e.tile.postData.logoSrc+")",N.setAttribute("data-hg-post-date","data-hg-post-date"),i.call(e),A.setAttribute("data-hg-post-urls","data-hg-post-urls"),n.call(e),S.setAttribute("data-hg-post-categories","data-hg-post-categories"),o.call(e),e.carousel=new window.hg.Carousel(e.tile.grid,e,y,e.tile.postData.images,e.tile.postData.videos,!0),y.removeChild(e.carousel.elements.container),y.insertBefore(e.carousel.elements.container,A),a.call(e)
}function i(){function e(e){var t;if("present"===e.toLowerCase())return e;switch(t=e.split("/"),t.length){case 1:return t[0];case 2:return s.monthLabels[t[0]]+" "+t[1];case 3:return s.monthLabels[t[0]]+" "+t[1]+", "+t[2];default:throw new Error("Invalid date string format: "+e)}}var t=this,i=t.elements.date,n=t.tile.postData.date;i.innerHTML="object"==typeof n?e(n.start)+" &ndash; "+e(n.end):e(n),t.tile.postData.date||(i.style.display="none")}function n(){function e(e,t){var n,o,r,a;o=t.replace(/^.*:\/\//,""),n=s.urlLabels[e],n||(console.warn("Unknown URL type: "+e),n=e),r=document.createElement("p"),a=document.createElement("a"),r.innerHTML=n+": ",r.style.overflow="hidden",r.style.whiteSpace="nowrap",r.style.textOverflow="ellipsis",a.innerHTML=o,a.setAttribute("href",t),r.appendChild(a),i.appendChild(r)}var t=this,i=t.elements.urls,n=Object.keys(t.tile.postData.urls);n.forEach(function(i){e(i,t.tile.postData.urls[i])}),n.length||(i.style.display="none")}function o(){function e(e){var t=document.createElement("span");i.appendChild(t),t.setAttribute("data-hg-post-category-card","data-hg-post-category-card"),t.style.display="inline-block",t.innerHTML=e}var t=this,i=t.elements.categories;t.tile.postData.categories.forEach(e),t.tile.postData.categories.length||(i.style.display="none")}function r(){var e=this;e.carousel.loadMedia()}function a(){var e=this;e.elements.container.style.left=e.center.x-e.halfWidth-e.paddingX+"px",e.elements.container.style.top=e.center.y-e.halfHeight-e.paddingY+"px",e.elements.container.style.opacity=e.opacity,e.carousel.draw()}function l(){var e=this;e.carousel.destroy(),e.tile.grid.parent.removeChild(e.elements.container),e.elements=null}var s;s={},s.urlLabels={homepage:"Homepage",published:"Published at",demo:"Demo Site",npm:"NPM Registry",bower:"Bower Registry",codepen:"CodePen",github:"Repository",googleCode:"Repository",githubProfile:"GitHub",linkedin:"LinkedIn",facebook:"Facebook",googlePlus:"Google+",reverbNation:"Reverb Nation"},s.monthLabels={1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},s.computeDependentValues=function(){},s.computeDependentValues(),e.config=s,window.hg=window.hg||{},window.hg.PagePost=e,console.log("PagePost module loaded")}(),function(){function e(e,n,o,r){var a=this;a.grid=e,a.baseTile=n,a.index=o,a.expandedDisplacementTileCount=r,a.originalAnchor={x:Number.NaN,y:Number.NaN},a.currentAnchor={x:Number.NaN,y:Number.NaN},a.majorNeighborDelta={x:Number.NaN,y:Number.NaN},a.minorNeighborDelta={x:Number.NaN,y:Number.NaN},a.expandedDisplacement={x:Number.NaN,y:Number.NaN},a.tiles=null,a.tilesByIndex=null,a.newTiles=null,a.initializeExpandedStateExternalTileNeighbors=c,a.destroy=d,a.setOriginalPositionForExpansion=u,a.updateCurrentPosition=g,t.call(a),i.call(a)}function t(){var e,t,i,n;e=this,e.majorNeighborIndex=e.index,e.minorNeighborIndex=(e.index+1)%6,e.majorNeighborDelta.x=e.baseTile.neighborStates[e.majorNeighborIndex].tile.originalAnchor.x-e.baseTile.originalAnchor.x,e.majorNeighborDelta.y=e.baseTile.neighborStates[e.majorNeighborIndex].tile.originalAnchor.y-e.baseTile.originalAnchor.y,e.minorNeighborDelta.x=e.baseTile.neighborStates[e.minorNeighborIndex].tile.originalAnchor.x-e.baseTile.originalAnchor.x,e.minorNeighborDelta.y=e.baseTile.neighborStates[e.minorNeighborIndex].tile.originalAnchor.y-e.baseTile.originalAnchor.y,t=(e.index+5)%6,i=e.baseTile.neighborStates[t].tile.originalAnchor.x-e.baseTile.originalAnchor.x,n=e.baseTile.neighborStates[t].tile.originalAnchor.y-e.baseTile.originalAnchor.y,e.expandedDisplacement.x=e.expandedDisplacementTileCount*i,e.expandedDisplacement.y=e.expandedDisplacementTileCount*n,e.originalAnchor.x=e.baseTile.originalAnchor.x+e.majorNeighborDelta.x,e.originalAnchor.y=e.baseTile.originalAnchor.y+e.majorNeighborDelta.y,e.currentAnchor.x=e.originalAnchor.x,e.currentAnchor.y=e.originalAnchor.y}function i(){var e;e=this,e.tilesByIndex=[],e.newTiles=[],e.tiles=[],n.call(e),o.call(e),l.call(e),s.call(e)}function n(){function e(){var e,t,n,o;n=0,e=i.baseTile.neighborStates[i.majorNeighborIndex].tile;do{t=e,o=0,i.tilesByIndex[n]=i.tilesByIndex[n]||[];do i.tilesByIndex[n][o]||r.call(i,t,n,o),o++;while(t.neighborStates[i.minorNeighborIndex]&&(t=t.neighborStates[i.minorNeighborIndex].tile));n++}while(e.neighborStates[i.majorNeighborIndex]&&(e=e.neighborStates[i.majorNeighborIndex].tile))}function t(){var e,t,n,o;o=0,e=i.baseTile.neighborStates[i.majorNeighborIndex].tile;do{t=e,n=0;do i.tilesByIndex[n]=i.tilesByIndex[n]||[],i.tilesByIndex[n][o]||r.call(i,t,n,o),n++;while(t.neighborStates[i.majorNeighborIndex]&&(t=t.neighborStates[i.majorNeighborIndex].tile));o++}while(e.neighborStates[i.minorNeighborIndex]&&(e=e.neighborStates[i.minorNeighborIndex].tile))}var i;i=this,e(),t()}function o(){function e(){var e,t,i,o,r,a;return r=window.innerWidth/2+window.hg.Grid.config.tileLongLengthWithGap,a=window.innerHeight/2+window.hg.Grid.config.tileLongLengthWithGap,e=n.baseTile.originalAnchor.x-r,t=n.baseTile.originalAnchor.x+r,i=n.baseTile.originalAnchor.y-a,o=n.baseTile.originalAnchor.y+a,e-=n.expandedDisplacement.x,t-=n.expandedDisplacement.x,i-=n.expandedDisplacement.y,o-=n.expandedDisplacement.y,{minX:e,maxX:t,minY:i,maxY:o}}function t(e){var t,i,o,r,l,s;t=n.baseTile.originalAnchor.x+n.majorNeighborDelta.x,i=n.baseTile.originalAnchor.y+n.majorNeighborDelta.y,l=0,s=0,o=t,r=i;do{n.tilesByIndex[l]=n.tilesByIndex[l]||[];do n.tilesByIndex[l][s]||a.call(n,l,s,o,r),s++,o+=n.minorNeighborDelta.x,r+=n.minorNeighborDelta.y;while(o>=e.minX&&o<=e.maxX&&r>=e.minY&&r<=e.maxY);l++,s=0,o=t+l*n.majorNeighborDelta.x,r=i+l*n.majorNeighborDelta.y}while(o>=e.minX&&o<=e.maxX&&r>=e.minY&&r<=e.maxY)}function i(e){var t,i,o,r,l,s;t=n.baseTile.originalAnchor.x+n.majorNeighborDelta.x,i=n.baseTile.originalAnchor.y+n.majorNeighborDelta.y,l=0,s=0,o=t,r=i;do{do n.tilesByIndex[l]=n.tilesByIndex[l]||[],n.tilesByIndex[l][s]||a.call(n,l,s,o,r),l++,o+=n.majorNeighborDelta.x,r+=n.majorNeighborDelta.y;while(o>=e.minX&&o<=e.maxX&&r>=e.minY&&r<=e.maxY);l=0,s++,o=t+s*n.minorNeighborDelta.x,r=i+s*n.minorNeighborDelta.y}while(o>=e.minX&&o<=e.maxX&&r>=e.minY&&r<=e.maxY)}var n,o;n=this,o=e(),t(o),i(o)}function r(e,t,i){var n=this;n.tilesByIndex[t][i]=e,window.hg.Tile.initializeTileExpandedState(e,n,t,i),e.sectorAnchorOffset.x=e.originalAnchor.x-n.originalAnchor.x,e.sectorAnchorOffset.y=e.originalAnchor.y-n.originalAnchor.y}function a(e,t,i,n){var o=this,a=new window.hg.Tile(o.grid.svg,o.grid,i,n,window.hg.Grid.config.tileOuterRadius,o.grid.isVertical,window.hg.Grid.config.tileHue,window.hg.Grid.config.tileSaturation,window.hg.Grid.config.tileLightness,null,Number.NaN,Number.NaN,Number.NaN,!0,!1,!1,!1,window.hg.Grid.config.tileMass);return r.call(o,a,e,t),o.newTiles[o.newTiles.length]=a,a}function l(){function e(e,t,i){var n,o,r,a;for(n=e.tilesByIndex[t][i],o=0;6>o;o+=1){switch(o){case e.index:r=t+1,a=i;break;case(e.index+1)%6:r=t,a=i+1;break;case(e.index+2)%6:r=t-1,a=i+1;break;case(e.index+3)%6:r=t-1,a=i;break;case(e.index+4)%6:r=t,a=i-1;break;case(e.index+5)%6:r=t+1,a=i-1;break;default:throw new Error("Invalid neighborRelationIndex: "+o)}e.tilesByIndex[r]&&e.tilesByIndex[r][a]&&window.hg.Tile.setTileNeighborState(n,o,e.tilesByIndex[r][a])}}var t,i,n;for(t=this,i=0;t.tilesByIndex[i];i+=1)for(n in t.tilesByIndex[i])e(t,i,parseInt(n))}function s(){var e,t,i,n;e=this,t=0;for(i in e.tilesByIndex)for(n in e.tilesByIndex[i])e.tiles[t++]=e.tilesByIndex[i][n]}function c(e){var t,i,n,o,r,a,l,s,c;for(t=this,a=(t.index+2)%6,l=(t.index+3)%6,s=e[(t.index+1)%6],i=t.tilesByIndex[0],n=s.tilesByIndex,o=t.expandedDisplacementTileCount,c=0,i[o]&&window.hg.Tile.setTileNeighborState(i[o],a,s.tilesByIndex[c][0]),o+=1,r=i.length-1;r>o;o+=1)window.hg.Tile.setTileNeighborState(i[o],l,s.tilesByIndex[c][0]),c+=1,window.hg.Tile.setTileNeighborState(i[o],a,s.tilesByIndex[c][0]);for(i[o]&&(window.hg.Tile.setTileNeighborState(i[o],l,s.tilesByIndex[c][0]),c+=1,s.tilesByIndex[c]&&s.tilesByIndex[c][0]&&window.hg.Tile.setTileNeighborState(i[o],a,s.tilesByIndex[c][0])),r=t.expandedDisplacementTileCount+1,r=i.length<r?i.length:r,o=0;r>o;o+=1)i[o].expandedState.isBorderTile=!0;for(o=i.length-1-t.expandedDisplacementTileCount,o=0>o?0:o,r=n.length;r>o;o+=1)n[o][0]&&(n[o][0].expandedState.isBorderTile=!0);for(o=0,r=t.tilesByIndex.length;r>o;o+=1)t.tilesByIndex[o].length&&(t.tilesByIndex[o][t.tilesByIndex[o].length-1].expandedState.isBorderTile=!0)}function d(e){var t,i,n;if(t=this,e)for(i=0,n=t.tiles.length;n>i;i+=1)t.tiles[i].expandedState=null;for(i=0,n=t.newTiles.length;n>i;i+=1)t.newTiles[i].neighborStates=null,t.newTiles[i].destroy()}function u(e){var t,i,n,o,r;for(t=this,e?(o=t.expandedDisplacement.x,r=t.expandedDisplacement.y):(o=-t.expandedDisplacement.x,r=-t.expandedDisplacement.y),t.originalAnchor.x+=o,t.originalAnchor.y+=r,i=0,n=t.tiles.length;n>i;i+=1)t.tiles[i].originalAnchor.x+=o,t.tiles[i].originalAnchor.y+=r}function g(e,t){var i,n,o;for(i=this,i.currentAnchor.x=i.originalAnchor.x+e,i.currentAnchor.y=i.originalAnchor.y+t,n=0,o=i.tiles.length;o>n;n+=1)i.tiles[n].currentAnchor.x+=e,i.tiles[n].currentAnchor.y+=t}var h={};h.computeDependentValues=function(){},h.computeDependentValues(),e.config=h,window.hg=window.hg||{},window.hg.Sector=e,console.log("Sector module loaded")}(),function(){function e(e,n,r,a,w,v,y,N,A,S,D,R,P,L,J,I,E,O){var G=this;G.svg=e,G.grid=n,G.element=null,G.currentAnchor={x:r,y:a},G.originalAnchor={x:r,y:a},G.sectorAnchorOffset={x:Number.NaN,y:Number.NaN},G.outerRadius=w,G.isVertical=v,G.originalColor={h:y,s:N,l:A},G.currentColor={h:y,s:N,l:A},G.postData=S,G.holdsContent=!!S,G.tilePost=null,G.originalIndex=D,G.rowIndex=R,G.columnIndex=P,G.isMarginTile=L,G.isBorderTile=J,G.isCornerTile=I,G.isInLargerRow=E,G.expandedState=null,G.isHighlighted=!1,G.imageScreenOpacity=Number.NaN,G.neighborStates=[],G.vertices=null,G.currentVertexDeltas=null,G.originalVertexDeltas=null,G.expandedVertexDeltas=null,G.particle=null,G.setContent=l,G.setNeighborTiles=s,G.setColor=c,G.setIsHighlighted=d,G.update=u,G.draw=g,G.applyExternalForce=h,G.fixPosition=p,G.getNeighborStates=m,G.getIsBorderTile=b,G.setIsBorderTile=f,G.destroy=C,G.hide=x,G.show=T,t.call(G),i.call(G,O),G.holdsContent&&o.call(G)}function t(){var e,t;e=this,t=isNaN(e.originalIndex)?parseInt(1e6*Math.random()+1e3):e.originalIndex,e.originalVertexDeltas=w(e.outerRadius,e.isVertical),e.currentVertexDeltas=e.originalVertexDeltas.slice(0),e.vertices=[],n.call(e,e.currentAnchor.x,e.currentAnchor.y),e.element=document.createElementNS(window.hg.util.svgNamespace,"polygon"),e.svg.appendChild(e.element),e.element.id="hg-"+t,e.element.setAttribute("data-hg-tile","data-hg-tile"),e.element.style.cursor="pointer",g.call(e)}function i(e){var t;t=this,t.particle={},t.particle.px=t.currentAnchor.x,t.particle.py=t.currentAnchor.y,t.particle.vx=0,t.particle.vy=0,t.particle.fx=0,t.particle.fy=0,t.particle.m=e,t.particle.forceAccumulatorX=0,t.particle.forceAccumulatorY=0}function n(e,t){var i,n,o;for(i=this,n=0,o=0;6>n;n+=1)i.vertices[o]=e+i.currentVertexDeltas[o++],i.vertices[o]=t+i.currentVertexDeltas[o++]}function o(){var e=this;e.element.setAttribute("data-hg-post-tilePost","data-hg-post-tilePost"),e.tilePost=new window.hg.TilePost(e)}function r(){var e=this;e.element.removeAttribute("data-hg-post-tilePost"),e.tilePost.destroy(),e.tilePost=null}function a(){var e,t,i,n,o;for(i=Math.PI/3,n=-i,o=Math.PI/6-2*i,N.horizontalSines=[],N.horizontalCosines=[],e=0,t=n;6>e;e+=1,t+=i)N.horizontalSines[e]=Math.sin(t),N.horizontalCosines[e]=Math.cos(t);for(N.verticalSines=[],N.verticalCosines=[],e=0,t=o;6>e;e+=1,t+=i)N.verticalSines[e]=Math.sin(t),N.verticalCosines[e]=Math.cos(t)}function l(e){var t,i;t=this,i=t.holdsContent,t.postData=e,t.holdsContent=!!e,i?(r.call(t),o.call(t)):o.call(t)}function s(e){var t,i,n;for(t=this,i=0;6>i;i+=1)n=e[i],v(t,i,n)}function c(e,t,i){var n=this;n.isHighlighted&&(e+=window.hg.HighlightHoverJob.config.deltaHue,t+=window.hg.HighlightHoverJob.config.deltaSaturation,i+=window.hg.HighlightHoverJob.config.deltaLightness),n.originalColor.h=e,n.originalColor.s=t,n.originalColor.l=i,n.currentColor.h=e,n.currentColor.s=t,n.currentColor.l=i}function d(e){var t,i,n,o;t=this,e?t.isHighlighted?(i=t.originalColor.h,n=t.originalColor.s,o=t.originalColor.l):(i=t.originalColor.h+window.hg.HighlightHoverJob.config.deltaHue*window.hg.HighlightHoverJob.config.opacity,n=t.originalColor.s+window.hg.HighlightHoverJob.config.deltaSaturation*window.hg.HighlightHoverJob.config.opacity,o=t.originalColor.l+window.hg.HighlightHoverJob.config.deltaLightness*window.hg.HighlightHoverJob.config.opacity):t.isHighlighted?(i=t.originalColor.h-window.hg.HighlightHoverJob.config.deltaHue*window.hg.HighlightHoverJob.config.opacity,n=t.originalColor.s-window.hg.HighlightHoverJob.config.deltaSaturation*window.hg.HighlightHoverJob.config.opacity,o=t.originalColor.l-window.hg.HighlightHoverJob.config.deltaLightness*window.hg.HighlightHoverJob.config.opacity):(i=t.originalColor.h,n=t.originalColor.s,o=t.originalColor.l),t.originalColor.h=i,t.originalColor.s=n,t.originalColor.l=o,t.currentColor.h=i,t.currentColor.s=n,t.currentColor.l=o,t.isHighlighted=e}function u(e,t){var i,o,r,a,l,s,c,d,u,g,h,p,m,b,f;if(i=this,!i.particle.isFixed){for(a=i.getNeighborStates(),l=i.getIsBorderTile(),i.particle.forceAccumulatorX+=-N.dragCoeff*i.particle.vx,i.particle.forceAccumulatorY+=-N.dragCoeff*i.particle.vy,o=0,r=a.length;r>o;o+=1)s=a[o],s&&(s.springForceX?(i.particle.forceAccumulatorX+=s.springForceX,i.particle.forceAccumulatorY+=s.springForceY,s.springForceX=0,s.springForceY=0):(c=s.tile.particle.px-i.particle.px,d=s.tile.particle.py-i.particle.py,u=s.tile.particle.vx-i.particle.vx,g=s.tile.particle.vy-i.particle.vy,h=c*u+d*g,p=Math.sqrt(c*c+d*d),m=(N.neighborSpringCoeff*(p-s.restLength)+N.neighborDampingCoeff*h/p)/p,b=c*m,f=d*m,i.particle.forceAccumulatorX+=b,i.particle.forceAccumulatorY+=f,s.neighborsRelationshipObj.springForceX=-b,s.neighborsRelationshipObj.springForceY=-f));c=i.currentAnchor.x-i.particle.px,d=i.currentAnchor.y-i.particle.py,p=Math.sqrt(c*c+d*d),p>0&&(u=-i.particle.vx,g=-i.particle.vy,h=c*u+d*g,m=l?(N.borderAnchorSpringCoeff*p+N.borderAnchorDampingCoeff*h/p)/p:(N.innerAnchorSpringCoeff*p+N.innerAnchorDampingCoeff*h/p)/p,b=c*m,f=d*m,i.particle.forceAccumulatorX+=b,i.particle.forceAccumulatorY+=f),i.particle.fx=i.particle.forceAccumulatorX/i.particle.m*t,i.particle.fy=i.particle.forceAccumulatorY/i.particle.m*t,i.particle.px+=i.particle.vx*t,i.particle.py+=i.particle.vy*t,i.particle.vx+=i.particle.fx,i.particle.vy+=i.particle.fy,i.particle.fx=i.particle.fx<N.forceSuppressionLowerThreshold&&i.particle.fx>N.forceSuppressionThresholdNegative?0:i.particle.fx,i.particle.fy=i.particle.fy<N.forceSuppressionLowerThreshold&&i.particle.fy>N.forceSuppressionThresholdNegative?0:i.particle.fy,i.particle.vx=i.particle.vx<N.velocitySuppressionLowerThreshold&&i.particle.vx>N.velocitySuppressionThresholdNegative?0:i.particle.vx,i.particle.vy=i.particle.vy<N.velocitySuppressionLowerThreshold&&i.particle.vy>N.velocitySuppressionThresholdNegative?0:i.particle.vy,i.particle.forceAccumulatorX=0,i.particle.forceAccumulatorY=0,n.call(i,i.particle.px,i.particle.py)}}function g(){var e,t,i,n;for(e=this,t=0,i="";12>t;)i+=e.vertices[t++]+","+e.vertices[t++]+" ";e.element.setAttribute("points",i),e.holdsContent?e.tilePost.draw():(n="hsl("+e.currentColor.h+","+e.currentColor.s+"%,"+e.currentColor.l+"%)",e.element.setAttribute("fill",n))}function h(e,t){var i;i=this,i.particle.forceAccumulatorX+=e,i.particle.forceAccumulatorY+=t}function p(e,t){var i;i=this,i.particle.isFixed=!0,i.particle.px=e,i.particle.py=t}function m(){var e=this;return e.grid.isPostOpen?e.expandedState.neighborStates:e.neighborStates}function b(){var e=this;return e.grid.isPostOpen?e.expandedState.isBorderTile:e.isBorderTile}function f(e){var t=this;t.grid.isPostOpen?t.expandedState.isBorderTile=e:t.isBorderTile=e}function w(e,t){var i,n,o,r,a;for(t?(o=N.verticalSines,r=N.verticalCosines):(o=N.horizontalSines,r=N.horizontalCosines),i=0,n=0,a=[];6>i;i+=1)a[n++]=e*r[i],a[n++]=e*o[i];return a}function v(e,t,i){function n(e,t,i){e[t]=e[t]||{tile:i,restLength:window.hg.Grid.config.tileShortLengthWithGap,neighborsRelationshipObj:null,springForceX:0,springForceY:0}}var o,r,a;o=e.getNeighborStates(),i?(n(o,t,i),r=i.getNeighborStates(),a=(t+3)%6,n(r,a,e),o[t].neighborsRelationshipObj=r[a],r[a].neighborsRelationshipObj=o[t]):o[t]=null}function y(e,t,i,n){e.expandedState={sector:t,sectorMajorIndex:i,sectorMinorIndex:n,neighborStates:[],isBorderTile:!1}}function C(){var e=this;e.holdsContent&&r.call(e),e.svg.removeChild(e.element)}function x(){var e=this;e.element.style.display="none",e.holdsContent&&(e.tilePost.elements.title.style.display="none")}function T(){var e=this;e.element.style.display="block",e.holdsContent&&(e.tilePost.elements.title.style.display="block")}var N;N={},N.dragCoeff=.01,N.neighborSpringCoeff=1e-5,N.neighborDampingCoeff=.001,N.innerAnchorSpringCoeff=4e-5,N.innerAnchorDampingCoeff=.001,N.borderAnchorSpringCoeff=4e-5,N.borderAnchorDampingCoeff=.001,N.forceSuppressionLowerThreshold=5e-4,N.velocitySuppressionLowerThreshold=5e-4,N.computeDependentValues=function(){N.forceSuppressionThresholdNegative=-N.forceSuppressionLowerThreshold,N.velocitySuppressionThresholdNegative=-N.velocitySuppressionLowerThreshold},N.computeDependentValues(),e.computeVertexDeltas=w,e.setTileNeighborState=v,e.initializeTileExpandedState=y,e.config=N,window.hg=window.hg||{},window.hg.Tile=e,a(),console.log("Tile module loaded")}(),function(){function e(e){var o=this;o.tile=e,o.elements=null,o.draw=i,o.destroy=n,t.call(o)}function t(){var e,t,n,r,a=this,l="hg-pattern-"+a.tile.postData.id,s="hsl("+window.hg.Grid.config.backgroundHue+","+window.hg.Grid.config.backgroundSaturation+"%,"+window.hg.Grid.config.backgroundLightness+"%)",c=2*window.hg.Grid.config.tileOuterRadius,d=-o.fontSize*(1.5+.53*(a.tile.postData.titleShort.split("\n").length-1)),u=1,g=window.hg.Grid.config.tileOuterRadius/window.hg.Grid.config.tileInnerRadius,h=(1-g)/2;a.tile.grid.isVertical?(e=g,t=u,n=h,r="0"):(e=u,t=g,n="0",r=h);var p=document.createElementNS(window.hg.util.svgNamespace,"pattern"),m=document.createElementNS(window.hg.util.svgNamespace,"image"),b=document.createElementNS(window.hg.util.svgNamespace,"rect"),f=document.createElement("h2");a.tile.grid.svgDefs.appendChild(p),p.appendChild(m),p.appendChild(b),a.tile.grid.parent.appendChild(f),a.elements=[],a.elements.backgroundPattern=p,a.elements.backgroundImage=m,a.elements.backgroundImageScreen=b,a.elements.title=f,p.setAttribute("id",l),p.setAttribute("patternContentUnits","objectBoundingBox"),p.setAttribute("width","1"),p.setAttribute("height","1"),m.setAttributeNS(window.hg.util.xlinkNamespace,"xlink:href",a.tile.postData.thumbnailSrc),m.setAttribute("preserveAspectRatio","none"),m.setAttribute("x",n),m.setAttribute("y",r),m.setAttribute("width",e),m.setAttribute("height",t),b.setAttribute("width","1"),b.setAttribute("height","1"),b.setAttribute("fill",s),a.tile.element.setAttribute("fill","url(#"+l+")"),f.innerHTML=a.tile.postData.titleShort,f.setAttribute("data-hg-tile-title","data-hg-tile-title"),f.style.position="absolute",f.style.left=-c/2+"px",f.style.top=d+"px",f.style.width=c+"px",f.style.height=c+"px",f.style.fontSize=o.fontSize+"px",f.style.textAlign="center",f.style.whiteSpace="pre-wrap",f.style.pointerEvents="none",f.style.zIndex="1200",a.tile.imageScreenOpacity=o.inactiveScreenOpacity,i.call(a)}function i(){var e=this,t=e.tile.isHighlighted?window.hg.TilePost.config.activeScreenOpacity:e.tile.imageScreenOpacity,i=.5+2*(t-.5);i=i>1?1:0>i?0:i,window.hg.util.setTransform(e.elements.title,"translate("+e.tile.particle.px+"px,"+e.tile.particle.py+"px)"),e.elements.backgroundImageScreen.setAttribute("opacity",t),e.tile.grid.expandedTile!==e.tile&&(e.elements.title.style.opacity=i)}function n(){var e=this;e.tile.grid.parent.removeChild(e.elements.title),e.tile.grid.svgDefs.removeChild(e.elements.backgroundPattern)}var o;o={},o.activeScreenOpacity=0,o.inactiveScreenOpacity=.8,o.fontSize=18,o.computeDependentValues=function(){},o.computeDependentValues(),e.config=o,window.hg=window.hg||{},window.hg.TilePost=e,console.log("TilePost module loaded")}(),function(){function e(e){var t=this;t.startTime=e,t.isComplete=!1}function t(){var e,t,i;for(e=this,t=0,i=e.grid.allTiles.length;i>t;t+=1)e.grid.allTiles[t].currentColor.h=e.grid.allTiles[t].originalColor.h,e.grid.allTiles[t].currentColor.s=e.grid.allTiles[t].originalColor.s,e.grid.allTiles[t].currentColor.l=e.grid.allTiles[t].originalColor.l,e.grid.allTiles[t].imageScreenOpacity=window.hg.TilePost.config.inactiveScreenOpacity}function i(){}function n(){var e=this;e.isComplete=!0}function o(){var e=this;r.call(e)}function r(){}function a(a){var l=this;l.grid=a,l.startTime=0,l.isComplete=!0,l.start=e,l.update=t,l.draw=i,l.cancel=n,l.refresh=o,l.init=r,l.init(),console.log("ColorResetJob created")}var l={};l.computeDependentValues=function(){},l.computeDependentValues(),a.config=l,window.hg=window.hg||{},window.hg.ColorResetJob=a,console.log("ColorResetJob module loaded")}(),function(){function e(e){var t=this;t.startTime=e,t.isComplete=!1}function t(){var e;e=this}function i(){}function n(){var e=this;e.isComplete=!0}function o(){var e=this;r.call(e)}function r(){l.computeDependentValues()}function a(a){var l=this;l.grid=a,l.startTime=0,l.isComplete=!0,l.start=e,l.update=t,l.draw=i,l.cancel=n,l.refresh=o,l.init=r,l.init(),console.log("ColorShiftJob created")}var l={};l.computeDependentValues=function(){},l.computeDependentValues(),a.config=l,window.hg=window.hg||{},window.hg.ColorShiftJob=a,console.log("ColorShiftJob module loaded")}(),function(){function e(){var e,t,i,n,o,r,a,l;for(e=this,l=d.wavelength/2,e.waveProgressOffsetsNonContentTiles=[],e.waveProgressOffsetsContentTiles=[],t=0,i=e.grid.allNonContentTiles.length;i>t;t+=1)n=e.grid.allNonContentTiles[t],r=n.originalAnchor.x-d.originX,a=n.originalAnchor.y-d.originY,o=Math.sqrt(r*r+a*a)+d.wavelength,e.waveProgressOffsetsNonContentTiles[t]=-(o%d.wavelength-l)/l;for(t=0,i=e.grid.contentTiles.length;i>t;t+=1)n=e.grid.contentTiles[t],r=n.originalAnchor.x-d.originX,a=n.originalAnchor.y-d.originY,o=Math.sqrt(r*r+a*a)+d.wavelength,e.waveProgressOffsetsContentTiles[t]=-(o%d.wavelength-l)/l}function t(e,t,i){var n=Math.sin((((e+1+i)%2+2)%2-1)*Math.PI);t.currentColor.h+=d.deltaHue*n*d.opacity,t.currentColor.s+=d.deltaSaturation*n*d.opacity,t.currentColor.l+=d.deltaLightness*n*d.opacity}function i(e,t,i){var n=.5*Math.sin((((e+1+i)%2+2)%2-1)*Math.PI)+.5;t.imageScreenOpacity+=-n*d.opacity*d.deltaOpacityImageBackgroundScreen}function n(e){var t=this;t.startTime=e,t.isComplete=!1}function o(e){var n,o,r,a;for(n=this,o=(e+d.halfPeriod)/d.period%2-1,r=0,a=n.grid.allNonContentTiles.length;a>r;r+=1)t(o,n.grid.allNonContentTiles[r],n.waveProgressOffsetsNonContentTiles[r]);for(r=0,a=n.grid.contentTiles.length;a>r;r+=1)i(o,n.grid.contentTiles[r],n.waveProgressOffsetsContentTiles[r])}function r(){}function a(){var e=this;e.isComplete=!0}function l(){var e=this;s.call(e)}function s(){var t=this;d.computeDependentValues(),e.call(t)}function c(e){var t=this;t.grid=e,t.waveProgressOffsetsNonContentTiles=null,t.waveProgressOffsetsContentTiles=null,t.startTime=0,t.isComplete=!0,t.start=n,t.update=o,t.draw=r,t.cancel=a,t.refresh=l,t.init=s,t.init(),console.log("ColorWaveJob created")}var d={};d.period=1e3,d.wavelength=600,d.originX=-100,d.originY=1400,d.deltaHue=0,d.deltaSaturation=0,d.deltaLightness=5,d.deltaOpacityImageBackgroundScreen=.18,d.opacity=.5,d.computeDependentValues=function(){d.halfPeriod=d.period/2},d.computeDependentValues(),c.config=d,window.hg=window.hg||{},window.hg.ColorWaveJob=c,console.log("ColorWaveJob module loaded")}(),function(){function e(e){var t=this;t.startTime=e,t.isComplete=!1}function t(){var e,t,i;for(e=this,t=0,i=e.grid.allTiles.length;i>t;t+=1)e.grid.allTiles[t].currentAnchor.x=e.grid.allTiles[t].originalAnchor.x,e.grid.allTiles[t].currentAnchor.y=e.grid.allTiles[t].originalAnchor.y;e.grid.isPostOpen&&(e.grid.pagePost.carousel.currentIndexPositionRatio=e.grid.pagePost.carousel.currentIndex)}function i(){}function n(){var e=this;e.isComplete=!0}function o(){var e=this;r.call(e)}function r(){}function a(a){var l=this;l.grid=a,l.startTime=0,l.isComplete=!0,l.start=e,l.update=t,l.draw=i,l.cancel=n,l.refresh=o,l.init=r,l.init(),console.log("DisplacementResetJob created")}var l={};l.computeDependentValues=function(){},l.computeDependentValues(),a.config=l,window.hg=window.hg||{},window.hg.DisplacementResetJob=a,console.log("DisplacementResetJob module loaded")}(),function(){function e(){var e,t,i,n,o,r,a,l;for(e=this,l=c.wavelength/2,e.waveProgressOffsets=[],t=0,i=e.grid.allTiles.length;i>t;t+=1)n=e.grid.allTiles[t],r=n.originalAnchor.x-c.originX,a=n.originalAnchor.y-c.originY,o=Math.sqrt(r*r+a*a)+c.wavelength,e.waveProgressOffsets[t]=-(o%c.wavelength-l)/l}function t(e,t,i){var n=Math.sin((((e+1+i)%2+2)%2-1)*Math.PI);t.currentAnchor.x+=c.tileDeltaX*n,t.currentAnchor.y+=c.tileDeltaY*n}function i(e){var t=this;t.startTime=e,t.isComplete=!1}function n(e){var i,n,o,r;for(i=this,n=(e+c.halfPeriod)/c.period%2-1,o=0,r=i.grid.allTiles.length;r>o;o+=1)t(n,i.grid.allTiles[o],i.waveProgressOffsets[o])}function o(){}function r(){var e=this;e.isComplete=!0}function a(){var e=this;l.call(e)}function l(){var t=this;c.computeDependentValues(),e.call(t)}function s(e){var t=this;t.grid=e,t.waveProgressOffsets=null,t.startTime=0,t.isComplete=!0,t.start=i,t.update=n,t.draw=o,t.cancel=r,t.refresh=a,t.init=l,t.init(),console.log("DisplacementWaveJob created")}var c={};c.period=3200,c.wavelength=1800,c.originX=0,c.originY=0,c.tileDeltaX=-15,c.tileDeltaY=-c.tileDeltaX*Math.sqrt(3),c.computeDependentValues=function(){c.halfPeriod=c.period/2,c.displacementAmplitude=Math.sqrt(c.tileDeltaX*c.tileDeltaX+c.tileDeltaY*c.tileDeltaY)},c.computeDependentValues(),s.config=c,window.hg=window.hg||{},window.hg.DisplacementWaveJob=s,console.log("DisplacementWaveJob module loaded")}(),function(){function e(e){var t=this;console.log("CarouselImageSlideJob "+(e?"cancelled":"completed")),t.isComplete=!0,t.onComplete(),t.carousel.onSlideFinished()}function t(e){var t=this;t.startTime=e,t.isComplete=!1,t.indexInitialDisplacement=t.carousel.previousIndex-t.carousel.currentIndex}function i(t){var i,n;i=this,n=(t-i.startTime)/i.duration,n=1-window.hg.util.easingFunctions.easeInOutCubic(n),n=0>n?0:n,i.carousel.currentIndexPositionRatio+=i.indexInitialDisplacement*n,0===n&&e.call(i,!1)}function n(){}function o(){var t=this;e.call(t,!0)}function r(){l.computeDependentValues()}function a(e,a,s,c){var d=this;d.grid=e,d.baseTile=e.expandedTile,d.startTime=0,d.isComplete=!0,d.carousel=c,d.indexInitialDisplacement=Number.NaN,d.duration=l.duration,d.start=t,d.update=i,d.draw=n,d.cancel=o,d.onComplete=s,d.init=r,console.log("CarouselImageSlideJob created: currentIndex="+d.carousel.currentIndex+", previousIndex="+d.carousel.previousIndex)}var l={};l.duration=300,l.computeDependentValues=function(){},l.computeDependentValues(),a.config=l,window.hg=window.hg||{},window.hg.CarouselImageSlideJob=a,console.log("CarouselImageSlideJob module loaded")}(),function(){function e(e){var i=this;console.log("ClosePostJob "+(e?"cancelled":"completed")),t.call(i),i.grid.lastExpansionJob===i&&(i.baseTile.expandedState=null,i.grid.sectors=[],i.grid.updateAllTilesCollection(i.grid.originalTiles),i.grid.isTransitioning=!1,i.grid.expandedTile=null,window.hg.controller.resetPersistentJobs(i.grid)),i.isComplete=!0,i.onComplete()}function t(){var e,t,i,n;for(e=this,n=e.grid.lastExpansionJob===e,t=0,i=e.sectors.length;i>t;t+=1)e.sectors[t].destroy(n);e.sectors=[]}function i(e){var t,i=this;i.startTime=e,i.isComplete=!1,i.grid.isPostOpen=!1,i.grid.isTransitioning=!0,i.grid.lastExpansionJob=i,t={x:i.grid.originalCenter.x-i.grid.panCenter.x,y:i.grid.originalCenter.y-i.grid.panCenter.y},window.hg.controller.transientJobs.SpreadJob.create(i.grid,i.baseTile).duration=s.duration+window.hg.OpenPostJob.config.spreadDurationOffset,window.hg.controller.transientJobs.PanJob.create(i.grid,i.baseTile,{x:i.grid.panCenter.x,y:i.grid.panCenter.y}).duration=s.duration+window.hg.OpenPostJob.config.panDurationOffset,window.hg.controller.transientJobs.DilateSectorsJob.create(i.grid,i.baseTile,t).duration=s.duration+window.hg.OpenPostJob.config.dilateSectorsDurationOffset,window.hg.controller.transientJobs.FadePostJob.create(i.grid,i.baseTile).duration=s.duration+window.hg.OpenPostJob.config.fadePostDurationOffset,i.grid.annotations.setExpandedAnnotations(!1),i.grid.parent.style.overflowY="auto"}function n(t){var i=this;t-i.startTime>=s.duration&&e.call(i,!1)}function o(){}function r(){var t=this;e.call(t,!0)}function a(){s.computeDependentValues()}function l(e,t,l){var s=this;s.grid=e,s.baseTile=e.expandedTile,s.startTime=0,s.isComplete=!0,s.sectors=e.sectors,s.start=i,s.update=n,s.draw=o,s.cancel=r,s.onComplete=l,s.init=a,console.log("ClosePostJob created: tileIndex="+s.baseTile.originalIndex)}var s={};s.duration=500,s.computeDependentValues=function(){},s.computeDependentValues(),l.config=s,window.hg=window.hg||{},window.hg.ClosePostJob=l,console.log("ClosePostJob module loaded")}(),function(){function e(e){var t=this;console.log("DilateSectorsJob "+(e?"cancelled":"completed")),t.isComplete=!0,t.onComplete()}function t(){var e,t=this;for(e=0;6>e;e+=1)t.sectors[e].originalAnchor.x+=t.panDisplacement.x,t.sectors[e].originalAnchor.y+=t.panDisplacement.y,t.sectors[e].setOriginalPositionForExpansion(t.isExpanding)}function i(e){var i=this;i.startTime=e,i.isComplete=!1,t.call(i)}function n(t){var i,n,o,r,a;for(i=this,n=(t-i.startTime)/i.duration,n=1-window.hg.util.easingFunctions.easeOutQuint(n),n=0>n?0:i.isExpanding?n:-n,o=0;6>o;o+=1)r=i.sectors[o].expandedDisplacement.x*n,a=i.sectors[o].expandedDisplacement.y*n,i.sectors[o].updateCurrentPosition(r,a);0===n&&e.call(i,!1)}function o(){}function r(){var t=this;e.call(t,!0)}function a(){s.computeDependentValues()}function l(e,t,l,c){var d=this;d.grid=e,d.baseTile=e.expandedTile,d.startTime=0,d.isComplete=!0,d.panDisplacement=c,d.sectors=e.sectors,d.parentExpansionJob=d.grid.lastExpansionJob,d.isExpanding=e.isPostOpen,d.duration=s.duration,d.start=i,d.update=n,d.draw=o,d.cancel=r,d.onComplete=l,d.init=a,console.log("DilateSectorsJob created: tileIndex="+d.baseTile.originalIndex)}var s={};s.duration=500,s.computeDependentValues=function(){},s.computeDependentValues(),l.config=s,window.hg=window.hg||{},window.hg.DilateSectorsJob=l,console.log("DilateSectorsJob module loaded")}(),function(){function e(){}function t(e){var t=this;console.log("DisplacementRadiateJob "+(e?"cancelled":"completed")),t.isComplete=!0,t.onComplete()}function i(e){var t=this;t.startTime=e,t.isComplete=!1}function n(){}function o(){}function r(){var e=this;t.call(e,!0)}function a(){s.computeDependentValues()}function l(t,l,s){var c=this;c.grid=t,c.tile=l,c.startTime=0,c.isComplete=!0,c.displacements=null,c.start=i,c.update=n,c.draw=o,c.cancel=r,c.onComplete=s,c.init=a,e.call(c),console.log("DisplacementRadiateJob created: tileIndex="+c.tile.originalIndex)}var s={};s.duration=500,s.waveSpeed=3,s.waveWidth=500,s.displacementDistance=50,s.isRecurring=!1,s.avgDelay=4e3,s.delayDeviationRange=3800,s.computeDependentValues=function(){},s.computeDependentValues(),l.config=s,window.hg=window.hg||{},window.hg.DisplacementRadiateJob=l,console.log("DisplacementRadiateJob module loaded")}(),function(){function e(e){var t=this;console.log("FadePostJob "+(e?"cancelled":"completed")),t.isComplete=!0,t.onComplete(),t.isFadingIn?t.parentExpansionJob===t.grid.lastExpansionJob&&t.baseTile.hide():(t.parentExpansionJob===t.grid.lastExpansionJob?t.grid.destroyPagePost():(t.pagePost.destroy(),t.baseTile.currentVertexDeltas=t.baseTile.originalVertexDeltas.slice(0)),t.baseTile.show()),t.baseTile.element.style.pointerEvents="auto"}function t(e,t,i,n){var o,r;for(o=0,r=e.length;r>o;o+=1)e[o]=t[o]+(i[o]-t[o])*n
}function i(e){var t,i=this;i.startTime=e,i.isComplete=!1,i.pagePostStartPosition={},i.pagePostDisplacement={},i.baseTile.show(),i.isFadingIn?(i.pagePostStartPosition.x=i.baseTile.particle.px,i.pagePostStartPosition.y=i.baseTile.particle.py,i.pagePostDisplacement.x=i.grid.originalCenter.x-i.pagePostStartPosition.x,i.pagePostDisplacement.y=i.grid.originalCenter.y-i.pagePostStartPosition.y+i.grid.scrollTop,i.pagePost=i.grid.createPagePost(i.baseTile,i.pagePostStartPosition),t=window.hg.OpenPostJob.config.expandedDisplacementTileCount*window.hg.Grid.config.tileShortLengthWithGap,i.baseTile.expandedVertexDeltas=window.hg.Tile.computeVertexDeltas(t,i.grid.isVertical)):(i.pagePostStartPosition.x=i.grid.originalCenter.x,i.pagePostStartPosition.y=i.grid.originalCenter.y+i.grid.scrollTop,i.pagePostDisplacement.x=i.pagePostStartPosition.x-i.grid.currentCenter.x,i.pagePostDisplacement.y=i.pagePostStartPosition.y-i.grid.currentCenter.y-i.grid.scrollTop),i.baseTile.element.style.pointerEvents="none"}function n(i){var n,o,r,a,l;n=this,o=(i-n.startTime)/n.duration,r=o,o=window.hg.util.easingFunctions.easeOutCubic(o),o=o>1?1:o,a=o/c.quick1FadeDurationRatio,a=a>1?1:a,l=o/c.quick2FadeDurationRatio,l=l>1?1:l,n.baseTile.element.style.opacity=1-a,n.baseTile.tilePost.elements.title.style.opacity=1-l,n.pagePost.opacity=r,n.pagePost.center.x=n.pagePostStartPosition.x+n.pagePostDisplacement.x*o,n.pagePost.center.y=n.pagePostStartPosition.y+n.pagePostDisplacement.y*o,t(n.baseTile.currentVertexDeltas,n.baseTile.originalVertexDeltas,n.baseTile.expandedVertexDeltas,a),1===o&&e.call(n,!1)}function o(i){var n,o,r;n=this,o=(i-n.startTime)/n.duration,o=window.hg.util.easingFunctions.easeOutQuint(o),o=o>1?1:o,r=o/c.quick1FadeDurationRatio,r=r>1?1:r,n.baseTile.element.style.opacity=o,n.baseTile.tilePost.elements.title.style.opacity=o,n.pagePost.opacity=1-r,n.pagePost.center.x=n.pagePostStartPosition.x+n.pagePostDisplacement.x*o,n.pagePost.center.y=n.pagePostStartPosition.y+n.pagePostDisplacement.y*o,t(n.baseTile.currentVertexDeltas,n.baseTile.expandedVertexDeltas,n.baseTile.originalVertexDeltas,r),1===o&&e.call(n,!1)}function r(){var e=this;e.pagePost.draw()}function a(){var t=this;e.call(t,!0)}function l(){c.computeDependentValues()}function s(e,t,s){var d=this;d.grid=e,d.baseTile=e.expandedTile,d.startTime=0,d.isComplete=!0,d.pagePost=e.pagePost,d.parentExpansionJob=d.grid.lastExpansionJob,d.isFadingIn=e.isPostOpen,d.pagePostStartPosition=null,d.pagePostDisplacement=null,d.duration=c.duration,d.start=i,d.update=d.isFadingIn?n:o,d.draw=r,d.cancel=a,d.onComplete=s,d.init=l,console.log("FadePostJob created: tileIndex="+d.baseTile.originalIndex+", isFadingIn="+d.isFadingIn)}var c={};c.duration=500,c.quick1FadeDurationRatio=.7,c.quick2FadeDurationRatio=.3,c.computeDependentValues=function(){},c.computeDependentValues(),s.config=c,window.hg=window.hg||{},window.hg.FadePostJob=s,console.log("FadePostJob module loaded")}(),function(){function e(){var e=this;e.isComplete=!0,e.onComplete()}function t(e,t){var i=window.hg.TilePost.config.activeScreenOpacity+t*(window.hg.TilePost.config.inactiveScreenOpacity-window.hg.TilePost.config.activeScreenOpacity);e.imageScreenOpacity=i}function i(e,t){var i=c.opacity*(1-t);e.currentColor.h+=c.deltaHue*i,e.currentColor.s+=c.deltaSaturation*i,e.currentColor.l+=c.deltaLightness*i}function n(e){var t=this;t.startTime=e,t.isComplete=!1}function o(t){var i,n;return i=this,i.tile.isHighlighted?void i.cancel():void(t>i.startTime+c.duration?(i.updateTile(i.tile,1),e.call(i,!1)):(n=(t-i.startTime)/c.duration,i.updateTile(i.tile,n)))}function r(){}function a(){var t=this;e.call(t,!0)}function l(){}function s(e,s,c){var d=this;d.grid=e,d.tile=s,d.startTime=0,d.isComplete=!0,d.updateTile=s.holdsContent?t:i,d.start=n,d.update=o,d.draw=r,d.cancel=a,d.onComplete=c,d.init=l}var c={};c.duration=500,c.deltaHue=0,c.deltaSaturation=0,c.deltaLightness=50,c.opacity=.5,c.isRecurring=!1,c.avgDelay=30,c.delayDeviationRange=20,c.computeDependentValues=function(){},c.computeDependentValues(),s.config=c,window.hg=window.hg||{},window.hg.HighlightHoverJob=s,console.log("HighlightHoverJob module loaded")}(),function(){function e(){var e,t,i,n,o,r;for(e=this,r=-window.hg.Grid.config.tileShortLengthWithGap,t=0,i=e.grid.allNonContentTiles.length;i>t;t+=1)n=e.grid.allNonContentTiles[t].originalAnchor.x-e.startPoint.x,o=e.grid.allNonContentTiles[t].originalAnchor.y-e.startPoint.y,e.distancesNonContentTiles[t]=Math.sqrt(n*n+o*o)+r;for(t=0,i=e.grid.contentTiles.length;i>t;t+=1)n=e.grid.contentTiles[t].originalAnchor.x-e.startPoint.x,o=e.grid.contentTiles[t].originalAnchor.y-e.startPoint.y,e.distancesContentTiles[t]=Math.sqrt(n*n+o*o)+r}function t(e){var t=this;console.log("HighlightRadiateJob "+(e?"cancelled":"completed")),t.isComplete=!0,t.onComplete()}function i(e,t,i){var n=t*d.opacity*i;e.currentColor.h+=d.deltaHue*n,e.currentColor.s+=d.deltaSaturation*n,e.currentColor.l+=d.deltaLightness*n}function n(e,t,i){e.imageScreenOpacity+=-t*d.opacity*i*(window.hg.TilePost.config.inactiveScreenOpacity-window.hg.TilePost.config.activeScreenOpacity)}function o(e){var t=this;t.startTime=e,t.isComplete=!1}function r(e){var o,r,a,l,s,c,u,g,h;if(o=this,e>o.startTime+d.duration)t.call(o,!1);else{for(g=1-(e-o.startTime)/d.duration,r=d.shimmerSpeed*(e-o.startTime),a=r-d.shimmerWaveWidth,h=!1,l=0,s=o.grid.allNonContentTiles.length;s>l;l+=1)c=o.distancesNonContentTiles[l],c>a&&r>c&&(u=(c-a)/d.shimmerWaveWidth,i(o.grid.allNonContentTiles[l],u,g),h=!0);for(l=0,s=o.grid.contentTiles.length;s>l;l+=1)c=o.distancesContentTiles[l],c>a&&r>c&&(u=(c-a)/d.shimmerWaveWidth,n(o.grid.contentTiles[l],u,g),h=!0);h||t.call(o,!1)}}function a(){}function l(){var e=this;t.call(e,!0)}function s(){}function c(t,i,n){var c=this;c.grid=t,c.startPoint={x:i.originalAnchor.x,y:i.originalAnchor.y},c.distancesNonContentTiles=[],c.distancesContentTiles=[],c.startTime=0,c.isComplete=!0,c.onComplete=n||function(){},c.start=o,c.update=r,c.draw=a,c.cancel=l,c.init=s,e.call(c),console.log("HighlightRadiateJob created: tileIndex="+(i&&i.originalIndex))}var d={};d.shimmerSpeed=3,d.shimmerWaveWidth=500,d.duration=500,d.deltaHue=0,d.deltaSaturation=0,d.deltaLightness=50,d.opacity=.5,d.isRecurring=!1,d.avgDelay=4e3,d.delayDeviationRange=3800,d.computeDependentValues=function(){},d.computeDependentValues(),c.config=d,window.hg=window.hg||{},window.hg.HighlightRadiateJob=c,console.log("HighlightRadiateJob module loaded")}(),function(){function e(e){var t=this;console.log("IntraTileRadiateJob "+(e?"cancelled":"completed")),t.isComplete=!0,t.onComplete()}function t(e){var t=this;t.startTime=e,t.isComplete=!1}function i(){}function n(){var e;e=this}function o(){var t=this;e.call(t,!0)}function r(){l.computeDependentValues()}function a(e,a,l){var s=this;s.grid=e,s.tile=a,s.startTime=0,s.isComplete=!0,s.start=t,s.update=i,s.draw=n,s.cancel=o,s.onComplete=l,s.init=r,console.log("IntraTileRadiateJob created: tileIndex="+s.tile.originalIndex)}var l={};l.duration=500,l.isRecurring=!1,l.avgDelay=4e3,l.delayDeviationRange=3800,l.computeDependentValues=function(){},l.computeDependentValues(),a.config=l,window.hg=window.hg||{},window.hg.IntraTileRadiateJob=a,console.log("IntraTileRadiateJob module loaded")}(),function(){function e(){var e,t,i;e=this,t=document.createElementNS(window.hg.util.svgNamespace,"filter"),e.grid.svgDefs.appendChild(t),i=document.createElementNS(window.hg.util.svgNamespace,"feGaussianBlur"),t.appendChild(i),t.setAttribute("id",T.filterId),t.setAttribute("x","-10%"),t.setAttribute("y","-10%"),t.setAttribute("width","120%"),t.setAttribute("height","120%"),i.setAttribute("in","SourceGraphic"),i.setAttribute("result","blurOut"),T.filter=t,T.feGaussianBlur=i}function t(){var e;e=this,e.startHue=360*Math.random(),e.endHue=360*Math.random()}function i(){var e;e=this,e.polyline=document.createElementNS(window.hg.util.svgNamespace,"polyline"),e.grid.svg.insertBefore(e.polyline,e.grid.svg.firstChild),e.polyline.setAttribute("fill-opacity","0"),T.isBlurOn&&e.polyline.setAttribute("filter","url(#"+T.filterId+")")}function n(){var e,t,i;e=this,t=e.ellapsedTime/e.duration,i=1-t,e.currentColor.h=i*e.startHue+t*e.endHue,e.currentColor.s=i*e.startSaturation+t*e.endSaturation,e.currentColor.l=i*e.startLightness+t*e.endLightness,e.currentOpacity=i*e.startOpacity+t*e.endOpacity}function o(){var e;e=this,console.log("LineJob completed"),e.polyline&&(e.grid.svg.removeChild(e.polyline),e.polyline=null),e.tiles=[],e.corners=[],e.direction=Number.NaN,e.currentCornerIndex=Number.NaN,e.hasReachedEdge=!0,e.isComplete=!0,e.onComplete(e)}function r(){var e;e=this,e.hasAlmostReachedEdge=e.direction===(e.corners[e.currentCornerIndex]+3)%6?!1:!e.lowerNeighbors[e.currentCornerIndex]||!e.upperNeighbors[e.currentCornerIndex]}function a(){var e,t,i,n;e=this,n=e.corners[e.currentCornerIndex],e.grid.isVertical?(t=(n+5)%6,i=n):(t=n,i=(n+1)%6),e.lowerNeighbors[e.currentCornerIndex]=e.tiles[e.currentCornerIndex].neighborStates[t],e.upperNeighbors[e.currentCornerIndex]=e.tiles[e.currentCornerIndex].neighborStates[i],e.lowerNeighborCorners[e.currentCornerIndex]=(n+2)%6,e.upperNeighborCorners[e.currentCornerIndex]=(n+4)%6}function l(){var e,t,i,n,o,l,c,d,u,g,h;if(e=this,h=e.corners[e.currentCornerIndex],0===e.currentCornerIndex)c=e.forcedInitialRelativeDirection,e.latestDirection=s(c,h);else{switch(t=(h-e.direction+6)%6){case 0:i=e.sameDirectionProb,n=T.distantSidewaysDirectionProb,o=T.distantSidewaysDirectionProb;break;case 1:i=T.closeSidewaysDirectionProb,n=T.closeSidewaysDirectionProb,o=T.oppositeDirectionProb;break;case 2:i=T.distantSidewaysDirectionProb,n=e.sameDirectionProb,o=T.distantSidewaysDirectionProb;break;case 3:i=T.oppositeDirectionProb,n=T.closeSidewaysDirectionProb,o=T.closeSidewaysDirectionProb;break;case 4:i=T.distantSidewaysDirectionProb,n=T.distantSidewaysDirectionProb,o=e.sameDirectionProb;break;case 5:i=T.closeSidewaysDirectionProb,n=T.oppositeDirectionProb,o=T.closeSidewaysDirectionProb;break;default:throw new Error("Invalid state: cornerConfig="+t)}do l=Math.random(),c=i>l?T.NEIGHBOR:i+n>l?T.LOWER_SELF:T.UPPER_SELF,d=s(c,h);while(d===(e.latestDirection+3)%6);e.latestDirection=d}switch(c){case T.NEIGHBOR:e.grid.isVertical?(u=(h+1)%6,g=e.tiles[e.currentCornerIndex].neighborStates[(h+5)%6].tile):(u=(h+1)%6,g=e.tiles[e.currentCornerIndex].neighborStates[h].tile);break;case T.LOWER_SELF:u=(h+5)%6,g=e.tiles[e.currentCornerIndex];break;case T.UPPER_SELF:u=(h+1)%6,g=e.tiles[e.currentCornerIndex];break;default:throw new Error("Invalid state: relativeDirection="+c)}e.currentCornerIndex=e.corners.length,e.corners[e.currentCornerIndex]=u,e.tiles[e.currentCornerIndex]=g,a.call(e),r.call(e)}function s(e,t){switch(e){case T.NEIGHBOR:return t;case T.LOWER_SELF:return(t+4)%6;case T.UPPER_SELF:return(t+2)%6;default:throw new Error("Invalid state: relativeDirection="+e)}}function c(){var e,t,i,n,r,a,s;for(e=this,t=e.ellapsedTime/e.lineSidePeriod*window.hg.Grid.config.tileOuterRadius,r=parseInt(e.ellapsedTime/e.lineSidePeriod)+1;r>=e.corners.length&&!e.hasAlmostReachedEdge;)l.call(e);i=t%window.hg.Grid.config.tileOuterRadius,n=(e.lineLength-i+window.hg.Grid.config.tileOuterRadius)%window.hg.Grid.config.tileOuterRadius,e.frontSegmentEndRatio=i/window.hg.Grid.config.tileOuterRadius,e.backSegmentStartRatio=1-n/window.hg.Grid.config.tileOuterRadius,e.isShort=e.lineLength<window.hg.Grid.config.tileOuterRadius,e.isStarting=t<e.lineLength,e.hasAlmostReachedEdge&&r>=e.corners.length&&(e.hasReachedEdge=!0),e.segmentsIncludedCount=parseInt((e.lineLength-i-n-T.epsilon)/window.hg.Grid.config.tileOuterRadius)+2,e.isShort?e.segmentsIncludedCount=e.isStarting||e.hasReachedEdge?1:i-e.lineLength>=0?1:2:(e.isStarting&&(e.segmentsIncludedCount=r),e.hasReachedEdge&&(s=r-e.corners.length+1,a=t-(e.corners.length-1)*window.hg.Grid.config.tileOuterRadius,a>e.lineLength&&o.call(e),e.segmentsIncludedCount-=s))}function d(){var e,t,i;for(e=this,e.gapPoints=[],t=0,i=e.corners.length;i>t;t+=1)e.gapPoints[t]=u(e.tiles[t],e.corners[t],e.lowerNeighbors[t],e.upperNeighbors[t],e.lowerNeighborCorners[t],e.upperNeighborCorners[t])}function u(e,t,i,n,o,r){var a,l,s;return i?n?(a=3,l=e.particle.px+i.tile.particle.px+n.tile.particle.px,s=e.particle.py+i.tile.particle.py+n.tile.particle.py):(a=2,l=e.vertices[2*t]+i.tile.vertices[2*o],s=e.vertices[2*t+1]+i.tile.vertices[2*o+1]):n?(a=2,l=e.vertices[2*t]+n.tile.vertices[2*r],s=e.vertices[2*t+1]+n.tile.vertices[2*r+1]):(a=1,l=e.vertices[2*t],s=e.vertices[2*t+1]),{x:l/a,y:s/a}}function g(){var e,t,i,n;for(e=this,e.polylinePoints=[],t=e.currentCornerIndex,e.extraStartPoint&&e.isStarting?(e.polylinePoints[0]=e.extraStartPoint,i=e.segmentsIncludedCount+1,n=1):(i=e.segmentsIncludedCount,n=0),e.polylinePoints[i]=e.hasReachedEdge?{x:e.gapPoints[t].x,y:e.gapPoints[t].y}:{x:e.gapPoints[t].x*e.frontSegmentEndRatio+e.gapPoints[t-1].x*(1-e.frontSegmentEndRatio),y:e.gapPoints[t].y*e.frontSegmentEndRatio+e.gapPoints[t-1].y*(1-e.frontSegmentEndRatio)},i-=1,t-=1;i>n;i-=1,t-=1)e.polylinePoints[i]=e.gapPoints[t];e.polylinePoints[i]=e.isStarting?{x:e.gapPoints[t].x,y:e.gapPoints[t].y}:{x:e.gapPoints[t+1].x*e.backSegmentStartRatio+e.gapPoints[t].x*(1-e.backSegmentStartRatio),y:e.gapPoints[t+1].y*e.backSegmentStartRatio+e.gapPoints[t].y*(1-e.backSegmentStartRatio)}}function h(){var e,t,i,n;for(e=this,n="",t=0,i=e.polylinePoints.length;i>t;t+=1)n+=e.polylinePoints[t].x+","+e.polylinePoints[t].y+" ";e.polyline.setAttribute("points",n),e.polyline.setAttribute("stroke","hsl("+e.currentColor.h+","+e.currentColor.s+"%,"+e.currentColor.l+"%)"),e.polyline.setAttribute("stroke-opacity",e.currentOpacity),e.polyline.setAttribute("stroke-width",e.lineWidth)}function p(e){var t=this;t.startTime=e,t.isComplete=!1}function m(e){var t=this;t.ellapsedTime=e-t.startTime,t.ellapsedTime>=t.duration?o.call(t):(n.call(t),c.call(t),T.feGaussianBlur.setAttribute("stdDeviation",t.blurStdDeviation),t.isComplete||(d.call(t),g.call(t)))}function b(e){var t=this;t.ellapsedTime=e-t.startTime,t.ellapsedTime>=t.duration?o.call(t):(n.call(t),c.call(t),t.isComplete||(d.call(t),g.call(t)))}function f(){var e=this;h.call(e)}function w(){var e;e=this,o.call(e)}function v(){T.computeDependentValues()}function y(n,o,r,l,s,c,d){var u=this;if(u.grid=n,u.tiles=[o],u.corners=[r],u.lowerNeighbors=[],u.upperNeighbors=[],u.lowerNeighborCorners=[],u.upperNeighborCorners=[],u.direction=l,u.forcedInitialRelativeDirection=s,u.extraStartPoint=d,u.currentCornerIndex=0,u.frontSegmentEndRatio=Number.NaN,u.backSegmentStartRatio=Number.NaN,u.latestDirection=l,u.polyline=null,u.gapPoints=[],u.polylinePoints=null,u.hasReachedEdge=!1,u.startTime=0,u.ellapsedTime=0,u.isComplete=!0,u.startHue=Number.NaN,u.endHue=Number.NaN,u.currentColor={h:Number.NaN,s:T.startSaturation,l:T.startLightness},u.currentOpacity=T.startOpacity,u.duration=T.duration,u.lineWidth=T.lineWidth,u.lineLength=T.lineLength,u.lineSidePeriod=T.lineSidePeriod,u.startSaturation=T.startSaturation,u.startLightness=T.startLightness,u.startOpacity=T.startOpacity,u.endSaturation=T.endSaturation,u.endLightness=T.endLightness,u.endOpacity=T.endOpacity,u.sameDirectionProb=T.sameDirectionProb,u.blurStdDeviation=T.blurStdDeviation,u.isBlurOn=T.isBlurOn,u.onComplete=c||function(){},u.start=p,u.update=u.isBlurOn?m:b,u.draw=f,u.cancel=w,u.init=v,T.haveDefinedLineBlur||(T.haveDefinedLineBlur=!0,e.call(u)),!x(u))throw new Error("LineJob created with invalid initial corner configuration: tileIndex="+o.originalIndex+", corner="+r+", direction="+l);a.call(u),t.call(u),i.call(u),console.log("LineJob created: tileIndex="+o.originalIndex+", corner="+r+", direction="+l)}function C(e,t){var i,n,o,r;do i=e.originalBorderTiles[parseInt(Math.random()*e.originalBorderTiles.length)];while(i.isCornerTile);return e.isVertical?i.neighborStates[4]?i.neighborStates[1]?i.neighborStates[0]?(Math.random()<.5?(n=2,r=T.LOWER_SELF):(n=4,r=T.UPPER_SELF),o=0):(Math.random()<.5?(n=1,r=T.UPPER_SELF):(n=5,r=T.LOWER_SELF),o=3):(i.isInLargerRow?Math.random()<.5?(n=0,r=T.LOWER_SELF):(n=3,r=T.UPPER_SELF):Math.random()<.5?(n=1,r=T.LOWER_SELF):(n=2,r=T.UPPER_SELF),o=i.originalAnchor.y<e.originalCenter.y?4:5):(i.isInLargerRow?Math.random()<.5?(n=0,r=T.UPPER_SELF):(n=3,r=T.LOWER_SELF):Math.random()<.5?(n=4,r=T.LOWER_SELF):(n=5,r=T.UPPER_SELF),o=i.originalAnchor.y<e.originalCenter.y?2:1):i.neighborStates[0]?i.neighborStates[3]?i.neighborStates[4]?(Math.random()<.5?(n=0,r=T.LOWER_SELF):(n=2,r=T.UPPER_SELF),o=4):(Math.random()<.5?(n=3,r=T.LOWER_SELF):(n=5,r=T.UPPER_SELF),o=1):(i.rowIndex===e.rowCount-1?Math.random()<.5?(n=1,r=T.LOWER_SELF):(n=4,r=T.UPPER_SELF):Math.random()<.5?(n=2,r=T.LOWER_SELF):(n=3,r=T.UPPER_SELF),o=i.originalAnchor.x<e.originalCenter.x?0:5):(0===i.rowIndex?Math.random()<.5?(n=1,r=T.UPPER_SELF):(n=4,r=T.LOWER_SELF):Math.random()<.5?(n=0,r=T.UPPER_SELF):(n=5,r=T.LOWER_SELF),o=i.originalAnchor.x<e.originalCenter.x?2:3),new y(e,i,n,o,r,t,null)}function x(e){var t,i,n,o,r;if(t=e.tiles[0],i=e.corners[0],n=e.direction,o=e.forcedInitialRelativeDirection,t.isCornerTile)return!1;if(t.isBorderTile)if(e.grid.isVertical)if(t.neighborStates[4])if(t.neighborStates[1])if(t.neighborStates[0])switch(r=0===n,i){case 0:return!0;case 1:return!0;case 2:return o===T.LOWER_SELF&&r;case 3:return!1;case 4:return o===T.UPPER_SELF&&r;case 5:return!0}else switch(r=3===n,i){case 0:return!1;case 1:return o===T.UPPER_SELF&&r;case 2:return!0;case 3:return!0;case 4:return!0;case 5:return o===T.LOWER_SELF&&r}else if(r=4===n||5===n,t.isInLargerRow)switch(i){case 0:return o===T.LOWER_SELF&&r;case 1:return!1;case 2:return!1;case 3:return o===T.UPPER_SELF&&r;case 4:return!0;case 5:return!0}else switch(i){case 0:return!0;case 1:return o===T.LOWER_SELF&&r;case 2:return o===T.UPPER_SELF&&r;case 3:return!0;case 4:return!0;case 5:return!0}else if(r=1===n||2===n,t.isInLargerRow)switch(i){case 0:return o===T.UPPER_SELF&&r;case 1:return!0;case 2:return!0;case 3:return o===T.LOWER_SELF&&r;case 4:return!1;case 5:return!1}else switch(i){case 0:return!0;case 1:return!0;case 2:return!0;case 3:return!0;case 4:return o===T.LOWER_SELF&&r;case 5:return o===T.UPPER_SELF&&r}else if(t.neighborStates[0])if(t.neighborStates[3])if(t.neighborStates[4])switch(r=4===n,i){case 0:return o===T.LOWER_SELF&&r;case 1:return!1;case 2:return o===T.UPPER_SELF&&r;case 3:return!0;case 4:return!0;case 5:return!0}else switch(r=1===n,i){case 0:return!0;case 1:return!0;case 2:return!0;case 3:return o===T.LOWER_SELF&&r;case 4:return!1;case 5:return o===T.UPPER_SELF&&r}else if(r=0===n||5===n,t.rowIndex===e.grid.rowCount-1)switch(i){case 0:return!0;case 1:return o===T.LOWER_SELF&&r;case 2:return!1;case 3:return!1;case 4:return o===T.UPPER_SELF&&r;case 5:return!0}else switch(i){case 0:return!0;case 1:return!0;case 2:return o===T.LOWER_SELF&&r;case 3:return o===T.UPPER_SELF&&r;case 4:return!0;case 5:return!0}else if(r=2===n||3===n,0===t.rowIndex)switch(i){case 0:return!1;case 1:return o===T.UPPER_SELF&&r;case 2:return!0;case 3:return!0;case 4:return o===T.LOWER_SELF&&r;case 5:return!1}else switch(i){case 0:return o===T.UPPER_SELF&&r;case 1:return!0;case 2:return!0;case 3:return!0;case 4:return!0;case 5:return o===T.LOWER_SELF&&r}return!0}var T={};T.duration=2e3,T.lineWidth=28,T.lineLength=6e4,T.lineSidePeriod=5,T.startSaturation=100,T.startLightness=100,T.startOpacity=.6,T.endSaturation=30,T.endLightness=80,T.endOpacity=0,T.sameDirectionProb=.8,T.blurStdDeviation=2,T.isBlurOn=!1,T.isRecurring=!0,T.avgDelay=2200,T.delayDeviationRange=2100,T.NEIGHBOR=0,T.LOWER_SELF=1,T.UPPER_SELF=2,T.oppositeDirectionProb=0,T.epsilon=1e-5,T.haveDefinedLineBlur=!1,T.filterId="random-line-filter",T.computeDependentValues=function(){T.distantSidewaysDirectionProb=(1-T.sameDirectionProb)/2,T.closeSidewaysDirectionProb=(1-T.oppositeDirectionProb)/2},T.computeDependentValues(),y.config=T,y.createRandomLineJob=C,window.hg=window.hg||{},window.hg.LineJob=y,console.log("LineJob module loaded")}(),function(){function e(){var e,t,i;e=this,t=document.createElementNS(window.hg.util.svgNamespace,"filter"),e.grid.svgDefs.appendChild(t),i=document.createElementNS(window.hg.util.svgNamespace,"feGaussianBlur"),t.appendChild(i),t.setAttribute("id",c.filterId),t.setAttribute("x","-10%"),t.setAttribute("y","-10%"),t.setAttribute("width","120%"),t.setAttribute("height","120%"),i.setAttribute("in","SourceGraphic"),i.setAttribute("result","blurOut"),e.feGaussianBlur=i}function t(){var e,t,i;for(e=this,e.lineJobs=[],t=0;6>t;t+=1){try{i=new window.hg.LineJob(e.grid,e.tile,t,t,window.hg.LineJob.config.NEIGHBOR,e.onComplete,e.extraStartPoint)}catch(n){console.debug(n.message);continue}e.lineJobs.push(i),i.duration=c.duration,i.lineWidth=c.lineWidth,i.lineLength=c.lineLength,i.lineSidePeriod=c.lineSidePeriod,i.startSaturation=c.startSaturation,i.startLightness=c.startLightness,i.startOpacity=c.startOpacity,i.endSaturation=c.endSaturation,i.endLightness=c.endLightness,i.endOpacity=c.endOpacity,i.sameDirectionProb=c.sameDirectionProb,i.filterId=c.filterId,i.blurStdDeviation=c.blurStdDeviation,i.isBlurOn=c.isBlurOn,c.isBlurOn?i.polyline.setAttribute("filter","url(#"+c.filterId+")"):i.polyline.setAttribute("filter","none")}}function i(){var e,t;for(e=this,t=0;t<e.lineJobs.length;t+=1){if(!e.lineJobs[t].isComplete)return;e.lineJobs.splice(t--,1)}console.log("LinesRadiateJob completed"),e.isComplete=!0}function n(e){var t,i,n;for(t=this,t.startTime=e,t.isComplete=!1,i=0,n=t.lineJobs.length;n>i;i+=1)t.lineJobs[i].start(e)}function o(e,t){var n,o,r;for(n=this,n.extraStartPoint.x=n.tile.particle.px,n.extraStartPoint.y=n.tile.particle.py,o=0,r=n.lineJobs.length;r>o;o+=1)n.lineJobs[o].update(e,t),n.lineJobs[o].isComplete&&(n.lineJobs.splice(o,1),o--,r--);n.feGaussianBlur.setAttribute("stdDeviation",c.blurStdDeviation),i.call(n)}function r(){var e,t,i;for(e=this,t=0,i=e.lineJobs.length;i>t;t+=1)e.lineJobs[t].draw()}function a(){var e,t,i;for(e=this,t=0,i=e.lineJobs.length;i>t;t+=1)e.lineJobs[t].cancel();e.lineJobs=[],e.isComplete=!0}function l(){}function s(i,s,d){var u=this;u.grid=i,u.tile=s,u.extraStartPoint={x:s.particle.px,y:s.particle.py},u.startTime=0,u.isComplete=!0,u.lineJobs=null,u.onComplete=d||function(){},u.start=n,u.update=o,u.draw=r,u.cancel=a,u.init=l,c.haveDefinedLineBlur||e.call(u),t.call(u),console.log("LinesRadiateJob created: tileIndex="+s.originalIndex)}var c={};c.duration=700,c.lineWidth=24,c.lineLength=1300,c.lineSidePeriod=30,c.startSaturation=100,c.startLightness=100,c.startOpacity=.8,c.endSaturation=100,c.endLightness=70,c.endOpacity=0,c.sameDirectionProb=.85,c.blurStdDeviation=2,c.isBlurOn=!1,c.isRecurring=!1,c.avgDelay=2e3,c.delayDeviationRange=1800,c.haveDefinedLineBlur=!1,c.filterId="random-line-filter",c.computeDependentValues=function(){},c.computeDependentValues(),s.config=c,window.hg=window.hg||{},window.hg.LinesRadiateJob=s,console.log("LinesRadiateJob module loaded")}(),function(){function e(e){var t=this;console.log("OpenPostJob "+(e?"cancelled":"completed")),t.grid.isTransitioning=!1,t.grid.lastExpansionJob===t&&t.grid.pagePost.loadCarouselMedia(),t.isComplete=!0,t.onComplete()}function t(){var e,t,i,n,o,r,a;for(e=this,t=0;6>t;t+=1)e.sectors[t]=new window.hg.Sector(e.grid,e.baseTile,t,s.expandedDisplacementTileCount);for(t=0;6>t;t+=1)e.sectors[t].initializeExpandedStateExternalTileNeighbors(e.sectors);for(t=0;6>t;t+=1)e.sectors[t].tilesByIndex=null;for(window.hg.Tile.initializeTileExpandedState(e.baseTile,null,Number.NaN,Number.NaN),e.grid.sectors=e.sectors,a=[],o=0,t=0;6>t;t+=1)for(r=e.sectors[t].tiles,i=0,n=r.length;n>i;i+=1,o+=1)a[o]=r[i];a[o]=e.baseTile,e.grid.updateAllTilesCollection(a)}function i(e){var i,n=this;n.startTime=e,n.isComplete=!1,n.grid.isTransitioning&&n.previousJob.cancel(),n.grid.isPostOpen=!0,n.grid.isTransitioning=!0,n.grid.expandedTile=n.baseTile,n.grid.lastExpansionJob=n,n.grid.parent.style.overflow="hidden",t.call(n),n.grid.annotations.setExpandedAnnotations(!0),window.hg.controller.transientJobs.SpreadJob.create(n.grid,n.baseTile).duration=s.duration+s.spreadDurationOffset,window.hg.controller.transientJobs.PanJob.create(n.grid,n.baseTile).duration=s.duration+s.panDurationOffset,i={x:n.grid.panCenter.x-n.grid.originalCenter.x,y:n.grid.panCenter.y-n.grid.originalCenter.y},window.hg.controller.transientJobs.DilateSectorsJob.create(n.grid,n.baseTile,i).duration=s.duration+s.dilateSectorsDurationOffset,window.hg.controller.transientJobs.FadePostJob.create(n.grid,n.baseTile).duration=s.duration+s.fadePostDurationOffset,window.hg.controller.resetPersistentJobs(n.grid)}function n(t){var i=this;t-i.startTime>=s.duration&&e.call(i,!1)}function o(){}function r(){var t=this;e.call(t,!0)}function a(){s.computeDependentValues()}function l(e,t,l){var s=this;s.grid=e,s.baseTile=t,s.startTime=0,s.isComplete=!0,s.sectors=[],s.previousJob=e.lastExpansionJob,s.start=i,s.update=n,s.draw=o,s.cancel=r,s.onComplete=l,s.init=a,console.log("OpenPostJob created: tileIndex="+s.baseTile.originalIndex)}var s={};s.duration=500,s.expandedDisplacementTileCount=3,s.spreadDurationOffset=-200,s.panDurationOffset=-100,s.fadePostDurationOffset=1100,s.dilateSectorsDurationOffset=0,s.computeDependentValues=function(){},s.computeDependentValues(),l.config=s,window.hg=window.hg||{},window.hg.OpenPostJob=l,console.log("OpenPostJob module loaded")}(),function(){function e(e){var t=this;console.log("PanJob "+(e?"cancelled":"completed")),t.isComplete=!0,t.onComplete()}function t(){var e,t,i;for(e=this,t=0,i=e.grid.allTiles.length;i>t;t+=1)e.grid.allTiles[t].originalAnchor.x+=e.displacement.x,e.grid.allTiles[t].originalAnchor.y+=e.displacement.y;e.grid.panCenter.x+=e.displacement.x,e.grid.panCenter.y+=e.displacement.y}function i(e){var i=this;i.reverseDisplacement={x:i.endPoint.x-i.startPoint.x,y:i.endPoint.y-i.startPoint.y},i.displacement={x:-i.reverseDisplacement.x,y:-i.reverseDisplacement.y},i.startTime=e,i.isComplete=!1,t.call(i)}function n(t){var i,n,o,r,a,l;for(i=this,n=(t-i.startTime)/i.duration,n=1-window.hg.util.easingFunctions.easeOutQuint(n),n=0>n?0:n,a=i.reverseDisplacement.x*n,l=i.reverseDisplacement.y*n,o=0,r=i.grid.allTiles.length;r>o;o+=1)i.grid.allTiles[o].currentAnchor.x+=a,i.grid.allTiles[o].currentAnchor.y+=l;i.grid.currentCenter.x=i.grid.panCenter.x+a,i.grid.currentCenter.y=i.grid.panCenter.y+l,0===n&&e.call(i,!1)}function o(){}function r(){var t=this;e.call(t,!0)}function a(){}function l(e,t,l,c){var d=this;d.grid=e,d.baseTile=t,d.reverseDisplacement=null,d.displacement=null,d.startTime=0,d.isComplete=!0,e.scrollTop=e.parent.scrollTop,d.endPoint=c||{x:t.originalAnchor.x,y:t.originalAnchor.y-e.scrollTop},d.startPoint={x:e.originalCenter.x,y:e.originalCenter.y},d.duration=s.duration,d.start=i,d.update=n,d.draw=o,d.cancel=r,d.onComplete=l,d.init=a,console.log("PanJob created: tileIndex="+d.baseTile.originalIndex)}var s={};s.duration=400,s.displacementRatio=.28,s.isRecurring=!1,s.avgDelay=300,s.delayDeviationRange=0,s.computeDependentValues=function(){},s.computeDependentValues(),l.config=s,window.hg=window.hg||{},window.hg.PanJob=l,console.log("PanJob module loaded")}(),function(){function e(){var e,t,i;for(e=this,e.displacements=[],t=0,i=e.grid.allTiles.length;i>t;t+=1)e.displacements[t]={tile:e.grid.allTiles[t],dx:s.displacementRatio*(e.grid.allTiles[t].originalAnchor.x-e.baseTile.originalAnchor.x),dy:s.displacementRatio*(e.grid.allTiles[t].originalAnchor.y-e.baseTile.originalAnchor.y)}}function t(e){var t=this;console.log("SpreadJob "+(e?"cancelled":"completed")),t.isComplete=!0,t.onComplete()}function i(e){var t=this;t.startTime=e,t.isComplete=!1}function n(e){var i,n,o,r;if(i=this,e>i.startTime+i.duration)t.call(i,!1);else for(n=(e-i.startTime)/i.duration,n=2*(n>.5?1-n:n),n=window.hg.util.easingFunctions.easeOutQuint(n),o=0,r=i.displacements.length;r>o;o+=1)i.displacements[o].tile.currentAnchor.x+=i.displacements[o].dx*n,i.displacements[o].tile.currentAnchor.y+=i.displacements[o].dy*n}function o(){}function r(){var e=this;t.call(e,!0)}function a(){}function l(t,l,c){var d=this;d.grid=t,d.baseTile=l,d.startTime=0,d.isComplete=!0,d.displacements=null,d.duration=s.duration,d.start=i,d.update=n,d.draw=o,d.cancel=r,d.onComplete=c,d.init=a,e.call(d),console.log("SpreadJob created: tileIndex="+d.baseTile.originalIndex)}var s={};s.duration=300,s.displacementRatio=.2,s.isRecurring=!1,s.avgDelay=4e3,s.delayDeviationRange=3800,s.computeDependentValues=function(){},s.computeDependentValues(),l.config=s,window.hg=window.hg||{},window.hg.SpreadJob=l,console.log("SpreadJob module loaded")}(),function(){function e(e){var t=this;console.log("TileBorderJob "+(e?"cancelled":"completed")),t.isComplete=!0,t.onComplete()}function t(e){var t=this;t.startTime=e,t.isComplete=!1}function i(){}function n(){var e;e=this}function o(){var t=this;e.call(t,!0)}function r(){l.computeDependentValues()}function a(e,a,l){var s=this;s.grid=e,s.tile=a,s.startTime=0,s.isComplete=!0,s.start=t,s.update=i,s.draw=n,s.cancel=o,s.onComplete=l,s.init=r,console.log("TileBorderJob created: tileIndex="+s.baseTile.originalIndex)}var l={};l.duration=500,l.isRecurring=!1,l.avgDelay=4e3,l.delayDeviationRange=3800,l.computeDependentValues=function(){},l.computeDependentValues(),a.config=l,window.hg=window.hg||{},window.hg.TileBorderJob=a,console.log("TileBorderJob module loaded")}();