{"version":3,"sources":["node_modules/browser-pack/_prelude.js","node_modules/gamex/index.js","node_modules/gamex/src/index.js","node_modules/gamex/src/src/collidable-physics-model-controller.js","node_modules/gamex/src/src/config-controller.js","node_modules/gamex/src/src/game-controller.js","node_modules/gamex/src/src/game-scene.js","node_modules/gamex/src/src/input-controller.js","node_modules/gamex/src/src/physics-model-controller.js","node_modules/gamex/src/src/spring-follow-camera.js","node_modules/gamex/src/wall/index.js","node_modules/gamex/src/wall/src/wall-collidable.js","node_modules/gamex/src/wall/src/wall-controller.js","node_modules/grafx/src/cameras/index.js","node_modules/grafx/src/cameras/src/camera.js","node_modules/grafx/src/cameras/src/first-person-camera.js","node_modules/grafx/src/cameras/src/fixed-camera.js","node_modules/grafx/src/cameras/src/fixed-follow-camera.js","node_modules/grafx/src/cameras/src/follow-camera.js","node_modules/grafx/src/cameras/src/overhead-camera.js","node_modules/grafx/src/cameras/src/third-person-camera.js","node_modules/grafx/src/index.js","node_modules/grafx/src/models/index.js","node_modules/grafx/src/models/src/default-model.js","node_modules/grafx/src/models/src/invisible-model-controller.js","node_modules/grafx/src/models/src/model-controller.js","node_modules/grafx/src/models/src/model-group-controller.js","node_modules/grafx/src/models/src/model.js","node_modules/grafx/src/models/src/standard-model-controller.js","node_modules/grafx/src/program-wrapper/index.js","node_modules/grafx/src/program-wrapper/src/group-program-wrapper.js","node_modules/grafx/src/program-wrapper/src/program-wrapper-store.js","node_modules/grafx/src/program-wrapper/src/program-wrapper.js","node_modules/grafx/src/program-wrapper/src/texture-store.js","node_modules/grafx/src/program-wrapper/src/uniform-setter.js","node_modules/grafx/src/renderable-shapes/index.js","node_modules/grafx/src/renderable-shapes/src/renderable-shape-factory.js","node_modules/grafx/src/renderable-shapes/src/renderable-shape-store.js","node_modules/grafx/src/renderable-shapes/src/shape-configs/capsule-renderable-shape.js","node_modules/grafx/src/renderable-shapes/src/shape-configs/cube-renderable-shape.js","node_modules/grafx/src/renderable-shapes/src/shape-configs/icosahedron-renderable-shape.js","node_modules/grafx/src/renderable-shapes/src/shape-configs/icosphere-renderable-shape.js","node_modules/grafx/src/renderable-shapes/src/shape-configs/lat-long-sphere-renderable-shape.js","node_modules/grafx/src/renderable-shapes/src/shape-configs/tetrahedron-renderable-shape.js","node_modules/grafx/src/src/grafx-controller.js","node_modules/grafx/src/src/light.js","node_modules/grafx/src/src/scene.js","node_modules/grafx/src/util/index.js","node_modules/grafx/src/util/src/geometry.js","node_modules/grafx/src/util/src/gl-util.js","node_modules/grafx/src/util/src/hash-map.js","node_modules/grafx/src/util/src/util.js","node_modules/lsl-animatex/src/animation-job.js","node_modules/lsl-animatex/src/animator.js","node_modules/lsl-animatex/src/frame-latency-profiler.js","node_modules/lsl-animatex/src/index.js","node_modules/lsl-animatex/src/persistent-animation-job.js","node_modules/lsl-animatex/src/transient-animation-job.js","node_modules/lsl-animatex/src/util.js","node_modules/lsl-physx/src/collisions/collidables/index.js","node_modules/lsl-physx/src/collisions/collidables/src/aabb-collidable.js","node_modules/lsl-physx/src/collisions/collidables/src/capsule-collidable.js","node_modules/lsl-physx/src/collisions/collidables/src/collidable.js","node_modules/lsl-physx/src/collisions/collidables/src/line-segment.js","node_modules/lsl-physx/src/collisions/collidables/src/obb-collidable.js","node_modules/lsl-physx/src/collisions/collidables/src/sphere-collidable.js","node_modules/lsl-physx/src/collisions/collision-detection/index.js","node_modules/lsl-physx/src/collisions/collision-detection/src/aabb-collision-detection.js","node_modules/lsl-physx/src/collisions/collision-detection/src/capsule-collision-detection.js","node_modules/lsl-physx/src/collisions/collision-detection/src/obb-collision-detection.js","node_modules/lsl-physx/src/collisions/collision-detection/src/sphere-collision-detection.js","node_modules/lsl-physx/src/collisions/contact-calculation/index.js","node_modules/lsl-physx/src/collisions/contact-calculation/src/aabb-contact-calculation.js","node_modules/lsl-physx/src/collisions/contact-calculation/src/capsule-contact-calculation.js","node_modules/lsl-physx/src/collisions/contact-calculation/src/obb-contact-calculation.js","node_modules/lsl-physx/src/collisions/contact-calculation/src/sphere-contact-calculation.js","node_modules/lsl-physx/src/collisions/index.js","node_modules/lsl-physx/src/collisions/src/collidable-factories.js","node_modules/lsl-physx/src/collisions/src/collidable-physics-job.js","node_modules/lsl-physx/src/collisions/src/collidable-store.js","node_modules/lsl-physx/src/collisions/src/collision-handler.js","node_modules/lsl-physx/src/collisions/src/collision-utils.js","node_modules/lsl-physx/src/index.js","node_modules/lsl-physx/src/integrator/index.js","node_modules/lsl-physx/src/integrator/src/integrator.js","node_modules/lsl-physx/src/integrator/src/rk4-integrator.js","node_modules/lsl-physx/src/src/physics-engine.js","node_modules/lsl-physx/src/src/physics-job.js","node_modules/lsl-physx/src/src/physics-state.js","node_modules/lsl-physx/src/util/index.js","node_modules/lsl-physx/src/util/src/force-utils.js","node_modules/lsl-physx/src/util/src/geometry.js","node_modules/lsl-physx/src/util/src/inertia-tensor-utils.js","node_modules/lsl-physx/src/util/src/util.js","src/config/index.js","src/config/src/box-config.js","src/config/src/camera-config.js","src/config/src/camera-folder-config.js","src/config/src/capsule-config.js","src/config/src/general-config.js","src/config/src/physics-config.js","src/config/src/physics-folder-config.js","src/config/src/sphere-config.js","src/config/src/wall-config.js","src/main.js","src/model-controllers/drop-object/drop-object-config-controller.js","src/model-controllers/drop-object/drop-object-config.js","src/model-controllers/scene/scene-config.js","src/model-controllers/scene/scene-impl.js","src/model-controllers/simulation-config-controller.js","src/model-controllers/single-object/single-object-controller.js","src/model-controllers/trigger-collision/trigger-collision-config-controller.js","src/model-controllers/trigger-collision/trigger-collision-config.js","src/programs/general-model-program/general-model-program-config.js","src/programs/index.js","../space-debris/src/config/src/camera-config.js","../space-debris/src/config/src/camera-folder-config.js"],"names":[],"mappings":"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","file":"dynamics.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","export * from './src';\n","/**\n * This module re-exports all of the exports in the grafx framework. This makes the entire framework\n * conveniently accessible via this single module.\n */\n\nexport * from 'lsl-animatex';\nexport * from 'grafx';\nexport * from 'lsl-physx';\n\nexport * from './src/collidable-physics-model-controller';\nexport * from './src/config-controller';\nexport * from './src/game-controller';\nexport * from './src/game-scene';\nexport * from './src/input-controller';\nexport * from './src/physics-model-controller';\nexport * from './src/spring-follow-camera';\n\nexport * from './wall';\n","import {PhysicsModelController} from './physics-model-controller';\nimport {CollidablePhysicsJob, PhysicsJob, PhysicsState} from 'lsl-physx';\n\n/**\n * This class represents a collidable physics-based model-controller.\n *\n * @abstract\n */\nclass CollidablePhysicsModelController extends PhysicsModelController {\n  /**\n   * @param {ModelController|ModelControllerConfig} modelControllerOrParams\n   * @param {CollidablePhysicsJob|DynamicsConfig} physicsJobOrDynamicsParams\n   * @param {RenderableShapeConfig} [shapeParams]\n   * @param {Array.<ForceApplier>} forceAppliers\n   */\n  constructor(modelControllerOrParams, physicsJobOrDynamicsParams, shapeParams, forceAppliers) {\n    super(modelControllerOrParams, physicsJobOrDynamicsParams, shapeParams, forceAppliers);\n\n    if (physicsJobOrDynamicsParams instanceof CollidablePhysicsJob) {\n      this.physicsJob = physicsJobOrDynamicsParams;\n    } else {\n      const state = new PhysicsState(physicsJobOrDynamicsParams);\n      this.physicsJob = new CollidablePhysicsJob(shapeParams, state, forceAppliers, this,\n          collision => this.handleCollision(collision));\n    }\n\n    // CollidablePhysicsModelController is an abstract class. It should not be instantiated directly.\n    if (new.target === CollidablePhysicsModelController) {\n      throw new TypeError('Cannot construct CollidablePhysicsModelController instances directly');\n    }\n  }\n\n  /**\n   * This callback is triggered in response to a collision.\n   *\n   * @param {Collision} collision\n   * @returns {boolean} True if this needs the standard collision restitution to proceed.\n   * @abstract\n   */\n  handleCollision(collision) {\n    // Extending classes should implement this method.\n    throw new TypeError('Method not implemented');\n  }\n}\n\nexport {CollidablePhysicsModelController};\n\n/**\n * @typedef {RenderableShapeConfig&CollidableShapeConfig} RenderableAndCollidableShapeConfig\n */\n","import {\n  createHslColorString,\n  debounce,\n  find,\n  getViewportSize,\n  hslToHsv,\n  hsvToHsl,\n  hslToRgb,\n  isInt,\n} from 'grafx';\n\nconst _SMALL_SCREEN_WIDTH_THRESHOLD = 800;\n\n/**\n * This top-level ConfigController class wraps the dat.GUI library and provides higher-level\n * configuration functionality.\n *\n * ## Configuring Parameters\n *\n * Consumers of this module will need to specify configuration parameters with a certain form. For\n * each property on a config object, an item will be created in the corresponding dat.GUI folder.\n * The type and specifics of the menu item depends on the value assigned to the config property:\n *\n * - Toggle item:\n *   - Created if the config property is a boolean.\n * - Trigger item:\n *   - Created if the config property is a function.\n * - Slider item:\n *   - Created if the config property is an object with 'min', 'max', and 'start' properties.\n *   - When the config object is parsed, this initial config object will be removed and replaced\n *     with only the current actual value.\n *   - The intervals of the slider are automatically determined by the dat.GUI library and depend on\n *     the type of the 'min'/'max'/'value' properties (int vs float). See the dat.GUI documentation\n *     for more info.\n * - Color item:\n *   - Created if the config property is an object with 'h'/'s'/'l' properties.\n *   - When the config object is parsed, this initial config object will be replaced with a new\n *     object that has 'h'/'s'/'v' properties and an 'hsl' property, which is an object containing\n *     'h'/'s'/'l' properties and a 'colorString' property that contains a valid color string to\n *     assign to a CSS property.\n *   - All 'h'/'s'/'l' and 'h'/'s'/'v' values should be in the range of [0,1].\n * - Text item:\n *   - Created if the config property is a String.\n */\nclass ConfigController {\n  constructor() {\n    this._datGuiWidth = 300;\n    this._gui = null;\n  }\n\n  /**\n   * Sets up the dat.GUI controller.\n   */\n  initialize() {\n    // Create the dat.GUI menu.\n    this._createGuiIfNotCreated(true);\n    this._gui.width = this._datGuiWidth;\n\n    // Automatically close the menu on smaller screens.\n    // TODO: Check that the menu is closed initially (with no resize event) if the page loads at too small a width.\n    const debouncedResize = debounce(() => this._onResize(), 300);\n    window.addEventListener('resize', debouncedResize, false);\n  }\n\n  /**\n   * Clears the dat.GUI menu.\n   */\n  destroy() {\n    this._gui.destroy();\n  }\n\n  /**\n   * @param {boolean} isGuiVisible\n   * @private\n   */\n  _createGuiIfNotCreated(isGuiVisible) {\n    if (this._gui) {\n      if (isGuiVisible) {\n        this._gui.domElement.style.display = 'block';\n      }\n    } else {\n      this._gui = new dat.GUI();\n      if (!isGuiVisible) {\n        this._gui.domElement.style.display = 'none';\n      }\n    }\n  }\n\n  /**\n   * Creates a folder with the given configuration underneath the given parent folder.\n   *\n   * @param {MenuFolderConfig} folderConfig\n   * @param {dat.gui.GUI} [parentFolder] If not given, the folder is created at the top level.\n   * @param {Object} [onChangeListeners] A map from labels to on-change handlers.\n   */\n  createFolder(folderConfig, parentFolder, onChangeListeners) {\n    this._createGuiIfNotCreated(false);\n\n    parentFolder = parentFolder || this._gui;\n\n    // TODO: Copy the original config and store it somehow on the dat.GUI menu item? This is important for resetting configs later (from the other controller).\n    const folder = parentFolder.addFolder(folderConfig.label);\n\n    folderConfig.folder = folder;\n\n    this._createItems(folderConfig);\n\n    // Add listeners from the config file.\n    this._addOnChangeListeners(folderConfig, folderConfig.onChangeListeners, true);\n\n    // Add listeners from the caller of this method.\n    this._addOnChangeListeners(folderConfig, onChangeListeners, false);\n\n    if (folderConfig.isOpen) {\n      folder.open();\n    }\n\n    // Recursively create descendant folders.\n    if (folderConfig.childFolders) {\n      this.createFolders(folderConfig.childFolders, folder);\n    }\n  }\n\n  /**\n   * @param {Array.<MenuFolderConfig>} folderConfigs\n   * @param {dat.gui.GUI} parentFolder\n   */\n  createFolders(folderConfigs, parentFolder) {\n    folderConfigs.forEach(folderConfig => this.createFolder(folderConfig, parentFolder));\n  }\n\n  /**\n   * @param {MenuFolderConfig} folderConfig\n   * @param {string} label\n   * @param {Function} callback\n   */\n  addOnChangeListener(folderConfig, label, callback) {\n    if (folderConfig.items[label]) {\n      folderConfig.items[label].onChangeListeners.push(callback);\n    } else {\n      console.warn('Attempting to add on-change listener for a non-existent config', label,\n          folderConfig);\n    }\n  }\n\n  hideMenu() {\n    console.info('Hide Menu clicked');\n    document.querySelector('body > .dg').style.display = 'none';\n  }\n\n  /**\n   * NOTE: This is not idempotent. This modifies the original folderConfig.config object.\n   *\n   * @param {MenuFolderConfig} folderConfig\n   * @private\n   */\n  _createItems(folderConfig) {\n    folderConfig.items = {};\n\n    Object.keys(folderConfig.config).forEach((itemConfigKey) => {\n      // Do not expose internal configurations to the user.\n      if (itemConfigKey.substr(0, 1) === '_') return;\n\n      const itemConfig = folderConfig.config[itemConfigKey];\n\n      // Determine which method to use to create the menu item.\n      const pair = find([\n        [ConfigController.isToggleItem, ConfigController._createToggleItem],\n        [ConfigController.isTriggerItem, ConfigController._createTriggerItem],\n        [ConfigController.isSliderItem, ConfigController._createSliderItem],\n        [ConfigController.isNumberItem, ConfigController._createNumberItem],\n        [ConfigController.isHslColorItem, ConfigController._createHslColorItem],\n        [ConfigController.isTextItem, ConfigController._createTextItem],\n        [ConfigController.isStringSelectorItem, ConfigController._createStringSelectorItem],\n        [ConfigController.isVec3NumberItem, ConfigController._createVec3NumberItems],\n        [ConfigController.isVec3SliderItem, ConfigController._createVec3SliderItems],\n      ], (pair) => pair[0](itemConfig));\n      if (!pair) {\n        console.warn('Unrecognized config type', itemConfig);\n        return;\n      }\n      const menuItemCreator = pair[1];\n\n      // Create the actual dat.GUI menu item and save a reference to it.\n      const menuItemData = menuItemCreator.call(this, folderConfig.config,\n          itemConfigKey, itemConfig, folderConfig.folder);\n      if (menuItemData instanceof Array) {\n        const parentMenuItemData = {onChangeListeners: []};\n\n        // Record the individual sub-items.\n        menuItemData.forEach(data => {\n          folderConfig.items[data.label] = data;\n\n          // Hook up the (parent item's) onChange listeners.\n          data.menuItem.onChange(() => {\n            data.onChangeListeners.forEach(callback => callback());\n            parentMenuItemData.onChangeListeners.forEach(callback => callback());\n          });\n        });\n\n        // Record the parent item.\n        folderConfig.items[itemConfigKey] = parentMenuItemData;\n      } else {\n        folderConfig.items[itemConfigKey] = menuItemData;\n\n        // Hook up the onChange listeners.\n        menuItemData.menuItem.onChange(() =>\n            menuItemData.onChangeListeners.forEach(callback => callback()));\n      }\n    });\n  }\n\n  /**\n   * @param {MenuFolderConfig} folderConfig\n   * @param {Object} onChangeListeners A map from labels to on-change event handlers.\n   * @param {boolean} makeInitialCallToListeners\n   * @private\n   */\n  _addOnChangeListeners(folderConfig, onChangeListeners, makeInitialCallToListeners) {\n    if (onChangeListeners) {\n      Object.keys(onChangeListeners).forEach(key => {\n        const onChangeHandler = onChangeListeners[key];\n        configController.addOnChangeListener(folderConfig, key, onChangeHandler);\n        if (makeInitialCallToListeners) {\n          onChangeHandler();\n        }\n      });\n    }\n  }\n\n  /**\n   * Close the menu on smaller screens.\n   */\n  _onResize() {\n    setTimeout(() => {\n      if (getViewportSize() < _SMALL_SCREEN_WIDTH_THRESHOLD) {\n        this._gui.close();\n      }\n    }, 10);\n  }\n\n  /**\n   * @param {Object} configObject\n   * @param {string} label\n   * @param {ToggleMenuItemConfig} itemConfig\n   * @param {dat.gui.GUI} folder\n   * @returns {MenuItemData}\n   * @private\n   */\n  static _createToggleItem(configObject, label, itemConfig, folder) {\n    return {\n      menuItem: folder.add(configObject, label),\n      onChangeListeners: []\n    };\n  }\n\n  /**\n   * @param {Object} configObject\n   * @param {string} label\n   * @param {TriggerMenuItemConfig} itemConfig\n   * @param {dat.gui.GUI} folder\n   * @returns {MenuItemData}\n   * @private\n   */\n  static _createTriggerItem(configObject, label, itemConfig, folder) {\n    return {\n      menuItem: folder.add(configObject, label),\n      onChangeListeners: []\n    };\n  }\n\n  /**\n   * @param {Object} configObject\n   * @param {string} label\n   * @param {SliderMenuItemConfig} itemConfig\n   * @param {dat.gui.GUI} folder\n   * @returns {MenuItemData}\n   * @private\n   */\n  static _createSliderItem(configObject, label, itemConfig, folder) {\n    // Replace the original itemConfig on the configObject with the actual starting value.\n    configObject[label] = itemConfig.start;\n\n    const listeners = isInt(itemConfig.min) && isInt(itemConfig.max)\n        ? [ConfigController._truncateToInt.bind(null, configObject, label)]\n        : [];\n\n    // Create the menu item.\n    return {\n      menuItem: folder.add(configObject, label, itemConfig.min, itemConfig.max),\n      onChangeListeners: listeners\n    };\n  }\n\n  /**\n   * @param {Object} configObject\n   * @param {string} label\n   * @param {NumberMenuItemConfig} itemConfig\n   * @param {dat.gui.GUI} folder\n   * @returns {MenuItemData}\n   * @private\n   */\n  static _createNumberItem(configObject, label, itemConfig, folder) {\n    // Create the menu item.\n    return {\n      menuItem: folder.add(configObject, label),\n      onChangeListeners: []\n    };\n  }\n\n  /**\n   * This is used to force int sliders to only produce ints.\n   *\n   * This shouldn't be needed, but dat.GUI doesn't seem to be behaving consistently.\n   *\n   * @param configObject\n   * @param label\n   * @private\n   */\n  static _truncateToInt(configObject, label) {\n    configObject[label] = parseInt(configObject[label]);\n  }\n\n  /**\n   * @param {Object} configObject\n   * @param {string} label\n   * @param {HslColorMenuItemConfig} itemConfig\n   * @param {dat.gui.GUI} folder\n   * @returns {MenuItemData}\n   * @private\n   */\n  static _createHslColorItem(configObject, label, itemConfig, folder) {\n    // Create the property that the menu item will use.\n    itemConfig = hslToHsv(itemConfig);\n    configObject[label] = itemConfig;\n\n    // Set up a listener that will keep derived HSL values in sync with the native HSV values used\n    // by the dat.GUI menu item.\n    const calculateHslValues = () => {\n      const hsl = hsvToHsl(configObject[label]);\n      const rgb = hslToRgb(hsl);\n      itemConfig.hsl = hsl;\n      itemConfig.rgb = rgb;\n      itemConfig.rgbVec = vec3.fromValues(rgb.r, rgb.g, rgb.b);\n      itemConfig.hsl.colorString = createHslColorString(hsl);\n    };\n    calculateHslValues();\n\n    // Create the menu item.\n    return {\n      menuItem: folder.addColor(configObject, label),\n      onChangeListeners: [calculateHslValues]\n    };\n  }\n\n  /**\n   * @param {Object} configObject\n   * @param {string} label\n   * @param {TextMenuItemConfig} itemConfig\n   * @param {dat.gui.GUI} folder\n   * @returns {MenuItemData}\n   * @private\n   */\n  static _createTextItem(configObject, label, itemConfig, folder) {\n    return {\n      menuItem: folder.add(configObject, label),\n      onChangeListeners: []\n    };\n  }\n\n  /**\n   * @param {Object} configObject\n   * @param {string} label\n   * @param {Vec3NumberMenuItemConfig} itemConfig\n   * @param {dat.gui.GUI} folder\n   * @returns {Array.<MenuItemData>}\n   * @private\n   */\n  static _createVec3NumberItems(configObject, label, itemConfig, folder) {\n    const xLabel = `${label}X`;\n    const yLabel = `${label}Y`;\n    const zLabel = `${label}Z`;\n\n    // Set up a listener that will keep the derived vec3 in sync with its individual coordinates.\n    const _updateVec3 = () => vec3.set(itemConfig, configObject[xLabel], configObject[yLabel],\n        configObject[zLabel]);\n\n    return [\n      [0, xLabel],\n      [1, yLabel],\n      [2, zLabel]\n    ].map(indexAndLabel => {\n      const index = indexAndLabel[0];\n      const label = indexAndLabel[1];\n\n      // Create the individual vec3 coordinate property and initial value.\n      configObject[label] = itemConfig[index];\n\n      // Create the individual vec3 coordinate menu item.\n      return {\n        menuItem: folder.add(configObject, label),\n        onChangeListeners: [_updateVec3],\n        label: label\n      };\n    });\n  }\n\n  /**\n   * @param {Object} configObject\n   * @param {string} label\n   * @param {Vec3SliderMenuItemConfig} itemConfig\n   * @param {dat.gui.GUI} folder\n   * @returns {Array.<MenuItemData>}\n   * @private\n   */\n  static _createVec3SliderItems(configObject, label, itemConfig, folder) {\n    // Replace the original itemConfig on the configObject with the actual starting value.\n    configObject[label] = itemConfig.start;\n\n    const xLabel = `${label}X`;\n    const yLabel = `${label}Y`;\n    const zLabel = `${label}Z`;\n\n    // Set up a listener that will keep the derived vec3 in sync with its individual coordinates.\n    const _updateVec3 = () => vec3.set(configObject[label], configObject[xLabel],\n        configObject[yLabel], configObject[zLabel]);\n\n    return [\n      [0, xLabel],\n      [1, yLabel],\n      [2, zLabel]\n    ].map(indexAndLabel => {\n      const index = indexAndLabel[0];\n      const label = indexAndLabel[1];\n      const start = itemConfig.start[index];\n      const min = itemConfig.min[index];\n      const max = itemConfig.max[index];\n\n      // Create the individual vec3 coordinate property and initial value.\n      configObject[label] = start;\n\n      // Create the individual vec3 coordinate menu item.\n      return {\n        menuItem: folder.add(configObject, label, min, max),\n        onChangeListeners: [_updateVec3],\n        label: label\n      };\n    });\n  }\n\n  /**\n   * @param {Object} configObject\n   * @param {string} label\n   * @param {StringSelectorMenuItemConfig} itemConfig\n   * @param {dat.gui.GUI} folder\n   * @returns {MenuItemData}\n   * @private\n   */\n  static _createStringSelectorItem(configObject, label, itemConfig, folder) {\n    // Replace the original itemConfig on the configObject with the actual starting value.\n    configObject[label] = itemConfig.start;\n\n    return {\n      menuItem: folder.add(configObject, label, itemConfig.options),\n      onChangeListeners: []\n    };\n  }\n\n  /**\n   * @param {MenuItemConfig} itemConfig\n   * @returns {boolean}\n   */\n  static isToggleItem(itemConfig) {\n    return typeof itemConfig === 'boolean';\n  }\n\n  /**\n   * @param {MenuItemConfig} itemConfig\n   * @returns {boolean}\n   */\n  static isTriggerItem(itemConfig) {\n    return typeof itemConfig === 'function';\n  }\n\n  /**\n   * @param {MenuItemConfig} itemConfig\n   * @returns {boolean}\n   */\n  static isSliderItem(itemConfig) {\n    return typeof itemConfig === 'object' &&\n        typeof itemConfig.start === 'number' &&\n        typeof itemConfig.min === 'number' &&\n        typeof itemConfig.max === 'number';\n  }\n\n  /**\n   * @param {MenuItemConfig} itemConfig\n   * @returns {boolean}\n   */\n  static isNumberItem(itemConfig) {\n    return typeof itemConfig === 'number';\n  }\n\n  /**\n   * @param {MenuItemConfig} itemConfig\n   * @returns {boolean}\n   */\n  static isHslColorItem(itemConfig) {\n    return typeof itemConfig === 'object' &&\n        typeof itemConfig.h === 'number' &&\n        typeof itemConfig.s === 'number' &&\n        typeof itemConfig.l === 'number';\n  }\n\n  /**\n   * @param {MenuItemConfig} itemConfig\n   * @returns {boolean}\n   */\n  static isTextItem(itemConfig) {\n    return typeof itemConfig === 'string';\n  }\n\n  /**\n   * @param {MenuItemConfig} itemConfig\n   * @returns {boolean}\n   */\n  static isStringSelectorItem(itemConfig) {\n    return typeof itemConfig === 'object' &&\n        typeof itemConfig.start === 'string' &&\n        itemConfig.options instanceof Array;\n  }\n\n  /**\n   * @param {MenuItemConfig} itemConfig\n   * @returns {boolean}\n   */\n  static isVec3NumberItem(itemConfig) {\n    return (itemConfig instanceof Float32Array || itemConfig instanceof Array) &&\n        itemConfig.length === 3;\n  }\n\n  /**\n   * @param {MenuItemConfig} itemConfig\n   * @returns {boolean}\n   */\n  static isVec3SliderItem(itemConfig) {\n    return typeof itemConfig === 'object' &&\n        ConfigController.isVec3NumberItem(itemConfig.start) &&\n        ConfigController.isVec3NumberItem(itemConfig.min) &&\n        ConfigController.isVec3NumberItem(itemConfig.max);\n  }\n}\n\nconst configController = new ConfigController();\n\nexport {configController};\n\n/**\n * @typedef {Object} MenuItemData\n * @property {dat.gui.controller} menuItem The actual dat.GUI menu item.\n * @property {Array.<Function>} onChangeListeners onChange listeners for the menu item.\n * @property {string} [label] The label used for the menu item.\n */\n\n/**\n * @typedef {Object} MenuFolderConfig\n * @property {string} label\n * @property {Object} config A map from labels to MenuItemConfigs. Any config item whose label\n * starts with '_' will be treated as internal and will not be exposed to the user.\n * @property {boolean} [isOpen=false]\n * @property {Object} [onChangeListeners] A map from labels to on-change event handlers.\n * @property {Array.<MenuFolderConfig>} [childFolders]\n * @property {Object} [items] A map from labels to MenuItemDatas.\n * @property {dat.gui.GUI} [folder] Created and added by the ConfigController after registering the\n * folder.\n */\n\n/**\n * @typedef {ToggleMenuItemConfig|TriggerMenuItemConfig|SliderMenuItemConfig|NumberMenuItemConfig|HslColorMenuItemConfig|TextMenuItemConfig|StringSelectorMenuItemConfig|Vec3NumberMenuItemConfig|Vec3SliderMenuItemConfig} MenuItemConfig\n */\n\n/**\n * @typedef {boolean} ToggleMenuItemConfig\n */\n\n/**\n * @typedef {Function} TriggerMenuItemConfig\n */\n\n/**\n * @typedef {Object} SliderMenuItemConfig\n * @property {number} start\n * @property {number} min\n * @property {number} max\n */\n\n/**\n * @typedef {number} NumberMenuItemConfig\n */\n\n/**\n * @typedef {Object} HslColorMenuItemConfig\n * @property {number} h A value from 0 to 1.\n * @property {number} s A value from 0 to 1.\n * @property {number} l A value from 0 to 1.\n */\n\n/**\n * @typedef {string} TextMenuItemConfig\n */\n\n/**\n * @typedef {Object} StringSelectorMenuItemConfig\n * @property {string} start\n * @property {Array.<String>} options\n */\n\n/**\n * @typedef {vec3} Vec3NumberMenuItemConfig\n */\n\n/**\n * @typedef {Object} Vec3SliderMenuItemConfig\n * @property {vec3} start\n * @property {vec3} min\n * @property {vec3} max\n */\n","import { animator } from 'lsl-animatex';\nimport {\n  GrafxController,\n  handlePageFocusChange,\n}\nfrom 'grafx';\nimport { configController } from './config-controller';\nimport { InputController } from './input-controller';\n\n/**\n * This top-level Controller class initializes and runs the rest of the app.\n */\nclass GameController extends GrafxController {\n  constructor() {\n    super();\n\n    this.isGameOver = true;\n    this._inputCtrl = null;\n  }\n\n  /**\n   * Initializes the app. After this completes successfully, call run to actually start the app.\n   *\n   * @param {HTMLCanvasElement} canvas\n   * @param {Array.<ProgramWrapperConfig>} programConfigs Configurations for program wrappers that\n   * should be pre-cached before starting the rest of the app.\n   * @param {Array.<String>} texturePaths Texture images that should be pre-cached before\n   * starting the rest of the app.\n   * @param {Function.<Scene>} SceneImpl A class that extends GameScene.\n   * @returns {Promise}\n   */\n  initialize(canvas, programConfigs, texturePaths, SceneImpl) {\n    this._canvas = canvas;\n\n    configController.initialize();\n    this._setUpInput();\n\n    return super.initialize(canvas, programConfigs, texturePaths, SceneImpl);\n  }\n\n  destroy() {\n    this._inputCtrl.destroy();\n  }\n\n  /**\n   * Runs the app. This should be called after initialize.\n   *\n   * A few things happen if this is run in dev mode:\n   * - The draw and update steps of each frame are wrapped in a try/catch block.\n   * - This method returns a Promise that rejects if an error is throw during any update or draw\n   *   step and resolves when this controller has finished (currently never)\n   */\n  run() {\n    handlePageFocusChange(hasFocus => this._onPageFocusChange(hasFocus));\n    super.run();\n  }\n\n  pause() {\n    animator.pause();\n  }\n\n  unpause() {\n    animator.unpause();\n  }\n\n  /**\n   * @returns {boolean}\n   */\n  get isPaused() {\n    return animator.isPaused;\n  }\n\n  /**\n   * @param {boolean} hasFocus\n   * @private\n   */\n  _onPageFocusChange(hasFocus) {\n    if (!hasFocus) {\n      this.pause();\n    }\n  }\n\n  /**\n   * @private\n   */\n  _setUpInput() {\n    this._inputCtrl = new InputController();\n    this._inputCtrl.preventDefaultBrowserBehaviorForKey('SPACE');\n  }\n\n  /**\n   * Initializes the scene.\n   *\n   * @param {Function.<Scene>} SceneImpl A class that extends GameScene.\n   * @returns {Promise}\n   * @protected\n   */\n  _setUpScene(SceneImpl) {\n    this._scene = new SceneImpl({\n      gl: this._gl,\n      getViewMatrix: () => this._getViewMatrix(),\n      getProjectionMatrix: () => this._getProjectionMatrix(),\n    }, this, this._inputCtrl);\n    return this._scene.getIsReady().then(() => {\n      this._scene.reset();\n      this._updateAspectRatio(); // TODO: This should NOT happen here or using the glUtil globals.\n    });\n  }\n}\n\nexport { GameController };\n","import { Scene } from 'grafx';\nimport { Aabb } from 'lsl-physx';\n\n/**\n * This class handles the overall scene.\n *\n * @abstract\n */\nclass GameScene extends Scene {\n  /**\n   * @param {ModelGroupControllerConfig} modelControllerParams\n   * @param {GameController} gameCtrl\n   * @param {InputController} inputCtrl\n   * @param {number} renderDistance\n   */\n  constructor(modelControllerParams, gameCtrl, inputCtrl, renderDistance) {\n    super(modelControllerParams);\n\n    // GameScene is an abstract class. It should not be instantiated directly.\n    if (new.target === GameScene) {\n      throw new TypeError('Cannot construct GameScene instances directly');\n    }\n\n    this._gameCtrl = gameCtrl;\n    this._inputCtrl = inputCtrl;\n    this._renderDistance = renderDistance;\n    this._bounds = Aabb.createAsUniformAroundCenter(\n      vec3.fromValues(0, 0, 0), this._renderDistance);\n  }\n\n  reset() {\n    this.centerOfVolume = vec3.fromValues(0, 0, 0);\n    super.reset();\n  }\n\n  /** @returns {Aabb} */\n  get bounds() {\n    return this._bounds;\n  }\n  /** @returns {vec3} */\n  get centerOfVolume() {\n    return this._bounds.centerOfVolume;\n  }\n  /** @param {vec3} value */\n  set centerOfVolume(value) {\n    this._bounds.setAsUniformAroundCenter(value, this._renderDistance);\n  }\n}\n\nexport { GameScene };\n","import {keyCodes} from 'grafx';\n\n// TODO: Figure out how to capture: tab, space, escape, enter; prevent their default behaviors when\n// listeners have been registered for them.\n\n/**\n * This class handles user input.\n */\nclass InputController {\n  constructor() {\n    this._keyDownListeners = {};\n    this._keyUpListeners = {};\n    this._currentlyPressedKeys = {};\n    this._keysToPreventDefaultBrowserBehaviorFor = {};\n\n    this._mainKeyDownListener = event => this._handleKeyDown(event);\n    this._mainKeyUpListener = event => this._handleKeyUp(event);\n    this._mainKeyPressListener = event => this._handleKeyPress(event);\n\n    window.addEventListener('keydown', this._mainKeyDownListener, false);\n    window.addEventListener('keyup', this._mainKeyUpListener, false);\n    window.addEventListener('keypress', this._mainKeyPressListener, false);\n  }\n\n  destroy() {\n    window.removeEventListener('keydown', this._mainKeyDownListener);\n    window.removeEventListener('keyup', this._mainKeyUpListener);\n    window.removeEventListener('keypress', this._mainKeyPressListener);\n  }\n\n  /**\n   * Registers a callback to be called whenever the given key is pressed.\n   *\n   * @param {string} key\n   * @param {Function} callback\n   */\n  addKeyDownListener(key, callback) {\n    let listenersForKey = this._keyDownListeners[keyCodes[key]];\n\n    // Make sure the listener list is initialized for this key.\n    if (!listenersForKey) {\n      listenersForKey = new Set();\n      this._keyDownListeners[keyCodes[key]] = listenersForKey;\n    }\n\n    listenersForKey.add(callback);\n  }\n\n  /**\n   * Registers a callback to be called whenever the given key is lifted.\n   *\n   * @param {string} key\n   * @param {Function} callback\n   */\n  addKeyUpListener(key, callback) {\n    let listenersForKey = this._keyUpListeners[keyCodes[key]];\n\n    // Make sure the listener list is initialized for this key.\n    if (!listenersForKey) {\n      listenersForKey = new Set();\n      this._keyUpListeners[keyCodes[key]] = listenersForKey;\n    }\n\n    listenersForKey.add(callback);\n  }\n\n  /**\n   * Un-registers a callback to be called whenever the given key is pressed.\n   *\n   * @param {string} key\n   * @param {Function} callback\n   */\n  removeKeyDownListener(key, callback) {\n    this._keyDownListeners[keyCodes[key]].delete(callback);\n  }\n\n  /**\n   * Un-registers a callback to be called whenever the given key is lifted.\n   *\n   * @param {string} key\n   * @param {Function} callback\n   */\n  removeKeyUpListener(key, callback) {\n    this._keyUpListeners[keyCodes[key]].delete(callback);\n  }\n\n  /**\n   * Registers the given key to prevent the default browser behavior when it is pressed.\n   *\n   * @param {string} key\n   */\n  preventDefaultBrowserBehaviorForKey(key) {\n    this._keysToPreventDefaultBrowserBehaviorFor[keyCodes[key]] = true;\n  }\n\n  /**\n   * Un-registers the given key to prevent the default browser behavior when it is pressed.\n   *\n   * @param {string} key\n   */\n  allowDefaultBrowserBehaviorForKey(key) {\n    delete this._keysToPreventDefaultBrowserBehaviorFor[keyCodes[key]];\n  }\n\n  /**\n   * Determines whether the given key is currently pressed down.\n   *\n   * @param {string} key\n   * @returns {boolean}\n   */\n  isKeyCurrentlyPressed(key) {\n    return !!this._currentlyPressedKeys[keyCodes[key]];\n  }\n\n  /**\n   * Saves the given key as being pressed.\n   *\n   * @param {KeyboardEvent} event\n   * @private\n   */\n  _handleKeyDown(event) {\n    // If this key was already being pressed down, then do nothing (when a key is held down, many\n    // keydown events are actually triggered).\n    if (this._currentlyPressedKeys[event.keyCode]) {\n      return;\n    }\n\n    // Mark this key as being pressed down.\n    this._currentlyPressedKeys[event.keyCode] = true;\n\n    // Call any registered key-down listeners for this key.\n    const listeners = this._keyDownListeners[event.keyCode];\n    if (listeners) {\n      listeners.forEach(listener => listener());\n    }\n  }\n\n  /**\n   * Calls all key-up listeners that have been registered for the given key.\n   *\n   * @param {KeyboardEvent} event\n   * @private\n   */\n  _handleKeyUp(event) {\n    // Mark this key as no longer being pressed down.\n    delete this._currentlyPressedKeys[event.keyCode];\n\n    // Call any registered key-up listeners for this key.\n    const listeners = this._keyUpListeners[event.keyCode];\n    if (listeners) {\n      listeners.forEach(listener => listener());\n    }\n  }\n\n  /**\n   * Prevents the default browser behavior for keys that have been registered to prevent.\n   *\n   * @param {KeyboardEvent} event\n   * @private\n   */\n  _handleKeyPress(event) {\n    if (this._keysToPreventDefaultBrowserBehaviorFor[event.keyCode]) {\n      event.preventDefault();\n    }\n  }\n}\n\nexport {InputController};\n","import {isInDevMode, ModelController, StandardModelController, vec3ToString} from 'grafx';\nimport {PhysicsJob, PhysicsState} from 'lsl-physx';\n\n/**\n * This class represents a non-collidable physics-based model-controller.\n *\n * It uses composition to control an instance of a ModelController along with a corresponding\n * instance of a PhysicsJob.\n *\n * @implements {ModelControllerInterface}\n * @abstract\n */\nclass PhysicsModelController {\n  /**\n   * @param {ModelController|ModelControllerConfig} modelControllerOrParams\n   * @param {PhysicsJob|DynamicsConfig} physicsJobOrDynamicsParams\n   * @param {RenderableShapeConfig} [shapeParams]\n   * @param {Array.<ForceApplier>} [forceAppliers]\n   */\n  constructor(modelControllerOrParams, physicsJobOrDynamicsParams, shapeParams, forceAppliers) {\n    // PhysicsModelController is an abstract class. It should not be instantiated directly.\n    if (new.target === PhysicsModelController) {\n      throw new TypeError('Cannot construct PhysicsModelController instances directly');\n    }\n\n    this.modelCtrl = modelControllerOrParams instanceof ModelController\n        ? modelControllerOrParams\n        : new StandardModelController(modelControllerOrParams, shapeParams);\n\n    if (physicsJobOrDynamicsParams instanceof PhysicsJob) {\n      this.physicsJob = physicsJobOrDynamicsParams;\n    } else {\n      const state = new PhysicsState(physicsJobOrDynamicsParams);\n      this.physicsJob = new PhysicsJob(forceAppliers, state);\n    }\n\n    this._originalPosition = vec3.clone(this.physicsJob.currentState.position);\n\n    this._patchModelController({\n      /**\n       * Patches the ModelController's updateTransforms method in order to keep it's local-transform\n       * matrix in-sync with the PhysicsJob's position and orientation.\n       */\n      updateTransforms: (superVersion) => {\n        // Update the ModelController's local-transform matrix according to the PhysicsJob's\n        // current position and orientation.\n        mat4.fromRotationTranslationScale(this.modelCtrl._localTransform,\n            this.renderOrientation, this.renderPosition,\n            this.modelCtrl.scale);\n        superVersion();\n      },\n    });\n\n    if (isInDevMode) {\n      const controllerName = this.constructor.name.replace('Controller', '');\n      console.debug(`${controllerName} created @ ${vec3ToString(this.position)}`);\n    }\n  }\n\n  /**\n   * Patches the given methods on the underlying ModelController.\n   *\n   * The patched methods are passed the original or \"super\" version of the method as the first\n   * argument; the normal method arguments are provided after.\n   *\n   * @protected\n   */\n  _patchModelController(patches) {\n    Object.keys(patches).forEach((methodName) => {\n      const newMethod = patches[methodName];\n      const superVersion = this.modelCtrl[methodName].bind(this.modelCtrl);\n      this.modelCtrl[methodName] = newMethod.bind(this.modelCtrl, superVersion);\n    });\n  }\n\n  /**\n   * Registers this controller's PhysicsJob(s) with the physics engine.\n   */\n  reset() {\n    this.modelCtrl.reset();\n    this.physicsJob.position = this._originalPosition;\n    this.physicsJob.finish();\n    this.physicsJob.start();\n  }\n\n  /**\n   * Unregisters this controller's PhysicsJob(s) with the physics engine.\n   */\n  destroy() {\n    this.modelCtrl.destroy();\n    this.physicsJob.finish();\n    if (isInDevMode) {\n      const controllerName = this.constructor.name.replace('Controller', '');\n      console.debug(`${controllerName} destroyed @ ${vec3ToString(this.position)}`);\n    }\n  }\n\n  /** @param {vec3} value */\n  set position(value) {\n    this.physicsJob.position = value;\n  }\n  /** @returns {vec3} */\n  get position() {\n    return this.physicsJob.currentState.position;\n  }\n  /** @returns {quat} */\n  get orientation() {\n    return this.physicsJob.currentState.orientation;\n  }\n  // FIXME: Can I remove this?\n  /** @returns {vec3} */\n  get velocity() {\n    return this.physicsJob.currentState.velocity;\n  }\n\n  /** @returns {vec3} */\n  get renderPosition() {\n    return this.physicsJob.renderState.position;\n  }\n  /** @returns {quat} */\n  get renderOrientation() {\n    return this.physicsJob.renderState.orientation;\n  }\n  // FIXME: Can I remove this?\n  /** @returns {vec3} */\n  get renderVelocity() {\n    return this.physicsJob.renderState.velocity;\n  }\n\n  /**\n   * @returns {DefaultModel}\n   * @protected\n   */\n  get _model() {\n    return this.modelCtrl._model;\n  }\n  /**\n   * @returns {vec3}\n   */\n  get scale() {\n    return this.modelCtrl.scale;\n  }\n  /**\n   * Returns a promise that resolves when this model controller is ready for the app to run.\n   *\n   * @returns {Promise}\n   */\n  getIsReady() {\n    return this.modelCtrl.getIsReady();\n  }\n  /**\n   * Gets the model transform matrix, in local coordinates.\n   *\n   * @returns {mat4}\n   */\n  get localTransform() {\n    return this.modelCtrl.localTransform;\n  }\n  /**\n   * Gets the model transform matrix, in world coordinates.\n   *\n   * @returns {mat4}\n   */\n  get worldTransform() {\n    return this.modelCtrl.worldTransform;\n  }\n  /**\n   * Calls update, updateTransforms, and updateChildren.\n   *\n   * @param {DOMHighResTimeStamp} currentTime\n   * @param {DOMHighResTimeStamp} deltaTime\n   */\n  updateSelfAndChildren(currentTime, deltaTime) {\n    this.modelCtrl.updateSelfAndChildren(currentTime, deltaTime);\n  }\n}\n\nexport {PhysicsModelController};\n","import {FollowCamera} from 'grafx';\n\n// TODO: Ideally, this would use the built-in physics engine; however, we I tried integrating it\n// before, I noticed some instability when moving at high speeds. This probably had something to do\n// with accessing different versions of the target position (previousState vs currentState vs\n// renderState)for force/position calculations\n\n/**\n * This class defines a spring-based follow camera.\n *\n * This camera is positioned at a relative, flexible distance and rotation from the observed target\n * and follows the target's position and orientation with a spring force tying the camera to the\n * desired position.\n *\n * A follow camera rotates in all three dimensions; it does not have a fixed roll.\n */\nclass SpringFollowCamera extends FollowCamera {\n  /**\n   * If oldCamera is given, then the state of the new camera will be initialized to match that of\n   * the old camera. This enables a smooth transition when changing cameras.\n   *\n   * @param {CameraTarget} cameraTarget\n   * @param {FollowCameraConfig} followCameraParams\n   * @param {CameraConfig} cameraParams\n   * @param {Camera} [oldCamera]\n   */\n  constructor(cameraTarget, followCameraParams, cameraParams, oldCamera) {\n    super(cameraTarget, followCameraParams, cameraParams, oldCamera);\n    // These could have been set in _matchOldCamera.\n    this._velocity = this._velocity || vec3.create();\n    this._acceleration = this._acceleration || vec3.create();\n  }\n\n  reset() {\n    super.reset();\n    vec3.copy(this._position, this._followCameraParams._intendedTranslationFromTarget);\n  }\n\n  /**\n   * @param {DOMHighResTimeStamp} currentTime\n   * @param {DOMHighResTimeStamp} deltaTime\n   */\n  update(currentTime, deltaTime) {\n    this._updateAccelerationVelocityAndPosition(deltaTime);\n    this._updateOrientation();\n  }\n\n  /**\n   * @param {DOMHighResTimeStamp} deltaTime\n   * @private\n   */\n  _updateAccelerationVelocityAndPosition(deltaTime) {\n    this._updateAcceleration();\n    this._updatePosition(deltaTime);\n    this._updateVelocity(deltaTime);\n  }\n\n  /**\n   * Update the camera's acceleration using Hooke's law and drag.\n   *\n   * @private\n   */\n  _updateAcceleration() {\n    this._applySpringAcceleration();\n    this._applySpringDamping();\n  }\n\n  /**\n   * Update the camera's acceleration using Hooke's law.\n   *\n   * acceleration = displacement * coefficient\n   *\n   * @private\n   */\n  _applySpringAcceleration() {\n    const displacement = vec3.create();\n    vec3.subtract(displacement, this._getIntendedPosition(), this._position);\n    vec3.scale(this._acceleration, displacement, this._followCameraParams.springCoefficient);\n  }\n\n  /**\n   * @private\n   */\n  _applySpringDamping() {\n    const damping = vec3.create();\n    vec3.scale(damping, this._velocity, -this._followCameraParams.dampingCoefficient);\n    vec3.add(this._acceleration, this._acceleration, damping);\n  }\n\n  /**\n   * Update the camera's velocity according to its current acceleration.\n   *\n   * @param {DOMHighResTimeStamp} deltaTime\n   * @private\n   */\n  _updateVelocity(deltaTime) {\n    vec3.scaleAndAdd(this._velocity, this._velocity, this._acceleration, deltaTime);\n  }\n\n  /**\n   * Update the camera's position according to its current velocity.\n   *\n   * @param {DOMHighResTimeStamp} deltaTime\n   * @private\n   */\n  _updatePosition(deltaTime) {\n    vec3.scaleAndAdd(this._position, this._position, this._velocity, deltaTime);\n  }\n\n  /**\n   * @param {Camera} oldCamera\n   * @protected\n   */\n  _matchOldCamera(oldCamera) {\n    super._matchOldCamera(oldCamera);\n    if (oldCamera instanceof SpringFollowCamera) {\n      this._velocity = this._velocity || vec3.create();\n      this._acceleration = this._acceleration || vec3.create();\n      vec3.copy(this._velocity, oldCamera._velocity);\n      vec3.copy(this._acceleration, oldCamera._acceleration);\n    }\n  }\n}\n\nexport {SpringFollowCamera};\n","export * from './src/wall-collidable';\nexport * from './src/wall-controller';\n","import { Aabb } from 'lsl-physx';\n\n/**\n * This class represents a wall or floor.\n *\n * This is just a convenience class that extends Aabb.\n */\nclass Wall extends Aabb {\n  /**\n   * - If the x parameter is given, then a wall will be constructed along the y-z plane with its\n   * surface at the x coordinate. The y and z parameters are handled similarly.\n   * - Only one of the x/y/z parameters should be specified.\n   * - If isOpenOnPositiveSide is true, then the wall will be open toward the positive direction.\n   *\n   * @param {WallParams} wallParams\n   */\n  constructor(wallParams) {\n    let minX;\n    let minY;\n    let minZ;\n    let maxX;\n    let maxY;\n    let maxZ;\n\n    let { x, y, z, isOpenOnPositiveSide, thickness, halfSideLength } = wallParams;\n    thickness = thickness || 80000;\n    halfSideLength = halfSideLength || 80000;\n\n    if (typeof x === 'number') {\n      if (isOpenOnPositiveSide) {\n        minX = x - thickness;\n        maxX = x;\n      }\n      else {\n        minX = x;\n        maxX = x + thickness;\n      }\n      minY = -halfSideLength;\n      minZ = -halfSideLength;\n      maxY = halfSideLength;\n      maxZ = halfSideLength;\n    }\n    else if (typeof y === 'number') {\n      if (isOpenOnPositiveSide) {\n        minY = y - thickness;\n        maxY = y;\n      }\n      else {\n        minY = y;\n        maxY = y + thickness;\n      }\n      minX = -halfSideLength;\n      minZ = -halfSideLength;\n      maxX = halfSideLength;\n      maxZ = halfSideLength;\n    }\n    else {\n      if (isOpenOnPositiveSide) {\n        minZ = z - thickness;\n        maxZ = z;\n      }\n      else {\n        minZ = z;\n        maxZ = z + thickness;\n      }\n      minX = -halfSideLength;\n      minY = -halfSideLength;\n      maxX = halfSideLength;\n      maxY = halfSideLength;\n    }\n\n    super(minX, minY, minZ, maxX, maxY, maxZ, true);\n  }\n\n  /**\n   * @returns {vec3}\n   * @override\n   */\n  get scale() {\n    // Reuse the same object when this is called multiple times.\n    this._scale = this._scale || vec3.create();\n    vec3.set(this._scale, this.rangeX, this.rangeY, this.rangeZ);\n    return this._scale;\n  }\n}\n\nexport { Wall };\n","import {StandardModelController} from 'grafx';\nimport {collidableStore} from 'lsl-physx';\n\nimport {Wall} from './wall-collidable';\n\n/**\n * This class defines a wall-controller.\n */\nclass WallController extends StandardModelController {\n  /**\n   * @param {ModelControllerConfig} modelControllerParams\n   * @param {WallParams} wallParams\n   */\n  constructor(modelControllerParams, wallParams) {\n    const shapeParams = {\n      shapeId: 'CUBE',\n      isUsingSphericalNormals: wallParams.useSmoothShading,\n      textureSpan: wallParams.textureSpan\n    };\n\n    super(modelControllerParams, shapeParams);\n\n    this._collidable = new Wall(wallParams);\n    collidableStore.registerCollidable(this._collidable);\n  }\n\n  reset() {\n    // Re-size and re-position the wall.\n    mat4.fromTranslation(this._localTransform, this._collidable.centerOfVolume);\n    mat4.scale(this._localTransform, this._localTransform, this._collidable.scale);\n\n    super.reset();\n  }\n\n  /**\n   * Called when this is done being used, and is being destroyed from memory.\n   */\n  destroy() {\n    super.destroy();\n    collidableStore.unregisterCollidable(this._collidable);\n  }\n\n  /**\n   * @param {DOMHighResTimeStamp} currentTime\n   * @param {DOMHighResTimeStamp} deltaTime\n   * @protected\n   */\n  update(currentTime, deltaTime) {}\n}\n\nexport {WallController};\n\n/**\n * @typedef {Object} WallParams\n * @property {number} x\n * @property {number} y\n * @property {number} z\n * @property {boolean} isOpenOnPositiveSide\n * @property {number} thickness\n * @property {number} halfSideLength\n * @property {boolean} useSmoothShading\n * @property {TextureSpan} textureSpan\n */\n","export * from './src/camera';\nexport * from './src/first-person-camera';\nexport * from './src/fixed-camera';\nexport * from './src/fixed-follow-camera';\nexport * from './src/follow-camera';\nexport * from './src/third-person-camera';\nexport * from './src/overhead-camera';\n","import { PersistentAnimationJob } from 'lsl-animatex';\n\n// TODO: Make the rotation quaternion based with 6DoF.\n\n// TODO: Add support for scripting the camera to follow a curve:\n// (https://msdn.microsoft.com/en-us/library/bb203908(v=xnagamestudio.31).aspx)\n\n/**\n * This class defines common camera logic.\n *\n * @abstract\n */\nclass Camera extends PersistentAnimationJob {\n  /**\n   * If oldCamera is given, then the state of the new camera will be initialized to match that of\n   * the old camera. This enables a smooth transition when changing cameras.\n   *\n   * @param {CameraConfig} cameraParams\n   * @param {Camera} [oldCamera]\n   */\n  constructor(cameraParams, oldCamera) {\n    super();\n\n    // Camera is an abstract class. It should not be instantiated directly.\n    if (new.target === Camera) {\n      throw new TypeError('Cannot construct Camera instances directly');\n    }\n\n    this._cameraParams = cameraParams;\n    this._fovY = null;\n    this._aspectRatio = null;\n    this._zNear = null;\n    this._zFar = null;\n    this._position = vec3.create();\n    this._orientation = quat.create(); // TODO: Use this.\n    this._viewMatrix = mat4.create();\n    this._projectionMatrix = mat4.create();\n    this._viewProjectionMatrix = mat4.create();\n\n    this._matchOldCamera(oldCamera);\n  }\n\n  reset() {\n    this._setPerspective(this._cameraParams.fovY, this._cameraParams.defaultAspectRatio,\n      this._cameraParams._zNear, this._cameraParams._zFar);\n  }\n\n  // TODO: Call this after adding support for dynamically switching cameras.\n  destroy() {}\n\n  /**\n   * Set this camera's orientation and position.\n   *\n   * @param {vec3} eye The camera position.\n   * @param {vec3} target The focal point.\n   * @param {vec3} up The local up direction.\n   * @param {vec3} viewDirection The (normalized) direction the camera is looking.\n   * @protected\n   */\n  _setPositionAndLookAt(eye, target, up, viewDirection) {\n    vec3.copy(this._position, eye);\n    this._setLookAtFromCurrentPosition(target, up, viewDirection);\n  }\n\n  /**\n   * Set this camera's orientation, but do not change its position.\n   *\n   * @param {vec3} target The focal point.\n   * @param {vec3} up The local up direction.\n   * @param {vec3} viewDirection The (normalized) direction the camera is looking.\n   * @protected\n   */\n  _setLookAtFromCurrentPosition(target, up, viewDirection) {\n    mat4.lookAt(this._viewMatrix, this._position, target, up);\n    quat.rotationTo(this._orientation, this._cameraParams._defaultLookAtDirection, viewDirection); // TODO: Check this; might need to swap arguments.\n    this._updateViewProjectionMatrix();\n  }\n\n  /**\n   * Translate this camera by the given amount from its current position.\n   *\n   * @param {vec3} translation\n   * @protected\n   */\n  _translate(translation) {\n    vec3.add(this._position, this._position, translation);\n  }\n\n  /**\n   * Rotate this camera by the given amount from its current orientation.\n   *\n   * @param {quat} rotation\n   * @protected\n   */\n  _rotate(rotation) {\n    // TODO\n  }\n\n  /**\n   * @param {number} fovY In radians.\n   * @param {number} aspectRatio Width / height.\n   * @param {number} zNear\n   * @param {number} zFar\n   * @protected\n   */\n  _setPerspective(fovY, aspectRatio, zNear, zFar) {\n    this._fovY = fovY;\n    this._aspectRatio = aspectRatio;\n    this._zNear = zNear;\n    this._zFar = zFar;\n    this._updateProjectionMatrix();\n  }\n\n  /**\n   * Re-calculates the view-projection matrix. This should be called any time either the view or\n   * projection matrices is updated.\n   *\n   * @protected\n   */\n  _updateProjectionMatrix() {\n    mat4.perspective(\n      this._projectionMatrix, this._fovY, this._aspectRatio, this._zNear, this._zFar);\n    this._updateViewProjectionMatrix();\n  }\n\n  /**\n   * Re-calculates the view-projection matrix. This should be called any time either the view or\n   * projection matrices is updated.\n   *\n   * @protected\n   */\n  _updateViewProjectionMatrix() {\n    mat4.multiply(this._viewProjectionMatrix, this._projectionMatrix, this._viewMatrix);\n  }\n\n  /**\n   * @param {DOMHighResTimeStamp} currentTime\n   * @param {DOMHighResTimeStamp} deltaTime\n   * @abstract\n   */\n  update(currentTime, deltaTime) {\n    // Extending classes should implement this method.\n    throw new TypeError('Method not implemented');\n  }\n\n  draw() {}\n\n  /**\n   * @param {number} fovY The vertical field of view, in radians.\n   * @protected\n   */\n  set fov(fovY) {\n    this._fovY = fovY;\n    this._updateProjectionMatrix();\n  }\n\n  /**\n   * @param {number} aspectRatio Width / height.\n   */\n  set aspectRatio(aspectRatio) {\n    this._setPerspective(this._cameraParams.fovY, aspectRatio, this._cameraParams._zNear,\n      this._cameraParams._zFar);\n  }\n\n  /** @returns {vec3} */\n  get position() {\n    return this._position;\n  }\n  /** @returns {quat} */\n  get orientation() {\n    return this._orientation;\n  }\n  /** @returns {mat4} */\n  get viewMatrix() {\n    return this._viewMatrix;\n  }\n  /** @returns {mat4} */\n  get projectionMatrix() {\n    return this._projectionMatrix;\n  }\n  /** @returns {mat4} */\n  get viewProjectionMatrix() { // TODO: Stop using the above two getters and use this instead?\n    return this._viewProjectionMatrix;\n  }\n\n  /**\n   * Update this camera's state to match the given old camera.\n   *\n   * @param {Camera} oldCamera\n   * @protected\n   */\n  _matchOldCamera(oldCamera) {\n    if (!oldCamera) {\n      return;\n    }\n    this._fovY = oldCamera._fovY;\n    this._aspectRatio = oldCamera._aspectRatio;\n    this._zNear = oldCamera._zNear;\n    this._zFar = oldCamera._zFar;\n    vec3.copy(this._position, oldCamera._position);\n    vec3.copy(this._orientation, oldCamera._orientation);\n    mat4.copy(this._viewMatrix, oldCamera._viewMatrix);\n    mat4.copy(this._projectionMatrix, oldCamera._projectionMatrix);\n    mat4.copy(this._viewProjectionMatrix, oldCamera._viewProjectionMatrix);\n  }\n}\n\nexport { Camera };\n\n/**\n * @typedef {Function} CameraConfig\n * @property {number} fovY\n * @property {number} defaultAspectRatio\n * @property {number} _zNear\n * @property {number} _zFar\n * @property {vec3} _defaultLookAtDirection\n */\n\n/**\n * @typedef {Object} FollowCameraConfig\n * @property {number} springCoefficient\n * @property {number} dampingCoefficient\n * @property {number} intendedDistanceFromTarget\n * @property {number} intendedRotationAngleFromTarget\n * @property {vec3} intendedRotationAxisFromTarget\n * @property {vec3} _intendedTranslationFromTarget\n */\n\n/**\n * @typedef {Object} FirstPersonCameraConfig\n * @property {vec3} intendedDisplacementFromTarget\n * @property {vec3} viewDirection\n * @property {number} targetDistance\n */\n\n/**\n * @typedef {Object} FixedCameraConfig\n * @property {vec3} position\n * @property {vec3} viewDirection\n * @property {vec3} _up\n */\n","import { Camera } from './camera';\n\n/**\n * This class defines a first-person camera.\n *\n * A first-person camera is positioned at a character and moves and rotates with the character.\n */\nclass FirstPersonCamera extends Camera {\n  /**\n   * @param {CameraTarget} cameraTarget\n   * @param {FirstPersonCameraConfig} firstPersonCameraParams\n   * @param {CameraConfig} cameraParams\n   * @param {Camera} [oldCamera]\n   */\n  constructor(cameraTarget, firstPersonCameraParams, cameraParams, oldCamera) {\n    super(cameraParams, oldCamera);\n    this._cameraTarget = cameraTarget;\n    this._firstPersonCameraParams = firstPersonCameraParams;\n    this._cameraTarget = cameraTarget;\n  }\n\n  /**\n   * @param {DOMHighResTimeStamp} currentTime\n   * @param {DOMHighResTimeStamp} deltaTime\n   */\n  update(currentTime, deltaTime) {\n    this._updatePosition();\n    this._updateOrientation();\n  }\n\n  /**\n   * @private\n   */\n  _updatePosition() {\n    const intendedPosition = this._getIntendedPosition();\n    vec3.copy(this._position, intendedPosition);\n  }\n\n  /**\n   * Update the camera's orientation using the \"look at\" method according to its position and the\n   * position of its target.\n   *\n   * @protected\n   */\n  _updateOrientation() {\n    // Get the view direction, and transform it to align with the target's orientation.\n    const viewDirection = vec3.create();\n    vec3.copy(viewDirection, this._firstPersonCameraParams.viewDirection);\n    vec3.transformQuat(viewDirection, viewDirection, this._cameraTarget.orientation);\n\n    const target = vec3.create();\n    vec3.scaleAndAdd(target, this._position, viewDirection,\n      this._firstPersonCameraParams.targetDistance);\n\n    // Initialize \"up\" as the world z-axis.\n    const up = vec3.fromValues(0, 1, 0);\n\n    // Transform \"up\" to align with the camera target's local z-axis.\n    vec3.transformQuat(up, up, this._cameraTarget.orientation);\n\n    const right = vec3.create();\n    vec3.cross(right, viewDirection, up);\n\n    // Transform \"up\" to align with the camera's local z-axis.\n    vec3.cross(up, right, viewDirection);\n\n    this._setPositionAndLookAt(this._position, target, up, viewDirection);\n  }\n\n  /**\n   * The intended position for this camera to be in according to the position and orientation of the\n   * camera target.\n   *\n   * @returns {vec3}\n   * @protected\n   * @abstract\n   */\n  _getIntendedPosition() {\n    const intendedPosition = vec3.create();\n    vec3.transformMat4(\n      intendedPosition,\n      this._firstPersonCameraParams.intendedDisplacementFromTarget,\n      this._cameraTarget.worldTransform);\n    return intendedPosition;\n  }\n}\n\nexport { FirstPersonCamera };\n","import {Camera} from './camera';\n\n/**\n * This class defines a fixed camera.\n *\n * A fixed camera's position and orientation are updated manually and remain fixed until a later\n * update.\n */\nclass FixedCamera extends Camera {\n  /**\n   * If oldCamera is given, then the state of the new camera will be initialized to match that of\n   * the old camera. This enables a smooth transition when changing cameras.\n   *\n   * @param {FixedCameraConfig} fixedCameraParams\n   * @param {CameraConfig} cameraParams\n   * @param {Camera} [oldCamera]\n   */\n  constructor(fixedCameraParams, cameraParams, oldCamera) {\n    super(cameraParams, oldCamera);\n\n    this._position = fixedCameraParams.position;\n    this._viewDirection = fixedCameraParams.viewDirection;\n    this._up = fixedCameraParams._up;\n    this.__target = vec3.create();\n  }\n\n  reset() {\n    super.reset();\n    this._update();\n  }\n\n  /**\n   * @param {DOMHighResTimeStamp} currentTime\n   * @param {DOMHighResTimeStamp} deltaTime\n   */\n  update(currentTime, deltaTime) {}\n\n  _update() {\n    vec3.normalize(this._viewDirection, this._viewDirection);\n    vec3.normalize(this._up, this._up);\n\n    // Transform \"up\" to align with the camera's local z-axis.\n    const right = vec3.create();\n    vec3.cross(right, this._viewDirection, this._up);\n    vec3.cross(this._up, right, this._viewDirection);\n\n    this._setPositionAndLookAt(this._position, this._target, this._up, this._viewDirection);\n  }\n\n  /** @param {vec3} newDirection */\n  set viewDirection(newDirection) {\n    vec3.copy(this._viewDirection, newDirection);\n    this._update();\n  }\n\n  /** @param {vec3} newUp */\n  set up(newUp) {\n    vec3.copy(this._up, newUp);\n    this._update();\n  }\n\n  /** @param {vec3} newPosition */\n  set position(newPosition) {\n    vec3.copy(this._position, newPosition);\n    this._update();\n  }\n\n  /** @returns {vec3} */\n  // TODO: Look into whatever bug prevents the parent-class getter from working.\n  get position() {\n    return this._position;\n  }\n\n  /** @returns {vec3} */\n  get viewDirection() {\n    return this._viewDirection;\n  }\n  /** @returns {vec3} */\n  get up() {\n    return this._up;\n  }\n  /**\n   * @returns {vec3}\n   * @private\n   */\n  get _target() {\n    return vec3.add(this.__target, this._position, this._viewDirection);\n  }\n\n  /**\n   * @param {Camera} oldCamera\n   * @protected\n   */\n  _matchOldCamera(oldCamera) {\n    super._matchOldCamera(oldCamera);\n    if (oldCamera instanceof FixedCamera) {\n      vec3.copy(this._viewDirection, oldCamera._viewDirection);\n      vec3.copy(this._up, oldCamera._up);\n    }\n  }\n}\n\nexport {FixedCamera};\n","import {FollowCamera} from './follow-camera';\n\n/**\n * This class defines a fixed-offset follow camera.\n *\n * This camera is positioned at a relative, fixed distance and rotation from the observed target\n * and follows the target's position and orientation at this fixed distance.\n *\n * A follow camera rotates in all three dimensions; it does not have a fixed roll.\n */\nclass FixedFollowCamera extends FollowCamera {\n  /**\n   * @param {DOMHighResTimeStamp} currentTime\n   * @param {DOMHighResTimeStamp} deltaTime\n   */\n  update(currentTime, deltaTime) {\n    this._updatePosition();\n    this._updateOrientation();\n  }\n\n  /**\n   * @private\n   */\n  _updatePosition() {\n    const intendedPosition = this._getIntendedPosition();\n    vec3.copy(this._position, intendedPosition);\n  }\n}\n\nexport {FixedFollowCamera};\n","import {ThirdPersonCamera} from './third-person-camera';\n\n/**\n * This class defines an abstract follow camera.\n *\n * This is a third-person type of camera whose roll always matches that of the target.\n */\nclass FollowCamera extends ThirdPersonCamera {\n  /**\n   * Update the camera's orientation using the \"look at\" method according to its position and the\n   * position of its target.\n   *\n   * @protected\n   */\n  _updateOrientation() {\n    const target = this._cameraTarget.position;\n\n    const viewDirection = vec3.create();\n    vec3.subtract(viewDirection, target, this._position);\n    vec3.normalize(viewDirection, viewDirection);\n\n    // Initialize \"up\" as the world z-axis.\n    const up = vec3.fromValues(0, 1, 0);\n\n    // Transform \"up\" to align with the camera target's local z-axis.\n    vec3.transformQuat(up, up, this._cameraTarget.orientation);\n\n    const right = vec3.create();\n    vec3.cross(right, viewDirection, up);\n\n    // Transform \"up\" to align with the camera's local z-axis.\n    vec3.cross(up, right, viewDirection);\n\n    this._setPositionAndLookAt(this._position, target, up, viewDirection);\n  }\n}\n\nexport {FollowCamera};\n","import {ThirdPersonCamera} from './third-person-camera';\n\n/**\n * This class defines an overhead camera.\n *\n * An overhead camera sits above the observed character and moves relative to the character without\n * rotating.\n *\n * An overhead camera's rotation with the character includes only yaw; it has a fixed pitch and\n * roll.\n */\nclass OverheadCamera extends ThirdPersonCamera {\n  /**\n   * If oldCamera is given, then the state of the new camera will be initialized to match that of\n   * the old camera. This enables a smooth transition when changing cameras.\n   *\n   * @param {CameraTarget} cameraTarget\n   * @param {FollowCameraConfig} followCameraParams\n   * @param {CameraConfig} cameraParams\n   * @param {Camera} [oldCamera]\n   */\n  constructor(cameraTarget, followCameraParams, cameraParams, oldCamera) {\n    super(cameraTarget, followCameraParams, cameraParams, oldCamera);\n\n    this.reset();\n  }\n\n  reset() {\n    super.reset();\n  }\n\n  // TODO: Implement this!\n}\n\nexport {OverheadCamera};\n","import {Camera} from './camera';\n\n/**\n * This class defines an abstract third-person camera.\n *\n * A third-person camera follows a target from a distance.\n *\n * @abstract\n */\nclass ThirdPersonCamera extends Camera {\n  /**\n   * If oldCamera is given, then the state of the new camera will be initialized to match that of\n   * the old camera. This enables a smooth transition when changing cameras.\n   *\n   * @param {CameraTarget} cameraTarget\n   * @param {FollowCameraConfig} followCameraParams\n   * @param {CameraConfig} cameraParams\n   * @param {Camera} [oldCamera]\n   */\n  constructor(cameraTarget, followCameraParams, cameraParams, oldCamera) {\n    super(cameraParams, oldCamera);\n\n    // ThirdPersonCamera is an abstract class. It should not be instantiated directly.\n    if (new.target === ThirdPersonCamera) {\n      throw new TypeError('Cannot construct ThirdPersonCamera instances directly');\n    }\n\n    this._followCameraParams = followCameraParams;\n    this._cameraTarget = cameraTarget;\n  }\n\n  /**\n   * The intended position for this camera to be in according to the position and orientation of the\n   * camera target.\n   *\n   * @returns {vec3}\n   * @protected\n   * @abstract\n   */\n  _getIntendedPosition() {\n    const intendedPosition = vec3.create();\n    vec3.transformMat4(\n        intendedPosition,\n        this._followCameraParams._intendedTranslationFromTarget,\n        this._cameraTarget.worldTransform);\n    return intendedPosition;\n  }\n\n  /** @param {CameraTarget} cameraTarget */\n  set cameraTarget(cameraTarget) {\n    this._cameraTarget = cameraTarget;\n  }\n}\n\nexport {ThirdPersonCamera};\n\n/**\n * @typedef {Object} CameraTarget\n * @property {vec3} position In world coordinates.\n * @property {quat} orientation Relative to the world axes.\n * @property {mat4} worldTransform The model transform matrix, in world coordinates.\n */\n","/**\n * This module re-exports all of the exports in the grafx framework. This makes the entire framework\n * conveniently accessible via this single module.\n */\n\nexport * from './cameras';\nexport * from './models';\nexport * from './program-wrapper';\nexport * from './renderable-shapes';\nexport * from './util';\n\nexport * from './src/grafx-controller';\nexport * from './src/light';\nexport * from './src/scene';\n","export * from './src/default-model';\nexport * from './src/invisible-model-controller';\nexport * from './src/model';\nexport * from './src/model-controller';\nexport * from './src/model-group-controller';\nexport * from './src/standard-model-controller';\n","import {createBufferFromData} from '../../util';\nimport {Model} from './model';\n\n/**\n * This class defines a default implementation of the rigid model.\n *\n * This implementation accepts a RenderableShape and applies standard OpenGL binding logic on top\n * of it.\n */\nclass DefaultModel extends Model {\n  /**\n   * @param {WebGLRenderingContext} gl\n   * @param {RenderableShape} shapeConfig\n   */\n  constructor(gl, shapeConfig) {\n    super(gl);\n    this._shapeConfig = shapeConfig;\n    this._initializeBuffers();\n    this._initializeConfigs();\n  }\n\n  _initializeBuffers() {\n    // Create, bind, and move data into buffers for the vertex positions, normals, texture\n    // coordinates, and element array.\n    this._vertexPositionsBuffer = createBufferFromData(this._gl, this._shapeConfig.vertexPositions);\n    this._vertexNormalsBuffer = createBufferFromData(this._gl, this._shapeConfig.vertexNormals);\n    this._textureCoordinatesBuffer =\n        createBufferFromData(this._gl, this._shapeConfig.textureCoordinates);\n    if (this._shapeConfig.vertexIndices) {\n      this._vertexIndicesBuffer = createBufferFromData(this._gl, this._shapeConfig.vertexIndices,\n          this._gl.ELEMENT_ARRAY_BUFFER);\n    }\n  }\n\n  _initializeConfigs() {\n    this._vertexPositionsConfig = {\n      buffer: this._vertexPositionsBuffer,\n      size: 3,\n      type: this._gl.FLOAT,\n      normalized: false,\n      stride: 0,\n      offset: 0\n    };\n    this._textureCoordinatesConfig = {\n      buffer: this._textureCoordinatesBuffer,\n      size: 2,\n      type: this._gl.FLOAT,\n      normalized: false,\n      stride: 0,\n      offset: 0\n    };\n    this._vertexNormalsConfig = {\n      buffer: this._vertexNormalsBuffer,\n      size: 3,\n      type: this._gl.FLOAT,\n      normalized: false,\n      stride: 0,\n      offset: 0\n    };\n  }\n\n  /** @returns {number} */\n  get elementCount() {\n    return this._shapeConfig.elementCount;\n  }\n\n  /** @returns {number} */\n  get mode() {\n    return this._gl.TRIANGLES;\n    //return this._gl.LINE_STRIP;// TODO: REMOVE ME\n  }\n}\n\nexport {DefaultModel};\n","import {ModelController} from './model-controller';\n\n/**\n * This class defines an extension of the model-controller class that will maintain state but will\n * never render anything.\n */\nclass InvisibleModelController extends ModelController {\n  /**\n   * @param {ModelControllerConfig} params\n   */\n  constructor(params) {\n    super(params);\n  }\n\n  destroy() {}\n\n  update(currentTime, deltaTime) {}\n\n  draw() {}\n\n  /**\n   * Initializes the program variables configuration.\n   *\n   * @protected\n   */\n  _setUpProgramVariablesConfig() {\n    this._programVariablesConfig = {};\n  }\n\n  /**\n   * Overrides the default method to instead do nothing.\n   *\n   * @param {string} id\n   * @returns {Promise}\n   */\n  _setUpProgramWrapper(id) {\n    this._programWrapperId = id;\n    this._programWrapperPromise = Promise.resolve(null);\n    return this._programWrapperPromise;\n  }\n}\n\nexport {InvisibleModelController};\n","import {PersistentAnimationJob} from 'lsl-animatex';\nimport {\n  programWrapperStore,\n  textureStore,\n} from '../../program-wrapper';\n\n/**\n * This class defines a model-controller class.\n *\n * This should be extended by all components that handle models--i.e., anything that will be\n * rendering shapes.\n *\n * @implements {ModelControllerInterface}\n * @abstract\n */\nclass ModelController extends PersistentAnimationJob {\n  /**\n   * PRECONDITION: The ProgramWrapper referenced by the given params must have already been\n   * registered.\n   *\n   * @param {ModelControllerConfig} params\n   */\n  constructor(params) {\n    super();\n\n    // ModelController is an abstract class. It should not be instantiated directly.\n    if (new.target === ModelController) {\n      throw new TypeError('Cannot construct ModelController instances directly');\n    }\n\n    this._gl = params.gl;\n    this._getViewMatrix = params.getViewMatrix;\n    this._getProjectionMatrix = params.getProjectionMatrix;\n    this._getParentWorldTransform = params.getParentWorldTransform;\n    this._localTransform = mat4.create();\n    this._worldTransform = mat4.create();\n    this._texture = null;\n    this._programWrapper = null;\n    this._programWrapperId = null;\n    this._drawFrameHandler = () => this.draw();\n    this._programVariablesConfig = null;\n\n    this.position = vec3.create();\n    this.scale = vec3.fromValues(1, 1, 1);\n\n    this._setUpTexture(params.texturePath);\n    this._setUpProgramWrapper(params.programWrapperId);\n\n    this._isReadyPromise = Promise.all([\n      this._texturePromise,\n      this._programWrapperPromise,\n    ]);\n  }\n\n  reset() {}\n\n  /**\n   * Called when this is done being used, and is being destroyed from memory.\n   */\n  destroy() {\n    programWrapperStore.unregisterDrawFrameHandler(this._programWrapperId, this._drawFrameHandler);\n  }\n\n  /**\n   * Calls update, updateTransforms, and updateChildren.\n   *\n   * @param {DOMHighResTimeStamp} currentTime\n   * @param {DOMHighResTimeStamp} deltaTime\n   */\n  updateSelfAndChildren(currentTime, deltaTime) {\n    this.update(currentTime, deltaTime);\n    this.updateTransforms();\n    this.updateChildren(currentTime, deltaTime);\n  }\n\n  /**\n   * Updates relevant state for the sub-class.\n   *\n   * - This does not recursively update descendant model controllers; that's handled by\n   *   updateChildren.\n   * - This does not update the local or world-coordinate transforms; that's handled by\n   *   updateTransforms.\n   * - This is called before updateLocalTransform and updateChildren.\n   *\n   * @param {DOMHighResTimeStamp} currentTime\n   * @param {DOMHighResTimeStamp} deltaTime\n   */\n  update(currentTime, deltaTime) {\n    // Extending classes should implement this method.\n    throw new TypeError('Method not implemented');\n  }\n\n  /**\n   * Updates the world-coordinate and local-coordinate model matrices.\n   *\n   * This is called after update and before updateChildren.\n   *\n   * NOTE: All overrides of this method should update [this._localTransform].\n   */\n  updateTransforms() {\n    mat4.multiply(this._worldTransform, this._getParentWorldTransform(), this._localTransform);\n  }\n\n  /**\n   * Updates relevant state for any children model controllers.\n   *\n   * This is called after update and updateLocalTransform.\n   *\n   * @param {DOMHighResTimeStamp} currentTime\n   * @param {DOMHighResTimeStamp} deltaTime\n   */\n  updateChildren(currentTime, deltaTime) {}\n\n  /**\n   * @abstract\n   */\n  draw() {\n    // Extending classes should implement this method.\n    throw new TypeError('Method not implemented');\n  }\n\n  /**\n   * Gets the model transform matrix, in local coordinates.\n   *\n   * @returns {mat4}\n   */\n  get localTransform() {\n    return this._localTransform;\n  }\n\n  /**\n   * Gets the model transform matrix, in world coordinates.\n   *\n   * @returns {mat4}\n   */\n  get worldTransform() {\n    return this._worldTransform;\n  }\n\n  /**\n   * Returns a promise that resolves when this model controller is ready for the app to run.\n   *\n   * @returns {Promise}\n   */\n  getIsReady() {\n    return this._isReadyPromise;\n  }\n\n  /** @param {string} id */\n  set programWrapperId(id) {\n    programWrapperStore.unregisterDrawFrameHandler(this._programWrapperId, this._drawFrameHandler);\n    this._setUpProgramWrapper(id);\n  }\n\n  /** @param {string} value */\n  set texturePath(value) {\n    this._setUpTexture(value);\n  }\n\n  /**\n   * Initializes the program variables configuration.\n   *\n   * @protected\n   * @abstract\n   */\n  _setUpProgramVariablesConfig() {\n    // Extending classes should implement this method.\n    throw new TypeError('Method not implemented');\n  }\n\n  /**\n   * @param {string} [texturePath]\n   * @returns {Promise}\n   * @private\n   */\n  _setUpTexture(texturePath) {\n    this._texturePromise = texturePath\n        ? textureStore.loadTexture(this._gl, texturePath)\n        : Promise.resolve(null);\n\n    // Assign the actual texture.\n    this._texturePromise = this._texturePromise\n        .then(texture => this._texture = texture)\n        .then(() => this._setUpProgramVariablesConfig());\n\n    return this._texturePromise;\n  }\n\n  /**\n   * @param {string} id\n   * @returns {Promise}\n   * @private\n   */\n  _setUpProgramWrapper(id) {\n    this._programWrapperId = id;\n    this._programWrapperPromise = programWrapperStore.getProgramWrapperPromise(id)\n        .then(programWrapper => this._programWrapper = programWrapper);\n    Promise.all([this._programWrapperPromise, this._texturePromise])\n        .then(() => programWrapperStore.registerDrawFrameHandler(id, this._drawFrameHandler));\n    return this._programWrapperPromise;\n  }\n}\n\nexport {ModelController};\n\n/**\n * @typedef {Object} ModelControllerInterface\n * @property {Function.<Promise>} getIsReady\n * @property {Function} reset\n * @property {Function} destroy\n * @property {mat4} localTransform\n * @property {mat4} worldTransform\n * @property {vec3} position\n */\n\n/**\n * @typedef {Object} ModelControllerConfig\n * @property {WebGLRenderingContext} gl\n * @property {Function.<mat4>} getViewMatrix\n * @property {Function.<mat4>} getProjectionMatrix\n * @property {Function.<mat4>} getParentWorldTransform\n * @property {string} programWrapperId\n * @property {string} [texturePath]\n */\n\n/**\n * @typedef {Object} ModelGroupControllerConfig\n * @property {WebGLRenderingContext} gl\n * @property {Function.<mat4>} getViewMatrix\n * @property {Function.<mat4>} getProjectionMatrix\n * @property {Function.<mat4>} getParentWorldTransform\n */\n","import { PersistentAnimationJob } from 'lsl-animatex';\n\n/**\n * This class controls groups of models.\n *\n * This is useful for higher-level controllers that control other models and also transform them.\n *\n * @implements {ModelControllerInterface}\n * @abstract\n */\nclass ModelGroupController extends PersistentAnimationJob {\n  /**\n   * If either of the shader paths are omitted, then this model controller will not create a\n   * rendering program configuration.\n   *\n   * @param {ModelGroupControllerConfig} params\n   */\n  constructor(params) {\n    super();\n\n    // ModelGroupController is an abstract class. It should not be instantiated directly.\n    if (new.target === ModelGroupController) {\n      throw new TypeError('Cannot construct ModelGroupController instances directly');\n    }\n\n    this._gl = params.gl;\n    this._getViewMatrix = params.getViewMatrix;\n    this._getProjectionMatrix = params.getProjectionMatrix;\n    this._getParentWorldTransform = params.getParentWorldTransform || (() => mat4.create());\n    this._localTransform = mat4.create();\n    this._worldTransform = mat4.create();\n    this._modelCtrls = [];\n  }\n\n  destroy() {\n    this.clearModelControllers();\n  }\n\n  reset() {\n    this._triggerOnAllModelControllers('reset');\n  }\n\n  clearModelControllers() {\n    this._triggerOnAllModelControllers('destroy');\n    this._modelCtrls = [];\n  }\n\n  /**\n   * Calls update, updateTransforms, and updateChildren.\n   *\n   * @param {DOMHighResTimeStamp} currentTime\n   * @param {DOMHighResTimeStamp} deltaTime\n   */\n  updateSelfAndChildren(currentTime, deltaTime) {\n    this.update(currentTime, deltaTime);\n    this.updateTransforms();\n    this.updateChildren(currentTime, deltaTime);\n  }\n\n  /**\n   * Updates relevant state for the sub-class.\n   *\n   * - This does not recursively update descendant model controllers; that's handled by\n   *   updateChildren.\n   * - This does not update the local or world-coordinate transforms; that's handled by\n   *   updateTransforms.\n   * - This is called before updateLocalTransform and updateChildren.\n   *\n   * @param {DOMHighResTimeStamp} currentTime\n   * @param {DOMHighResTimeStamp} deltaTime\n   */\n  update(currentTime, deltaTime) {}\n\n  /**\n   * Updates the world-coordinate and local-coordinate model matrices.\n   *\n   * This is called after update and before updateChildren.\n   *\n   * NOTE: All implementations of this method should update [this._localTransform].\n   */\n  updateTransforms() {\n    mat4.multiply(this._worldTransform, this._getParentWorldTransform(), this._localTransform);\n  }\n\n  /**\n   * Updates relevant state for any children model controllers.\n   *\n   * This is called after update and updateLocalTransform.\n   *\n   * @param {DOMHighResTimeStamp} currentTime\n   * @param {DOMHighResTimeStamp} deltaTime\n   */\n  updateChildren(currentTime, deltaTime) {\n    this._triggerOnAllModelControllers('updateSelfAndChildren', [currentTime, deltaTime]);\n  }\n\n  draw() {\n    // We don't call draw on the children model controllers, because they register themselves to be\n    // drawn with their given shader program.\n  }\n\n  /**\n   * @param {ModelControllerInterface} modelCtrl\n   * @returns {Promise.<ModelControllerInterface>}\n   * @protected\n   */\n  _startModelController(modelCtrl) {\n    return modelCtrl.getIsReady().then(() => {\n      modelCtrl.reset();\n      this._modelCtrls.push(modelCtrl);\n      return modelCtrl;\n    });\n  }\n\n  /**\n   * @param {ModelControllerInterface} modelCtrl\n   * @protected\n   */\n  _onModelControllerDestroyed(modelCtrl) {\n    const index = this._modelCtrls.indexOf(modelCtrl);\n    this._modelCtrls.splice(index, 1);\n    modelCtrl.destroy();\n  }\n\n  /**\n   * @param {vec3} targetPosition\n   * @param {number} maxSquaredDistance\n   * @protected\n   */\n  _removeDistantModelControllers(targetPosition, maxSquaredDistance) {\n    this._modelCtrls\n      // Get the ModelControllers that are too far away.\n      .filter(modelCtrl =>\n        vec3.squaredDistance(modelCtrl.position, targetPosition) > maxSquaredDistance)\n      // Remove the far-away ModelControllers.\n      .forEach(modelCtrl => this._onModelControllerDestroyed(modelCtrl));\n  }\n\n  /**\n   * Gets the model transform matrix, in local coordinates.\n   *\n   * @returns {mat4}\n   */\n  get localTransform() {\n    return this._localTransform;\n  }\n\n  /**\n   * Gets the model transform matrix, in world coordinates.\n   *\n   * @returns {mat4}\n   */\n  get worldTransform() {\n    return this._worldTransform;\n  }\n\n  /**\n   * Returns a promise that resolves when this model controller is ready for the app to run.\n   *\n   * @returns {Promise}\n   */\n  getIsReady() {\n    return Promise.all(this._modelCtrls.map(controller => controller.getIsReady()));\n  }\n\n  /**\n   * @param {string} methodName\n   * @param {Array.<*>} [args]\n   * @protected\n   */\n  _triggerOnAllModelControllers(methodName, args = []) {\n    //this._demoObject[methodName](...args);\n    this._modelCtrls.forEach(object => object[methodName](...args));\n  }\n}\n\nexport { ModelGroupController };\n","/**\n * This class defines a top-level model.\n *\n * @abstract\n */\nclass Model {\n  /**\n   * @param {WebGLRenderingContext} gl\n   */\n  constructor(gl) {\n    // Model is an abstract class. It should not be instantiated directly.\n    if (new.target === Model) {\n      throw new TypeError('Cannot construct Model instances directly');\n    }\n\n    this._gl = gl;\n    this.bounds = null;\n\n    this._vertexPositionsBuffer = null;\n    this._vertexNormalsBuffer = null;\n    this._textureCoordinatesBuffer = null;\n\n    this._vertexPositionsConfig = null;\n    this._textureCoordinatesConfig = null;\n    this._vertexNormalsConfig = null;\n\n    // If this is kept null, then gl.drawArrays will be used (with gl.ARRAY_BUFFER) instead of\n    // gl.drawElements (with gl.ELEMENT_ARRAY_BUFFER).\n    this._vertexIndicesBuffer = null;\n  }\n\n  /**\n   * Updates the normals on this shape to either be spherical (point outwards from the center) or\n   * orthogonal to the faces of their triangles.\n   *\n   * @param {boolean} isUsingSphericalNormals\n   * @protected\n   * @abstract\n   */\n  _setNormals(isUsingSphericalNormals) {\n    // Extending classes should implement this method.\n    throw new TypeError('Method not implemented');\n  }\n\n  /** @returns {?AttributeConfig} */\n  get vertexPositionsConfig() {\n    return this._vertexPositionsConfig;\n  }\n\n  /** @returns {?AttributeConfig} */\n  get textureCoordinatesConfig() {\n    return this._textureCoordinatesConfig;\n  }\n\n  /** @returns {?AttributeConfig} */\n  get vertexNormalsConfig() {\n    return this._vertexNormalsConfig;\n  }\n\n  /** @returns {?WebGLBuffer} */\n  get vertexIndicesBuffer() {\n    return this._vertexIndicesBuffer;\n  }\n\n  /**\n   * @returns {number}\n   * @abstract\n   */\n  get elementCount() {\n    // Extending classes should implement this method.\n    throw new TypeError('Method not implemented');\n  }\n\n  /**\n   * @returns {number}\n   * @abstract\n   */\n  get mode() {\n    // Extending classes should implement this method.\n    throw new TypeError('Method not implemented');\n  }\n}\n\nexport {Model};\n","import {renderableShapeFactory} from '../../renderable-shapes';\n\nimport {ModelController} from './model-controller';\n\n/**\n * This class defines an extension of the model-controller class that uses a common set of program\n * variables and transformation matrices.\n */\nclass StandardModelController extends ModelController {\n  /**\n   * @param {ModelControllerConfig} params\n   * @param {RenderableShapeConfig} shapeParams\n   */\n  constructor(params, shapeParams) {\n    super(params);\n\n    this.scale = shapeParams.scale || vec3.fromValues(1, 1, 1);\n    this._mvMatrix = mat4.create();\n    this._normalMatrix = mat4.create();\n    this._model = renderableShapeFactory.createModel(this._gl, shapeParams);\n  }\n\n  update(currentTime, deltaTime) {}\n\n  draw() {\n    // Update the model-view matrix.\n    mat4.multiply(this._mvMatrix, this._getViewMatrix(), this._worldTransform);\n\n    // Update the normal matrix.\n    mat4.invert(this._normalMatrix, this._mvMatrix);\n    mat4.transpose(this._normalMatrix, this._normalMatrix);\n\n    // Update the uniform variables.\n    this._programVariablesConfig.uniforms['uPMatrix'] = this._getProjectionMatrix();\n    this._programVariablesConfig.uniforms['uMVMatrix'] = this._mvMatrix;\n    this._programVariablesConfig.uniforms['uNormalMatrix'] = this._normalMatrix;\n\n    // Draw shapes using the current variables configuration.\n    this._programWrapper.draw(this._gl, this._programVariablesConfig, 0, this._model.elementCount);\n  }\n\n  /**\n   * Initializes the program variables configuration.\n   *\n   * @protected\n   */\n  _setUpProgramVariablesConfig() {\n    this._programVariablesConfig = {\n      attributes: {\n        aVertexPosition: this._model.vertexPositionsConfig,\n        aTextureCoord: this._model.textureCoordinatesConfig,\n        aVertexNormal: this._model.vertexNormalsConfig,\n      },\n      uniforms: {\n        uPMatrix: this._getProjectionMatrix(),\n        uMVMatrix: this._mvMatrix,\n        uNormalMatrix: this._normalMatrix,\n        uSampler: this._texture,\n      },\n      mode: this._model.mode,\n      vertexIndices: this._model.vertexIndicesBuffer,\n      elementCount: this._model.elementCount,\n    };\n  }\n}\n\nexport {StandardModelController};\n","export * from './src/program-wrapper';\nexport * from './src/program-wrapper-store';\nexport * from './src/texture-store';\nexport * from './src/uniform-setter';\n","import {bindFramebuffer} from '../../util';\n\nimport {programWrapperStore} from './program-wrapper-store';\n\n/**\n * This class wraps a collection of ProgramWrappers and supports drawing them as a group.\n */\nclass GroupProgramWrapper {\n  /**\n   * @param {WebGLRenderingContext} gl\n   * @param {ProgramWrapperConfig} config\n   */\n  constructor(gl, config) {\n    this.config = config;\n    this._childrenProgramWrappers = [];\n    this._isReady = null;\n\n    this._loadChildren(gl, config).then(() => {\n      if (config.initialize) config.initialize(gl);\n      if (config.isAPostProcessor) {\n        _createChildrenFramebuffersAndTextures(gl, config);\n      }\n    });\n  }\n\n  /** @returns {string} */\n  get programId() {\n    return this.config.id;\n  }\n\n  /** @returns {Promise} */\n  getIsReady() {\n    return this._isReady;\n  }\n\n  /**\n   * Renders shapes using this program.\n   *\n   * @param {WebGLRenderingContext} gl\n   */\n  draw(gl) {\n    if (this.config.webGLStateSetter) this.config.webGLStateSetter(gl);\n    this.config.childrenFramebufferIds.forEach(_clearFramebuffer.bind(this, gl));\n    this.config.childrenProgramsToDraw.forEach(_drawChildProgramWrapper.bind(this, gl));\n  }\n\n  /**\n   * @param {WebGLRenderingContext} gl\n   * @param {ProgramWrapperConfig} config\n   * @private\n   */\n  _loadChildren(gl, config) {\n    this._isReady = Promise.all(\n        config.childrenProgramConfigs.map(config =>\n            programWrapperStore.loadProgramWrapper(gl, config)\n                .then(programWrapper => this._childrenProgramWrappers.push(programWrapper))));\n    return this._isReady;\n  }\n}\n\n/**\n * @param {WebGLRenderingContext} gl\n * @param {string} id\n * @private\n */\nfunction _clearFramebuffer(gl, id) {\n  const framebuffer = programWrapperStore.getFramebuffer(id);\n  bindFramebuffer(gl, framebuffer);\n  gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n}\n\n/**\n * @param {WebGLRenderingContext} gl\n * @param {ProgramWrapperConfig} config\n * @private\n */\nfunction _createChildrenFramebuffersAndTextures(gl, config) {\n  config.childrenFramebufferIds.forEach(id =>\n      programWrapperStore.createNewFramebufferAndTexture(gl, id, false));\n}\n\n/**\n * @param {WebGLRenderingContext} gl\n * @param {ChildProgramAndFramebufferIds} childProgramAndFramebufferIds\n * @private\n */\nfunction _drawChildProgramWrapper(gl, childProgramAndFramebufferIds) {\n  const {programId, inputFramebufferIds, outputFramebufferId} = childProgramAndFramebufferIds;\n\n  const framebuffer = outputFramebufferId ?\n      programWrapperStore.getFramebuffer(outputFramebufferId) : null;\n  const programWrapper = programWrapperStore.getProgramWrapper(programId);\n  const programVariablesConfig =\n      programWrapper.config.getProgramVariablesConfig(gl, inputFramebufferIds);\n\n  bindFramebuffer(gl, framebuffer);\n  programWrapper.setProgram(gl);\n  programWrapper.draw(gl, programVariablesConfig);\n}\n\nexport {GroupProgramWrapper};\n","import {createFramebuffer, createRenderBuffer, createTextureForRendering} from '../../util';\n\nimport {GroupProgramWrapper} from './group-program-wrapper';\nimport {ProgramWrapper} from './program-wrapper';\n\n/**\n * This class loads, compiles, and stores WebGL rendering programs.\n *\n * Also, this stores draw-frame handlers for a given program. This makes it easy for a top-level\n * controller to group together draw calls for a given program and therefore minimize program\n * switches.\n *\n * Also, this distinguishes between rendering programs that are used for rendering individual models\n * and post-processing programs that are used for manipulating the entire frame after all the models\n * have rendered.\n *\n * This also allows for grouping programs, which consist of multiple child programs that are all\n * rendered in sequence for a related purpose.\n */\nclass ProgramWrapperStore {\n  constructor() {\n    this._modelProgramCache = {};\n    this._sortedModelPrograms = [];\n    this._postProcessingProgramCache = {};\n    this._sortedPostProcessingPrograms = [];\n    this._frambuffers = {};\n    this._textures = {};\n    this._renderBuffers = {};\n  }\n\n  /**\n   * Loads and caches a program wrapper using the given configuration.\n   *\n   * This method is idempotent; a given program will only be cached once.\n   *\n   * @param {WebGLRenderingContext} gl\n   * @param {ProgramWrapperConfig} params\n   * @returns {Promise.<ProgramWrapper|GroupProgramWrapper, Error>}\n   * @private\n   */\n  loadProgramWrapper(gl, params) {\n    let cache;\n    let sortedList;\n    if (params.isAPostProcessor) {\n      cache = this._postProcessingProgramCache;\n      sortedList = this._sortedPostProcessingPrograms;\n    } else {\n      cache = this._modelProgramCache;\n      sortedList = this._sortedModelPrograms;\n    }\n    let cacheInfo = cache[params.id];\n\n    // Cache the program if it has not been previously registered.\n    if (!cacheInfo) {\n      cacheInfo = {};\n\n      cacheInfo.params = params;\n      cacheInfo.renderPriority = params.renderPriority;\n\n      let programWrapper = params.childrenProgramConfigs ?\n          new GroupProgramWrapper(gl, params) : new ProgramWrapper(gl, params);\n\n      cacheInfo.programWrapper = programWrapper;\n      cacheInfo.promise = programWrapper.getIsReady().then(() => cacheInfo.programWrapper);\n\n      if (params.isAPostProcessor) {\n        // As soon as we know we'll use a post-processing program, make sure we create the default\n        // framebuffer/texture for rendering models into.\n        if (!this.modelsFramebuffer) {\n          this.createNewFramebufferAndTexture(gl, MODELS_FRAMEBUFFER_ID, true);\n        }\n      } else {\n        // Post-processing programs are not used for rendering individual models.\n        cacheInfo.drawFrameHandlers = new Set();\n      }\n\n      // Store the program cache info in both a map and a list that is sorted by render priority.\n      cache[params.id] = cacheInfo;\n      sortedList.push(cacheInfo);\n      sortedList.sort(_compareProgramCacheInfo);\n    }\n\n    return cacheInfo.promise;\n  }\n\n  /**\n   * Registers the given draw-frame event handler for the given program.\n   *\n   * This method is idempotent; draw-frame handlers are stored in a set, so duplicate additions will\n   * overwrite previous additions.\n   *\n   * @param {string} id\n   * @param {Function} drawFrameHandler\n   */\n  registerDrawFrameHandler(id, drawFrameHandler) {\n    const programCacheInfo = this._modelProgramCache[id];\n\n    if (!programCacheInfo) {\n      if (this._postProcessingProgramCache[id]) {\n        // The program is not set up for rendering individual models.\n        throw new Error(`Cannot register a draw-frame handler for a program that is not set up for \n                         rendering individual models registered: ${id}`);\n      } else {\n        // The program has not been registered.\n        throw new Error(`Cannot register a draw-frame handler for a program that has not yet been \n                         registered: ${id}`);\n      }\n    }\n\n    // Store the draw-frame handler.\n    programCacheInfo.drawFrameHandlers.add(drawFrameHandler);\n  }\n\n  /**\n   * WARNING: This will remove the program from the store even if there are still other components\n   * depending on this program or its draw-frame handlers.\n   *\n   * @param {string} id\n   */\n  deleteProgramWrapper(id) {\n    // Determine which collections we're removing the program from.\n    let sortedPrograms;\n    let programCache;\n    if (this._modelProgramCache[id]) {\n      sortedPrograms = this._sortedModelPrograms;\n      programCache = this._modelProgramCache;\n    } else {\n      sortedPrograms = this._sortedPostProcessingPrograms;\n      programCache = this._postProcessingProgramCache;\n    }\n    const programCacheInfo = programCache[id];\n\n    // Remove the program.\n    sortedPrograms.splice(sortedPrograms.indexOf(programCacheInfo), 1);\n    delete programCache[id];\n  }\n\n  // TODO: Don't forget to unregister draw-frame handlers when destroying models (asteroids, UFOs,\n  // etc.)\n  /**\n   * @param {string} id\n   * @param {Function} drawFrameHandler\n   */\n  unregisterDrawFrameHandler(id, drawFrameHandler) {\n    this._modelProgramCache[id].drawFrameHandlers.delete(drawFrameHandler);\n  }\n\n  /**\n   * @param {string} id\n   * @returns {Promise}\n   * @throws If there is no program registered with the given ID.\n   */\n  getProgramWrapperPromise(id) {\n    const cacheInfo = this._modelProgramCache[id] || this._postProcessingProgramCache[id];\n    return cacheInfo.promise;\n  }\n\n  /**\n   * @param {string} id\n   * @returns {ProgramWrapper}\n   * @throws If there is no program registered with the given ID.\n   */\n  getProgramWrapper(id) {\n    const cacheInfo = this._modelProgramCache[id] || this._postProcessingProgramCache[id];\n    return cacheInfo.programWrapper;\n  }\n\n  /**\n   * Calls the given callback once for each registered per-model program wrapper.\n   *\n   * The callback is passed two arguments: the program wrapper and the registered draw-frame\n   * handlers.\n   *\n   * @param {Function} callback\n   */\n  forEachModelProgram(callback) {\n    this._sortedModelPrograms.forEach(programCacheInfo =>\n        callback(programCacheInfo.programWrapper, programCacheInfo.drawFrameHandlers));\n  }\n\n  /**\n   * Calls the given callback once for each registered post-processing program wrapper.\n   *\n   * @param {Function} callback\n   */\n  forEachPostProcessingProgram(callback) {\n    this._sortedPostProcessingPrograms.forEach(\n        programCacheInfo => callback(programCacheInfo.programWrapper));\n  }\n\n  /** @returns {boolean} */\n  get isUsingPostProcessingPrograms() {\n    return this._sortedPostProcessingPrograms.length > 0;\n  }\n\n  /**\n   * Creates and stores a framebuffer with a texture.\n   *\n   * Both the framebuffer and texture can be accessed later using the given ID.\n   *\n   * @param {WebGLRenderingContext} gl\n   * @param {string} id\n   * @param {boolean} [shouldStoreDepthInfo=false]\n   */\n  createNewFramebufferAndTexture(gl, id, shouldStoreDepthInfo=false) {\n    let renderBuffer;\n    if (shouldStoreDepthInfo) {\n      renderBuffer = createRenderBuffer(gl);\n      this._renderBuffers[id] = renderBuffer;\n    }\n\n    const texture = createTextureForRendering(gl);\n    this._textures[id] = texture;\n\n    const framebuffer = createFramebuffer(gl, texture, renderBuffer);\n    this._frambuffers[id] = framebuffer;\n  }\n\n  /**\n   * @param {string} id\n   * @returns {?WebGLFramebuffer}\n   */\n  getFramebuffer(id) {\n    return this._frambuffers[id];\n  }\n\n  /**\n   * @param {string} id\n   * @returns {?WebGLTexture}\n   */\n  getTexture(id) {\n    return this._textures[id];\n  }\n\n  /**\n   * If we are using a post-processing program, then this is the default framebuffer for rendering\n   * models into.\n   *\n   * @returns {?WebGLFramebuffer}\n   */\n  get modelsFramebuffer() {\n    return this._frambuffers[MODELS_FRAMEBUFFER_ID];\n  }\n\n  /**\n   * If we are using a post-processing program, then this is the default texture for rendering\n   * models into.\n   *\n   * @returns {?WebGLTexture}\n   */\n  get modelsTexture() {\n    return this._textures[MODELS_FRAMEBUFFER_ID];\n  }\n\n  /**\n   * If we are using a post-processing program, then this is the default depth render buffer for\n   * rendering models.\n   *\n   * @returns {?WebGLRenderBuffer}\n   */\n  get modelsRenderBuffer() {\n    return this._renderBuffers[MODELS_FRAMEBUFFER_ID];\n  }\n}\n\nfunction _compareProgramCacheInfo(a, b) {\n  return a.renderPriority - b.renderPriority;\n}\n\nexport const MODELS_FRAMEBUFFER_ID = 'models';\n\nexport const programWrapperStore = new ProgramWrapperStore();\n\n/**\n * @typedef {Object} ProgramCacheInfo\n * @property {ProgramWrapperConfig} params\n * @property {ProgramWrapper|GroupProgramWrapper} [programWrapper]\n * @property {Set.<Function>} [drawFrameHandlers]\n * @property {Array.<ProgramWrapper>} [childrenProgramWrappers]\n */\n","import {\n  isInDevMode,\n  getViewportHeight,\n  getViewportWidth,\n  loadProgram,\n} from '../../util';\n\nimport {UniformSetter} from './uniform-setter';\n\n/**\n * This class wraps a native WebGLProgram object and provides convenience methods for:\n * - setting the wrapped program for use on the WebGL rendering context,\n * - enabling the attribute variables for the program,\n * - setting the attribute and uniform variables for the program,\n * - drawing shapes with the program and its current configuration.\n */\nclass ProgramWrapper {\n  /**\n   * @param {WebGLRenderingContext} gl\n   * @param {ProgramWrapperConfig} config\n   */\n  constructor(gl, config) {\n    this.config = config;\n    this._program = null;\n    this._uniformSetters = null;\n    this._attributeEnablers = null;\n    this._attributeSetters = null;\n\n    // This is used for assigning different textures to different texture units.\n    this.baseTextureUnitIndex = 0;\n\n    this._buildWebGLProgramPromise = this._buildWebGLProgram(gl, config);\n\n    // TODO: Freeze this object after initializing\n  }\n\n  /** @returns {string} */\n  get programId() {\n    return this.config.id;\n  }\n\n  /** @returns {Promise} */\n  getIsReady() {\n    return this._buildWebGLProgramPromise;\n  }\n\n  /**\n   * Sets this program to use for rendering on the given WebGL context.\n   *\n   * This also enables all relevant attribute variables for this program.\n   *\n   * @param {WebGLRenderingContext} gl\n   */\n  setProgram(gl) {\n    gl.useProgram(this._program);\n    this._enableAttributes();\n    if (this.config.webGLStateSetter) this.config.webGLStateSetter(gl);\n  }\n\n  /**\n   * Renders shapes using this program with the given variables configuration.\n   *\n   * @param {WebGLRenderingContext} gl\n   * @param {ProgramVariablesConfig} [programVariablesConfig]\n   * @param {number} [offset=0] Offset into the element array buffer to render from.\n   * @param {number} [count=programVariablesConfig.elementCount] The number of elements to render.\n   */\n  draw(gl, programVariablesConfig, offset, count) {\n    programVariablesConfig = programVariablesConfig || this.config.getProgramVariablesConfig(gl);\n    this._setVariables(gl, programVariablesConfig);\n    this._draw(gl, programVariablesConfig, offset, count);\n  }\n\n  /**\n   * Sets up this WebGL rendering program to draw shapes with the given program variables\n   * configuration and the attribute/uniform setters that have been set up for this program.\n   *\n   * @param {WebGLRenderingContext} gl\n   * @param {ProgramVariablesConfig} programVariablesConfig\n   * @private\n   */\n  _setVariables(gl, programVariablesConfig) {\n    this._setAttributes(programVariablesConfig.attributes);\n    this._setUniforms(programVariablesConfig.uniforms);\n\n    // Check whether we are set up to draw using gl.drawElements rather than gl.drawArrays.\n    if (programVariablesConfig.vertexIndices) {\n      gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, programVariablesConfig.vertexIndices);\n    }\n  }\n\n  /**\n   * Renders shapes according to this program's current configuration.\n   *\n   * @param {WebGLRenderingContext} gl\n   * @param {ProgramVariablesConfig} programVariablesConfig\n   * @param {number} [offset=0] Offset into the element array buffer to render from.\n   * @param {number} [count=programVariablesConfig.elementCount] The number of elements to render.\n   * @private\n   */\n  _draw(gl, programVariablesConfig, offset, count) {\n    offset = typeof offset === 'number' ? offset : 0;\n    count = typeof count === 'number' ? count : programVariablesConfig.elementCount;\n\n    if (isInDevMode) {\n      this._checkThatGivenVariablesMatchProgram(programVariablesConfig);\n    }\n\n    // Check whether we are set up to draw using gl.drawElements or gl.drawArrays.\n    if (programVariablesConfig.vertexIndices) {\n      gl.drawElements(programVariablesConfig.mode, count, gl.UNSIGNED_SHORT, offset);\n    } else {\n      gl.drawArrays(programVariablesConfig.mode, offset, count);\n    }\n  }\n\n  /**\n   * Checks whether the attribute and uniform variables specified in the given config match those\n   * defined in this program.\n   *\n   * @param {ProgramVariablesConfig} programVariablesConfig\n   * @private\n   */\n  _checkThatGivenVariablesMatchProgram(programVariablesConfig) {\n    if (Object.keys(programVariablesConfig.attributes).length !==\n            Object.keys(this._attributeSetters).length ||\n        Object.keys(programVariablesConfig.uniforms).length !==\n            Object.keys(this._uniformSetters).length) {\n      console.warn('The attribute/uniform variables in the ProgramVariablesConfig do not match ' +\n          'those specified in the shaders.', programVariablesConfig, this);\n    }\n  }\n\n  /**\n   * Sets the uniform values for this program.\n   *\n   * Specifically, this calls `gl.uniform<...>(location, value)` for each\n   * variable-name/variable-value key-value pair in the given map. As part of the setup process, the\n   * uniform variable locations are stored in a map from their corresponding variable names. So only\n   * the variable names are needed in order to call this function at render time.\n   *\n   * @param {Object.<String, UniformData>} uniformValues\n   */\n  _setUniforms(uniformValues) {\n    Object.keys(uniformValues).forEach(uniformName => {\n      const uniformSetter = this._uniformSetters[uniformName];\n      const uniformValue = uniformValues[uniformName];\n      uniformSetter.setUniform(uniformValue);\n    });\n  }\n\n  /**\n   * Sets the attribute buffers for this program.\n   *\n   * Specifically, this calls `gl.bindBuffer(...)` and `gl.vertexAttribPointer(...)` for each\n   * variable-name/variable-value pair in the given attribute-info map. As part of the setup\n   * process, the uniform variable locations are stored in a map from their corresponding variable\n   * names. So only the variable names are needed in order to call this function at render time.\n   *\n   * @param {Object.<String, AttributeConfig>} attributeConfigs\n   */\n  _setAttributes(attributeConfigs) {\n    Object.keys(attributeConfigs).forEach(attributeName => {\n      const attributeSetter = this._attributeSetters[attributeName];\n      const attributeConfig = attributeConfigs[attributeName];\n      attributeSetter(attributeConfig);\n    });\n  }\n\n  /**\n   * @private\n   */\n  _enableAttributes() {\n    this._attributeEnablers.forEach(attributeEnabler => attributeEnabler());\n  }\n\n  /**\n   * Creates uniform setters for this program and saves them in the _uniformSetters property.\n   *\n   * @param {WebGLRenderingContext} gl\n   * @private\n   */\n  _createUniformSetters(gl) {\n    const uniformCount = gl.getProgramParameter(this._program, gl.ACTIVE_UNIFORMS);\n\n    this._uniformSetters = {};\n\n    for (let index = 0; index < uniformCount; index++) {\n      const uniformInfo = gl.getActiveUniform(this._program, index);\n      let uniformName = uniformInfo.name;\n\n      // Remove any array suffix.\n      // TODO: Is this removal redundant with the isArray check below??\n      if (uniformName.substr(-3) === '[0]') {\n        uniformName = uniformName.substr(0, uniformName.length - 3);\n      }\n\n      this._uniformSetters[uniformName] = new UniformSetter(gl, this._program, uniformInfo, this);\n    }\n  }\n\n  /**\n   * Creates attribute enablers and setters for this program and saves them in the\n   * _attributeEnablers and _attributeSetters properties, respectively.\n   *\n   * @param {WebGLRenderingContext} gl\n   * @private\n   */\n  _createAttributeEnablersAndSetters(gl) {\n    this._attributeEnablers = [];\n    this._attributeSetters = {};\n\n    const attributeCount = gl.getProgramParameter(this._program, gl.ACTIVE_ATTRIBUTES);\n\n    for (let index = 0; index < attributeCount; index++) {\n      const attributeName = gl.getActiveAttrib(this._program, index).name;\n      const location = gl.getAttribLocation(this._program, attributeName);\n\n      this._attributeEnablers.push(ProgramWrapper._createAttributeEnabler(gl, location));\n      this._attributeSetters[attributeName] = ProgramWrapper._createAttributeSetter(gl, location);\n    }\n  }\n\n  /**\n   * Loads the shader source code from the given URLs, compiles the shader source code, and creates\n   * a program from the resulting shaders.\n   *\n   * @param {WebGLRenderingContext} gl\n   * @param {ProgramWrapperConfig} config\n   * @returns {Promise}\n   * @private\n   */\n  _buildWebGLProgram(gl, config) {\n    return loadProgram(gl, config.vertexShaderPath, config.fragmentShaderPath)\n        .then(webGLProgram => {\n          this._program = webGLProgram;\n          this._createUniformSetters(gl);\n          this._createAttributeEnablersAndSetters(gl);\n          if (config.initialize) config.initialize(gl);\n        })\n        .then(() => console.info(`Program loaded: ${config.id}`));\n  }\n\n  /**\n   * @param {WebGLRenderingContext} gl\n   * @param {number} location\n   * @returns {Function}\n   * @private\n   */\n  static _createAttributeEnabler(gl, location) {\n    return () => gl.enableVertexAttribArray(location);\n  }\n\n  /**\n   * @param {WebGLRenderingContext} gl\n   * @param {number} location\n   * @returns {Function.<AttributeConfig>}\n   * @private\n   */\n  static _createAttributeSetter(gl, location) {\n    return attributeConfig => {\n      gl.bindBuffer(gl.ARRAY_BUFFER, attributeConfig.buffer);\n      gl.vertexAttribPointer(\n          location,\n          attributeConfig.size,\n          typeof attributeConfig.type !== 'undefined' ? attributeConfig.type : gl.FLOAT,\n          typeof attributeConfig.normalized !== 'undefined' ? attributeConfig.normalized : false,\n          typeof attributeConfig.stride !== 'undefined' ? attributeConfig.stride : 0,\n          typeof attributeConfig.offset !== 'undefined' ? attributeConfig.offset : 0);\n    };\n  }\n}\n\nexport {ProgramWrapper};\n\n/**\n * @typedef {Object} ProgramWrapperConfig\n * @property {string} id\n * @property {Function} [initialize] A method for one-time initialization of the GL state for this\n * program.\n * @property {Function} [webGLStateSetter] A method for setting up the GL state for this program\n * wrapper in preparation for the current draw call.\n * @property {number} [renderPriority] Programs with lower priority will render first. This does not\n * need to be present for ProgramWrappers that are children of a GroupProgramWrapper.\n * @property {string} [vertexShaderPath] This will be present on configs for non-group\n * ProgramWrappers.\n * @property {string} [fragmentShaderPath] This will be present on configs for non-group\n * ProgramWrappers.\n * @property {boolean} [isAPostProcessor=false] A post-processing program is used for manipulating\n * the entire frame after all the models have rendered.\n * @property {boolean} [childrenProgramConfigs] A grouping program consists of multiple child\n * programs that are all rendered in sequence for a related purpose.\n * @property {Array.<ChildProgramAndFramebufferIds>} [childrenProgramsToDraw] The IDs for the\n * sequence of children ProgramWrappers to draw, as well as the IDs for the input and output\n * framebuffers/textures to use. This will be present on configs for GroupProgramWrappers.\n * @property {Array.<string>} [childrenFramebufferIds] The IDs of all the framebuffers/textures that\n * will need to be created for this program. This will be present on configs for\n * GroupProgramWrappers.\n * @property {Function} [getProgramVariablesConfig] A method for getting the variables needed for\n * drawing this program. This will be present on configs of programs that are children of a\n * GroupProgramWrapper.\n */\n\n/**\n * @typedef {Object} ChildProgramAndFramebufferIds\n * @property {string} programId The ID of the program to draw with.\n * @property {Array.<string>} inputFramebufferIds The IDs of framebuffers whose textures will be\n * used as inputs for this program's shaders.\n * @property {string} outputFramebufferId Provide null in order to render to the canvas.\n */\n\n/**\n * @typedef {Object} ProgramVariablesConfig\n * @property {Object.<String, AttributeConfig>} attributes A mapping from attribute names to\n * attribute info.\n * @property {Object.<String, UniformData>} uniforms A mapping from uniform names to uniform info.\n * @property {number} mode Specifies the type of primitives to render; one of:\n *   - gl.POINTS,\n *   - gl.LINES,\n *   - gl.LINE_STRIP,\n *   - gl.LINE_LOOP,\n *   - gl.TRIANGLES,\n *   - gl.TRIANGLE_STRIP,\n *   - gl.TRIANGLE_FAN.\n * @property {WebGLBuffer} [vertexIndices] The indices to use for retrieving the vertex info from\n * each of the other attribute variable buffers. If this property is present, then the rendering\n * pipeline will be set up to use gl.drawElements (with gl.ELEMENT_ARRAY_BUFFER) instead of\n * gl.drawArrays.\n * @property {number} elementCount The number of elements/vertices to render for this variables\n * configuration.\n */\n\n/**\n * @typedef {Object} AttributeConfig\n * @property {WebGLBuffer} buffer The buffer containing this attribute's data.\n * @property {number} index Index of target attribute in the buffer bound to gl.ARRAY_BUFFER.\n * @property {number} size The number of components per attribute. Must be 1,2,3,or 4.\n * @property {number} type Specifies the data type of each component in the array. Use either\n * gl.FLOAT or gl.FIXED.\n * @property {boolean} normalized If true, then values will be normalized to a range of -1 or 0 to\n * 1.\n * @property {number} stride Specifies the offset in bytes between the beginning of consecutive\n * vertex attributes. Default value is 0, maximum is 255. Must be a multiple of type.\n * @property {number} offset Specifies an offset in bytes of the first component of the first\n * vertex attribute in the array. Default is 0 which means that vertex attributes are tightly\n * packed. Must be a multiple of type.\n */\n\n/** @typedef {*} UniformData */\n","import {loadImageSrc} from '../../util';\n\n/**\n * This class loads, sets up, and stores WebGL texture objects.\n *\n * NOTE: Only textures whose side lengths are powers of two are supported.\n */\nclass TextureStore {\n  constructor() {\n    this.textureCache = {};\n  }\n\n  /**\n   * @param {string} texturePath\n   * @returns {WebGLTexture}\n   */\n  getTexture(texturePath) {\n    return this.textureCache[texturePath].texture;\n  }\n\n  /**\n   * Loads the texture image at the given path, creates a texture object from it, caches the\n   * texture, and returns a promise for the texture.\n   *\n   * This method is idempotent; a given texture will only be loaded once.\n   *\n   * @param {WebGLRenderingContext} gl\n   * @param {string} texturePath\n   * @returns {Promise.<WebGLTexture, Error>}\n   */\n  loadTexture(gl, texturePath) {\n    let textureCacheInfo = this.textureCache[texturePath];\n\n    // Load, create, and cache the texture if it has not been previously registered.\n    if (!textureCacheInfo) {\n      textureCacheInfo = {\n        texturePromise: null,\n        texture: null,\n        image: new Image()\n      };\n      this.textureCache[texturePath] = textureCacheInfo;\n      textureCacheInfo.texturePromise = loadImageSrc(textureCacheInfo.image, texturePath)\n          .then(_ => this._createTexture(gl, textureCacheInfo));\n    }\n\n    return textureCacheInfo.texturePromise;\n  }\n\n  // TODO: Make this more general/configurable by creating a new TextureConfig typedef with most of\n  // the gl.xxx params included below (like the AttributeConfig typedef}, passing a textureConfig in\n  // the register method, and saving it on the textureCacheInfo object.\n  /**\n   * @param {WebGLRenderingContext} gl\n   * @param {TextureCacheInfo} textureCacheInfo\n   * @returns {WebGLTexture}\n   * @private\n   */\n  _createTexture(gl, textureCacheInfo) {\n    console.info(`Texture loaded: ${textureCacheInfo.image.src}`);\n\n    textureCacheInfo.texture = gl.createTexture();\n    gl.bindTexture(gl.TEXTURE_2D, textureCacheInfo.texture);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, textureCacheInfo.image);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR_MIPMAP_NEAREST);\n    gl.generateMipmap(gl.TEXTURE_2D);\n    gl.bindTexture(gl.TEXTURE_2D, null);\n\n    return textureCacheInfo.texture;\n  }\n\n  /**\n   * WARNING: This will remove the texture from the store even if there are still other components\n   * depending on this texture.\n   *\n   * @param {string} texturePath\n   */\n  deleteTexture(texturePath) {\n    delete this.textureCache[texturePath];\n  }\n}\n\nexport const textureStore = new TextureStore();\n\n/**\n * @typedef {Object} TextureCacheInfo\n * @property {Promise.<WebGLTexture, Error>} texturePromise\n * @property {WebGLTexture} [texture]\n * @property {HTMLImageElement} [image]\n */\n","/**\n * This class stores a function for setting a value to a WebGL uniform variable.\n *\n * This is intended for use as a helper for the ProgramWrapper class.\n */\n// TODO: Write tests for this class.\nclass UniformSetter {\n  /**\n   * @param {WebGLRenderingContext} gl\n   * @param {WebGLProgram} program\n   * @param {WebGLActiveInfo} uniformInfo\n   * @param {ProgramWrapper} programWrapper\n   * @throws If the given uniformInfo specifies an unexpected uniform-value type.\n   */\n  constructor(gl, program, uniformInfo, programWrapper) {\n    this._location = gl.getUniformLocation(program, uniformInfo.name);\n    this._setter = this._getSetter(gl, uniformInfo, programWrapper);\n\n    // TODO: Freeze this object after initializing\n  }\n\n  /**\n   * @param {UniformData} uniformValue\n   */\n  setUniform(uniformValue) {\n    uniformValue = uniformValue instanceof Array ? new Float32Array(uniformValue) : uniformValue;\n    this._setter(uniformValue);\n  }\n\n  /** @returns {WebGLUniformLocation} */\n  get location() {\n    return this._location;\n  }\n\n  /**\n   * @param {WebGLRenderingContext} gl\n   * @param {WebGLActiveInfo} uniformInfo\n   * @param {ProgramWrapper} programWrapper\n   * @returns {Function.<*>}\n   * @throws If the given uniformInfo specifies an unexpected uniform-value type.\n   * @private\n   */\n  _getSetter(gl, uniformInfo, programWrapper) {\n    const isArray = uniformInfo.size > 1 && uniformInfo.name.substr(-3) === '[0]';\n    const setterMap = isArray ? {\n      [gl.FLOAT]: value => gl.uniform1fv(this._location, value),\n      [gl.INT]: value => gl.uniform1iv(this._location, value),\n      [gl.SAMPLER_2D]: this._getUniformTextureArraySetter(gl, gl.TEXTURE_2D, uniformInfo.size,\n          programWrapper),\n      [gl.SAMPLER_CUBE]: this._getUniformTextureArraySetter(gl, gl.TEXTURE_CUBE_MAP,\n          uniformInfo.size, programWrapper),\n    } : {\n      [gl.FLOAT]: value => gl.uniform1f(this._location, value),\n      [gl.FLOAT_VEC2]: value => gl.uniform2fv(this._location, value),\n      [gl.FLOAT_VEC3]: value => gl.uniform3fv(this._location, value),\n      [gl.FLOAT_VEC4]: value => gl.uniform4fv(this._location, value),\n      [gl.INT]: value => gl.uniform1i(this._location, value),\n      [gl.INT_VEC2]: value => gl.uniform2iv(this._location, value),\n      [gl.INT_VEC3]: value => gl.uniform3iv(this._location, value),\n      [gl.INT_VEC4]: value => gl.uniform4iv(this._location, value),\n      [gl.BOOL]: value => gl.uniform1i(this._location, value),\n      [gl.BOOL_VEC2]: value => gl.uniform2iv(this._location, value),\n      [gl.BOOL_VEC3]: value => gl.uniform3iv(this._location, value),\n      [gl.BOOL_VEC4]: value => gl.uniform4iv(this._location, value),\n      [gl.FLOAT_MAT2]: value => gl.uniformMatrix2fv(this._location, false, value),\n      [gl.FLOAT_MAT3]: value => gl.uniformMatrix3fv(this._location, false, value),\n      [gl.FLOAT_MAT4]: value => gl.uniformMatrix4fv(this._location, false, value),\n      [gl.SAMPLER_2D]: this._getUniformTextureSetter(gl, gl.TEXTURE_2D,\n          programWrapper.baseTextureUnitIndex++),\n      [gl.SAMPLER_CUBE]: this._getUniformTextureSetter(gl, gl.TEXTURE_CUBE_MAP,\n          programWrapper.baseTextureUnitIndex++),\n    };\n    return setterMap[uniformInfo.type];\n  }\n\n  /**\n   * @param {WebGLRenderingContext} gl\n   * @param {number} target An enum describing the type of this buffer; one of:\n   *   - gl.TEXTURE_2D,\n   *   - gl.TEXTURE_CUBE_MAP.\n   * @param {number} uniformSize\n   * @param {ProgramWrapper} programWrapper\n   * @returns {Function.<*>}\n   * @private\n   */\n  _getUniformTextureArraySetter(gl, target, uniformSize, programWrapper) {\n    const textureUnitIndices =\n        Array.from({length: uniformSize}, _ => programWrapper.baseTextureUnitIndex++);\n\n    return textures => {\n      textures.forEach((texture, index) => {\n        gl.activeTexture(gl.TEXTURE0 + textureUnitIndices[index]);\n        gl.bindTexture(target, texture);\n      });\n      gl.uniform1iv(this._location, textureUnitIndices);\n    };\n  }\n\n  /**\n   * @param {WebGLRenderingContext} gl\n   * @param {number} target An enum describing the type of this buffer; one of:\n   *   - gl.TEXTURE_2D,\n   *   - gl.TEXTURE_CUBE_MAP.\n   * @param {number} textureUnitIndex\n   * @returns {Function.<*>}\n   * @private\n   */\n  _getUniformTextureSetter(gl, target, textureUnitIndex) {\n    return texture => {\n      gl.activeTexture(gl.TEXTURE0 + textureUnitIndex);\n      gl.bindTexture(target, texture);\n      gl.uniform1i(this._location, textureUnitIndex);\n    };\n  }\n}\n\nexport {UniformSetter};\n","import {renderableShapeFactory} from './src/renderable-shape-factory';\n\nimport {capsuleRenderableShapeFactory} from './src/shape-configs/capsule-renderable-shape';\nimport {cubeRenderableShapeFactory} from './src/shape-configs/cube-renderable-shape';\nimport {icosahedronRenderableShapeFactory} from './src/shape-configs/icosahedron-renderable-shape';\nimport {icosphereRenderableShapeFactory} from './src/shape-configs/icosphere-renderable-shape';\nimport {latLongSphereRenderableShapeFactory} from './src/shape-configs/lat-long-sphere-renderable-shape';\nimport {tetrahedronRenderableShapeFactory} from './src/shape-configs/tetrahedron-renderable-shape';\n\n[\n  capsuleRenderableShapeFactory,\n  cubeRenderableShapeFactory,\n  icosahedronRenderableShapeFactory,\n  icosphereRenderableShapeFactory,\n  latLongSphereRenderableShapeFactory,\n  tetrahedronRenderableShapeFactory\n].forEach(renderableShapeFactory.registerRenderableShapeFactory);\n\nexport * from './src/shape-configs/capsule-renderable-shape';\nexport * from './src/shape-configs/cube-renderable-shape';\nexport * from './src/shape-configs/icosahedron-renderable-shape';\nexport * from './src/shape-configs/icosphere-renderable-shape';\nexport * from './src/shape-configs/lat-long-sphere-renderable-shape';\nexport * from './src/shape-configs/tetrahedron-renderable-shape';\n\nexport * from './src/renderable-shape-factory';\nexport * from './src/renderable-shape-store';\n","import {DefaultModel} from '../../models';\nimport {renderableShapeStore} from './renderable-shape-store';\n\n/**\n * This module defines a factory for DefaultRigidModal instances that are based on the various\n * pre-defined renderable shapes in this directory.\n */\n\nconst renderableShapeFactory = {\n  /**\n   * @param {WebGLRenderingContext} gl\n   * @param {RenderableShapeConfig} params\n   * @returns {DefaultModel}\n   */\n  createModel: (gl, params) => {\n    const shapeConfig = renderableShapeFactory.getRenderableShape(params);\n    return new DefaultModel(gl, shapeConfig);\n  },\n\n  /**\n   * @param {RenderableShapeConfig} params\n   * @returns {RenderableShape}\n   */\n  getRenderableShape: params => {\n    params.isUsingSphericalNormals = params.isUsingSphericalNormals || false;\n    params.divisionsCount = typeof params.divisionsCount === 'number' ? params.divisionsCount : 0;\n\n    let shapeConfig = renderableShapeStore.getShape(params);\n    if (!shapeConfig) {\n      shapeConfig = _shapeIdsToRenderableShapeFactories[params.shapeId].getRenderableShape(params);\n      _updateTextureCoordinatesSpan(shapeConfig, params.textureSpan);\n      renderableShapeStore.registerShape(shapeConfig, params);\n    }\n    return shapeConfig;\n  },\n\n  /**\n   * @param {RenderableShapeFactory} shapeConfigFactory\n   */\n  registerRenderableShapeFactory: shapeConfigFactory => {\n    _shapeIdsToRenderableShapeFactories[shapeConfigFactory.shapeId] = shapeConfigFactory;\n    renderableShapeStore.registerRenderableShapeFactory(shapeConfigFactory);\n  }\n};\n\nconst _shapeIdsToRenderableShapeFactories = {};\n\n/**\n * @param {RenderableShape} shapeConfig\n * @param {TextureSpan} textureSpan\n * @private\n */\nfunction _updateTextureCoordinatesSpan(shapeConfig, textureSpan) {\n  if (!textureSpan) return;\n\n  const minX = textureSpan.minX;\n  const minY = textureSpan.minY;\n  const rangeX = textureSpan.maxX - textureSpan.minX;\n  const rangeY = textureSpan.maxY - textureSpan.minY;\n\n  const textureCoordinates = shapeConfig.textureCoordinates.slice();\n  shapeConfig.textureCoordinates = textureCoordinates;\n\n  for (let i = 0, count = textureCoordinates.length; i < count; i += 2) {\n    textureCoordinates[i] = minX + rangeX * textureCoordinates[i];\n    textureCoordinates[i + 1] = minY + rangeY * textureCoordinates[i + 1];\n  }\n}\n\nexport {renderableShapeFactory};\n\n/**\n * @typedef {Object} RenderableShapeFactory\n * @property {string} shapeId\n * @property {Function.<RenderableShape>} getRenderableShape\n * @property {Function.<String>} getCacheId\n */\n\n/**\n * @typedef {Object} RenderableShape\n * @property {Array.<Number>} vertexPositions\n * @property {Array.<Number>} vertexNormals\n * @property {Array.<Number>} textureCoordinates\n * @property {Array.<Number>} [vertexIndices]\n * @property {number} elementCount\n */\n\n/**\n * @typedef {Object} TextureSpan\n * @property {number} minX\n * @property {number} minY\n * @property {number} maxX\n * @property {number} maxY\n */\n\n/**\n * @typedef {Object} RenderableShapeConfig\n * @property {string} shapeId The ID of the type of renderable shape.\n * @property {boolean} [isUsingSphericalNormals=false] Whether light reflections should show sharp\n * edges.\n * @property {TextureSpan} [textureSpan] For indicating how much a texture should repeat in both axes.\n * A range of 0-0.5 should show half the texture. A range of 0-2 would show the texture twice. The\n * default is 0-1 in both directions.\n * @property {vec3} [scale]\n */\n\n/**\n * @typedef {RenderableShapeConfig} SphericalRenderableShapeParams\n * @property {number} divisionsCount How many times to sub-divide the sphere.\n */\n","/**\n * This class caches renderable shape data.\n */\nclass RenderableShapeStore {\n  constructor() {\n    this._shapeCache = new Map();\n  }\n\n  /**\n   * @param {RenderableShapeConfig} params\n   * @returns {RenderableShape}\n   */\n  getShape(params) {\n    const key = _shapeIdsToCacheKeyCalculators[params.shapeId](params);\n    return this._shapeCache.get(key);\n  }\n\n  /**\n   * Caches the given shape info.\n   *\n   * @param {RenderableShape} shapeConfig\n   * @param {RenderableShapeConfig} params\n   */\n  registerShape(shapeConfig, params) {\n    const key = _shapeIdsToCacheKeyCalculators[params.shapeId](params);\n    this._shapeCache.set(key, shapeConfig);\n  }\n\n  /**\n   * @param {RenderableShapeFactory} shapeConfigFactory\n   */\n  registerRenderableShapeFactory(shapeConfigFactory) {\n    _shapeIdsToCacheKeyCalculators[shapeConfigFactory.shapeId] = shapeConfigFactory.getCacheId;\n  }\n\n  // TODO: Add support for un-registering shapes.\n}\n\n/**\n * @param {RenderableShapeConfig} params\n * @returns {string}\n */\nfunction getCacheKey(params) {\n  const textureSpanStr = params.textureSpan\n      ? `:${params.textureSpan.minX},${params.textureSpan.minY},${params.textureSpan.maxX},` +\n  `${params.textureSpan.maxY}`\n      : '';\n\n  return `${params.shapeId}:${params.isUsingSphericalNormals}${textureSpanStr}`;\n}\n\nconst _shapeIdsToCacheKeyCalculators = {};\n\nconst renderableShapeStore = new RenderableShapeStore();\nexport {renderableShapeStore, getCacheKey};\n","/**\n * This module defines a configuration factory for a capsule shape.\n *\n * The shape is centered around the origin with the poles aligned with the z-axis.\n */\n\nimport {\n  calculateSphericalSection,\n  calculateOrthogonalVertexNormals,\n  dedupVertexArrayWithPositionsAndIndicesArrays,\n  calculateLatLongTextureCoordinates,\n  calculateCylindricalSection,\n  calculateCylindricalTextureCoordinates,\n  TWO_PI,\n} from '../../../util';\nimport {getCacheKey} from '../renderable-shape-store';\n\n// TODO: Once I have a better camera in place, test that these texture coordinate calculations are\n// correct.\n\n/**\n * @param {CapsuleRenderableShapeParams} params\n * @returns {RenderableShape}\n */\nfunction _calculateCapsuleTopShape(params) {\n  // Calculate the positions.\n  // TODO: This uses lat-long spheres for the ends of the capsule. Use icospheres instead.\n  const individualVertexPositions = calculateSphericalSection(\n      0, params.divisionsCount / 2, Math.PI / params.divisionsCount,\n      0, params.divisionsCount, TWO_PI / params.divisionsCount);\n\n  // Calculate the indices and normals.\n  let vertexPositions;\n  let vertexIndices;\n  let vertexNormals;\n  if (!params.isUsingSphericalNormals) {\n    // If we use orthogonal normals, then we cannot use vertexIndices.\n    vertexPositions = individualVertexPositions;\n    vertexIndices = null;\n    vertexNormals = calculateOrthogonalVertexNormals(vertexPositions);\n  } else {\n    ({vertexPositions, vertexIndices} = dedupVertexArrayWithPositionsAndIndicesArrays(\n        individualVertexPositions));\n    vertexNormals = vertexPositions;\n  }\n\n  const textureCoordinates = calculateLatLongTextureCoordinates(vertexPositions);\n\n  let scale;\n  let translation;\n\n  // Scale and translate the positions.\n  scale = params.radius;\n  translation = params.capsuleEndPointsDistance / 2;\n  for (let i = 0, count = vertexPositions.length; i < count; i += 3) {\n    vertexPositions[i] *= scale;\n    vertexPositions[i + 1] *= scale;\n    vertexPositions[i + 2] = vertexPositions[i + 2] * scale + translation;\n  }\n\n  // Scale and translate the texture coordinates.\n  scale = params.radius / (params.radius + params.capsuleEndPointsDistance);\n  translation = 1 - scale;\n  for (let i = 1, count = textureCoordinates.length; i < count; i += 2) {\n    textureCoordinates[i] = textureCoordinates[i] * scale + translation;\n  }\n\n  const elementCount = vertexIndices ? vertexIndices.length : vertexPositions.length / 3;\n\n  return {\n    vertexPositions: vertexPositions,\n    vertexNormals: vertexNormals,\n    textureCoordinates: textureCoordinates,\n    vertexIndices: vertexIndices,\n    elementCount: elementCount\n  };\n}\n\n/**\n * @param {CapsuleRenderableShapeParams} params\n * @returns {RenderableShape}\n */\nfunction _calculateCapsuleBottomShape(params) {\n  // Calculate the positions.\n  // TODO: This uses lat-long spheres for the ends of the capsule. Use icospheres instead.\n  const individualVertexPositions = calculateSphericalSection(\n      params.divisionsCount / 2, params.divisionsCount, Math.PI / params.divisionsCount,\n      0, params.divisionsCount, TWO_PI / params.divisionsCount);\n\n  // Calculate the indices and normals.\n  let vertexPositions;\n  let vertexIndices;\n  let vertexNormals;\n  if (!params.isUsingSphericalNormals) {\n    // If we use orthogonal normals, then we cannot use vertexIndices.\n    vertexPositions = individualVertexPositions;\n    vertexIndices = null;\n    vertexNormals = calculateOrthogonalVertexNormals(vertexPositions);\n  } else {\n    const positionsAndIndices = dedupVertexArrayWithPositionsAndIndicesArrays(\n        individualVertexPositions);\n    vertexPositions = positionsAndIndices.vertexPositions;\n    vertexIndices = positionsAndIndices.vertexIndices;\n    vertexNormals = vertexPositions;\n  }\n\n  const textureCoordinates = calculateLatLongTextureCoordinates(vertexPositions);\n\n  let scale;\n  let translation;\n\n  // Scale and translate the positions.\n  scale = params.radius;\n  translation = -params.capsuleEndPointsDistance / 2;\n  for (let i = 0, count = vertexPositions.length; i < count; i += 3) {\n    vertexPositions[i] *= scale;\n    vertexPositions[i + 1] *= scale;\n    vertexPositions[i + 2] = vertexPositions[i + 2] * scale + translation;\n  }\n\n  // Scale and translate the texture coordinates.\n  scale = params.radius / (params.radius + params.capsuleEndPointsDistance);\n  translation = 0;\n  for (let i = 1, count = textureCoordinates.length; i < count; i += 2) {\n    textureCoordinates[i] = textureCoordinates[i] * scale + translation;\n  }\n\n  const elementCount = vertexIndices ? vertexIndices.length : vertexPositions.length / 3;\n\n  return {\n    vertexPositions: vertexPositions,\n    vertexNormals: vertexNormals,\n    textureCoordinates: textureCoordinates,\n    vertexIndices: vertexIndices,\n    elementCount: elementCount\n  };\n}\n\n/**\n * @param {CapsuleRenderableShapeParams} params\n * @returns {RenderableShape}\n */\nfunction _calculateCapsuleMiddleShape(params) {\n  let scale;\n  let translation;\n\n  // Calculate the positions.\n  translation = params.capsuleEndPointsDistance / 2;\n  const individualVertexPositions = calculateCylindricalSection(\n      -translation, translation, 0, params.divisionsCount, TWO_PI / params.divisionsCount);\n\n  let vertexPositions;\n  let vertexIndices;\n  let vertexNormals;\n\n  // Calculate the vertex indices and normals.\n  if (!params.isUsingSphericalNormals) {\n    // If we use orthogonal normals, then we cannot use vertexIndices.\n    vertexPositions = individualVertexPositions;\n    vertexIndices = null;\n    vertexNormals = calculateOrthogonalVertexNormals(vertexPositions);\n  } else {\n    const positionsAndIndices = dedupVertexArrayWithPositionsAndIndicesArrays(\n        individualVertexPositions);\n    vertexPositions = positionsAndIndices.vertexPositions;\n    vertexIndices = positionsAndIndices.vertexIndices;\n\n    // Calculate the vertex normals.\n    vertexNormals = vertexPositions.map((coord, index) => index % 3 === 2 ? 0 : coord);\n  }\n\n  // Calculate the texture coordinates.\n  const textureCoordinates = calculateCylindricalTextureCoordinates(vertexPositions);\n\n  // Scale the x and y position coordinates.\n  scale = params.radius;\n  for (let i = 0, count = vertexPositions.length; i < count; i += 3) {\n    vertexPositions[i] *= scale;\n    vertexPositions[i + 1] *= scale;\n  }\n\n  // Scale and translate the texture coordinates.\n  scale = params.capsuleEndPointsDistance / (params.radius + params.capsuleEndPointsDistance);\n  translation = (1 - scale) / 2;\n  for (let i = 1, count = textureCoordinates.length; i < count; i += 2) {\n    textureCoordinates[i] = textureCoordinates[i] * scale + translation;\n  }\n\n  const elementCount = vertexIndices ? vertexIndices.length : vertexPositions.length / 3;\n\n  return {\n    vertexPositions: vertexPositions,\n    vertexNormals: vertexNormals,\n    textureCoordinates: textureCoordinates,\n    vertexIndices: vertexIndices,\n    elementCount: elementCount\n  };\n}\n\nconst capsuleRenderableShapeFactory = {\n  shapeId: 'CAPSULE',\n\n  /**\n   * @param {CapsuleRenderableShapeParams} params\n   * @returns {RenderableShape}\n   */\n  getRenderableShape: (params) => {\n    // Ensure the divisions count is even.\n    if (params.divisionsCount % 2 === 1) {\n      params.divisionsCount++;\n    }\n\n    // The capsule's sub-shapes.\n    const topShape = _calculateCapsuleTopShape(params);\n    const bottomShape = _calculateCapsuleBottomShape(params);\n    const middleShape = _calculateCapsuleMiddleShape(params);\n\n    // Concatenate positions, normals, texture coordinates, and indices.\n    const vertexPositions = topShape.vertexPositions.concat(middleShape.vertexPositions, \n        bottomShape.vertexPositions);\n    const vertexNormals = topShape.vertexNormals.concat(middleShape.vertexNormals,\n        bottomShape.vertexNormals);\n    const textureCoordinates = topShape.textureCoordinates.concat(middleShape.textureCoordinates,\n        bottomShape.textureCoordinates);\n    const vertexIndices = topShape.vertexIndices\n        ? topShape.vertexIndices.concat(middleShape.vertexIndices, bottomShape.vertexIndices)\n        : null;\n    const elementCount = topShape.elementCount + middleShape.elementCount + bottomShape.elementCount;\n\n    return {\n      vertexPositions: vertexPositions,\n      vertexNormals: vertexNormals,\n      textureCoordinates: textureCoordinates,\n      vertexIndices: vertexIndices,\n      elementCount: elementCount\n    };\n  },\n\n  /**\n   * @param {CapsuleRenderableShapeParams} params\n   * @returns {string}\n   */\n  getCacheId(params) {\n    return `${getCacheKey(params)}:${params.divisionsCount}`;\n  }\n};\n\nexport {capsuleRenderableShapeFactory};\n\n/**\n * @typedef {SphericalRenderableShapeParams} CapsuleRenderableShapeParams\n * @property {number} radius\n * @property {number} capsuleEndPointsDistance The distance between the centers of the spheres on\n * either end of the capsule.\n */\n","/**\n * This model defines a shape configuration factory for a cube.\n *\n * This cube is one unit long on each side.\n */\n\nimport {getCacheKey} from '../renderable-shape-store';\n\nconst VERTEX_COORDINATE = 0.5;\n\nconst vertexPositions = [\n  // Front face\n  -VERTEX_COORDINATE, -VERTEX_COORDINATE, VERTEX_COORDINATE,\n  VERTEX_COORDINATE,  -VERTEX_COORDINATE, VERTEX_COORDINATE,\n  VERTEX_COORDINATE,  VERTEX_COORDINATE,  VERTEX_COORDINATE,\n  -VERTEX_COORDINATE, VERTEX_COORDINATE,  VERTEX_COORDINATE,\n  // Back face\n  -VERTEX_COORDINATE, -VERTEX_COORDINATE, -VERTEX_COORDINATE,\n  -VERTEX_COORDINATE, VERTEX_COORDINATE,  -VERTEX_COORDINATE,\n  VERTEX_COORDINATE,  VERTEX_COORDINATE,  -VERTEX_COORDINATE,\n  VERTEX_COORDINATE,  -VERTEX_COORDINATE, -VERTEX_COORDINATE,\n  // Top face\n  -VERTEX_COORDINATE, VERTEX_COORDINATE,  -VERTEX_COORDINATE,\n  -VERTEX_COORDINATE, VERTEX_COORDINATE,  VERTEX_COORDINATE,\n  VERTEX_COORDINATE,  VERTEX_COORDINATE,  VERTEX_COORDINATE,\n  VERTEX_COORDINATE,  VERTEX_COORDINATE,  -VERTEX_COORDINATE,\n  // Bottom face\n  -VERTEX_COORDINATE, -VERTEX_COORDINATE, -VERTEX_COORDINATE,\n  VERTEX_COORDINATE,  -VERTEX_COORDINATE, -VERTEX_COORDINATE,\n  VERTEX_COORDINATE,  -VERTEX_COORDINATE, VERTEX_COORDINATE,\n  -VERTEX_COORDINATE, -VERTEX_COORDINATE, VERTEX_COORDINATE,\n  // Right face\n  VERTEX_COORDINATE,  -VERTEX_COORDINATE, -VERTEX_COORDINATE,\n  VERTEX_COORDINATE,  VERTEX_COORDINATE,  -VERTEX_COORDINATE,\n  VERTEX_COORDINATE,  VERTEX_COORDINATE,  VERTEX_COORDINATE,\n  VERTEX_COORDINATE,  -VERTEX_COORDINATE, VERTEX_COORDINATE,\n  // Left face\n  -VERTEX_COORDINATE, -VERTEX_COORDINATE, -VERTEX_COORDINATE,\n  -VERTEX_COORDINATE, -VERTEX_COORDINATE, VERTEX_COORDINATE,\n  -VERTEX_COORDINATE, VERTEX_COORDINATE,  VERTEX_COORDINATE,\n  -VERTEX_COORDINATE, VERTEX_COORDINATE,  -VERTEX_COORDINATE\n];\n\nconst orthogonalVertexNormals = [\n  // Front face\n  0, 0, 1,\n  0, 0, 1,\n  0, 0, 1,\n  0, 0, 1,\n  // Back face\n  0, 0, -1,\n  0, 0, -1,\n  0, 0, -1,\n  0, 0, -1,\n  // Top face\n  0, 1, 0,\n  0, 1, 0,\n  0, 1, 0,\n  0, 1, 0,\n  // Bottom face\n  0, -1, 0,\n  0, -1, 0,\n  0, -1, 0,\n  0, -1, 0,\n  // Right face\n  1, 0, 0,\n  1, 0, 0,\n  1, 0, 0,\n  1, 0, 0,\n  // Left face\n  -1, 0, 0,\n  -1, 0, 0,\n  -1, 0, 0,\n  -1, 0, 0\n];\n\nconst textureCoordinates = [\n  // Front face\n  1, 0,\n  0, 0,\n  0, 1,\n  1, 1,\n  // Back face\n  1, 0,\n  0, 0,\n  0, 1,\n  1, 1,\n  // Top face\n  1, 0,\n  0, 0,\n  0, 1,\n  1, 1,\n  // Bottom face\n  1, 0,\n  0, 0,\n  0, 1,\n  1, 1,\n  // Right face\n  1, 0,\n  0, 0,\n  0, 1,\n  1, 1,\n  // Left face\n  1, 0,\n  0, 0,\n  0, 1,\n  1, 1\n];\n\n// This array defines each face as two triangles, using the indices into the vertex array\n// to specify each triangle's position.\nconst vertexIndices = [\n  // Front face\n  0,  1,  2,\n  0,  2,  3,\n  // Back face\n  4,  5,  6,\n  4,  6,  7,\n  // Top face\n  8,  9,  10,\n  8,  10, 11,\n  // Bottom face\n  12, 13, 14,\n  12, 14, 15,\n  // Right face\n  16, 17, 18,\n  16, 18, 19,\n  // Left face\n  20, 21, 22,\n  20, 22, 23\n];\n\nconst cubeRenderableShapeFactory = {\n  shapeId: 'CUBE',\n\n  /**\n   * @param {RenderableShapeConfig} params\n   * @returns {RenderableShape}\n   */\n  getRenderableShape: params => {\n    const vertexNormals = params.isUsingSphericalNormals ? vertexPositions : orthogonalVertexNormals;\n\n    return {\n      vertexPositions: vertexPositions,\n      vertexNormals: vertexNormals,\n      textureCoordinates: textureCoordinates,\n      vertexIndices: vertexIndices,\n      elementCount: vertexIndices.length\n    };\n  },\n\n  /**\n   * @param {RenderableShapeConfig} params\n   * @returns {string}\n   */\n  getCacheId(params) {\n    return getCacheKey(params);\n  }\n};\n\nexport {cubeRenderableShapeFactory};\n","/**\n * This model defines a shape configuration factory for a regular icosahedron.\n *\n * The shape is centered around the origin.\n */\n\nimport {\n  calculateLatLongTextureCoordinates,\n  calculateOrthogonalVertexNormals,\n  expandVertexIndicesAroundLongitudeSeam,\n  expandVertexIndicesToDuplicatePositions,\n} from '../../../util';\nimport {getCacheKey} from '../renderable-shape-store';\n\n// The corners of a unit icosahedron with vertices aligned with the y-axis.\nconst individualVertexPositions = [\n  -0.525731086730957, -0.7236068248748779, 0.4472135901451111,\n  0.525731086730957, -0.7236068248748779, 0.4472135901451111,\n  -0.525731086730957, 0.7236068248748779, -0.4472135901451111,\n  0.525731086730957, 0.7236068248748779, -0.4472135901451111,\n  0, 0, 1,\n  0, 0.8944271802902222, 0.44721361994743347,\n  0, -0.8944271802902222, -0.44721361994743347,\n  0, 0, -1,\n  0.8506508469581604, 0.27639320492744446, 0.4472135901451111,\n  -0.8506508469581604, 0.27639320492744446, 0.4472135901451111,\n  0.8506508469581604, -0.27639320492744446, -0.4472135901451111,\n  -0.8506508469581604, -0.27639320492744446, -0.4472135901451111\n];\n\nconst individualVertexIndices = [\n  1,  4,  0,\n  4,  9,  0,\n  4,  5,  9,\n  8,  5,  4,\n  1,  8,  4,\n  1,  10, 8,\n  10, 3,  8,\n  8,  3,  5,\n  3,  2,  5,\n  3,  7,  2,\n  3,  10, 7,\n  10, 6,  7,\n  6,  11, 7,\n  6,  0,  11,\n  6,  1,  0,\n  10, 1,  6,\n  11, 0,  9,\n  2,  11, 9,\n  5,  2,  9,\n  11, 2,  7\n];\n\nlet vertexPositionsExpandedAroundSeam = null;\nlet vertexIndicesExpandedAroundSeam = null;\nlet textureCoordinates = null;\n\nconst icosahedronRenderableShapeFactory = {\n  shapeId: 'ICOSAHEDRON',\n\n  /**\n   * @param {RenderableShapeConfig} params\n   * @returns {RenderableShape}\n   */\n  getRenderableShape: params => {\n    let vertexPositions;\n    let vertexIndices;\n\n    if (!vertexPositionsExpandedAroundSeam) {\n      // Calculate the modified positions and indices.\n      const positionsAndIndices = expandVertexIndicesAroundLongitudeSeam(\n          individualVertexPositions, individualVertexIndices);\n      vertexPositionsExpandedAroundSeam = positionsAndIndices.vertexPositions;\n      vertexIndicesExpandedAroundSeam = positionsAndIndices.vertexIndices;\n    }\n\n    vertexPositions = vertexPositionsExpandedAroundSeam;\n    vertexIndices = vertexIndicesExpandedAroundSeam;\n\n    let vertexNormals;\n    // If we use orthogonal normals, then we cannot use vertexIndices.\n    if (!params.isUsingSphericalNormals) {\n      vertexPositions = expandVertexIndicesToDuplicatePositions(vertexPositions,\n          vertexIndices);\n      vertexIndices = null;\n      vertexNormals = calculateOrthogonalVertexNormals(vertexPositions);\n    } else {\n      vertexNormals = vertexPositions;\n    }\n\n    textureCoordinates = textureCoordinates\n        ? textureCoordinates\n        : calculateLatLongTextureCoordinates(vertexPositions);\n\n    const elementCount = vertexIndices ? vertexIndices.length : vertexPositions.length / 3;\n\n    return {\n      vertexPositions: vertexPositions,\n      vertexNormals: vertexNormals,\n      textureCoordinates: textureCoordinates,\n      vertexIndices: vertexIndices,\n      elementCount: elementCount\n    };\n  },\n\n  /**\n   * @param {RenderableShapeConfig} params\n   * @returns {string}\n   */\n  getCacheId(params) {\n    return getCacheKey(params);\n  }\n};\n\nexport {icosahedronRenderableShapeFactory};\n","/**\n * This module defines logic that creates a spherical shape configuration by taking a shape,\n * sub-dividing each of its triangles, and projecting each new vertex onto the edge of a sphere.\n *\n * This is technically only an \"icosphere\" if the starting shape is an icosahedron.\n *\n * This shape also is known as a \"geosphere\".\n *\n * The shape is centered around the origin.\n */\n\nimport {\n  deepCopy,\n  calculateLatLongTextureCoordinates,\n  calculateOrthogonalVertexNormals,\n  expandVertexIndicesAroundLongitudeSeam,\n  expandVertexIndicesToDuplicatePositions,\n  tesselateSphere,\n} from '../../../util';\nimport {getCacheKey} from '../renderable-shape-store';\nimport {renderableShapeFactory} from '../renderable-shape-factory';\n\nconst icosphereRenderableShapeFactory = {\n  shapeId: 'ICOSPHERE',\n\n  /**\n   * @param {IcosphereRenderableShapeParams} params\n   * @returns {RenderableShape}\n   */\n  getRenderableShape: params => {\n    params.divisionsCount = Math.max(params.divisionsCount, 1);\n\n    const copyParams = deepCopy(params);\n    copyParams.shapeId = params.baseShapeId || 'ICOSAHEDRON';\n    const baseRenderableShape = renderableShapeFactory.getRenderableShape(copyParams);\n\n    // Calculate the positions and indices.\n    let {vertexPositions, vertexIndices} = tesselateSphere(params.divisionsCount,\n        baseRenderableShape.vertexPositions, baseRenderableShape.vertexIndices);\n    ({vertexPositions, vertexIndices} = expandVertexIndicesAroundLongitudeSeam(\n        vertexPositions, vertexIndices));\n\n    let vertexNormals;\n    // If we use orthogonal normals, then we cannot use vertexIndices.\n    if (!params.isUsingSphericalNormals) {\n      vertexPositions = expandVertexIndicesToDuplicatePositions(vertexPositions,\n          vertexIndices);\n      vertexIndices = null;\n      vertexNormals = calculateOrthogonalVertexNormals(vertexPositions);\n    } else {\n      vertexNormals = vertexPositions;\n    }\n\n    const textureCoordinates = calculateLatLongTextureCoordinates(vertexPositions);\n\n    const elementCount = vertexIndices ? vertexIndices.length : vertexPositions.length / 3;\n\n    return {\n      vertexPositions: vertexPositions,\n      vertexNormals: vertexNormals,\n      textureCoordinates: textureCoordinates,\n      vertexIndices: vertexIndices,\n      elementCount: elementCount\n    };\n  },\n\n  /**\n   * @param {IcosphereRenderableShapeParams} params\n   * @returns {string}\n   */\n  getCacheId(params) {\n    return `${getCacheKey(params)}:${params.divisionsCount}`;\n  }\n};\n\nexport {icosphereRenderableShapeFactory};\n\n/**\n * @typedef {SphericalRenderableShapeParams} IcosphereRenderableShapeParams\n * @property {string} baseShapeId The ID of the base renderable shape that will be sub-divided to\n * create this icosphere shape.\n */\n","import {\n  calculateLatLongTextureCoordinates,\n  calculateOrthogonalVertexNormals,\n  calculateSphericalSection,\n  dedupVertexArrayWithPositionsAndIndicesArrays,\n  TWO_PI,\n} from '../../../util';\nimport {getCacheKey} from '../renderable-shape-store';\n\n/**\n * This module defines a configuration factory for a spherical shape whose vertices lie along\n * latitude and longitude lines.\n *\n * This shape also is known as a \"UV sphere\".\n *\n * The shape is centered around the origin with the poles aligned with the z-axis.\n */\n\n/**\n * @param {number} divisionsCount\n * @returns {Array.<Number>}\n * @private\n */\nfunction _calculateLatLongSpherePositions(divisionsCount) {\n  const deltaPitch = Math.PI / divisionsCount;\n  const deltaAzimuth = TWO_PI / divisionsCount;\n\n  return calculateSphericalSection(\n      0, divisionsCount, deltaPitch,\n      0, divisionsCount, deltaAzimuth);\n}\n\nconst latLongSphereRenderableShapeFactory = {\n  shapeId: 'LAT_LONG_SPHERE',\n\n  /**\n   * @param {SphericalRenderableShapeParams} params\n   * @returns {RenderableShape}\n   */\n  getRenderableShape: params => {\n    // Calculate the positions.\n    const individualVertexPositions = _calculateLatLongSpherePositions(params.divisionsCount);\n\n    // Calculate the indices and normals.\n    let vertexPositions;\n    let vertexIndices;\n    let vertexNormals;\n    if (!params.isUsingSphericalNormals) {\n      // If we use orthogonal normals, then we cannot use vertexIndices.\n      vertexPositions = individualVertexPositions;\n      vertexIndices = null;\n      vertexNormals = calculateOrthogonalVertexNormals(vertexPositions);\n    } else {\n      ({vertexPositions, vertexIndices} = dedupVertexArrayWithPositionsAndIndicesArrays(\n          individualVertexPositions));\n      vertexNormals = vertexPositions;\n    }\n\n    const textureCoordinates = calculateLatLongTextureCoordinates(vertexPositions);\n\n    const elementCount = vertexIndices ? vertexIndices.length : vertexPositions.length / 3;\n\n    return {\n      vertexPositions: vertexPositions,\n      vertexNormals: vertexNormals,\n      textureCoordinates: textureCoordinates,\n      vertexIndices: vertexIndices,\n      elementCount: elementCount\n    };\n  },\n\n  /**\n   * @param {SphericalRenderableShapeParams} params\n   * @returns {string}\n   */\n  getCacheId(params) {\n    return `${getCacheKey(params)}:${params.divisionsCount}`;\n  }\n};\n\nexport {latLongSphereRenderableShapeFactory};\n","import {calculateOrthogonalVertexNormals} from '../../../util';\nimport {getCacheKey} from '../renderable-shape-store';\n\n/**\n * This model defines a shape configuration factory for a regular tetrahedron.\n *\n * The shape is centered around the origin.\n */\n\n// ||(VERTEX_COORDINATE, VERTEX_COORDINATE, VERTEX_COORDINATE)|| = 1\nconst VERTEX_COORDINATE = 0.5773502588272095;\n\nconst vertexPositions = [\n  // Left-top-near face\n  VERTEX_COORDINATE,  VERTEX_COORDINATE,  VERTEX_COORDINATE,\n  -VERTEX_COORDINATE, -VERTEX_COORDINATE, VERTEX_COORDINATE,\n  -VERTEX_COORDINATE, VERTEX_COORDINATE,  -VERTEX_COORDINATE,\n\n  // Right-top-far face\n  VERTEX_COORDINATE,  VERTEX_COORDINATE,  VERTEX_COORDINATE,\n  -VERTEX_COORDINATE, VERTEX_COORDINATE,  -VERTEX_COORDINATE,\n  VERTEX_COORDINATE,  -VERTEX_COORDINATE, -VERTEX_COORDINATE,\n\n  // Right-bottom-near face\n  VERTEX_COORDINATE,  VERTEX_COORDINATE,  VERTEX_COORDINATE,\n  VERTEX_COORDINATE,  -VERTEX_COORDINATE, -VERTEX_COORDINATE,\n  -VERTEX_COORDINATE, -VERTEX_COORDINATE, VERTEX_COORDINATE,\n\n  // Left-bottom-far face\n  -VERTEX_COORDINATE, -VERTEX_COORDINATE, VERTEX_COORDINATE,\n  VERTEX_COORDINATE, -VERTEX_COORDINATE, -VERTEX_COORDINATE,\n  -VERTEX_COORDINATE, VERTEX_COORDINATE, -VERTEX_COORDINATE\n];\n\n// 1 - Math.sqrt(3) / 2\nconst TEXTURE_BASE_COORDINATE = 0.13397459621;\n\nconst textureCoordinates = [\n  // Left-top-near face\n  0, TEXTURE_BASE_COORDINATE,\n  0.5, 1,\n  1, TEXTURE_BASE_COORDINATE,\n\n  // Right-top-far face\n  0, TEXTURE_BASE_COORDINATE,\n  0.5, 1,\n  1, TEXTURE_BASE_COORDINATE,\n\n  // Right-bottom-near face\n  0, TEXTURE_BASE_COORDINATE,\n  0.5, 1,\n  1, TEXTURE_BASE_COORDINATE,\n\n  // Left-bottom-far face\n  0, TEXTURE_BASE_COORDINATE,\n  0.5, 1,\n  1, TEXTURE_BASE_COORDINATE\n];\n\nconst tetrahedronRenderableShapeFactory = {\n  shapeId: 'TETRAHEDRON',\n\n  /**\n   * @param {RenderableShapeConfig} params\n   * @returns {RenderableShape}\n   */\n  getRenderableShape: params => {\n    const vertexNormals = params.isUsingSphericalNormals\n        ? vertexPositions\n        : calculateOrthogonalVertexNormals(vertexPositions);\n\n    return {\n      vertexPositions: vertexPositions,\n      vertexNormals: vertexNormals,\n      textureCoordinates: textureCoordinates,\n      vertexIndices: null,\n      elementCount: vertexPositions.length / 3\n    };\n  },\n\n  /**\n   * @param {RenderableShapeConfig} params\n   * @returns {string}\n   */\n  getCacheId(params) {\n    return getCacheKey(params);\n  }\n};\n\nexport {tetrahedronRenderableShapeFactory};\n","import {\n  animator,\n  PersistentAnimationJob\n}\nfrom 'lsl-animatex';\nimport { PhysicsEngine } from 'lsl-physx';\nimport {\n  ProgramWrapper,\n  programWrapperStore,\n  textureStore\n}\nfrom '../program-wrapper';\nimport {\n  bindFramebuffer,\n  bindGLContextToViewportDimensions,\n  getWebGLContext,\n  getViewportHeight,\n  getViewportWidth,\n}\nfrom '../util';\n\n/**\n * This top-level Controller class initializes and runs the rest of the app.\n */\nclass GrafxController extends PersistentAnimationJob {\n  constructor() {\n    super();\n\n    this._canvas = null;\n    this._gl = null;\n    this._scene = null;\n    this._currentProgramWrapper = null;\n  }\n\n  /**\n   * Initializes the app. After this completes successfully, call run to actually start the app.\n   *\n   * @param {HTMLCanvasElement} canvas\n   * @param {Array.<ProgramWrapperConfig>} programConfigs Configurations for program wrappers that\n   * should be pre-cached before starting the rest of the app.\n   * @param {Array.<String>} texturePaths Texture images that should be pre-cached before\n   * starting the rest of the app.\n   * @param {Function.<Scene>} sceneFactory\n   * @returns {Promise}\n   */\n  initialize(canvas, programConfigs, texturePaths, sceneFactory) {\n    this._canvas = canvas;\n\n    return Promise.resolve()\n      .then(() => this._setUpWebGLContext())\n      .then(() => Promise.all([\n        this._preCachePrograms(programConfigs),\n        this._preCacheTextures(texturePaths)\n      ]))\n      .then(() => this._setUpScene(sceneFactory));\n  }\n\n  destroy() {}\n\n  reset() {\n    // FIXME: Will it be easier to replace this with initialize?\n    this._scene.reset();\n  }\n\n  /**\n   * Runs the app. This should be called after initialize.\n   *\n   * A few things happen if this is run in dev mode:\n   * - The draw and update steps of each frame are wrapped in a try/catch block.\n   * - This method returns a Promise that rejects if an error is throw during any update or draw\n   *   step and resolves when this controller has finished (currently never)\n   */\n  run() {\n    this._startAnimator();\n  }\n\n  _startAnimator() { // FIXME: Decouple physx\n    animator.startJob(PhysicsEngine.instance);\n    animator.startJob(this);\n  }\n\n  /**\n   * Updates the scene.\n   *\n   * This updates all of the current parameters for each component in the scene for the current\n   * frame. However, this does not render anything. Rendering is done by a following call to the\n   * draw function.\n   *\n   * @param {DOMHighResTimeStamp} currentTime\n   * @param {DOMHighResTimeStamp} deltaTime\n   */\n  update(currentTime, deltaTime) {\n    this._scene.updateSelfAndChildren(currentTime, deltaTime);\n  }\n\n  /**\n   * Draws the scene.\n   *\n   * This renders the current frame for all components in the scene. This assumes that all relevant\n   * parameter updates for this frame have already been computed by a previous call to _updateScene.\n   */\n  draw() {\n    // Clear the canvas before we start drawing on it.\n    this._gl.clear(this._gl.COLOR_BUFFER_BIT | this._gl.DEPTH_BUFFER_BIT);\n\n    // If we are using a post-processing program, then we need to render models to a framebuffer\n    // rather than directly to the canvas.\n    if (programWrapperStore.isUsingPostProcessingPrograms) {\n      bindFramebuffer(this._gl, programWrapperStore.modelsFramebuffer);\n      this._gl.clear(this._gl.COLOR_BUFFER_BIT | this._gl.DEPTH_BUFFER_BIT);\n    }\n\n    // Draw each program separately. This minimizes how many times we need to switch programs by\n    // grouping all of the draw calls for models that use the same program/shaders.\n    programWrapperStore.forEachModelProgram((programWrapper, drawFrameHandlers) =>\n      this._drawModelProgram(programWrapper, drawFrameHandlers));\n    programWrapperStore.forEachPostProcessingProgram(\n      (programWrapper) => this._drawPostProcessingProgram(programWrapper));\n  }\n\n  /**\n   * For the given program key, this binds the registered shader program to the GL rendering context\n   * and calls each of the registered draw-frame handlers.\n   *\n   * @param {ProgramWrapper|GroupProgramWrapper} programWrapper\n   * @param {Set.<Function>} [drawFrameHandlers]\n   * @private\n   */\n  _drawModelProgram(programWrapper, drawFrameHandlers) {\n    // Check whether we need to switch programs (always true if there is more than one program\n    // registered).\n    if (this._currentProgramWrapper !== programWrapper) {\n      programWrapper.setProgram(this._gl);\n      this._currentProgramWrapper = programWrapper;\n    }\n\n    // Call each of the draw-frame handlers that use the current rendering program.\n    drawFrameHandlers.forEach(drawFrameHandler => drawFrameHandler());\n  }\n\n  /**\n   * For the given program key, this binds the registered shader program to the GL rendering context\n   * and calls each of the registered draw-frame handlers.\n   *\n   * @param {ProgramWrapper|GroupProgramWrapper} programWrapper\n   * @private\n   */\n  _drawPostProcessingProgram(programWrapper) {\n    this._currentProgramWrapper = programWrapper;\n    programWrapper.draw(this._gl);\n  }\n\n  /**\n   * Initializes the WebGL rendering context.\n   *\n   * @private\n   */\n  _setUpWebGLContext() {\n    // Get the WebGL rendering context.\n    try {\n      this._gl = getWebGLContext(this._canvas);\n    }\n    catch (e) {\n      alert('WebGL is not supported by your browser! :(');\n      throw e;\n    }\n\n    // Have the canvas context match the resolution of the window's viewport.\n    bindGLContextToViewportDimensions(this._canvas, this._gl, () => this._updateAspectRatio());\n\n    // Clear everything to black.\n    this._gl.clearColor(0, 0, 0, 1);\n    this._gl.clearDepth(1);\n\n    // Enable depth testing.\n    this._gl.enable(this._gl.DEPTH_TEST);\n    this._gl.depthFunc(this._gl.LEQUAL);\n  }\n\n  /**\n   * Loads, compiles, caches, and initializes some rendering programs.\n   *\n   * @param {Array.<ProgramWrapperConfig>} programConfigs\n   * @returns {Promise}\n   * @private\n   */\n  _preCachePrograms(programConfigs) {\n    const promises =\n      programConfigs.map(config => programWrapperStore.loadProgramWrapper(this._gl, config));\n    return Promise.all(promises);\n  }\n\n  /**\n   * Loads, compiles, and caches some textures.\n   *\n   * @param {Array.<String>} texturePaths\n   * @returns {Promise}\n   * @private\n   */\n  _preCacheTextures(texturePaths) {\n    return Promise.all(texturePaths\n      .map(texturePath => textureStore.loadTexture(this._gl, texturePath)));\n  }\n\n  /**\n   * Initializes the scene.\n   *\n   * @param {Function.<Scene>} sceneFactory\n   * @returns {Promise}\n   * @abstract\n   * @protected\n   */\n  _setUpScene(sceneFactory) {\n    // Extending classes should implement this method.\n    throw new TypeError('Method not implemented');\n  }\n\n  /**\n   * @protected\n   */\n  _updateAspectRatio() {\n    this._scene.camera.aspectRatio = getViewportWidth() / getViewportHeight();\n    _resizeFramebuffersToMatchViewportSize(this._gl);\n  }\n\n  /**\n   * @returns {mat4}\n   * @protected\n   */\n  _getViewMatrix() {\n    return this._scene.camera.viewMatrix;\n  }\n\n  /**\n   * @returns {mat4}\n   * @protected\n   */\n  _getProjectionMatrix() {\n    return this._scene.camera.projectionMatrix;\n  }\n}\n\n/**\n * @param {WebGLRenderingContext} gl\n * @private\n */\nfunction _resizeFramebuffersToMatchViewportSize(gl) {\n  if (programWrapperStore.isUsingPostProcessingPrograms) {\n    const width = getViewportWidth();\n    const height = getViewportHeight();\n\n    // Update the per-model framebuffer texture.\n    const texture = programWrapperStore.modelsTexture;\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, width, height, 0, gl.RGBA, gl.UNSIGNED_BYTE, null);\n\n    // Update the per-model framebuffer depth render buffer.\n    const renderBuffer = programWrapperStore.modelsRenderBuffer;\n    gl.bindRenderbuffer(gl.RENDERBUFFER, renderBuffer);\n    gl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_COMPONENT16, width, height);\n\n    // Update the post-processing framebuffer textures.\n    programWrapperStore.forEachPostProcessingProgram(programWrapper => {\n      programWrapper.config.childrenFramebufferIds.forEach(id => {\n        const texture = programWrapperStore.getTexture(id);\n        gl.bindTexture(gl.TEXTURE_2D, texture);\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, width, height, 0, gl.RGBA, gl.UNSIGNED_BYTE, null);\n      });\n    });\n  }\n}\n\nexport { GrafxController };\n","/**\n * This class defines a light source.\n */\nclass Light {\n  constructor() {\n    // TODO\n  }\n\n  // TODO: Implement this.\n}\n\nexport {Light};\n","import { ModelGroupController } from '../models';\n\n/**\n * This class handles the overall scene.\n */\nclass Scene extends ModelGroupController {\n  /**\n   * @param {ModelGroupControllerConfig} modelControllerParams\n   */\n  constructor(modelControllerParams) {\n    super(modelControllerParams);\n\n    // Scene is an abstract class. It should not be instantiated directly.\n    if (new.target === Scene) {\n      throw new TypeError('Cannot construct Scene instances directly');\n    }\n\n    this._getWorldTransform = () => this.worldTransform;\n    this._lights = [];\n    this._camera = null;\n  }\n\n  reset() {\n    super.reset();\n    this._lights.forEach(light => light.reset());\n    this._camera.reset();\n  }\n\n  /**\n   * @param {DOMHighResTimeStamp} currentTime\n   * @param {DOMHighResTimeStamp} deltaTime\n   */\n  updateChildren(currentTime, deltaTime) {\n    super.updateChildren(currentTime, deltaTime);\n    this._camera.update(currentTime, deltaTime);\n  }\n\n  /** @returns {Camera} */\n  get camera() {\n    return this._camera;\n  }\n}\n\nexport { Scene };\n","export * from './src/geometry';\nexport * from './src/gl-util';\nexport * from './src/hash-map';\nexport * from './src/util';\n","/**\n * This module defines a collection of static geometry utility functions.\n */\n\nimport {randomFloatInRange} from './util';\n\nconst EPSILON = 0.0000001;\nconst DEG_TO_RAD_RATIO = Math.PI / 180;\nconst RAD_TO_DEG_RATIO = 180 / Math.PI;\nconst HALF_PI = Math.PI / 2;\nconst TWO_PI = Math.PI * 2;\n\n/**\n * @param {number} deg\n * @returns {number}\n */\nfunction degToRad(deg) {\n  return deg * DEG_TO_RAD_RATIO;\n}\n\n/**\n * @param {number} rad\n * @returns {number}\n */\nfunction radToDeg(rad) {\n  return rad * RAD_TO_DEG_RATIO;\n}\n\n/**\n * This checks whether two floating-point numbers are close enough that they could be equal if not\n * for round-off errors.\n *\n * @param {number} a\n * @param {number} b\n * @returns {boolean}\n */\nfunction areClose(a, b) {\n  const diff = a - b;\n  return (diff > 0 ? diff : -diff) < EPSILON;\n}\n\n/**\n * @param {vec3} a\n * @param {vec3} b\n * @returns {boolean}\n */\nfunction areVec3sEqual(a, b) {\n  return a[0] === b[0] &&\n      a[1] === b[1] &&\n      a[2] === b[2];\n}\n\n/**\n * @param {vec3} v\n * @returns {string}\n */\nfunction vec3ToString(v) {\n  return `(${v[0]},${v[1]},${v[2]})`;\n}\n\n/**\n * TODO: This finds a random point with uniform probability within a cubic area, which biases the resulting vector toward the corners of this cubic area. Re-write this to produce an unbiased vector.\n *\n * @param {number} [scale=1]\n * @returns {vec3}\n */\nfunction createRandomVec3(scale = 1) {\n  const v = vec3.create();\n  return setRandomVec3(v, scale);\n}\n\n/**\n * TODO: This finds a random point with uniform probability within a cubic area, which biases the resulting vector toward the corners of this cubic area. Re-write this to produce an unbiased vector.\n *\n * @param {vec3} v\n * @param {number} [scale=1]\n * @returns {vec3}\n */\nfunction setRandomVec3(v, scale = 1) {\n  vec3.set(v, Math.random() - 0.5, Math.random() - 0.5, Math.random() - 0.5);\n  vec3.normalize(v, v);\n  vec3.scale(v, v, scale);\n  return v;\n}\n\n/**\n * Calculates a vector that is orthogonal to the given vector.\n *\n * TODO: This finds a random point with uniform probability within a cubic area, which biases the resulting vector toward the corners of this cubic area. Re-write this to produce an unbiased vector.\n *\n * @param {vec3} basis\n * @param {number} [scale=1]\n * @returns {vec3}\n */\nfunction createRandomOrthogonalVec3(basis, scale = 1) {\n  const result = vec3.create();\n  return setRandomOrthogonalVec3(result, basis, scale);\n}\n\n/**\n * Calculates a vector that is orthogonal to the given vector.\n *\n * TODO: This finds a random point with uniform probability within a cubic area, which biases the resulting vector toward the corners of this cubic area. Re-write this to produce an unbiased vector.\n *\n * @param {vec3} result\n * @param {vec3} basis\n * @param {number} [scale=1]\n * @returns {vec3}\n */\nfunction setRandomOrthogonalVec3(result, basis, scale = 1) {\n  setRandomVec3(result);\n  // This is based on the dot and cross products and the fact that the dot product for two\n  // orthogonal vectors is zero.\n  result[2] = -(basis[0] * result[0] + basis[1] * result[1]) / basis[2];\n  vec3.normalize(result, result);\n  vec3.scale(result, result, scale);\n  return result;\n}\n\n/**\n * @param {vec3} avg\n * @param {vec3} range\n * @returns {vec3}\n * @private\n */\nfunction randomVec3InRange(avg, range) {\n  const position = vec3.create();\n  for (let i = 0; i < 3; i++) {\n    const min = avg[i] - range[i] / 2;\n    const max = avg[i] + range[i] / 2;\n    position[i] = randomFloatInRange(min, max);\n  }\n  return position;\n}\n\n/**\n * Rotates the given vector around a random orthogonal axis by a random angle within the given angle\n * bounds.\n *\n * @param {vec3} v\n * @param {number} minRotationAngle\n * @param {number} maxRotationAngle\n */\nfunction addRandomRotationToVector(v, minRotationAngle, maxRotationAngle) {\n  // Create a random orthogonal axis.\n  const rotationAxis = createRandomVec3();\n  vec3.cross(rotationAxis, rotationAxis, v);\n  vec3.normalize(rotationAxis, rotationAxis);\n\n  // Create a random angle.\n  const rotationAngle = randomFloatInRange(minRotationAngle, maxRotationAngle);\n\n  // Create a rotation quaternion.\n  const rotation = quat.create();\n  quat.setAxisAngle(rotation, rotationAxis, rotationAngle);\n\n  // Apply the rotation to the vector.\n  vec3.transformQuat(v, v, rotation);\n}\n\n/**\n * @param {quat} out\n * @param {quat} a\n * @param {quat} b\n * @param {number} scale\n * @returns {quat}\n */\nfunction scaleAndAddQuat(out, a, b, scale) {\n  return quat.set(out,\n      a[0] + b[0] * scale,\n      a[1] + b[1] * scale,\n      a[2] + b[2] * scale,\n      a[3] + b[3] * scale);\n}\n\n/**\n * @param {vec3} v\n * @returns {number}\n */\nfunction getMaxVec3Dimension(v) {\n  let max = v[0] > v[1] ? v[0] : v[1];\n  max = max > v[2] ? max : v[2];\n  return max;\n}\n\nexport {\n  EPSILON,\n  HALF_PI,\n  TWO_PI,\n  degToRad,\n  radToDeg,\n  areClose,\n  areVec3sEqual,\n  vec3ToString,\n  createRandomVec3,\n  setRandomVec3,\n  createRandomOrthogonalVec3,\n  setRandomOrthogonalVec3,\n  randomVec3InRange,\n  addRandomRotationToVector,\n  scaleAndAddQuat,\n  getMaxVec3Dimension,\n};\n","/**\n * This module defines a collection of static general utility functions for WebGL.\n */\n\nimport {HashMap} from './hash-map';\nimport {HALF_PI, TWO_PI} from './geometry';\nimport {debounce, isInDevMode, loadText} from './util';\nimport {programWrapperStore} from '../../program-wrapper/src/program-wrapper-store';\n\nlet viewportWidth = 10;\nlet viewportHeight = 10;\n\n/**\n * @param {HTMLCanvasElement} canvas\n * @returns {?WebGLRenderingContext}\n * @throws If unable to get a WebGL context.\n */\nfunction getWebGLContext(canvas) {\n  const params = {alpha: false};\n  // Try to grab the standard context. If it fails, fallback to the experimental context.\n  return canvas.getContext('webgl', params) || canvas.getContext('experimental-webgl', params);\n}\n\n/**\n * @param {WebGLRenderingContext} gl\n * @returns {?WebGLBuffer}\n * @throws If unable to create a buffer object.\n */\nfunction createBuffer(gl) {\n  const buffer = gl.createBuffer();\n  if (!buffer) {\n    throw new Error('An error occurred creating the buffer object');\n  }\n  return buffer;\n}\n// TODO: use all this helper stuff in the programWrapper logic?\n/**\n * @param {WebGLRenderingContext} gl\n * @param {WebGLProgram} program\n * @param {string} locationName\n * @returns {number}\n * @throws If unable to get an attribute location for the given name.\n */\nfunction getAttribLocation(gl, program, locationName) {\n  const attribLocation = gl.getAttribLocation(program, locationName);\n  if (attribLocation < 0) {\n    throw new Error(`An error occurred getting the attribute location: ${locationName}`);\n  }\n  return attribLocation;\n}\n\n/**\n * @param {WebGLRenderingContext} gl\n * @param {WebGLShader} vertexShader\n * @param {WebGLShader} fragmentShader\n * @returns {WebGLProgram}\n * @throws If unable to link the program.\n */\nfunction buildProgram(gl, vertexShader, fragmentShader) {\n  const program = gl.createProgram();\n  gl.attachShader(program, vertexShader);\n  gl.attachShader(program, fragmentShader);\n  gl.linkProgram(program);\n\n  if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {\n    const infoLog = gl.getProgramInfoLog(program);\n    console.error('An error occurred linking the shader program', infoLog);\n    throw new Error('An error occurred linking the shader program');\n  }\n\n  return program;\n}\n\n/**\n * @param {WebGLRenderingContext} gl\n * @param {string} shaderSource\n * @param {boolean} isFragmentShader\n * @returns {WebGLShader}\n * @throws If unable to compile the shader.\n */\nfunction buildShader(gl, shaderSource, isFragmentShader) {\n  const shaderType = isFragmentShader ? gl.FRAGMENT_SHADER : gl.VERTEX_SHADER;\n  const shader = gl.createShader(shaderType);\n  gl.shaderSource(shader, shaderSource);\n  gl.compileShader(shader);\n\n  if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n    const infoLog = gl.getShaderInfoLog(shader);\n    console.error('An error occurred compiling the shader', infoLog);\n    throw new Error('An error occurred compiling the shader');\n  }\n\n  return shader;\n}\n\n/**\n * Loads a shader program by scouring the current document, looking for a script with the specified\n * ID.\n *\n * @param {WebGLRenderingContext} gl\n * @param {string} url\n * @returns {Promise.<WebGLShader, Error>}\n */\nfunction loadShader(gl, url) {\n  return loadText(url)\n      .then(shaderSource => buildShader(gl, shaderSource, url.endsWith('.frag')));\n}\n\n/**\n * Loads the shader source code from the given URLs, compiles the shader source code, and creates\n * a program from the resulting shaders.\n *\n * @param {WebGLRenderingContext} gl\n * @param {string} vertexShaderUrl\n * @param {string} fragmentShaderUrl\n * @returns {Promise.<WebGLProgram, Error>}\n * @throws If any error occurs while loading and building the shaders and program.\n */\nfunction loadProgram(gl, vertexShaderUrl, fragmentShaderUrl) {\n  return Promise.all([\n        vertexShaderUrl,\n        fragmentShaderUrl\n      ].map(url => loadShader(gl, url)))\n      .then(shaders => {\n        const vertexShader = shaders[0];\n        const fragmentShader = shaders[1];\n\n        return buildProgram(gl, vertexShader, fragmentShader);\n      });\n}\n\n/**\n * Create, bind, and move the given raw data into a WebGL buffer.\n *\n * @param {WebGLRenderingContext} gl\n * @param {Array.<Number>} rawData A plain, flat array containing the data to bind to a buffer.\n * @param {number} [target=gl.ARRAY_BUFFER] An enum describing the type of this buffer; one of:\n *   - gl.ARRAY_BUFFER,\n *   - gl.ELEMENT_ARRAY_BUFFER.\n * @param {number} [usage=gl.STATIC_DRAW] An enum describing how this buffer is going to be used;\n * one of:\n *   - gl.STATIC_DRAW,\n *   - gl.DYNAMIC_DRAW,\n *   - gl.STREAM_DRAW.\n * @returns {WebGLBuffer}\n */\nfunction createBufferFromData(gl, rawData, target, usage) {\n  target = target || gl.ARRAY_BUFFER;\n  usage = usage || gl.STATIC_DRAW;\n  const typedArray = target === gl.ARRAY_BUFFER ? new Float32Array(rawData) : new Uint16Array(rawData);\n\n  const buffer = gl.createBuffer();\n  gl.bindBuffer(target, buffer);\n  gl.bufferData(target, typedArray, usage);\n\n  // Making the original data visible on the buffer object is helpful for debugging.\n  if (isInDevMode) {\n    buffer.rawData = typedArray;\n  }\n\n  return buffer;\n}\n\n/**\n * Adjusts the dimensions of the given element to match those of the viewport. Also, when the\n * viewport is resized, the given element will also be resized to match.\n *\n * @param {HTMLCanvasElement} canvas\n * @param {WebGLRenderingContext} gl\n * @param {Function} onGLResized\n * @param {?Number} [updateInterval=150]\n */\nfunction bindGLContextToViewportDimensions(canvas, gl, onGLResized, updateInterval = 150) {\n  _resizeGLContextToMatchViewportDimensions(canvas, gl);\n  const debouncedResize =\n      debounce(_ => {\n        _resizeGLContextToMatchViewportDimensions(canvas, gl);\n        onGLResized();\n      }, updateInterval);\n  window.addEventListener('resize', debouncedResize);\n}\n\n/**\n * Resizes the given element to match the dimensions of the viewport components.\n *\n * @param {HTMLCanvasElement} canvas\n * @param {WebGLRenderingContext} gl\n * @private\n */\nfunction _resizeGLContextToMatchViewportDimensions(canvas, gl) {\n  // Account for high-definition DPI displays.\n  const devicePixelToCssPixelRatio = window.devicePixelRatio || 1;\n  viewportWidth = Math.floor(canvas.clientWidth * devicePixelToCssPixelRatio);\n  viewportHeight = Math.floor(canvas.clientHeight * devicePixelToCssPixelRatio);\n  canvas.width = viewportWidth;\n  canvas.height = viewportHeight;\n  gl.viewport(0, 0, viewportWidth, viewportHeight);\n}\n\n/**\n * @returns {number}\n */\nfunction getViewportWidth() {\n  return viewportWidth;\n}\n\n/**\n * @returns {number}\n */\nfunction getViewportHeight() {\n  return viewportHeight;\n}\n\n/**\n * Binds a framebuffer to the GL context.\n *\n * @param {WebGLRenderingContext} gl\n * @param {WebGLFramebuffer} framebuffer\n */\nfunction bindFramebuffer(gl, framebuffer, width, height) {\n  // FIXME: Remove or add back in?\n  // width = width || getViewportWidth();\n  // height = height || getViewportHeight();\n\n  gl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);\n  // FIXME: Remove or add back in?\n  // gl.viewport(0, 0, width, height);\n}\n\n/**\n * Creates a framebuffer and attaches a texture to the framebuffer.\n *\n * This means that when we bind to the framebuffer, draw calls will render to the given texture.\n *\n * @param {WebGLRenderingContext} gl\n * @param {WebGLTexture} texture\n * @param {WebGLRenderBuffer} [renderBuffer]\n * @returns {WebGLFramebuffer}\n */\nfunction createFramebuffer(gl, texture, renderBuffer) {\n  const framebuffer = gl.createFramebuffer();\n\n  gl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);\n  gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0);\n\n  if (renderBuffer) {\n    gl.framebufferRenderbuffer(gl.FRAMEBUFFER, gl.DEPTH_ATTACHMENT, gl.RENDERBUFFER, renderBuffer);\n  }\n\n  return framebuffer;\n}\n\n/**\n * Creates a texture for rendering to.\n *\n * @param {WebGLRenderingContext} gl\n * @param {number} [width] Defaults to the viewport width stored in gl-util.\n * @param {number} [height] Defaults to the viewport height stored in gl-util.\n * @returns {WebGLTexture}\n */\nfunction createTextureForRendering(gl, width, height) {\n  width = width || getViewportWidth();\n  height = height || getViewportHeight();\n\n  // TODO: Double-check these params\n  const texture = gl.createTexture();\n  gl.bindTexture(gl.TEXTURE_2D, texture);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n  gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, width, height, 0, gl.RGBA, gl.UNSIGNED_BYTE, null);\n\n  return texture;\n}\n\n/**\n * Creates a render buffer.\n *\n * @param {WebGLRenderingContext} gl\n * @param {number} [width] Defaults to the viewport width stored in gl-util.\n * @param {number} [height] Defaults to the viewport height stored in gl-util.\n * @returns {WebGLRenderBuffer}\n */\nfunction createRenderBuffer(gl, width, height) {\n  width = width || getViewportWidth();\n  height = height || getViewportHeight();\n\n  const renderBuffer = gl.createRenderbuffer();\n  gl.bindRenderbuffer(gl.RENDERBUFFER, renderBuffer);\n  gl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_COMPONENT16, width, height);\n\n  return renderBuffer;\n}\n\nconst _SQUARE_COORDINATES_2D = [\n  0, 0,\n  1, 0,\n  0, 1,\n\n  1, 0,\n  1, 1,\n  0, 1,\n];\n\n/**\n * @param {WebGLRenderingContext} gl\n * @returns {AttributeConfig}\n */\nfunction create2DSquarePositionsConfig(gl) {\n  const positionsBuffer = createBufferFromData(gl, _SQUARE_COORDINATES_2D);\n  return {\n    buffer: positionsBuffer,\n    size: 2,\n    type: gl.FLOAT,\n    normalized: false,\n    stride: 0,\n    offset: 0\n  };\n}\n\n//\n// Geometrical calculations.\n//\n\n/**\n * Given an array of individual vertex positions and an array of vertex indices, creates an expanded\n * array of the positions grouped by the triangles they form.\n *\n * @param {Array.<Number>} individualVertexPositions\n * @param {Array.<Number>} vertexIndices\n * @returns {Array.<Number>}\n */\nfunction expandVertexIndicesToDuplicatePositions(individualVertexPositions, vertexIndices) {\n  const expandedVertexPositions = [];\n\n  for (let i = 0, j = 0, k = 0, count = vertexIndices.length; i < count; i++, k += 3) {\n    j = vertexIndices[i] * 3;\n\n    expandedVertexPositions[k] = individualVertexPositions[j];\n    expandedVertexPositions[k + 1] = individualVertexPositions[j + 1];\n    expandedVertexPositions[k + 2] = individualVertexPositions[j + 2];\n  }\n\n  return expandedVertexPositions;\n}\n\n/**\n * Computes normal vectors that are each orthogonal to the triangles they are a part of.\n *\n * The given vertices should represent individual triangles whose vertices are defined in clockwise\n * order (as seen when looking at the exterior side).\n *\n * @param {Array.<Number>} vertices\n * @returns {Array.<Number>}\n */\nfunction calculateOrthogonalVertexNormals(vertices) {\n  const vertex1 = vec3.create();\n  const vertex2 = vec3.create();\n  const vertex3 = vec3.create();\n  const vectorA = vec3.create();\n  const vectorB = vec3.create();\n  const normal1 = vec3.create();\n  const normal2 = vec3.create();\n  const normal3 = vec3.create();\n\n  const normals = [];\n\n  // Loop over each triangle in the flattened vertex array.\n  for (let i = 0, count = vertices.length; i < count; i += 9) {\n    // Get the vertices of the current triangle from the flattened array.\n    vec3.set(vertex1, vertices[i + 0], vertices[i + 1], vertices[i + 2]);\n    vec3.set(vertex2, vertices[i + 3], vertices[i + 4], vertices[i + 5]);\n    vec3.set(vertex3, vertices[i + 6], vertices[i + 7], vertices[i + 8]);\n\n    // Compute the normals.\n    vec3.subtract(vectorA, vertex3, vertex1);\n    vec3.subtract(vectorB, vertex2, vertex1);\n    vec3.cross(normal1, vectorA, vectorB);\n    vec3.normalize(normal1, normal1);\n\n    vec3.subtract(vectorA, vertex1, vertex2);\n    vec3.subtract(vectorB, vertex3, vertex2);\n    vec3.cross(normal2, vectorA, vectorB);\n    vec3.normalize(normal2, normal2);\n\n    vec3.subtract(vectorA, vertex2, vertex3);\n    vec3.subtract(vectorB, vertex1, vertex3);\n    vec3.cross(normal3, vectorA, vectorB);\n    vec3.normalize(normal3, normal3);\n\n    // Save the normal vectors in a flattened array.\n    normals[i + 0] = normal1[0];\n    normals[i + 1] = normal1[1];\n    normals[i + 2] = normal1[2];\n    normals[i + 3] = normal2[0];\n    normals[i + 4] = normal2[1];\n    normals[i + 5] = normal2[2];\n    normals[i + 6] = normal3[0];\n    normals[i + 7] = normal3[1];\n    normals[i + 8] = normal3[2];\n  }\n\n  return normals;\n}\n\nconst MAX_TEXTURE_V_COORDINATE_DELTA = 0.5;\n\n/**\n * Calculates lat-long texture coordinates for the given vertex positions.\n *\n * @param {Array.<Number>} vertexPositions\n * @returns {Array.<Number>}\n * @private\n */\nfunction calculateLatLongTextureCoordinates(vertexPositions) {\n  const currentVertexPosition = vec3.create();\n  const currentTextureCoordinates = vec2.create();\n  const textureCoordinates = [];\n\n  // Calculate the texture coordinates of each vertex.\n  for (let i = 0, j = 0, count = vertexPositions.length; i < count; i += 3, j += 2) {\n    vec3.set(currentVertexPosition,\n        vertexPositions[i], vertexPositions[i + 1], vertexPositions[i + 2]);\n    _getTextureCoordinatesOfLatLongPosition(currentTextureCoordinates, currentVertexPosition);\n    textureCoordinates[j] = currentTextureCoordinates[0];\n    textureCoordinates[j + 1] = currentTextureCoordinates[1];\n  }\n\n  _correctTextureForTrianglesAroundSeam(textureCoordinates);\n\n  return textureCoordinates;\n}\n\n/**\n * Calculates cylindrical texture coordinates for the given vertex positions.\n *\n * This assumes the cylinder is aligned with the z-axis and centered at the origin.\n *\n * @param {Array.<Number>} vertexPositions\n * @returns {Array.<Number>}\n * @private\n */\nfunction calculateCylindricalTextureCoordinates(vertexPositions) {\n  const currentVertexPosition = vec3.create();\n  const currentTextureCoordinates = vec2.create();\n  const textureCoordinates = [];\n\n  // Calculate the texture coordinates of each vertex.\n  for (let i = 0, j = 0, count = vertexPositions.length; i < count; i += 3, j += 2) {\n    vec3.set(currentVertexPosition,\n        vertexPositions[i], vertexPositions[i + 1], vertexPositions[i + 2]);\n    _getTextureCoordinatesOfCylindricalPosition(currentTextureCoordinates, currentVertexPosition);\n    textureCoordinates[j] = currentTextureCoordinates[0];\n    textureCoordinates[j + 1] = currentTextureCoordinates[1];\n  }\n\n  _correctTextureForTrianglesAroundSeam(textureCoordinates);\n\n  return textureCoordinates;\n}\n\n/**\n * @param {Array.<Number>} textureCoordinates\n */\nfunction _correctTextureForTrianglesAroundSeam(textureCoordinates) {\n  let v1;\n  let v2;\n  let v3;\n\n  // Determine which triangles span the seam across 0/2PI, and correct their textures.\n  for (let i = 0, count = textureCoordinates.length; i < count; i += 6) {\n    v1 = textureCoordinates[i];\n    v2 = textureCoordinates[i + 2];\n    v3 = textureCoordinates[i + 4];\n\n    if (v3 - v1 > MAX_TEXTURE_V_COORDINATE_DELTA || v2 - v1 > MAX_TEXTURE_V_COORDINATE_DELTA) {\n      textureCoordinates[i]++;\n    }\n    if (v3 - v2 > MAX_TEXTURE_V_COORDINATE_DELTA || v1 - v2 > MAX_TEXTURE_V_COORDINATE_DELTA) {\n      textureCoordinates[i + 2]++;\n    }\n    if (v2 - v3 > MAX_TEXTURE_V_COORDINATE_DELTA || v1 - v3 > MAX_TEXTURE_V_COORDINATE_DELTA) {\n      textureCoordinates[i + 4]++;\n    }\n  }\n}\n\n/**\n * Calculate the texture coordinates for a normalized point on a globe.\n *\n * @param {vec2} textureCoordinates Output parameter.\n * @param {vec3} vertexPosition Input parameter.\n * @private\n */\nfunction _getTextureCoordinatesOfLatLongPosition(textureCoordinates, vertexPosition) {\n  const x = vertexPosition[0];\n  const y = vertexPosition[1];\n  const z = vertexPosition[2];\n\n  let longitude;\n  if (y !== 0) {\n    longitude = Math.atan2(x, y);\n  } else if (x > 0) {\n    longitude = HALF_PI;\n  } else {\n    longitude = -HALF_PI;\n  }\n\n  const u = (longitude + Math.PI) / TWO_PI;\n\n  // TODO: Should I instead be calculating the v value from wrapping the texture around the globe\n  // curvature rather than simply projecting it directly?\n\n  // This assumes that the texture has been vertically distorted so that it can be directly\n  // projected onto the curvature of the globe.\n  const v = (z + 1) * 0.5;\n\n  textureCoordinates[0] = u;\n  textureCoordinates[1] = v;\n}\n\n/**\n * Calculate the texture coordinates for a normalized point on a cylinder.\n *\n * This assumes the cylinder is aligned with the z-axis and centered at the origin.\n *\n * @param {vec2} textureCoordinates Output parameter.\n * @param {vec3} vertexPosition Input parameter.\n * @private\n */\nfunction _getTextureCoordinatesOfCylindricalPosition(textureCoordinates, vertexPosition) {\n  const x = vertexPosition[0];\n  const y = vertexPosition[1];\n  const z = vertexPosition[2];\n\n  let longitude;\n  if (y !== 0) {\n    longitude = Math.atan2(x, y);\n  } else if (x > 0) {\n    longitude = HALF_PI;\n  } else {\n    longitude = -HALF_PI;\n  }\n\n  const u = (longitude + Math.PI) / TWO_PI;\n\n  const v = z > 0 ? 1 : 0;\n\n  textureCoordinates[0] = u;\n  textureCoordinates[1] = v;\n}\n\n/**\n * Expands the given vertices around the seam where longitude switches from 0 to 2PI.\n *\n * This is useful because, when applying a spherical texture using lat-long coordinates, any\n * triangle that spans the seam (from longitude 2PI to 0) would otherwise show the wrong result.\n *\n * @param {Array.<Number>} oldVertexPositions\n * @param {Array.<Number>} oldVertexIndices\n * @returns {{vertexPositions: Array.<Number>, vertexIndices: Array.<Number>}}\n */\nfunction expandVertexIndicesAroundLongitudeSeam(oldVertexPositions, oldVertexIndices) {\n  // const newVertexPositions = [];\n  // const newVertexIndices = [];\n  //\n  // ****\n  // // TODO: loop over triangles, use _getTextureCoordinatesOfLatLongPosition on each vertex,\n  // // check if two vertices in a triangle span the seam; to check the span, just check if both are\n  // // within a distance from the seam, but on opposite ends;\n  //\n  // return {\n  //   vertexPositions: newVertexPositions,\n  //   vertexIndices: newVertexIndices\n  // };\n\n  return {\n    vertexPositions: oldVertexPositions,\n    vertexIndices: oldVertexIndices\n  };\n}\n\n/**\n * Subdivides the triangles of a shape and projects all resulting vertices to a radius of one.\n *\n * @param {number} divisionFactor\n * @param {Array.<Number>} oldPositions\n * @param {Array.<Number>} [oldIndices]\n * @returns {{vertexPositions: Array.<Number>, vertexIndices: Array.<Number>}}\n */\nfunction tesselateSphere(divisionFactor, oldPositions, oldIndices) {\n  const newPositions = _expandAndTesselateTriangles(divisionFactor, oldPositions, oldIndices);\n\n  // Convert the expanded positions array into a unique positions array with a corresponding indices\n  // array.\n  const positionsAndIndices = dedupVertexArrayWithPositionsAndIndicesArrays(newPositions);\n\n  // Project the given positions to a distance of one.\n  _normalizePositions(positionsAndIndices.vertexPositions, positionsAndIndices.vertexPositions);\n\n  return positionsAndIndices;\n}\n\n/**\n * Subdivides triangles.\n *\n * This has the side-effect of flattening the given vertices into an expanded list that can contain\n * duplicate positions.\n *\n * @param {number} divisionFactor\n * @param {Array.<Number>} oldPositions\n * @param {Array.<Number>} [oldIndices]\n * @returns {Array.<Number>}\n * @private\n */\nfunction _expandAndTesselateTriangles(divisionFactor, oldPositions, oldIndices) {\n  const expandedOldPositions = oldIndices\n      ? expandVertexIndicesToDuplicatePositions(oldPositions, oldIndices)\n      : oldPositions;\n\n  const newPositions = [];\n  const a = vec3.create();\n  const b = vec3.create();\n  const c = vec3.create();\n  const aToB = vec3.create();\n  const aToC = vec3.create();\n  const bToC = vec3.create();\n  const rowDelta = vec3.create();\n  const columnDelta = vec3.create();\n  const backwardsDelta = vec3.create();\n  const rowStartPoint = vec3.create();\n  const rowColumnStartPoint = vec3.create();\n  const tempVec = vec3.create();\n\n  let oldIndex;\n  let count;\n  let newIndex;\n  let rowIndex;\n  let columnIndex;\n\n  //\n  // The basic tesselation algorithm:\n  // - Iterate across the original triangles that we are sub-dividing.\n  // - A, B, and C are the vertices of the current, original triangle.\n  // - Consider \"rows\" to iterate across the a-to-b direction and \"columns\" to iterate across the\n  //   a-to-c direction.\n  // - First calculate the distance between one row and one column.\n  // - Then loop over the rows and columns and create a the new triangle for each \"cell\".\n  //\n  //                   /\\\n  //                 B   \\--- A \"column\"\n  //                 o    \\\n  //                / \\   /\n  //               /   \\             rowDelta:      columnDelta:     backwardsDelta:\n  //              o-----o                 o             o\n  //             / \\   / \\               /               \\              o-----o\n  //            /   \\ /   \\             /                 \\\n  //           o-----o-----o           o                   o\n  //          / \\   / \\   / \\\n  //         /   \\ /   \\ /   \\\n  //        o-----o-----o-----o\n  //       / \\   / \\   / \\   / \\\n  //      /   \\ /   \\ /   \\ /   \\\n  //  A  o-----o-----o-----o-----o  C\n  //\n  //       \\_____\\\n  //           \\\n  //         A \"row\"\n  //\n\n  // Loop over the old triangles.\n  for (oldIndex = 0, newIndex = 0, count = expandedOldPositions.length;\n       oldIndex < count;\n       oldIndex += 9) {\n    // Pull out the three vertices of the current triangle.\n    vec3.set(a,\n        expandedOldPositions[oldIndex],\n        expandedOldPositions[oldIndex + 1],\n        expandedOldPositions[oldIndex + 2]);\n    vec3.set(b,\n        expandedOldPositions[oldIndex + 3],\n        expandedOldPositions[oldIndex + 4],\n        expandedOldPositions[oldIndex + 5]);\n    vec3.set(c,\n        expandedOldPositions[oldIndex + 6],\n        expandedOldPositions[oldIndex + 7],\n        expandedOldPositions[oldIndex + 8]);\n\n    vec3.subtract(aToB, b, a);\n    vec3.subtract(bToC, c, b);\n    vec3.subtract(aToC, c, a);\n\n    vec3.scale(rowDelta, aToB, 1 / divisionFactor);\n    vec3.scale(columnDelta, bToC, 1 / divisionFactor);\n    vec3.scale(backwardsDelta, aToC, 1 / divisionFactor);\n\n    // Loop over each new division (row) for the current triangle.\n    for (rowIndex = 0; rowIndex < divisionFactor; rowIndex++) {\n      vec3.scaleAndAdd(rowStartPoint, a, rowDelta, rowIndex);\n\n      // Create the first triangle in the row (address the fence-post problem).\n      newPositions[newIndex++] = rowStartPoint[0];\n      newPositions[newIndex++] = rowStartPoint[1];\n      newPositions[newIndex++] = rowStartPoint[2];\n      vec3.add(tempVec, rowStartPoint, rowDelta);\n      newPositions[newIndex++] = tempVec[0];\n      newPositions[newIndex++] = tempVec[1];\n      newPositions[newIndex++] = tempVec[2];\n      vec3.add(tempVec, rowStartPoint, backwardsDelta);\n      newPositions[newIndex++] = tempVec[0];\n      newPositions[newIndex++] = tempVec[1];\n      newPositions[newIndex++] = tempVec[2];\n\n      // Loop over the new triangles in the current division.\n      for (columnIndex = 1; columnIndex <= rowIndex; columnIndex++) {\n        vec3.scaleAndAdd(rowColumnStartPoint, rowStartPoint, columnDelta, columnIndex);\n\n        newPositions[newIndex++] = rowColumnStartPoint[0];\n        newPositions[newIndex++] = rowColumnStartPoint[1];\n        newPositions[newIndex++] = rowColumnStartPoint[2];\n        vec3.subtract(tempVec, rowColumnStartPoint, columnDelta);\n        newPositions[newIndex++] = tempVec[0];\n        newPositions[newIndex++] = tempVec[1];\n        newPositions[newIndex++] = tempVec[2];\n        vec3.add(tempVec, rowColumnStartPoint, rowDelta);\n        newPositions[newIndex++] = tempVec[0];\n        newPositions[newIndex++] = tempVec[1];\n        newPositions[newIndex++] = tempVec[2];\n\n        newPositions[newIndex++] = rowColumnStartPoint[0];\n        newPositions[newIndex++] = rowColumnStartPoint[1];\n        newPositions[newIndex++] = rowColumnStartPoint[2];\n        vec3.add(tempVec, rowColumnStartPoint, rowDelta);\n        newPositions[newIndex++] = tempVec[0];\n        newPositions[newIndex++] = tempVec[1];\n        newPositions[newIndex++] = tempVec[2];\n        vec3.add(tempVec, rowColumnStartPoint, backwardsDelta);\n        newPositions[newIndex++] = tempVec[0];\n        newPositions[newIndex++] = tempVec[1];\n        newPositions[newIndex++] = tempVec[2];\n      }\n    }\n  }\n\n  return newPositions;\n}\n\n/**\n * Projects the given positions to a distance of one.\n *\n * @param {Array.<Number>} out\n * @param {Array.<Number>} positions\n * @private\n */\nfunction _normalizePositions(out, positions) {\n  const tempVec = vec3.create();\n\n  for (let i = 0, count = positions.length; i < count; i += 3) {\n    vec3.set(tempVec, positions[i], positions[i + 1], positions[i + 2]);\n\n    vec3.normalize(tempVec, tempVec);\n\n    out[i] = tempVec[0];\n    out[i + 1] = tempVec[1];\n    out[i + 2] = tempVec[2];\n  }\n}\n\n/**\n * Given a collection of vertices that possibly contains duplicates, creates an array of the unique\n * vertex positions and an array of the indices of the original, duplicated vertices in the unique\n * array.\n *\n * This is useful for rendering using gl.drawElements (with gl.ELEMENT_ARRAY_BUFFER) instead of\n * gl.drawArrays.\n *\n * NOTE: Although this function does partially address floating-point round-off errors within the\n * given positions, it does not guarantee correctness.\n *\n * @param {Array.<Number>} oldVertexPositions\n * @returns {{vertexPositions: Array.<Number>, vertexIndices: Array.<Number>}}\n */\nfunction dedupVertexArrayWithPositionsAndIndicesArrays(oldVertexPositions) {\n  const vertexPositions = [];\n  const vertexIndices = [];\n\n  const vertexToIndexMap = new HashMap(_vertexHashFunction);\n  const vertex = vec3.create();\n  let oldCoordinateIndex;\n  let oldCoordinateCount;\n  let newVertexIndex;\n\n  // Loop over the original, duplicated vertex positions.\n  for (oldCoordinateIndex = 0, oldCoordinateCount = oldVertexPositions.length;\n       oldCoordinateIndex < oldCoordinateCount;\n       oldCoordinateIndex += 3) {\n    vec3.set(vertex,\n        oldVertexPositions[oldCoordinateIndex],\n        oldVertexPositions[oldCoordinateIndex + 1],\n        oldVertexPositions[oldCoordinateIndex + 2]);\n\n    // Has this position already been recorded?\n    if (!vertexToIndexMap.has(vertex)) {\n      // Record the index of the unique vertex position.\n      newVertexIndex = vertexPositions.length / 3;\n      vertexToIndexMap.set(vertex, newVertexIndex);\n\n      // Record the unique vertex position.\n      vertexPositions.push(vertex[0]);\n      vertexPositions.push(vertex[1]);\n      vertexPositions.push(vertex[2]);\n    }\n\n    newVertexIndex = vertexToIndexMap.get(vertex);\n\n    // Record the index of the unique position.\n    vertexIndices.push(newVertexIndex);\n  }\n\n  return {\n    vertexPositions: vertexPositions,\n    vertexIndices: vertexIndices\n  };\n}\n\nconst _VERTEX_COORDINATE_BUCKET_SIZE_DIGITS = 4;\n\n// This offset is important for preventing bucket-aligned numbers from being placed in inconsistent\n// buckets. For example, whole integer values could easily be placed in lower or higher buckets\n// depending on round-off error.\nconst _OFFSET = Math.random();\n\n/**\n * Calculates a hash code for the given vertex.\n *\n * NOTE: This does not guarantee correct results. Due to round-off error, \"equal\" coordinates could\n * be calculated is being in different buckets. Larger bucket sizes might reduce the rate of false\n * negatives, but with the trade-off of potentially introducing false positives.\n *\n * @param {vec3} vertex\n * @returns {string}\n * @private\n */\nfunction _vertexHashFunction(vertex) {\n  return `${(vertex[0] + _OFFSET).toFixed(_VERTEX_COORDINATE_BUCKET_SIZE_DIGITS)},` +\n      `${(vertex[1] + _OFFSET).toFixed(_VERTEX_COORDINATE_BUCKET_SIZE_DIGITS)},` +\n      `${(vertex[2] + _OFFSET).toFixed(_VERTEX_COORDINATE_BUCKET_SIZE_DIGITS)}`;\n}\n\n/**\n * Calculate the vertex positions for a section of a sphere.\n *\n * - These points will lie along latitude-longitude lines.\n * - The shape is centered around the origin with the poles aligned with the z-axis.\n * - The radius of the circle will be one.\n *\n * @param {number} startPitchIndex\n * @param {number} endPitchIndex\n * @param {number} deltaPitch\n * @param {number} startAzimuthIndex\n * @param {number} endAzimuthIndex\n * @param {number} deltaAzimuth\n * @return {Array.<Number>}\n * @private\n */\nfunction calculateSphericalSection(startPitchIndex, endPitchIndex, deltaPitch,\n                                   startAzimuthIndex, endAzimuthIndex, deltaAzimuth) {\n  const vertexPositions = [];\n  let vertexPositionsIndex = 0;\n\n  let pitchIndex;\n  let azimuthIndex;\n  let lowerPitch;\n  let upperPitch;\n  let lowerAzimuth;\n  let upperAzimuth;\n  let x1;\n  let y1;\n  let z1;\n  let x2;\n  let y2;\n  let z2;\n  let x3;\n  let y3;\n  let z3;\n  let x4;\n  let y4;\n  let z4;\n\n  // TODO: This implementation calculates all coordinates multiple times. Refactor it to be more\n  // efficient.\n\n  // Loop over each latitudinal strip.\n  for (pitchIndex = startPitchIndex; pitchIndex < endPitchIndex; pitchIndex++) {\n    lowerPitch = deltaPitch * pitchIndex;\n    upperPitch = deltaPitch + lowerPitch;\n\n    // Create the triangles for the strip at the current pitch.\n    for (azimuthIndex = startAzimuthIndex; azimuthIndex < endAzimuthIndex; azimuthIndex++) {\n      lowerAzimuth = deltaAzimuth * azimuthIndex;\n      upperAzimuth = deltaAzimuth + lowerAzimuth;\n\n      // The corners of the current square.\n\n      x1 = Math.sin(lowerPitch) * Math.cos(lowerAzimuth);\n      y1 = Math.sin(lowerPitch) * Math.sin(lowerAzimuth);\n      z1 = Math.cos(lowerPitch);\n\n      x2 = Math.sin(upperPitch) * Math.cos(lowerAzimuth);\n      y2 = Math.sin(upperPitch) * Math.sin(lowerAzimuth);\n      z2 = Math.cos(upperPitch);\n\n      x3 = Math.sin(lowerPitch) * Math.cos(upperAzimuth);\n      y3 = Math.sin(lowerPitch) * Math.sin(upperAzimuth);\n      z3 = Math.cos(lowerPitch);\n\n      x4 = Math.sin(upperPitch) * Math.cos(upperAzimuth);\n      y4 = Math.sin(upperPitch) * Math.sin(upperAzimuth);\n      z4 = Math.cos(upperPitch);\n\n      // The first triangle.\n\n      vertexPositions[vertexPositionsIndex] = x1;\n      vertexPositions[vertexPositionsIndex + 1] = y1;\n      vertexPositions[vertexPositionsIndex + 2] = z1;\n      vertexPositions[vertexPositionsIndex + 3] = x2;\n      vertexPositions[vertexPositionsIndex + 4] = y2;\n      vertexPositions[vertexPositionsIndex + 5] = z2;\n      vertexPositions[vertexPositionsIndex + 6] = x3;\n      vertexPositions[vertexPositionsIndex + 7] = y3;\n      vertexPositions[vertexPositionsIndex + 8] = z3;\n\n      // The second triangle.\n\n      vertexPositions[vertexPositionsIndex + 9] = x4;\n      vertexPositions[vertexPositionsIndex + 10] = y4;\n      vertexPositions[vertexPositionsIndex + 11] = z4;\n      vertexPositions[vertexPositionsIndex + 12] = x3;\n      vertexPositions[vertexPositionsIndex + 13] = y3;\n      vertexPositions[vertexPositionsIndex + 14] = z3;\n      vertexPositions[vertexPositionsIndex + 15] = x2;\n      vertexPositions[vertexPositionsIndex + 16] = y2;\n      vertexPositions[vertexPositionsIndex + 17] = z2;\n\n      vertexPositionsIndex += 18;\n    }\n  }\n\n  return vertexPositions;\n}\n\n/**\n * Calculate the vertex positions for a section of a cylinder.\n *\n * The shape is centered around the origin with the poles aligned with the z-axis.\n *\n * @param {number} cylinderBottom\n * @param {number} cylinderTop\n * @param {number} startIndex\n * @param {number} endIndex\n * @param {number} delta\n * @returns {Array.<Number>}\n * @private\n */\nfunction calculateCylindricalSection(cylinderBottom, cylinderTop, startIndex, endIndex, delta) {\n  const vertexPositions = [];\n  let vertexPositionsIndex = 0;\n\n  let index;\n  let lowerAzimuth;\n  let upperAzimuth;\n  let x1;\n  let y1;\n  let z1;\n  let x2;\n  let y2;\n  let z2;\n  let x3;\n  let y3;\n  let z3;\n  let x4;\n  let y4;\n  let z4;\n\n  // Create the triangles for the cylindrical strip.\n  for (index = startIndex; index < endIndex; index++) {\n    lowerAzimuth = delta * index;\n    upperAzimuth = delta + lowerAzimuth;\n\n    // The corners of the current square.\n\n    x1 = Math.cos(lowerAzimuth);\n    y1 = Math.sin(lowerAzimuth);\n    z1 = cylinderBottom;\n\n    x2 = Math.cos(lowerAzimuth);\n    y2 = Math.sin(lowerAzimuth);\n    z2 = cylinderTop;\n\n    x3 = Math.cos(upperAzimuth);\n    y3 = Math.sin(upperAzimuth);\n    z3 = cylinderBottom;\n\n    x4 = Math.cos(upperAzimuth);\n    y4 = Math.sin(upperAzimuth);\n    z4 = cylinderTop;\n\n    // The first triangle.\n\n    vertexPositions[vertexPositionsIndex] = x1;\n    vertexPositions[vertexPositionsIndex + 1] = y1;\n    vertexPositions[vertexPositionsIndex + 2] = z1;\n    vertexPositions[vertexPositionsIndex + 3] = x2;\n    vertexPositions[vertexPositionsIndex + 4] = y2;\n    vertexPositions[vertexPositionsIndex + 5] = z2;\n    vertexPositions[vertexPositionsIndex + 6] = x3;\n    vertexPositions[vertexPositionsIndex + 7] = y3;\n    vertexPositions[vertexPositionsIndex + 8] = z3;\n\n    // The second triangle.\n\n    vertexPositions[vertexPositionsIndex + 9] = x4;\n    vertexPositions[vertexPositionsIndex + 10] = y4;\n    vertexPositions[vertexPositionsIndex + 11] = z4;\n    vertexPositions[vertexPositionsIndex + 12] = x3;\n    vertexPositions[vertexPositionsIndex + 13] = y3;\n    vertexPositions[vertexPositionsIndex + 14] = z3;\n    vertexPositions[vertexPositionsIndex + 15] = x2;\n    vertexPositions[vertexPositionsIndex + 16] = y2;\n    vertexPositions[vertexPositionsIndex + 17] = z2;\n\n    vertexPositionsIndex += 18;\n  }\n\n  return vertexPositions;\n}\n\n/**\n * Scale and then translate the 3-dimensional positions in the given flattened array.\n *\n * The shape is centered around the origin with the poles aligned with the z-axis.\n *\n * @param {Array.<Number>} vertexPositions Output.\n * @param {number} startIndex\n * @param {number} endIndex\n * @param {vec3} scale\n * @param {vec3} translate\n * @private\n */\nfunction scaleThenTranslatePositions(vertexPositions, startIndex, endIndex, scale, translate) {\n  const scaleX = scale[0];\n  const scaleY = scale[1];\n  const scaleZ = scale[2];\n  const translateX = translate[0];\n  const translateY = translate[1];\n  const translateZ = translate[2];\n\n  for (let i = startIndex; i < endIndex; i += 3) {\n    vertexPositions[i] = vertexPositions[i] * scaleX + translateX;\n    vertexPositions[i + 1] = vertexPositions[i + 1] * scaleY + translateY;\n    vertexPositions[i + 2] = vertexPositions[i + 2] * scaleZ + translateZ;\n  }\n}\n\n// Export this module's logic\n\nexport {\n  getViewportWidth,\n  getViewportHeight,\n  getWebGLContext,\n  createBuffer,\n  getAttribLocation,\n  buildProgram,\n  buildShader,\n  loadShader,\n  loadProgram,\n  createBufferFromData,\n  bindGLContextToViewportDimensions,\n  bindFramebuffer,\n  createFramebuffer,\n  createTextureForRendering,\n  createRenderBuffer,\n  create2DSquarePositionsConfig,\n\n  expandVertexIndicesToDuplicatePositions,\n  calculateOrthogonalVertexNormals,\n  calculateLatLongTextureCoordinates,\n  calculateCylindricalTextureCoordinates,\n  expandVertexIndicesAroundLongitudeSeam,\n  tesselateSphere,\n  dedupVertexArrayWithPositionsAndIndicesArrays,\n  calculateSphericalSection,\n  calculateCylindricalSection,\n  scaleThenTranslatePositions,\n};\n\n// Some type defs to make my editor's auto-complete happy.\n\n/** @typedef {Object} WebGLProgram */\n/** @typedef {Object} WebGLShader */\n/** @typedef {Object} WebGLBuffer */\n/** @typedef {Object} WebGLTexture */\n/** @typedef {Float32Array|Array.<Number>} mat3 */\n/** @typedef {Float32Array|Array.<Number>} mat4 */\n/** @typedef {Float32Array|Array.<Number>} quat */\n/** @typedef {Float32Array|Array.<Number>} vec2 */\n/** @typedef {Float32Array|Array.<Number>} vec3 */\n/** @typedef {Float32Array|Array.<Number>} vec4 */\n","/**\n * A hash map that uses a custom hash function.\n */\nclass HashMap {\n  /**\n   * @param {Function} hashFunction\n   */\n  constructor(hashFunction) {\n    this._hashFunction = hashFunction;\n    this._map = new Map();\n  }\n\n  /**\n   * @param {Object} key\n   * @param {Object} value\n   */\n  set(key, value) {\n    const hashCode = this._hashFunction(key);\n    this._map.set(hashCode, value);\n  }\n\n  /**\n   * @param {Object} key\n   * @returns {Object}\n   */\n  get(key) {\n    const hashCode = this._hashFunction(key);\n    return this._map.get(hashCode);\n  }\n\n  /**\n   * @param {Object} key\n   * @returns {boolean}\n   */\n  has(key) {\n    const hashCode = this._hashFunction(key);\n    return this._map.has(hashCode);\n  }\n\n  /**\n   * @param {Object} item\n   * @returns {boolean}\n   */\n  remove(item) {\n    return this._map.delete(item);\n  }\n\n  /**\n   * @param {Function} callback\n   */\n  forEach(callback) {\n    this._map.forEach(callback);\n  }\n\n  clear() {\n    this._map.clear();\n  }\n\n  /**\n   * @returns {number}\n   */\n  get size() {\n    return this._map.size;\n  }\n}\n\nexport {HashMap};\n","/**\n * This module defines a collection of static general utility functions.\n */\n\n// TODO: This should be set from somewhere else (probably as a param to controller like before; but then I need to make this updatable)\nconst isInDevMode = true;\n\n/**\n * Adds an event listener for each of the given events to each of the given elements.\n *\n * @param {Array.<HTMLElement>} elements The elements to add event listeners to.\n * @param {Array.<String>} events The event listeners to add to the elements.\n * @param {Function} callback The single callback for handling the events.\n */\nfunction listenToMultipleForMultiple(elements, events, callback) {\n  elements.forEach(element => {\n    events.forEach(event => {\n      element.addEventListener(event, callback, false);\n    });\n  });\n}\n\n/**\n * Creates a DOM element with the given tag name, appends it to the given parent element, and\n * gives it the given id and classes.\n *\n * @param {string} tagName The tag name to give the new element.\n * @param {HTMLElement} [parent] The parent element to append the new element to.\n * @param {string} [id] The id to give the new element.\n * @param {Array.<String>} [classes] The classes to give the new element.\n * @returns {HTMLElement} The new element.\n */\nfunction createElement(tagName, parent, id, classes) {\n  const element = document.createElement(tagName);\n  if (parent) {\n    parent.appendChild(element);\n  }\n  if (id) {\n    element.id = id;\n  }\n  if (classes) {\n    classes.forEach(className => addClass(element, className));\n  }\n  return element;\n}\n\n/**\n * Determines whether the given element contains the given class.\n *\n * @param {HTMLElement} element The element to check.\n * @param {string} className The class to check for.\n * @returns {boolean} True if the element does contain the class.\n */\nfunction containsClass(element, className) {\n  let startIndex;\n  let indexAfterEnd;\n  startIndex = element.className.indexOf(className);\n  if (startIndex >= 0) {\n    if (startIndex === 0 || element.className[startIndex - 1] === ' ') {\n      indexAfterEnd = startIndex + className.length;\n      if (indexAfterEnd === element.className.length ||\n        element.className[indexAfterEnd] === ' ') {\n        return true;\n      }\n    }\n  }\n  return false;\n}\n\n/**\n * Toggles whether the given element has the given class. If the enabled argument is given, then\n * the inclusion of the class will be forced. That is, if enabled=true, then this will ensure the\n * element has the class; if enabled=false, then this will ensure the element does NOT have the\n * class; if enabled=undefined, then this will simply toggle whether the element has the class.\n *\n * @param {HTMLElement} element The element to add the class to or remove the class from.\n * @param {string} className The class to add or remove.\n * @param {boolean} [enabled] If given, then the inclusion of the class will be forced.\n */\nfunction toggleClass(element, className, enabled) {\n  if (typeof enabled === 'undefined') {\n    if (containsClass(element, className)) {\n      removeClass(element, className);\n    }\n    else {\n      addClass(element, className);\n    }\n  }\n  else if (enabled) {\n    addClass(element, className);\n  }\n  else {\n    removeClass(element, className);\n  }\n}\n\n/**\n * Gets the coordinates of the element relative to the top-left corner of the page.\n *\n * @param {HTMLElement} element The element to get the coordinates of.\n * @returns {{x: Number, y: Number}} The coordinates of the element relative to the top-left\n * corner of the page.\n */\nfunction getPageOffset(element) {\n  let x = 0;\n  let y = 0;\n  while (element) {\n    x += element.offsetLeft;\n    y += element.offsetTop;\n    element = element.offsetParent;\n  }\n  x -= document.documentElement.scrollLeft;\n  y -= document.documentElement.scrollTop;\n  return { x: x, y: y };\n}\n\n/**\n * Gets the dimensions of the viewport.\n *\n * @returns {{w: Number, h: Number}} The dimensions of the viewport.\n */\nfunction getViewportSize() {\n  let w;\n  let h;\n  if (typeof window.innerWidth !== 'undefined') {\n    // Good browsers\n    w = window.innerWidth;\n    h = window.innerHeight;\n  }\n  else if (typeof document.documentElement !== 'undefined' &&\n    typeof document.documentElement.clientWidth !== 'undefined' &&\n    document.documentElement.clientWidth !== 0) {\n    // IE6 in standards compliant mode\n    w = document.documentElement.clientWidth;\n    h = document.documentElement.clientHeight;\n  }\n  else {\n    // Older versions of IE\n    w = document.getElementsByTagName('body')[0].clientWidth;\n    h = document.getElementsByTagName('body')[0].clientHeight;\n  }\n  return { w: w, h: h };\n}\n\n/**\n * Removes the given child element from the given parent element if the child does indeed belong\n * to the parent.\n *\n * @param {HTMLElement} parent The parent to remove the child from.\n * @param {HTMLElement} child The child to remove.\n * @returns {boolean} True if the child did indeed belong to the parent.\n */\nfunction removeChildIfPresent(parent, child) {\n  if (child && child.parentNode === parent) {\n    parent.removeChild(child);\n    return true;\n  }\n  return false;\n}\n\n/**\n * Adds the given class to the given element.\n *\n * @param {HTMLElement} element The element to add the class to.\n * @param {string} className The class to add.\n */\nfunction addClass(element, className) {\n  element.setAttribute('class', element.className + ' ' + className);\n}\n\n/**\n * Removes the given class from the given element.\n *\n * @param {HTMLElement} element The element to remove the class from.\n * @param {string} className The class to remove.\n */\nfunction removeClass(element, className) {\n  element.setAttribute('class',\n    element.className\n    .split(' ')\n    .filter(value => value !== className)\n    .join(' '));\n}\n\n/**\n * Removes all classes from the given element.\n *\n * @param {HTMLElement} element The element to remove all classes from.\n */\nfunction clearClasses(element) {\n  element.className = '';\n}\n\n/**\n * Calculates the width that the DOM would give to a div with the given text. The given tag\n * name, parent, id, and classes allow the width to be affected by various CSS rules.\n *\n * @param {string} text The text to determine the width of.\n * @param {string} tagName The tag name this text would supposedly have.\n * @param {HTMLElement} [parent] The parent this text would supposedly be a child of; defaults\n * to the document body.\n * @param {string} [id] The id this text would supposedly have.\n * @param {Array.<String>} [classes] The classes this text would supposedly have.\n * @returns {number} The width of the text under these conditions.\n */\nfunction getTextWidth(text, tagName, parent, id, classes) {\n  let tmpElement;\n  let width;\n  parent = parent || document.getElementsByTagName('body')[0];\n  tmpElement = createElement(tagName, null, id, classes);\n  tmpElement.style.position = 'absolute';\n  tmpElement.style.visibility = 'hidden';\n  tmpElement.style.whiteSpace = 'nowrap';\n  parent.appendChild(tmpElement);\n  tmpElement.innerHTML = text;\n  width = tmpElement.clientWidth;\n  parent.removeChild(tmpElement);\n  return width;\n}\n\n/**\n * Encodes and concatenates the given URL parameters into a single query string.\n *\n * @param {Object} rawParams An object whose properties represent the URL query string\n * parameters.\n * @returns {string} The query string.\n */\nfunction encodeQueryString(rawParams) {\n  let parameter;\n  let encodedParams;\n  encodedParams = [];\n  for (parameter in rawParams) {\n    if (rawParams.hasOwnProperty(parameter)) {\n      encodedParams.push(encodeURIComponent(parameter) + '=' +\n        encodeURIComponent(rawParams[parameter]));\n    }\n  }\n  return '?' + encodedParams.join('&');\n}\n\n/**\n * Retrieves the value corresponding to the given name from the given query string.\n *\n * (borrowed from http://stackoverflow.com/questions/901115/how-can-i-get-query-string-values-in-javascript)\n *\n * @param {string} queryString The query string containing the parameter.\n * @param {string} name The (non-encoded) name of the parameter value to retrieve.\n * @returns {string} The query string parameter value, or null if the parameter was not found.\n */\nfunction getQueryStringParameterValue(queryString, name) {\n  let regex;\n  let results;\n  name = encodeURIComponent(name);\n  name = name.replace(/[\\[]/, '\\\\[').replace(/[\\]]/, '\\\\]');\n  regex = new RegExp('[\\\\?&]' + name + '=([^&#]*)', 'i');\n  results = regex.exec(queryString);\n  return results === null ? null : decodeURIComponent(results[1].replace(/\\+/g, ' '));\n}\n\n/**\n * Sets the CSS transition style of the given element.\n *\n * @param {HTMLElement} element The element.\n * @param {number} value The transition string.\n */\nfunction setTransition(element, value) {\n  element.style.transition = value;\n  element.style.WebkitTransition = value;\n  element.style.MozTransition = value;\n  element.style.msTransition = value;\n  element.style.OTransition = value;\n}\n\n/**\n * Sets the CSS transition duration style of the given element.\n *\n * @param {HTMLElement} element The element.\n * @param {number} value The duration.\n */\nfunction setTransitionDurationSeconds(element, value) {\n  element.style.transitionDuration = value + 's';\n  element.style.WebkitTransitionDuration = value + 's';\n  element.style.MozTransitionDuration = value + 's';\n  element.style.msTransitionDuration = value + 's';\n  element.style.OTransitionDuration = value + 's';\n}\n\n/**\n * Sets the CSS transition delay style of the given element.\n *\n * @param {HTMLElement} element The element.\n * @param {number} value The delay.\n */\nfunction setTransitionDelaySeconds(element, value) {\n  element.style.transitionDelay = value + 's';\n  element.style.WebkitTransitionDelay = value + 's';\n  element.style.MozTransitionDelay = value + 's';\n  element.style.msTransitionDelay = value + 's';\n  element.style.OTransitionDelay = value + 's';\n}\n\n/**\n * Sets the userSelect style of the given element to 'none'.\n *\n * @param {HTMLElement} element\n */\nfunction setUserSelectNone(element) {\n  element.style.userSelect = 'none';\n  element.style.webkitUserSelect = 'none';\n  element.style.MozUserSelect = 'none';\n  element.style.msUserSelect = 'none';\n}\n\n/**\n * Removes any children elements from the given parent that have the given class.\n *\n * @param {HTMLElement} parent The parent to remove children from.\n * @param {string} className The class to match.\n */\nfunction removeChildrenWithClass(parent, className) {\n  let matchingChildren = parent.querySelectorAll('.' + className);\n\n  for (let i = 0, count = matchingChildren.length; i < count; i++) {\n    parent.removeChild(matchingChildren[i]);\n  }\n}\n\n/**\n * Sets the CSS transition-timing-function style of the given element with the given cubic-\n * bezier points.\n *\n * @param {HTMLElement} element The element.\n * @param {{p1x: Number, p1y: Number, p2x: Number, p2y: Number}} bezierPts The cubic-bezier\n * points to use for this timing function.\n */\nfunction setTransitionCubicBezierTimingFunction(element, bezierPts) {\n  const value = 'cubic-bezier(' + bezierPts.p1x + ',' + bezierPts.p1y + ',' + bezierPts.p2x + ',' +\n    bezierPts.p2y + ')';\n  element.style.transitionTimingFunction = value;\n  element.style.WebkitTransitionTimingFunction = value;\n  element.style.MozTransitionTimingFunction = value;\n  element.style.msTransitionTimingFunction = value;\n  element.style.OTransitionTimingFunction = value;\n}\n\n// A collection of different types of easing functions.\nconst easingFunctions = {\n  linear: t => t,\n  easeInQuad: t => t * t,\n  easeOutQuad: t => t * (2 - t),\n  easeInOutQuad: t => t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t,\n  easeInCubic: t => t * t * t,\n  easeOutCubic: t => 1 + --t * t * t,\n  easeInOutCubic: t => t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1,\n  easeInQuart: t => t * t * t * t,\n  easeOutQuart: t => 1 - --t * t * t * t,\n  easeInOutQuart: t => t < 0.5 ? 8 * t * t * t * t : 1 - 8 * --t * t * t * t,\n  easeInQuint: t => t * t * t * t * t,\n  easeOutQuint: t => 1 + --t * t * t * t * t,\n  easeInOutQuint: t => t < 0.5 ? 16 * t * t * t * t * t : 1 + 16 * --t * t * t * t * t\n};\n\n// A collection of the inverses of different types of easing functions.\nconst inverseEasingFunctions = {\n  linear: t => t,\n  easeInQuad: t => Math.sqrt(t),\n  easeOutQuad: t => 1 - Math.sqrt(1 - t),\n  easeInOutQuad: t => t < 0.5 ? Math.sqrt(t * 0.5) : 1 - 0.70710678 * Math.sqrt(1 - t)\n};\n\n/**\n * Calculates the x and y coordinates represented by the given Bezier curve at the given\n * percentage.\n *\n * @param {number} percent Expressed as a number between 0 and 1.\n * @param {Array.<{x:Number,y:Number}>} controlPoints\n * @returns {{x:Number,y:Number}}\n */\nfunction getXYFromPercentWithBezier(percent, controlPoints) {\n  let x;\n  let y;\n  let oneMinusPercent;\n  let tmp1;\n  let tmp2;\n  let tmp3;\n  let tmp4;\n\n  oneMinusPercent = 1 - percent;\n  tmp1 = oneMinusPercent * oneMinusPercent * oneMinusPercent;\n  tmp2 = 3 * percent * oneMinusPercent * oneMinusPercent;\n  tmp3 = 3 * percent * percent * oneMinusPercent;\n  tmp4 = percent * percent * percent;\n\n  x = controlPoints[0].x * tmp1 +\n    controlPoints[1].x * tmp2 +\n    controlPoints[2].x * tmp3 +\n    controlPoints[3].x * tmp4;\n  y = controlPoints[0].y * tmp1 +\n    controlPoints[1].y * tmp2 +\n    controlPoints[2].y * tmp3 +\n    controlPoints[3].y * tmp4;\n\n  return { x: x, y: y };\n}\n\n/**\n * Applies the given transform to the given element as a CSS style in a cross-browser compatible\n * manner.\n *\n * @param {HTMLElement} element\n * @param {string} transform\n */\nfunction setTransform(element, transform) {\n  element.style.webkitTransform = transform;\n  element.style.MozTransform = transform;\n  element.style.msTransform = transform;\n  element.style.OTransform = transform;\n  element.style.transform = transform;\n}\n\n/**\n * Returns a copy of the given array with its contents re-arranged in a random order.\n *\n * The original array is left in its original order.\n *\n * @param {Array} array\n * @returns {Array}\n */\nfunction shuffle(array) {\n  let i;\n  let j;\n  let count;\n  let temp;\n\n  for (i = 0, count = array.length; i < count; i++) {\n    j = parseInt(Math.random() * count);\n    temp = array[j];\n    array[j] = array[i];\n    array[i] = temp;\n  }\n\n  return array;\n}\n\n/**\n * Performs a shallow copy of the given object.\n *\n * This only copies enumerable properties.\n *\n * @param {Object} object\n * @returns {Object}\n */\nfunction shallowCopy(object) {\n  if (typeof object === 'object') {\n    const cloneObject = {};\n\n    Object.keys(object)\n      .forEach(key => cloneObject[key] = object[key]);\n\n    return cloneObject;\n  }\n  else {\n    return object;\n  }\n}\n\n/**\n * Performs a deep copy of the given object.\n *\n * This only copies enumerable properties.\n *\n * @param {Object} object\n * @returns {Object}\n */\nfunction deepCopy(object) {\n  if (typeof object === 'object') {\n    // Hack: Not a robust copy policy\n    let cloneObject;\n    if (object instanceof Array) {\n      cloneObject = [];\n    }\n    else {\n      cloneObject = {};\n    }\n\n    Object.keys(object)\n      .forEach(key => cloneObject[key] = deepCopy(object[key]));\n\n    return cloneObject;\n  }\n  else {\n    return object;\n  }\n}\n\n/**\n * Converts the given HSL color values to HSV color values.\n *\n * Given and returned values will be in the range of [0, 1].\n *\n * @param {HslColor} hsl\n * @returns {{h:Number,s:Number,v:Number}}\n */\nfunction hslToHsv(hsl) {\n  const temp = hsl.s * (hsl.l < 0.5 ? hsl.l : 1 - hsl.l);\n  return {\n    h: hsl.h,\n    s: 2 * temp / (hsl.l + temp),\n    v: hsl.l + temp\n  };\n}\n\n/**\n * Converts the given HSV color values to HSL color values.\n *\n * Given and returned values will be in the range of [0, 1].\n *\n * @param {{h:Number,s:Number,v:Number}} hsv\n * @returns {HslColor}\n */\nfunction hsvToHsl(hsv) {\n  const temp = (2 - hsv.s) * hsv.v;\n  return {\n    h: hsv.h,\n    s: hsv.s * hsv.v / (temp < 1 ? temp : 2.00000001 - temp),\n    l: temp * 0.5\n  };\n}\n\n/**\n * Converts the given HSL color values to RGB color values.\n *\n * Given and returned values will be in the range of [0, 1].\n *\n * Originally adapted from http://en.wikipedia.org/wiki/HSL_color_space.\n *\n * @param {HslColor} hsl\n * @returns {RgbColor} rgb\n */\nfunction hslToRgb(hsl) {\n  let r;\n  let g;\n  let b;\n\n  if (hsl.s === 0) {\n    // Achromatic.\n    r = hsl.l;\n    g = hsl.l;\n    b = hsl.l;\n  }\n  else {\n    const q = hsl.l < 0.5 ?\n      hsl.l * (1 + hsl.s) :\n      hsl.l + hsl.s - hsl.l * hsl.s;\n    const p = 2 * hsl.l - q;\n\n    r = _hue2Rgb(p, q, hsl.h + 1 / 3);\n    g = _hue2Rgb(p, q, hsl.h);\n    b = _hue2Rgb(p, q, hsl.h - 1 / 3);\n  }\n\n  return {\n    r: r,\n    g: g,\n    b: b\n  };\n}\n\nfunction _hue2Rgb(p, q, t) {\n  if (t < 0) {\n    t++;\n  }\n  else if (t > 1) {\n    t--;\n  }\n\n  if (t < 1 / 6) {\n    return p + (q - p) * 6 * t;\n  }\n  else if (t < 1 / 2) {\n    return q;\n  }\n  else if (t < 2 / 3) {\n    return p + (q - p) * (2 / 3 - t) * 6;\n  }\n  else {\n    return p;\n  }\n}\n\n/**\n * Converts the given RGB color values to HSL color values.\n *\n * Given and returned values will be in the range of [0, 1].\n *\n * Originally adapted from http://en.wikipedia.org/wiki/HSL_color_space.\n *\n * @param {{r:Number,g:Number,b:Number}} rgb\n * @returns {HslColor} hsl\n */\nfunction rgbToHsl(rgb) {\n  const max = Math.max(rgb.r, rgb.g, rgb.b);\n  const min = Math.min(rgb.r, rgb.g, rgb.b);\n  let h;\n  let s;\n  const l = (max + min) / 2;\n\n  if (max === min) {\n    // Achromatic.\n    h = 0;\n    s = 0;\n  }\n  else {\n    const d = max - min;\n    s = l > 0.5 ?\n      d / (2 - max - min) :\n      d / (max + min);\n\n    switch (max) {\n      case rgb.r:\n        h = (rgb.g - rgb.b) / d + (rgb.g < rgb.b ? 6 : 0);\n        break;\n      case rgb.g:\n        h = (rgb.b - rgb.r) / d + 2;\n        break;\n      case rgb.b:\n        h = (rgb.r - rgb.g) / d + 4;\n        break;\n    }\n\n    h /= 6;\n  }\n\n  return {\n    h: h,\n    s: s,\n    l: l\n  };\n}\n\n/**\n * Creates a valid color string to assign to a CSS property from the given h/s/l color values.\n *\n * Given values should be in the range of [0,1].\n *\n * @param {HslColor} hsl\n * @returns {string}\n */\nfunction createHslColorString(hsl) {\n  return typeof hsl.a !== 'undefined' ?\n    `hsla(${hsl.h * 360},${hsl.s * 100}%,${hsl.l * 100}%,${hsl.a})` :\n    `hsl(${hsl.h * 360},${hsl.s * 100}%,${hsl.l * 100}%)`;\n}\n\n/**\n * Checks the given element and all of its ancestors, and returns the first that contains the\n * given class.\n *\n * @param {?HTMLElement} element\n * @param {string} className\n * @returns {?HTMLElement}\n */\nfunction findClassInSelfOrAncestors(element, className) {\n  while (element) {\n    if (containsClass(element, className)) {\n      return element;\n    }\n  }\n\n  return null;\n}\n\nlet utilStyleSheet;\n\n/**\n * Adds the given style rule to a style sheet for the current document.\n *\n * @param {string} styleRule\n */\nfunction addRuleToStyleSheet(styleRule) {\n  // Create the custom style sheet if it doesn't already exist\n  if (!utilStyleSheet) {\n    utilStyleSheet = document.createElement('style');\n    document.getElementsByTagName('head')[0].appendChild(utilStyleSheet);\n  }\n\n  // Add the given rule to the custom style sheet\n  if (utilStyleSheet.styleSheet) {\n    utilStyleSheet.styleSheet.cssText = styleRule;\n  }\n  else {\n    utilStyleSheet.appendChild(document.createTextNode(styleRule));\n  }\n}\n\nfunction checkForSafari() {\n  return /Safari/i.test(window.navigator.userAgent) && !/Chrome/i.test(window.navigator.userAgent);\n}\n\nfunction checkForIos() {\n  return /iPhone|iPod|iPad/i.test(window.navigator.userAgent);\n}\n\n/**\n * Returns a debounced version of the given function.\n *\n * Even if the debounced function is invoked many times, the wrapped function will only be invoked\n * after the given delay has ellapsed since the last invocation.\n *\n * If isInvokedImmediately is true, then the wrapped function will be triggered at the start of the\n * invocation group rather than at the end.\n *\n * @param {Function} wrappedFunction\n * @param {number} delay In milliseconds.\n * @param {boolean} [isInvokedImmediately=false]\n * @returns {Function}\n */\nfunction debounce(wrappedFunction, delay, isInvokedImmediately = false) {\n  let timeoutId;\n\n  return () => {\n    // Save the context and arguments passed from the client (this will use the values from the\n    // first invocation of the invocation group.\n    const context = this;\n    const args = arguments;\n\n    // Invoke immediately only if this is the first invocation of a group.\n    if (isInvokedImmediately && !timeoutId) {\n      wrappedFunction.apply(context, args);\n    }\n\n    // Reset the delay.\n    clearTimeout(timeoutId);\n    timeoutId = setTimeout(() => {\n      // The invocation group has ended.\n      timeoutId = null;\n      if (!isInvokedImmediately) {\n        wrappedFunction.apply(context, args);\n      }\n    }, delay);\n  };\n}\n\n/**\n * Returns a throttled version of the given function.\n *\n * Even if the throttled function is invoked many times, the wrapped function will only be invoked\n * at each interval of the given delay. After the throttled function stops being invoked, then\n * wrapped function will also stop being invoked.\n *\n * If isInvokedImmediately is true, then the wrapped function will be triggered at the start of the\n * invocation delay rather than at the end.\n *\n * @param {Function} wrappedFunction\n * @param {number} delay In milliseconds.\n * @param {boolean} [isInvokedImmediately=false]\n * @returns {Function}\n */\nfunction throttle(wrappedFunction, delay, isInvokedImmediately = false) {\n  let timeoutId;\n\n  return () => {\n    // Save the context and arguments passed from the client (this will use the values from the\n    // first invocation of the invocation group.\n    const context = this;\n    const args = arguments;\n\n    // Only trigger a new invocation group if we are not already/still waiting on the delay from a\n    // previous invocation.\n    if (!timeoutId) {\n      if (isInvokedImmediately) {\n        wrappedFunction.apply(context, args);\n      }\n\n      // Start the delay.\n      timeoutId = setTimeout(() => {\n        // The invocation group has ended.\n        timeoutId = null;\n        if (!isInvokedImmediately) {\n          wrappedFunction.apply(context, args);\n        }\n      }, delay);\n    }\n  };\n}\n\n/**\n * @param {Array.<*>|String} array\n * @param {*} delimiter\n * @returns {Array.<*>}\n * @private\n */\nfunction _interleave(array, delimiter) {\n  const result = new Array(array.length * 2 - 1);\n  if (array.length) {\n    result.push(array[0]);\n  }\n  for (let i = 1, count = array.length; i < count; i++) {\n    result.push(delimiter);\n    result.push(array[i]);\n  }\n  return result;\n}\n\n/**\n * Loads the given src for the given image.\n *\n * @param {HTMLImageElement} image\n * @param {string} src\n * @returns {Promise.<HTMLImageElement, Error>}\n */\nfunction loadImageSrc(image, src) {\n  return new Promise((resolve, reject) => {\n    console.debug(`Loading image: ${src}`);\n\n    image.addEventListener('load', _ => resolve(image));\n    image.addEventListener('error', reject);\n    image.addEventListener('abort', reject);\n\n    image.src = src;\n  });\n}\n\n/**\n * Loads text from the given URL.\n *\n * @param {string} url\n * @returns {Promise.<String, Error>}\n */\nfunction loadText(url) {\n  return new Promise((resolve, reject) => {\n    const xhr = new XMLHttpRequest();\n\n    xhr.addEventListener('load', _ => resolve(xhr.response));\n    xhr.addEventListener('error', reject);\n    xhr.addEventListener('abort', reject);\n\n    console.debug(`Loading text: ${url}`);\n\n    xhr.open('GET', url);\n    xhr.send();\n  });\n}\n\n/**\n * Loads a JSON object from the given URL.\n *\n * @param {string} url\n * @returns {Promise.<Object, Error>}\n */\nfunction loadJson(url) {\n  return loadText(url).then(jsonText => JSON.parse(jsonText));\n}\n\n/**\n * Gets the current stack trace.\n *\n * @returns {string}\n */\nfunction getStackTrace() {\n  return new Error().stack;\n}\n\n/**\n * Freezes the given object and recursively freezes all of its properties.\n *\n * @param {Object} object\n */\nfunction deepFreeze(object) {\n  if (typeof object === 'object') {\n    Object.freeze(object);\n    Object.keys(object).forEach(key => deepFreeze(object[key]));\n  }\n}\n\n/**\n * Creates a GUID.\n *\n * GUID specification: http://www.ietf.org/rfc/rfc4122.txt\n *\n * Logic adopted from http://stackoverflow.com/a/2117523/489568.\n *\n * @returns {string}\n */\nfunction createGuid() {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {\n    const r = Math.random() * 16 | 0;\n    const v = c === 'x' ? r : (r & 0x3 | 0x8);\n    return v.toString(16);\n  });\n}\n\n/**\n * -11 % 3 === -2\n * mod(-11, 3) === 1\n *\n * @param {number} n\n * @param {number} m\n * @returns {number}\n */\nfunction mod(n, m) {\n  return ((n % m) + m) % m;\n}\n\n/**\n * @param {number} min\n * @param {number} max\n * @returns {number}\n */\nfunction randomFloatInRange(min, max) {\n  return Math.random() * (max - min) + min;\n}\n\n/**\n * @param {number} min Inclusive\n * @param {number} max Exclusive\n * @returns {number}\n */\nfunction randomIntInRange(min, max) {\n  return parseInt(Math.random() * (max - min) + min);\n}\n\n/**\n * @param {Array} list\n * @returns {*}\n */\nfunction pickRandom(list) {\n  return list[randomIntInRange(0, list.length)];\n}\n\n/**\n * Triggers the given callback when either the current tab or the browser window loses/gains focus.\n *\n * @param {Function} focusChangeHandler\n */\nfunction handlePageFocusChange(focusChangeHandler) {\n  // Pause/unpause the app when the tab loses/gains focus.\n  document.addEventListener('visibilitychange', () => focusChangeHandler(!document.hidden));\n  // Pause/unpause the app when the browser window loses/gains focus.\n  window.addEventListener('blur', () => focusChangeHandler(false));\n  window.addEventListener('focus', () => focusChangeHandler(true));\n}\n\n/**\n * Creates an array with all the consecutive numbers from start (inclusive) to end (exclusive).\n *\n * @param {number} start\n * @param {number} end\n * @returns {Array.<Number>}\n */\nfunction range(start, end) {\n  const r = [];\n  for (let i = 0, j = start; j < end; i++, j++) {\n    r[i] = j;\n  }\n  return r;\n}\n\n/**\n * @param {*} value\n * @returns {boolean}\n */\nfunction isInt(value) {\n  return typeof value === 'number' &&\n    isFinite(value) &&\n    parseInt(value) === value;\n}\n\n/**\n * Find the first value in a list that satisfies a predicate.\n *\n * @param {Array} list\n * @param {Function} predicate\n * @returns {*}\n */\nfunction find(list, predicate) {\n  for (var i = 0, count = list.length; i < count; i++) {\n    const value = list[i];\n    if (predicate.call(null, value, i, list)) {\n      return value;\n    }\n  }\n  return null;\n}\n\nconst keyCodes = {\n  'a': 65,\n  'b': 66,\n  'c': 67,\n  'd': 68,\n  'e': 69,\n  'f': 70,\n  'g': 71,\n  'h': 72,\n  'i': 73,\n  'j': 74,\n  'k': 75,\n  'l': 76,\n  'm': 77,\n  'n': 78,\n  'o': 79,\n  'p': 80,\n  'q': 81,\n  'r': 82,\n  's': 83,\n  't': 84,\n  'u': 85,\n  'v': 86,\n  'w': 87,\n  'x': 88,\n  'y': 89,\n  'z': 90,\n  '0': 48,\n  '1': 49,\n  '2': 50,\n  '3': 51,\n  '4': 52,\n  '5': 53,\n  '6': 54,\n  '7': 55,\n  '8': 56,\n  '9': 57,\n  'SPACE': 32,\n  'ENTER': 13,\n  'ESCAPE': 27,\n  'LEFT': 37,\n  'UP': 38,\n  'RIGHT': 39,\n  'DOWN': 40\n};\n\nconst svgNamespace = 'http://www.w3.org/2000/svg';\nconst xlinkNamespace = 'http://www.w3.org/1999/xlink';\n\nexport {\n  isInDevMode,\n  listenToMultipleForMultiple,\n  createElement,\n  containsClass,\n  toggleClass,\n  getPageOffset,\n  getViewportSize,\n  removeChildIfPresent,\n  addClass,\n  removeClass,\n  clearClasses,\n  getTextWidth,\n  encodeQueryString,\n  getQueryStringParameterValue,\n  setTransition,\n  setTransitionDurationSeconds,\n  setTransitionDelaySeconds,\n  setUserSelectNone,\n  removeChildrenWithClass,\n  setTransitionCubicBezierTimingFunction,\n  easingFunctions,\n  inverseEasingFunctions,\n  getXYFromPercentWithBezier,\n  setTransform,\n  shuffle,\n  shallowCopy,\n  deepCopy,\n  hsvToHsl,\n  hslToHsv,\n  hslToRgb,\n  rgbToHsl,\n  createHslColorString,\n  findClassInSelfOrAncestors,\n  addRuleToStyleSheet,\n  checkForSafari,\n  checkForIos,\n  debounce,\n  throttle,\n  loadImageSrc,\n  loadText,\n  loadJson,\n  getStackTrace,\n  deepFreeze,\n  createGuid,\n  mod,\n  randomFloatInRange,\n  randomIntInRange,\n  pickRandom,\n  handlePageFocusChange,\n  range,\n  isInt,\n  find,\n  keyCodes,\n  svgNamespace,\n  xlinkNamespace,\n};\n\n/**\n * @typedef {Object} HslColor\n * @property {Number} h In the range of [0, 1].\n * @property {Number} s In the range of [0, 1].\n * @property {Number} l In the range of [0, 1].\n * @property {Number} [a] In the range of [0, 1].\n */\n\n/**\n * @typedef {Object} RgbColor\n * @property {Number} r In the range of [0, 1].\n * @property {Number} g In the range of [0, 1].\n * @property {Number} b In the range of [0, 1].\n * @property {Number} [a] In the range of [0, 1].\n */\n","/**\n * An AnimationJob is used with the animator controller to update and re-draw something each frame.\n *\n * @abstract\n */\nclass AnimationJob {\n  /**\n   * @param {Function} [onComplete] A callback to be called when this AnimationJob is finished.\n   */\n  constructor(onComplete) {\n    // AnimationJob is an abstract class. It should not be instantiated directly.\n    if (new.target === AnimationJob) {\n      throw new TypeError('Cannot construct AnimationJob instances directly');\n    }\n\n    this._startTime = 0;\n    this._isComplete = true;\n    this._onComplete = onComplete;\n  }\n\n  /**\n   * Indicates whether this AnimationJob is complete.\n   *\n   * @return {boolean}\n   */\n  get isComplete() {\n    return this._isComplete;\n  }\n\n  /**\n   * Sets this AnimationJob as started.\n   *\n   * @param {DOMHighResTimeStamp} startTime\n   */\n  start(startTime) {\n    this._startTime = startTime;\n    this._isComplete = false;\n  }\n\n  /**\n   * Updates the animation progress of this AnimationJob to match the given time.\n   *\n   * This is called from the overall animation loop.\n   *\n   * @param {DOMHighResTimeStamp} currentTime\n   * @param {DOMHighResTimeStamp} deltaTime\n   * @abstract\n   */\n  update(currentTime, deltaTime) {\n    // Extending classes should implement this method.\n    throw new TypeError('Method not implemented');\n  }\n\n  /**\n   * Draws the current state of this AnimationJob.\n   *\n   * This is called from the overall animation loop.\n   *\n   * @abstract\n   */\n  draw() {\n    // Extending classes should implement this method.\n    throw new TypeError('Method not implemented');\n  }\n\n  /**\n   * Handles any necessary state for this AnimationJob being finished.\n   *\n   * @param {boolean} isCancelled\n   */\n  finish(isCancelled) {\n    console.log(`${this.constructor.name} ${isCancelled ? 'cancelled' : 'completed'}`);\n\n    this._isComplete = true;\n\n    if (this._onComplete) {\n      this._onComplete();\n    }\n  }\n}\n\nexport {AnimationJob};\n","import {FrameLatencyProfiler} from './frame-latency-profiler';\nimport {PersistentAnimationJob} from './persistent-animation-job';\nimport {TransientAnimationJob} from './transient-animation-job';\n\nconst _DELTA_TIME_UPPER_THRESHOLD = 200;\nconst _FRAME_DURATION_WARNING_THRESHOLD = 1000 / 30;\nconst _FRAME_LATENCY_LOG_PERIOD = 5000;\nconst _LATENCY_LOG_LABEL = 'Animation frame period';\n\n/**\n * This class handles the animation loop.\n *\n * This class's responsibilities include:\n * - updating modules for the current frame,\n * - drawing renderables for the current frame,\n * - starting and stopping transient animation jobs,\n * - capping time step durations at a max threshold.\n */\nclass Animator {\n  constructor() {\n    this._jobs = [];\n    this._previousTime = null;\n    this._isPaused = true;\n    this._requestAnimationFrameId = null;\n    this._totalUnpausedRunTime = 0;\n    this._lastUnpauseTime = null;\n    this._latencyProfiler = new FrameLatencyProfiler(_FRAME_LATENCY_LOG_PERIOD,\n        _FRAME_DURATION_WARNING_THRESHOLD, _LATENCY_LOG_LABEL);\n  }\n\n  /**\n   * Starts the given AnimationJob.\n   *\n   * @param {AnimationJob} job\n   */\n  startJob(job) {\n    // Is this a restart?\n    if (!job.isComplete) {\n      console.debug(`Restarting AnimationJob: ${job.constructor.name}`);\n\n      if (job instanceof PersistentAnimationJob) {\n        job.reset();\n      } else {\n        job.finish(true);\n        job.start(window.performance.now());\n      }\n    } else {\n      console.debug(`Starting AnimationJob: ${job.constructor.name}`);\n\n      job.start(this._previousTime);\n      this._jobs.push(job);\n    }\n\n    this._startAnimationLoop();\n  }\n\n  /**\n   * Cancels the given AnimationJob.\n   *\n   * @param {AnimationJob} job\n   */\n  cancelJob(job) {\n    console.debug(`Cancelling AnimationJob: ${job.constructor.name}`);\n    job.finish(true);\n  }\n\n  /**\n   * Cancels all running AnimationJobs.\n   */\n  cancelAll() {\n    while (this._jobs.length) {\n      this.cancelJob(this._jobs[0]);\n    }\n  }\n\n  /** @returns {DOMHighResTimeStamp} */\n  get currentTime() {\n    return this._previousTime;\n  }\n\n  /** @returns {boolean} */\n  get isPaused() {\n    return this._isPaused;\n  }\n\n  pause() {\n    this._stopAnimationLoop();\n    console.debug('Animator paused');\n  }\n\n  unpause() {\n    this._startAnimationLoop();\n    console.debug('Animator unpaused');\n  }\n\n  /**\n   * This is the animation loop that drives all of the animation.\n   *\n   * @param {DOMHighResTimeStamp} currentTime\n   * @private\n   */\n  _animationLoop(currentTime) {\n    // When pausing and restarting, it's possible for the previous time to be slightly inconsistent\n    // with the animationFrame time.\n    if (currentTime < this._previousTime) {\n      this._previousTime = currentTime - 1;\n    }\n\n    let deltaTime = currentTime - this._previousTime;\n    this._previousTime = currentTime;\n\n    this._latencyProfiler.recordFrameLatency(deltaTime);\n\n    // Large delays between frames can cause lead to instability in the system, so this caps them to\n    // a max threshold.\n    deltaTime = deltaTime > _DELTA_TIME_UPPER_THRESHOLD ?\n        _DELTA_TIME_UPPER_THRESHOLD : deltaTime;\n\n    if (!this._isPaused) {\n      this._requestAnimationFrameId =\n          window.requestAnimationFrame(currentTime => this._animationLoop(currentTime));\n      this._updateJobs(currentTime, deltaTime);\n      this._drawJobs();\n    }\n  }\n\n  /**\n   * Updates all of the active AnimationJobs.\n   *\n   * @param {DOMHighResTimeStamp} currentTime\n   * @param {DOMHighResTimeStamp} deltaTime\n   * @private\n   */\n  _updateJobs(currentTime, deltaTime) {\n    for (let i = 0, count = this._jobs.length; i < count; i++) {\n      let job = this._jobs[i];\n\n      // Remove jobs from the list after they are complete.\n      if (job.isComplete) {\n        this._removeJob(job, i);\n        i--;\n        count--;\n        continue;\n      }\n\n      // Check whether the job is transient and has reached its end.\n      if (job instanceof TransientAnimationJob && job.endTime < currentTime) {\n        job.finish(false);\n      } else {\n        job.update(currentTime, deltaTime);\n      }\n    }\n  }\n\n  /**\n   * Removes the given job from the collection of active, animating jobs.\n   *\n   * @param {AnimationJob} job\n   * @param {number} [index=-1]\n   * @private\n   */\n  _removeJob(job, index = -1) {\n    console.debug(`Removing AnimationJob: ${job.constructor.name}`);\n\n    if (index >= 0) {\n      this._jobs.splice(index, 1);\n    } else {\n      const count = this._jobs.length;\n      for (index = 0; index < count; index++) {\n        if (this._jobs[index] === job) {\n          this._jobs.splice(index, 1);\n          break;\n        }\n      }\n    }\n\n    // Stop the animation loop when there are no more jobs to animate.\n    if (this._jobs.length === 0) {\n      this._stopAnimationLoop();\n    }\n  }\n\n  /**\n   * Draws all of the active AnimationJobs.\n   *\n   * @private\n   */\n  _drawJobs() {\n    for (let i = 0, count = this._jobs.length; i < count; i++) {\n      this._jobs[i].draw();\n    }\n  }\n\n  /**\n   * Starts the animation loop if it is not already running.\n   *\n   * This method is idempotent.\n   *\n   * @private\n   */\n  _startAnimationLoop() {\n    if (this._isPaused) {\n      this._lastUnpauseTime = window.performance.now();\n    }\n    this._isPaused = false;\n\n    // Only actually start the loop if it isn't already running and the page has focus.\n    if (!this._requestAnimationFrameId && !document.hidden) {\n      this._latencyProfiler.start();\n      this._previousTime = window.performance.now();\n      this._requestAnimationFrameId =\n          window.requestAnimationFrame(time => this._animationLoop(time));\n    }\n  }\n\n  /**\n   * Stops the animation loop.\n   *\n   * @private\n   */\n  _stopAnimationLoop() {\n    if (!this._isPaused) {\n      this._totalUnpausedRunTime += this._timeSinceLastPaused;\n    }\n    this._isPaused = true;\n    window.cancelAnimationFrame(this._requestAnimationFrameId);\n    this._requestAnimationFrameId = null;\n    this._latencyProfiler.stop();\n  }\n\n  /**\n   * Creates a promise that will resolve on the next animation loop.\n   *\n   * @returns {Promise}\n   */\n  resolveOnNextFrame() {\n    return new Promise(window.requestAnimationFrame);\n  }\n\n  /**\n   * Gets the total amount of time the animator has been running while not paused.\n   *\n   * @returns {DOMHighResTimeStamp}\n   */\n  get totalRunTime() {\n    return this._isPaused\n        ? this._totalUnpausedRunTime\n        : this._totalUnpausedRunTime + this._timeSinceLastPaused;\n  }\n\n  /**\n   * @returns {DOMHighResTimeStamp}\n   */\n  get _timeSinceLastPaused() {\n    return window.performance.now() - this._lastUnpauseTime;\n  }\n}\n\nconst animator = new Animator();\n\nexport {animator};\n\n/**\n * @typedef {number} DOMHighResTimeStamp A number of milliseconds, accurate to one thousandth of a\n * millisecond.\n */\n\n","/**\n * This class keeps track of avg/min/max frame latencies over the last logging time period and\n * periodically logs these values.\n */\nclass FrameLatencyProfiler {\n  /**\n   * @param {number} logPeriod The period at which to print latency log messages. In milliseconds.\n   * @param {number} latencyWarningThreshold If the average latency exceeds this threshold, then the\n   * log message is shown as a warning. In milliseconds.\n   * @param {string} logLabel A label to show for each latency log message.\n   */\n  constructor(logPeriod, latencyWarningThreshold, logLabel) {\n    this._logPeriod = logPeriod;\n    this._latencyWarningThreshold = latencyWarningThreshold;\n    this._logLabel = logLabel;\n\n    this._frameCount = null;\n    this._maxFrameLatency = null;\n    this._minFrameLatency = null;\n    this._avgFrameLatency = null;\n\n    this._intervalId = null;\n  }\n\n  start() {\n    this.stop();\n    this.reset();\n\n    this._intervalId = setInterval(() => {\n      this.logFrameLatency();\n      this.reset();\n    }, this._logPeriod);\n  }\n\n  stop() {\n    clearInterval(this._intervalId);\n  }\n\n  reset() {\n    this._frameCount = 0;\n    this._maxFrameLatency = Number.MIN_VALUE;\n    this._minFrameLatency = Number.MAX_VALUE;\n    this._avgFrameLatency = 0;\n  }\n\n  /**\n   * Keeps track of a running average, min value, and max value for the frame latencies.\n   *\n   * @param {DOMHighResTimeStamp} frameLatency\n   */\n  recordFrameLatency(frameLatency) {\n    this._frameCount++;\n    this._maxFrameLatency =\n        this._maxFrameLatency < frameLatency ? frameLatency : this._maxFrameLatency;\n    this._minFrameLatency =\n        this._minFrameLatency > frameLatency ? frameLatency : this._minFrameLatency;\n    this._avgFrameLatency =\n        this._avgFrameLatency + (frameLatency - this._avgFrameLatency) / this._frameCount;\n  }\n\n  logFrameLatency() {\n    if (this._frameCount > 0) {\n      const message = `${this._logLabel}:  AVG=${this._avgFrameLatency.toFixed(3)}  ` +\n          `(MAX=${this._maxFrameLatency.toFixed(3)}; MIN=${this._minFrameLatency.toFixed(3)})`;\n      if (this._maxFrameLatency >= this._latencyWarningThreshold) {\n        console.warn(message);\n      } else {\n        console.debug(message);\n      }\n    }\n  }\n}\n\nexport {FrameLatencyProfiler};\n","export * from './animation-job';\nexport * from './animator';\nexport * from './frame-latency-profiler';\nexport * from './persistent-animation-job';\nexport * from './transient-animation-job';\n","import {AnimationJob} from './animation-job';\n\n/**\n * A PersistentAnimationJob recurs or has an indefinite duration.\n *\n * @abstract\n */\nclass PersistentAnimationJob extends AnimationJob {\n  /**\n   * @param {Function} [onComplete] A callback to be called when this AnimationJob is finished.\n   */\n  constructor(onComplete) {\n    super(onComplete);\n\n    // PersistentAnimationJob is an abstract class. It should not be instantiated directly.\n    if (new.target === PersistentAnimationJob) {\n      throw new TypeError('Cannot construct PersistentAnimationJob instances directly');\n    }\n  }\n\n  /**\n   * @abstract\n   */\n  reset() {\n    // Extending classes should implement this method.\n    throw new TypeError('Method not implemented');\n  }\n}\n\nexport {PersistentAnimationJob};\n","import {_util} from './util';\n\nimport {AnimationJob} from './animation-job';\n\n/**\n * A TransientAnimationJob is temporary and has a definite beginning and end.\n *\n * @abstract\n */\nclass TransientAnimationJob extends AnimationJob {\n  /**\n   * @param {number} duration\n   * @param {number} delay\n   * @param {Function|String} easingFunction\n   * @param {Function} [onComplete] A callback to be called when this AnimationJob is finished.\n   */\n  constructor(duration, delay, easingFunction, onComplete) {\n    super(onComplete);\n\n    // TransientAnimationJob is an abstract class. It should not be instantiated directly.\n    if (new.target === TransientAnimationJob) {\n      throw new TypeError('Cannot construct TransientAnimationJob instances directly');\n    }\n\n    this._duration = duration;\n    this._delay = delay;\n    this._easingFunction = typeof easingFunction === 'function'\n        ? easingFunction\n        : _util.easingFunctions[easingFunction];\n  }\n\n  /**\n   * @returns {number}\n   */\n  get endTime() {\n    return this._startTime + this._duration + this._delay;\n  }\n}\n\nexport {TransientAnimationJob};\n","/**\n * This module defines a collection of static utility functions.\n */\n\n// A collection of different types of easing functions.\nconst easingFunctions = {\n  linear: t => t,\n  easeInQuad: t => t * t,\n  easeOutQuad: t => t * (2 - t),\n  easeInOutQuad: t => t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t,\n  easeInCubic: t => t * t * t,\n  easeOutCubic: t => 1 + --t * t * t,\n  easeInOutCubic: t => t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1,\n  easeInQuart: t => t * t * t * t,\n  easeOutQuart: t => 1 - --t * t * t * t,\n  easeInOutQuart: t => t < 0.5 ? 8 * t * t * t * t : 1 - 8 * --t * t * t * t,\n  easeInQuint: t => t * t * t * t * t,\n  easeOutQuint: t => 1 + --t * t * t * t * t,\n  easeInOutQuint: t => t < 0.5 ? 16 * t * t * t * t * t : 1 + 16 * --t * t * t * t * t\n};\n\nconst _util = {\n  easingFunctions,\n};\n\nexport {\n  _util,\n};\n","export * from './src/aabb-collidable';\nexport * from './src/capsule-collidable';\nexport * from './src/collidable';\nexport * from './src/line-segment';\nexport * from './src/obb-collidable';\nexport * from './src/sphere-collidable';\n","import {Collidable} from './collidable';\nimport {LineSegment} from './line-segment';\nimport {tmpVec1, tmpVec2} from '../../../util';\n\n/**\n * This class represents an axially-aligned bounding box (AABB).\n *\n * This is primarily useful for collision detection. An AABB is only appropriate for some\n * geometries. For other geometries, an oriented bounding box (OBB) or a bounding sphere may be more\n * appropriate.\n */\nclass Aabb extends Collidable {\n  /**\n   * @param {number} minX\n   * @param {number} minY\n   * @param {number} minZ\n   * @param {number} maxX\n   * @param {number} maxY\n   * @param {number} maxZ\n   * @param {boolean} [isStationary=false]\n   * @param {CollidablePhysicsJob} [physicsJob]\n   */\n  constructor(minX, minY, minZ, maxX, maxY, maxZ, isStationary = false, physicsJob) {\n    super(isStationary, physicsJob);\n    this.minX = minX;\n    this.minY = minY;\n    this.minZ = minZ;\n    this.maxX = maxX;\n    this.maxY = maxY;\n    this.maxZ = maxZ;\n  }\n\n  /**\n   * Creates a new bounding box with the dimensions of an axially-aligned cube centered around the \n   * given center and with the given half-side length.\n   *\n   * @param {vec3} center\n   * @param {number} halfSideLength\n   */\n  static createAsUniformAroundCenter(center, halfSideLength) {\n    const bounds = new Aabb(0, 0, 0, 0, 0, 0);\n    bounds.setAsUniformAroundCenter(center, halfSideLength);\n    return bounds;\n  }\n\n  /**\n   * Updates the dimensions of this bounding box to represent an axially-aligned cube centered\n   * around the given center and with the given half-side length.\n   *\n   * @param {vec3} center\n   * @param {number} halfSideLength\n   */\n  setAsUniformAroundCenter(center, halfSideLength) {\n    this.minX = center[0] - halfSideLength;\n    this.minY = center[1] - halfSideLength;\n    this.minZ = center[2] - halfSideLength;\n    this.maxX = center[0] + halfSideLength;\n    this.maxY = center[1] + halfSideLength;\n    this.maxZ = center[2] + halfSideLength;\n  }\n\n  /** @returns {number} */\n  get rangeX() {\n    return this.maxX - this.minX;\n  }\n  /** @returns {number} */\n  get rangeY() {\n    return this.maxY - this.minY;\n  }\n  /** @returns {number} */\n  get rangeZ() {\n    return this.maxZ - this.minZ;\n  }\n\n  /** @returns {number} */\n  get centerX() {\n    return this.minX + this.rangeX / 2;\n  }\n  /** @returns {number} */\n  get centerY() {\n    return this.minY + this.rangeY / 2;\n  }\n  /** @returns {number} */\n  get centerZ() {\n    return this.minZ + this.rangeZ / 2;\n  }\n\n  /** @returns {number} */\n  get surfaceArea() {\n    const rangeX = this.rangeX;\n    const rangeY = this.rangeY;\n    const rangeZ = this.rangeZ;\n    return 2 * (rangeX * rangeY + rangeX * rangeZ + rangeY * rangeZ);\n  }\n\n  /**\n   * @returns {vec3}\n   * @override\n   */\n  get centerOfVolume() {\n    // Reuse the same object when this is called multiple times.\n    this._centerOfVolume = this._centerOfVolume || vec3.create();\n    vec3.set(this._centerOfVolume, this.centerX, this.centerY, this.centerZ);\n    return this._centerOfVolume;\n  }\n\n  /**\n   * @returns {Collidable}\n   * @override\n   */\n  get boundingVolume() {\n    return this;\n  }\n\n  /**\n   * @param {vec3} value\n   * @override\n   */\n  set position(value) {\n    const rangeX = this.rangeX;\n    const rangeY = this.rangeY;\n    const rangeZ = this.rangeZ;\n    this.minX = value[0] - rangeX / 2;\n    this.minY = value[1] - rangeY / 2;\n    this.minZ = value[2] - rangeZ / 2;\n    this.maxX = value[0] + rangeX / 2;\n    this.maxY = value[1] + rangeY / 2;\n    this.maxZ = value[2] + rangeZ / 2;\n  }\n\n  /**\n   * @param {quat} value\n   * @override\n   */\n  set orientation(value) {\n    // Do nothing.\n  }\n\n  /**\n   * Calls the given callback once for each vertex.\n   *\n   * Stops as soon as the callback returns true for a vertex.\n   *\n   * @param {VertexCallback} callback\n   * @param {vec3} [vertex] Output param.\n   * @returns {boolean} True if one of the callbacks returned true.\n   */\n  someVertex(callback, vertex) {\n    vertex = vertex || tmpVec1;\n\n    vec3.set(vertex, this.minX, this.minY, this.minZ);\n    if (callback(vertex)) return true;\n\n    vec3.set(vertex, this.maxX, this.minY, this.minZ);\n    if (callback(vertex)) return true;\n\n    vec3.set(vertex, this.minX, this.maxY, this.minZ);\n    if (callback(vertex)) return true;\n\n    vec3.set(vertex, this.maxX, this.maxY, this.minZ);\n    if (callback(vertex)) return true;\n\n    vec3.set(vertex, this.minX, this.minY, this.maxZ);\n    if (callback(vertex)) return true;\n\n    vec3.set(vertex, this.maxX, this.minY, this.maxZ);\n    if (callback(vertex)) return true;\n\n    vec3.set(vertex, this.minX, this.maxY, this.maxZ);\n    if (callback(vertex)) return true;\n\n    vec3.set(vertex, this.maxX, this.maxY, this.maxZ);\n    if (callback(vertex)) return true;\n\n    return false;\n  }\n\n  /**\n   * Calls the given callback once for each edge.\n   *\n   * @param {EdgeCallback} callback\n   * @param {LineSegment} [edge] Output param.\n   * @returns {boolean} True if one of the callbacks returned true.\n   */\n  someEdge(callback, edge) {\n    edge = edge || _segment;\n\n    //\n    // Edges along front face.\n    //\n\n    vec3.set(tmpVec1, this.minX, this.minY, this.minZ);\n    vec3.set(tmpVec2, this.maxX, this.minY, this.minZ);\n    edge.reset(tmpVec1, tmpVec2);\n    if (callback(edge)) return true;\n\n    vec3.set(tmpVec1, this.minX, this.maxY, this.minZ);\n    vec3.set(tmpVec2, this.maxX, this.maxY, this.minZ);\n    edge.reset(tmpVec1, tmpVec2);\n    if (callback(edge)) return true;\n\n    vec3.set(tmpVec1, this.minX, this.minY, this.minZ);\n    vec3.set(tmpVec2, this.minX, this.maxY, this.minZ);\n    edge.reset(tmpVec1, tmpVec2);\n    if (callback(edge)) return true;\n\n    vec3.set(tmpVec1, this.maxX, this.minY, this.minZ);\n    vec3.set(tmpVec2, this.maxX, this.maxY, this.minZ);\n    edge.reset(tmpVec1, tmpVec2);\n    if (callback(edge)) return true;\n\n    //\n    // Edges along back face.\n    //\n\n    vec3.set(tmpVec1, this.minX, this.minY, this.maxZ);\n    vec3.set(tmpVec2, this.maxX, this.minY, this.maxZ);\n    edge.reset(tmpVec1, tmpVec2);\n    if (callback(edge)) return true;\n\n    vec3.set(tmpVec1, this.minX, this.maxY, this.maxZ);\n    vec3.set(tmpVec2, this.maxX, this.maxY, this.maxZ);\n    edge.reset(tmpVec1, tmpVec2);\n    if (callback(edge)) return true;\n\n    vec3.set(tmpVec1, this.minX, this.minY, this.maxZ);\n    vec3.set(tmpVec2, this.minX, this.maxY, this.maxZ);\n    edge.reset(tmpVec1, tmpVec2);\n    if (callback(edge)) return true;\n\n    vec3.set(tmpVec1, this.maxX, this.minY, this.maxZ);\n    vec3.set(tmpVec2, this.maxX, this.maxY, this.maxZ);\n    edge.reset(tmpVec1, tmpVec2);\n    if (callback(edge)) return true;\n\n    //\n    // Edges between front and back faces.\n    //\n\n    vec3.set(tmpVec1, this.minX, this.minY, this.minZ);\n    vec3.set(tmpVec2, this.minX, this.minY, this.maxZ);\n    edge.reset(tmpVec1, tmpVec2);\n    if (callback(edge)) return true;\n\n    vec3.set(tmpVec1, this.maxX, this.minY, this.minZ);\n    vec3.set(tmpVec2, this.maxX, this.minY, this.maxZ);\n    edge.reset(tmpVec1, tmpVec2);\n    if (callback(edge)) return true;\n\n    vec3.set(tmpVec1, this.minX, this.maxY, this.minZ);\n    vec3.set(tmpVec2, this.minX, this.maxY, this.maxZ);\n    edge.reset(tmpVec1, tmpVec2);\n    if (callback(edge)) return true;\n\n    vec3.set(tmpVec1, this.maxX, this.maxY, this.minZ);\n    vec3.set(tmpVec2, this.maxX, this.maxY, this.maxZ);\n    edge.reset(tmpVec1, tmpVec2);\n    if (callback(edge)) return true;\n\n    return false;\n  }\n}\n\nconst _segment = new LineSegment(vec3.create(), vec3.create());\n\nexport {Aabb};\n","import {Collidable} from './collidable';\nimport {LineSegment} from './line-segment';\n\n/**\n * This class represents a capsule.\n *\n * - A capsule is a cylinder with semi-spheres on either end.\n * - A capsule can represent a rough approximation of many useful shapes.\n * - A capsule can be used for relatively efficient collision detection.\n */\nclass Capsule extends Collidable {\n  /**\n   * The default orientation of the capsule is along the z-axis.\n   *\n   * @param {number} halfDistance Half the distance from the centers of the capsule end spheres.\n   * @param {number} radius\n   * @param {boolean} [isStationary=false]\n   * @param {CollidablePhysicsJob} [physicsJob]\n   */\n  constructor(halfDistance, radius, isStationary = false, physicsJob) {\n    super(isStationary, physicsJob);\n    this.halfDistance = halfDistance;\n    this.segment = new LineSegment(vec3.fromValues(0, 0, -halfDistance),\n        vec3.fromValues(0, 0, halfDistance));\n    this.radius = radius;\n  }\n\n  /**\n   * @returns {vec3}\n   * @override\n   */\n  get centerOfVolume() {\n    return this.segment.center;\n  }\n\n  /**\n   * @returns {Collidable}\n   * @override\n   */\n  get boundingVolume() {\n    return this;\n  }\n\n  /**\n   * @param {vec3} value\n   * @override\n   */\n  set position(value) {\n    this.segment.center = value;\n  }\n\n  /**\n   * @param {quat} value\n   * @override\n   */\n  set orientation(value) {\n    this.segment.orientation = value;\n  }\n}\n\nexport {Capsule};\n","/**\n * This class represents a 3D collidable rigid object.\n *\n * This is useful for collision detection and response.\n *\n * @abstract\n */\nclass Collidable {\n  /**\n   * @param {boolean} isStationary\n   * @param {CollidablePhysicsJob} [physicsJob]\n   */\n  constructor(isStationary, physicsJob) {\n    // Collidable is an abstract class. It should not be instantiated directly.\n    if (new.target === Collidable) {\n      throw new TypeError('Cannot construct Collidable instances directly');\n    }\n\n    this.isStationary = isStationary;\n    this.physicsJob = physicsJob;\n    this.collisions = [];\n    this.previousCollisions = [];\n  }\n\n  /**\n   * Implementing classes can override this to provide a center of mass that is different than the\n   * center of volume.\n   *\n   * @returns {vec3}\n   */\n  get centerOfMass() {\n    return this.centerOfVolume;\n  }\n\n  /**\n   * @returns {vec3}\n   * @abstract\n   */\n  get centerOfVolume() {\n    // Extending classes should implement this method.\n    throw new TypeError('Method not implemented');\n  }\n\n  /**\n   * @returns {Collidable}\n   * @abstract\n   */\n  get boundingVolume() {\n    // Extending classes should implement this method.\n    throw new TypeError('Method not implemented');\n  }\n\n  /**\n   * @param {vec3} value\n   * @abstract\n   */\n  set position(value) {\n    // Extending classes should implement this method.\n    throw new TypeError('Method not implemented');\n  }\n\n  /**\n   * @param {quat} value\n   * @abstract\n   */\n  set orientation(value) {\n    // Extending classes should implement this method.\n    throw new TypeError('Method not implemented');\n  }\n}\n\nexport {Collidable};\n","import {tmpVec1, tmpVec2} from '../../../util';\n\n/**\n * This class represents a line segment.\n */\nclass LineSegment {\n  /**\n   * @param {vec3} start\n   * @param {vec3} end\n   */\n  constructor(start, end) {\n    this.start = vec3.create();\n    this.end = vec3.create();\n    this._center = vec3.create();\n    this._originalOrientationStart = vec3.create();\n    this._originalOrientationEnd = vec3.create();\n    this.reset(start, end);\n  }\n\n  /**\n   * @param {vec3} start\n   * @param {vec3} end\n   */\n  reset(start, end) {\n    vec3.copy(this.start, start);\n    vec3.copy(this.end, end);\n    vec3.subtract(this._originalOrientationStart, this.start, this.center);\n    vec3.subtract(this._originalOrientationEnd, this.end, this.center);\n  }\n\n  /** @returns {LineSegment} */\n  clone() {\n    const segment = new LineSegment(this.start, this.end);\n    segment._originalOrientationStart = this._originalOrientationStart;\n    segment._originalOrientationEnd = this._originalOrientationEnd;\n    return segment;\n  }\n\n  /**\n   * The UN-NORMALIZED direction of this segment.\n   *\n   * @returns {vec3}\n   */\n  get dir() {\n    // Reuse the same object when this is called multiple times.\n    this._dir = this._dir || vec3.create();\n    return vec3.subtract(this._dir, this.end, this.start);\n  }\n\n  /** @returns {vec3} */\n  get center() {\n    vec3.lerp(this._center, this.start, this.end, 0.5);\n    return this._center;\n  }\n\n  /** @param {vec3} value */\n  set center(value) {\n    // Reuse the same object when this is called multiple times.\n    this._displacement = this._displacement || vec3.create();\n    vec3.subtract(this._displacement, value, this.center);\n\n    vec3.add(this.start, this.start, this._displacement);\n    vec3.add(this.end, this.end, this._displacement);\n  }\n\n  /** @param {quat} value */\n  set orientation(value) {\n    vec3.transformQuat(tmpVec1, this._originalOrientationStart, value);\n    vec3.transformQuat(tmpVec2, this._originalOrientationEnd, value);\n\n    // We don't want this to be re-calculated between start/end updates.\n    const center = this.center;\n\n    vec3.add(this.start, center, tmpVec1);\n    vec3.add(this.end, center, tmpVec2);\n  }\n}\n\nexport {LineSegment};\n","import {Collidable} from './collidable';\nimport {Sphere} from './sphere-collidable';\nimport {LineSegment} from './line-segment';\n\n/**\n * This class represents an oriented bounding box (OBB).\n *\n * This is useful both for collision detection and for representing any rotated rectangular cuboid.\n * An OBB is only appropriate for some geometries. For other geometries, an axially-aligned bounding\n * box (AABB) or a bounding sphere may be more appropriate.\n */\nclass Obb extends Collidable {\n  /**\n   * Defaults to being centered at the origin with its local axes aligned with the world axes.\n   *\n   * @param {number} halfSideLengthX\n   * @param {number} halfSideLengthY\n   * @param {number} halfSideLengthZ\n   * @param {boolean} [isStationary=false]\n   * @param {CollidablePhysicsJob} [physicsJob]\n   */\n  constructor(halfSideLengthX, halfSideLengthY, halfSideLengthZ, isStationary = false, physicsJob) {\n    super(isStationary, physicsJob);\n    this.extents = [\n      vec3.fromValues(halfSideLengthX, 0, 0),\n      vec3.fromValues(0, halfSideLengthY, 0),\n      vec3.fromValues(0, 0, halfSideLengthZ)\n    ];\n    this.axes = [\n      vec3.fromValues(1, 0, 0),\n      vec3.fromValues(0, 1, 0),\n      vec3.fromValues(0, 0, 1)\n    ];\n    this.halfSideLengths = [\n      halfSideLengthX,\n      halfSideLengthY,\n      halfSideLengthZ\n    ];\n    this._center = vec3.create();\n    this._orientation = quat.create();\n  }\n\n  /**\n   * @returns {vec3}\n   * @override\n   */\n  get centerOfVolume() {\n    return this._center;\n  }\n\n  /**\n   * @returns {Collidable}\n   * @override\n   */\n  get boundingVolume() {\n    // Reuse the same value when this is called multiple times.\n    if (!this._boundingSphere) {\n      const radius = Math.sqrt(this.halfSideLengthX * this.halfSideLengthX +\n          this.halfSideLengthY * this.halfSideLengthY +\n          this.halfSideLengthZ * this.halfSideLengthZ);\n      this._boundingSphere = new Sphere(0, 0, 0, radius, this.isStationary);\n    }\n    this._boundingSphere.position = this._center;\n    return this._boundingSphere;\n  }\n\n  /**\n   * @param {vec3} value\n   * @override\n   */\n  set position(value) {\n    vec3.copy(this._center, value);\n  }\n\n  /**\n   * @param {quat} value\n   * @override\n   */\n  set orientation(value) {\n    quat.copy(this._orientation, value);\n    this._updateExtents();\n  }\n  /** @returns {quat} */\n  get orientation() {\n    return this._orientation;\n  }\n\n  /** @returns {number} */\n  get halfSideLengthX() {\n    return this.halfSideLengths[0];\n  }\n  /** @param {number} value */\n  set halfSideLengthX(value) {\n    this.halfSideLengths[0] = value;\n    this._updateExtents();\n  }\n\n  /** @returns {number} */\n  get halfSideLengthY() {\n    return this.halfSideLengths[1];\n  }\n  /** @param {number} value */\n  set halfSideLengthY(value) {\n    this.halfSideLengths[1] = value;\n    this._updateExtents();\n  }\n\n  /** @returns {number} */\n  get halfSideLengthZ() {\n    return this.halfSideLengths[2];\n  }\n  /** @param {number} value */\n  set halfSideLengthZ(value) {\n    this.halfSideLengths[2] = value;\n    this._updateExtents();\n  }\n\n  /**\n   * Calls the given callback once for each vertex.\n   *\n   * Stops as soon as the callback returns true for a vertex.\n   *\n   * @param {VertexCallback} callback\n   * @param {vec3} [vertex] Output param.\n   * @returns {boolean} True if one of the callbacks returned true.\n   */\n  someVertex(callback, vertex) {\n    vertex = vertex || _vertex1;\n\n    for (let xScale = -1; xScale <= 1; xScale += 2) {\n      for (let yScale = -1; yScale <= 1; yScale += 2) {\n        for (let zScale = -1; zScale <= 1; zScale += 2) {\n          vec3.copy(vertex, this._center);\n          vec3.scaleAndAdd(vertex, vertex, this.extents[0], xScale);\n          vec3.scaleAndAdd(vertex, vertex, this.extents[1], yScale);\n          vec3.scaleAndAdd(vertex, vertex, this.extents[2], zScale);\n          if (callback(vertex)) {\n            return true;\n          }\n        }\n      }\n    }\n    return false;\n  }\n\n  /**\n   * Calls the given callback once for each edge.\n   *\n   * @param {EdgeCallback} callback\n   * @param {LineSegment} [edge] Output param.\n   * @returns {boolean} True if one of the callbacks returned true.\n   */\n  someEdge(callback, edge) {\n    edge = edge || _segment;\n\n    return _edgeExtentScales.some(edgeExtentScalePair => {\n      const vertex1ExtentScales = edgeExtentScalePair[0];\n      const vertex2ExtentScales = edgeExtentScalePair[1];\n\n      // Calculate the edge's first and second vertex.\n      vec3.copy(_vertex1, this._center);\n      vec3.copy(_vertex2, this._center);\n      for (let i = 0; i < 3; i++) {\n        vec3.scaleAndAdd(_vertex1, _vertex1, this.extents[i], vertex1ExtentScales[i]);\n        vec3.scaleAndAdd(_vertex2, _vertex2, this.extents[i], vertex2ExtentScales[i]);\n      }\n\n      // Call back with the edge.\n      edge.reset(_vertex1, _vertex2);\n      return callback(edge);\n    });\n  }\n\n  /**\n   * Calls the given callback once for each face.\n   *\n   * @param {FaceCallback} callback\n   * @param {Array.<vec3>} [face] Output param.\n   * @returns {boolean} True if one of the callbacks returned true.\n   */\n  someFace(callback, face) {\n    face = face || [];\n\n    return _faceExtentScales.some(faceExtentScales => {\n      const vertex1ExtentScales = faceExtentScales[0];\n      const vertex2ExtentScales = faceExtentScales[1];\n      const vertex3ExtentScales = faceExtentScales[2];\n      const vertex4ExtentScales = faceExtentScales[3];\n\n      // Calculate the face's vertices.\n      vec3.copy(_vertex1, this._center);\n      vec3.copy(_vertex2, this._center);\n      vec3.copy(_vertex3, this._center);\n      vec3.copy(_vertex4, this._center);\n      for (let i = 0; i < 3; i++) {\n        vec3.scaleAndAdd(_vertex1, _vertex1, this.extents[i], vertex1ExtentScales[i]);\n        vec3.scaleAndAdd(_vertex2, _vertex2, this.extents[i], vertex2ExtentScales[i]);\n        vec3.scaleAndAdd(_vertex3, _vertex3, this.extents[i], vertex3ExtentScales[i]);\n        vec3.scaleAndAdd(_vertex4, _vertex4, this.extents[i], vertex4ExtentScales[i]);\n      }\n\n      // Call back with the face.\n      face.splice(0, 4, _vertex1, _vertex2, _vertex3, _vertex4);\n      return callback(face);\n    });\n  }\n\n  /**\n   * Calls the given callback once for each face with a given additional offset from the center\n   * applied to each face.\n   *\n   * @param {FaceCallback} callback\n   * @param {number} radiusOffset\n   * @param {Array.<vec3>} [face] Output param.\n   * @returns {boolean} True if one of the callbacks returned true.\n   */\n  somePushedOutFace(callback, radiusOffset, face) {\n    face = face || [];\n\n    return _faceExtentScales.some((faceExtentScales, index) => {\n      const vertex1ExtentScales = faceExtentScales[0];\n      const vertex2ExtentScales = faceExtentScales[1];\n      const vertex3ExtentScales = faceExtentScales[2];\n      const vertex4ExtentScales = faceExtentScales[3];\n      const directionOffsets = _pushedOutFaceOffsetDirections[index];\n\n      // Calculate the face's vertices.\n      vec3.copy(_vertex1, this._center);\n      vec3.copy(_vertex2, this._center);\n      vec3.copy(_vertex3, this._center);\n      vec3.copy(_vertex4, this._center);\n      for (let i = 0; i < 3; i++) {\n        // Add the offset for the normal vertex position.\n        vec3.scaleAndAdd(_vertex1, _vertex1, this.extents[i], vertex1ExtentScales[i]);\n        vec3.scaleAndAdd(_vertex2, _vertex2, this.extents[i], vertex2ExtentScales[i]);\n        vec3.scaleAndAdd(_vertex3, _vertex3, this.extents[i], vertex3ExtentScales[i]);\n        vec3.scaleAndAdd(_vertex4, _vertex4, this.extents[i], vertex4ExtentScales[i]);\n        // Add the pushed-out offset.\n        vec3.scaleAndAdd(_vertex1, _vertex1, this.extents[i],\n            radiusOffset / this.halfSideLengths[i] * directionOffsets[i]);\n        vec3.scaleAndAdd(_vertex2, _vertex2, this.extents[i],\n            radiusOffset / this.halfSideLengths[i] * directionOffsets[i]);\n        vec3.scaleAndAdd(_vertex3, _vertex3, this.extents[i],\n            radiusOffset / this.halfSideLengths[i] * directionOffsets[i]);\n        vec3.scaleAndAdd(_vertex4, _vertex4, this.extents[i],\n            radiusOffset / this.halfSideLengths[i] * directionOffsets[i]);\n      }\n\n      // Call back with the face.\n      face.splice(0, 4, _vertex1, _vertex2, _vertex3, _vertex4);\n      return callback(face);\n    });\n  }\n\n  _updateExtents() {\n    vec3.set(_vertex1, this.halfSideLengths[0], 0, 0);\n    vec3.transformQuat(this.extents[0], _vertex1, this._orientation);\n    vec3.set(_vertex1, 0, this.halfSideLengths[1], 0);\n    vec3.transformQuat(this.extents[1], _vertex1, this._orientation);\n    vec3.set(_vertex1, 0, 0, this.halfSideLengths[2]);\n    vec3.transformQuat(this.extents[2], _vertex1, this._orientation);\n\n    vec3.set(_vertex1, 1, 0, 0);\n    vec3.transformQuat(this.axes[0], _vertex1, this._orientation);\n    vec3.set(_vertex1, 0, 1, 0);\n    vec3.transformQuat(this.axes[1], _vertex1, this._orientation);\n    vec3.set(_vertex1, 0, 0, 1);\n    vec3.transformQuat(this.axes[2], _vertex1, this._orientation);\n  }\n}\n\nconst _vertex1 = vec3.create();\nconst _vertex2 = vec3.create();\nconst _vertex3 = vec3.create();\nconst _vertex4 = vec3.create();\nconst _segment = new LineSegment(vec3.create(), vec3.create());\n\nconst _edgeExtentScales = [\n  // Front-face edges.\n  [[1, -1, -1], [1, -1, 1]],\n  [[1, -1, -1], [1, 1, -1]],\n  [[1, 1, 1], [1, -1, 1]],\n  [[1, 1, 1], [1, 1, -1]],\n  // Back-face edges.\n  [[-1, -1, -1], [-1, -1, 1]],\n  [[-1, -1, -1], [-1, 1, -1]],\n  [[-1, 1, 1], [-1, -1, 1]],\n  [[-1, 1, 1], [-1, 1, -1]],\n  // Front-to-back edges.\n  [[1, -1, 1], [-1, -1, 1]],\n  [[1, 1, -1], [-1, 1, -1]],\n  [[1, 1, 1], [-1, 1, 1]],\n  [[1, -1, -1], [-1, -1, -1]],\n];\n\nconst _faceExtentScales = [\n  [[1, -1, -1], [1, -1, 1], [1, 1, 1], [1, 1, -1]],\n  [[-1, -1, -1], [-1, -1, 1], [-1, 1, 1], [-1, 1, -1]],\n  [[-1, 1, -1], [1, 1, -1], [1, 1, 1], [-1, 1, 1]],\n  [[-1, -1, -1], [1, -1, -1], [1, -1, 1], [-1, -1, 1]],\n  [[-1, -1, 1], [1, -1, 1], [1, 1, 1], [-1, 1, 1]],\n  [[-1, -1, -1], [1, -1, -1], [1, 1, -1], [-1, 1, -1]],\n];\n\nconst _pushedOutFaceOffsetDirections = [\n  vec3.fromValues(1, 0, 0),\n  vec3.fromValues(-1, 0, 0),\n  vec3.fromValues(0, 1, 0),\n  vec3.fromValues(0, -1, 0),\n  vec3.fromValues(0, 0, 1),\n  vec3.fromValues(0, 0, -1),\n];\n\nexport {Obb};\n\n/**\n * @callback VertexCallback\n * @param {vec3}\n * @returns {boolean} If true, iteration will stop.\n */\n\n/**\n * @callback EdgeCallback\n * @param {LineSegment}\n * @returns {boolean} If true, iteration will stop.\n */\n\n/**\n * @callback FaceCallback\n * @param {Array.<vec3>}\n * @returns {boolean} If true, iteration will stop.\n */\n","import {Collidable} from './collidable';\n\n/**\n * This class represents a bounding sphere.\n *\n * This is primarily useful for collision detection. A bounding sphere is only appropriate for some\n * geometries. For other geometries, an axially-aligned bounding box may be more appropriate. For\n * others still, an oriented bounding box or a more complicated hierarchical model may be more\n * appropriate.\n */\nclass Sphere extends Collidable {\n  /**\n   * @param {number} centerX\n   * @param {number} centerY\n   * @param {number} centerZ\n   * @param {number} radius\n   * @param {boolean} [isStationary=false]\n   * @param {CollidablePhysicsJob} [physicsJob]\n   */\n  constructor(centerX, centerY, centerZ, radius, isStationary = false, physicsJob) {\n    super(isStationary, physicsJob);\n    this.centerX = centerX;\n    this.centerY = centerY;\n    this.centerZ = centerZ;\n    this.radius = radius;\n  }\n\n  /**\n   * @returns {vec3}\n   * @override\n   */\n  get centerOfVolume() {\n    // Reuse the same object when this is called multiple times.\n    this._center = this._center || vec3.create();\n    vec3.set(this._center, this.centerX, this.centerY, this.centerZ);\n    return this._center;\n  }\n\n  /**\n   * @returns {Collidable}\n   * @override\n   */\n  get boundingVolume() {\n    return this;\n  }\n\n  /**\n   * @param {vec3} value\n   * @override\n   */\n  set position(value) {\n    this.centerX = value[0];\n    this.centerY = value[1];\n    this.centerZ = value[2];\n  }\n\n  /**\n   * @param {quat} value\n   * @override\n   */\n  set orientation(value) {\n    // Do nothing.\n  }\n}\n\nexport {Sphere};\n","import * as aabbCollisionDetection from './src/aabb-collision-detection';\nimport * as capsuleCollisionDetection from './src/capsule-collision-detection';\nimport * as obbCollisionDetection from './src/obb-collision-detection';\nimport * as sphereCollisionDetection from './src/sphere-collision-detection';\n\nexport {\n  aabbCollisionDetection,\n  capsuleCollisionDetection,\n  obbCollisionDetection,\n  sphereCollisionDetection,\n};\n","import * as sphereCollisionDetection from './sphere-collision-detection';\nimport * as obbCollisionDetection from './obb-collision-detection';\nimport * as capsuleCollisionDetection from './capsule-collision-detection';\nimport {aabbVsPoint as geometryAabbVsPoint} from '../../../util';\n\n/**\n * This module defines utility methods for detecting whether intersection has occurred between\n * axially-aligned bounding boxes and other shapes.\n */\n\n/**\n * @param {Aabb} aabb\n * @param {vec3} point\n * @returns {boolean}\n */\nfunction aabbVsPoint(aabb, point) {\n  return geometryAabbVsPoint(aabb, point);\n}\n\n/**\n * @param {Aabb} aabb\n * @param {Sphere} sphere\n * @returns {boolean}\n */\nfunction aabbVsSphere(aabb, sphere) {\n  return sphereCollisionDetection.sphereVsAabb(sphere, aabb);\n}\n\n/**\n * @param {Aabb} aabbA\n * @param {Aabb} aabbB\n * @returns {boolean}\n */\nfunction aabbVsAabb(aabbA, aabbB) {\n  return aabbA.maxX >= aabbB.minX && aabbA.minX <= aabbB.maxX &&\n      aabbA.maxY >= aabbB.minY && aabbA.minY <= aabbB.maxY &&\n      aabbA.maxZ >= aabbB.minZ && aabbA.minZ <= aabbB.maxZ;\n}\n\n/**\n * @param {Aabb} aabb\n * @param {Obb} obb\n * @returns {boolean}\n */\nfunction aabbVsObb(aabb, obb) {\n  return obbCollisionDetection.obbVsAabb(obb, aabb);\n}\n\n/**\n * @param {Aabb} aabb\n * @param {Capsule} capsule\n * @returns {boolean}\n */\nfunction aabbVsCapsule(aabb, capsule) {\n  return capsuleCollisionDetection.capsuleVsAabb(capsule, aabb);\n}\n\nexport {\n  aabbVsPoint,\n  aabbVsSphere,\n  aabbVsAabb,\n  aabbVsObb,\n  aabbVsCapsule,\n};\n","/**\n * This module defines utility methods for detecting whether intersection has occurred between\n * capsules and other shapes.\n */\n\nimport {\n  findClosestPointFromAabbToPoint,\n  findSquaredDistanceBetweenSegments,\n  findSquaredDistanceFromSegmentToPoint,\n  tmpVec1\n} from '../../../util';\nimport * as obbCollisionDetection from './obb-collision-detection';\n\n/**\n * @param {Capsule} capsule\n * @param {vec3} point\n * @returns {boolean}\n */\nfunction capsuleVsPoint(capsule, point) {\n  return findSquaredDistanceFromSegmentToPoint(capsule.segment, point) <=\n      capsule.radius * capsule.radius;\n}\n\n/**\n * @param {Capsule} capsule\n * @param {Sphere} sphere\n * @returns {boolean}\n */\nfunction capsuleVsSphere(capsule, sphere) {\n  const sumOfRadii = capsule.radius + sphere.radius;\n  return findSquaredDistanceFromSegmentToPoint(capsule.segment, sphere.centerOfVolume) <=\n      sumOfRadii * sumOfRadii;\n}\n\n/**\n * NOTE: This implementation cheats by checking whether vertices from one shape lie within the\n * other. Due to the tunnelling problem, it is possible that intersection occurs without any\n * vertices lying within the other shape. However, (A) this is unlikely, and (B) we are ignoring the\n * tunnelling problem for the rest of this collision system anyway.\n *\n * @param {Capsule} capsule\n * @param {Aabb} aabb\n * @returns {boolean}\n */\nfunction capsuleVsAabb(capsule, aabb) {\n  const squaredRadius = capsule.radius * capsule.radius;\n\n  // Check whether the two capsule ends intersect the AABB (sphere vs AABB) (addresses the\n  // capsule-vs-AABB-face case).\n  findClosestPointFromAabbToPoint(tmpVec1, aabb, capsule.segment.start);\n  if (vec3.squaredDistance(tmpVec1, capsule.segment.start) <= squaredRadius) {\n    return true;\n  }\n  findClosestPointFromAabbToPoint(tmpVec1, aabb, capsule.segment.end);\n  if (vec3.squaredDistance(tmpVec1, capsule.segment.end) <= squaredRadius) {\n    return true;\n  }\n\n  // Check whether the capsule intersects with any AABB edge (addresses the capsule-vs-AABB-edge\n  // case).\n  return aabb.someEdge(edge =>\n      findSquaredDistanceBetweenSegments(capsule.segment, edge) <= squaredRadius);\n\n  // (The capsule-vs-AABB-vertex case is covered by the capsule-vs-AABB-edge case).\n}\n\n/**\n * @param {Capsule} capsule\n * @param {Obb} obb\n * @returns {boolean}\n */\nfunction capsuleVsObb(capsule, obb) {\n  return obbCollisionDetection.obbVsCapsule(obb, capsule);\n}\n\n/**\n * @param {Capsule} capsuleA\n * @param {Capsule} capsuleB\n * @returns {boolean}\n */\nfunction capsuleVsCapsule(capsuleA, capsuleB) {\n  const sumOfRadii = capsuleA.radius + capsuleB.radius;\n  return findSquaredDistanceBetweenSegments(capsuleA.segment, capsuleB.segment) <=\n      sumOfRadii * sumOfRadii;\n}\n\nexport {\n  capsuleVsPoint,\n  capsuleVsSphere,\n  capsuleVsAabb,\n  capsuleVsObb,\n  capsuleVsCapsule,\n};\n","/**\n * This module defines utility methods for detecting whether intersection has occurred between\n * oriented bounding boxes and other shapes.\n */\n\nimport {\n  findClosestPointFromObbToPoint,\n  findPoiBetweenSegmentAndPlaneRegion,\n  findSquaredDistanceBetweenSegments,\n  tmpVec1,\n  tmpVec2,\n  tmpVec3,\n  tmpVec4\n} from '../../../util';\nimport * as aabbCollisionDetection from './aabb-collision-detection';\nimport * as capsuleCollisionDetection from './capsule-collision-detection';\n\n// TODO: Refactor these to not actually calculate the point of intersection. These checks can\n// instead be done more efficiently using SAT.\n\n/**\n * @param {Obb} obb\n * @param {vec3} point\n * @returns {boolean}\n */\nfunction obbVsPoint(obb, point) {\n  vec3.subtract(tmpVec4, point, obb.centerOfVolume);\n\n  vec3.set(tmpVec1, 1, 0, 0);\n  vec3.transformQuat(tmpVec1, tmpVec1, obb.orientation);\n  const axis1Distance = vec3.dot(tmpVec4, tmpVec1);\n\n  if (axis1Distance >= -obb.halfSideLengthX && axis1Distance <= obb.halfSideLengthX) {\n    vec3.set(tmpVec2, 0, 1, 0);\n    vec3.transformQuat(tmpVec2, tmpVec2, obb.orientation);\n    const axis2Distance = vec3.dot(tmpVec4, tmpVec2);\n\n    if (axis2Distance >= -obb.halfSideLengthY && axis2Distance <= obb.halfSideLengthY) {\n      vec3.set(tmpVec3, 0, 0, 1);\n      vec3.transformQuat(tmpVec3, tmpVec3, obb.orientation);\n      const axis3Distance = vec3.dot(tmpVec4, tmpVec3);\n\n      return axis3Distance >= -obb.halfSideLengthZ && axis3Distance <= obb.halfSideLengthZ;\n    }\n  }\n\n  return false;\n}\n\n/**\n * @param {Obb} obb\n * @param {Sphere} sphere\n * @returns {boolean}\n */\nfunction obbVsSphere(obb, sphere) {\n  findClosestPointFromObbToPoint(tmpVec1, obb, sphere.centerOfVolume);\n  return vec3.squaredDistance(tmpVec1, sphere.centerOfVolume) <=\n      sphere.radius * sphere.radius;\n}\n\n/**\n * NOTE: This implementation cheats by checking whether vertices from one shape lie within the\n * other. Due to the tunnelling problem, it is possible that intersection occurs without any\n * vertices lying within the other shape. However, (A) this is unlikely, and (B) we are ignoring the\n * tunnelling problem for the rest of this collision system anyway.\n *\n * @param {Obb} obb\n * @param {Aabb} aabb\n * @returns {boolean}\n */\nfunction obbVsAabb(obb, aabb) {\n  return _obbVsBoxHelper(obb, aabb, aabbCollisionDetection.aabbVsPoint);\n}\n\n/**\n * NOTE: This implementation cheats by checking whether vertices from one shape lie within the\n * other. Due to the tunnelling problem, it is possible that intersection occurs without any\n * vertices lying within the other shape. However, (A) this is unlikely, and (B) we are ignoring the\n * tunnelling problem for the rest of this collision system anyway.\n *\n * @param {Obb} obbA\n * @param {Obb} obbB\n * @returns {boolean}\n */\nfunction obbVsObb(obbA, obbB) {\n  return _obbVsBoxHelper(obbA, obbB, obbVsPoint);\n}\n\n/**\n * @param {Obb} obb\n * @param {Obb|Aabb} other\n * @param {Function} otherVsPointCallback\n * @returns {boolean}\n * @private\n */\nfunction _obbVsBoxHelper(obb, other, otherVsPointCallback) {\n  // Check whether any vertices from A lie within B's bounds.\n  if (obb.someVertex(vertex => otherVsPointCallback(other, vertex))) return true;\n\n  // Check whether any vertices from B lie within A's bounds.\n  if (other.someVertex(vertex => obbVsPoint(obb, vertex))) return true;\n\n  // We assume that a vertex-to-face collision would have been detected by one of the two above\n  // checks. Any edge-to-edge collision must involve both an edge from A through a face of B and\n  // vice versa. So it is sufficient to only check the edges of one and the faces of the other.\n  if (other.someEdge(edge =>\n          obb.someFace(face =>\n              findPoiBetweenSegmentAndPlaneRegion(tmpVec1, edge, ...face))))\n    return true;\n\n  return false;\n}\n\n/**\n * @param {Obb} obb\n * @param {Capsule} capsule\n * @returns {boolean}\n */\nfunction obbVsCapsule(obb, capsule) {\n  // Check the edges.\n  const squaredRadius = capsule.radius * capsule.radius;\n  let areIntersecting = obb.someEdge(edge =>\n      findSquaredDistanceBetweenSegments(capsule.segment, edge) < squaredRadius);\n\n  if (areIntersecting) return true;\n\n  // Check the faces.\n  areIntersecting = obb.somePushedOutFace(face =>\n          findPoiBetweenSegmentAndPlaneRegion(tmpVec1, capsule.segment, ...face), capsule.radius);\n\n  // Check for inclusion of one shape inside the other.\n  areIntersecting = areIntersecting || obbVsPoint(obb, capsule.centerOfVolume);\n  areIntersecting = areIntersecting || capsuleCollisionDetection.capsuleVsPoint(capsule,\n      obb.centerOfVolume);\n\n  return areIntersecting;\n}\n\nexport {\n  obbVsPoint,\n  obbVsSphere,\n  obbVsAabb,\n  obbVsObb,\n  obbVsCapsule,\n};\n","import {findClosestPointFromAabbToPoint, tmpVec1} from '../../../util';\nimport * as obbCollisionDetection from './obb-collision-detection';\nimport * as capsuleCollisionDetection from './capsule-collision-detection';\n\n/**\n * This module defines utility methods for detecting whether intersection has occurred between\n * spheres and other shapes.\n */\n\n/**\n * @param {Sphere} sphere\n * @param {vec3} point\n * @returns {boolean}\n */\nfunction sphereVsPoint(sphere, point) {\n  return vec3.squaredDistance(point, sphere.centerOfVolume) <= sphere.radius * sphere.radius;\n}\n\n/**\n * @param {Sphere} sphereA\n * @param {Sphere} sphereB\n * @returns {boolean}\n */\nfunction sphereVsSphere(sphereA, sphereB) {\n  const sumOfRadii = sphereA.radius + sphereB.radius;\n  return vec3.squaredDistance(sphereA.centerOfVolume, sphereB.centerOfVolume) <=\n      sumOfRadii * sumOfRadii;\n}\n\n/**\n * @param {Sphere} sphere\n * @param {Aabb} aabb\n * @returns {boolean}\n */\nfunction sphereVsAabb(sphere, aabb) {\n  findClosestPointFromAabbToPoint(tmpVec1, aabb, sphere.centerOfVolume);\n  return vec3.squaredDistance(tmpVec1, sphere.centerOfVolume) <= sphere.radius * sphere.radius;\n}\n\n/**\n * @param {Sphere} sphere\n * @param {Obb} obb\n * @returns {boolean}\n */\nfunction sphereVsObb(sphere, obb) {\n  return obbCollisionDetection.obbVsSphere(obb, sphere);\n}\n\n/**\n * @param {Sphere} sphere\n * @param {Capsule} capsule\n * @returns {boolean}\n */\nfunction sphereVsCapsule(sphere, capsule) {\n  return capsuleCollisionDetection.capsuleVsSphere(capsule, sphere);\n}\n\nexport {\n  sphereVsPoint,\n  sphereVsSphere,\n  sphereVsAabb,\n  sphereVsObb,\n  sphereVsCapsule,\n};\n","import * as aabbContactCalculation from './src/aabb-contact-calculation';\nimport * as capsuleContactCalculation from './src/capsule-contact-calculation';\nimport * as obbContactCalculation from './src/obb-contact-calculation';\nimport * as sphereContactCalculation from './src/sphere-contact-calculation';\n\nexport {\n  aabbContactCalculation,\n  capsuleContactCalculation,\n  obbContactCalculation,\n  sphereContactCalculation,\n};\n","/**\n * This module defines utility methods for calculating a contact point between axially-aligned \n * bounding boxes and other shapes.\n *\n * - Each of these functions assumes that the objects are actually colliding.\n * - The resulting contact point may be anywhere within the intersection of the two objects.\n */\n\nimport * as sphereContactCalculation from './sphere-contact-calculation';\nimport * as obbContactCalculation from './obb-contact-calculation';\nimport * as capsuleContactCalculation from './capsule-contact-calculation';\nimport {tmpVec1} from '../../../util';\nimport {aabbCollisionDetection} from '../../collision-detection';\n\n/**\n * @param {vec3} contactPoint Output param.\n * @param {vec3} contactNormal Output param.\n * @param {Aabb} aabb\n * @param {vec3} point\n */\nfunction aabbVsPoint(contactPoint, contactNormal, aabb, point) {\n  vec3.copy(contactPoint, point);\n  findAabbNormalFromContactPoint(contactNormal, contactPoint, aabb);\n}\n\n/**\n * @param {vec3} contactPoint Output param.\n * @param {vec3} contactNormal Output param.\n * @param {Aabb} aabb\n * @param {Sphere} sphere\n */\nfunction aabbVsSphere(contactPoint, contactNormal, aabb, sphere) {\n  sphereContactCalculation.sphereVsAabb(contactPoint, contactNormal, sphere, aabb);\n  vec3.negate(contactNormal, contactNormal);\n}\n\n/**\n * @param {vec3} contactPoint Output param.\n * @param {vec3} contactNormal Output param.\n * @param {Aabb} aabbA\n * @param {Aabb} aabbB\n */\nfunction aabbVsAabb(contactPoint, contactNormal, aabbA, aabbB) {\n  // Compute the contact normal.\n  vec3.set(contactNormal, 0, 0, 0);\n  const xIntersectionDepth = Math.min(aabbA.maxX - aabbB.minX, aabbB.maxX - aabbA.minX);\n  const yIntersectionDepth = Math.min(aabbA.maxY - aabbB.minY, aabbB.maxY - aabbA.minY);\n  const zIntersectionDepth = Math.min(aabbA.maxZ - aabbB.minZ, aabbB.maxZ - aabbA.minZ);\n  // Assume that the direction of intersection corresponds to whichever axis has the shallowest\n  // intersection.\n  if (xIntersectionDepth <= yIntersectionDepth) {\n    if (xIntersectionDepth <= zIntersectionDepth) {\n      contactNormal[0] = aabbA.maxX - aabbB.minX <= aabbB.maxX - aabbA.minX ? 1 : -1;\n    } else {\n      contactNormal[2] = aabbA.maxZ - aabbB.minZ <= aabbB.maxZ - aabbA.minZ ? 1 : -1;\n    }\n  } else {\n    if (yIntersectionDepth <= zIntersectionDepth) {\n      contactNormal[1] = aabbA.maxY - aabbB.minY <= aabbB.maxY - aabbA.minY ? 1 : -1;\n    } else {\n      contactNormal[2] = aabbA.maxZ - aabbB.minZ <= aabbB.maxZ - aabbA.minZ ? 1 : -1;\n    }\n  }\n\n  // TODO: The two AABBs form a square intersection cross-section region along the direction of the\n  // normal. Calculate the center of that square to use as the point of contact.\n  if (!aabbA.someVertex(vertex => aabbCollisionDetection.aabbVsPoint(aabbB, vertex),\n          contactPoint)) {\n    aabbB.someVertex(vertex => aabbCollisionDetection.aabbVsPoint(aabbA, vertex), contactPoint);\n  }\n}\n\n/**\n * @param {vec3} contactPoint Output param.\n * @param {vec3} contactNormal Output param.\n * @param {Aabb} aabb\n * @param {Obb} obb\n */\nfunction aabbVsObb(contactPoint, contactNormal, aabb, obb) {\n  obbContactCalculation.obbVsAabb(contactPoint, contactNormal, obb, aabb);\n  vec3.negate(contactNormal, contactNormal);\n}\n\n/**\n * @param {vec3} contactPoint Output param.\n * @param {vec3} contactNormal Output param.\n * @param {Aabb} aabb\n * @param {Capsule} capsule\n */\nfunction aabbVsCapsule(contactPoint, contactNormal, aabb, capsule) {\n  capsuleContactCalculation.capsuleVsAabb(contactPoint, contactNormal, capsule, aabb);\n  vec3.negate(contactNormal, contactNormal);\n}\n\n/**\n * @param {vec3} contactNormal Output param.\n * @param {vec3} contactPoint\n * @param {Aabb} aabb\n * @private\n */\nfunction findAabbNormalFromContactPoint(contactNormal, contactPoint, aabb) {\n  vec3.set(contactNormal, 0, 0, 0);\n  vec3.subtract(tmpVec1, contactPoint, aabb.centerOfVolume);\n  const xDistanceFromFace = aabb.rangeX / 2 - Math.abs(tmpVec1[0]);\n  const yDistanceFromFace = aabb.rangeY / 2 - Math.abs(tmpVec1[1]);\n  const zDistanceFromFace = aabb.rangeZ / 2 - Math.abs(tmpVec1[2]);\n  // Assume that the point is contacting whichever face it's closest to.\n  if (xDistanceFromFace <= yDistanceFromFace) {\n    if (xDistanceFromFace <= zDistanceFromFace) {\n      contactNormal[0] = tmpVec1[0] > 0 ? 1 : -1;\n    } else {\n      contactNormal[2] = tmpVec1[2] > 0 ? 1 : -1;\n    }\n  } else {\n    if (yDistanceFromFace <= zDistanceFromFace) {\n      contactNormal[1] = tmpVec1[1] > 0 ? 1 : -1;\n    } else {\n      contactNormal[2] = tmpVec1[2] > 0 ? 1 : -1;\n    }\n  }\n}\n\nexport {\n  aabbVsPoint,\n  aabbVsSphere,\n  aabbVsAabb,\n  aabbVsObb,\n  aabbVsCapsule,\n  findAabbNormalFromContactPoint,\n};\n","/**\n * This module defines utility methods for calculating a contact point between capsules and other \n * shapes.\n *\n * - Each of these functions assumes that the objects are actually colliding.\n * - The resulting contact point may be anywhere within the intersection of the two objects.\n */\n\nimport {\n  findClosestPointFromAabbToPoint,\n  findClosestPointOnSegmentToPoint,\n  findClosestPointsFromSegmentToSegment,\n  tmpVec1,\n  tmpVec2\n} from '../../../util';\nimport * as obbContactCalculation from './obb-contact-calculation';\n\n/**\n * @param {vec3} contactPoint Output param.\n * @param {vec3} contactNormal Output param.\n * @param {Capsule} capsule\n * @param {vec3} point\n */\nfunction capsuleVsPoint(contactPoint, contactNormal, capsule, point) {\n  vec3.copy(contactPoint, point);\n  findClosestPointOnSegmentToPoint(contactNormal, capsule.segment, point);\n  vec3.subtract(contactNormal, contactPoint, contactNormal);\n  vec3.normalize(contactNormal, contactNormal);\n}\n\n/**\n * Finds the closest point on the surface of the capsule to the sphere center.\n *\n * @param {vec3} contactPoint Output param.\n * @param {vec3} contactNormal Output param.\n * @param {Capsule} capsule\n * @param {Sphere} sphere\n */\nfunction capsuleVsSphere(contactPoint, contactNormal, capsule, sphere) {\n  const sphereCenter = sphere.centerOfVolume;\n  findClosestPointOnSegmentToPoint(contactPoint, capsule.segment, sphereCenter);\n  vec3.subtract(contactNormal, sphereCenter, contactPoint);\n  vec3.normalize(contactNormal, contactNormal);\n  vec3.scaleAndAdd(contactPoint, contactPoint, contactNormal, capsule.radius);\n}\n\n/**\n * Finds the closest point on the surface of the capsule to the AABB.\n *\n * NOTE: This implementation cheats by checking whether vertices from one shape lie within the\n * other. Due to the tunnelling problem, it is possible that intersection occurs without any\n * vertices lying within the other shape. However, (A) this is unlikely, and (B) we are ignoring the\n * tunnelling problem for the rest of this collision system anyway.\n *\n * @param {vec3} contactPoint Output param.\n * @param {vec3} contactNormal Output param.\n * @param {Capsule} capsule\n * @param {Aabb} aabb\n */\nfunction capsuleVsAabb(contactPoint, contactNormal, capsule, aabb) {\n  // tmpVec1 represents the closest point on the capsule to the AABB. tmpVec2\n  // represents the closest point on the AABB to the capsule.\n\n  //\n  // Check whether the two capsule ends intersect the AABB (sphere vs AABB) (addresses the\n  // capsule-vs-AABB-face case).\n  //\n\n  const squaredRadius = capsule.radius * capsule.radius;\n  let doesAabbIntersectAnEndPoint = false;\n\n  let endPoint = capsule.segment.start;\n  findClosestPointFromAabbToPoint(tmpVec2, aabb, endPoint);\n  if (vec3.squaredDistance(tmpVec2, endPoint) <= squaredRadius) {\n    doesAabbIntersectAnEndPoint = true;\n  } else {\n    endPoint = capsule.segment.end;\n    findClosestPointFromAabbToPoint(tmpVec2, aabb, endPoint);\n    if (vec3.squaredDistance(tmpVec2, endPoint) <= squaredRadius) {\n      doesAabbIntersectAnEndPoint = true;\n    }\n  }\n\n  if (!doesAabbIntersectAnEndPoint) {\n    //\n    // Check whether the capsule intersects with any AABB edge (addresses the capsule-vs-AABB-edge\n    // case).\n    //\n    aabb.someEdge(edge => {\n      findClosestPointsFromSegmentToSegment(tmpVec1, tmpVec2,\n          capsule.segment, edge);\n      const distance = vec3.squaredDistance(tmpVec1, tmpVec2);\n      return distance <= squaredRadius;\n    });\n  }\n\n  // (The capsule-vs-AABB-vertex case is covered by the capsule-vs-AABB-edge case).\n\n  findClosestPointOnSegmentToPoint(tmpVec1, capsule.segment, tmpVec2);\n  vec3.subtract(contactNormal, tmpVec2, tmpVec1);\n  vec3.normalize(contactNormal, contactNormal);\n  vec3.scaleAndAdd(contactPoint, tmpVec1, contactNormal, capsule.radius);\n}\n\n/**\n * @param {vec3} contactPoint Output param.\n * @param {vec3} contactNormal Output param.\n * @param {Capsule} capsule\n * @param {Obb} obb\n */\nfunction capsuleVsObb(contactPoint, contactNormal, capsule, obb) {\n  obbContactCalculation.obbVsCapsule(contactPoint, contactNormal, obb, capsule);\n  vec3.negate(contactNormal, contactNormal);\n}\n\n/**\n * Finds the closest point on the surface of capsule A to capsule B.\n *\n * @param {vec3} contactPoint Output param.\n * @param {vec3} contactNormal Output param.\n * @param {Capsule} capsuleA\n * @param {Capsule} capsuleB\n */\nfunction capsuleVsCapsule(contactPoint, contactNormal, capsuleA, capsuleB) {\n  findClosestPointsFromSegmentToSegment(tmpVec1, tmpVec2,\n      capsuleA.segment, capsuleB.segment);\n  vec3.subtract(contactNormal, tmpVec2, tmpVec1);\n  vec3.normalize(contactNormal, contactNormal);\n  vec3.scaleAndAdd(contactPoint, tmpVec1, contactNormal, capsuleA.radius);\n}\n\nexport {\n  capsuleVsPoint,\n  capsuleVsSphere,\n  capsuleVsAabb,\n  capsuleVsObb,\n  capsuleVsCapsule,\n};\n","/**\n * This module defines utility methods for calculating a contact point between oriented bounding\n * boxes and other shapes.\n *\n * - Each of these functions assumes that the objects are actually colliding.\n * - The resulting contact point may be anywhere within the intersection of the two objects.\n */\n\nimport {\n  findPoiBetweenSegmentAndPlaneRegion,\n  findClosestPointFromObbToPoint,\n  findSquaredDistanceBetweenSegments,\n  findClosestPointsFromSegmentToSegment,\n  tmpVec1\n} from '../../../util';\nimport {aabbCollisionDetection, obbCollisionDetection} from '../../collision-detection';\nimport {LineSegment} from '../../collidables';\nimport * as aabbContactCalculation from './aabb-contact-calculation';\n\n// TODO: There are more efficient (but far more complicated) algorithms for finding the point of\n// intersection with OBBs. Port over some other pre-existing solutions for these.\n\n/**\n * @param {vec3} contactPoint Output param.\n * @param {vec3} contactNormal Output param.\n * @param {Obb} obb\n * @param {vec3} point\n */\nfunction obbVsPoint(contactPoint, contactNormal, obb, point) {\n  vec3.copy(contactPoint, point);\n  findObbNormalFromContactPoint(contactNormal, contactPoint, obb);\n}\n\n/**\n * Finds the closest point anywhere inside the OBB to the center of the sphere.\n *\n * @param {vec3} contactPoint Output param.\n * @param {vec3} contactNormal Output param.\n * @param {Obb} obb\n * @param {Sphere} sphere\n */\nfunction obbVsSphere(contactPoint, contactNormal, obb, sphere) {\n  findClosestPointFromObbToPoint(contactPoint, obb, sphere.centerOfVolume);\n  vec3.subtract(contactNormal, sphere.centerOfVolume, contactPoint);\n  vec3.normalize(contactNormal, contactNormal);\n}\n\n/**\n * NOTE: This implementation cheats by checking whether vertices from one shape lie within the\n * other. Due to the tunnelling problem, it is possible that intersection occurs without any\n * vertices lying within the other shape. However, (A) this is unlikely, and (B) we are ignoring the\n * tunnelling problem for the rest of this collision system anyway.\n *\n * @param {vec3} contactPoint Output param.\n * @param {vec3} contactNormal Output param.\n * @param {Obb} obb\n * @param {Aabb} aabb\n */\nfunction obbVsAabb(contactPoint, contactNormal, obb, aabb) {\n  return _obbVsBoxHelper(contactPoint, contactNormal, obb, aabb, aabbCollisionDetection.aabbVsPoint,\n      aabbContactCalculation.findAabbNormalFromContactPoint);\n}\n\n/**\n * NOTE: This implementation cheats by checking whether vertices from one shape lie within the\n * other. Due to the tunnelling problem, it is possible that intersection occurs without any\n * vertices lying within the other shape. However, (A) this is unlikely, and (B) we are ignoring the\n * tunnelling problem for the rest of this collision system anyway.\n *\n * @param {vec3} contactPoint Output param.\n * @param {vec3} contactNormal Output param.\n * @param {Obb} obbA\n * @param {Obb} obbB\n */\nfunction obbVsObb(contactPoint, contactNormal, obbA, obbB) {\n  return _obbVsBoxHelper(contactPoint, contactNormal, obbA, obbB, obbCollisionDetection.obbVsPoint,\n      findObbNormalFromContactPoint);\n}\n\n/**\n * @param {vec3} contactPoint Output param.\n * @param {vec3} contactNormal Output param.\n * @param {Obb} obb\n * @param {Obb|Aabb} other\n * @param {Function} otherVsPointCollisionDetectionCallback\n * @param {Function} findOtherNormalFromContactPoint\n * @private\n */\nfunction _obbVsBoxHelper(contactPoint, contactNormal, obb, other,\n                         otherVsPointCollisionDetectionCallback,\n                         findOtherNormalFromContactPoint) {\n  // Check whether any vertices from A lie within B's bounds.\n  if (obb.someVertex(vertex => otherVsPointCollisionDetectionCallback(other, vertex),\n          contactPoint)) {\n    findOtherNormalFromContactPoint(contactNormal, contactPoint, other);\n    vec3.negate(contactNormal, contactNormal);\n    return;\n  }\n\n  // Check whether any vertices from B lie within A's bounds.\n  if (other.someVertex(vertex => obbCollisionDetection.obbVsPoint(obb, vertex), contactPoint)) {\n    findObbNormalFromContactPoint(contactNormal, contactPoint, obb);\n    return;\n  }\n\n  // We assume that a vertex-to-face collision would have been detected by one of the two above\n  // checks. Any edge-to-edge collision must involve both an edge from A through a face of B and\n  // vice versa. So it is sufficient to only check the edges of one and the faces of the other.\n  other.someEdge(edge =>\n      obb.someFace(face => findPoiBetweenSegmentAndPlaneRegion(contactPoint, edge, ...face)));\n  findObbNormalFromContactPoint(contactNormal, contactPoint, obb);\n}\n\n/**\n * @param {vec3} contactPoint Output param.\n * @param {vec3} contactNormal Output param.\n * @param {Obb} obb\n * @param {Capsule} capsule\n */\nfunction obbVsCapsule(contactPoint, contactNormal, obb, capsule) {\n  // tmpVec1 is the point on the capsule segment that is closest to the OBB.\n\n  //\n  // Check the edges.\n  //\n\n  const segment = new LineSegment(vec3.create(), vec3.create());\n  const squaredRadius = capsule.radius * capsule.radius;\n  const areIntersecting = obb.someEdge(edge =>\n      findSquaredDistanceBetweenSegments(capsule.segment, edge) < squaredRadius, segment);\n\n  if (areIntersecting) {\n    findClosestPointsFromSegmentToSegment(tmpVec1, contactPoint, capsule.segment, segment);\n    vec3.subtract(contactNormal, tmpVec1, contactPoint);\n    vec3.normalize(contactNormal, contactNormal);\n    return;\n  }\n\n  //\n  // Check the faces.\n  //\n\n  obb.somePushedOutFace(face =>\n      findPoiBetweenSegmentAndPlaneRegion(tmpVec1, capsule.segment, ...face), capsule.radius);\n\n  findObbNormalFromContactPoint(contactNormal, tmpVec1, obb);\n\n  // NOTE: This assumes that the angle between the capsule segment and the face plane is not oblique\n  // and that the depth of penetration is shallow. When both of these conditions are not true, the\n  // contact point will be offset from the intersection point on the pushed-out face.\n  vec3.scaleAndAdd(contactPoint, tmpVec1, contactNormal, -capsule.radius);\n}\n\n/**\n * @param {vec3} contactNormal Output param.\n * @param {vec3} contactPoint\n * @param {Obb} obb\n * @private\n */\nfunction findObbNormalFromContactPoint(contactNormal, contactPoint, obb) {\n  // Calculate the displacement along each axis.\n  const projections = [];\n  vec3.subtract(tmpVec1, contactPoint, obb.centerOfVolume);\n  for (let i = 0; i < 3; i++) {\n    projections[i] = vec3.dot(obb.axes[i], tmpVec1);\n  }\n\n  // Determine which face the normal is pointing away from.\n  vec3.set(contactNormal, 0, 0, 0);\n  const xDistanceFromFace = obb.halfSideLengths[0] - Math.abs(projections[0]);\n  const yDistanceFromFace = obb.halfSideLengths[1] - Math.abs(projections[1]);\n  const zDistanceFromFace = obb.halfSideLengths[2] - Math.abs(projections[2]);\n  // Assume that the point is contacting whichever face it's closest to.\n  if (xDistanceFromFace <= yDistanceFromFace) {\n    if (xDistanceFromFace <= zDistanceFromFace) {\n      contactNormal[0] = projections[0] > 0 ? 1 : -1;\n    } else {\n      contactNormal[2] = projections[2] > 0 ? 1 : -1;\n    }\n  } else {\n    if (yDistanceFromFace <= zDistanceFromFace) {\n      contactNormal[1] = projections[1] > 0 ? 1 : -1;\n    } else {\n      contactNormal[2] = projections[2] > 0 ? 1 : -1;\n    }\n  }\n\n  // Apply the OBB's orientation to the normal.\n  vec3.transformQuat(contactNormal, contactNormal, obb.orientation);\n}\n\nexport {\n  obbVsPoint,\n  obbVsSphere,\n  obbVsAabb,\n  obbVsObb,\n  obbVsCapsule,\n  findObbNormalFromContactPoint,\n};\n","/**\n * This module defines utility methods for calculating a contact point between spheres and other\n * shapes.\n *\n * - Each of these functions assumes that the objects are actually colliding.\n * - The resulting contact point may be anywhere within the intersection of the two objects.\n */\n\nimport {findClosestPointFromAabbSurfaceToPoint} from '../../../util';\nimport {findAabbNormalFromContactPoint} from './aabb-contact-calculation';\nimport * as obbContactCalculation from './obb-contact-calculation';\nimport * as capsuleContactCalculation from './capsule-contact-calculation';\n\n/**\n * @param {vec3} contactPoint Output param.\n * @param {vec3} contactNormal Output param.\n * @param {Sphere} sphere\n * @param {vec3} point\n */\nfunction sphereVsPoint(contactPoint, contactNormal, sphere, point) {\n  vec3.copy(contactPoint, point);\n  // Assume that the point is contacting the closest point on the surface of the sphere.\n  vec3.subtract(contactNormal, point, sphere.centerOfVolume);\n  vec3.normalize(contactNormal, contactNormal);\n}\n\n/**\n * @param {vec3} contactPoint Output param.\n * @param {vec3} contactNormal Output param.\n * @param {Sphere} sphereA\n * @param {Sphere} sphereB\n */\nfunction sphereVsSphere(contactPoint, contactNormal, sphereA, sphereB) {\n  vec3.subtract(contactNormal, sphereB.centerOfVolume, sphereA.centerOfVolume);\n  vec3.normalize(contactNormal, contactNormal);\n  // The point on the surface of sphere A that is closest to the center of sphere B.\n  vec3.scaleAndAdd(contactPoint, sphereA.centerOfVolume, contactNormal, sphereA.radius);\n}\n\n/**\n * Finds the closest point on the surface of the AABB to the sphere center.\n *\n * @param {vec3} contactPoint Output param.\n * @param {vec3} contactNormal Output param.\n * @param {Sphere} sphere\n * @param {Aabb} aabb\n */\nfunction sphereVsAabb(contactPoint, contactNormal, sphere, aabb) {\n  findClosestPointFromAabbSurfaceToPoint(contactPoint, aabb, sphere.centerOfVolume);\n  findAabbNormalFromContactPoint(contactNormal, contactPoint, aabb);\n  vec3.negate(contactNormal, contactNormal);\n}\n\n/**\n * @param {vec3} contactPoint Output param.\n * @param {vec3} contactNormal Output param.\n * @param {Sphere} sphere\n * @param {Obb} obb\n */\nfunction sphereVsObb(contactPoint, contactNormal, sphere, obb) {\n  obbContactCalculation.obbVsSphere(contactPoint, contactNormal, obb, sphere);\n  vec3.negate(contactNormal, contactNormal);\n}\n\n/**\n * @param {vec3} contactPoint Output param.\n * @param {vec3} contactNormal Output param.\n * @param {Sphere} sphere\n * @param {Capsule} capsule\n */\nfunction sphereVsCapsule(contactPoint, contactNormal, sphere, capsule) {\n  capsuleContactCalculation.capsuleVsSphere(contactPoint, contactNormal, capsule, sphere);\n  vec3.negate(contactNormal, contactNormal);\n}\n\nexport {\n  sphereVsPoint,\n  sphereVsSphere,\n  sphereVsAabb,\n  sphereVsObb,\n  sphereVsCapsule,\n};\n","export * from './collidables';\nexport * from './collision-detection';\nexport * from './contact-calculation';\n\nexport * from './src/collidable-factories';\nexport * from './src/collidable-physics-job';\nexport * from './src/collidable-store';\nexport * from './src/collision-handler';\nexport * from './src/collision-utils';\n","/**\n * This module defines a set of factory functions for creating Collidable instances.\n */\n\nimport {\n  Capsule,\n  Obb,\n  Sphere\n} from '../collidables';\nimport {_geometry} from '../../util';\n\n/**\n * @param {CollidableShapeConfig} params\n * @param {CollidablePhysicsJob} [physicsJob]\n * @returns {Collidable}\n */\nfunction createCollidableFromRenderableShape(params, physicsJob) {\n  return _collidableCreators[params.collidableShapeId](params, physicsJob);\n}\n\n/**\n * This assumes the base RenderableShape has a side length of one unit.\n *\n * @param {CollidableShapeConfig} params\n * @param {CollidablePhysicsJob} [physicsJob]\n * @returns {Collidable}\n */\nfunction createObbFromRenderableShape(params, physicsJob) {\n  const halfRangeX = params.scale[0] / 2;\n  const halfRangeY = params.scale[1] / 2;\n  const halfRangeZ = params.scale[2] / 2;\n  return new Obb(halfRangeX, halfRangeY, halfRangeZ, params.isStationary, physicsJob);\n}\n\n/**\n * This assumes the base RenderableShape has a \"radius\" of one unit.\n *\n * @param {CollidableShapeConfig} params\n * @param {CollidablePhysicsJob} [physicsJob]\n * @returns {Collidable}\n */\nfunction createSphereFromRenderableShape(params, physicsJob) {\n  const radius = params.radius || vec3.length(params.scale) / Math.sqrt(3);\n  return new Sphere(0, 0, 0, radius, params.isStationary, physicsJob);\n}\n\n/**\n * The radius of the created capsule will be an average from the two shortest sides.\n *\n * There are two modes: either we use scale, or we use radius and capsuleEndPointsDistance.\n *\n * @param {CollidableShapeConfig} params\n * @param {CollidablePhysicsJob} [physicsJob]\n * @returns {Collidable}\n */\nfunction createCapsuleFromRenderableShape(params, physicsJob) {\n  const scale = params.scale;\n  const capsuleEndPointsDistance = params.capsuleEndPointsDistance;\n  const isStationary = params.isStationary;\n  let radius = params.radius;\n\n  let halfDistance;\n\n  // There are two modes: either we use scale, or we use radius and capsuleEndPointsDistance.\n  if (typeof radius === 'number' && typeof capsuleEndPointsDistance === 'number') {\n    halfDistance = capsuleEndPointsDistance / 2;\n  } else {\n    const copy = vec3.clone(scale);\n    copy.sort();\n\n    const length = copy[2];\n    radius = (copy[0] + copy[1]) / 2;\n    halfDistance = length / 2 - radius;\n  }\n\n  const orientation = quat.create();\n  if (scale[0] > scale[1]) {\n    if (scale[0] > scale[2]) {\n      vec3.rotateY(orientation, orientation, _geometry.HALF_PI);\n    } else {\n      // Do nothing; the capsule defaults to being aligned with the z-axis.\n    }\n  } else {\n    if (scale[1] > scale[2]) {\n      vec3.rotateX(orientation, orientation, -_geometry.HALF_PI);\n    } else {\n      // Do nothing; the capsule defaults to being aligned with the z-axis.\n    }\n  }\n\n  const capsule = new Capsule(halfDistance, radius, isStationary, physicsJob);\n  capsule.orientation = orientation;\n\n  return capsule;\n}\n\n/**\n * @param {CollidableShapeConfig} params\n * @param {CollidablePhysicsJob} [physicsJob]\n * @returns {Collidable}\n */\nfunction createSphereOrCapsuleFromRenderableShape(params, physicsJob) {\n  const scale = params.scale;\n  const radius = params.radius;\n  const capsuleEndPointsDistance = params.capsuleEndPointsDistance;\n\n  const halfLengthX = scale[0] * radius;\n  const halfLengthY = scale[1] * radius;\n  const halfLengthZ = scale[2] * (radius + capsuleEndPointsDistance) / 2;\n\n  const minLength = Math.min(Math.min(halfLengthX, halfLengthY), halfLengthZ);\n  const maxLength = Math.max(Math.max(halfLengthX, halfLengthY), halfLengthZ);\n\n  if (maxLength / minLength >= _SPHERE_VS_CAPSULE_ASPECT_RATIO_THRESHOLD) {\n    return createCapsuleFromRenderableShape(params, physicsJob);\n  } else {\n    return createSphereFromRenderableShape(params, physicsJob);\n  }\n}\n\nconst _SPHERE_VS_CAPSULE_ASPECT_RATIO_THRESHOLD = 2;\n\nconst _collidableCreators = {\n  'CUBE': createObbFromRenderableShape,\n  'SPHERE_OR_CAPSULE': createSphereOrCapsuleFromRenderableShape,\n  'SPHERE': createSphereFromRenderableShape,\n  'CAPSULE': createCapsuleFromRenderableShape,\n};\n\nexport {\n  createCapsuleFromRenderableShape,\n  createCollidableFromRenderableShape,\n  createObbFromRenderableShape,\n  createSphereFromRenderableShape,\n  createSphereOrCapsuleFromRenderableShape,\n};\n\n/**\n * @typedef {Object} CollidableShapeConfig\n * @property {string} collidableShapeId The ID of the type of collidable shape.\n * @property {vec3} [scale]\n * @property {boolean} [isStationary=false] Whether the collidable is fixed in place.\n */\n\n/**\n * @typedef {CollidableShapeConfig} SphericalCollidableShapeParams\n * @property {number} radius\n */\n\n/**\n * @typedef {SphericalCollidableShapeParams} CapsuleCollidableShapeParams\n * @property {number} capsuleEndPointsDistance The distance between the centers of the spheres on either end\n * of the capsule.\n */\n","import {createCollidableFromRenderableShape} from './collidable-factories';\nimport {collidableStore} from './collidable-store';\nimport {PhysicsJob} from '../../src/physics-job';\nimport {createForCollidable} from '../../util';\n\n/**\n * A CollidablePhysicsJob extends the standard PhysicsJob with a collidable geometry.\n */\nclass CollidablePhysicsJob extends PhysicsJob {\n  /**\n   * @param {CollidableShapeConfig} collidableParams\n   * @param {PhysicsState} state\n   * @param {Array.<ForceApplier>} forceAppliers\n   * @param {Object} controller\n   * @param {CollisionHandler} collisionHandler\n   */\n  constructor(collidableParams, state, forceAppliers, controller, collisionHandler) {\n    super(forceAppliers, state);\n\n    collidableParams.scale = collidableParams.scale || vec3.fromValues(1, 1, 1);\n    this.collidable = createCollidableFromRenderableShape(collidableParams, this);\n    this.currentState.unrotatedInertiaTensor =\n        createForCollidable(this.collidable, this.currentState.mass);\n    this.currentState.updateDependentFields();\n    this.isAtRest = false;\n    this.controller = controller;\n    this._collisionHandler = collisionHandler;\n  }\n\n  /**\n   * @param {ForceApplier} forceApplier\n   */\n  addForceApplier(forceApplier) {\n    super.addForceApplier(forceApplier);\n    this.isAtRest = false;\n  }\n\n  /**\n   * @param {ForceApplier} forceApplier\n   */\n  removeForceApplier(forceApplier) {\n    super.removeForceApplier(forceApplier);\n    this.isAtRest = false;\n  }\n\n  /**\n   * This callback is triggered in response to a collision.\n   *\n   * @param {Collision} collision\n   * @returns {boolean} True if this needs the standard collision restitution to proceed.\n   */\n  handleCollision(collision) {\n    return this._collisionHandler(collision);\n  }\n\n  /**\n   * @param {number} [startTime]\n   * @override\n   */\n  start(startTime) {\n    super.start(startTime);\n    collidableStore.registerCollidable(this.collidable);\n  }\n\n  /**\n   * @override\n   */\n  finish() {\n    super.finish();\n    collidableStore.unregisterCollidable(this.collidable);\n  }\n\n  /** @returns {vec3} */\n  get position() {\n    return this.currentState.position;\n  }\n\n  /** @param {vec3} value */\n  set position(value) {\n    this.currentState.position = vec3.clone(value);\n    this.collidable.position = vec3.clone(value);\n  }\n}\n\nexport {CollidablePhysicsJob};\n\n/**\n * @typedef {Function} CollisionHandler\n * @param {Collision} collision\n * @returns {boolean} True if this needs the standard collision restitution to proceed.\n */\n","import {detectBoundingVolumeIntersection} from './collision-utils';\n\n// TODO: Implement some form of bounding volume hierarchy to make searching for potential collisions\n// more efficient.\n\n/**\n * This class registers and retrieves all Collidables within a scene.\n */\nclass CollidableStore {\n  constructor() {\n    this._collidables = [];\n  }\n\n  /**\n   * Caches the given program wrapper.\n   *\n   * This method is idempotent; a given program will only be cached once.\n   *\n   * @param {Collidable} collidable\n   */\n  registerCollidable(collidable) {\n    this._collidables.push(collidable);\n  }\n\n  /**\n   * @param {Collidable} collidable\n   */\n  unregisterCollidable(collidable) {\n    const index = this._collidables.indexOf(collidable);\n    if (index >= 0) {\n      this._collidables.splice(index, 1);\n    }\n  }\n\n  /**\n   * @param {Collidable} collidable\n   * @returns {Array.<Collidable>}\n   */\n  getPossibleCollisionsForCollidable(collidable) {\n    return this._collidables.filter(other =>\n      collidable !== other &&\n      detectBoundingVolumeIntersection(collidable, other));\n  }\n\n  /**\n   * @returns {Array.<Collision>}\n   */\n  getPossibleCollisionsForAllCollidables() {\n    const result = [];\n    for (let i = 0, count = this._collidables.length; i < count; i++) {\n      const collidableA = this._collidables[i];\n      for (let j = i + 1; j < count; j++) {\n        const collidableB = this._collidables[j];\n        if (detectBoundingVolumeIntersection(collidableA, collidableB)) {\n          result.push({collidableA: collidableA, collidableB: collidableB});\n        }\n      }\n    }\n    return result;\n  }\n\n  /**\n   * @param {Function} callback\n   */\n  forEach(callback) {\n    this._collidables.forEach(callback);\n  }\n}\n\nconst collidableStore = new CollidableStore();\nexport {collidableStore};\n\n/**\n * @typedef {Object} Collision\n * @property {Collidable} collidableA\n * @property {Collidable} collidableB\n * @property {vec3} [contactPoint] In world coordinates.\n * @property {vec3} [contactNormal] Points away from body A and toward body B.\n * @property {number} [time]\n */\n","import {\n  areVec3sClose,\n  tmpVec1,\n  tmpVec2,\n  tmpVec3,\n  tmpVec4,\n} from '../../util';\n\nimport {collidableStore} from './collidable-store';\nimport {detectIntersection, calculateContact} from './collision-utils';\n\n/**\n * This module defines a collision pipeline.\n *\n * These functions will detect collisions between collidable bodies and update their momenta in\n * response to the collisions.\n *\n * - Consists of an efficient broad-phase collision detection step followed by a precise\n *   narrow-phase step.\n * - Calculates the position, surface normal, and time of each contact.\n * - Calculates the impulse of a collision and updates the bodies' linear and angular momenta in\n *   response.\n * - Applies Coulomb friction to colliding bodies.\n * - Sub-divides the time step to more precisely determine when and where a collision occurs.\n * - Supports multiple collisions with a single body in a single time step.\n * - Efficiently supports bodies coming to rest against each other.\n * - Bodies will never penetrate one another.\n * - This does not address the tunnelling problem. That is, it is possible for two fast-moving\n *   bodies to pass through each other as long as they did not intersect each other during any time\n *   step.\n * - This only supports collisions between certain types of shapes. Fortunately, this set provides\n *   reasonable approximations for most other shapes. The supported types of shapes are: spheres,\n *   capsules, AABBs, and OBBs.\n *\n * ## Objects that come to rest\n *\n * An important efficiency improvement is to not process objects through the physics engine pipeline\n * after they have come to rest. The isAtRest field indicates when a body has come to rest.\n *\n * isAtRest is set to true after a physics frame is finished if the collisions, forces, position,\n * and orientation of a job have not changed from the previous to the current state.\n *\n * isAtRest is set to false from two possible events: after a physics frame is finished if the\n * collisions have changed from the previous to the current state, or when a force is added to\n * removed from the job.\n *\n * ## Collision calculations do not consider velocity\n *\n * Collision detection works by waiting until two bodies intersect. However, because time frames are\n * not infinitely small, when an intersection is detected, it's already past the exact instance of\n * collision. To alleviate problems from this, the velocity of each body can be considered when\n * calculating the collision time, position, and contact normal. However, taking velocity into\n * account makes the contact calculations much more complex, so we do not consider velocity in our\n * calculations.\n *\n * A notable consequence of this is that the calculated contact normals can be incorrect. Consider\n * the following moving squares. At time t2 they are found to have collided. The calculated contact\n * point will be somewhere within the intersection of the corners. But the calculated contact normal\n * will point upwards, while the true contact normal should point to the right. This is because the\n * contact calculations do not consider velocity and instead only consider the shallowest direction\n * of overlap.\n *\n * // Time t1\n *                    +------------+\n *                    |            |\n *                    |            |\n *                <-- |      B     |\n *                    |            |\n *  +------------+    |            |\n *  |            |    +------------+\n *  |            |\n *  |      A     | -->\n *  |            |\n *  |            |\n *  +------------+\n *\n * // Time t2\n *         +------------+\n *         |            |\n *         |            |\n *         |      B     |\n *         |            |\n *  +------------+      |\n *  |      +-----|------+\n *  |            |\n *  |      A     |\n *  |            |\n *  |            |\n *  +------------+\n */\n\n/**\n * Detect and handle any collisions between a given job and all other collidable bodies.\n *\n * @param {CollidablePhysicsJob} job\n * @param {DOMHighResTimeStamp} elapsedTime\n * @param {PhysicsConfig} physicsParams\n */\nfunction handleCollisionsForJob(job, elapsedTime, physicsParams) {\n  const collidable = job.collidable;\n\n  // Clear any previous collision info.\n  collidable.previousCollisions = collidable.collisions;\n  collidable.collisions = [];\n\n  // Find all colliding collidables.\n  const collidingCollidables = findIntersectingCollidablesForCollidable(collidable);\n\n  // Store the time of collision for each collision.\n  const collisions = _recordCollisions(collidable, collidingCollidables, elapsedTime);\n\n  // Calculate the points of contact for each collision.\n  _calculatePointsOfContact(collisions);\n\n  // Collision resolution.\n  _resolveCollisions(collisions, physicsParams);\n}\n\n/**\n * Finds all other collidables that intersect with the given collidable.\n *\n * @param {Collidable} collidable\n * @returns {Array.<Collidable>}\n */\nfunction findIntersectingCollidablesForCollidable(collidable) {\n  // Broad-phase collision detection (pairs whose bounding volumes intersect).\n  const collidingCollidables = collidableStore.getPossibleCollisionsForCollidable(collidable);\n\n  // Narrow-phase collision detection (pairs that actually intersect).\n  return _detectPreciseCollisionsFromCollidingCollidables(collidable, collidingCollidables);\n}\n\n/**\n * @param {Array.<CollidablePhysicsJob>} jobs\n */\nfunction determineJobsAtRest(jobs) {\n  jobs.forEach(job => job.isAtRest = _isJobAtRest(job));\n}\n\nfunction recordOldCollisionsForDevModeForAllCollidables() {\n  collidableStore.forEach(_recordOldCollisionsForDevModeForCollidable);\n}\n\n/**\n * Logs a warning message for any pair of objects that intersect.\n */\nfunction checkThatNoObjectsCollide() {\n  // Broad-phase collision detection (pairs whose bounding volumes intersect).\n  let collisions = collidableStore.getPossibleCollisionsForAllCollidables();\n\n  // Narrow-phase collision detection (pairs that actually intersect).\n  collisions = _detectPreciseCollisionsFromCollisions(collisions);\n\n  collisions.forEach(collision => {\n    console.warn('Objects still intersect after collision resolution', collision);\n  });\n}\n\n/**\n * Create collision objects that record the time of collision and the collidables in the collision.\n *\n * Also record references to these collisions on the collidables.\n *\n * @param {Collidable} collidable\n * @param {Array.<Collidable>} collidingCollidables\n * @param {DOMHighResTimeStamp} elapsedTime\n * @returns {Array.<Collision>}\n * @private\n */\nfunction _recordCollisions(collidable, collidingCollidables, elapsedTime) {\n  return collidingCollidables.map(other => {\n    const collision = {\n      collidableA: collidable,\n      collidableB: other,\n      time: elapsedTime\n    };\n\n    // Record the fact that these objects collided (the ModelController may want to handle this).\n    collision.collidableA.collisions.push(collision);\n    collision.collidableB.collisions.push(collision);\n\n    return collision;\n  });\n}\n\n/**\n * Narrow-phase collision detection.\n *\n * Given a list of possible collision pairs, filter out which pairs are actually colliding.\n *\n * @param {Array.<Collision>} collisions\n * @returns {Array.<Collision>}\n * @private\n */\nfunction _detectPreciseCollisionsFromCollisions(collisions) {\n  return collisions.filter(collision => {\n    // TODO:\n    // - Use temporal bisection with discrete sub-time steps to find time of collision (use\n    //       x-vs-y-specific intersection detection methods).\n    // - Make sure the collision object is set up with the \"previousState\" from the sub-step\n    //   before collision and the time from the sub-step after collision (determined from the\n    //   previous temporal bisection search...)\n\n    return detectIntersection(collision.collidableA, collision.collidableB);\n  });\n}\n\n/**\n * Narrow-phase collision detection.\n *\n * Given a list of possible collision pairs, filter out which pairs are actually colliding.\n *\n * @param {Collidable} collidable\n * @param {Array.<Collidable>} collidingCollidables\n * @returns {Array.<Collidable>}\n * @private\n */\nfunction _detectPreciseCollisionsFromCollidingCollidables(collidable, collidingCollidables) {\n  return collidingCollidables.filter(other => {\n    // TODO:\n    // - Use temporal bisection with discrete sub-time steps to find time of collision (use\n    //       x-vs-y-specific intersection detection methods).\n    // - Make sure the collision object is set up with the \"previousState\" from the sub-step\n    //   before collision and the time from the sub-step after collision (determined from the\n    //   previous temporal bisection search...)\n\n    return detectIntersection(collidable, other);\n  });\n}\n\n/**\n * Calculate the intersection position and contact normal of each collision.\n *\n * @param {Array.<Collision>} collisions\n * @private\n */\nfunction _calculatePointsOfContact(collisions) {\n  collisions.forEach(calculateContact);\n}\n\n/**\n * Updates the linear and angular momenta of each body in response to its collision.\n *\n * @param {Array.<Collision>} collisions\n * @param {PhysicsConfig} physicsParams\n * @private\n */\nfunction _resolveCollisions(collisions, physicsParams) {\n  collisions.forEach(collision => {\n    // If neither physics job needs the standard collision restitution, then don't do it.\n    if (_notifyPhysicsJobsOfCollision(collision)) {\n      if (collision.collidableA.physicsJob && collision.collidableB.physicsJob) {\n        // Neither of the collidables is stationary.\n        _resolveCollision(collision, physicsParams);\n      } else {\n        // One of the two collidables is stationary.\n        _resolveCollisionWithStationaryObject(collision, physicsParams);\n      }\n    }\n  });\n}\n\n/**\n * @param {Collision} collision\n * @returns {boolean} True if one of the PhysicsJobs need the standard collision restitution to\n * proceed.\n * @private\n */\nfunction _notifyPhysicsJobsOfCollision(collision) {\n  return collision.collidableA.physicsJob.handleCollision(collision) ||\n      collision.collidableB.physicsJob.handleCollision(collision)\n}\n\n/**\n * Resolve a collision between two moving, physics-based objects.\n *\n * This is based on collision-response algorithms from Wikipedia\n * (https://en.wikipedia.org/wiki/Collision_response#Impulse-based_reaction_model).\n *\n * @param {Collision} collision\n * @param {PhysicsConfig} physicsParams\n * @private\n */\nfunction _resolveCollision(collision, physicsParams) {\n  const collidableA = collision.collidableA;\n  const collidableB = collision.collidableB;\n  const previousStateA = collidableA.physicsJob.previousState;\n  const previousStateB = collidableB.physicsJob.previousState;\n  const nextStateA = collidableA.physicsJob.currentState;\n  const nextStateB = collidableB.physicsJob.currentState;\n  const centerA = collidableA.centerOfMass;\n  const centerB = collidableB.centerOfMass;\n  const contactPoint = collision.contactPoint;\n\n  const contactPointOffsetA = tmpVec3;\n  vec3.subtract(contactPointOffsetA, contactPoint, centerA);\n  const contactPointOffsetB = tmpVec4;\n  vec3.subtract(contactPointOffsetB, contactPoint, centerB);\n\n  //\n  // Calculate the relative velocity of the bodies at the point of contact.\n  //\n  // We use the velocity from the previous state, since it is the velocity that led to the\n  // collision.\n  //\n\n  const velocityA = tmpVec1;\n  vec3.cross(tmpVec1, previousStateA.angularVelocity, contactPointOffsetA);\n  vec3.add(velocityA, previousStateA.velocity, tmpVec1);\n\n  const velocityB = tmpVec2;\n  vec3.cross(tmpVec2, previousStateB.angularVelocity, contactPointOffsetB);\n  vec3.add(velocityB, previousStateB.velocity, tmpVec2);\n\n  const relativeVelocity = vec3.create();\n  vec3.subtract(relativeVelocity, velocityB, velocityA);\n\n  if (vec3.dot(relativeVelocity, collision.contactNormal) >= 0) {\n    // If the relative velocity is not pointing against the normal, then the normal was calculated\n    // incorrectly (this is likely due to the time step being too large and the fact that our\n    // contact calculations don't consider velocity). So update the contact normal to be in the\n    // direction of the relative velocity.\n\n    // TODO: Check that this works as expected.\n\n    // console.warn('Non-collision because objects are moving away from each other.');\n\n    vec3.copy(collision.contactNormal, relativeVelocity);\n    vec3.normalize(collision.contactNormal, collision.contactNormal);\n    vec3.negate(collision.contactNormal, collision.contactNormal);\n  }\n\n  _applyImpulseFromCollision(collision, relativeVelocity, contactPointOffsetA,\n      contactPointOffsetB, physicsParams);\n\n  // NOTE: This state reversion is only applied to collidableA. This assumes that only A is moving\n  // during this iteration of the collision pipeline.\n\n  // Revert to the position and orientation from immediately before the collision.\n  vec3.copy(nextStateA.position, previousStateA.position);\n  quat.copy(nextStateA.orientation, previousStateA.orientation);\n\n  // Also revert the collidables' position and orientation.\n  collidableA.position = previousStateA.position;\n  collidableA.orientation = previousStateA.orientation;\n\n  nextStateA.updateDependentFields();\n  nextStateB.updateDependentFields();\n}\n\n/**\n * Resolve a collision between one moving, physics-based object and one stationary object.\n *\n * @param {Collision} collision\n * @param {PhysicsConfig} physicsParams\n * @private\n */\nfunction _resolveCollisionWithStationaryObject(collision, physicsParams) {\n  const contactNormal = collision.contactNormal;\n\n  let physicsCollidable;\n  if (collision.collidableA.physicsJob) {\n    physicsCollidable = collision.collidableA;\n  } else {\n    physicsCollidable = collision.collidableB;\n    vec3.negate(contactNormal, contactNormal);\n  }\n\n  const previousState = physicsCollidable.physicsJob.previousState;\n  const nextState = physicsCollidable.physicsJob.currentState;\n  const center = physicsCollidable.centerOfMass;\n  const contactPoint = collision.contactPoint;\n\n  const contactPointOffset = tmpVec3;\n  vec3.subtract(contactPointOffset, contactPoint, center);\n\n  // Calculate the relative velocity of the bodies at the point of contact. We use the velocity from\n  // the previous state, since it is the velocity that led to the collision.\n  const velocity = vec3.create();\n  vec3.cross(tmpVec1, previousState.angularVelocity, contactPointOffset);\n  vec3.add(velocity, previousState.velocity, tmpVec1);\n\n  if (vec3.dot(velocity, contactNormal) <= 0) {\n    // If the relative velocity is not pointing against the normal, then the normal was calculated\n    // incorrectly (this is likely due to the time step being too large and the fact that our\n    // contact calculations don't consider velocity). So update the contact normal to be in the\n    // direction of the relative velocity.\n\n    // TODO: Check that this works as expected.\n\n    console.warn('Non-collision because object is moving away from stationary object.');\n\n    vec3.copy(collision.contactNormal, velocity);\n    vec3.normalize(collision.contactNormal, collision.contactNormal);\n    vec3.negate(collision.contactNormal, collision.contactNormal);\n  }\n\n  _applyImpulseFromCollisionWithStationaryObject(physicsCollidable, collision, velocity,\n      contactPointOffset, physicsParams);\n\n  // Revert to the position and orientation from immediately before the collision.\n  vec3.copy(nextState.position, previousState.position);\n  quat.copy(nextState.orientation, previousState.orientation);\n\n  // Also revert the collidable's position and orientation.\n  physicsCollidable.position = previousState.position;\n  physicsCollidable.orientation = previousState.orientation;\n\n  nextState.updateDependentFields();\n}\n\n/**\n * This is based on collision-response algorithms from Wikipedia\n * (https://en.wikipedia.org/wiki/Collision_response#Impulse-based_reaction_model). This algorithm\n * has been simplified by assuming the stationary body has infinite mass and zero velocity.\n *\n * @param {Collision} collision\n * @param {vec3} relativeVelocity\n * @param {vec3} contactPointOffsetA\n * @param {vec3} contactPointOffsetB\n * @param {PhysicsConfig} physicsParams\n * @private\n */\nfunction _applyImpulseFromCollision(collision, relativeVelocity, contactPointOffsetA,\n                                    contactPointOffsetB, physicsParams) {\n  const collidableA = collision.collidableA;\n  const collidableB = collision.collidableB;\n\n  const stateA = collidableA.physicsJob.currentState;\n  const stateB = collidableB.physicsJob.currentState;\n\n  const contactNormal = collision.contactNormal;\n\n  //\n  // Calculate and apply the main collision impulse.\n  //\n\n  vec3.scale(tmpVec1, relativeVelocity, -(1 + physicsParams.coefficientOfRestitution));\n  const numerator = vec3.dot(tmpVec1, contactNormal);\n\n  vec3.cross(tmpVec1, contactPointOffsetA, contactNormal);\n  vec3.transformMat3(tmpVec1, tmpVec1, stateA.inverseInertiaTensor);\n  vec3.cross(tmpVec1, tmpVec1, contactPointOffsetA);\n\n  vec3.cross(tmpVec2, contactPointOffsetB, contactNormal);\n  vec3.transformMat3(tmpVec2, tmpVec2, stateB.inverseInertiaTensor);\n  vec3.cross(tmpVec2, tmpVec2, contactPointOffsetB);\n\n  vec3.add(tmpVec1, tmpVec1, tmpVec2);\n  const denominator = vec3.dot(tmpVec1, contactNormal) + stateA.inverseMass + stateB.inverseMass;\n\n  const impulseMagnitude = numerator / denominator;\n\n  _applyImpulse(stateA, -impulseMagnitude, contactNormal, contactPointOffsetA);\n  _applyImpulse(stateB, impulseMagnitude, contactNormal, contactPointOffsetB);\n\n  //\n  // Calculate and apply a dynamic friction impulse.\n  //\n\n  const frictionImpulseMagnitude = impulseMagnitude * physicsParams.coefficientOfFriction;\n\n  const tangent = tmpVec2;\n  vec3.scale(tmpVec1, contactNormal, vec3.dot(relativeVelocity, contactNormal));\n  vec3.subtract(tangent, relativeVelocity, tmpVec1);\n  vec3.normalize(tangent, tangent);\n\n  _applyImpulse(stateA, frictionImpulseMagnitude, tangent, contactPointOffsetA);\n  _applyImpulse(stateB, -frictionImpulseMagnitude, tangent, contactPointOffsetB);\n}\n\n/**\n * This is based on collision-response algorithms from Wikipedia\n * (https://en.wikipedia.org/wiki/Collision_response#Impulse-based_reaction_model). This algorithm\n * has been simplified by assuming the stationary body has infinite mass and zero velocity.\n *\n * @param {Collidable} physicsCollidable\n * @param {Collision} collision\n * @param {vec3} velocity\n * @param {vec3} contactPointOffset\n * @param {PhysicsConfig} physicsParams\n * @private\n */\nfunction _applyImpulseFromCollisionWithStationaryObject(physicsCollidable, collision, velocity,\n                                                        contactPointOffset, physicsParams) {\n  const state = physicsCollidable.physicsJob.currentState;\n  const contactNormal = collision.contactNormal;\n\n  //\n  // Calculate and apply the main collision impulse.\n  //\n\n  vec3.scale(tmpVec1, velocity, -(1 + physicsParams.coefficientOfRestitution));\n  const numerator = vec3.dot(tmpVec1, contactNormal);\n\n  vec3.cross(tmpVec1, contactPointOffset, contactNormal);\n  vec3.transformMat3(tmpVec1, tmpVec1, state.inverseInertiaTensor);\n  vec3.cross(tmpVec1, tmpVec1, contactPointOffset);\n  const denominator = vec3.dot(tmpVec1, contactNormal) + state.inverseMass;\n\n  const impulseMagnitude = numerator / denominator;\n\n  _applyImpulse(state, impulseMagnitude, contactNormal, contactPointOffset);\n\n  //\n  // Calculate and apply a dynamic friction impulse.\n  //\n\n  const frictionImpulseMagnitude = impulseMagnitude * physicsParams.coefficientOfFriction;\n\n  const tangent = tmpVec2;\n  vec3.scale(tmpVec1, contactNormal, vec3.dot(velocity, contactNormal));\n  vec3.subtract(tangent, velocity, tmpVec1);\n  vec3.normalize(tangent, tangent);\n\n  _applyImpulse(state, frictionImpulseMagnitude, tangent, contactPointOffset);\n}\n\n/**\n * @param {PhysicsState} state\n * @param {number} impulseMagnitude\n * @param {vec3} impulseDirection\n * @param {vec3} contactPointOffset\n * @private\n */\nfunction _applyImpulse(state, impulseMagnitude, impulseDirection, contactPointOffset) {\n  // Calculate the updated linear momenta.\n  const finalLinearMomentum = vec3.create();\n  vec3.scaleAndAdd(finalLinearMomentum, state.momentum, impulseDirection, impulseMagnitude);\n\n  // Calculate the updated angular momenta.\n  const finalAngularMomentum = vec3.create();\n  vec3.cross(tmpVec1, contactPointOffset, impulseDirection);\n  vec3.scaleAndAdd(finalAngularMomentum, state.angularMomentum, tmpVec1, impulseMagnitude);\n\n  // Apply the updated momenta.\n  vec3.copy(state.momentum, finalLinearMomentum);\n  vec3.copy(state.angularMomentum, finalAngularMomentum);\n}\n\n/**\n * @param {CollidablePhysicsJob} job\n * @returns {boolean}\n * @private\n */\nfunction _isJobAtRest(job) {\n  return areVec3sClose(job.currentState.position, job.previousState.position) &&\n      areVec3sClose(job.currentState.velocity, job.previousState.velocity) &&\n      areVec3sClose(job.currentState.orientation, job.previousState.orientation) &&\n      _doCollisionsMatch(job.collidable.collisions, job.collidable.previousCollisions);\n}\n\n/**\n * @param {Array.<Collision>} collisionsA\n * @param {Array.<Collision>} collisionsB\n * @returns {boolean}\n * @private\n */\nfunction _doCollisionsMatch(collisionsA, collisionsB) {\n  const count = collisionsA.length;\n\n  if (count !== collisionsB.length) return false;\n\n  for (let i = 0; i < count; i++) {\n    const collisionA = collisionsA[i];\n    const collisionB = collisionsB[i];\n    if (collisionA.collidableA !== collisionB.collidableA ||\n        collisionA.collidableB !== collisionB.collidableB ||\n        !areVec3sClose(collisionA.contactPoint, collisionB.contactPoint) ||\n        !areVec3sClose(collisionA.contactNormal, collisionB.contactNormal)) {\n      return false\n    }\n  }\n\n  return true;\n}\n\n/**\n * @param {Collidable} collidable\n * @private\n */\nfunction _recordOldCollisionsForDevModeForCollidable(collidable) {\n  if (!collidable.extraPreviousCollisions) {\n    collidable.extraPreviousCollisions = [];\n  }\n\n  for (let i = 3; i > 0; i--) {\n    collidable.extraPreviousCollisions[i] = collidable.extraPreviousCollisions[i - 1];\n  }\n  collidable.extraPreviousCollisions[0] = collidable.previousCollisions;\n}\n\n/**\n * @param {Collision} collision\n * @param {Object} thisController\n * @returns {Object}\n */\nfunction getOtherControllerFromCollision(collision, thisController) {\n  const controllerA = collision.collidableA.physicsJob.controller;\n  const controllerB = collision.collidableB.physicsJob.controller;\n  if (controllerA === thisController) {\n    return controllerB;\n  } else if (controllerB === thisController) {\n    return controllerA;\n  } else {\n    throw new Error('Neither collidable corresponds to the given controller');\n  }\n}\n\nexport {\n  handleCollisionsForJob,\n  findIntersectingCollidablesForCollidable,\n  determineJobsAtRest,\n  recordOldCollisionsForDevModeForAllCollidables,\n  checkThatNoObjectsCollide,\n  getOtherControllerFromCollision,\n};\n","import {\n  Aabb,\n  Capsule,\n  Obb,\n  Sphere\n} from '../collidables';\n\nimport {\n  aabbCollisionDetection,\n  capsuleCollisionDetection,\n  obbCollisionDetection,\n  sphereCollisionDetection,\n} from '../collision-detection';\n\nimport {\n  aabbContactCalculation,\n  capsuleContactCalculation,\n  obbContactCalculation,\n  sphereContactCalculation,\n} from '../contact-calculation';\n\n/**\n * This module defines a collection of static utility functions for detecting and responding to\n * collisions.\n */\n\n/**\n * @param {Collidable} a\n * @param {Collidable} b\n * @returns {boolean}\n */\nfunction detectIntersection(a, b) {\n  if (a instanceof Sphere) {\n    if (b instanceof Sphere) {\n      return sphereCollisionDetection.sphereVsSphere(a, b);\n    } else if (b instanceof Aabb) {\n      return sphereCollisionDetection.sphereVsAabb(a, b);\n    } else if (b instanceof Capsule) {\n      return sphereCollisionDetection.sphereVsCapsule(a, b);\n    } else if (b instanceof Obb) {\n      return sphereCollisionDetection.sphereVsObb(a, b);\n    } else {\n      return sphereCollisionDetection.sphereVsPoint(a, b);\n    }\n  } else if (a instanceof Aabb) {\n    if (b instanceof Sphere) {\n      return aabbCollisionDetection.aabbVsSphere(a, b);\n    } else if (b instanceof Aabb) {\n      return aabbCollisionDetection.aabbVsAabb(a, b);\n    } else if (b instanceof Capsule) {\n      return aabbCollisionDetection.aabbVsCapsule(a, b);\n    } else if (b instanceof Obb) {\n      return aabbCollisionDetection.aabbVsObb(a, b);\n    } else {\n      return aabbCollisionDetection.aabbVsPoint(a, b);\n    }\n  } else if (a instanceof Capsule) {\n    if (b instanceof Sphere) {\n      return capsuleCollisionDetection.capsuleVsSphere(a, b);\n    } else if (b instanceof Aabb) {\n      return capsuleCollisionDetection.capsuleVsAabb(a, b);\n    } else if (b instanceof Capsule) {\n      return capsuleCollisionDetection.capsuleVsCapsule(a, b);\n    } else if (b instanceof Obb) {\n      return capsuleCollisionDetection.capsuleVsObb(a, b);\n    } else {\n      return capsuleCollisionDetection.capsuleVsPoint(a, b);\n    }\n  } else if (a instanceof Obb) {\n    if (b instanceof Sphere) {\n      return obbCollisionDetection.obbVsSphere(a, b);\n    } else if (b instanceof Aabb) {\n      return obbCollisionDetection.obbVsAabb(a, b);\n    } else if (b instanceof Capsule) {\n      return obbCollisionDetection.obbVsCapsule(a, b);\n    } else if (b instanceof Obb) {\n      return obbCollisionDetection.obbVsObb(a, b);\n    } else {\n      return obbCollisionDetection.obbVsPoint(a, b);\n    }\n  } else {\n    if (b instanceof Sphere) {\n      return sphereCollisionDetection.sphereVsPoint(b, a);\n    } else if (b instanceof Aabb) {\n      return aabbCollisionDetection.aabbVsPoint(b, a);\n    } else if (b instanceof Capsule) {\n      return capsuleCollisionDetection.capsuleVsPoint(b, a);\n    } else if (b instanceof Obb) {\n      return obbCollisionDetection.obbVsPoint(b, a);\n    } else {\n      return false;\n    }\n  }\n}\n\n/**\n * @param {Collision} collision\n */\nfunction calculateContact(collision) {\n  const a = collision.collidableA;\n  const b = collision.collidableB;\n  const contactPoint = vec3.create();\n  const contactNormal = vec3.create();\n\n  if (a instanceof Sphere) {\n    if (b instanceof Sphere) {\n      sphereContactCalculation.sphereVsSphere(contactPoint, contactNormal, a, b);\n    } else if (b instanceof Aabb) {\n      sphereContactCalculation.sphereVsAabb(contactPoint, contactNormal, a, b);\n    } else if (b instanceof Capsule) {\n      sphereContactCalculation.sphereVsCapsule(contactPoint, contactNormal, a, b);\n    } else if (b instanceof Obb) {\n      sphereContactCalculation.sphereVsObb(contactPoint, contactNormal, a, b);\n    } else {\n      sphereContactCalculation.sphereVsPoint(contactPoint, contactNormal, a, b);\n    }\n  } else if (a instanceof Aabb) {\n    if (b instanceof Sphere) {\n      aabbContactCalculation.aabbVsSphere(contactPoint, contactNormal, a, b);\n    } else if (b instanceof Aabb) {\n      aabbContactCalculation.aabbVsAabb(contactPoint, contactNormal, a, b);\n    } else if (b instanceof Capsule) {\n      aabbContactCalculation.aabbVsCapsule(contactPoint, contactNormal, a, b);\n    } else if (b instanceof Obb) {\n      aabbContactCalculation.aabbVsObb(contactPoint, contactNormal, a, b);\n    } else {\n      aabbContactCalculation.aabbVsPoint(contactPoint, contactNormal, a, b);\n    }\n  } else if (a instanceof Capsule) {\n    if (b instanceof Sphere) {\n      capsuleContactCalculation.capsuleVsSphere(contactPoint, contactNormal, a, b);\n    } else if (b instanceof Aabb) {\n      capsuleContactCalculation.capsuleVsAabb(contactPoint, contactNormal, a, b);\n    } else if (b instanceof Capsule) {\n      capsuleContactCalculation.capsuleVsCapsule(contactPoint, contactNormal, a, b);\n    } else if (b instanceof Obb) {\n      capsuleContactCalculation.capsuleVsObb(contactPoint, contactNormal, a, b);\n    } else {\n      capsuleContactCalculation.capsuleVsPoint(contactPoint, contactNormal, a, b);\n    }\n  } else if (a instanceof Obb) {\n    if (b instanceof Sphere) {\n      obbContactCalculation.obbVsSphere(contactPoint, contactNormal, a, b);\n    } else if (b instanceof Aabb) {\n      obbContactCalculation.obbVsAabb(contactPoint, contactNormal, a, b);\n    } else if (b instanceof Capsule) {\n      obbContactCalculation.obbVsCapsule(contactPoint, contactNormal, a, b);\n    } else if (b instanceof Obb) {\n      obbContactCalculation.obbVsObb(contactPoint, contactNormal, a, b);\n    } else {\n      obbContactCalculation.obbVsPoint(contactPoint, contactNormal, a, b);\n    }\n  } else {\n    if (b instanceof Sphere) {\n      sphereContactCalculation.sphereVsPoint(contactPoint, contactNormal, b, a);\n    } else if (b instanceof Aabb) {\n      aabbContactCalculation.aabbVsPoint(contactPoint, contactNormal, b, a);\n    } else if (b instanceof Capsule) {\n      capsuleContactCalculation.capsuleVsPoint(contactPoint, contactNormal, b, a);\n    } else if (b instanceof Obb) {\n      obbContactCalculation.obbVsPoint(contactPoint, contactNormal, b, a);\n    } else {}\n    vec3.negate(contactNormal, contactNormal);\n  }\n\n  collision.contactPoint = contactPoint;\n  collision.contactNormal = contactNormal;\n}\n\n/**\n * @param {Collidable} a\n * @param {Collidable} b\n * @returns {boolean}\n */\nfunction detectBoundingVolumeIntersection(a, b) {\n  return detectIntersection(a.boundingVolume, b.boundingVolume);\n}\n\nexport {\n  detectIntersection,\n  calculateContact,\n  detectBoundingVolumeIntersection,\n};\n","/**\n * This module re-exports all of the exports in the grafx framework. This makes the entire framework\n * conveniently accessible via this single module.\n */\n\nexport * from './collisions';\nexport * from './integrator';\nexport * from './util';\n\nexport * from './src/physics-engine';\nexport * from './src/physics-job';\nexport * from './src/physics-state';\n","export * from './src/integrator';\nexport * from './src/rk4-integrator';\n","/**\n * This class numerically integrates the equations of motion. That is, an integrator implements\n * physics simulations by updating position and velocity values for each time step.\n *\n * @abstract\n */\nclass Integrator {\n  constructor() {\n    // Integrator is an abstract class. It should not be instantiated directly.\n    if (new.target === Integrator) {\n      throw new TypeError('Cannot construct Integrator instances directly');\n    }\n  }\n\n  /**\n   * Integrate the state from t to t + dt.\n   *\n   * @param {PhysicsJob} job\n   * @param {number} t Total elapsed time.\n   * @param {number} dt Duration of the current time step.\n   * @abstract\n   */\n  integrate(job, t, dt) {\n    // Extending classes should implement this method.\n    throw new TypeError('Method not implemented');\n  }\n\n  /**\n   * @returns {PhysicsDerivative}\n   */\n  static createDerivative() {\n    return {\n      velocity: vec3.create(),\n      force: vec3.create(),\n      spin: quat.create(),\n      torque: vec3.create()\n    };\n  }\n}\n\nexport {Integrator};\n\n/**\n * @typedef {Object} PhysicsDerivative\n * @property {vec3} velocity Derivative of position.\n * @property {vec3} force Derivative of momentum.\n * @property {quat} spin Derivative of orientation.\n * @property {vec3} torque Derivative of angular momentum.\n */\n\n/**\n * @typedef {Object} ForceApplierOutput\n * @property {vec3} force\n * @property {vec3} torque\n */\n\n/**\n * @typedef {Object} ForceApplierInput\n * @property {PhysicsState} state\n * @property {number} t\n * @property {number} dt\n */\n","import {_geometry, _util} from '../../util';\nimport {Integrator} from './integrator';\nimport {PhysicsState} from '../../src/physics-state';\n\n// TODO: Account for the fact that collisions take place between time steps; integration should\n// really consider the previous state as being the time and state at the moment of collision.\n\n/**\n * This class numerically integrates the equations of motion. That is, this implements physics\n * simulations by updating position and velocity values for each time step.\n *\n * This integrator is an implementation of the classical Runge-Kutta method (RK4)\n * (https://en.wikipedia.org/wiki/Runge_kutta).\n *\n * This integrator causes energy to be lost at a small rate. This is a common problem for numerical\n * integrators, and is usually negligible.\n */\nclass RK4Integrator extends Integrator {\n  constructor() {\n    super();\n    if (_util.isInDevMode) {\n      this._wrapForDevMode();\n    }\n  }\n\n  /**\n   * Integrate the state from t to t + dt.\n   *\n   * @param {PhysicsJob} job\n   * @param {number} t Total elapsed time.\n   * @param {number} dt Duration of the current time step.\n   */\n  integrate(job, t, dt) {\n    const state = job.currentState;\n    _tempState.copy(state);\n\n    _calculateDerivative(_a, _tempState, job, t, 0, _EMPTY_DERIVATIVE);\n    _calculateDerivative(_b, _tempState, job, t, dt * 0.5, _a);\n    _calculateDerivative(_c, _tempState, job, t, dt * 0.5, _b);\n    _calculateDerivative(_d, _tempState, job, t, dt, _c);\n\n    _calculateVec3DerivativeWeightedSum(\n        _positionDerivative, _a.velocity, _b.velocity, _c.velocity, _d.velocity);\n    _calculateVec3DerivativeWeightedSum(\n        _momentumDerivative, _a.force, _b.force, _c.force, _d.force);\n    _calculateQuatDerivativeWeightedSum(_orientationDerivative, _a.spin, _b.spin, _c.spin, _d.spin);\n    _calculateVec3DerivativeWeightedSum(\n        _angularMomentumDerivative, _a.torque, _b.torque, _c.torque, _d.torque);\n\n    vec3.scaleAndAdd(state.position, state.position, _positionDerivative, dt);\n    vec3.scaleAndAdd(state.momentum, state.momentum, _momentumDerivative, dt);\n    _geometry.scaleAndAddQuat(state.orientation, state.orientation, _orientationDerivative, dt);\n    vec3.scaleAndAdd(state.angularMomentum, state.angularMomentum, _angularMomentumDerivative, dt);\n\n    state.updateDependentFields();\n  }\n\n  /**\n   * Wraps the integrate method and check for NaN values after each integration.\n   *\n   * @private\n   */\n  _wrapForDevMode() {\n    const unguardedIntegrate = this.integrate.bind(this);\n    this.integrate = (job, t, dt) => {\n      unguardedIntegrate(job, t, dt);\n      _checkForStateError(job.currentState);\n    };\n  }\n}\n\n/**\n * Calculate the derivative from the given state with the given time step.\n *\n * @param {PhysicsDerivative} out\n * @param {PhysicsState} state\n * @param {PhysicsJob} job\n * @param {number} t\n * @param {number} dt\n * @param {PhysicsDerivative} d\n * @private\n */\nfunction _calculateDerivative(out, state, job, t, dt, d) {\n  vec3.scaleAndAdd(state.position, state.position, d.velocity, dt);\n  vec3.scaleAndAdd(state.momentum, state.momentum, d.force, dt);\n  _geometry.scaleAndAddQuat(state.orientation, state.orientation, d.spin, dt);\n  vec3.scaleAndAdd(state.angularMomentum, state.angularMomentum, d.torque, dt);\n\n  state.updateDependentFields();\n\n  out.velocity = state.velocity;\n  out.spin = state.spin;\n  vec3.set(out.force, 0, 0, 0);\n  vec3.set(out.torque, 0, 0, 0);\n\n  _forceApplierOutput.force = out.force;\n  _forceApplierOutput.torque = out.torque;\n  _forceApplierInput.state = state;\n  _forceApplierInput.t = t + dt;\n  _forceApplierInput.dt = dt;\n\n  job.applyForces(_forceApplierOutput, _forceApplierInput);\n}\n\nconst _EMPTY_DERIVATIVE = Integrator.createDerivative();\n\nconst _tempState = new PhysicsState();\nconst _a = Integrator.createDerivative();\nconst _b = Integrator.createDerivative();\nconst _c = Integrator.createDerivative();\nconst _d = Integrator.createDerivative();\n\nconst _positionDerivative = vec3.create();\nconst _momentumDerivative = vec3.create();\nconst _orientationDerivative = quat.create();\nconst _angularMomentumDerivative = vec3.create();\n\nconst _forceApplierOutput = {};\nconst _forceApplierInput = {};\n\n/**\n * @param {vec3} out\n * @param {vec3} a\n * @param {vec3} b\n * @param {vec3} c\n * @param {vec3} d\n * @private\n */\nfunction _calculateVec3DerivativeWeightedSum(out, a, b, c, d) {\n  out[0] = 1 / 6 * (a[0] + 2 * (b[0] + c[0]) + d[0]);\n  out[1] = 1 / 6 * (a[1] + 2 * (b[1] + c[1]) + d[1]);\n  out[2] = 1 / 6 * (a[2] + 2 * (b[2] + c[2]) + d[2]);\n}\n\n/**\n * @param {quat} out\n * @param {quat} a\n * @param {quat} b\n * @param {quat} c\n * @param {quat} d\n * @private\n */\nfunction _calculateQuatDerivativeWeightedSum(out, a, b, c, d) {\n  out[0] = 1 / 6 * (a[0] + 2 * (b[0] + c[0]) + d[0]);\n  out[1] = 1 / 6 * (a[1] + 2 * (b[1] + c[1]) + d[1]);\n  out[2] = 1 / 6 * (a[2] + 2 * (b[2] + c[2]) + d[2]);\n  out[3] = 1 / 6 * (a[3] + 2 * (b[3] + c[3]) + d[3]);\n}\n\n/**\n * @param {PhysicsState} state\n * @private\n */\nfunction _checkForStateError(state) {\n  const errorProperties = [\n    'position',\n    'momentum',\n    'orientation',\n    'angularMomentum',\n  ].filter(property => _containsNaN(state[property]));\n  const property = errorProperties[0];\n  if (property) {\n    throw new Error(`${property} contains a NaN value after integrating: ${state[property]}`);\n  }\n}\n\n/**\n * Determines whether the given vector contains a NaN value.\n *\n * @param {vec3} v\n * @private\n */\nfunction _containsNaN(v) {\n  return isNaN(v[0]) || isNaN(v[1]) || isNaN(v[2]);\n}\n\nconst rk4Integrator = new RK4Integrator();\n\nexport {rk4Integrator};\n","import {FrameLatencyProfiler, PersistentAnimationJob} from 'lsl-animatex';\nimport {_util} from '../util';\n\nimport {\n  checkThatNoObjectsCollide,\n  CollidablePhysicsJob,\n  determineJobsAtRest,\n  handleCollisionsForJob,\n  recordOldCollisionsForDevModeForAllCollidables,\n} from '../collisions';\nimport {PhysicsState} from './physics-state';\nimport {rk4Integrator} from '../integrator';\n\nconst _FRAME_LATENCY_LOG_PERIOD = 5000;\nconst _LATENCY_LOG_LABEL = 'Physics frame duration';\n\n/**\n * This physics engine simulates high-performance, three-dimensional rigid-body dynamics.\n *\n * Notable features:\n * - Includes collision detection with impulse-based resolution.\n * - Decouples the physics simulation and animation rendering time steps, and uses a fixed timestep\n * for the physics loop. This gives us numerical stability and precise reproducibility.\n * - Suppresses linear and angular momenta below a certain threshold.\n *\n * The engine consists primarily of a collection of individual physics jobs and an update loop. This\n * update loop is in turn controlled by the animation loop. However, whereas the animation loop\n * renders each job once per frame loop--regardless of how much time actually elapsed since the\n * previous frame--the physics loop updates its jobs at a constant rate. To reconcile these frame\n * rates, the physics loop runs as many times as is needed in order to catch up to the time of the\n * current animation frame. The physics frame rate should be much higher than the animation frame\n * rate.\n *\n * It is VERY IMPORTANT for a PhysicsJob to minimize the runtime of its update step.\n *\n * ## A note on job order\n *\n * The integration+collision pipeline handle one job at a time. A consequence of this design\n * is that half of the collisions technically represent a false interaction between the state of the\n * first object at time t and the state of the second object at time t - 1.\n *\n * This implementation prevents a more problematic issue. If all objects were first integrated, then\n * all objects were checked for collisions, then all collisions were resolved, then the following\n * scenario could arise:\n * - The next position of object A collides with the previous position of object B, but not with the\n *   next position of object B, so object A moves successfully to its new position.\n * - The next position of object B collides with the next position of object C, so objects B and C\n *   are reset to their previous positions.\n * - Object B and C now intersect.\n */\nclass PhysicsEngine extends PersistentAnimationJob {\n  /**\n   * Clients should call PhysicsEngine.create instead of instantiating a PhysicsEngine directly.\n   *\n   * @param {PhysicsConfig} physicsParams\n   */\n  constructor(physicsParams) {\n    super();\n\n    if (_physicsEngine) {\n      throw new Error('Can\\'t instantiate multiple instances of PhysicsEngine.');\n    }\n\n    _physicsEngine = this;\n\n    this._physicsParams = physicsParams;\n    this.integrator = rk4Integrator;\n    this._elapsedTime = 0.0;\n    this._remainingTime = 0.0;\n    this._nonCollidableJobs = [];\n    this._collidableJobs = [];\n\n    if (_util.isInDevMode) {\n      this._setUpForInDevMode();\n    }\n  }\n\n  /**\n   * @param {PhysicsConfig} physicsParams\n   */\n  static create(physicsParams) {\n    new PhysicsEngine(physicsParams);\n  }\n\n  reset() {\n    this._elapsedTime = 0.0;\n    this._remainingTime = 0.0;\n    this._nonCollidableJobs = [];\n    this._collidableJobs = [];\n  }\n\n  /**\n   * Adds the given PhysicsJob.\n   *\n   * @param {PhysicsJob} job\n   */\n  addJob(job) {\n    // console.debug(`Starting PhysicsJob`);\n\n    if (job instanceof CollidablePhysicsJob) {\n      this._collidableJobs.push(job);\n    } else {\n      this._nonCollidableJobs.push(job);\n    }\n  }\n\n  /**\n   * Removes the given PhysicsJob.\n   *\n   * Throws no error if the job is not registered.\n   *\n   * @param {PhysicsJob} job\n   */\n  removeJob(job) {\n    // console.debug(`Cancelling PhysicsJob`);\n    this._removeJob(job);\n  }\n\n  /**\n   * Wraps the draw and update methods in a profiler function that will track the frame latencies.\n   *\n   * @private\n   */\n  _setUpForInDevMode() {\n    const unwrappedUpdate = this.update.bind(this);\n    const latencyProfiler = new FrameLatencyProfiler(_FRAME_LATENCY_LOG_PERIOD, \n        this._physicsParams.timeStepDuration, _LATENCY_LOG_LABEL);\n    latencyProfiler.start();\n\n    this.update = (...args) => {\n      const beforeTime = performance.now();\n      unwrappedUpdate(...args);\n      const deltaTime = performance.now() - beforeTime;\n      latencyProfiler.recordFrameLatency(deltaTime);\n    };\n  }\n\n  /**\n   * Update the physics state for the current animation update frame.\n   *\n   * @param {DOMHighResTimeStamp} currentTime\n   * @param {DOMHighResTimeStamp} deltaTime\n   */\n  update(currentTime, deltaTime) {\n    this._remainingTime += deltaTime;\n\n    // Run as many constant-interval physics updates as are needed for the given animation frame\n    // interval.\n    while (this._remainingTime >= this._physicsParams.timeStepDuration) {\n      this._updateToNextPhysicsFrame();\n      this._elapsedTime += this._physicsParams.timeStepDuration;\n      this._remainingTime -= this._physicsParams.timeStepDuration;\n    }\n\n    // Calculate the intermediate physics state to use for rendering the current animation frame.\n    const partialRatio = this._remainingTime / this._physicsParams.timeStepDuration;\n    this._setPartialStateForRenderTimeStepForAllJobs(partialRatio);\n  }\n\n  _updateToNextPhysicsFrame() {\n    if (_util.isInDevMode) {\n      this._recordOldStatesForAllJobsForDevMode();\n      recordOldCollisionsForDevModeForAllCollidables();\n    }\n\n    this._nonCollidableJobs.forEach(this._integratePhysicsStateForJob.bind(this));\n    this._collidableJobs.forEach(job => {\n      if (!job.isAtRest) {\n        this._integratePhysicsStateForCollidableJob(job);\n        handleCollisionsForJob(job, this._elapsedTime, this._physicsParams);\n      }\n    });\n\n    if (_util.isInDevMode) {\n      checkThatNoObjectsCollide();\n    }\n\n    this._suppressLowMomentaForAllJobs();\n\n    determineJobsAtRest(this._collidableJobs);\n  }\n\n  /**\n   * Removes the given job from the collection of active jobs if it exists.\n   *\n   * @param {PhysicsJob} job\n   * @param {number} [index=-1]\n   * @private\n   */\n  _removeJob(job, index = -1) {\n    if (job instanceof CollidablePhysicsJob) {\n      _removeJobFromCollection(job, index, this._collidableJobs);\n    } else {\n      _removeJobFromCollection(job, index, this._nonCollidableJobs);\n    }\n  }\n\n  /**\n   * Update the current physics state for a job for the current physics update frame.\n   *\n   * This includes applying all forces that have been registered with the physics job.\n   *\n   * @param {CollidablePhysicsJob} job\n   * @private\n   */\n  _integratePhysicsStateForCollidableJob(job) {\n    this._integratePhysicsStateForJob(job);\n\n    // Update the collidable's position and orientation.\n    job.collidable.position = job.currentState.position;\n    job.collidable.orientation = job.currentState.orientation;\n  }\n\n  /**\n   * Update the current physics state for a job for the current physics update frame.\n   *\n   * This includes applying all forces that have been registered with the physics job.\n   *\n   * @param {PhysicsJob} job\n   * @private\n   */\n  _integratePhysicsStateForJob(job) {\n    job.previousState.copy(job.currentState);\n    this.integrator.integrate(job, this._elapsedTime, this._physicsParams.timeStepDuration);\n  }\n\n  _suppressLowMomentaForAllJobs() {\n    this._collidableJobs.forEach(job => _suppressLowMomentaForJob(job,\n        this._physicsParams.lowMomentumSuppressionThreshold,\n        this._physicsParams.lowAngularMomentumSuppressionThreshold));\n    this._nonCollidableJobs.forEach(job => _suppressLowMomentaForJob(job,\n        this._physicsParams.lowMomentumSuppressionThreshold,\n        this._physicsParams.lowAngularMomentumSuppressionThreshold));\n  }\n\n  /**\n   * Calculate the intermediate physics state to use for rendering the current animation frame. The\n   * given ratio specifies how far the current render frame is between the previous and current\n   * physics update frames.\n   *\n   * @param {number} partialRatio\n   * @private\n   */\n  _setPartialStateForRenderTimeStepForAllJobs(partialRatio) {\n    this._collidableJobs.forEach(_setPartialStateForRenderTimeStepForJob.bind(null, partialRatio));\n    this._nonCollidableJobs.forEach(_setPartialStateForRenderTimeStepForJob.bind(null, partialRatio));\n  }\n\n  _recordOldStatesForAllJobsForDevMode() {\n    this._collidableJobs.forEach(_recordOldStatesForJob);\n    this._nonCollidableJobs.forEach(_recordOldStatesForJob);\n  }\n\n  draw() {}\n\n  /**\n   * @returns {PhysicsEngine}\n   */\n  static get instance() {\n    if (!_physicsEngine) {\n      throw new Error('Can\\'t access PhysicsEngine.instance before it has been instantiated.');\n    }\n    return _physicsEngine;\n  }\n}\n\n/**\n * @param {PhysicsJob} job\n * @param {number} lowMomentumSuppressionThreshold\n * @param {number} lowAngularMomentumSuppressionThreshold\n * @private\n */\nfunction _suppressLowMomentaForJob(job, lowMomentumSuppressionThreshold,\n                                   lowAngularMomentumSuppressionThreshold) {\n  const currentState = job.currentState;\n\n  if (vec3.squaredLength(currentState.momentum) < lowMomentumSuppressionThreshold) {\n    vec3.set(currentState.momentum, 0, 0, 0);\n  }\n\n  if (vec3.squaredLength(currentState.angularMomentum) < lowAngularMomentumSuppressionThreshold) {\n    vec3.set(currentState.angularMomentum, 0, 0, 0);\n  }\n}\n\n/**\n * @param {PhysicsJob} job\n * @param {number} index\n * @param {Array.<PhysicsJob>} jobs\n * @private\n */\nfunction _removeJobFromCollection(job, index, jobs) {\n  if (index >= 0) {\n    jobs.splice(index, 1);\n  } else {\n    const count = jobs.length;\n    for (index = 0; index < count; index++) {\n      if (jobs[index] === job) {\n        jobs.splice(index, 1);\n        break;\n      }\n    }\n  }\n}\n\n/**\n * @param {number} partialRatio\n * @param {PhysicsJob} job\n * @private\n */\nfunction _setPartialStateForRenderTimeStepForJob(partialRatio, job) {\n  job.renderState.lerp(job.previousState, job.currentState, partialRatio);\n}\n\n/**\n * @param {PhysicsJob} job\n * @private\n */\nfunction _recordOldStatesForJob(job) {\n  if (!job.extraPreviousStates) {\n    job.extraPreviousStates = [];\n    for (let i = 0; i < 4; i++) {\n      job.extraPreviousStates[i] = new PhysicsState();\n    }\n  }\n\n  for (let i = 3; i > 0; i--) {\n    job.extraPreviousStates[i].copy(job.extraPreviousStates[i - 1]);\n  }\n  job.extraPreviousStates[0].copy(job.previousState);\n}\n\nlet _physicsEngine = null;\n\nexport {PhysicsEngine};\n","import {animator} from 'lsl-animatex';\nimport {PhysicsEngine} from './physics-engine';\nimport {PhysicsState} from './physics-state';\nimport {_util} from '../util';\n\n/**\n * A PhysicsJob maintains a current force/momentum state and defines a method for applying forces at\n * a given physics time step.\n */\nclass PhysicsJob {\n  /**\n   * @param {Array.<ForceApplier>} [forceAppliers]\n   * @param {PhysicsState} [state]\n   */\n  constructor(forceAppliers, state) {\n    forceAppliers = forceAppliers || [];\n    state = state || new PhysicsState();\n\n    this.startTime = null;\n    this.currentState = state;\n    this.previousState = null;\n    this.renderState = null;\n    this._forceAppliers = forceAppliers;\n  }\n\n  /**\n   * @param {ForceApplierOutput} outputParams\n   * @param {ForceApplierInput} inputParams\n   */\n  applyForces(outputParams, inputParams) {\n    this._forceAppliers.forEach(forceApplier => forceApplier(outputParams, inputParams));\n  }\n\n  /**\n   * @param {ForceApplier} forceApplier\n   * @param {number} [index=0] The index to add the given force applier in the current list of\n   * appliers.\n   */\n  addForceApplier(forceApplier, index = 0) {\n    this._forceAppliers.splice(index, 0, forceApplier);\n  }\n\n  /**\n   * @param {ForceApplier} forceApplier\n   */\n  removeForceApplier(forceApplier) {\n    this._forceAppliers.splice(this._forceAppliers.indexOf(forceApplier), 1);\n  }\n\n  /**\n   * Registers this PhysicsJob and all of its descendant child jobs with the physics engine.\n   *\n   * @param {number} [startTime]\n   */\n  start(startTime) {\n    this.startTime = startTime || animator.currentTime;\n\n    const previousState = new PhysicsState();\n    previousState.copy(this.currentState);\n    const renderState = new PhysicsState();\n    renderState.copy(this.currentState);\n\n    this.previousState = previousState;\n    this.renderState = renderState;\n\n    if (_util.isInDevMode) {\n      // It is useful for debugging to be able to trace the states back to their jobs.\n      this.currentState.job = this;\n      this.previousState.job = this;\n      this.renderState.job = this;\n    }\n\n    PhysicsEngine.instance.addJob(this);\n  }\n\n  /**\n   * Unregisters this PhysicsJob and all of its descendant child jobs with the physics engine.\n   *\n   * Throws no error if the job is not registered.\n   */\n  finish() {\n    PhysicsEngine.instance.removeJob(this);\n  }\n\n  /**\n   * @param {number} [startTime]\n   */\n  restart(startTime) {\n    this.finish();\n    this.start(startTime);\n  }\n}\n\nexport {PhysicsJob};\n\n/**\n * @typedef {Function} ForceApplier\n * @property {vec3} force Output.\n * @property {vec3} torque Output.\n * @property {PhysicsState} state Input.\n * @property {number} t Input.\n * @property {number} dt Input.\n */\n\n/**\n * @typedef {Object} PhysicsConfig\n * @property {number} timeStepDuration\n * @property {number} gravity\n * @property {vec3} _gravityVec\n * @property {number} linearDragCoefficient\n * @property {number} angularDragCoefficient\n * @property {number} coefficientOfRestitution\n * @property {number} coefficientOfFriction\n * @property {number} lowMomentumSuppressionThreshold\n * @property {number} lowAngularMomentumSuppressionThreshold\n */\n","import {rotateTensor, createBoxInertiaTensor} from '../util';\n\n/**\n * This class represents the state of an object that is needed for a physics simulation (such as\n * position, momentum, and mass).\n */\nclass PhysicsState {\n  /**\n   * @param {DynamicsConfig} [dynamicsParams={}]\n   */\n  constructor(dynamicsParams = {}) {\n    const position = dynamicsParams.position || vec3.create();\n    const momentum = dynamicsParams.momentum || vec3.create();\n    const orientation = dynamicsParams.orientation || quat.create();\n    const angularMomentum = dynamicsParams.angularMomentum || vec3.create();\n    const mass = dynamicsParams.mass || 1;\n    const unrotatedInertiaTensor = dynamicsParams.unrotatedInertiaTensor || createBoxInertiaTensor(1, 1, 1, mass);\n\n    // Constant fields.\n\n    this.mass = mass;\n    this.inverseMass = 1 / mass;\n    this.unrotatedInertiaTensor = unrotatedInertiaTensor;\n\n    // Independent fields.\n\n    this.position = position;\n    this.momentum = momentum;\n    this.orientation = orientation;\n    this.angularMomentum = angularMomentum;\n\n    // Dependent fields.\n\n    // Linear velocity.\n    this.velocity = vec3.create();\n    // Quaternion-based representation of the rate of change in orientation.\n    this.spin = quat.create();\n    // Vector-based representation of the angular velocity.\n    this.angularVelocity = vec3.create();\n    // The inverse inertia tensor rotated to the world coordinate frame.\n    this.inverseInertiaTensor = mat3.create();\n\n    this.updateDependentFields();\n  }\n\n  updateDependentFields() {// TODO: Test this somehow...\n    // Update linear velocity.\n    vec3.scale(this.velocity, this.momentum, this.inverseMass);\n\n    // Update angular velocity.\n    quat.normalize(this.orientation, this.orientation);\n    rotateTensor(this.inverseInertiaTensor, this.unrotatedInertiaTensor, this.orientation);\n    mat3.invert(this.inverseInertiaTensor, this.unrotatedInertiaTensor);\n    vec3.transformMat3(this.angularVelocity, this.angularMomentum, this.inverseInertiaTensor);\n    quat.set(this.spin, this.angularVelocity[0], this.angularVelocity[1],\n        this.angularVelocity[2], 0);\n    quat.scale(this.spin, this.spin, 0.5);\n    quat.multiply(this.spin, this.spin, this.orientation);\n  }\n\n  /**\n   * Perform a deep copy.\n   *\n   * @param {PhysicsState} other\n   */\n  copy(other) {\n    this.mass = other.mass;\n    this.inverseMass = other.inverseMass;\n    mat3.copy(this.unrotatedInertiaTensor, other.unrotatedInertiaTensor);\n    mat3.copy(this.inverseInertiaTensor, other.inverseInertiaTensor);\n    vec3.copy(this.position, other.position);\n    vec3.copy(this.momentum, other.momentum);\n    quat.copy(this.orientation, other.orientation);\n    vec3.copy(this.angularMomentum, other.angularMomentum);\n    vec3.copy(this.velocity, other.velocity);\n    quat.copy(this.spin, other.spin);\n    vec3.copy(this.angularVelocity, other.angularVelocity);\n  }\n\n  /**\n   * @param {PhysicsState} a\n   * @param {PhysicsState} b\n   * @param {number} partialRatio\n   */\n  lerp(a, b, partialRatio) {\n    vec3.lerp(this.position, a.position, b.position, partialRatio);\n    vec3.lerp(this.momentum, a.momentum, b.momentum, partialRatio);\n    quat.slerp(this.orientation, a.orientation, b.orientation, partialRatio);\n    quat.normalize(this.orientation, this.orientation);\n    vec3.lerp(this.angularMomentum, a.angularMomentum, b.angularMomentum, partialRatio);\n    this.updateDependentFields();\n  }\n}\n\nexport {PhysicsState};\n\n/**\n * @typedef {Object} DynamicsConfig\n * @property {vec3} [position]\n * @property {vec3} [momentum]\n * @property {quat} [orientation]\n * @property {vec3} [angularMomentum]\n * @property {number} [mass]\n * @property {mat3} [unrotatedInertiaTensor]\n */\n","export * from './src/force-utils';\nexport * from './src/geometry';\nexport * from './src/inertia-tensor-utils';\nexport * from './src/util';\n","/**\n * This module defines a collection of static general utility functions for calculating forces.\n */\n\n/**\n * @param {GravityApplierConfig} config\n * @param {ForceApplierOutput} output\n * @param {ForceApplierInput} input\n */\nfunction applyGravity(config, output, input) {\n  vec3.scaleAndAdd(output.force, output.force, config._gravityVec, input.state.mass);\n}\n\n/**\n * @param {LinearDragApplierConfig} config\n * @param {ForceApplierOutput} output\n * @param {ForceApplierInput} input\n */\nfunction applyLinearDrag(config, output, input) {\n  const dragMagnitude = -vec3.squaredLength(input.state.velocity) * config.linearDragCoefficient;\n  vec3.normalize(_vec3, input.state.velocity);\n  vec3.scaleAndAdd(output.force, output.force, _vec3, dragMagnitude);\n}\n\n/**\n * @param {AngularDragApplierConfig} config\n * @param {ForceApplierOutput} output\n * @param {ForceApplierInput} input\n */\nfunction applyAngularDrag(config, output, input) {\n  vec3.scaleAndAdd(output.torque, output.torque, input.state.angularVelocity,\n      config.angularDragCoefficient);\n}\n\n/**\n * Applies a simple linear spring force (using Hooke's law).\n *\n * force = displacement * coefficient\n *\n * @param {LinearSpringForceApplierConfig} config\n * @param {ForceApplierOutput} output\n * @param {ForceApplierInput} input\n */\nfunction applyLinearSpringForce(config, output, input) {\n  vec3.subtract(_vec3, config.getIntendedPosition(), input.state.position);\n  vec3.scaleAndAdd(output.force, output.force, _vec3, config.springCoefficient);\n}\n\n/**\n * @param {SpringDampingApplierConfig} config\n * @param {ForceApplierOutput} output\n * @param {ForceApplierInput} input\n */\nfunction applySpringDamping(config, output, input) {\n  vec3.scale(_vec3, input.state.velocity, -config.dampingCoefficient);\n  vec3.add(output.force, output.force, _vec3);\n}\n\nconst _vec3 = vec3.create();\n\nexport {\n  applyAngularDrag,\n  applyGravity,\n  applyLinearDrag,\n  applyLinearSpringForce,\n  applySpringDamping,\n}\n\n/**\n * @typedef {Object} GravityApplierConfig\n * @property {vec3} _gravityVec\n */\n\n/**\n * @typedef {Object} LinearDragApplierConfig\n * @property {number} linearDragCoefficient\n */\n\n/**\n * @typedef {Object} AngularDragApplierConfig\n * @property {number} angularDragCoefficient\n */\n\n/**\n * @typedef {Object} LinearSpringForceApplierConfig\n * @property {number} springCoefficient\n * @property {Function.<vec3>} getIntendedPosition\n */\n\n/**\n * @typedef {Object} SpringDampingApplierConfig\n * @property {number} dampingCoefficient\n */\n","/**\n * This module defines a collection of static geometry utility functions.\n */\n\nconst EPSILON = 0.0000001;\nconst HALF_PI = Math.PI / 2;\nconst TWO_PI = Math.PI * 2;\n\n/**\n * Finds the minimum squared distance between two line segments.\n *\n * @param {LineSegment} segmentA\n * @param {LineSegment} segmentB\n * @returns {number}\n */\nfunction findSquaredDistanceBetweenSegments(segmentA, segmentB) {\n  findClosestPointsFromSegmentToSegment(_segmentDistance_tmpVecA, _segmentDistance_tmpVecB,\n      segmentA, segmentB);\n  return vec3.squaredDistance(_segmentDistance_tmpVecA, _segmentDistance_tmpVecB);\n}\n\n/**\n * Finds the minimum squared distance between a line segment and a point.\n *\n * @param {LineSegment} segment\n * @param {vec3} point\n * @returns {number}\n */\nfunction findSquaredDistanceFromSegmentToPoint(segment, point) {\n  findClosestPointOnSegmentToPoint(_segmentDistance_tmpVecA, segment, point);\n  return vec3.squaredDistance(_segmentDistance_tmpVecA, point);\n}\n\nconst _segmentDistance_tmpVecA = vec3.create();\nconst _segmentDistance_tmpVecB = vec3.create();\n\n/**\n * @param {vec3} outputPoint Output parameter.\n * @param {Aabb} aabb\n * @param {vec3} targetPoint\n */\nfunction findClosestPointFromAabbToPoint(outputPoint, aabb, targetPoint) {\n  outputPoint[0] = aabb.minX > targetPoint[0]\n      ? aabb.minX\n      : aabb.maxX < targetPoint[0]\n          ? aabb.maxX\n          : targetPoint[0];\n  outputPoint[1] = aabb.minY > targetPoint[1]\n      ? aabb.minY\n      : aabb.maxY < targetPoint[1]\n          ? aabb.maxY\n          : targetPoint[1];\n  outputPoint[2] = aabb.minZ > targetPoint[2]\n      ? aabb.minZ\n      : aabb.maxZ < targetPoint[2]\n          ? aabb.maxZ\n          : targetPoint[2];\n}\n\n/**\n * @param {vec3} outputPoint Output parameter.\n * @param {Aabb} aabb\n * @param {vec3} targetPoint\n */\nfunction findClosestPointFromAabbSurfaceToPoint(outputPoint, aabb, targetPoint) {\n  findClosestPointFromAabbToPoint(outputPoint, aabb, targetPoint);\n\n  // If the calculated point lies within the AABB, then we need to adjust one coordinate to lie\n  // along the edge of the AABB.\n  if (aabbVsPoint(aabb, outputPoint)) {\n    // Calculate the closest vertex.\n    _tmpVec1[0] = targetPoint[0] - aabb.minX < aabb.maxX - targetPoint[0]\n        ? aabb.minX\n        : aabb.maxX;\n    _tmpVec1[1] = targetPoint[1] - aabb.minY < aabb.maxY - targetPoint[1]\n        ? aabb.minY\n        : aabb.maxY;\n    _tmpVec1[2] = targetPoint[2] - aabb.minZ < aabb.maxZ - targetPoint[2]\n        ? aabb.minZ\n        : aabb.maxZ;\n\n    // Calculate the distance to the vertex along each dimension.\n    _tmpVec2[0] = _tmpVec1[0] - outputPoint[0];\n    _tmpVec2[0] = _tmpVec2[0] < 0 ? -_tmpVec2[0] : _tmpVec2[0];\n    _tmpVec2[1] = _tmpVec1[1] - outputPoint[1];\n    _tmpVec2[1] = _tmpVec2[1] < 1 ? -_tmpVec2[1] : _tmpVec2[1];\n    _tmpVec2[2] = _tmpVec1[2] - outputPoint[2];\n    _tmpVec2[2] = _tmpVec2[2] < 2 ? -_tmpVec2[2] : _tmpVec2[2];\n\n    // Determine along which dimension the point is closest to the AABB.\n    const index = _tmpVec2[0] < _tmpVec2[1]\n        ? (_tmpVec2[0] < _tmpVec2[2]\n            ? 0\n            : 2)\n        : (_tmpVec2[1] < _tmpVec2[2]\n            ? 1\n            : 2);\n\n    outputPoint[index] = _tmpVec1[index];\n  }\n}\n\n/**\n * Finds the point of intersection between a line segment and a coplanar quadrilateral.\n *\n * This assumes the region is not degenerate (has non-zero side lengths).\n *\n * @param {vec3} poi Output param. Null if there is no intersection.\n * @param {LineSegment} segment\n * @param {vec3} planeVertex1\n * @param {vec3} planeVertex2\n * @param {vec3} planeVertex3\n * @param {vec3} planeVertex4\n * @returns {boolean} True if there is an intersection.\n */\nfunction findPoiBetweenSegmentAndPlaneRegion(poi, segment, planeVertex1, planeVertex2, planeVertex3,\n                                             planeVertex4) {\n  return findPoiBetweenSegmentAndTriangle(poi, segment, planeVertex1, planeVertex2, planeVertex3) ||\n      findPoiBetweenSegmentAndTriangle(poi, segment, planeVertex1, planeVertex3, planeVertex4);\n}\n\n/**\n * Finds the point of intersection between a line segment and a triangle.\n *\n * This assumes the triangle is not degenerate (has non-zero side lengths).\n *\n * ----------------------------------------------------------------------------\n * Originally based on Dan Sunday's algorithms at http://geomalgorithms.com/a06-_intersect-2.html.\n *\n * Copyright 2001 softSurfer, 2012 Dan Sunday\n * This code may be freely used and modified for any purpose\n * providing that this copyright notice is included with it.\n * SoftSurfer makes no warranty for this code, and cannot be held\n * liable for any real or imagined damage resulting from its use.\n * Users of this code must verify correctness for their application.\n * ----------------------------------------------------------------------------\n *\n * @param {vec3} poi Output param. Null if there is no intersection.\n * @param {LineSegment} segment\n * @param {vec3} triangleVertex1\n * @param {vec3} triangleVertex2\n * @param {vec3} triangleVertex3\n * @returns {boolean} True if there is an intersection.\n */\nfunction findPoiBetweenSegmentAndTriangle(poi, segment, triangleVertex1, triangleVertex2,\n                                          triangleVertex3) {\n  //\n  // Find the point of intersection between the segment and the triangle's plane.\n  //\n\n  // First triangle edge.\n  vec3.subtract(_tmpVec1, triangleVertex2, triangleVertex1);\n  // Second triangle edge.\n  vec3.subtract(_tmpVec2, triangleVertex3, triangleVertex1);\n  // Triangle normal.\n  vec3.cross(_tmpVec3, _tmpVec1, _tmpVec2);\n  // Triangle to segment.\n  vec3.subtract(_tmpVec4, segment.start, triangleVertex1);\n\n  const normalToSegmentProj = vec3.dot(_tmpVec3, segment.dir);\n\n  if (normalToSegmentProj < EPSILON && normalToSegmentProj > -EPSILON) {\n    // The line segment is parallel to the triangle.\n    return false;\n  }\n\n  const normalToDiffProj = -vec3.dot(_tmpVec3, _tmpVec4);\n  const segmentNormalizedDistance = normalToDiffProj / normalToSegmentProj;\n\n  if (segmentNormalizedDistance < 0 || segmentNormalizedDistance > 1) {\n    // The line segment ends before intersecting the plane.\n    return false;\n  }\n\n  vec3.scaleAndAdd(poi, segment.start, segment.dir, segmentNormalizedDistance);\n\n  //\n  // Determine whether the point of intersection lies within the triangle.\n  //\n\n  const edge1DotEdge1 = vec3.dot(_tmpVec1, _tmpVec1);\n  const edge1DotEdge2 = vec3.dot(_tmpVec1, _tmpVec2);\n  const edge2DotEdge2 = vec3.dot(_tmpVec2, _tmpVec2);\n  // Triangle to point of intersection.\n  vec3.subtract(_tmpVec3, poi, triangleVertex1);\n  const diffDotEdge1 = vec3.dot(_tmpVec3, _tmpVec1);\n  const diffDotEdge2 = vec3.dot(_tmpVec3, _tmpVec2);\n  const denominator = edge1DotEdge2 * edge1DotEdge2 - edge1DotEdge1 * edge2DotEdge2;\n\n  // Check the triangle's parametric coordinates.\n  const s = (edge1DotEdge2 * diffDotEdge2 - edge2DotEdge2 * diffDotEdge1) / denominator;\n  if (s < 0 || s > 1) {\n    return false;\n  }\n  const t = (edge1DotEdge2 * diffDotEdge1 - edge1DotEdge1 * diffDotEdge2) / denominator;\n  if (t < 0 || s + t > 1) {\n    return false;\n  }\n\n  return true;\n}\n\n/**\n * ----------------------------------------------------------------------------\n * Originally based on Jukka Jylnki's algorithm at\n * https://github.com/juj/MathGeoLib/blob/1093e39d91def7ff6905fb7489893190d7d81353/src/Geometry/OBB.cpp.\n *\n * Copyright 2011 Jukka Jylnki\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * ----------------------------------------------------------------------------\n *\n * @param {vec3} outputPoint Output parameter.\n * @param {Obb} obb\n * @param {vec3} targetPoint\n */\nfunction findClosestPointFromObbToPoint(outputPoint, obb, targetPoint) {\n  vec3.subtract(_tmpVec1, targetPoint, obb.centerOfVolume);\n  vec3.copy(outputPoint, obb.centerOfVolume);\n  for (let i = 0; i < 3; i++) {\n    // Compute the displacement along this axis.\n    let projection = vec3.dot(obb.axes[i], _tmpVec1);\n    projection = projection > obb.halfSideLengths[i] ? obb.halfSideLengths[i] :\n        (projection < -obb.halfSideLengths[i] ? -obb.halfSideLengths[i] : projection);\n    vec3.scaleAndAdd(outputPoint, outputPoint, obb.axes[i], projection);\n  }\n}\n\n/**\n * Finds the closest position on one line segment to the other line segment, and vice versa.\n *\n * ----------------------------------------------------------------------------\n * Originally based on Jukka Jylnki's algorithm at\n * https://github.com/juj/MathGeoLib/blob/ff2d348a167008c831ae304483b824647f71fbf6/src/Geometry/LineSegment.cpp.\n *\n * Copyright 2011 Jukka Jylnki\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * ----------------------------------------------------------------------------\n *\n * @param {vec3} closestA Output param.\n * @param {vec3} closestB Output param.\n * @param {LineSegment} segmentA\n * @param {LineSegment} segmentB\n */\nfunction findClosestPointsFromSegmentToSegment(closestA, closestB, segmentA, segmentB) {\n  const {distA, distB} = findClosestPointsFromLineToLine(\n      segmentA.start, segmentA.dir, segmentB.start, segmentB.dir);\n\n  const isDistAInBounds = distA >= 0 && distA <= 1;\n  const isDistBInBounds = distB >= 0 && distB <= 1;\n\n  if (isDistAInBounds) {\n    if (isDistBInBounds) {\n      // The distances along both line segments are within bounds.\n      vec3.scaleAndAdd(closestA, segmentA.start, segmentA.dir, distA);\n      vec3.scaleAndAdd(closestB, segmentB.start, segmentB.dir, distB);\n    } else {\n      // Only the distance along the first line segment is within bounds.\n      if (distB < 0) {\n        vec3.copy(closestB, segmentB.start);\n      } else {\n        vec3.copy(closestB, segmentB.end);\n      }\n      findClosestPointOnSegmentToPoint(closestA, segmentA, closestB);\n    }\n  } else {\n    if (isDistBInBounds) {\n      // Only the distance along the second line segment is within bounds.\n      if (distA < 0) {\n        vec3.copy(closestA, segmentA.start);\n      } else {\n        vec3.copy(closestA, segmentA.end);\n      }\n      findClosestPointOnSegmentToPoint(closestB, segmentB, closestA);\n    } else {\n      // Neither of the distances along either line segment are within bounds.\n      if (distA < 0) {\n        vec3.copy(closestA, segmentA.start);\n      } else {\n        vec3.copy(closestA, segmentA.end);\n      }\n\n      if (distB < 0) {\n        vec3.copy(closestB, segmentB.start);\n      } else {\n        vec3.copy(closestB, segmentB.end);\n      }\n\n      const altClosestA = vec3.create();\n      const altClosestB = vec3.create();\n\n      findClosestPointOnSegmentToPoint(altClosestA, segmentA, closestB);\n      findClosestPointOnSegmentToPoint(altClosestB, segmentB, closestA);\n\n      if (vec3.squaredDistance(altClosestA, closestB) <\n          vec3.squaredDistance(altClosestB, closestA)) {\n        vec3.copy(closestA, altClosestA);\n      } else {\n        vec3.copy(closestB, altClosestB);\n      }\n    }\n  }\n}\n\n/**\n * Finds the closest position on a line segment to a point.\n *\n * ----------------------------------------------------------------------------\n * Originally based on Jukka Jylnki's algorithm at\n * https://github.com/juj/MathGeoLib/blob/ff2d348a167008c831ae304483b824647f71fbf6/src/Geometry/LineSegment.cpp.\n *\n * Copyright 2011 Jukka Jylnki\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * ----------------------------------------------------------------------------\n *\n * @param {vec3} closestPoint Output param.\n * @param {LineSegment} segment\n * @param {vec3} point\n * @private\n */\nfunction findClosestPointOnSegmentToPoint(closestPoint, segment, point) {\n  const dirSquaredLength = vec3.squaredLength(segment.dir);\n\n  if (!dirSquaredLength) {\n    // The point is at the segment start.\n    vec3.copy(closestPoint, segment.start);\n  } else {\n    // Calculate the projection of the point onto the line extending through the segment.\n    vec3.subtract(_tmpVec1, point, segment.start);\n    const t = vec3.dot(_tmpVec1, segment.dir) / dirSquaredLength;\n\n    if (t < 0) {\n      // The point projects beyond the segment start.\n      vec3.copy(closestPoint, segment.start);\n    } else if (t > 1) {\n      // The point projects beyond the segment end.\n      vec3.copy(closestPoint, segment.end);\n    } else {\n      // The point projects between the start and end of the segment.\n      vec3.scaleAndAdd(closestPoint, segment.start, segment.dir, t);\n    }\n  }\n}\n\n/**\n * Finds the closest position on one line to the other line, and vice versa.\n *\n * The positions are represented as scalar-value distances from the \"start\" positions of each line.\n * These are scaled according to the given direction vectors.\n *\n * ----------------------------------------------------------------------------\n * Originally based on Jukka Jylnki's algorithm at\n * https://github.com/juj/MathGeoLib/blob/ff2d348a167008c831ae304483b824647f71fbf6/src/Geometry/Line.cpp.\n *\n * Copyright 2011 Jukka Jylnki\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * ----------------------------------------------------------------------------\n *\n * @param {vec3} startA The start position of line A.\n * @param {vec3} dirA The (unnormalized) direction of line A. Cannot be zero.\n * @param {vec3} startB The start position of line B.\n * @param {vec3} dirB The (unnormalized) direction of line B. Cannot be zero.\n * @returns {{distA: Number, distB: Number}}\n */\nfunction findClosestPointsFromLineToLine(startA, dirA, startB, dirB) {\n  vec3.subtract(_tmpVec1, startA, startB);\n  const dirBDotDirAToB = vec3.dot(dirB, _tmpVec1);\n  const dirADotDirAToB = vec3.dot(dirA, _tmpVec1);\n\n  const sqrLenDirB = vec3.squaredLength(dirB);\n  const sqrLenDirA = vec3.squaredLength(dirA);\n\n  const dirADotDirB = vec3.dot(dirA, dirB);\n\n  const denominator = sqrLenDirA * sqrLenDirB - dirADotDirB * dirADotDirB;\n\n  const distA = denominator < EPSILON\n      ? 0\n      : (dirADotDirB * dirBDotDirAToB - sqrLenDirB * dirADotDirAToB) / denominator;\n  const distB = (dirBDotDirAToB + dirADotDirB * distA) / sqrLenDirB;\n\n  return {\n    distA: distA,\n    distB: distB\n  };\n}\n\n/**\n * A good description of why we need these special operations for rotating tensors can be found\n * here: http://www.randygaul.net/2014/04/09/transformations-change-of-basis-matrix/.\n *\n * @param {mat3} output Output param.\n * @param {mat3} tensor\n * @param {quat} rotation\n */\nfunction rotateTensor(output, tensor, rotation) {// TODO: Test this somehow...\n  mat3.fromQuat(_tmpMat, rotation);\n  mat3.multiply(output, _tmpMat, tensor);\n  mat3.invert(_tmpMat, _tmpMat);\n  mat3.multiply(output, output, _tmpMat);\n}\n\n/**\n * @param {Aabb} aabb\n * @param {vec3} point\n * @returns {boolean}\n */\nfunction aabbVsPoint(aabb, point) {\n  return point[0] >= aabb.minX && point[0] <= aabb.maxX &&\n      point[1] >= aabb.minY && point[1] <= aabb.maxY &&\n      point[2] >= aabb.minZ && point[2] <= aabb.maxZ\n}\n\n/**\n * @param {quat} out\n * @param {quat} a\n * @param {quat} b\n * @param {number} scale\n * @returns {quat}\n */\nfunction scaleAndAddQuat(out, a, b, scale) {\n  return quat.set(out,\n      a[0] + b[0] * scale,\n      a[1] + b[1] * scale,\n      a[2] + b[2] * scale,\n      a[3] + b[3] * scale);\n}\n\n/**\n * @param {vec3} a\n * @param {vec3} b\n * @returns {boolean}\n */\nfunction areVec3sClose(a, b) {\n  for (let i = 0; i < 3; i++) {\n    if (a[i] - b[i] > EPSILON || b[i] - a[i] > EPSILON) {\n      return false;\n    }\n  }\n  return true;\n}\n\n// Re-used across the geometry utility functions, so we don't instantiate as many vec3 objects.\nconst _tmpVec1 = vec3.create();\nconst _tmpVec2 = vec3.create();\nconst _tmpVec3 = vec3.create();\nconst _tmpVec4 = vec3.create();\nconst _tmpMat = mat3.create();\n\n// Exposed to consumers, so they don't have to instantiate as many vec3 objects.\nconst tmpVec1 = vec3.create();\nconst tmpVec2 = vec3.create();\nconst tmpVec3 = vec3.create();\nconst tmpVec4 = vec3.create();\n\nconst _geometry = {\n  EPSILON,\n  HALF_PI,\n  TWO_PI,\n  scaleAndAddQuat,\n};\n\nexport {\n  _geometry,\n  tmpVec1,\n  tmpVec2,\n  tmpVec3,\n  tmpVec4,\n  findSquaredDistanceBetweenSegments,\n  findSquaredDistanceFromSegmentToPoint,\n  findClosestPointFromAabbToPoint,\n  findClosestPointFromAabbSurfaceToPoint,\n  findPoiBetweenSegmentAndTriangle,\n  findPoiBetweenSegmentAndPlaneRegion,\n  findClosestPointFromObbToPoint,\n  findClosestPointsFromSegmentToSegment,\n  findClosestPointOnSegmentToPoint,\n  findClosestPointsFromLineToLine,\n  rotateTensor,\n  aabbVsPoint,\n  areVec3sClose,\n};\n","/**\n * This module defines a collection of static utility functions for calculating inertia tensors.\n */\n\nimport {_geometry, rotateTensor} from './geometry';\n\n/**\n * @param {number} radius\n * @param {number} mass\n * @returns {mat3}\n */\nfunction createSphereInertiaTensor(radius, mass) {// TODO: Test this somehow...\n  const tensor = mat3.create();\n  const moment = 2 / 5 * mass * radius * radius;\n  tensor[0] = moment;\n  tensor[4] = moment;\n  tensor[8] = moment;\n  return tensor;\n}\n\n/**\n * @param {number} rangeX\n * @param {number} rangeY\n * @param {number} rangeZ\n * @param {number} mass\n * @returns {mat3}\n */\nfunction createBoxInertiaTensor(rangeX, rangeY, rangeZ, mass) {// TODO: Test this somehow...\n  const tensor = mat3.create();\n  const tmp = mass / 12;\n  const xRangeSquared = rangeX * rangeX;\n  const yRangeSquared = rangeY * rangeY;\n  const zRangeSquared = rangeZ * rangeZ;\n  tensor[0] = tmp * (yRangeSquared + zRangeSquared);\n  tensor[4] = tmp * (xRangeSquared + yRangeSquared);\n  tensor[8] = tmp * (xRangeSquared + zRangeSquared);\n  return tensor;\n}\n\n/**\n * ----------------------------------------------------------------------------\n * Originally based on Bojan Lovrovic's algorithm at\n * http://www.gamedev.net/page/resources/_/technical/math-and-physics/capsule-inertia-tensor-r3856.\n *\n * Copyright 2014 Bojan Lovrovic\n *\n * GameDev.net Open License\n * (http://www.gamedev.net/page/resources/_/gdnethelp/gamedevnet-open-license-r2956)\n *\n * TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION\n *\n * 1. Definitions.\n *\n * \"Article\" shall refer to any body of text written by Author which describes and documents the use\n * and/or operation of Source. It specifically does not refer to any accompanying Source either\n * embedded within the body of text or attached to the article as a file.\n *\n * \"Author\" means the individual or entity that offers the Work under the terms of this License.\n *\n * \"License\" shall mean the terms and conditions for use, reproduction, and distribution as defined\n * by Sections 1 through 9 of this document.\n *\n * \"Licensor\" shall mean the copyright owner or entity authorized by the copyright owner that is\n * granting the License.\n *\n * \"You\" (or \"Your\") shall mean an individual or entity exercising permissions granted by this\n * License.\n *\n * \"Source\" shall include all software text source code and configuration files used to create\n * executable software\n *\n * \"Object\" shall mean any Source which has been converted into a machine executable software\n *\n * \"Work\" consists of both the Article and Source\n *\n * \"Publisher\" refers to GameDev.net LLC\n *\n * This agreement is between You and Author, the owner and creator of the Work located at\n * Gamedev.net.\n *\n * 2. Fair Dealing Rights.\n *\n * Nothing in this License is intended to reduce, limit, or restrict any uses free from copyright or\n * rights arising from limitations or exceptions that are provided for in connection with the\n * copyright protection under copyright law or other applicable laws.\n *\n * 3. Grant of Copyright License.\n *\n * Subject to the terms and conditions of this License, the Author hereby grants to You a perpetual,\n * worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to the Work\n * under the following stated terms:\n * You may not reproduce the Article on any other website outside of Gamedev.net without express\n * written permission from the Author\n * You may use, copy, link, modify and distribute under Your own terms, binary Object code versions\n * based on the Work in your own software\n * You may reproduce, prepare derivative Works of, publicly display, publicly perform, sublicense,\n * and distribute the Source and such derivative Source in Source form only as part of a larger\n * software distribution and provided that attribution to the original Author is granted.\n * The origin of this Work must not be misrepresented; you must not claim that you wrote the\n * original Source. If you use this Source in a product, an acknowledgment of the Author name would\n * be appreciated but is not required.\n *\n * 4. Restrictions.\n *\n * The license granted in Section 3 above is expressly made subject to and limited by the following\n * restrictions:\n * Altered Source versions must be plainly marked as such, and must not be misrepresented as being\n * the original software.\n * This License must be visibly linked to from any online distribution of the Article by URI and\n * using the descriptive text \"Licensed under the GameDev.net Open License\"\n * Neither the name of the Author of this Work, nor any of their trademarks or service marks, may be\n * used to endorse or promote products derived from this Work without express prior permission of\n * the Author\n * Except as expressly stated herein, nothing in this License grants any license to Author's\n * trademarks, copyrights, patents, trade secrets or any other intellectual property. No license is\n * granted to the trademarks of Author even if such marks are included in the Work. Nothing in this\n * License shall be interpreted to prohibit Author from licensing under terms different from this\n * License any Work that Author otherwise would have a right to license.\n *\n * 5. Grant of Patent License.\n *\n * Subject to the terms and conditions of this License, each Contributor hereby grants to You a\n * perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable (except as stated in\n * this section) patent license to make, have made, use, offer to sell, sell, import, and otherwise\n * transfer the Work, where such license applies only to those patent claims licensable by such\n * Contributor that are necessarily infringed by their Contribution(s) alone or by combination of\n * their Contribution(s) with the Work to which such Contribution(s) was submitted. If You institute\n * patent litigation against any entity (including a cross-claim or counterclaim in a lawsuit)\n * alleging that the Work or Source incorporated within the Work constitutes direct or contributory\n * patent infringement, then any patent licenses granted to You under this License for that Work\n * shall terminate as of the date such litigation is filed.\n *\n * 6. Limitation of Liability.\n *\n * In no event and under no legal theory, whether in tort (including negligence), contract, or\n * otherwise, unless required by applicable law (such as deliberate and grossly negligent acts) or\n * agreed to in writing, shall any Author or Publisher be liable to You for damages, including any\n * direct, indirect, special, incidental, or consequential damages of any character arising as a\n * result of this License or out of the use or inability to use the Work (including but not limited\n * to damages for loss of goodwill, work stoppage, computer failure or malfunction, or any and all\n * other commercial damages or losses), even if such Author has been advised of the possibility of\n * such damages.\n *\n * 7. DISCLAIMER OF WARRANTY\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT\n * NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n * DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n *\n * 8. Publisher.\n *\n * The parties hereby confirm that the Publisher shall not, under any circumstances, be responsible\n * for and shall not have any liability in respect of the subject matter of this License. The\n * Publisher makes no warranty whatsoever in connection with the Work and shall not be liable to You\n * or any party on any legal theory for any damages whatsoever, including without limitation any\n * general, special, incidental or consequential damages arising in connection to this license. The\n * Publisher reserves the right to cease making the Work available to You at any time without notice\n *\n * 9. Termination\n *\n * This License and the rights granted hereunder will terminate automatically upon any breach by You\n * of the terms of this License. Individuals or entities who have received Deriviative Works from\n * You under this License, however, will not have their licenses terminated provided such\n * individuals or entities remain in full compliance with those licenses. Sections 1, 2, 6, 7, 8 and\n * 9 will survive any termination of this License.\n * Subject to the above terms and conditions, the license granted here is perpetual (for the\n * duration of the applicable copyright in the Work). Notwithstanding the above, Licensor reserves\n * the right to release the Work under different license terms or to stop distributing the Work at\n * any time; provided, however that any such election will not serve to withdraw this License (or\n * any other license that has been, or is required to be, granted under the terms of this License),\n * and this License will continue in full force and effect unless terminated as stated above.\n * ----------------------------------------------------------------------------\n *\n * @param {number} halfDistance\n * @param {number} radius\n * @param {number} mass\n * @returns {mat3}\n */\nfunction createCapsuleInertiaTensor(halfDistance, radius, mass) {// TODO: Test this somehow...\n  const tensor = mat3.create();\n\n  const cylinderHeight = halfDistance * 2;\n  const radiusSquared = radius * radius;\n  const cylinderVolume = Math.PI * radiusSquared * cylinderHeight;\n  const hemisphereCombinedVolume = 4 / 3 * Math.PI * radiusSquared;\n  const cylinderMass = cylinderVolume / (cylinderVolume * hemisphereCombinedVolume) * mass;\n  const hemisphereMass = (mass - cylinderMass) / 2;\n\n  // Contribution from the cylinder.\n  tensor[4] = radiusSquared * cylinderMass / 2;\n  tensor[0] = tensor[4] / 2 + cylinderMass * cylinderHeight * cylinderHeight / 12;\n  tensor[8] = tensor[0];\n\n  // Contributions from the hemispheres.\n  const tmp1 = hemisphereMass * 2 * radiusSquared / 5;\n  tensor[4] += tmp1 * 2;\n  const tmp2 =\n      (tmp1 + hemisphereMass * (halfDistance * halfDistance + 3 / 8 * cylinderHeight * radius)) * 2;\n  tensor[0] += tmp2;\n  tensor[8] += tmp2;\n\n  // The above calculations assume the capsule is aligned along the y-axis. However, our default\n  // capsule orientation is aligned along the z-axis.\n  const rotation = quat.create();\n  quat.rotateX(rotation, rotation, _geometry.HALF_PI);\n  rotateTensor(tensor, tensor, rotation);\n\n  return tensor;\n}\n\n/**\n * @param {Collidable} collidable\n * @param {number} mass\n * @returns {mat3}\n */\nfunction createForCollidable(collidable, mass) {\n  switch (collidable.constructor.name) {\n    case 'Sphere':\n      return createSphereInertiaTensor(collidable.radius, mass);\n    case 'Aabb':\n      return createBoxInertiaTensor(collidable.rangeX, collidable.rangeY, collidable.rangeZ, mass);\n    case 'Capsule':\n      return createCapsuleInertiaTensor(collidable.halfDistance, collidable.radius, mass);\n    case 'Obb':\n      return createBoxInertiaTensor(collidable.halfSideLengths[0] * 2,\n          collidable.halfSideLengths[1] * 2, collidable.halfSideLengths[2] * 2, mass);\n  }\n}\n\nexport {\n  createSphereInertiaTensor,\n  createBoxInertiaTensor,\n  createCapsuleInertiaTensor,\n  createForCollidable,\n};\n","/**\n * This module defines a collection of static general utility functions.\n */\n\n// TODO: This should be set from somewhere else (probably as a param to controller like before; but then I need to make this updatable)\nconst isInDevMode = true;\n\nconst _util = {\n  isInDevMode: isInDevMode\n};\n\nexport {\n  _util,\n};\n","export * from './src/box-config';\r\nexport * from './src/camera-config';\r\nexport * from './src/camera-folder-config';\r\nexport * from './src/capsule-config';\r\nexport * from './src/general-config';\r\nexport * from './src/physics-config';\r\nexport * from './src/physics-folder-config';\r\nexport * from './src/sphere-config';\r\nexport * from './src/wall-config';\r\n","/**\r\n * This module handles configuration parameters relating to an OBB/ABB object.\r\n */\r\n\r\nconst boxConfig = {};\r\n\r\nboxConfig.scale = {\r\n  start: vec3.fromValues(1, 1, 1),\r\n  min: vec3.fromValues(0.01, 0.01, 0.01),\r\n  max: vec3.fromValues(100, 100, 100)\r\n};\r\n\r\nconst boxFolderConfig = {\r\n  label: 'Box',\r\n  config: boxConfig,\r\n  isOpen: true\r\n};\r\n\r\nexport {boxConfig, boxFolderConfig};\r\n","/**\r\n * This module handles configuration parameters relating to the camera. This uses the dat.GUI\r\n * package.\r\n */\r\n\r\n// TODO: Tie this into the folder-config system.\r\n\r\nimport {degToRad} from 'gamex';\r\n\r\nconst cameraConfig = {};\r\n\r\ncameraConfig.fovY = {\r\n  start: degToRad(70.0),\r\n  min: 0.0,\r\n  max: 3.1415\r\n};\r\ncameraConfig.defaultAspectRatio = {\r\n  start: 16 / 9,\r\n  min: 0.01,\r\n  max: 8.0\r\n};\r\ncameraConfig._zNear = 0.1;\r\ncameraConfig._zFar = 4000;\r\ncameraConfig._defaultLookAtDirection = vec3.fromValues(0, 0, -1);\r\n\r\nconst fixedCameraConfig = {};\r\n\r\nfixedCameraConfig.position = {\r\n  start: vec3.fromValues(0, -40, 5),\r\n  min: vec3.fromValues(-200, -200, -200),\r\n  max: vec3.fromValues(200, 200, 200)\r\n};\r\nfixedCameraConfig.viewDirection = {\r\n  start: vec3.fromValues(0, 1, -.5),\r\n  min: vec3.fromValues(-1, -1, -1),\r\n  max: vec3.fromValues(1, 1, 1)\r\n};\r\nfixedCameraConfig._up = vec3.fromValues(0, 0, 1);\r\n\r\nconst followCameraConfig = {};\r\n\r\nfollowCameraConfig.springCoefficient = 0.003;\r\nfollowCameraConfig.dampingCoefficient = 0.09;\r\n\r\nfollowCameraConfig.intendedDistanceFromTarget = {\r\n  start: 6,\r\n  min: 0,\r\n  max: 100\r\n};\r\nfollowCameraConfig.intendedRotationAngleFromTarget = {\r\n  start: -Math.PI * .15,\r\n  min: 0,\r\n  max: 2 * Math.PI\r\n};\r\nfollowCameraConfig.intendedRotationAxisFromTarget = vec3.fromValues(1, 0, 0);\r\nfollowCameraConfig._intendedTranslationFromTarget = vec3.create();\r\n\r\nfunction updateIntendedTranslationFromTarget() {\r\n  const transformation = mat4.create();\r\n  mat4.rotate(\r\n      transformation,\r\n      transformation,\r\n      followCameraConfig.intendedRotationAngleFromTarget,\r\n      followCameraConfig.intendedRotationAxisFromTarget);\r\n  mat4.translate(\r\n      transformation,\r\n      transformation,\r\n      vec3.fromValues(0, 0, followCameraConfig.intendedDistanceFromTarget));\r\n  vec3.transformMat4(\r\n      followCameraConfig._intendedTranslationFromTarget,\r\n      followCameraConfig._intendedTranslationFromTarget,\r\n      transformation);\r\n}\r\n\r\nconst normalizeFixedViewDirection =\r\n    () => vec3.normalize(fixedCameraConfig.viewDirection, fixedCameraConfig.viewDirection);\r\nconst normalizeDefaultLookAtDirection =\r\n    () => vec3.normalize(cameraConfig._defaultLookAtDirection,\r\n        cameraConfig._defaultLookAtDirection);\r\n\r\nconst cameraConfigUpdaters = {\r\n  updateIntendedTranslationFromTarget: updateIntendedTranslationFromTarget,\r\n  normalizeFixedViewDirection: normalizeFixedViewDirection,\r\n  normalizeDefaultLookAtDirection: normalizeDefaultLookAtDirection,\r\n};\r\n\r\nnormalizeDefaultLookAtDirection();\r\n\r\nexport {cameraConfig, fixedCameraConfig, followCameraConfig, cameraConfigUpdaters};\r\n","import {\r\n  cameraConfig,\r\n  fixedCameraConfig,\r\n  followCameraConfig,\r\n  cameraConfigUpdaters\r\n} from './camera-config';\r\nimport {firstPersonCameraFolderConfig} from \"../../../../space-debris/src/config/src/camera-folder-config\";\r\n\r\n/**\r\n * This module configures the camera dat.GUI menu folder.\r\n */\r\n\r\nconst fixedCameraFolderConfig = {\r\n  label: 'Fixed Camera',\r\n  config: fixedCameraConfig,\r\n  isOpen: true,\r\n  onChangeListeners: {\r\n    'viewDirection': cameraConfigUpdaters.normalizeFixedViewDirection\r\n  }\r\n};\r\n\r\nconst followCameraFolderConfig = {\r\n  label: 'Follow Camera',\r\n  config: followCameraConfig,\r\n  isOpen: false,\r\n  onChangeListeners: {\r\n    'intendedDistanceFromTarget': cameraConfigUpdaters.updateIntendedTranslationFromTarget,\r\n    'intendedRotationAngleFromTarget': cameraConfigUpdaters.updateIntendedTranslationFromTarget,\r\n    'intendedRotationAxisFromTarget': cameraConfigUpdaters.updateIntendedTranslationFromTarget\r\n  }\r\n};\r\n\r\nconst cameraFolderConfig = {\r\n  label: 'Camera',\r\n  config: cameraConfig,\r\n  isOpen: true\r\n};\r\n\r\nexport {cameraFolderConfig, fixedCameraFolderConfig, followCameraFolderConfig};\r\n","/**\r\n * This module handles configuration parameters relating to a capsule object.\r\n */\r\n\r\nconst capsuleConfig = {};\r\n\r\ncapsuleConfig.sphericalTesselationCount = {\r\n  start: 8,\r\n  min: 0,\r\n  max: 20\r\n};\r\ncapsuleConfig.radius = {\r\n  start: 1,\r\n  min: 0,\r\n  max: 16\r\n};\r\ncapsuleConfig.capsuleEndPointsDistance = {\r\n  start: 3,\r\n  min: 0,\r\n  max: 16\r\n};\r\n\r\nconst capsuleFolderConfig = {\r\n  label: 'Capsule',\r\n  config: capsuleConfig,\r\n  isOpen: true\r\n};\r\n\r\nexport {capsuleConfig, capsuleFolderConfig};\r\n","/**\r\n * This module handles general configuration parameters.\r\n */\r\n\r\nconst generalConfig = {};\r\n\r\ngeneralConfig.useSmoothShading = false;\r\ngeneralConfig.texturePath = {\r\n  start: 'images/textures/test-image.png',\r\n  options: [\r\n    'images/textures/test-image.png',\r\n    'images/textures/metal/metal1.png',\r\n    'images/textures/metal/metal2.png',\r\n    'images/textures/metal/metal3.png',\r\n    'images/textures/metal/metal4.png',\r\n    'images/textures/metal/metal5.png',\r\n    'images/textures/metal/metal6.png',\r\n    'images/textures/metal/metal7.png',\r\n    'images/textures/metal/metal8.png'\r\n  ]\r\n};\r\ngeneralConfig.shaderProgram = {\r\n  start: 'general-model-program',\r\n  options: [\r\n    'general-model-program',\r\n    // TODO: Add others\r\n  ]\r\n};\r\n// TODO: Use these\r\n//generalConfig.color = {\r\n//   h: ,\r\n//   s: ,\r\n//   l:\r\n// };\r\n//generalConfig.shader = ;\r\n//generalConfig.lights = [\r\n//    {\r\n//        color: ,\r\n//        x: ,\r\n//        y: ,\r\n//        z:\r\n//    },\r\n//    {\r\n//        color: ,\r\n//        x: ,\r\n//        y: ,\r\n//        z:\r\n//    },\r\n//    {\r\n//        color: ,\r\n//        x: ,\r\n//        y: ,\r\n//        z:\r\n//    }\r\n//];\r\n//generalConfig.cameraType = ;\r\n// TODO: Add other camera param configs\r\n\r\ngeneralConfig.clearObjects = () => {};\r\n\r\nconst generalFolderConfig = {\r\n  label: 'General',\r\n  config: generalConfig,\r\n  isOpen: true\r\n};\r\n\r\nexport {generalConfig, generalFolderConfig};\r\n","/**\r\n * This module handles configuration parameters relating to the physics engine.\r\n */\r\n\r\nconst physicsConfig = {};\r\n\r\nphysicsConfig.timeStepDuration = {\r\n  start: 10,\r\n  min: 1,\r\n  max: 1000\r\n};\r\nphysicsConfig.gravity = {\r\n  start: 0.0001,\r\n  min: -0.001,\r\n  max: 0.001\r\n};\r\nphysicsConfig._gravityVec = vec3.create();\r\n\r\nphysicsConfig.linearDragCoefficient = {\r\n  start: 0.0001,\r\n  min: 0.0,\r\n  max: 1.0\r\n};\r\nphysicsConfig.angularDragCoefficient = {\r\n  start: 0.000005,\r\n  min: 0.0,\r\n  max: 1.0\r\n};\r\nphysicsConfig.coefficientOfRestitution = {\r\n  start: 0.8,\r\n  min: 0.0001,\r\n  max: 1.0\r\n};\r\nphysicsConfig.coefficientOfFriction = {\r\n  start: 0.03,\r\n  min: 0.0001,\r\n  max: 1.0\r\n};\r\nphysicsConfig.lowMomentumSuppressionThreshold = {\r\n  start: 0.000000002,\r\n  min: 0.0,\r\n  max: 2.0\r\n};\r\nphysicsConfig.lowAngularMomentumSuppressionThreshold = {\r\n  start: 0.000000001,\r\n  min: 0.0,\r\n  max: 2.0\r\n};\r\n\r\nconst physicsConfigUpdaters = {\r\n  updateGravity: () => vec3.set(physicsConfig._gravityVec, 0, 0, -physicsConfig.gravity)\r\n};\r\n\r\nexport {physicsConfig, physicsConfigUpdaters};\r\n","import {physicsConfig, physicsConfigUpdaters} from './physics-config';\r\n\r\n/**\r\n * This module configures the physics dat.GUI menu folder.\r\n */\r\n\r\nconst physicsFolderConfig = {\r\n  label: 'Physics Engine',\r\n  config: physicsConfig,\r\n  isOpen: false,\r\n  onChangeListeners: {\r\n    'gravity': physicsConfigUpdaters.updateGravity\r\n  },\r\n};\r\n\r\nexport {physicsFolderConfig};\r\n","/**\r\n * This module handles configuration parameters relating to a sphere object.\r\n */\r\n\r\nconst sphereConfig = {};\r\n\r\nsphereConfig.sphericalTesselationCount = {\r\n  start: 8,\r\n  min: 0,\r\n  max: 20\r\n};\r\nsphereConfig.radius = {\r\n  start: 1,\r\n  min: 0,\r\n  max: 16\r\n};\r\n\r\nconst sphereFolderConfig = {\r\n  label: 'Sphere',\r\n  config: sphereConfig,\r\n  isOpen: true\r\n};\r\n\r\nexport {sphereConfig, sphereFolderConfig};\r\n","/**\r\n * This module handles configuration parameters relating to the floor.\r\n */\r\n\r\nconst wallConfig = {};\r\n\r\nwallConfig.halfSideLength = 8000;\r\nwallConfig.thickness = 8000;\r\nwallConfig.zPosition = 8000;\r\nwallConfig.useSmoothShading = false;\r\nwallConfig.texturePath = 'images/textures/metal/metal8.png';\r\nwallConfig.shaderProgram = 'general-model-program';\r\nwallConfig.textureSpan = {\r\n  minX: 0,\r\n  minY: 0,\r\n  maxX: 700,\r\n  maxY: 700\r\n};\r\n\r\nconst wallFolderConfig = {\r\n  label: 'Wall',\r\n  config: wallConfig\r\n};\r\n\r\nexport {wallConfig, wallFolderConfig};\r\n","import {GameController, PhysicsEngine} from 'gamex';\r\nimport {physicsConfig} from './config';\r\nimport {SceneImpl} from './model-controllers/scene/scene-impl';\r\nimport {generalModelProgramWrapperConfig} from './programs';\r\n\r\n/**\r\n * This script defines the top-level logic that bootstraps the application.\r\n */\r\n\r\nwindow.addEventListener('load', _initApp, false);\r\n\r\n/**\r\n * Initializes the app. This is the event handler for the completion of the DOM loading.\r\n *\r\n * @private\r\n */\r\nfunction _initApp() {\r\n  console.debug('onDocumentLoad');\r\n\r\n  window.removeEventListener('load', _initApp);\r\n\r\n  const canvas = document.getElementById('game-area');\r\n  const controller = new GameController();\r\n  const programConfigs = [generalModelProgramWrapperConfig];\r\n  const textures = [\r\n    'images/textures/test-image.png',\r\n    'images/textures/metal/metal1.png',\r\n    'images/textures/metal/metal2.png',\r\n    'images/textures/metal/metal3.png',\r\n    'images/textures/metal/metal4.png',\r\n    'images/textures/metal/metal5.png',\r\n    'images/textures/metal/metal6.png',\r\n    'images/textures/metal/metal7.png',\r\n    'images/textures/metal/metal8.png'\r\n  ];\r\n  PhysicsEngine.create(physicsConfig);\r\n\r\n  controller.initialize(canvas, programConfigs, textures, SceneImpl)\r\n      .then(() => controller.run());\r\n}\r\n","import {\r\n  configController,\r\n  findIntersectingCollidablesForCollidable,\r\n  randomVec3InRange,\r\n} from 'gamex';\r\n\r\nimport {SimulationConfigController} from '../simulation-config-controller';\r\n\r\nimport {\r\n  generalConfig,\r\n  physicsConfig,\r\n} from '../../config';\r\nimport {SingleObjectController} from '../single-object/single-object-controller';\r\nimport {dropObjectConfig, dropObjectFolderConfig} from './drop-object-config';\r\n\r\n/**\r\n * This class updates a drop-object simulation according to configuration-change events triggered\r\n * through the dat.GUI menu.\r\n */\r\nclass DropObjectConfigController extends SimulationConfigController {\r\n  /**\r\n   * @param {ModelGroupControllerConfig} params\r\n   */\r\n  constructor(params) {\r\n    super(params);\r\n\r\n    configController.createFolder(dropObjectFolderConfig, null, {\r\n      'triggerDrop': () => this._triggerObjectDrop()\r\n    });\r\n  }\r\n\r\n  _triggerObjectDrop() {\r\n    // Turn gravity back on (in case it was off from the collision simulator).\r\n    vec3.set(physicsConfig._gravityVec, 0, 0, -physicsConfig.gravity);\r\n\r\n    for (let i = 0; i < dropObjectConfig.count; i++) {\r\n      this._createNewObject();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   */\r\n  _createNewObject() {\r\n    const modelControllerParams = {\r\n      gl: this._gl,\r\n      getViewMatrix: this._getViewMatrix,\r\n      getProjectionMatrix: this._getProjectionMatrix,\r\n      getParentWorldTransform: this._getParentWorldTransform,\r\n      programWrapperId: generalConfig.shaderProgram,\r\n      texturePath: generalConfig.texturePath,\r\n    };\r\n\r\n    const dynamicsParams = {\r\n      position: randomVec3InRange(dropObjectConfig.startPositionAvg,\r\n          dropObjectConfig.startPositionRange),\r\n      mass: 1,\r\n    };\r\n\r\n    const object = new SingleObjectController(modelControllerParams, dynamicsParams,\r\n        dropObjectConfig.shape);\r\n    this._startModelController(object).then(_ensureObjectIsNotColliding);\r\n  }\r\n}\r\n\r\n/**\r\n * Adds a z offset to the new object so that it does not collide with any pre-existing objects.\r\n *\r\n * @param {SingleObjectController} object\r\n * @private\r\n */\r\nfunction _ensureObjectIsNotColliding(object) {\r\n  const collidable = object.physicsJob.collidable;\r\n  let startPosition = object.position;\r\n  let collidingCollidables = findIntersectingCollidablesForCollidable(collidable);\r\n  while (collidingCollidables.length) {\r\n    startPosition[2] += Math.random() * 200 + 4;\r\n    object.position = startPosition;\r\n    collidingCollidables = findIntersectingCollidablesForCollidable(collidable);\r\n  }\r\n}\r\n\r\nexport {DropObjectConfigController};\r\n","/**\r\n * This module handles configuration parameters relating to simulations that drop objects.\r\n */\r\n\r\nconst dropObjectConfig = {};\r\n\r\ndropObjectConfig.shape = {\r\n  start: 'RANDOM',\r\n  options: [\r\n    'CUBE',\r\n    'ICOSAHEDRON',\r\n    'ICOSPHERE',\r\n    'LAT_LONG_SPHERE',\r\n    'CAPSULE',\r\n    'TETRAHEDRON',\r\n    'RANDOM'\r\n  ]\r\n};\r\ndropObjectConfig.startPositionAvg = {\r\n  start: vec3.fromValues(0, 10, 0),\r\n  min: vec3.fromValues(-100, 0, -100),\r\n  max: vec3.fromValues(100, 300, 100)\r\n};\r\ndropObjectConfig.startPositionRange = {\r\n  start: vec3.fromValues(30, 30, 30),\r\n  min: vec3.fromValues(0, 0, 0),\r\n  max: vec3.fromValues(100, 100, 100)\r\n};\r\ndropObjectConfig.count = {\r\n  start: 30,\r\n  min: 1,\r\n  max: 100\r\n};\r\ndropObjectConfig.triggerDrop = () => {};\r\n\r\nconst dropObjectFolderConfig = {\r\n  label: 'Drop Simulation',\r\n  config: dropObjectConfig,\r\n  isOpen: true\r\n};\r\n\r\nexport {dropObjectConfig, dropObjectFolderConfig};\r\n","import {cameraConfig} from '../../config';\r\n\r\n/**\r\n * This module handles configuration parameters relating to the overall scene.\r\n */\r\n\r\nconst sceneConfig = {};\r\n\r\n// Keep this value correlated with cameraConfig._zFar.\r\nsceneConfig.renderDistance = 4000;\r\ncameraConfig._zFar = sceneConfig.renderDistance;\r\n\r\nconst sceneFolderConfig = {\r\n  label: 'Scene',\r\n  config: sceneConfig\r\n};\r\n\r\nexport {sceneConfig, sceneFolderConfig};\r\n","import {\r\n  configController,\r\n  FixedCamera,\r\n  GameScene,\r\n  WallController,\r\n}\r\nfrom 'gamex';\r\n\r\nimport { sceneConfig } from './scene-config';\r\nimport {\r\n  boxFolderConfig,\r\n  cameraConfig,\r\n  cameraFolderConfig,\r\n  capsuleFolderConfig,\r\n  fixedCameraConfig,\r\n  fixedCameraFolderConfig,\r\n  generalConfig,\r\n  generalFolderConfig,\r\n  physicsFolderConfig,\r\n  sphereFolderConfig,\r\n  wallConfig,\r\n}\r\nfrom '../../config';\r\nimport { TriggerCollisionConfigController } from '../trigger-collision/trigger-collision-config-controller';\r\nimport { DropObjectConfigController } from '../drop-object/drop-object-config-controller';\r\n\r\n/**\r\n * This class handles the overall scene.\r\n *\r\n * This includes:\r\n * - the background\r\n * - all objects in the foreground\r\n * - all light sources\r\n * - the camera\r\n */\r\nclass SceneImpl extends GameScene {\r\n  /**\r\n   * @param {ModelGroupControllerConfig} modelControllerParams\r\n   * @param {GameController} gameCtrl\r\n   * @param {InputController} inputCtrl\r\n   */\r\n  constructor(modelControllerParams, gameCtrl, inputCtrl) {\r\n    super(modelControllerParams, gameCtrl, inputCtrl, sceneConfig.renderDistance);\r\n\r\n    this._wallCtrl = null;\r\n    this._dropBallCtrl = null;\r\n    this._triggerCollisionCtrl = null;\r\n\r\n    this._createModelControllers();\r\n    this._createConfigController();\r\n\r\n    this._camera = new FixedCamera(fixedCameraConfig, cameraConfig);\r\n  }\r\n\r\n  _createModelControllers() {\r\n    this._wallCtrl = new WallController({\r\n      gl: this._gl,\r\n      getViewMatrix: this._getViewMatrix,\r\n      getProjectionMatrix: this._getProjectionMatrix,\r\n      getParentWorldTransform: this._getWorldTransform,\r\n      programWrapperId: wallConfig.shaderProgram,\r\n      texturePath: wallConfig.texturePath,\r\n    }, {\r\n      x: null,\r\n      y: null,\r\n      z: -50,\r\n      isOpenOnPositiveSide: true,\r\n      thickness: wallConfig.thickness,\r\n      halfSideLength: wallConfig.halfSideLength,\r\n      useSmoothShading: wallConfig.useSmoothShading,\r\n      textureSpan: wallConfig.textureSpan,\r\n    });\r\n    this._dropBallCtrl = new DropObjectConfigController({\r\n      gl: this._gl,\r\n      getViewMatrix: this._getViewMatrix,\r\n      getProjectionMatrix: this._getProjectionMatrix,\r\n      getParentWorldTransform: this._getWorldTransform,\r\n    });\r\n    this._triggerCollisionCtrl = new TriggerCollisionConfigController({\r\n      gl: this._gl,\r\n      getViewMatrix: this._getViewMatrix,\r\n      getProjectionMatrix: this._getProjectionMatrix,\r\n      getParentWorldTransform: this._getWorldTransform,\r\n    });\r\n    this._modelCtrls = [\r\n      this._wallCtrl,\r\n      this._dropBallCtrl,\r\n      this._triggerCollisionCtrl,\r\n    ];\r\n  }\r\n\r\n  _createConfigController() {\r\n    configController.createFolder(physicsFolderConfig);\r\n    configController.createFolder(generalFolderConfig, null, {\r\n      'texturePath': () => this._updateTexture(),\r\n      'shaderProgram': () => this._updateProgramWrapper(),\r\n      'clearObjects': () => this._clearObjects(),\r\n    });\r\n    configController.createFolder(boxFolderConfig);\r\n    configController.createFolder(capsuleFolderConfig);\r\n    configController.createFolder(sphereFolderConfig);\r\n\r\n    const setCameraPerspective =\r\n        () => this._camera._setPerspective(cameraConfig.fovY, cameraConfig.defaultAspectRatio,\r\n            cameraConfig._zNear, cameraConfig._zFar);\r\n    configController.createFolder(cameraFolderConfig, null, {\r\n      'fovY': setCameraPerspective,\r\n      'defaultAspectRatio': setCameraPerspective\r\n    });\r\n\r\n    // TODO: Update this to support other types of cameras being selected.\r\n    configController.createFolder(fixedCameraFolderConfig, null, {\r\n      // These trigger an update within the camera.\r\n      'viewDirection': () => this._camera.viewDirection = this._camera.viewDirection,\r\n      'position': () => this._camera.position = this._camera.position\r\n    });\r\n  }\r\n\r\n  _updateTexture() {\r\n    if (this._dropBallCtrl) {\r\n      this._dropBallCtrl.updateTexture(generalConfig.texturePath);\r\n    }\r\n    if (this._triggerCollisionCtrl) {\r\n      this._triggerCollisionCtrl.updateTexture(generalConfig.texturePath);\r\n    }\r\n  }\r\n\r\n  _updateProgramWrapper() {\r\n    if (this._dropBallCtrl) {\r\n      this._dropBallCtrl.updateProgramWrapper(generalConfig.shaderProgram);\r\n    }\r\n    if (this._triggerCollisionCtrl) {\r\n      this._triggerCollisionCtrl.updateProgramWrapper(generalConfig.shaderProgram);\r\n    }\r\n  }\r\n\r\n  _clearObjects() {\r\n    if (this._dropBallCtrl) {\r\n      this._dropBallCtrl.clearModelControllers();\r\n    }\r\n    if (this._triggerCollisionCtrl) {\r\n      this._triggerCollisionCtrl.clearModelControllers();\r\n    }\r\n  }\r\n}\r\n\r\nexport { SceneImpl };\r\n","import {ModelGroupController} from 'gamex';\r\n\r\n/**\r\n * This class defines some shared simulation behavior.\r\n */\r\nclass SimulationConfigController extends ModelGroupController {\r\n  /**\r\n   * @param {ModelGroupControllerConfig} modelGroupControllerParams\r\n   */\r\n  constructor(modelGroupControllerParams) {\r\n    super(modelGroupControllerParams);\r\n\r\n    // A stationary object to demo the parameters before running a simulation.\r\n    //this._demoObject = this._createNewObject(true);// TODO: Add the demo object back in.\r\n\r\n    // TODO: Remove these after changing the camera type from Follow.\r\n    this.position = vec3.create();\r\n    this.orientation = quat.create();\r\n  }\r\n\r\n  reset() {\r\n    this.clearModelControllers();\r\n    //this._demoObject.reset();\r\n  }\r\n\r\n  /**\r\n   * @param {string} texturePath\r\n   */\r\n  updateTexture(texturePath) {\r\n    //this._demoObject.texturePath = texturePath;\r\n    this._modelCtrls.forEach(object => object.texturePath = texturePath);\r\n  }\r\n\r\n  /**\r\n   * @param {string} id\r\n   */\r\n  updateProgramWrapper(id) {\r\n    //this._demoObject.id = id;\r\n    this._modelCtrls.forEach(object => object.programWrapperId = id);\r\n  }\r\n}\r\n\r\nexport {SimulationConfigController};\r\n","import {\r\n  applyGravity,\r\n  applyAngularDrag,\r\n  applyLinearDrag,\r\n  CollidablePhysicsModelController,\r\n  pickRandom,\r\n} from 'gamex';\r\n\r\nimport {\r\n  boxConfig,\r\n  capsuleConfig,\r\n  generalConfig,\r\n  physicsConfig,\r\n  sphereConfig,\r\n} from '../../config';\r\n\r\nconst _shapeConfigs = {\r\n  'CUBE': boxConfig,\r\n  'ICOSAHEDRON': sphereConfig,\r\n  'ICOSPHERE': sphereConfig,\r\n  'LAT_LONG_SPHERE': sphereConfig,\r\n  'CAPSULE': capsuleConfig,\r\n  'TETRAHEDRON': sphereConfig,\r\n};\r\n\r\nconst _renderableShapesToCollidaleShapes = {\r\n  'CUBE': 'CUBE',\r\n  'ICOSAHEDRON': 'SPHERE_OR_CAPSULE',\r\n  'ICOSPHERE': 'SPHERE_OR_CAPSULE',\r\n  'LAT_LONG_SPHERE': 'SPHERE_OR_CAPSULE',\r\n  'CAPSULE': 'SPHERE_OR_CAPSULE',\r\n  'TETRAHEDRON': 'SPHERE_OR_CAPSULE',\r\n};\r\n\r\n/**\r\n * This class that controls a single object.\r\n */\r\nclass SingleObjectController extends CollidablePhysicsModelController {\r\n  /**\r\n   * @param {ModelControllerConfig} modelControllerParams\r\n   * @param {DynamicsConfig} dynamicsParams\r\n   * @param {string} shapeId\r\n   */\r\n  constructor(modelControllerParams, dynamicsParams, shapeId) {\r\n    shapeId = shapeId === 'RANDOM' ? pickRandom(Object.keys(_shapeConfigs)) : shapeId;\r\n    const collidableShapeId = _renderableShapesToCollidaleShapes[shapeId];\r\n    const scale = shapeId === 'CUBE' ? boxConfig.scale : vec3.fromValues(1, 1, 1);\r\n    const config = _shapeConfigs[shapeId];\r\n    const shapeParams = {\r\n      shapeId: shapeId,\r\n      collidableShapeId: collidableShapeId,\r\n      isUsingSphericalNormals: generalConfig.useSmoothShading,\r\n      divisionsCount: config.sphericalTesselationCount,\r\n      capsuleEndPointsDistance: config.capsuleEndPointsDistance,\r\n      radius: config.radius,\r\n      scale: scale,\r\n      isStationary: false,\r\n    };\r\n    const forceAppliers = [\r\n      applyGravity.bind(null, physicsConfig),\r\n      applyLinearDrag.bind(null, physicsConfig),\r\n      applyAngularDrag.bind(null, physicsConfig),\r\n    ];\r\n\r\n    super(modelControllerParams, dynamicsParams, shapeParams, forceAppliers)\r\n  }\r\n\r\n  /**\r\n   * This callback is triggered in response to a collision.\r\n   *\r\n   * @param {Collision} collision\r\n   * @returns {boolean} True if this needs the standard collision restitution to proceed.\r\n   */\r\n  handleCollision(collision) {\r\n    return true;\r\n  }\r\n}\r\n\r\nexport {SingleObjectController};\r\n","import {\r\n  configController,\r\n  findIntersectingCollidablesForCollidable,\r\n} from 'gamex';\r\n\r\nimport {SimulationConfigController} from '../simulation-config-controller';\r\n\r\nimport {\r\n  generalConfig,\r\n  physicsConfig\r\n} from '../../config';\r\nimport {SingleObjectController} from '../single-object/single-object-controller';\r\nimport {\r\n  triggerCollisionConfig,\r\n  object1Config,\r\n  object2Config,\r\n  triggerCollisionFolderConfig\r\n} from './trigger-collision-config';\r\n\r\n/**\r\n * This class updates a drop-object simulation according to configuration-change events triggered\r\n * through the dat.GUI menu.\r\n */\r\nclass TriggerCollisionConfigController extends SimulationConfigController {\r\n  /**\r\n   * @param {ModelGroupControllerConfig} params\r\n   */\r\n  constructor(params) {\r\n    super(params);\r\n\r\n    configController.createFolder(triggerCollisionFolderConfig, null, {\r\n      'triggerCollision': () => this._triggerCollision()\r\n    });\r\n  }\r\n\r\n  _triggerCollision() {\r\n    // Turn off gravity.\r\n    vec3.set(physicsConfig._gravityVec, 0, 0, 0);\r\n\r\n    this._createNewObject(true, object1Config);\r\n    this._createNewObject(false, object2Config);\r\n  }\r\n\r\n  /**\r\n   * @param {boolean} isFirstObject\r\n   * @param {Object} objectConfig\r\n   * @returns {SingleObjectController}\r\n   * @private\r\n   */\r\n  _createNewObject(isFirstObject, objectConfig) {\r\n    const modelControllerParams = {\r\n      gl: this._gl,\r\n      getViewMatrix: this._getViewMatrix,\r\n      getProjectionMatrix: this._getProjectionMatrix,\r\n      getParentWorldTransform: this._getParentWorldTransform,\r\n      programWrapperId: generalConfig.shaderProgram,\r\n      texturePath: generalConfig.texturePath,\r\n    };\r\n\r\n    // Set the initial offset.\r\n    const xOffset = isFirstObject\r\n        ? -triggerCollisionConfig.distance / 2\r\n        : triggerCollisionConfig.distance / 2;\r\n    const startPosition = vec3.fromValues(xOffset, 0, 0);\r\n    vec3.add(startPosition, startPosition, objectConfig.displacement);\r\n\r\n    const dynamicsParams = {\r\n      position: startPosition,\r\n      mass: objectConfig.mass,\r\n    };\r\n\r\n    const object = new SingleObjectController(modelControllerParams, dynamicsParams,\r\n        objectConfig.shape);\r\n    this._startModelController(object).then(() => {\r\n      // Set the initial orientation.\r\n      const orientation = quat.create();\r\n      quat.rotateX(orientation, orientation, objectConfig.rotationX);\r\n      quat.rotateX(orientation, orientation, objectConfig.rotationY);\r\n      quat.rotateX(orientation, orientation, objectConfig.rotationZ);\r\n      object.physicsJob.previousState.orientation = orientation;\r\n      object.physicsJob.currentState.orientation = quat.clone(orientation);\r\n\r\n      // Set the initial velocity.\r\n      const xVelocity = isFirstObject ? triggerCollisionConfig.speed : -triggerCollisionConfig.speed;\r\n      const xMomentum = xVelocity * object.physicsJob.currentState.mass;\r\n      object.physicsJob.previousState.momentum = vec3.fromValues(xMomentum, 0, 0);\r\n      object.physicsJob.currentState.momentum = vec3.fromValues(xMomentum, 0, 0);\r\n\r\n      _ensureObjectIsNotColliding(object);\r\n    });\r\n  }\r\n}\r\n\r\n/**\r\n * Adds an x offset to the new object so that it does not collide with any pre-existing objects.\r\n *\r\n * @param {SingleObjectController} object\r\n * @private\r\n */\r\nfunction _ensureObjectIsNotColliding(object) {\r\n  const collidable = object.physicsJob.collidable;\r\n  const startPosition = object.position;\r\n  let collidingCollidables = findIntersectingCollidablesForCollidable(collidable);\r\n  while (collidingCollidables.length) {\r\n    startPosition[0] *= Math.random() + 1;\r\n    object.position = startPosition;\r\n    collidingCollidables = findIntersectingCollidablesForCollidable(collidable);\r\n  }\r\n}\r\n\r\nexport {TriggerCollisionConfigController};\r\n","/**\r\n * This module handles configuration parameters relating to simulations that collide two objects.\r\n */\r\n\r\nconst triggerCollisionConfig = {};\r\n\r\ntriggerCollisionConfig.distance = {\r\n  start: 50,\r\n  min: 0,\r\n  max: 200\r\n};\r\ntriggerCollisionConfig.speed = {\r\n  start: 0.02,\r\n  min: 0,\r\n  max: 1\r\n};\r\ntriggerCollisionConfig.triggerCollision = () => {};\r\n\r\nconst object1Config = {};\r\n\r\nobject1Config.shape = {\r\n  start: 'CAPSULE',\r\n  options: [\r\n    'CUBE',\r\n    'ICOSAHEDRON',\r\n    'ICOSPHERE',\r\n    'LAT_LONG_SPHERE',\r\n    'CAPSULE',\r\n    'TETRAHEDRON',\r\n    'RANDOM'\r\n  ]\r\n};\r\nobject1Config.rotation = {\r\n  start: vec3.fromValues(0, 0, 0),\r\n  min: vec3.fromValues(-Math.PI, -Math.PI, -Math.PI),\r\n  max: vec3.fromValues(Math.PI, Math.PI, Math.PI)\r\n};\r\nobject1Config.displacement = {\r\n  start: vec3.fromValues(0, 0, 0),\r\n  min: vec3.fromValues(-50, -50, -50),\r\n  max: vec3.fromValues(50, 50, 50)\r\n};\r\nobject1Config.mass = {\r\n  start: 1,\r\n  min: 0.1,\r\n  max: 50\r\n};\r\n\r\nconst object2Config = {};\r\n\r\nobject2Config.shape = {\r\n  start: 'CAPSULE',\r\n  options: [\r\n    'CUBE',\r\n    'ICOSAHEDRON',\r\n    'ICOSPHERE',\r\n    'LAT_LONG_SPHERE',\r\n    'CAPSULE',\r\n    'TETRAHEDRON',\r\n    'RANDOM'\r\n  ]\r\n};\r\nobject2Config.rotation = {\r\n  start: vec3.fromValues(0, 0, 0),\r\n  min: vec3.fromValues(-Math.PI, -Math.PI, -Math.PI),\r\n  max: vec3.fromValues(Math.PI, Math.PI, Math.PI)\r\n};\r\nobject2Config.displacement = {\r\n  start: vec3.fromValues(0, 0, 0.9),\r\n  min: vec3.fromValues(-50, -50, -50),\r\n  max: vec3.fromValues(50, 50, 50)\r\n};\r\nobject2Config.mass = {\r\n  start: 2,\r\n  min: 0.1,\r\n  max: 50\r\n};\r\n\r\nconst object1FolderConfig = {\r\n  label: 'Object 1',\r\n  config: object1Config,\r\n  isOpen: true\r\n};\r\n\r\nconst object2FolderConfig = {\r\n  label: 'Object 2',\r\n  config: object2Config,\r\n  isOpen: true\r\n};\r\n\r\nconst triggerCollisionFolderConfig = {\r\n  label: 'Collision Simulation',\r\n  config: triggerCollisionConfig,\r\n  isOpen: true,\r\n  childFolders: [\r\n    object1FolderConfig,\r\n    object2FolderConfig\r\n  ]\r\n};\r\n\r\nexport {triggerCollisionConfig, object1Config, object2Config, triggerCollisionFolderConfig};\r\n","/**\r\n * This module defines the configuration for a WebGL program that renders a general model--that is,\r\n * this program renders everything but the stars.\r\n *\r\n * This program renders three-dimensional shapes with textures and Blinn-Phong shading.\r\n */\r\n\r\nconst generalModelProgramWrapperConfig = {};\r\n\r\ngeneralModelProgramWrapperConfig.id = 'general-model-program';\r\n\r\n// The build system moves shader files to dist/shaders/.\r\ngeneralModelProgramWrapperConfig.vertexShaderPath = 'shaders/general-model-shader.vert';\r\ngeneralModelProgramWrapperConfig.fragmentShaderPath = 'shaders/general-model-shader.frag';\r\n\r\ngeneralModelProgramWrapperConfig.renderPriority = 1;\r\n\r\n/**\r\n * @param {WebGLRenderingContext} gl\r\n */\r\ngeneralModelProgramWrapperConfig.webGLStateSetter = gl => {\r\n  // Turn on depth testing.\r\n  gl.enable(gl.DEPTH_TEST);\r\n  gl.depthFunc(gl.LEQUAL);\r\n};\r\n\r\nexport {generalModelProgramWrapperConfig};\r\n","export * from './general-model-program/general-model-program-config';\r\n","/**\r\n * This module handles configuration parameters relating to the camera. This uses the dat.GUI\r\n * package.\r\n */\r\n\r\n// TODO: Tie this into the folder-config system.\r\n\r\nimport {\r\n  degToRad,\r\n  FirstPersonCamera,\r\n  FixedCamera,\r\n  FixedFollowCamera,\r\n  SpringFollowCamera,\r\n} from 'gamex';\r\n\r\nconst cameraConfig = {};\r\n\r\ncameraConfig.fovY = {\r\n  start: degToRad(70.0),\r\n  min: 0.0,\r\n  max: 3.1415\r\n};\r\ncameraConfig.defaultAspectRatio = {\r\n  start: 16 / 9,\r\n  min: 0.01,\r\n  max: 8.0\r\n};\r\ncameraConfig._zNear = 0.1;\r\ncameraConfig._zFar = 4000;\r\ncameraConfig._defaultLookAtDirection = vec3.fromValues(0, 0, -1);\r\ncameraConfig.cameraType = {\r\n  start: 'thirdPersonSpring',\r\n  options: [\r\n    'firstPerson',\r\n    'thirdPersonSpring',\r\n    'thirdPersonFixed',\r\n    'fixed',\r\n  ]\r\n};\r\n\r\nconst cameraTypeMap = {\r\n  'firstPerson': FirstPersonCamera,\r\n  'thirdPersonFixed': FixedFollowCamera,\r\n  'thirdPersonSpring': SpringFollowCamera,\r\n  'fixed': FixedCamera,\r\n};\r\n\r\nconst fixedCameraConfig = {};\r\n\r\nfixedCameraConfig.position = {\r\n  start: vec3.fromValues(0, -40, 5),\r\n  min: vec3.fromValues(-200, -200, -200),\r\n  max: vec3.fromValues(200, 200, 200)\r\n};\r\nfixedCameraConfig.viewDirection = {\r\n  start: vec3.fromValues(0, 1, -.5),\r\n  min: vec3.fromValues(-1, -1, -1),\r\n  max: vec3.fromValues(1, 1, 1)\r\n};\r\nfixedCameraConfig._up = vec3.fromValues(0, 0, 1);\r\n\r\nconst firstPersonCameraConfig = {};\r\n\r\nfirstPersonCameraConfig.intendedDisplacementFromTarget = vec3.fromValues(0, 0.3, -0.8);\r\nfirstPersonCameraConfig.viewDirection = vec3.fromValues(0, 0, -1);\r\nfirstPersonCameraConfig.targetDistance = 10;\r\n\r\nconst followCameraConfig = {};\r\n\r\nfollowCameraConfig.springCoefficient = 0.0004;\r\nfollowCameraConfig.dampingCoefficient = 0.04;\r\n\r\nfollowCameraConfig.intendedDistanceFromTarget = {\r\n  start: 5,\r\n  min: 0,\r\n  max: 100\r\n};\r\nfollowCameraConfig.intendedRotationAngleFromTarget = {\r\n  start: -Math.PI * .075,\r\n  min: 0,\r\n  max: 2 * Math.PI\r\n};\r\nfollowCameraConfig.intendedRotationAxisFromTarget = vec3.fromValues(1, 0, 0);\r\nfollowCameraConfig._intendedTranslationFromTarget = vec3.create();\r\n\r\nfunction updateIntendedTranslationFromTarget() {\r\n  const transformation = mat4.create();\r\n  mat4.rotate(\r\n      transformation,\r\n      transformation,\r\n      followCameraConfig.intendedRotationAngleFromTarget,\r\n      followCameraConfig.intendedRotationAxisFromTarget);\r\n  mat4.translate(\r\n      transformation,\r\n      transformation,\r\n      vec3.fromValues(0, 0, followCameraConfig.intendedDistanceFromTarget));\r\n  vec3.transformMat4(\r\n      followCameraConfig._intendedTranslationFromTarget,\r\n      followCameraConfig._intendedTranslationFromTarget,\r\n      transformation);\r\n}\r\n\r\nconst normalizeFirstPersonViewDirection =\r\n    () => vec3.normalize(firstPersonCameraConfig.viewDirection,\r\n        firstPersonCameraConfig.viewDirection);\r\nconst normalizeFixedViewDirection =\r\n    () => vec3.normalize(fixedCameraConfig.viewDirection, fixedCameraConfig.viewDirection);\r\nconst normalizeDefaultLookAtDirection =\r\n    () => vec3.normalize(cameraConfig._defaultLookAtDirection,\r\n        cameraConfig._defaultLookAtDirection);\r\n\r\nconst cameraConfigUpdaters = {\r\n  updateIntendedTranslationFromTarget: updateIntendedTranslationFromTarget,\r\n  normalizeFirstPersonViewDirection: normalizeFirstPersonViewDirection,\r\n  normalizeFixedViewDirection: normalizeFixedViewDirection,\r\n  normalizeDefaultLookAtDirection: normalizeDefaultLookAtDirection\r\n};\r\n\r\nnormalizeDefaultLookAtDirection();\r\n\r\nexport {\r\n  cameraConfig,\r\n  fixedCameraConfig,\r\n  firstPersonCameraConfig,\r\n  followCameraConfig,\r\n  cameraConfigUpdaters,\r\n  cameraTypeMap,\r\n};\r\n","import {\r\n  cameraConfig,\r\n  firstPersonCameraConfig,\r\n  fixedCameraConfig,\r\n  followCameraConfig,\r\n  cameraConfigUpdaters\r\n} from './camera-config';\r\n\r\n/**\r\n * This module configures the camera dat.GUI menu folder.\r\n */\r\n\r\nconst firstPersonCameraFolderConfig = {\r\n  label: 'First-person camera',\r\n  config: firstPersonCameraConfig,\r\n  isOpen: false,\r\n  onChangeListeners: {\r\n    'viewDirection': cameraConfigUpdaters.normalizeFirstPersonViewDirection\r\n  }\r\n};\r\n\r\nconst fixedCameraFolderConfig = {\r\n  label: 'Fixed camera',\r\n  config: fixedCameraConfig,\r\n  isOpen: false,\r\n  onChangeListeners: {\r\n    'viewDirection': cameraConfigUpdaters.normalizeFixedViewDirection\r\n  }\r\n};\r\n\r\nconst followCameraFolderConfig = {\r\n  label: 'Follow camera',\r\n  config: followCameraConfig,\r\n  isOpen: false,\r\n  onChangeListeners: {\r\n    'intendedDistanceFromTarget': cameraConfigUpdaters.updateIntendedTranslationFromTarget,\r\n    'intendedRotationAngleFromTarget': cameraConfigUpdaters.updateIntendedTranslationFromTarget,\r\n    'intendedRotationAxisFromTarget': cameraConfigUpdaters.updateIntendedTranslationFromTarget\r\n  }\r\n};\r\n\r\nconst cameraFolderConfig = {\r\n  label: 'Camera',\r\n  config: cameraConfig,\r\n  isOpen: false,\r\n  childFolders: [\r\n    followCameraFolderConfig,\r\n    firstPersonCameraFolderConfig,\r\n    fixedCameraFolderConfig\r\n  ]\r\n};\r\n\r\nexport {cameraFolderConfig, firstPersonCameraFolderConfig, fixedCameraFolderConfig, followCameraFolderConfig};\r\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvZ2FtZXgvaW5kZXguanMiLCJub2RlX21vZHVsZXMvZ2FtZXgvc3JjL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2dhbWV4L3NyYy9zcmMvY29sbGlkYWJsZS1waHlzaWNzLW1vZGVsLWNvbnRyb2xsZXIuanMiLCJub2RlX21vZHVsZXMvZ2FtZXgvc3JjL3NyYy9jb25maWctY29udHJvbGxlci5qcyIsIm5vZGVfbW9kdWxlcy9nYW1leC9zcmMvc3JjL2dhbWUtY29udHJvbGxlci5qcyIsIm5vZGVfbW9kdWxlcy9nYW1leC9zcmMvc3JjL2dhbWUtc2NlbmUuanMiLCJub2RlX21vZHVsZXMvZ2FtZXgvc3JjL3NyYy9pbnB1dC1jb250cm9sbGVyLmpzIiwibm9kZV9tb2R1bGVzL2dhbWV4L3NyYy9zcmMvcGh5c2ljcy1tb2RlbC1jb250cm9sbGVyLmpzIiwibm9kZV9tb2R1bGVzL2dhbWV4L3NyYy9zcmMvc3ByaW5nLWZvbGxvdy1jYW1lcmEuanMiLCJub2RlX21vZHVsZXMvZ2FtZXgvc3JjL3dhbGwvaW5kZXguanMiLCJub2RlX21vZHVsZXMvZ2FtZXgvc3JjL3dhbGwvc3JjL3dhbGwtY29sbGlkYWJsZS5qcyIsIm5vZGVfbW9kdWxlcy9nYW1leC9zcmMvd2FsbC9zcmMvd2FsbC1jb250cm9sbGVyLmpzIiwibm9kZV9tb2R1bGVzL2dyYWZ4L3NyYy9jYW1lcmFzL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2dyYWZ4L3NyYy9jYW1lcmFzL3NyYy9jYW1lcmEuanMiLCJub2RlX21vZHVsZXMvZ3JhZngvc3JjL2NhbWVyYXMvc3JjL2ZpcnN0LXBlcnNvbi1jYW1lcmEuanMiLCJub2RlX21vZHVsZXMvZ3JhZngvc3JjL2NhbWVyYXMvc3JjL2ZpeGVkLWNhbWVyYS5qcyIsIm5vZGVfbW9kdWxlcy9ncmFmeC9zcmMvY2FtZXJhcy9zcmMvZml4ZWQtZm9sbG93LWNhbWVyYS5qcyIsIm5vZGVfbW9kdWxlcy9ncmFmeC9zcmMvY2FtZXJhcy9zcmMvZm9sbG93LWNhbWVyYS5qcyIsIm5vZGVfbW9kdWxlcy9ncmFmeC9zcmMvY2FtZXJhcy9zcmMvb3ZlcmhlYWQtY2FtZXJhLmpzIiwibm9kZV9tb2R1bGVzL2dyYWZ4L3NyYy9jYW1lcmFzL3NyYy90aGlyZC1wZXJzb24tY2FtZXJhLmpzIiwibm9kZV9tb2R1bGVzL2dyYWZ4L3NyYy9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9ncmFmeC9zcmMvbW9kZWxzL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2dyYWZ4L3NyYy9tb2RlbHMvc3JjL2RlZmF1bHQtbW9kZWwuanMiLCJub2RlX21vZHVsZXMvZ3JhZngvc3JjL21vZGVscy9zcmMvaW52aXNpYmxlLW1vZGVsLWNvbnRyb2xsZXIuanMiLCJub2RlX21vZHVsZXMvZ3JhZngvc3JjL21vZGVscy9zcmMvbW9kZWwtY29udHJvbGxlci5qcyIsIm5vZGVfbW9kdWxlcy9ncmFmeC9zcmMvbW9kZWxzL3NyYy9tb2RlbC1ncm91cC1jb250cm9sbGVyLmpzIiwibm9kZV9tb2R1bGVzL2dyYWZ4L3NyYy9tb2RlbHMvc3JjL21vZGVsLmpzIiwibm9kZV9tb2R1bGVzL2dyYWZ4L3NyYy9tb2RlbHMvc3JjL3N0YW5kYXJkLW1vZGVsLWNvbnRyb2xsZXIuanMiLCJub2RlX21vZHVsZXMvZ3JhZngvc3JjL3Byb2dyYW0td3JhcHBlci9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9ncmFmeC9zcmMvcHJvZ3JhbS13cmFwcGVyL3NyYy9ncm91cC1wcm9ncmFtLXdyYXBwZXIuanMiLCJub2RlX21vZHVsZXMvZ3JhZngvc3JjL3Byb2dyYW0td3JhcHBlci9zcmMvcHJvZ3JhbS13cmFwcGVyLXN0b3JlLmpzIiwibm9kZV9tb2R1bGVzL2dyYWZ4L3NyYy9wcm9ncmFtLXdyYXBwZXIvc3JjL3Byb2dyYW0td3JhcHBlci5qcyIsIm5vZGVfbW9kdWxlcy9ncmFmeC9zcmMvcHJvZ3JhbS13cmFwcGVyL3NyYy90ZXh0dXJlLXN0b3JlLmpzIiwibm9kZV9tb2R1bGVzL2dyYWZ4L3NyYy9wcm9ncmFtLXdyYXBwZXIvc3JjL3VuaWZvcm0tc2V0dGVyLmpzIiwibm9kZV9tb2R1bGVzL2dyYWZ4L3NyYy9yZW5kZXJhYmxlLXNoYXBlcy9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9ncmFmeC9zcmMvcmVuZGVyYWJsZS1zaGFwZXMvc3JjL3JlbmRlcmFibGUtc2hhcGUtZmFjdG9yeS5qcyIsIm5vZGVfbW9kdWxlcy9ncmFmeC9zcmMvcmVuZGVyYWJsZS1zaGFwZXMvc3JjL3JlbmRlcmFibGUtc2hhcGUtc3RvcmUuanMiLCJub2RlX21vZHVsZXMvZ3JhZngvc3JjL3JlbmRlcmFibGUtc2hhcGVzL3NyYy9zaGFwZS1jb25maWdzL2NhcHN1bGUtcmVuZGVyYWJsZS1zaGFwZS5qcyIsIm5vZGVfbW9kdWxlcy9ncmFmeC9zcmMvcmVuZGVyYWJsZS1zaGFwZXMvc3JjL3NoYXBlLWNvbmZpZ3MvY3ViZS1yZW5kZXJhYmxlLXNoYXBlLmpzIiwibm9kZV9tb2R1bGVzL2dyYWZ4L3NyYy9yZW5kZXJhYmxlLXNoYXBlcy9zcmMvc2hhcGUtY29uZmlncy9pY29zYWhlZHJvbi1yZW5kZXJhYmxlLXNoYXBlLmpzIiwibm9kZV9tb2R1bGVzL2dyYWZ4L3NyYy9yZW5kZXJhYmxlLXNoYXBlcy9zcmMvc2hhcGUtY29uZmlncy9pY29zcGhlcmUtcmVuZGVyYWJsZS1zaGFwZS5qcyIsIm5vZGVfbW9kdWxlcy9ncmFmeC9zcmMvcmVuZGVyYWJsZS1zaGFwZXMvc3JjL3NoYXBlLWNvbmZpZ3MvbGF0LWxvbmctc3BoZXJlLXJlbmRlcmFibGUtc2hhcGUuanMiLCJub2RlX21vZHVsZXMvZ3JhZngvc3JjL3JlbmRlcmFibGUtc2hhcGVzL3NyYy9zaGFwZS1jb25maWdzL3RldHJhaGVkcm9uLXJlbmRlcmFibGUtc2hhcGUuanMiLCJub2RlX21vZHVsZXMvZ3JhZngvc3JjL3NyYy9ncmFmeC1jb250cm9sbGVyLmpzIiwibm9kZV9tb2R1bGVzL2dyYWZ4L3NyYy9zcmMvbGlnaHQuanMiLCJub2RlX21vZHVsZXMvZ3JhZngvc3JjL3NyYy9zY2VuZS5qcyIsIm5vZGVfbW9kdWxlcy9ncmFmeC9zcmMvdXRpbC9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9ncmFmeC9zcmMvdXRpbC9zcmMvZ2VvbWV0cnkuanMiLCJub2RlX21vZHVsZXMvZ3JhZngvc3JjL3V0aWwvc3JjL2dsLXV0aWwuanMiLCJub2RlX21vZHVsZXMvZ3JhZngvc3JjL3V0aWwvc3JjL2hhc2gtbWFwLmpzIiwibm9kZV9tb2R1bGVzL2dyYWZ4L3NyYy91dGlsL3NyYy91dGlsLmpzIiwibm9kZV9tb2R1bGVzL2xzbC1hbmltYXRleC9zcmMvYW5pbWF0aW9uLWpvYi5qcyIsIm5vZGVfbW9kdWxlcy9sc2wtYW5pbWF0ZXgvc3JjL2FuaW1hdG9yLmpzIiwibm9kZV9tb2R1bGVzL2xzbC1hbmltYXRleC9zcmMvZnJhbWUtbGF0ZW5jeS1wcm9maWxlci5qcyIsIm5vZGVfbW9kdWxlcy9sc2wtYW5pbWF0ZXgvc3JjL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2xzbC1hbmltYXRleC9zcmMvcGVyc2lzdGVudC1hbmltYXRpb24tam9iLmpzIiwibm9kZV9tb2R1bGVzL2xzbC1hbmltYXRleC9zcmMvdHJhbnNpZW50LWFuaW1hdGlvbi1qb2IuanMiLCJub2RlX21vZHVsZXMvbHNsLWFuaW1hdGV4L3NyYy91dGlsLmpzIiwibm9kZV9tb2R1bGVzL2xzbC1waHlzeC9zcmMvY29sbGlzaW9ucy9jb2xsaWRhYmxlcy9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9sc2wtcGh5c3gvc3JjL2NvbGxpc2lvbnMvY29sbGlkYWJsZXMvc3JjL2FhYmItY29sbGlkYWJsZS5qcyIsIm5vZGVfbW9kdWxlcy9sc2wtcGh5c3gvc3JjL2NvbGxpc2lvbnMvY29sbGlkYWJsZXMvc3JjL2NhcHN1bGUtY29sbGlkYWJsZS5qcyIsIm5vZGVfbW9kdWxlcy9sc2wtcGh5c3gvc3JjL2NvbGxpc2lvbnMvY29sbGlkYWJsZXMvc3JjL2NvbGxpZGFibGUuanMiLCJub2RlX21vZHVsZXMvbHNsLXBoeXN4L3NyYy9jb2xsaXNpb25zL2NvbGxpZGFibGVzL3NyYy9saW5lLXNlZ21lbnQuanMiLCJub2RlX21vZHVsZXMvbHNsLXBoeXN4L3NyYy9jb2xsaXNpb25zL2NvbGxpZGFibGVzL3NyYy9vYmItY29sbGlkYWJsZS5qcyIsIm5vZGVfbW9kdWxlcy9sc2wtcGh5c3gvc3JjL2NvbGxpc2lvbnMvY29sbGlkYWJsZXMvc3JjL3NwaGVyZS1jb2xsaWRhYmxlLmpzIiwibm9kZV9tb2R1bGVzL2xzbC1waHlzeC9zcmMvY29sbGlzaW9ucy9jb2xsaXNpb24tZGV0ZWN0aW9uL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2xzbC1waHlzeC9zcmMvY29sbGlzaW9ucy9jb2xsaXNpb24tZGV0ZWN0aW9uL3NyYy9hYWJiLWNvbGxpc2lvbi1kZXRlY3Rpb24uanMiLCJub2RlX21vZHVsZXMvbHNsLXBoeXN4L3NyYy9jb2xsaXNpb25zL2NvbGxpc2lvbi1kZXRlY3Rpb24vc3JjL2NhcHN1bGUtY29sbGlzaW9uLWRldGVjdGlvbi5qcyIsIm5vZGVfbW9kdWxlcy9sc2wtcGh5c3gvc3JjL2NvbGxpc2lvbnMvY29sbGlzaW9uLWRldGVjdGlvbi9zcmMvb2JiLWNvbGxpc2lvbi1kZXRlY3Rpb24uanMiLCJub2RlX21vZHVsZXMvbHNsLXBoeXN4L3NyYy9jb2xsaXNpb25zL2NvbGxpc2lvbi1kZXRlY3Rpb24vc3JjL3NwaGVyZS1jb2xsaXNpb24tZGV0ZWN0aW9uLmpzIiwibm9kZV9tb2R1bGVzL2xzbC1waHlzeC9zcmMvY29sbGlzaW9ucy9jb250YWN0LWNhbGN1bGF0aW9uL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2xzbC1waHlzeC9zcmMvY29sbGlzaW9ucy9jb250YWN0LWNhbGN1bGF0aW9uL3NyYy9hYWJiLWNvbnRhY3QtY2FsY3VsYXRpb24uanMiLCJub2RlX21vZHVsZXMvbHNsLXBoeXN4L3NyYy9jb2xsaXNpb25zL2NvbnRhY3QtY2FsY3VsYXRpb24vc3JjL2NhcHN1bGUtY29udGFjdC1jYWxjdWxhdGlvbi5qcyIsIm5vZGVfbW9kdWxlcy9sc2wtcGh5c3gvc3JjL2NvbGxpc2lvbnMvY29udGFjdC1jYWxjdWxhdGlvbi9zcmMvb2JiLWNvbnRhY3QtY2FsY3VsYXRpb24uanMiLCJub2RlX21vZHVsZXMvbHNsLXBoeXN4L3NyYy9jb2xsaXNpb25zL2NvbnRhY3QtY2FsY3VsYXRpb24vc3JjL3NwaGVyZS1jb250YWN0LWNhbGN1bGF0aW9uLmpzIiwibm9kZV9tb2R1bGVzL2xzbC1waHlzeC9zcmMvY29sbGlzaW9ucy9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9sc2wtcGh5c3gvc3JjL2NvbGxpc2lvbnMvc3JjL2NvbGxpZGFibGUtZmFjdG9yaWVzLmpzIiwibm9kZV9tb2R1bGVzL2xzbC1waHlzeC9zcmMvY29sbGlzaW9ucy9zcmMvY29sbGlkYWJsZS1waHlzaWNzLWpvYi5qcyIsIm5vZGVfbW9kdWxlcy9sc2wtcGh5c3gvc3JjL2NvbGxpc2lvbnMvc3JjL2NvbGxpZGFibGUtc3RvcmUuanMiLCJub2RlX21vZHVsZXMvbHNsLXBoeXN4L3NyYy9jb2xsaXNpb25zL3NyYy9jb2xsaXNpb24taGFuZGxlci5qcyIsIm5vZGVfbW9kdWxlcy9sc2wtcGh5c3gvc3JjL2NvbGxpc2lvbnMvc3JjL2NvbGxpc2lvbi11dGlscy5qcyIsIm5vZGVfbW9kdWxlcy9sc2wtcGh5c3gvc3JjL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2xzbC1waHlzeC9zcmMvaW50ZWdyYXRvci9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9sc2wtcGh5c3gvc3JjL2ludGVncmF0b3Ivc3JjL2ludGVncmF0b3IuanMiLCJub2RlX21vZHVsZXMvbHNsLXBoeXN4L3NyYy9pbnRlZ3JhdG9yL3NyYy9yazQtaW50ZWdyYXRvci5qcyIsIm5vZGVfbW9kdWxlcy9sc2wtcGh5c3gvc3JjL3NyYy9waHlzaWNzLWVuZ2luZS5qcyIsIm5vZGVfbW9kdWxlcy9sc2wtcGh5c3gvc3JjL3NyYy9waHlzaWNzLWpvYi5qcyIsIm5vZGVfbW9kdWxlcy9sc2wtcGh5c3gvc3JjL3NyYy9waHlzaWNzLXN0YXRlLmpzIiwibm9kZV9tb2R1bGVzL2xzbC1waHlzeC9zcmMvdXRpbC9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9sc2wtcGh5c3gvc3JjL3V0aWwvc3JjL2ZvcmNlLXV0aWxzLmpzIiwibm9kZV9tb2R1bGVzL2xzbC1waHlzeC9zcmMvdXRpbC9zcmMvZ2VvbWV0cnkuanMiLCJub2RlX21vZHVsZXMvbHNsLXBoeXN4L3NyYy91dGlsL3NyYy9pbmVydGlhLXRlbnNvci11dGlscy5qcyIsIm5vZGVfbW9kdWxlcy9sc2wtcGh5c3gvc3JjL3V0aWwvc3JjL3V0aWwuanMiLCJzcmMvY29uZmlnL2luZGV4LmpzIiwic3JjL2NvbmZpZy9zcmMvYm94LWNvbmZpZy5qcyIsInNyYy9jb25maWcvc3JjL2NhbWVyYS1jb25maWcuanMiLCJzcmMvY29uZmlnL3NyYy9jYW1lcmEtZm9sZGVyLWNvbmZpZy5qcyIsInNyYy9jb25maWcvc3JjL2NhcHN1bGUtY29uZmlnLmpzIiwic3JjL2NvbmZpZy9zcmMvZ2VuZXJhbC1jb25maWcuanMiLCJzcmMvY29uZmlnL3NyYy9waHlzaWNzLWNvbmZpZy5qcyIsInNyYy9jb25maWcvc3JjL3BoeXNpY3MtZm9sZGVyLWNvbmZpZy5qcyIsInNyYy9jb25maWcvc3JjL3NwaGVyZS1jb25maWcuanMiLCJzcmMvY29uZmlnL3NyYy93YWxsLWNvbmZpZy5qcyIsInNyYy9tYWluLmpzIiwic3JjL21vZGVsLWNvbnRyb2xsZXJzL2Ryb3Atb2JqZWN0L2Ryb3Atb2JqZWN0LWNvbmZpZy1jb250cm9sbGVyLmpzIiwic3JjL21vZGVsLWNvbnRyb2xsZXJzL2Ryb3Atb2JqZWN0L2Ryb3Atb2JqZWN0LWNvbmZpZy5qcyIsInNyYy9tb2RlbC1jb250cm9sbGVycy9zY2VuZS9zY2VuZS1jb25maWcuanMiLCJzcmMvbW9kZWwtY29udHJvbGxlcnMvc2NlbmUvc2NlbmUtaW1wbC5qcyIsInNyYy9tb2RlbC1jb250cm9sbGVycy9zaW11bGF0aW9uLWNvbmZpZy1jb250cm9sbGVyLmpzIiwic3JjL21vZGVsLWNvbnRyb2xsZXJzL3NpbmdsZS1vYmplY3Qvc2luZ2xlLW9iamVjdC1jb250cm9sbGVyLmpzIiwic3JjL21vZGVsLWNvbnRyb2xsZXJzL3RyaWdnZXItY29sbGlzaW9uL3RyaWdnZXItY29sbGlzaW9uLWNvbmZpZy1jb250cm9sbGVyLmpzIiwic3JjL21vZGVsLWNvbnRyb2xsZXJzL3RyaWdnZXItY29sbGlzaW9uL3RyaWdnZXItY29sbGlzaW9uLWNvbmZpZy5qcyIsInNyYy9wcm9ncmFtcy9nZW5lcmFsLW1vZGVsLXByb2dyYW0vZ2VuZXJhbC1tb2RlbC1wcm9ncmFtLWNvbmZpZy5qcyIsInNyYy9wcm9ncmFtcy9pbmRleC5qcyIsIi4uL3NwYWNlLWRlYnJpcy9zcmMvY29uZmlnL3NyYy9jYW1lcmEtY29uZmlnLmpzIiwiLi4vc3BhY2UtZGVicmlzL3NyYy9jb25maWcvc3JjL2NhbWVyYS1mb2xkZXItY29uZmlnLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7QUNBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7Ozs7Ozs7Ozs7O0FDS0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7O0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7O0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7O0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7O0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7O0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7O0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7O0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FB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QUFBLEdBQUE7QUFBQSxhQUFBLGVBQUEsR0FBQSxDQUFBO0FBQUE7QUFBQSxHQUFBO0FBQUEsQ0FBQTs7OztBQUNBLE9BQUEsSUFBQSxDQUFBLGNBQUEsRUFBQSxPQUFBLENBQUEsVUFBQSxHQUFBLEVBQUE7QUFBQSxNQUFBLFFBQUEsU0FBQSxJQUFBLFFBQUEsWUFBQSxFQUFBO0FBQUEsU0FBQSxjQUFBLENBQUEsT0FBQSxFQUFBLEdBQUEsRUFBQTtBQUFBLGdCQUFBLElBQUE7QUFBQSxTQUFBLFNBQUEsR0FBQSxHQUFBO0FBQUEsYUFBQSxlQUFBLEdBQUEsQ0FBQTtBQUFBO0FBQUEsR0FBQTtBQUFBLENBQUE7Ozs7QUFDQSxPQUFBLElBQUEsQ0FBQSxjQUFBLEVBQUEsT0FBQSxDQUFBLFVBQUEsR0FBQSxFQUFBO0FBQUEsTUFBQSxRQUFBLFNBQUEsSUFBQSxRQUFBLFlBQUEsRUFBQTtBQUFBLFNBQUEsY0FBQSxDQUFBLE9BQUEsRUFBQSxHQUFBLEVBQUE7QUFBQSxnQkFBQSxJQUFBO0FBQUEsU0FBQSxTQUFBLEdBQUEsR0FBQTtBQUFBLGFBQUEsZUFBQSxHQUFBLENBQUE7QUFBQTtBQUFBLEdBQUE7QUFBQSxDQUFBOzs7O0FBQ0EsT0FBQSxJQUFBLENBQUEsb0JBQUEsRUFBQSxPQUFBLENBQUEsVUFBQSxHQUFBLEVBQUE7QUFBQSxNQUFBLFFBQUEsU0FBQSxJQUFBLFFBQUEsWUFBQSxFQUFBO0FBQUEsU0FBQSxjQUFBLENBQUEsT0FBQSxFQUFBLEdBQUEsRUFBQTtBQUFBLGdCQUFBLElBQUE7QUFBQSxTQUFBLFNBQUEsR0FBQSxHQUFBO0FBQUEsYUFBQSxxQkFBQSxHQUFBLENBQUE7QUFBQTtBQUFBLEdBQUE7QUFBQSxDQUFBOzs7O0FBQ0EsT0FBQSxJQUFBLENBQUEsYUFBQSxFQUFBLE9BQUEsQ0FBQSxVQUFBLEdBQUEsRUFBQTtBQUFBLE1BQUEsUUFBQSxTQUFBLElBQUEsUUFBQSxZQUFBLEVBQUE7QUFBQSxTQUFBLGNBQUEsQ0FBQSxPQUFBLEVBQUEsR0FBQSxFQUFBO0FBQUEsZ0JBQUEsSUFB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QixtQ0FBQTtBQUdqQixzQ0FBa0MsY0FBQSxvQkFBQSxDQUFxQjtBQUh0QztBQUpZLENBQWpDOztBQVdBLElBQU0scUJBQXFCO0FBQ3pCLFNBRHlCLFFBQUE7QUFFekIsVUFBUSxjQUZpQixZQUFBO0FBR3pCLFVBSHlCLEtBQUE7QUFJekIsZ0JBQWMsQ0FBQSx3QkFBQSxFQUFBLDZCQUFBLEVBQUEsdUJBQUE7QUFKVyxDQUEzQjs7UUFXUSxrQixHQUFBLGtCO1FBQW9CLDZCLEdBQUEsNkI7UUFBK0IsdUIsR0FBQSx1QjtRQUF5Qix3QixHQUFBLHdCIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiZXhwb3J0ICogZnJvbSAnLi9zcmMnO1xuIiwiLyoqXG4gKiBUaGlzIG1vZHVsZSByZS1leHBvcnRzIGFsbCBvZiB0aGUgZXhwb3J0cyBpbiB0aGUgZ3JhZnggZnJhbWV3b3JrLiBUaGlzIG1ha2VzIHRoZSBlbnRpcmUgZnJhbWV3b3JrXG4gKiBjb252ZW5pZW50bHkgYWNjZXNzaWJsZSB2aWEgdGhpcyBzaW5nbGUgbW9kdWxlLlxuICovXG5cbmV4cG9ydCAqIGZyb20gJ2xzbC1hbmltYXRleCc7XG5leHBvcnQgKiBmcm9tICdncmFmeCc7XG5leHBvcnQgKiBmcm9tICdsc2wtcGh5c3gnO1xuXG5leHBvcnQgKiBmcm9tICcuL3NyYy9jb2xsaWRhYmxlLXBoeXNpY3MtbW9kZWwtY29udHJvbGxlcic7XG5leHBvcnQgKiBmcm9tICcuL3NyYy9jb25maWctY29udHJvbGxlcic7XG5leHBvcnQgKiBmcm9tICcuL3NyYy9nYW1lLWNvbnRyb2xsZXInO1xuZXhwb3J0ICogZnJvbSAnLi9zcmMvZ2FtZS1zY2VuZSc7XG5leHBvcnQgKiBmcm9tICcuL3NyYy9pbnB1dC1jb250cm9sbGVyJztcbmV4cG9ydCAqIGZyb20gJy4vc3JjL3BoeXNpY3MtbW9kZWwtY29udHJvbGxlcic7XG5leHBvcnQgKiBmcm9tICcuL3NyYy9zcHJpbmctZm9sbG93LWNhbWVyYSc7XG5cbmV4cG9ydCAqIGZyb20gJy4vd2FsbCc7XG4iLCJpbXBvcnQge1BoeXNpY3NNb2RlbENvbnRyb2xsZXJ9IGZyb20gJy4vcGh5c2ljcy1tb2RlbC1jb250cm9sbGVyJztcbmltcG9ydCB7Q29sbGlkYWJsZVBoeXNpY3NKb2IsIFBoeXNpY3NKb2IsIFBoeXNpY3NTdGF0ZX0gZnJvbSAnbHNsLXBoeXN4JztcblxuLyoqXG4gKiBUaGlzIGNsYXNzIHJlcHJlc2VudHMgYSBjb2xsaWRhYmxlIHBoeXNpY3MtYmFzZWQgbW9kZWwtY29udHJvbGxlci5cbiAqXG4gKiBAYWJzdHJhY3RcbiAqL1xuY2xhc3MgQ29sbGlkYWJsZVBoeXNpY3NNb2RlbENvbnRyb2xsZXIgZXh0ZW5kcyBQaHlzaWNzTW9kZWxDb250cm9sbGVyIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7TW9kZWxDb250cm9sbGVyfE1vZGVsQ29udHJvbGxlckNvbmZpZ30gbW9kZWxDb250cm9sbGVyT3JQYXJhbXNcbiAgICogQHBhcmFtIHtDb2xsaWRhYmxlUGh5c2ljc0pvYnxEeW5hbWljc0NvbmZpZ30gcGh5c2ljc0pvYk9yRHluYW1pY3NQYXJhbXNcbiAgICogQHBhcmFtIHtSZW5kZXJhYmxlU2hhcGVDb25maWd9IFtzaGFwZVBhcmFtc11cbiAgICogQHBhcmFtIHtBcnJheS48Rm9yY2VBcHBsaWVyPn0gZm9yY2VBcHBsaWVyc1xuICAgKi9cbiAgY29uc3RydWN0b3IobW9kZWxDb250cm9sbGVyT3JQYXJhbXMsIHBoeXNpY3NKb2JPckR5bmFtaWNzUGFyYW1zLCBzaGFwZVBhcmFtcywgZm9yY2VBcHBsaWVycykge1xuICAgIHN1cGVyKG1vZGVsQ29udHJvbGxlck9yUGFyYW1zLCBwaHlzaWNzSm9iT3JEeW5hbWljc1BhcmFtcywgc2hhcGVQYXJhbXMsIGZvcmNlQXBwbGllcnMpO1xuXG4gICAgaWYgKHBoeXNpY3NKb2JPckR5bmFtaWNzUGFyYW1zIGluc3RhbmNlb2YgQ29sbGlkYWJsZVBoeXNpY3NKb2IpIHtcbiAgICAgIHRoaXMucGh5c2ljc0pvYiA9IHBoeXNpY3NKb2JPckR5bmFtaWNzUGFyYW1zO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBzdGF0ZSA9IG5ldyBQaHlzaWNzU3RhdGUocGh5c2ljc0pvYk9yRHluYW1pY3NQYXJhbXMpO1xuICAgICAgdGhpcy5waHlzaWNzSm9iID0gbmV3IENvbGxpZGFibGVQaHlzaWNzSm9iKHNoYXBlUGFyYW1zLCBzdGF0ZSwgZm9yY2VBcHBsaWVycywgdGhpcyxcbiAgICAgICAgICBjb2xsaXNpb24gPT4gdGhpcy5oYW5kbGVDb2xsaXNpb24oY29sbGlzaW9uKSk7XG4gICAgfVxuXG4gICAgLy8gQ29sbGlkYWJsZVBoeXNpY3NNb2RlbENvbnRyb2xsZXIgaXMgYW4gYWJzdHJhY3QgY2xhc3MuIEl0IHNob3VsZCBub3QgYmUgaW5zdGFudGlhdGVkIGRpcmVjdGx5LlxuICAgIGlmIChuZXcudGFyZ2V0ID09PSBDb2xsaWRhYmxlUGh5c2ljc01vZGVsQ29udHJvbGxlcikge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNvbnN0cnVjdCBDb2xsaWRhYmxlUGh5c2ljc01vZGVsQ29udHJvbGxlciBpbnN0YW5jZXMgZGlyZWN0bHknKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBjYWxsYmFjayBpcyB0cmlnZ2VyZWQgaW4gcmVzcG9uc2UgdG8gYSBjb2xsaXNpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7Q29sbGlzaW9ufSBjb2xsaXNpb25cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhpcyBuZWVkcyB0aGUgc3RhbmRhcmQgY29sbGlzaW9uIHJlc3RpdHV0aW9uIHRvIHByb2NlZWQuXG4gICAqIEBhYnN0cmFjdFxuICAgKi9cbiAgaGFuZGxlQ29sbGlzaW9uKGNvbGxpc2lvbikge1xuICAgIC8vIEV4dGVuZGluZyBjbGFzc2VzIHNob3VsZCBpbXBsZW1lbnQgdGhpcyBtZXRob2QuXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTWV0aG9kIG5vdCBpbXBsZW1lbnRlZCcpO1xuICB9XG59XG5cbmV4cG9ydCB7Q29sbGlkYWJsZVBoeXNpY3NNb2RlbENvbnRyb2xsZXJ9O1xuXG4vKipcbiAqIEB0eXBlZGVmIHtSZW5kZXJhYmxlU2hhcGVDb25maWcmQ29sbGlkYWJsZVNoYXBlQ29uZmlnfSBSZW5kZXJhYmxlQW5kQ29sbGlkYWJsZVNoYXBlQ29uZmlnXG4gKi9cbiIsImltcG9ydCB7XG4gIGNyZWF0ZUhzbENvbG9yU3RyaW5nLFxuICBkZWJvdW5jZSxcbiAgZmluZCxcbiAgZ2V0Vmlld3BvcnRTaXplLFxuICBoc2xUb0hzdixcbiAgaHN2VG9Ic2wsXG4gIGhzbFRvUmdiLFxuICBpc0ludCxcbn0gZnJvbSAnZ3JhZngnO1xuXG5jb25zdCBfU01BTExfU0NSRUVOX1dJRFRIX1RIUkVTSE9MRCA9IDgwMDtcblxuLyoqXG4gKiBUaGlzIHRvcC1sZXZlbCBDb25maWdDb250cm9sbGVyIGNsYXNzIHdyYXBzIHRoZSBkYXQuR1VJIGxpYnJhcnkgYW5kIHByb3ZpZGVzIGhpZ2hlci1sZXZlbFxuICogY29uZmlndXJhdGlvbiBmdW5jdGlvbmFsaXR5LlxuICpcbiAqICMjIENvbmZpZ3VyaW5nIFBhcmFtZXRlcnNcbiAqXG4gKiBDb25zdW1lcnMgb2YgdGhpcyBtb2R1bGUgd2lsbCBuZWVkIHRvIHNwZWNpZnkgY29uZmlndXJhdGlvbiBwYXJhbWV0ZXJzIHdpdGggYSBjZXJ0YWluIGZvcm0uIEZvclxuICogZWFjaCBwcm9wZXJ0eSBvbiBhIGNvbmZpZyBvYmplY3QsIGFuIGl0ZW0gd2lsbCBiZSBjcmVhdGVkIGluIHRoZSBjb3JyZXNwb25kaW5nIGRhdC5HVUkgZm9sZGVyLlxuICogVGhlIHR5cGUgYW5kIHNwZWNpZmljcyBvZiB0aGUgbWVudSBpdGVtIGRlcGVuZHMgb24gdGhlIHZhbHVlIGFzc2lnbmVkIHRvIHRoZSBjb25maWcgcHJvcGVydHk6XG4gKlxuICogLSBUb2dnbGUgaXRlbTpcbiAqICAgLSBDcmVhdGVkIGlmIHRoZSBjb25maWcgcHJvcGVydHkgaXMgYSBib29sZWFuLlxuICogLSBUcmlnZ2VyIGl0ZW06XG4gKiAgIC0gQ3JlYXRlZCBpZiB0aGUgY29uZmlnIHByb3BlcnR5IGlzIGEgZnVuY3Rpb24uXG4gKiAtIFNsaWRlciBpdGVtOlxuICogICAtIENyZWF0ZWQgaWYgdGhlIGNvbmZpZyBwcm9wZXJ0eSBpcyBhbiBvYmplY3Qgd2l0aCAnbWluJywgJ21heCcsIGFuZCAnc3RhcnQnIHByb3BlcnRpZXMuXG4gKiAgIC0gV2hlbiB0aGUgY29uZmlnIG9iamVjdCBpcyBwYXJzZWQsIHRoaXMgaW5pdGlhbCBjb25maWcgb2JqZWN0IHdpbGwgYmUgcmVtb3ZlZCBhbmQgcmVwbGFjZWRcbiAqICAgICB3aXRoIG9ubHkgdGhlIGN1cnJlbnQgYWN0dWFsIHZhbHVlLlxuICogICAtIFRoZSBpbnRlcnZhbHMgb2YgdGhlIHNsaWRlciBhcmUgYXV0b21hdGljYWxseSBkZXRlcm1pbmVkIGJ5IHRoZSBkYXQuR1VJIGxpYnJhcnkgYW5kIGRlcGVuZCBvblxuICogICAgIHRoZSB0eXBlIG9mIHRoZSAnbWluJy8nbWF4Jy8ndmFsdWUnIHByb3BlcnRpZXMgKGludCB2cyBmbG9hdCkuIFNlZSB0aGUgZGF0LkdVSSBkb2N1bWVudGF0aW9uXG4gKiAgICAgZm9yIG1vcmUgaW5mby5cbiAqIC0gQ29sb3IgaXRlbTpcbiAqICAgLSBDcmVhdGVkIGlmIHRoZSBjb25maWcgcHJvcGVydHkgaXMgYW4gb2JqZWN0IHdpdGggJ2gnLydzJy8nbCcgcHJvcGVydGllcy5cbiAqICAgLSBXaGVuIHRoZSBjb25maWcgb2JqZWN0IGlzIHBhcnNlZCwgdGhpcyBpbml0aWFsIGNvbmZpZyBvYmplY3Qgd2lsbCBiZSByZXBsYWNlZCB3aXRoIGEgbmV3XG4gKiAgICAgb2JqZWN0IHRoYXQgaGFzICdoJy8ncycvJ3YnIHByb3BlcnRpZXMgYW5kIGFuICdoc2wnIHByb3BlcnR5LCB3aGljaCBpcyBhbiBvYmplY3QgY29udGFpbmluZ1xuICogICAgICdoJy8ncycvJ2wnIHByb3BlcnRpZXMgYW5kIGEgJ2NvbG9yU3RyaW5nJyBwcm9wZXJ0eSB0aGF0IGNvbnRhaW5zIGEgdmFsaWQgY29sb3Igc3RyaW5nIHRvXG4gKiAgICAgYXNzaWduIHRvIGEgQ1NTIHByb3BlcnR5LlxuICogICAtIEFsbCAnaCcvJ3MnLydsJyBhbmQgJ2gnLydzJy8ndicgdmFsdWVzIHNob3VsZCBiZSBpbiB0aGUgcmFuZ2Ugb2YgWzAsMV0uXG4gKiAtIFRleHQgaXRlbTpcbiAqICAgLSBDcmVhdGVkIGlmIHRoZSBjb25maWcgcHJvcGVydHkgaXMgYSBTdHJpbmcuXG4gKi9cbmNsYXNzIENvbmZpZ0NvbnRyb2xsZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLl9kYXRHdWlXaWR0aCA9IDMwMDtcbiAgICB0aGlzLl9ndWkgPSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdXAgdGhlIGRhdC5HVUkgY29udHJvbGxlci5cbiAgICovXG4gIGluaXRpYWxpemUoKSB7XG4gICAgLy8gQ3JlYXRlIHRoZSBkYXQuR1VJIG1lbnUuXG4gICAgdGhpcy5fY3JlYXRlR3VpSWZOb3RDcmVhdGVkKHRydWUpO1xuICAgIHRoaXMuX2d1aS53aWR0aCA9IHRoaXMuX2RhdEd1aVdpZHRoO1xuXG4gICAgLy8gQXV0b21hdGljYWxseSBjbG9zZSB0aGUgbWVudSBvbiBzbWFsbGVyIHNjcmVlbnMuXG4gICAgLy8gVE9ETzogQ2hlY2sgdGhhdCB0aGUgbWVudSBpcyBjbG9zZWQgaW5pdGlhbGx5ICh3aXRoIG5vIHJlc2l6ZSBldmVudCkgaWYgdGhlIHBhZ2UgbG9hZHMgYXQgdG9vIHNtYWxsIGEgd2lkdGguXG4gICAgY29uc3QgZGVib3VuY2VkUmVzaXplID0gZGVib3VuY2UoKCkgPT4gdGhpcy5fb25SZXNpemUoKSwgMzAwKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgZGVib3VuY2VkUmVzaXplLCBmYWxzZSk7XG4gIH1cblxuICAvKipcbiAgICogQ2xlYXJzIHRoZSBkYXQuR1VJIG1lbnUuXG4gICAqL1xuICBkZXN0cm95KCkge1xuICAgIHRoaXMuX2d1aS5kZXN0cm95KCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtib29sZWFufSBpc0d1aVZpc2libGVcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9jcmVhdGVHdWlJZk5vdENyZWF0ZWQoaXNHdWlWaXNpYmxlKSB7XG4gICAgaWYgKHRoaXMuX2d1aSkge1xuICAgICAgaWYgKGlzR3VpVmlzaWJsZSkge1xuICAgICAgICB0aGlzLl9ndWkuZG9tRWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fZ3VpID0gbmV3IGRhdC5HVUkoKTtcbiAgICAgIGlmICghaXNHdWlWaXNpYmxlKSB7XG4gICAgICAgIHRoaXMuX2d1aS5kb21FbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBmb2xkZXIgd2l0aCB0aGUgZ2l2ZW4gY29uZmlndXJhdGlvbiB1bmRlcm5lYXRoIHRoZSBnaXZlbiBwYXJlbnQgZm9sZGVyLlxuICAgKlxuICAgKiBAcGFyYW0ge01lbnVGb2xkZXJDb25maWd9IGZvbGRlckNvbmZpZ1xuICAgKiBAcGFyYW0ge2RhdC5ndWkuR1VJfSBbcGFyZW50Rm9sZGVyXSBJZiBub3QgZ2l2ZW4sIHRoZSBmb2xkZXIgaXMgY3JlYXRlZCBhdCB0aGUgdG9wIGxldmVsLlxuICAgKiBAcGFyYW0ge09iamVjdH0gW29uQ2hhbmdlTGlzdGVuZXJzXSBBIG1hcCBmcm9tIGxhYmVscyB0byBvbi1jaGFuZ2UgaGFuZGxlcnMuXG4gICAqL1xuICBjcmVhdGVGb2xkZXIoZm9sZGVyQ29uZmlnLCBwYXJlbnRGb2xkZXIsIG9uQ2hhbmdlTGlzdGVuZXJzKSB7XG4gICAgdGhpcy5fY3JlYXRlR3VpSWZOb3RDcmVhdGVkKGZhbHNlKTtcblxuICAgIHBhcmVudEZvbGRlciA9IHBhcmVudEZvbGRlciB8fCB0aGlzLl9ndWk7XG5cbiAgICAvLyBUT0RPOiBDb3B5IHRoZSBvcmlnaW5hbCBjb25maWcgYW5kIHN0b3JlIGl0IHNvbWVob3cgb24gdGhlIGRhdC5HVUkgbWVudSBpdGVtPyBUaGlzIGlzIGltcG9ydGFudCBmb3IgcmVzZXR0aW5nIGNvbmZpZ3MgbGF0ZXIgKGZyb20gdGhlIG90aGVyIGNvbnRyb2xsZXIpLlxuICAgIGNvbnN0IGZvbGRlciA9IHBhcmVudEZvbGRlci5hZGRGb2xkZXIoZm9sZGVyQ29uZmlnLmxhYmVsKTtcblxuICAgIGZvbGRlckNvbmZpZy5mb2xkZXIgPSBmb2xkZXI7XG5cbiAgICB0aGlzLl9jcmVhdGVJdGVtcyhmb2xkZXJDb25maWcpO1xuXG4gICAgLy8gQWRkIGxpc3RlbmVycyBmcm9tIHRoZSBjb25maWcgZmlsZS5cbiAgICB0aGlzLl9hZGRPbkNoYW5nZUxpc3RlbmVycyhmb2xkZXJDb25maWcsIGZvbGRlckNvbmZpZy5vbkNoYW5nZUxpc3RlbmVycywgdHJ1ZSk7XG5cbiAgICAvLyBBZGQgbGlzdGVuZXJzIGZyb20gdGhlIGNhbGxlciBvZiB0aGlzIG1ldGhvZC5cbiAgICB0aGlzLl9hZGRPbkNoYW5nZUxpc3RlbmVycyhmb2xkZXJDb25maWcsIG9uQ2hhbmdlTGlzdGVuZXJzLCBmYWxzZSk7XG5cbiAgICBpZiAoZm9sZGVyQ29uZmlnLmlzT3Blbikge1xuICAgICAgZm9sZGVyLm9wZW4oKTtcbiAgICB9XG5cbiAgICAvLyBSZWN1cnNpdmVseSBjcmVhdGUgZGVzY2VuZGFudCBmb2xkZXJzLlxuICAgIGlmIChmb2xkZXJDb25maWcuY2hpbGRGb2xkZXJzKSB7XG4gICAgICB0aGlzLmNyZWF0ZUZvbGRlcnMoZm9sZGVyQ29uZmlnLmNoaWxkRm9sZGVycywgZm9sZGVyKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtBcnJheS48TWVudUZvbGRlckNvbmZpZz59IGZvbGRlckNvbmZpZ3NcbiAgICogQHBhcmFtIHtkYXQuZ3VpLkdVSX0gcGFyZW50Rm9sZGVyXG4gICAqL1xuICBjcmVhdGVGb2xkZXJzKGZvbGRlckNvbmZpZ3MsIHBhcmVudEZvbGRlcikge1xuICAgIGZvbGRlckNvbmZpZ3MuZm9yRWFjaChmb2xkZXJDb25maWcgPT4gdGhpcy5jcmVhdGVGb2xkZXIoZm9sZGVyQ29uZmlnLCBwYXJlbnRGb2xkZXIpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge01lbnVGb2xkZXJDb25maWd9IGZvbGRlckNvbmZpZ1xuICAgKiBAcGFyYW0ge3N0cmluZ30gbGFiZWxcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAgICovXG4gIGFkZE9uQ2hhbmdlTGlzdGVuZXIoZm9sZGVyQ29uZmlnLCBsYWJlbCwgY2FsbGJhY2spIHtcbiAgICBpZiAoZm9sZGVyQ29uZmlnLml0ZW1zW2xhYmVsXSkge1xuICAgICAgZm9sZGVyQ29uZmlnLml0ZW1zW2xhYmVsXS5vbkNoYW5nZUxpc3RlbmVycy5wdXNoKGNhbGxiYWNrKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS53YXJuKCdBdHRlbXB0aW5nIHRvIGFkZCBvbi1jaGFuZ2UgbGlzdGVuZXIgZm9yIGEgbm9uLWV4aXN0ZW50IGNvbmZpZycsIGxhYmVsLFxuICAgICAgICAgIGZvbGRlckNvbmZpZyk7XG4gICAgfVxuICB9XG5cbiAgaGlkZU1lbnUoKSB7XG4gICAgY29uc29sZS5pbmZvKCdIaWRlIE1lbnUgY2xpY2tlZCcpO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHkgPiAuZGcnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICB9XG5cbiAgLyoqXG4gICAqIE5PVEU6IFRoaXMgaXMgbm90IGlkZW1wb3RlbnQuIFRoaXMgbW9kaWZpZXMgdGhlIG9yaWdpbmFsIGZvbGRlckNvbmZpZy5jb25maWcgb2JqZWN0LlxuICAgKlxuICAgKiBAcGFyYW0ge01lbnVGb2xkZXJDb25maWd9IGZvbGRlckNvbmZpZ1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2NyZWF0ZUl0ZW1zKGZvbGRlckNvbmZpZykge1xuICAgIGZvbGRlckNvbmZpZy5pdGVtcyA9IHt9O1xuXG4gICAgT2JqZWN0LmtleXMoZm9sZGVyQ29uZmlnLmNvbmZpZykuZm9yRWFjaCgoaXRlbUNvbmZpZ0tleSkgPT4ge1xuICAgICAgLy8gRG8gbm90IGV4cG9zZSBpbnRlcm5hbCBjb25maWd1cmF0aW9ucyB0byB0aGUgdXNlci5cbiAgICAgIGlmIChpdGVtQ29uZmlnS2V5LnN1YnN0cigwLCAxKSA9PT0gJ18nKSByZXR1cm47XG5cbiAgICAgIGNvbnN0IGl0ZW1Db25maWcgPSBmb2xkZXJDb25maWcuY29uZmlnW2l0ZW1Db25maWdLZXldO1xuXG4gICAgICAvLyBEZXRlcm1pbmUgd2hpY2ggbWV0aG9kIHRvIHVzZSB0byBjcmVhdGUgdGhlIG1lbnUgaXRlbS5cbiAgICAgIGNvbnN0IHBhaXIgPSBmaW5kKFtcbiAgICAgICAgW0NvbmZpZ0NvbnRyb2xsZXIuaXNUb2dnbGVJdGVtLCBDb25maWdDb250cm9sbGVyLl9jcmVhdGVUb2dnbGVJdGVtXSxcbiAgICAgICAgW0NvbmZpZ0NvbnRyb2xsZXIuaXNUcmlnZ2VySXRlbSwgQ29uZmlnQ29udHJvbGxlci5fY3JlYXRlVHJpZ2dlckl0ZW1dLFxuICAgICAgICBbQ29uZmlnQ29udHJvbGxlci5pc1NsaWRlckl0ZW0sIENvbmZpZ0NvbnRyb2xsZXIuX2NyZWF0ZVNsaWRlckl0ZW1dLFxuICAgICAgICBbQ29uZmlnQ29udHJvbGxlci5pc051bWJlckl0ZW0sIENvbmZpZ0NvbnRyb2xsZXIuX2NyZWF0ZU51bWJlckl0ZW1dLFxuICAgICAgICBbQ29uZmlnQ29udHJvbGxlci5pc0hzbENvbG9ySXRlbSwgQ29uZmlnQ29udHJvbGxlci5fY3JlYXRlSHNsQ29sb3JJdGVtXSxcbiAgICAgICAgW0NvbmZpZ0NvbnRyb2xsZXIuaXNUZXh0SXRlbSwgQ29uZmlnQ29udHJvbGxlci5fY3JlYXRlVGV4dEl0ZW1dLFxuICAgICAgICBbQ29uZmlnQ29udHJvbGxlci5pc1N0cmluZ1NlbGVjdG9ySXRlbSwgQ29uZmlnQ29udHJvbGxlci5fY3JlYXRlU3RyaW5nU2VsZWN0b3JJdGVtXSxcbiAgICAgICAgW0NvbmZpZ0NvbnRyb2xsZXIuaXNWZWMzTnVtYmVySXRlbSwgQ29uZmlnQ29udHJvbGxlci5fY3JlYXRlVmVjM051bWJlckl0ZW1zXSxcbiAgICAgICAgW0NvbmZpZ0NvbnRyb2xsZXIuaXNWZWMzU2xpZGVySXRlbSwgQ29uZmlnQ29udHJvbGxlci5fY3JlYXRlVmVjM1NsaWRlckl0ZW1zXSxcbiAgICAgIF0sIChwYWlyKSA9PiBwYWlyWzBdKGl0ZW1Db25maWcpKTtcbiAgICAgIGlmICghcGFpcikge1xuICAgICAgICBjb25zb2xlLndhcm4oJ1VucmVjb2duaXplZCBjb25maWcgdHlwZScsIGl0ZW1Db25maWcpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBtZW51SXRlbUNyZWF0b3IgPSBwYWlyWzFdO1xuXG4gICAgICAvLyBDcmVhdGUgdGhlIGFjdHVhbCBkYXQuR1VJIG1lbnUgaXRlbSBhbmQgc2F2ZSBhIHJlZmVyZW5jZSB0byBpdC5cbiAgICAgIGNvbnN0IG1lbnVJdGVtRGF0YSA9IG1lbnVJdGVtQ3JlYXRvci5jYWxsKHRoaXMsIGZvbGRlckNvbmZpZy5jb25maWcsXG4gICAgICAgICAgaXRlbUNvbmZpZ0tleSwgaXRlbUNvbmZpZywgZm9sZGVyQ29uZmlnLmZvbGRlcik7XG4gICAgICBpZiAobWVudUl0ZW1EYXRhIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgY29uc3QgcGFyZW50TWVudUl0ZW1EYXRhID0ge29uQ2hhbmdlTGlzdGVuZXJzOiBbXX07XG5cbiAgICAgICAgLy8gUmVjb3JkIHRoZSBpbmRpdmlkdWFsIHN1Yi1pdGVtcy5cbiAgICAgICAgbWVudUl0ZW1EYXRhLmZvckVhY2goZGF0YSA9PiB7XG4gICAgICAgICAgZm9sZGVyQ29uZmlnLml0ZW1zW2RhdGEubGFiZWxdID0gZGF0YTtcblxuICAgICAgICAgIC8vIEhvb2sgdXAgdGhlIChwYXJlbnQgaXRlbSdzKSBvbkNoYW5nZSBsaXN0ZW5lcnMuXG4gICAgICAgICAgZGF0YS5tZW51SXRlbS5vbkNoYW5nZSgoKSA9PiB7XG4gICAgICAgICAgICBkYXRhLm9uQ2hhbmdlTGlzdGVuZXJzLmZvckVhY2goY2FsbGJhY2sgPT4gY2FsbGJhY2soKSk7XG4gICAgICAgICAgICBwYXJlbnRNZW51SXRlbURhdGEub25DaGFuZ2VMaXN0ZW5lcnMuZm9yRWFjaChjYWxsYmFjayA9PiBjYWxsYmFjaygpKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gUmVjb3JkIHRoZSBwYXJlbnQgaXRlbS5cbiAgICAgICAgZm9sZGVyQ29uZmlnLml0ZW1zW2l0ZW1Db25maWdLZXldID0gcGFyZW50TWVudUl0ZW1EYXRhO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9sZGVyQ29uZmlnLml0ZW1zW2l0ZW1Db25maWdLZXldID0gbWVudUl0ZW1EYXRhO1xuXG4gICAgICAgIC8vIEhvb2sgdXAgdGhlIG9uQ2hhbmdlIGxpc3RlbmVycy5cbiAgICAgICAgbWVudUl0ZW1EYXRhLm1lbnVJdGVtLm9uQ2hhbmdlKCgpID0+XG4gICAgICAgICAgICBtZW51SXRlbURhdGEub25DaGFuZ2VMaXN0ZW5lcnMuZm9yRWFjaChjYWxsYmFjayA9PiBjYWxsYmFjaygpKSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtNZW51Rm9sZGVyQ29uZmlnfSBmb2xkZXJDb25maWdcbiAgICogQHBhcmFtIHtPYmplY3R9IG9uQ2hhbmdlTGlzdGVuZXJzIEEgbWFwIGZyb20gbGFiZWxzIHRvIG9uLWNoYW5nZSBldmVudCBoYW5kbGVycy5cbiAgICogQHBhcmFtIHtib29sZWFufSBtYWtlSW5pdGlhbENhbGxUb0xpc3RlbmVyc1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2FkZE9uQ2hhbmdlTGlzdGVuZXJzKGZvbGRlckNvbmZpZywgb25DaGFuZ2VMaXN0ZW5lcnMsIG1ha2VJbml0aWFsQ2FsbFRvTGlzdGVuZXJzKSB7XG4gICAgaWYgKG9uQ2hhbmdlTGlzdGVuZXJzKSB7XG4gICAgICBPYmplY3Qua2V5cyhvbkNoYW5nZUxpc3RlbmVycykuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICBjb25zdCBvbkNoYW5nZUhhbmRsZXIgPSBvbkNoYW5nZUxpc3RlbmVyc1trZXldO1xuICAgICAgICBjb25maWdDb250cm9sbGVyLmFkZE9uQ2hhbmdlTGlzdGVuZXIoZm9sZGVyQ29uZmlnLCBrZXksIG9uQ2hhbmdlSGFuZGxlcik7XG4gICAgICAgIGlmIChtYWtlSW5pdGlhbENhbGxUb0xpc3RlbmVycykge1xuICAgICAgICAgIG9uQ2hhbmdlSGFuZGxlcigpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2xvc2UgdGhlIG1lbnUgb24gc21hbGxlciBzY3JlZW5zLlxuICAgKi9cbiAgX29uUmVzaXplKCkge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgaWYgKGdldFZpZXdwb3J0U2l6ZSgpIDwgX1NNQUxMX1NDUkVFTl9XSURUSF9USFJFU0hPTEQpIHtcbiAgICAgICAgdGhpcy5fZ3VpLmNsb3NlKCk7XG4gICAgICB9XG4gICAgfSwgMTApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdPYmplY3RcbiAgICogQHBhcmFtIHtzdHJpbmd9IGxhYmVsXG4gICAqIEBwYXJhbSB7VG9nZ2xlTWVudUl0ZW1Db25maWd9IGl0ZW1Db25maWdcbiAgICogQHBhcmFtIHtkYXQuZ3VpLkdVSX0gZm9sZGVyXG4gICAqIEByZXR1cm5zIHtNZW51SXRlbURhdGF9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBzdGF0aWMgX2NyZWF0ZVRvZ2dsZUl0ZW0oY29uZmlnT2JqZWN0LCBsYWJlbCwgaXRlbUNvbmZpZywgZm9sZGVyKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1lbnVJdGVtOiBmb2xkZXIuYWRkKGNvbmZpZ09iamVjdCwgbGFiZWwpLFxuICAgICAgb25DaGFuZ2VMaXN0ZW5lcnM6IFtdXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnT2JqZWN0XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBsYWJlbFxuICAgKiBAcGFyYW0ge1RyaWdnZXJNZW51SXRlbUNvbmZpZ30gaXRlbUNvbmZpZ1xuICAgKiBAcGFyYW0ge2RhdC5ndWkuR1VJfSBmb2xkZXJcbiAgICogQHJldHVybnMge01lbnVJdGVtRGF0YX1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHN0YXRpYyBfY3JlYXRlVHJpZ2dlckl0ZW0oY29uZmlnT2JqZWN0LCBsYWJlbCwgaXRlbUNvbmZpZywgZm9sZGVyKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1lbnVJdGVtOiBmb2xkZXIuYWRkKGNvbmZpZ09iamVjdCwgbGFiZWwpLFxuICAgICAgb25DaGFuZ2VMaXN0ZW5lcnM6IFtdXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnT2JqZWN0XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBsYWJlbFxuICAgKiBAcGFyYW0ge1NsaWRlck1lbnVJdGVtQ29uZmlnfSBpdGVtQ29uZmlnXG4gICAqIEBwYXJhbSB7ZGF0Lmd1aS5HVUl9IGZvbGRlclxuICAgKiBAcmV0dXJucyB7TWVudUl0ZW1EYXRhfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc3RhdGljIF9jcmVhdGVTbGlkZXJJdGVtKGNvbmZpZ09iamVjdCwgbGFiZWwsIGl0ZW1Db25maWcsIGZvbGRlcikge1xuICAgIC8vIFJlcGxhY2UgdGhlIG9yaWdpbmFsIGl0ZW1Db25maWcgb24gdGhlIGNvbmZpZ09iamVjdCB3aXRoIHRoZSBhY3R1YWwgc3RhcnRpbmcgdmFsdWUuXG4gICAgY29uZmlnT2JqZWN0W2xhYmVsXSA9IGl0ZW1Db25maWcuc3RhcnQ7XG5cbiAgICBjb25zdCBsaXN0ZW5lcnMgPSBpc0ludChpdGVtQ29uZmlnLm1pbikgJiYgaXNJbnQoaXRlbUNvbmZpZy5tYXgpXG4gICAgICAgID8gW0NvbmZpZ0NvbnRyb2xsZXIuX3RydW5jYXRlVG9JbnQuYmluZChudWxsLCBjb25maWdPYmplY3QsIGxhYmVsKV1cbiAgICAgICAgOiBbXTtcblxuICAgIC8vIENyZWF0ZSB0aGUgbWVudSBpdGVtLlxuICAgIHJldHVybiB7XG4gICAgICBtZW51SXRlbTogZm9sZGVyLmFkZChjb25maWdPYmplY3QsIGxhYmVsLCBpdGVtQ29uZmlnLm1pbiwgaXRlbUNvbmZpZy5tYXgpLFxuICAgICAgb25DaGFuZ2VMaXN0ZW5lcnM6IGxpc3RlbmVyc1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZ09iamVjdFxuICAgKiBAcGFyYW0ge3N0cmluZ30gbGFiZWxcbiAgICogQHBhcmFtIHtOdW1iZXJNZW51SXRlbUNvbmZpZ30gaXRlbUNvbmZpZ1xuICAgKiBAcGFyYW0ge2RhdC5ndWkuR1VJfSBmb2xkZXJcbiAgICogQHJldHVybnMge01lbnVJdGVtRGF0YX1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHN0YXRpYyBfY3JlYXRlTnVtYmVySXRlbShjb25maWdPYmplY3QsIGxhYmVsLCBpdGVtQ29uZmlnLCBmb2xkZXIpIHtcbiAgICAvLyBDcmVhdGUgdGhlIG1lbnUgaXRlbS5cbiAgICByZXR1cm4ge1xuICAgICAgbWVudUl0ZW06IGZvbGRlci5hZGQoY29uZmlnT2JqZWN0LCBsYWJlbCksXG4gICAgICBvbkNoYW5nZUxpc3RlbmVyczogW11cbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgaXMgdXNlZCB0byBmb3JjZSBpbnQgc2xpZGVycyB0byBvbmx5IHByb2R1Y2UgaW50cy5cbiAgICpcbiAgICogVGhpcyBzaG91bGRuJ3QgYmUgbmVlZGVkLCBidXQgZGF0LkdVSSBkb2Vzbid0IHNlZW0gdG8gYmUgYmVoYXZpbmcgY29uc2lzdGVudGx5LlxuICAgKlxuICAgKiBAcGFyYW0gY29uZmlnT2JqZWN0XG4gICAqIEBwYXJhbSBsYWJlbFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc3RhdGljIF90cnVuY2F0ZVRvSW50KGNvbmZpZ09iamVjdCwgbGFiZWwpIHtcbiAgICBjb25maWdPYmplY3RbbGFiZWxdID0gcGFyc2VJbnQoY29uZmlnT2JqZWN0W2xhYmVsXSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZ09iamVjdFxuICAgKiBAcGFyYW0ge3N0cmluZ30gbGFiZWxcbiAgICogQHBhcmFtIHtIc2xDb2xvck1lbnVJdGVtQ29uZmlnfSBpdGVtQ29uZmlnXG4gICAqIEBwYXJhbSB7ZGF0Lmd1aS5HVUl9IGZvbGRlclxuICAgKiBAcmV0dXJucyB7TWVudUl0ZW1EYXRhfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc3RhdGljIF9jcmVhdGVIc2xDb2xvckl0ZW0oY29uZmlnT2JqZWN0LCBsYWJlbCwgaXRlbUNvbmZpZywgZm9sZGVyKSB7XG4gICAgLy8gQ3JlYXRlIHRoZSBwcm9wZXJ0eSB0aGF0IHRoZSBtZW51IGl0ZW0gd2lsbCB1c2UuXG4gICAgaXRlbUNvbmZpZyA9IGhzbFRvSHN2KGl0ZW1Db25maWcpO1xuICAgIGNvbmZpZ09iamVjdFtsYWJlbF0gPSBpdGVtQ29uZmlnO1xuXG4gICAgLy8gU2V0IHVwIGEgbGlzdGVuZXIgdGhhdCB3aWxsIGtlZXAgZGVyaXZlZCBIU0wgdmFsdWVzIGluIHN5bmMgd2l0aCB0aGUgbmF0aXZlIEhTViB2YWx1ZXMgdXNlZFxuICAgIC8vIGJ5IHRoZSBkYXQuR1VJIG1lbnUgaXRlbS5cbiAgICBjb25zdCBjYWxjdWxhdGVIc2xWYWx1ZXMgPSAoKSA9PiB7XG4gICAgICBjb25zdCBoc2wgPSBoc3ZUb0hzbChjb25maWdPYmplY3RbbGFiZWxdKTtcbiAgICAgIGNvbnN0IHJnYiA9IGhzbFRvUmdiKGhzbCk7XG4gICAgICBpdGVtQ29uZmlnLmhzbCA9IGhzbDtcbiAgICAgIGl0ZW1Db25maWcucmdiID0gcmdiO1xuICAgICAgaXRlbUNvbmZpZy5yZ2JWZWMgPSB2ZWMzLmZyb21WYWx1ZXMocmdiLnIsIHJnYi5nLCByZ2IuYik7XG4gICAgICBpdGVtQ29uZmlnLmhzbC5jb2xvclN0cmluZyA9IGNyZWF0ZUhzbENvbG9yU3RyaW5nKGhzbCk7XG4gICAgfTtcbiAgICBjYWxjdWxhdGVIc2xWYWx1ZXMoKTtcblxuICAgIC8vIENyZWF0ZSB0aGUgbWVudSBpdGVtLlxuICAgIHJldHVybiB7XG4gICAgICBtZW51SXRlbTogZm9sZGVyLmFkZENvbG9yKGNvbmZpZ09iamVjdCwgbGFiZWwpLFxuICAgICAgb25DaGFuZ2VMaXN0ZW5lcnM6IFtjYWxjdWxhdGVIc2xWYWx1ZXNdXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnT2JqZWN0XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBsYWJlbFxuICAgKiBAcGFyYW0ge1RleHRNZW51SXRlbUNvbmZpZ30gaXRlbUNvbmZpZ1xuICAgKiBAcGFyYW0ge2RhdC5ndWkuR1VJfSBmb2xkZXJcbiAgICogQHJldHVybnMge01lbnVJdGVtRGF0YX1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHN0YXRpYyBfY3JlYXRlVGV4dEl0ZW0oY29uZmlnT2JqZWN0LCBsYWJlbCwgaXRlbUNvbmZpZywgZm9sZGVyKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1lbnVJdGVtOiBmb2xkZXIuYWRkKGNvbmZpZ09iamVjdCwgbGFiZWwpLFxuICAgICAgb25DaGFuZ2VMaXN0ZW5lcnM6IFtdXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnT2JqZWN0XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBsYWJlbFxuICAgKiBAcGFyYW0ge1ZlYzNOdW1iZXJNZW51SXRlbUNvbmZpZ30gaXRlbUNvbmZpZ1xuICAgKiBAcGFyYW0ge2RhdC5ndWkuR1VJfSBmb2xkZXJcbiAgICogQHJldHVybnMge0FycmF5LjxNZW51SXRlbURhdGE+fVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc3RhdGljIF9jcmVhdGVWZWMzTnVtYmVySXRlbXMoY29uZmlnT2JqZWN0LCBsYWJlbCwgaXRlbUNvbmZpZywgZm9sZGVyKSB7XG4gICAgY29uc3QgeExhYmVsID0gYCR7bGFiZWx9WGA7XG4gICAgY29uc3QgeUxhYmVsID0gYCR7bGFiZWx9WWA7XG4gICAgY29uc3QgekxhYmVsID0gYCR7bGFiZWx9WmA7XG5cbiAgICAvLyBTZXQgdXAgYSBsaXN0ZW5lciB0aGF0IHdpbGwga2VlcCB0aGUgZGVyaXZlZCB2ZWMzIGluIHN5bmMgd2l0aCBpdHMgaW5kaXZpZHVhbCBjb29yZGluYXRlcy5cbiAgICBjb25zdCBfdXBkYXRlVmVjMyA9ICgpID0+IHZlYzMuc2V0KGl0ZW1Db25maWcsIGNvbmZpZ09iamVjdFt4TGFiZWxdLCBjb25maWdPYmplY3RbeUxhYmVsXSxcbiAgICAgICAgY29uZmlnT2JqZWN0W3pMYWJlbF0pO1xuXG4gICAgcmV0dXJuIFtcbiAgICAgIFswLCB4TGFiZWxdLFxuICAgICAgWzEsIHlMYWJlbF0sXG4gICAgICBbMiwgekxhYmVsXVxuICAgIF0ubWFwKGluZGV4QW5kTGFiZWwgPT4ge1xuICAgICAgY29uc3QgaW5kZXggPSBpbmRleEFuZExhYmVsWzBdO1xuICAgICAgY29uc3QgbGFiZWwgPSBpbmRleEFuZExhYmVsWzFdO1xuXG4gICAgICAvLyBDcmVhdGUgdGhlIGluZGl2aWR1YWwgdmVjMyBjb29yZGluYXRlIHByb3BlcnR5IGFuZCBpbml0aWFsIHZhbHVlLlxuICAgICAgY29uZmlnT2JqZWN0W2xhYmVsXSA9IGl0ZW1Db25maWdbaW5kZXhdO1xuXG4gICAgICAvLyBDcmVhdGUgdGhlIGluZGl2aWR1YWwgdmVjMyBjb29yZGluYXRlIG1lbnUgaXRlbS5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIG1lbnVJdGVtOiBmb2xkZXIuYWRkKGNvbmZpZ09iamVjdCwgbGFiZWwpLFxuICAgICAgICBvbkNoYW5nZUxpc3RlbmVyczogW191cGRhdGVWZWMzXSxcbiAgICAgICAgbGFiZWw6IGxhYmVsXG4gICAgICB9O1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdPYmplY3RcbiAgICogQHBhcmFtIHtzdHJpbmd9IGxhYmVsXG4gICAqIEBwYXJhbSB7VmVjM1NsaWRlck1lbnVJdGVtQ29uZmlnfSBpdGVtQ29uZmlnXG4gICAqIEBwYXJhbSB7ZGF0Lmd1aS5HVUl9IGZvbGRlclxuICAgKiBAcmV0dXJucyB7QXJyYXkuPE1lbnVJdGVtRGF0YT59XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBzdGF0aWMgX2NyZWF0ZVZlYzNTbGlkZXJJdGVtcyhjb25maWdPYmplY3QsIGxhYmVsLCBpdGVtQ29uZmlnLCBmb2xkZXIpIHtcbiAgICAvLyBSZXBsYWNlIHRoZSBvcmlnaW5hbCBpdGVtQ29uZmlnIG9uIHRoZSBjb25maWdPYmplY3Qgd2l0aCB0aGUgYWN0dWFsIHN0YXJ0aW5nIHZhbHVlLlxuICAgIGNvbmZpZ09iamVjdFtsYWJlbF0gPSBpdGVtQ29uZmlnLnN0YXJ0O1xuXG4gICAgY29uc3QgeExhYmVsID0gYCR7bGFiZWx9WGA7XG4gICAgY29uc3QgeUxhYmVsID0gYCR7bGFiZWx9WWA7XG4gICAgY29uc3QgekxhYmVsID0gYCR7bGFiZWx9WmA7XG5cbiAgICAvLyBTZXQgdXAgYSBsaXN0ZW5lciB0aGF0IHdpbGwga2VlcCB0aGUgZGVyaXZlZCB2ZWMzIGluIHN5bmMgd2l0aCBpdHMgaW5kaXZpZHVhbCBjb29yZGluYXRlcy5cbiAgICBjb25zdCBfdXBkYXRlVmVjMyA9ICgpID0+IHZlYzMuc2V0KGNvbmZpZ09iamVjdFtsYWJlbF0sIGNvbmZpZ09iamVjdFt4TGFiZWxdLFxuICAgICAgICBjb25maWdPYmplY3RbeUxhYmVsXSwgY29uZmlnT2JqZWN0W3pMYWJlbF0pO1xuXG4gICAgcmV0dXJuIFtcbiAgICAgIFswLCB4TGFiZWxdLFxuICAgICAgWzEsIHlMYWJlbF0sXG4gICAgICBbMiwgekxhYmVsXVxuICAgIF0ubWFwKGluZGV4QW5kTGFiZWwgPT4ge1xuICAgICAgY29uc3QgaW5kZXggPSBpbmRleEFuZExhYmVsWzBdO1xuICAgICAgY29uc3QgbGFiZWwgPSBpbmRleEFuZExhYmVsWzFdO1xuICAgICAgY29uc3Qgc3RhcnQgPSBpdGVtQ29uZmlnLnN0YXJ0W2luZGV4XTtcbiAgICAgIGNvbnN0IG1pbiA9IGl0ZW1Db25maWcubWluW2luZGV4XTtcbiAgICAgIGNvbnN0IG1heCA9IGl0ZW1Db25maWcubWF4W2luZGV4XTtcblxuICAgICAgLy8gQ3JlYXRlIHRoZSBpbmRpdmlkdWFsIHZlYzMgY29vcmRpbmF0ZSBwcm9wZXJ0eSBhbmQgaW5pdGlhbCB2YWx1ZS5cbiAgICAgIGNvbmZpZ09iamVjdFtsYWJlbF0gPSBzdGFydDtcblxuICAgICAgLy8gQ3JlYXRlIHRoZSBpbmRpdmlkdWFsIHZlYzMgY29vcmRpbmF0ZSBtZW51IGl0ZW0uXG4gICAgICByZXR1cm4ge1xuICAgICAgICBtZW51SXRlbTogZm9sZGVyLmFkZChjb25maWdPYmplY3QsIGxhYmVsLCBtaW4sIG1heCksXG4gICAgICAgIG9uQ2hhbmdlTGlzdGVuZXJzOiBbX3VwZGF0ZVZlYzNdLFxuICAgICAgICBsYWJlbDogbGFiZWxcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZ09iamVjdFxuICAgKiBAcGFyYW0ge3N0cmluZ30gbGFiZWxcbiAgICogQHBhcmFtIHtTdHJpbmdTZWxlY3Rvck1lbnVJdGVtQ29uZmlnfSBpdGVtQ29uZmlnXG4gICAqIEBwYXJhbSB7ZGF0Lmd1aS5HVUl9IGZvbGRlclxuICAgKiBAcmV0dXJucyB7TWVudUl0ZW1EYXRhfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc3RhdGljIF9jcmVhdGVTdHJpbmdTZWxlY3Rvckl0ZW0oY29uZmlnT2JqZWN0LCBsYWJlbCwgaXRlbUNvbmZpZywgZm9sZGVyKSB7XG4gICAgLy8gUmVwbGFjZSB0aGUgb3JpZ2luYWwgaXRlbUNvbmZpZyBvbiB0aGUgY29uZmlnT2JqZWN0IHdpdGggdGhlIGFjdHVhbCBzdGFydGluZyB2YWx1ZS5cbiAgICBjb25maWdPYmplY3RbbGFiZWxdID0gaXRlbUNvbmZpZy5zdGFydDtcblxuICAgIHJldHVybiB7XG4gICAgICBtZW51SXRlbTogZm9sZGVyLmFkZChjb25maWdPYmplY3QsIGxhYmVsLCBpdGVtQ29uZmlnLm9wdGlvbnMpLFxuICAgICAgb25DaGFuZ2VMaXN0ZW5lcnM6IFtdXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge01lbnVJdGVtQ29uZmlnfSBpdGVtQ29uZmlnXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgc3RhdGljIGlzVG9nZ2xlSXRlbShpdGVtQ29uZmlnKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBpdGVtQ29uZmlnID09PSAnYm9vbGVhbic7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtNZW51SXRlbUNvbmZpZ30gaXRlbUNvbmZpZ1xuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIHN0YXRpYyBpc1RyaWdnZXJJdGVtKGl0ZW1Db25maWcpIHtcbiAgICByZXR1cm4gdHlwZW9mIGl0ZW1Db25maWcgPT09ICdmdW5jdGlvbic7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtNZW51SXRlbUNvbmZpZ30gaXRlbUNvbmZpZ1xuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIHN0YXRpYyBpc1NsaWRlckl0ZW0oaXRlbUNvbmZpZykge1xuICAgIHJldHVybiB0eXBlb2YgaXRlbUNvbmZpZyA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgdHlwZW9mIGl0ZW1Db25maWcuc3RhcnQgPT09ICdudW1iZXInICYmXG4gICAgICAgIHR5cGVvZiBpdGVtQ29uZmlnLm1pbiA9PT0gJ251bWJlcicgJiZcbiAgICAgICAgdHlwZW9mIGl0ZW1Db25maWcubWF4ID09PSAnbnVtYmVyJztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge01lbnVJdGVtQ29uZmlnfSBpdGVtQ29uZmlnXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgc3RhdGljIGlzTnVtYmVySXRlbShpdGVtQ29uZmlnKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBpdGVtQ29uZmlnID09PSAnbnVtYmVyJztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge01lbnVJdGVtQ29uZmlnfSBpdGVtQ29uZmlnXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgc3RhdGljIGlzSHNsQ29sb3JJdGVtKGl0ZW1Db25maWcpIHtcbiAgICByZXR1cm4gdHlwZW9mIGl0ZW1Db25maWcgPT09ICdvYmplY3QnICYmXG4gICAgICAgIHR5cGVvZiBpdGVtQ29uZmlnLmggPT09ICdudW1iZXInICYmXG4gICAgICAgIHR5cGVvZiBpdGVtQ29uZmlnLnMgPT09ICdudW1iZXInICYmXG4gICAgICAgIHR5cGVvZiBpdGVtQ29uZmlnLmwgPT09ICdudW1iZXInO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7TWVudUl0ZW1Db25maWd9IGl0ZW1Db25maWdcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBzdGF0aWMgaXNUZXh0SXRlbShpdGVtQ29uZmlnKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBpdGVtQ29uZmlnID09PSAnc3RyaW5nJztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge01lbnVJdGVtQ29uZmlnfSBpdGVtQ29uZmlnXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgc3RhdGljIGlzU3RyaW5nU2VsZWN0b3JJdGVtKGl0ZW1Db25maWcpIHtcbiAgICByZXR1cm4gdHlwZW9mIGl0ZW1Db25maWcgPT09ICdvYmplY3QnICYmXG4gICAgICAgIHR5cGVvZiBpdGVtQ29uZmlnLnN0YXJ0ID09PSAnc3RyaW5nJyAmJlxuICAgICAgICBpdGVtQ29uZmlnLm9wdGlvbnMgaW5zdGFuY2VvZiBBcnJheTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge01lbnVJdGVtQ29uZmlnfSBpdGVtQ29uZmlnXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgc3RhdGljIGlzVmVjM051bWJlckl0ZW0oaXRlbUNvbmZpZykge1xuICAgIHJldHVybiAoaXRlbUNvbmZpZyBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSB8fCBpdGVtQ29uZmlnIGluc3RhbmNlb2YgQXJyYXkpICYmXG4gICAgICAgIGl0ZW1Db25maWcubGVuZ3RoID09PSAzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7TWVudUl0ZW1Db25maWd9IGl0ZW1Db25maWdcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBzdGF0aWMgaXNWZWMzU2xpZGVySXRlbShpdGVtQ29uZmlnKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBpdGVtQ29uZmlnID09PSAnb2JqZWN0JyAmJlxuICAgICAgICBDb25maWdDb250cm9sbGVyLmlzVmVjM051bWJlckl0ZW0oaXRlbUNvbmZpZy5zdGFydCkgJiZcbiAgICAgICAgQ29uZmlnQ29udHJvbGxlci5pc1ZlYzNOdW1iZXJJdGVtKGl0ZW1Db25maWcubWluKSAmJlxuICAgICAgICBDb25maWdDb250cm9sbGVyLmlzVmVjM051bWJlckl0ZW0oaXRlbUNvbmZpZy5tYXgpO1xuICB9XG59XG5cbmNvbnN0IGNvbmZpZ0NvbnRyb2xsZXIgPSBuZXcgQ29uZmlnQ29udHJvbGxlcigpO1xuXG5leHBvcnQge2NvbmZpZ0NvbnRyb2xsZXJ9O1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE1lbnVJdGVtRGF0YVxuICogQHByb3BlcnR5IHtkYXQuZ3VpLmNvbnRyb2xsZXJ9IG1lbnVJdGVtIFRoZSBhY3R1YWwgZGF0LkdVSSBtZW51IGl0ZW0uXG4gKiBAcHJvcGVydHkge0FycmF5LjxGdW5jdGlvbj59IG9uQ2hhbmdlTGlzdGVuZXJzIG9uQ2hhbmdlIGxpc3RlbmVycyBmb3IgdGhlIG1lbnUgaXRlbS5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbbGFiZWxdIFRoZSBsYWJlbCB1c2VkIGZvciB0aGUgbWVudSBpdGVtLlxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gTWVudUZvbGRlckNvbmZpZ1xuICogQHByb3BlcnR5IHtzdHJpbmd9IGxhYmVsXG4gKiBAcHJvcGVydHkge09iamVjdH0gY29uZmlnIEEgbWFwIGZyb20gbGFiZWxzIHRvIE1lbnVJdGVtQ29uZmlncy4gQW55IGNvbmZpZyBpdGVtIHdob3NlIGxhYmVsXG4gKiBzdGFydHMgd2l0aCAnXycgd2lsbCBiZSB0cmVhdGVkIGFzIGludGVybmFsIGFuZCB3aWxsIG5vdCBiZSBleHBvc2VkIHRvIHRoZSB1c2VyLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbaXNPcGVuPWZhbHNlXVxuICogQHByb3BlcnR5IHtPYmplY3R9IFtvbkNoYW5nZUxpc3RlbmVyc10gQSBtYXAgZnJvbSBsYWJlbHMgdG8gb24tY2hhbmdlIGV2ZW50IGhhbmRsZXJzLlxuICogQHByb3BlcnR5IHtBcnJheS48TWVudUZvbGRlckNvbmZpZz59IFtjaGlsZEZvbGRlcnNdXG4gKiBAcHJvcGVydHkge09iamVjdH0gW2l0ZW1zXSBBIG1hcCBmcm9tIGxhYmVscyB0byBNZW51SXRlbURhdGFzLlxuICogQHByb3BlcnR5IHtkYXQuZ3VpLkdVSX0gW2ZvbGRlcl0gQ3JlYXRlZCBhbmQgYWRkZWQgYnkgdGhlIENvbmZpZ0NvbnRyb2xsZXIgYWZ0ZXIgcmVnaXN0ZXJpbmcgdGhlXG4gKiBmb2xkZXIuXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7VG9nZ2xlTWVudUl0ZW1Db25maWd8VHJpZ2dlck1lbnVJdGVtQ29uZmlnfFNsaWRlck1lbnVJdGVtQ29uZmlnfE51bWJlck1lbnVJdGVtQ29uZmlnfEhzbENvbG9yTWVudUl0ZW1Db25maWd8VGV4dE1lbnVJdGVtQ29uZmlnfFN0cmluZ1NlbGVjdG9yTWVudUl0ZW1Db25maWd8VmVjM051bWJlck1lbnVJdGVtQ29uZmlnfFZlYzNTbGlkZXJNZW51SXRlbUNvbmZpZ30gTWVudUl0ZW1Db25maWdcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtib29sZWFufSBUb2dnbGVNZW51SXRlbUNvbmZpZ1xuICovXG5cbi8qKlxuICogQHR5cGVkZWYge0Z1bmN0aW9ufSBUcmlnZ2VyTWVudUl0ZW1Db25maWdcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFNsaWRlck1lbnVJdGVtQ29uZmlnXG4gKiBAcHJvcGVydHkge251bWJlcn0gc3RhcnRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtaW5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtYXhcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtudW1iZXJ9IE51bWJlck1lbnVJdGVtQ29uZmlnXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBIc2xDb2xvck1lbnVJdGVtQ29uZmlnXG4gKiBAcHJvcGVydHkge251bWJlcn0gaCBBIHZhbHVlIGZyb20gMCB0byAxLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IHMgQSB2YWx1ZSBmcm9tIDAgdG8gMS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBsIEEgdmFsdWUgZnJvbSAwIHRvIDEuXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7c3RyaW5nfSBUZXh0TWVudUl0ZW1Db25maWdcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFN0cmluZ1NlbGVjdG9yTWVudUl0ZW1Db25maWdcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBzdGFydFxuICogQHByb3BlcnR5IHtBcnJheS48U3RyaW5nPn0gb3B0aW9uc1xuICovXG5cbi8qKlxuICogQHR5cGVkZWYge3ZlYzN9IFZlYzNOdW1iZXJNZW51SXRlbUNvbmZpZ1xuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gVmVjM1NsaWRlck1lbnVJdGVtQ29uZmlnXG4gKiBAcHJvcGVydHkge3ZlYzN9IHN0YXJ0XG4gKiBAcHJvcGVydHkge3ZlYzN9IG1pblxuICogQHByb3BlcnR5IHt2ZWMzfSBtYXhcbiAqL1xuIiwiaW1wb3J0IHsgYW5pbWF0b3IgfSBmcm9tICdsc2wtYW5pbWF0ZXgnO1xuaW1wb3J0IHtcbiAgR3JhZnhDb250cm9sbGVyLFxuICBoYW5kbGVQYWdlRm9jdXNDaGFuZ2UsXG59XG5mcm9tICdncmFmeCc7XG5pbXBvcnQgeyBjb25maWdDb250cm9sbGVyIH0gZnJvbSAnLi9jb25maWctY29udHJvbGxlcic7XG5pbXBvcnQgeyBJbnB1dENvbnRyb2xsZXIgfSBmcm9tICcuL2lucHV0LWNvbnRyb2xsZXInO1xuXG4vKipcbiAqIFRoaXMgdG9wLWxldmVsIENvbnRyb2xsZXIgY2xhc3MgaW5pdGlhbGl6ZXMgYW5kIHJ1bnMgdGhlIHJlc3Qgb2YgdGhlIGFwcC5cbiAqL1xuY2xhc3MgR2FtZUNvbnRyb2xsZXIgZXh0ZW5kcyBHcmFmeENvbnRyb2xsZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgdGhpcy5pc0dhbWVPdmVyID0gdHJ1ZTtcbiAgICB0aGlzLl9pbnB1dEN0cmwgPSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIHRoZSBhcHAuIEFmdGVyIHRoaXMgY29tcGxldGVzIHN1Y2Nlc3NmdWxseSwgY2FsbCBydW4gdG8gYWN0dWFsbHkgc3RhcnQgdGhlIGFwcC5cbiAgICpcbiAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gY2FudmFzXG4gICAqIEBwYXJhbSB7QXJyYXkuPFByb2dyYW1XcmFwcGVyQ29uZmlnPn0gcHJvZ3JhbUNvbmZpZ3MgQ29uZmlndXJhdGlvbnMgZm9yIHByb2dyYW0gd3JhcHBlcnMgdGhhdFxuICAgKiBzaG91bGQgYmUgcHJlLWNhY2hlZCBiZWZvcmUgc3RhcnRpbmcgdGhlIHJlc3Qgb2YgdGhlIGFwcC5cbiAgICogQHBhcmFtIHtBcnJheS48U3RyaW5nPn0gdGV4dHVyZVBhdGhzIFRleHR1cmUgaW1hZ2VzIHRoYXQgc2hvdWxkIGJlIHByZS1jYWNoZWQgYmVmb3JlXG4gICAqIHN0YXJ0aW5nIHRoZSByZXN0IG9mIHRoZSBhcHAuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb24uPFNjZW5lPn0gU2NlbmVJbXBsIEEgY2xhc3MgdGhhdCBleHRlbmRzIEdhbWVTY2VuZS5cbiAgICogQHJldHVybnMge1Byb21pc2V9XG4gICAqL1xuICBpbml0aWFsaXplKGNhbnZhcywgcHJvZ3JhbUNvbmZpZ3MsIHRleHR1cmVQYXRocywgU2NlbmVJbXBsKSB7XG4gICAgdGhpcy5fY2FudmFzID0gY2FudmFzO1xuXG4gICAgY29uZmlnQ29udHJvbGxlci5pbml0aWFsaXplKCk7XG4gICAgdGhpcy5fc2V0VXBJbnB1dCgpO1xuXG4gICAgcmV0dXJuIHN1cGVyLmluaXRpYWxpemUoY2FudmFzLCBwcm9ncmFtQ29uZmlncywgdGV4dHVyZVBhdGhzLCBTY2VuZUltcGwpO1xuICB9XG5cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLl9pbnB1dEN0cmwuZGVzdHJveSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJ1bnMgdGhlIGFwcC4gVGhpcyBzaG91bGQgYmUgY2FsbGVkIGFmdGVyIGluaXRpYWxpemUuXG4gICAqXG4gICAqIEEgZmV3IHRoaW5ncyBoYXBwZW4gaWYgdGhpcyBpcyBydW4gaW4gZGV2IG1vZGU6XG4gICAqIC0gVGhlIGRyYXcgYW5kIHVwZGF0ZSBzdGVwcyBvZiBlYWNoIGZyYW1lIGFyZSB3cmFwcGVkIGluIGEgdHJ5L2NhdGNoIGJsb2NrLlxuICAgKiAtIFRoaXMgbWV0aG9kIHJldHVybnMgYSBQcm9taXNlIHRoYXQgcmVqZWN0cyBpZiBhbiBlcnJvciBpcyB0aHJvdyBkdXJpbmcgYW55IHVwZGF0ZSBvciBkcmF3XG4gICAqICAgc3RlcCBhbmQgcmVzb2x2ZXMgd2hlbiB0aGlzIGNvbnRyb2xsZXIgaGFzIGZpbmlzaGVkIChjdXJyZW50bHkgbmV2ZXIpXG4gICAqL1xuICBydW4oKSB7XG4gICAgaGFuZGxlUGFnZUZvY3VzQ2hhbmdlKGhhc0ZvY3VzID0+IHRoaXMuX29uUGFnZUZvY3VzQ2hhbmdlKGhhc0ZvY3VzKSk7XG4gICAgc3VwZXIucnVuKCk7XG4gIH1cblxuICBwYXVzZSgpIHtcbiAgICBhbmltYXRvci5wYXVzZSgpO1xuICB9XG5cbiAgdW5wYXVzZSgpIHtcbiAgICBhbmltYXRvci51bnBhdXNlKCk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBnZXQgaXNQYXVzZWQoKSB7XG4gICAgcmV0dXJuIGFuaW1hdG9yLmlzUGF1c2VkO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaGFzRm9jdXNcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9vblBhZ2VGb2N1c0NoYW5nZShoYXNGb2N1cykge1xuICAgIGlmICghaGFzRm9jdXMpIHtcbiAgICAgIHRoaXMucGF1c2UoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9zZXRVcElucHV0KCkge1xuICAgIHRoaXMuX2lucHV0Q3RybCA9IG5ldyBJbnB1dENvbnRyb2xsZXIoKTtcbiAgICB0aGlzLl9pbnB1dEN0cmwucHJldmVudERlZmF1bHRCcm93c2VyQmVoYXZpb3JGb3JLZXkoJ1NQQUNFJyk7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgdGhlIHNjZW5lLlxuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9uLjxTY2VuZT59IFNjZW5lSW1wbCBBIGNsYXNzIHRoYXQgZXh0ZW5kcyBHYW1lU2NlbmUuXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfVxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBfc2V0VXBTY2VuZShTY2VuZUltcGwpIHtcbiAgICB0aGlzLl9zY2VuZSA9IG5ldyBTY2VuZUltcGwoe1xuICAgICAgZ2w6IHRoaXMuX2dsLFxuICAgICAgZ2V0Vmlld01hdHJpeDogKCkgPT4gdGhpcy5fZ2V0Vmlld01hdHJpeCgpLFxuICAgICAgZ2V0UHJvamVjdGlvbk1hdHJpeDogKCkgPT4gdGhpcy5fZ2V0UHJvamVjdGlvbk1hdHJpeCgpLFxuICAgIH0sIHRoaXMsIHRoaXMuX2lucHV0Q3RybCk7XG4gICAgcmV0dXJuIHRoaXMuX3NjZW5lLmdldElzUmVhZHkoKS50aGVuKCgpID0+IHtcbiAgICAgIHRoaXMuX3NjZW5lLnJlc2V0KCk7XG4gICAgICB0aGlzLl91cGRhdGVBc3BlY3RSYXRpbygpOyAvLyBUT0RPOiBUaGlzIHNob3VsZCBOT1QgaGFwcGVuIGhlcmUgb3IgdXNpbmcgdGhlIGdsVXRpbCBnbG9iYWxzLlxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCB7IEdhbWVDb250cm9sbGVyIH07XG4iLCJpbXBvcnQgeyBTY2VuZSB9IGZyb20gJ2dyYWZ4JztcbmltcG9ydCB7IEFhYmIgfSBmcm9tICdsc2wtcGh5c3gnO1xuXG4vKipcbiAqIFRoaXMgY2xhc3MgaGFuZGxlcyB0aGUgb3ZlcmFsbCBzY2VuZS5cbiAqXG4gKiBAYWJzdHJhY3RcbiAqL1xuY2xhc3MgR2FtZVNjZW5lIGV4dGVuZHMgU2NlbmUge1xuICAvKipcbiAgICogQHBhcmFtIHtNb2RlbEdyb3VwQ29udHJvbGxlckNvbmZpZ30gbW9kZWxDb250cm9sbGVyUGFyYW1zXG4gICAqIEBwYXJhbSB7R2FtZUNvbnRyb2xsZXJ9IGdhbWVDdHJsXG4gICAqIEBwYXJhbSB7SW5wdXRDb250cm9sbGVyfSBpbnB1dEN0cmxcbiAgICogQHBhcmFtIHtudW1iZXJ9IHJlbmRlckRpc3RhbmNlXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihtb2RlbENvbnRyb2xsZXJQYXJhbXMsIGdhbWVDdHJsLCBpbnB1dEN0cmwsIHJlbmRlckRpc3RhbmNlKSB7XG4gICAgc3VwZXIobW9kZWxDb250cm9sbGVyUGFyYW1zKTtcblxuICAgIC8vIEdhbWVTY2VuZSBpcyBhbiBhYnN0cmFjdCBjbGFzcy4gSXQgc2hvdWxkIG5vdCBiZSBpbnN0YW50aWF0ZWQgZGlyZWN0bHkuXG4gICAgaWYgKG5ldy50YXJnZXQgPT09IEdhbWVTY2VuZSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNvbnN0cnVjdCBHYW1lU2NlbmUgaW5zdGFuY2VzIGRpcmVjdGx5Jyk7XG4gICAgfVxuXG4gICAgdGhpcy5fZ2FtZUN0cmwgPSBnYW1lQ3RybDtcbiAgICB0aGlzLl9pbnB1dEN0cmwgPSBpbnB1dEN0cmw7XG4gICAgdGhpcy5fcmVuZGVyRGlzdGFuY2UgPSByZW5kZXJEaXN0YW5jZTtcbiAgICB0aGlzLl9ib3VuZHMgPSBBYWJiLmNyZWF0ZUFzVW5pZm9ybUFyb3VuZENlbnRlcihcbiAgICAgIHZlYzMuZnJvbVZhbHVlcygwLCAwLCAwKSwgdGhpcy5fcmVuZGVyRGlzdGFuY2UpO1xuICB9XG5cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5jZW50ZXJPZlZvbHVtZSA9IHZlYzMuZnJvbVZhbHVlcygwLCAwLCAwKTtcbiAgICBzdXBlci5yZXNldCgpO1xuICB9XG5cbiAgLyoqIEByZXR1cm5zIHtBYWJifSAqL1xuICBnZXQgYm91bmRzKCkge1xuICAgIHJldHVybiB0aGlzLl9ib3VuZHM7XG4gIH1cbiAgLyoqIEByZXR1cm5zIHt2ZWMzfSAqL1xuICBnZXQgY2VudGVyT2ZWb2x1bWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2JvdW5kcy5jZW50ZXJPZlZvbHVtZTtcbiAgfVxuICAvKiogQHBhcmFtIHt2ZWMzfSB2YWx1ZSAqL1xuICBzZXQgY2VudGVyT2ZWb2x1bWUodmFsdWUpIHtcbiAgICB0aGlzLl9ib3VuZHMuc2V0QXNVbmlmb3JtQXJvdW5kQ2VudGVyKHZhbHVlLCB0aGlzLl9yZW5kZXJEaXN0YW5jZSk7XG4gIH1cbn1cblxuZXhwb3J0IHsgR2FtZVNjZW5lIH07XG4iLCJpbXBvcnQge2tleUNvZGVzfSBmcm9tICdncmFmeCc7XG5cbi8vIFRPRE86IEZpZ3VyZSBvdXQgaG93IHRvIGNhcHR1cmU6IHRhYiwgc3BhY2UsIGVzY2FwZSwgZW50ZXI7IHByZXZlbnQgdGhlaXIgZGVmYXVsdCBiZWhhdmlvcnMgd2hlblxuLy8gbGlzdGVuZXJzIGhhdmUgYmVlbiByZWdpc3RlcmVkIGZvciB0aGVtLlxuXG4vKipcbiAqIFRoaXMgY2xhc3MgaGFuZGxlcyB1c2VyIGlucHV0LlxuICovXG5jbGFzcyBJbnB1dENvbnRyb2xsZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLl9rZXlEb3duTGlzdGVuZXJzID0ge307XG4gICAgdGhpcy5fa2V5VXBMaXN0ZW5lcnMgPSB7fTtcbiAgICB0aGlzLl9jdXJyZW50bHlQcmVzc2VkS2V5cyA9IHt9O1xuICAgIHRoaXMuX2tleXNUb1ByZXZlbnREZWZhdWx0QnJvd3NlckJlaGF2aW9yRm9yID0ge307XG5cbiAgICB0aGlzLl9tYWluS2V5RG93bkxpc3RlbmVyID0gZXZlbnQgPT4gdGhpcy5faGFuZGxlS2V5RG93bihldmVudCk7XG4gICAgdGhpcy5fbWFpbktleVVwTGlzdGVuZXIgPSBldmVudCA9PiB0aGlzLl9oYW5kbGVLZXlVcChldmVudCk7XG4gICAgdGhpcy5fbWFpbktleVByZXNzTGlzdGVuZXIgPSBldmVudCA9PiB0aGlzLl9oYW5kbGVLZXlQcmVzcyhldmVudCk7XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX21haW5LZXlEb3duTGlzdGVuZXIsIGZhbHNlKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLl9tYWluS2V5VXBMaXN0ZW5lciwgZmFsc2UpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlwcmVzcycsIHRoaXMuX21haW5LZXlQcmVzc0xpc3RlbmVyLCBmYWxzZSk7XG4gIH1cblxuICBkZXN0cm95KCkge1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5fbWFpbktleURvd25MaXN0ZW5lcik7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5fbWFpbktleVVwTGlzdGVuZXIpO1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlwcmVzcycsIHRoaXMuX21haW5LZXlQcmVzc0xpc3RlbmVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWdpc3RlcnMgYSBjYWxsYmFjayB0byBiZSBjYWxsZWQgd2hlbmV2ZXIgdGhlIGdpdmVuIGtleSBpcyBwcmVzc2VkLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5XG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAqL1xuICBhZGRLZXlEb3duTGlzdGVuZXIoa2V5LCBjYWxsYmFjaykge1xuICAgIGxldCBsaXN0ZW5lcnNGb3JLZXkgPSB0aGlzLl9rZXlEb3duTGlzdGVuZXJzW2tleUNvZGVzW2tleV1dO1xuXG4gICAgLy8gTWFrZSBzdXJlIHRoZSBsaXN0ZW5lciBsaXN0IGlzIGluaXRpYWxpemVkIGZvciB0aGlzIGtleS5cbiAgICBpZiAoIWxpc3RlbmVyc0ZvcktleSkge1xuICAgICAgbGlzdGVuZXJzRm9yS2V5ID0gbmV3IFNldCgpO1xuICAgICAgdGhpcy5fa2V5RG93bkxpc3RlbmVyc1trZXlDb2Rlc1trZXldXSA9IGxpc3RlbmVyc0ZvcktleTtcbiAgICB9XG5cbiAgICBsaXN0ZW5lcnNGb3JLZXkuYWRkKGNhbGxiYWNrKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWdpc3RlcnMgYSBjYWxsYmFjayB0byBiZSBjYWxsZWQgd2hlbmV2ZXIgdGhlIGdpdmVuIGtleSBpcyBsaWZ0ZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXlcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAgICovXG4gIGFkZEtleVVwTGlzdGVuZXIoa2V5LCBjYWxsYmFjaykge1xuICAgIGxldCBsaXN0ZW5lcnNGb3JLZXkgPSB0aGlzLl9rZXlVcExpc3RlbmVyc1trZXlDb2Rlc1trZXldXTtcblxuICAgIC8vIE1ha2Ugc3VyZSB0aGUgbGlzdGVuZXIgbGlzdCBpcyBpbml0aWFsaXplZCBmb3IgdGhpcyBrZXkuXG4gICAgaWYgKCFsaXN0ZW5lcnNGb3JLZXkpIHtcbiAgICAgIGxpc3RlbmVyc0ZvcktleSA9IG5ldyBTZXQoKTtcbiAgICAgIHRoaXMuX2tleVVwTGlzdGVuZXJzW2tleUNvZGVzW2tleV1dID0gbGlzdGVuZXJzRm9yS2V5O1xuICAgIH1cblxuICAgIGxpc3RlbmVyc0ZvcktleS5hZGQoY2FsbGJhY2spO1xuICB9XG5cbiAgLyoqXG4gICAqIFVuLXJlZ2lzdGVycyBhIGNhbGxiYWNrIHRvIGJlIGNhbGxlZCB3aGVuZXZlciB0aGUgZ2l2ZW4ga2V5IGlzIHByZXNzZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXlcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAgICovXG4gIHJlbW92ZUtleURvd25MaXN0ZW5lcihrZXksIGNhbGxiYWNrKSB7XG4gICAgdGhpcy5fa2V5RG93bkxpc3RlbmVyc1trZXlDb2Rlc1trZXldXS5kZWxldGUoY2FsbGJhY2spO1xuICB9XG5cbiAgLyoqXG4gICAqIFVuLXJlZ2lzdGVycyBhIGNhbGxiYWNrIHRvIGJlIGNhbGxlZCB3aGVuZXZlciB0aGUgZ2l2ZW4ga2V5IGlzIGxpZnRlZC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgKi9cbiAgcmVtb3ZlS2V5VXBMaXN0ZW5lcihrZXksIGNhbGxiYWNrKSB7XG4gICAgdGhpcy5fa2V5VXBMaXN0ZW5lcnNba2V5Q29kZXNba2V5XV0uZGVsZXRlKGNhbGxiYWNrKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWdpc3RlcnMgdGhlIGdpdmVuIGtleSB0byBwcmV2ZW50IHRoZSBkZWZhdWx0IGJyb3dzZXIgYmVoYXZpb3Igd2hlbiBpdCBpcyBwcmVzc2VkLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5XG4gICAqL1xuICBwcmV2ZW50RGVmYXVsdEJyb3dzZXJCZWhhdmlvckZvcktleShrZXkpIHtcbiAgICB0aGlzLl9rZXlzVG9QcmV2ZW50RGVmYXVsdEJyb3dzZXJCZWhhdmlvckZvcltrZXlDb2Rlc1trZXldXSA9IHRydWU7XG4gIH1cblxuICAvKipcbiAgICogVW4tcmVnaXN0ZXJzIHRoZSBnaXZlbiBrZXkgdG8gcHJldmVudCB0aGUgZGVmYXVsdCBicm93c2VyIGJlaGF2aW9yIHdoZW4gaXQgaXMgcHJlc3NlZC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleVxuICAgKi9cbiAgYWxsb3dEZWZhdWx0QnJvd3NlckJlaGF2aW9yRm9yS2V5KGtleSkge1xuICAgIGRlbGV0ZSB0aGlzLl9rZXlzVG9QcmV2ZW50RGVmYXVsdEJyb3dzZXJCZWhhdmlvckZvcltrZXlDb2Rlc1trZXldXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgdGhlIGdpdmVuIGtleSBpcyBjdXJyZW50bHkgcHJlc3NlZCBkb3duLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5XG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgaXNLZXlDdXJyZW50bHlQcmVzc2VkKGtleSkge1xuICAgIHJldHVybiAhIXRoaXMuX2N1cnJlbnRseVByZXNzZWRLZXlzW2tleUNvZGVzW2tleV1dO1xuICB9XG5cbiAgLyoqXG4gICAqIFNhdmVzIHRoZSBnaXZlbiBrZXkgYXMgYmVpbmcgcHJlc3NlZC5cbiAgICpcbiAgICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBldmVudFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2hhbmRsZUtleURvd24oZXZlbnQpIHtcbiAgICAvLyBJZiB0aGlzIGtleSB3YXMgYWxyZWFkeSBiZWluZyBwcmVzc2VkIGRvd24sIHRoZW4gZG8gbm90aGluZyAod2hlbiBhIGtleSBpcyBoZWxkIGRvd24sIG1hbnlcbiAgICAvLyBrZXlkb3duIGV2ZW50cyBhcmUgYWN0dWFsbHkgdHJpZ2dlcmVkKS5cbiAgICBpZiAodGhpcy5fY3VycmVudGx5UHJlc3NlZEtleXNbZXZlbnQua2V5Q29kZV0pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBNYXJrIHRoaXMga2V5IGFzIGJlaW5nIHByZXNzZWQgZG93bi5cbiAgICB0aGlzLl9jdXJyZW50bHlQcmVzc2VkS2V5c1tldmVudC5rZXlDb2RlXSA9IHRydWU7XG5cbiAgICAvLyBDYWxsIGFueSByZWdpc3RlcmVkIGtleS1kb3duIGxpc3RlbmVycyBmb3IgdGhpcyBrZXkuXG4gICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5fa2V5RG93bkxpc3RlbmVyc1tldmVudC5rZXlDb2RlXTtcbiAgICBpZiAobGlzdGVuZXJzKSB7XG4gICAgICBsaXN0ZW5lcnMuZm9yRWFjaChsaXN0ZW5lciA9PiBsaXN0ZW5lcigpKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2FsbHMgYWxsIGtleS11cCBsaXN0ZW5lcnMgdGhhdCBoYXZlIGJlZW4gcmVnaXN0ZXJlZCBmb3IgdGhlIGdpdmVuIGtleS5cbiAgICpcbiAgICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBldmVudFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2hhbmRsZUtleVVwKGV2ZW50KSB7XG4gICAgLy8gTWFyayB0aGlzIGtleSBhcyBubyBsb25nZXIgYmVpbmcgcHJlc3NlZCBkb3duLlxuICAgIGRlbGV0ZSB0aGlzLl9jdXJyZW50bHlQcmVzc2VkS2V5c1tldmVudC5rZXlDb2RlXTtcblxuICAgIC8vIENhbGwgYW55IHJlZ2lzdGVyZWQga2V5LXVwIGxpc3RlbmVycyBmb3IgdGhpcyBrZXkuXG4gICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5fa2V5VXBMaXN0ZW5lcnNbZXZlbnQua2V5Q29kZV07XG4gICAgaWYgKGxpc3RlbmVycykge1xuICAgICAgbGlzdGVuZXJzLmZvckVhY2gobGlzdGVuZXIgPT4gbGlzdGVuZXIoKSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFByZXZlbnRzIHRoZSBkZWZhdWx0IGJyb3dzZXIgYmVoYXZpb3IgZm9yIGtleXMgdGhhdCBoYXZlIGJlZW4gcmVnaXN0ZXJlZCB0byBwcmV2ZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGV2ZW50XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaGFuZGxlS2V5UHJlc3MoZXZlbnQpIHtcbiAgICBpZiAodGhpcy5fa2V5c1RvUHJldmVudERlZmF1bHRCcm93c2VyQmVoYXZpb3JGb3JbZXZlbnQua2V5Q29kZV0pIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB7SW5wdXRDb250cm9sbGVyfTtcbiIsImltcG9ydCB7aXNJbkRldk1vZGUsIE1vZGVsQ29udHJvbGxlciwgU3RhbmRhcmRNb2RlbENvbnRyb2xsZXIsIHZlYzNUb1N0cmluZ30gZnJvbSAnZ3JhZngnO1xuaW1wb3J0IHtQaHlzaWNzSm9iLCBQaHlzaWNzU3RhdGV9IGZyb20gJ2xzbC1waHlzeCc7XG5cbi8qKlxuICogVGhpcyBjbGFzcyByZXByZXNlbnRzIGEgbm9uLWNvbGxpZGFibGUgcGh5c2ljcy1iYXNlZCBtb2RlbC1jb250cm9sbGVyLlxuICpcbiAqIEl0IHVzZXMgY29tcG9zaXRpb24gdG8gY29udHJvbCBhbiBpbnN0YW5jZSBvZiBhIE1vZGVsQ29udHJvbGxlciBhbG9uZyB3aXRoIGEgY29ycmVzcG9uZGluZ1xuICogaW5zdGFuY2Ugb2YgYSBQaHlzaWNzSm9iLlxuICpcbiAqIEBpbXBsZW1lbnRzIHtNb2RlbENvbnRyb2xsZXJJbnRlcmZhY2V9XG4gKiBAYWJzdHJhY3RcbiAqL1xuY2xhc3MgUGh5c2ljc01vZGVsQ29udHJvbGxlciB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge01vZGVsQ29udHJvbGxlcnxNb2RlbENvbnRyb2xsZXJDb25maWd9IG1vZGVsQ29udHJvbGxlck9yUGFyYW1zXG4gICAqIEBwYXJhbSB7UGh5c2ljc0pvYnxEeW5hbWljc0NvbmZpZ30gcGh5c2ljc0pvYk9yRHluYW1pY3NQYXJhbXNcbiAgICogQHBhcmFtIHtSZW5kZXJhYmxlU2hhcGVDb25maWd9IFtzaGFwZVBhcmFtc11cbiAgICogQHBhcmFtIHtBcnJheS48Rm9yY2VBcHBsaWVyPn0gW2ZvcmNlQXBwbGllcnNdXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihtb2RlbENvbnRyb2xsZXJPclBhcmFtcywgcGh5c2ljc0pvYk9yRHluYW1pY3NQYXJhbXMsIHNoYXBlUGFyYW1zLCBmb3JjZUFwcGxpZXJzKSB7XG4gICAgLy8gUGh5c2ljc01vZGVsQ29udHJvbGxlciBpcyBhbiBhYnN0cmFjdCBjbGFzcy4gSXQgc2hvdWxkIG5vdCBiZSBpbnN0YW50aWF0ZWQgZGlyZWN0bHkuXG4gICAgaWYgKG5ldy50YXJnZXQgPT09IFBoeXNpY3NNb2RlbENvbnRyb2xsZXIpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjb25zdHJ1Y3QgUGh5c2ljc01vZGVsQ29udHJvbGxlciBpbnN0YW5jZXMgZGlyZWN0bHknKTtcbiAgICB9XG5cbiAgICB0aGlzLm1vZGVsQ3RybCA9IG1vZGVsQ29udHJvbGxlck9yUGFyYW1zIGluc3RhbmNlb2YgTW9kZWxDb250cm9sbGVyXG4gICAgICAgID8gbW9kZWxDb250cm9sbGVyT3JQYXJhbXNcbiAgICAgICAgOiBuZXcgU3RhbmRhcmRNb2RlbENvbnRyb2xsZXIobW9kZWxDb250cm9sbGVyT3JQYXJhbXMsIHNoYXBlUGFyYW1zKTtcblxuICAgIGlmIChwaHlzaWNzSm9iT3JEeW5hbWljc1BhcmFtcyBpbnN0YW5jZW9mIFBoeXNpY3NKb2IpIHtcbiAgICAgIHRoaXMucGh5c2ljc0pvYiA9IHBoeXNpY3NKb2JPckR5bmFtaWNzUGFyYW1zO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBzdGF0ZSA9IG5ldyBQaHlzaWNzU3RhdGUocGh5c2ljc0pvYk9yRHluYW1pY3NQYXJhbXMpO1xuICAgICAgdGhpcy5waHlzaWNzSm9iID0gbmV3IFBoeXNpY3NKb2IoZm9yY2VBcHBsaWVycywgc3RhdGUpO1xuICAgIH1cblxuICAgIHRoaXMuX29yaWdpbmFsUG9zaXRpb24gPSB2ZWMzLmNsb25lKHRoaXMucGh5c2ljc0pvYi5jdXJyZW50U3RhdGUucG9zaXRpb24pO1xuXG4gICAgdGhpcy5fcGF0Y2hNb2RlbENvbnRyb2xsZXIoe1xuICAgICAgLyoqXG4gICAgICAgKiBQYXRjaGVzIHRoZSBNb2RlbENvbnRyb2xsZXIncyB1cGRhdGVUcmFuc2Zvcm1zIG1ldGhvZCBpbiBvcmRlciB0byBrZWVwIGl0J3MgbG9jYWwtdHJhbnNmb3JtXG4gICAgICAgKiBtYXRyaXggaW4tc3luYyB3aXRoIHRoZSBQaHlzaWNzSm9iJ3MgcG9zaXRpb24gYW5kIG9yaWVudGF0aW9uLlxuICAgICAgICovXG4gICAgICB1cGRhdGVUcmFuc2Zvcm1zOiAoc3VwZXJWZXJzaW9uKSA9PiB7XG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgTW9kZWxDb250cm9sbGVyJ3MgbG9jYWwtdHJhbnNmb3JtIG1hdHJpeCBhY2NvcmRpbmcgdG8gdGhlIFBoeXNpY3NKb2Inc1xuICAgICAgICAvLyBjdXJyZW50IHBvc2l0aW9uIGFuZCBvcmllbnRhdGlvbi5cbiAgICAgICAgbWF0NC5mcm9tUm90YXRpb25UcmFuc2xhdGlvblNjYWxlKHRoaXMubW9kZWxDdHJsLl9sb2NhbFRyYW5zZm9ybSxcbiAgICAgICAgICAgIHRoaXMucmVuZGVyT3JpZW50YXRpb24sIHRoaXMucmVuZGVyUG9zaXRpb24sXG4gICAgICAgICAgICB0aGlzLm1vZGVsQ3RybC5zY2FsZSk7XG4gICAgICAgIHN1cGVyVmVyc2lvbigpO1xuICAgICAgfSxcbiAgICB9KTtcblxuICAgIGlmIChpc0luRGV2TW9kZSkge1xuICAgICAgY29uc3QgY29udHJvbGxlck5hbWUgPSB0aGlzLmNvbnN0cnVjdG9yLm5hbWUucmVwbGFjZSgnQ29udHJvbGxlcicsICcnKTtcbiAgICAgIGNvbnNvbGUuZGVidWcoYCR7Y29udHJvbGxlck5hbWV9IGNyZWF0ZWQgQCAke3ZlYzNUb1N0cmluZyh0aGlzLnBvc2l0aW9uKX1gKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUGF0Y2hlcyB0aGUgZ2l2ZW4gbWV0aG9kcyBvbiB0aGUgdW5kZXJseWluZyBNb2RlbENvbnRyb2xsZXIuXG4gICAqXG4gICAqIFRoZSBwYXRjaGVkIG1ldGhvZHMgYXJlIHBhc3NlZCB0aGUgb3JpZ2luYWwgb3IgXCJzdXBlclwiIHZlcnNpb24gb2YgdGhlIG1ldGhvZCBhcyB0aGUgZmlyc3RcbiAgICogYXJndW1lbnQ7IHRoZSBub3JtYWwgbWV0aG9kIGFyZ3VtZW50cyBhcmUgcHJvdmlkZWQgYWZ0ZXIuXG4gICAqXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIF9wYXRjaE1vZGVsQ29udHJvbGxlcihwYXRjaGVzKSB7XG4gICAgT2JqZWN0LmtleXMocGF0Y2hlcykuZm9yRWFjaCgobWV0aG9kTmFtZSkgPT4ge1xuICAgICAgY29uc3QgbmV3TWV0aG9kID0gcGF0Y2hlc1ttZXRob2ROYW1lXTtcbiAgICAgIGNvbnN0IHN1cGVyVmVyc2lvbiA9IHRoaXMubW9kZWxDdHJsW21ldGhvZE5hbWVdLmJpbmQodGhpcy5tb2RlbEN0cmwpO1xuICAgICAgdGhpcy5tb2RlbEN0cmxbbWV0aG9kTmFtZV0gPSBuZXdNZXRob2QuYmluZCh0aGlzLm1vZGVsQ3RybCwgc3VwZXJWZXJzaW9uKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWdpc3RlcnMgdGhpcyBjb250cm9sbGVyJ3MgUGh5c2ljc0pvYihzKSB3aXRoIHRoZSBwaHlzaWNzIGVuZ2luZS5cbiAgICovXG4gIHJlc2V0KCkge1xuICAgIHRoaXMubW9kZWxDdHJsLnJlc2V0KCk7XG4gICAgdGhpcy5waHlzaWNzSm9iLnBvc2l0aW9uID0gdGhpcy5fb3JpZ2luYWxQb3NpdGlvbjtcbiAgICB0aGlzLnBoeXNpY3NKb2IuZmluaXNoKCk7XG4gICAgdGhpcy5waHlzaWNzSm9iLnN0YXJ0KCk7XG4gIH1cblxuICAvKipcbiAgICogVW5yZWdpc3RlcnMgdGhpcyBjb250cm9sbGVyJ3MgUGh5c2ljc0pvYihzKSB3aXRoIHRoZSBwaHlzaWNzIGVuZ2luZS5cbiAgICovXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5tb2RlbEN0cmwuZGVzdHJveSgpO1xuICAgIHRoaXMucGh5c2ljc0pvYi5maW5pc2goKTtcbiAgICBpZiAoaXNJbkRldk1vZGUpIHtcbiAgICAgIGNvbnN0IGNvbnRyb2xsZXJOYW1lID0gdGhpcy5jb25zdHJ1Y3Rvci5uYW1lLnJlcGxhY2UoJ0NvbnRyb2xsZXInLCAnJyk7XG4gICAgICBjb25zb2xlLmRlYnVnKGAke2NvbnRyb2xsZXJOYW1lfSBkZXN0cm95ZWQgQCAke3ZlYzNUb1N0cmluZyh0aGlzLnBvc2l0aW9uKX1gKTtcbiAgICB9XG4gIH1cblxuICAvKiogQHBhcmFtIHt2ZWMzfSB2YWx1ZSAqL1xuICBzZXQgcG9zaXRpb24odmFsdWUpIHtcbiAgICB0aGlzLnBoeXNpY3NKb2IucG9zaXRpb24gPSB2YWx1ZTtcbiAgfVxuICAvKiogQHJldHVybnMge3ZlYzN9ICovXG4gIGdldCBwb3NpdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5waHlzaWNzSm9iLmN1cnJlbnRTdGF0ZS5wb3NpdGlvbjtcbiAgfVxuICAvKiogQHJldHVybnMge3F1YXR9ICovXG4gIGdldCBvcmllbnRhdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5waHlzaWNzSm9iLmN1cnJlbnRTdGF0ZS5vcmllbnRhdGlvbjtcbiAgfVxuICAvLyBGSVhNRTogQ2FuIEkgcmVtb3ZlIHRoaXM/XG4gIC8qKiBAcmV0dXJucyB7dmVjM30gKi9cbiAgZ2V0IHZlbG9jaXR5KCkge1xuICAgIHJldHVybiB0aGlzLnBoeXNpY3NKb2IuY3VycmVudFN0YXRlLnZlbG9jaXR5O1xuICB9XG5cbiAgLyoqIEByZXR1cm5zIHt2ZWMzfSAqL1xuICBnZXQgcmVuZGVyUG9zaXRpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMucGh5c2ljc0pvYi5yZW5kZXJTdGF0ZS5wb3NpdGlvbjtcbiAgfVxuICAvKiogQHJldHVybnMge3F1YXR9ICovXG4gIGdldCByZW5kZXJPcmllbnRhdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5waHlzaWNzSm9iLnJlbmRlclN0YXRlLm9yaWVudGF0aW9uO1xuICB9XG4gIC8vIEZJWE1FOiBDYW4gSSByZW1vdmUgdGhpcz9cbiAgLyoqIEByZXR1cm5zIHt2ZWMzfSAqL1xuICBnZXQgcmVuZGVyVmVsb2NpdHkoKSB7XG4gICAgcmV0dXJuIHRoaXMucGh5c2ljc0pvYi5yZW5kZXJTdGF0ZS52ZWxvY2l0eTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7RGVmYXVsdE1vZGVsfVxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBnZXQgX21vZGVsKCkge1xuICAgIHJldHVybiB0aGlzLm1vZGVsQ3RybC5fbW9kZWw7XG4gIH1cbiAgLyoqXG4gICAqIEByZXR1cm5zIHt2ZWMzfVxuICAgKi9cbiAgZ2V0IHNjYWxlKCkge1xuICAgIHJldHVybiB0aGlzLm1vZGVsQ3RybC5zY2FsZTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIHRoaXMgbW9kZWwgY29udHJvbGxlciBpcyByZWFkeSBmb3IgdGhlIGFwcCB0byBydW4uXG4gICAqXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfVxuICAgKi9cbiAgZ2V0SXNSZWFkeSgpIHtcbiAgICByZXR1cm4gdGhpcy5tb2RlbEN0cmwuZ2V0SXNSZWFkeSgpO1xuICB9XG4gIC8qKlxuICAgKiBHZXRzIHRoZSBtb2RlbCB0cmFuc2Zvcm0gbWF0cml4LCBpbiBsb2NhbCBjb29yZGluYXRlcy5cbiAgICpcbiAgICogQHJldHVybnMge21hdDR9XG4gICAqL1xuICBnZXQgbG9jYWxUcmFuc2Zvcm0oKSB7XG4gICAgcmV0dXJuIHRoaXMubW9kZWxDdHJsLmxvY2FsVHJhbnNmb3JtO1xuICB9XG4gIC8qKlxuICAgKiBHZXRzIHRoZSBtb2RlbCB0cmFuc2Zvcm0gbWF0cml4LCBpbiB3b3JsZCBjb29yZGluYXRlcy5cbiAgICpcbiAgICogQHJldHVybnMge21hdDR9XG4gICAqL1xuICBnZXQgd29ybGRUcmFuc2Zvcm0oKSB7XG4gICAgcmV0dXJuIHRoaXMubW9kZWxDdHJsLndvcmxkVHJhbnNmb3JtO1xuICB9XG4gIC8qKlxuICAgKiBDYWxscyB1cGRhdGUsIHVwZGF0ZVRyYW5zZm9ybXMsIGFuZCB1cGRhdGVDaGlsZHJlbi5cbiAgICpcbiAgICogQHBhcmFtIHtET01IaWdoUmVzVGltZVN0YW1wfSBjdXJyZW50VGltZVxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGRlbHRhVGltZVxuICAgKi9cbiAgdXBkYXRlU2VsZkFuZENoaWxkcmVuKGN1cnJlbnRUaW1lLCBkZWx0YVRpbWUpIHtcbiAgICB0aGlzLm1vZGVsQ3RybC51cGRhdGVTZWxmQW5kQ2hpbGRyZW4oY3VycmVudFRpbWUsIGRlbHRhVGltZSk7XG4gIH1cbn1cblxuZXhwb3J0IHtQaHlzaWNzTW9kZWxDb250cm9sbGVyfTtcbiIsImltcG9ydCB7Rm9sbG93Q2FtZXJhfSBmcm9tICdncmFmeCc7XG5cbi8vIFRPRE86IElkZWFsbHksIHRoaXMgd291bGQgdXNlIHRoZSBidWlsdC1pbiBwaHlzaWNzIGVuZ2luZTsgaG93ZXZlciwgd2UgSSB0cmllZCBpbnRlZ3JhdGluZyBpdFxuLy8gYmVmb3JlLCBJIG5vdGljZWQgc29tZSBpbnN0YWJpbGl0eSB3aGVuIG1vdmluZyBhdCBoaWdoIHNwZWVkcy4gVGhpcyBwcm9iYWJseSBoYWQgc29tZXRoaW5nIHRvIGRvXG4vLyB3aXRoIGFjY2Vzc2luZyBkaWZmZXJlbnQgdmVyc2lvbnMgb2YgdGhlIHRhcmdldCBwb3NpdGlvbiAocHJldmlvdXNTdGF0ZSB2cyBjdXJyZW50U3RhdGUgdnNcbi8vIHJlbmRlclN0YXRlKWZvciBmb3JjZS9wb3NpdGlvbiBjYWxjdWxhdGlvbnNcblxuLyoqXG4gKiBUaGlzIGNsYXNzIGRlZmluZXMgYSBzcHJpbmctYmFzZWQgZm9sbG93IGNhbWVyYS5cbiAqXG4gKiBUaGlzIGNhbWVyYSBpcyBwb3NpdGlvbmVkIGF0IGEgcmVsYXRpdmUsIGZsZXhpYmxlIGRpc3RhbmNlIGFuZCByb3RhdGlvbiBmcm9tIHRoZSBvYnNlcnZlZCB0YXJnZXRcbiAqIGFuZCBmb2xsb3dzIHRoZSB0YXJnZXQncyBwb3NpdGlvbiBhbmQgb3JpZW50YXRpb24gd2l0aCBhIHNwcmluZyBmb3JjZSB0eWluZyB0aGUgY2FtZXJhIHRvIHRoZVxuICogZGVzaXJlZCBwb3NpdGlvbi5cbiAqXG4gKiBBIGZvbGxvdyBjYW1lcmEgcm90YXRlcyBpbiBhbGwgdGhyZWUgZGltZW5zaW9uczsgaXQgZG9lcyBub3QgaGF2ZSBhIGZpeGVkIHJvbGwuXG4gKi9cbmNsYXNzIFNwcmluZ0ZvbGxvd0NhbWVyYSBleHRlbmRzIEZvbGxvd0NhbWVyYSB7XG4gIC8qKlxuICAgKiBJZiBvbGRDYW1lcmEgaXMgZ2l2ZW4sIHRoZW4gdGhlIHN0YXRlIG9mIHRoZSBuZXcgY2FtZXJhIHdpbGwgYmUgaW5pdGlhbGl6ZWQgdG8gbWF0Y2ggdGhhdCBvZlxuICAgKiB0aGUgb2xkIGNhbWVyYS4gVGhpcyBlbmFibGVzIGEgc21vb3RoIHRyYW5zaXRpb24gd2hlbiBjaGFuZ2luZyBjYW1lcmFzLlxuICAgKlxuICAgKiBAcGFyYW0ge0NhbWVyYVRhcmdldH0gY2FtZXJhVGFyZ2V0XG4gICAqIEBwYXJhbSB7Rm9sbG93Q2FtZXJhQ29uZmlnfSBmb2xsb3dDYW1lcmFQYXJhbXNcbiAgICogQHBhcmFtIHtDYW1lcmFDb25maWd9IGNhbWVyYVBhcmFtc1xuICAgKiBAcGFyYW0ge0NhbWVyYX0gW29sZENhbWVyYV1cbiAgICovXG4gIGNvbnN0cnVjdG9yKGNhbWVyYVRhcmdldCwgZm9sbG93Q2FtZXJhUGFyYW1zLCBjYW1lcmFQYXJhbXMsIG9sZENhbWVyYSkge1xuICAgIHN1cGVyKGNhbWVyYVRhcmdldCwgZm9sbG93Q2FtZXJhUGFyYW1zLCBjYW1lcmFQYXJhbXMsIG9sZENhbWVyYSk7XG4gICAgLy8gVGhlc2UgY291bGQgaGF2ZSBiZWVuIHNldCBpbiBfbWF0Y2hPbGRDYW1lcmEuXG4gICAgdGhpcy5fdmVsb2NpdHkgPSB0aGlzLl92ZWxvY2l0eSB8fCB2ZWMzLmNyZWF0ZSgpO1xuICAgIHRoaXMuX2FjY2VsZXJhdGlvbiA9IHRoaXMuX2FjY2VsZXJhdGlvbiB8fCB2ZWMzLmNyZWF0ZSgpO1xuICB9XG5cbiAgcmVzZXQoKSB7XG4gICAgc3VwZXIucmVzZXQoKTtcbiAgICB2ZWMzLmNvcHkodGhpcy5fcG9zaXRpb24sIHRoaXMuX2ZvbGxvd0NhbWVyYVBhcmFtcy5faW50ZW5kZWRUcmFuc2xhdGlvbkZyb21UYXJnZXQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gY3VycmVudFRpbWVcbiAgICogQHBhcmFtIHtET01IaWdoUmVzVGltZVN0YW1wfSBkZWx0YVRpbWVcbiAgICovXG4gIHVwZGF0ZShjdXJyZW50VGltZSwgZGVsdGFUaW1lKSB7XG4gICAgdGhpcy5fdXBkYXRlQWNjZWxlcmF0aW9uVmVsb2NpdHlBbmRQb3NpdGlvbihkZWx0YVRpbWUpO1xuICAgIHRoaXMuX3VwZGF0ZU9yaWVudGF0aW9uKCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtET01IaWdoUmVzVGltZVN0YW1wfSBkZWx0YVRpbWVcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF91cGRhdGVBY2NlbGVyYXRpb25WZWxvY2l0eUFuZFBvc2l0aW9uKGRlbHRhVGltZSkge1xuICAgIHRoaXMuX3VwZGF0ZUFjY2VsZXJhdGlvbigpO1xuICAgIHRoaXMuX3VwZGF0ZVBvc2l0aW9uKGRlbHRhVGltZSk7XG4gICAgdGhpcy5fdXBkYXRlVmVsb2NpdHkoZGVsdGFUaW1lKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgdGhlIGNhbWVyYSdzIGFjY2VsZXJhdGlvbiB1c2luZyBIb29rZSdzIGxhdyBhbmQgZHJhZy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF91cGRhdGVBY2NlbGVyYXRpb24oKSB7XG4gICAgdGhpcy5fYXBwbHlTcHJpbmdBY2NlbGVyYXRpb24oKTtcbiAgICB0aGlzLl9hcHBseVNwcmluZ0RhbXBpbmcoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgdGhlIGNhbWVyYSdzIGFjY2VsZXJhdGlvbiB1c2luZyBIb29rZSdzIGxhdy5cbiAgICpcbiAgICogYWNjZWxlcmF0aW9uID0gZGlzcGxhY2VtZW50ICogY29lZmZpY2llbnRcbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9hcHBseVNwcmluZ0FjY2VsZXJhdGlvbigpIHtcbiAgICBjb25zdCBkaXNwbGFjZW1lbnQgPSB2ZWMzLmNyZWF0ZSgpO1xuICAgIHZlYzMuc3VidHJhY3QoZGlzcGxhY2VtZW50LCB0aGlzLl9nZXRJbnRlbmRlZFBvc2l0aW9uKCksIHRoaXMuX3Bvc2l0aW9uKTtcbiAgICB2ZWMzLnNjYWxlKHRoaXMuX2FjY2VsZXJhdGlvbiwgZGlzcGxhY2VtZW50LCB0aGlzLl9mb2xsb3dDYW1lcmFQYXJhbXMuc3ByaW5nQ29lZmZpY2llbnQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfYXBwbHlTcHJpbmdEYW1waW5nKCkge1xuICAgIGNvbnN0IGRhbXBpbmcgPSB2ZWMzLmNyZWF0ZSgpO1xuICAgIHZlYzMuc2NhbGUoZGFtcGluZywgdGhpcy5fdmVsb2NpdHksIC10aGlzLl9mb2xsb3dDYW1lcmFQYXJhbXMuZGFtcGluZ0NvZWZmaWNpZW50KTtcbiAgICB2ZWMzLmFkZCh0aGlzLl9hY2NlbGVyYXRpb24sIHRoaXMuX2FjY2VsZXJhdGlvbiwgZGFtcGluZyk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIHRoZSBjYW1lcmEncyB2ZWxvY2l0eSBhY2NvcmRpbmcgdG8gaXRzIGN1cnJlbnQgYWNjZWxlcmF0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGRlbHRhVGltZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3VwZGF0ZVZlbG9jaXR5KGRlbHRhVGltZSkge1xuICAgIHZlYzMuc2NhbGVBbmRBZGQodGhpcy5fdmVsb2NpdHksIHRoaXMuX3ZlbG9jaXR5LCB0aGlzLl9hY2NlbGVyYXRpb24sIGRlbHRhVGltZSk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIHRoZSBjYW1lcmEncyBwb3NpdGlvbiBhY2NvcmRpbmcgdG8gaXRzIGN1cnJlbnQgdmVsb2NpdHkuXG4gICAqXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gZGVsdGFUaW1lXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfdXBkYXRlUG9zaXRpb24oZGVsdGFUaW1lKSB7XG4gICAgdmVjMy5zY2FsZUFuZEFkZCh0aGlzLl9wb3NpdGlvbiwgdGhpcy5fcG9zaXRpb24sIHRoaXMuX3ZlbG9jaXR5LCBkZWx0YVRpbWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7Q2FtZXJhfSBvbGRDYW1lcmFcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgX21hdGNoT2xkQ2FtZXJhKG9sZENhbWVyYSkge1xuICAgIHN1cGVyLl9tYXRjaE9sZENhbWVyYShvbGRDYW1lcmEpO1xuICAgIGlmIChvbGRDYW1lcmEgaW5zdGFuY2VvZiBTcHJpbmdGb2xsb3dDYW1lcmEpIHtcbiAgICAgIHRoaXMuX3ZlbG9jaXR5ID0gdGhpcy5fdmVsb2NpdHkgfHwgdmVjMy5jcmVhdGUoKTtcbiAgICAgIHRoaXMuX2FjY2VsZXJhdGlvbiA9IHRoaXMuX2FjY2VsZXJhdGlvbiB8fCB2ZWMzLmNyZWF0ZSgpO1xuICAgICAgdmVjMy5jb3B5KHRoaXMuX3ZlbG9jaXR5LCBvbGRDYW1lcmEuX3ZlbG9jaXR5KTtcbiAgICAgIHZlYzMuY29weSh0aGlzLl9hY2NlbGVyYXRpb24sIG9sZENhbWVyYS5fYWNjZWxlcmF0aW9uKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IHtTcHJpbmdGb2xsb3dDYW1lcmF9O1xuIiwiZXhwb3J0ICogZnJvbSAnLi9zcmMvd2FsbC1jb2xsaWRhYmxlJztcbmV4cG9ydCAqIGZyb20gJy4vc3JjL3dhbGwtY29udHJvbGxlcic7XG4iLCJpbXBvcnQgeyBBYWJiIH0gZnJvbSAnbHNsLXBoeXN4JztcblxuLyoqXG4gKiBUaGlzIGNsYXNzIHJlcHJlc2VudHMgYSB3YWxsIG9yIGZsb29yLlxuICpcbiAqIFRoaXMgaXMganVzdCBhIGNvbnZlbmllbmNlIGNsYXNzIHRoYXQgZXh0ZW5kcyBBYWJiLlxuICovXG5jbGFzcyBXYWxsIGV4dGVuZHMgQWFiYiB7XG4gIC8qKlxuICAgKiAtIElmIHRoZSB4IHBhcmFtZXRlciBpcyBnaXZlbiwgdGhlbiBhIHdhbGwgd2lsbCBiZSBjb25zdHJ1Y3RlZCBhbG9uZyB0aGUgeS16IHBsYW5lIHdpdGggaXRzXG4gICAqIHN1cmZhY2UgYXQgdGhlIHggY29vcmRpbmF0ZS4gVGhlIHkgYW5kIHogcGFyYW1ldGVycyBhcmUgaGFuZGxlZCBzaW1pbGFybHkuXG4gICAqIC0gT25seSBvbmUgb2YgdGhlIHgveS96IHBhcmFtZXRlcnMgc2hvdWxkIGJlIHNwZWNpZmllZC5cbiAgICogLSBJZiBpc09wZW5PblBvc2l0aXZlU2lkZSBpcyB0cnVlLCB0aGVuIHRoZSB3YWxsIHdpbGwgYmUgb3BlbiB0b3dhcmQgdGhlIHBvc2l0aXZlIGRpcmVjdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHtXYWxsUGFyYW1zfSB3YWxsUGFyYW1zXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih3YWxsUGFyYW1zKSB7XG4gICAgbGV0IG1pblg7XG4gICAgbGV0IG1pblk7XG4gICAgbGV0IG1pblo7XG4gICAgbGV0IG1heFg7XG4gICAgbGV0IG1heFk7XG4gICAgbGV0IG1heFo7XG5cbiAgICBsZXQgeyB4LCB5LCB6LCBpc09wZW5PblBvc2l0aXZlU2lkZSwgdGhpY2tuZXNzLCBoYWxmU2lkZUxlbmd0aCB9ID0gd2FsbFBhcmFtcztcbiAgICB0aGlja25lc3MgPSB0aGlja25lc3MgfHwgODAwMDA7XG4gICAgaGFsZlNpZGVMZW5ndGggPSBoYWxmU2lkZUxlbmd0aCB8fCA4MDAwMDtcblxuICAgIGlmICh0eXBlb2YgeCA9PT0gJ251bWJlcicpIHtcbiAgICAgIGlmIChpc09wZW5PblBvc2l0aXZlU2lkZSkge1xuICAgICAgICBtaW5YID0geCAtIHRoaWNrbmVzcztcbiAgICAgICAgbWF4WCA9IHg7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgbWluWCA9IHg7XG4gICAgICAgIG1heFggPSB4ICsgdGhpY2tuZXNzO1xuICAgICAgfVxuICAgICAgbWluWSA9IC1oYWxmU2lkZUxlbmd0aDtcbiAgICAgIG1pblogPSAtaGFsZlNpZGVMZW5ndGg7XG4gICAgICBtYXhZID0gaGFsZlNpZGVMZW5ndGg7XG4gICAgICBtYXhaID0gaGFsZlNpZGVMZW5ndGg7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiB5ID09PSAnbnVtYmVyJykge1xuICAgICAgaWYgKGlzT3Blbk9uUG9zaXRpdmVTaWRlKSB7XG4gICAgICAgIG1pblkgPSB5IC0gdGhpY2tuZXNzO1xuICAgICAgICBtYXhZID0geTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBtaW5ZID0geTtcbiAgICAgICAgbWF4WSA9IHkgKyB0aGlja25lc3M7XG4gICAgICB9XG4gICAgICBtaW5YID0gLWhhbGZTaWRlTGVuZ3RoO1xuICAgICAgbWluWiA9IC1oYWxmU2lkZUxlbmd0aDtcbiAgICAgIG1heFggPSBoYWxmU2lkZUxlbmd0aDtcbiAgICAgIG1heFogPSBoYWxmU2lkZUxlbmd0aDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBpZiAoaXNPcGVuT25Qb3NpdGl2ZVNpZGUpIHtcbiAgICAgICAgbWluWiA9IHogLSB0aGlja25lc3M7XG4gICAgICAgIG1heFogPSB6O1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIG1pblogPSB6O1xuICAgICAgICBtYXhaID0geiArIHRoaWNrbmVzcztcbiAgICAgIH1cbiAgICAgIG1pblggPSAtaGFsZlNpZGVMZW5ndGg7XG4gICAgICBtaW5ZID0gLWhhbGZTaWRlTGVuZ3RoO1xuICAgICAgbWF4WCA9IGhhbGZTaWRlTGVuZ3RoO1xuICAgICAgbWF4WSA9IGhhbGZTaWRlTGVuZ3RoO1xuICAgIH1cblxuICAgIHN1cGVyKG1pblgsIG1pblksIG1pblosIG1heFgsIG1heFksIG1heFosIHRydWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHt2ZWMzfVxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldCBzY2FsZSgpIHtcbiAgICAvLyBSZXVzZSB0aGUgc2FtZSBvYmplY3Qgd2hlbiB0aGlzIGlzIGNhbGxlZCBtdWx0aXBsZSB0aW1lcy5cbiAgICB0aGlzLl9zY2FsZSA9IHRoaXMuX3NjYWxlIHx8IHZlYzMuY3JlYXRlKCk7XG4gICAgdmVjMy5zZXQodGhpcy5fc2NhbGUsIHRoaXMucmFuZ2VYLCB0aGlzLnJhbmdlWSwgdGhpcy5yYW5nZVopO1xuICAgIHJldHVybiB0aGlzLl9zY2FsZTtcbiAgfVxufVxuXG5leHBvcnQgeyBXYWxsIH07XG4iLCJpbXBvcnQge1N0YW5kYXJkTW9kZWxDb250cm9sbGVyfSBmcm9tICdncmFmeCc7XG5pbXBvcnQge2NvbGxpZGFibGVTdG9yZX0gZnJvbSAnbHNsLXBoeXN4JztcblxuaW1wb3J0IHtXYWxsfSBmcm9tICcuL3dhbGwtY29sbGlkYWJsZSc7XG5cbi8qKlxuICogVGhpcyBjbGFzcyBkZWZpbmVzIGEgd2FsbC1jb250cm9sbGVyLlxuICovXG5jbGFzcyBXYWxsQ29udHJvbGxlciBleHRlbmRzIFN0YW5kYXJkTW9kZWxDb250cm9sbGVyIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7TW9kZWxDb250cm9sbGVyQ29uZmlnfSBtb2RlbENvbnRyb2xsZXJQYXJhbXNcbiAgICogQHBhcmFtIHtXYWxsUGFyYW1zfSB3YWxsUGFyYW1zXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihtb2RlbENvbnRyb2xsZXJQYXJhbXMsIHdhbGxQYXJhbXMpIHtcbiAgICBjb25zdCBzaGFwZVBhcmFtcyA9IHtcbiAgICAgIHNoYXBlSWQ6ICdDVUJFJyxcbiAgICAgIGlzVXNpbmdTcGhlcmljYWxOb3JtYWxzOiB3YWxsUGFyYW1zLnVzZVNtb290aFNoYWRpbmcsXG4gICAgICB0ZXh0dXJlU3Bhbjogd2FsbFBhcmFtcy50ZXh0dXJlU3BhblxuICAgIH07XG5cbiAgICBzdXBlcihtb2RlbENvbnRyb2xsZXJQYXJhbXMsIHNoYXBlUGFyYW1zKTtcblxuICAgIHRoaXMuX2NvbGxpZGFibGUgPSBuZXcgV2FsbCh3YWxsUGFyYW1zKTtcbiAgICBjb2xsaWRhYmxlU3RvcmUucmVnaXN0ZXJDb2xsaWRhYmxlKHRoaXMuX2NvbGxpZGFibGUpO1xuICB9XG5cbiAgcmVzZXQoKSB7XG4gICAgLy8gUmUtc2l6ZSBhbmQgcmUtcG9zaXRpb24gdGhlIHdhbGwuXG4gICAgbWF0NC5mcm9tVHJhbnNsYXRpb24odGhpcy5fbG9jYWxUcmFuc2Zvcm0sIHRoaXMuX2NvbGxpZGFibGUuY2VudGVyT2ZWb2x1bWUpO1xuICAgIG1hdDQuc2NhbGUodGhpcy5fbG9jYWxUcmFuc2Zvcm0sIHRoaXMuX2xvY2FsVHJhbnNmb3JtLCB0aGlzLl9jb2xsaWRhYmxlLnNjYWxlKTtcblxuICAgIHN1cGVyLnJlc2V0KCk7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gdGhpcyBpcyBkb25lIGJlaW5nIHVzZWQsIGFuZCBpcyBiZWluZyBkZXN0cm95ZWQgZnJvbSBtZW1vcnkuXG4gICAqL1xuICBkZXN0cm95KCkge1xuICAgIHN1cGVyLmRlc3Ryb3koKTtcbiAgICBjb2xsaWRhYmxlU3RvcmUudW5yZWdpc3RlckNvbGxpZGFibGUodGhpcy5fY29sbGlkYWJsZSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtET01IaWdoUmVzVGltZVN0YW1wfSBjdXJyZW50VGltZVxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGRlbHRhVGltZVxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICB1cGRhdGUoY3VycmVudFRpbWUsIGRlbHRhVGltZSkge31cbn1cblxuZXhwb3J0IHtXYWxsQ29udHJvbGxlcn07XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gV2FsbFBhcmFtc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IHhcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB5XG4gKiBAcHJvcGVydHkge251bWJlcn0gelxuICogQHByb3BlcnR5IHtib29sZWFufSBpc09wZW5PblBvc2l0aXZlU2lkZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IHRoaWNrbmVzc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IGhhbGZTaWRlTGVuZ3RoXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IHVzZVNtb290aFNoYWRpbmdcbiAqIEBwcm9wZXJ0eSB7VGV4dHVyZVNwYW59IHRleHR1cmVTcGFuXG4gKi9cbiIsImV4cG9ydCAqIGZyb20gJy4vc3JjL2NhbWVyYSc7XG5leHBvcnQgKiBmcm9tICcuL3NyYy9maXJzdC1wZXJzb24tY2FtZXJhJztcbmV4cG9ydCAqIGZyb20gJy4vc3JjL2ZpeGVkLWNhbWVyYSc7XG5leHBvcnQgKiBmcm9tICcuL3NyYy9maXhlZC1mb2xsb3ctY2FtZXJhJztcbmV4cG9ydCAqIGZyb20gJy4vc3JjL2ZvbGxvdy1jYW1lcmEnO1xuZXhwb3J0ICogZnJvbSAnLi9zcmMvdGhpcmQtcGVyc29uLWNhbWVyYSc7XG5leHBvcnQgKiBmcm9tICcuL3NyYy9vdmVyaGVhZC1jYW1lcmEnO1xuIiwiaW1wb3J0IHsgUGVyc2lzdGVudEFuaW1hdGlvbkpvYiB9IGZyb20gJ2xzbC1hbmltYXRleCc7XG5cbi8vIFRPRE86IE1ha2UgdGhlIHJvdGF0aW9uIHF1YXRlcm5pb24gYmFzZWQgd2l0aCA2RG9GLlxuXG4vLyBUT0RPOiBBZGQgc3VwcG9ydCBmb3Igc2NyaXB0aW5nIHRoZSBjYW1lcmEgdG8gZm9sbG93IGEgY3VydmU6XG4vLyAoaHR0cHM6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9iYjIwMzkwOCh2PXhuYWdhbWVzdHVkaW8uMzEpLmFzcHgpXG5cbi8qKlxuICogVGhpcyBjbGFzcyBkZWZpbmVzIGNvbW1vbiBjYW1lcmEgbG9naWMuXG4gKlxuICogQGFic3RyYWN0XG4gKi9cbmNsYXNzIENhbWVyYSBleHRlbmRzIFBlcnNpc3RlbnRBbmltYXRpb25Kb2Ige1xuICAvKipcbiAgICogSWYgb2xkQ2FtZXJhIGlzIGdpdmVuLCB0aGVuIHRoZSBzdGF0ZSBvZiB0aGUgbmV3IGNhbWVyYSB3aWxsIGJlIGluaXRpYWxpemVkIHRvIG1hdGNoIHRoYXQgb2ZcbiAgICogdGhlIG9sZCBjYW1lcmEuIFRoaXMgZW5hYmxlcyBhIHNtb290aCB0cmFuc2l0aW9uIHdoZW4gY2hhbmdpbmcgY2FtZXJhcy5cbiAgICpcbiAgICogQHBhcmFtIHtDYW1lcmFDb25maWd9IGNhbWVyYVBhcmFtc1xuICAgKiBAcGFyYW0ge0NhbWVyYX0gW29sZENhbWVyYV1cbiAgICovXG4gIGNvbnN0cnVjdG9yKGNhbWVyYVBhcmFtcywgb2xkQ2FtZXJhKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIC8vIENhbWVyYSBpcyBhbiBhYnN0cmFjdCBjbGFzcy4gSXQgc2hvdWxkIG5vdCBiZSBpbnN0YW50aWF0ZWQgZGlyZWN0bHkuXG4gICAgaWYgKG5ldy50YXJnZXQgPT09IENhbWVyYSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNvbnN0cnVjdCBDYW1lcmEgaW5zdGFuY2VzIGRpcmVjdGx5Jyk7XG4gICAgfVxuXG4gICAgdGhpcy5fY2FtZXJhUGFyYW1zID0gY2FtZXJhUGFyYW1zO1xuICAgIHRoaXMuX2ZvdlkgPSBudWxsO1xuICAgIHRoaXMuX2FzcGVjdFJhdGlvID0gbnVsbDtcbiAgICB0aGlzLl96TmVhciA9IG51bGw7XG4gICAgdGhpcy5fekZhciA9IG51bGw7XG4gICAgdGhpcy5fcG9zaXRpb24gPSB2ZWMzLmNyZWF0ZSgpO1xuICAgIHRoaXMuX29yaWVudGF0aW9uID0gcXVhdC5jcmVhdGUoKTsgLy8gVE9ETzogVXNlIHRoaXMuXG4gICAgdGhpcy5fdmlld01hdHJpeCA9IG1hdDQuY3JlYXRlKCk7XG4gICAgdGhpcy5fcHJvamVjdGlvbk1hdHJpeCA9IG1hdDQuY3JlYXRlKCk7XG4gICAgdGhpcy5fdmlld1Byb2plY3Rpb25NYXRyaXggPSBtYXQ0LmNyZWF0ZSgpO1xuXG4gICAgdGhpcy5fbWF0Y2hPbGRDYW1lcmEob2xkQ2FtZXJhKTtcbiAgfVxuXG4gIHJlc2V0KCkge1xuICAgIHRoaXMuX3NldFBlcnNwZWN0aXZlKHRoaXMuX2NhbWVyYVBhcmFtcy5mb3ZZLCB0aGlzLl9jYW1lcmFQYXJhbXMuZGVmYXVsdEFzcGVjdFJhdGlvLFxuICAgICAgdGhpcy5fY2FtZXJhUGFyYW1zLl96TmVhciwgdGhpcy5fY2FtZXJhUGFyYW1zLl96RmFyKTtcbiAgfVxuXG4gIC8vIFRPRE86IENhbGwgdGhpcyBhZnRlciBhZGRpbmcgc3VwcG9ydCBmb3IgZHluYW1pY2FsbHkgc3dpdGNoaW5nIGNhbWVyYXMuXG4gIGRlc3Ryb3koKSB7fVxuXG4gIC8qKlxuICAgKiBTZXQgdGhpcyBjYW1lcmEncyBvcmllbnRhdGlvbiBhbmQgcG9zaXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7dmVjM30gZXllIFRoZSBjYW1lcmEgcG9zaXRpb24uXG4gICAqIEBwYXJhbSB7dmVjM30gdGFyZ2V0IFRoZSBmb2NhbCBwb2ludC5cbiAgICogQHBhcmFtIHt2ZWMzfSB1cCBUaGUgbG9jYWwgdXAgZGlyZWN0aW9uLlxuICAgKiBAcGFyYW0ge3ZlYzN9IHZpZXdEaXJlY3Rpb24gVGhlIChub3JtYWxpemVkKSBkaXJlY3Rpb24gdGhlIGNhbWVyYSBpcyBsb29raW5nLlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBfc2V0UG9zaXRpb25BbmRMb29rQXQoZXllLCB0YXJnZXQsIHVwLCB2aWV3RGlyZWN0aW9uKSB7XG4gICAgdmVjMy5jb3B5KHRoaXMuX3Bvc2l0aW9uLCBleWUpO1xuICAgIHRoaXMuX3NldExvb2tBdEZyb21DdXJyZW50UG9zaXRpb24odGFyZ2V0LCB1cCwgdmlld0RpcmVjdGlvbik7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoaXMgY2FtZXJhJ3Mgb3JpZW50YXRpb24sIGJ1dCBkbyBub3QgY2hhbmdlIGl0cyBwb3NpdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHt2ZWMzfSB0YXJnZXQgVGhlIGZvY2FsIHBvaW50LlxuICAgKiBAcGFyYW0ge3ZlYzN9IHVwIFRoZSBsb2NhbCB1cCBkaXJlY3Rpb24uXG4gICAqIEBwYXJhbSB7dmVjM30gdmlld0RpcmVjdGlvbiBUaGUgKG5vcm1hbGl6ZWQpIGRpcmVjdGlvbiB0aGUgY2FtZXJhIGlzIGxvb2tpbmcuXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIF9zZXRMb29rQXRGcm9tQ3VycmVudFBvc2l0aW9uKHRhcmdldCwgdXAsIHZpZXdEaXJlY3Rpb24pIHtcbiAgICBtYXQ0Lmxvb2tBdCh0aGlzLl92aWV3TWF0cml4LCB0aGlzLl9wb3NpdGlvbiwgdGFyZ2V0LCB1cCk7XG4gICAgcXVhdC5yb3RhdGlvblRvKHRoaXMuX29yaWVudGF0aW9uLCB0aGlzLl9jYW1lcmFQYXJhbXMuX2RlZmF1bHRMb29rQXREaXJlY3Rpb24sIHZpZXdEaXJlY3Rpb24pOyAvLyBUT0RPOiBDaGVjayB0aGlzOyBtaWdodCBuZWVkIHRvIHN3YXAgYXJndW1lbnRzLlxuICAgIHRoaXMuX3VwZGF0ZVZpZXdQcm9qZWN0aW9uTWF0cml4KCk7XG4gIH1cblxuICAvKipcbiAgICogVHJhbnNsYXRlIHRoaXMgY2FtZXJhIGJ5IHRoZSBnaXZlbiBhbW91bnQgZnJvbSBpdHMgY3VycmVudCBwb3NpdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHt2ZWMzfSB0cmFuc2xhdGlvblxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBfdHJhbnNsYXRlKHRyYW5zbGF0aW9uKSB7XG4gICAgdmVjMy5hZGQodGhpcy5fcG9zaXRpb24sIHRoaXMuX3Bvc2l0aW9uLCB0cmFuc2xhdGlvbik7XG4gIH1cblxuICAvKipcbiAgICogUm90YXRlIHRoaXMgY2FtZXJhIGJ5IHRoZSBnaXZlbiBhbW91bnQgZnJvbSBpdHMgY3VycmVudCBvcmllbnRhdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHtxdWF0fSByb3RhdGlvblxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBfcm90YXRlKHJvdGF0aW9uKSB7XG4gICAgLy8gVE9ET1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBmb3ZZIEluIHJhZGlhbnMuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBhc3BlY3RSYXRpbyBXaWR0aCAvIGhlaWdodC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHpOZWFyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB6RmFyXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIF9zZXRQZXJzcGVjdGl2ZShmb3ZZLCBhc3BlY3RSYXRpbywgek5lYXIsIHpGYXIpIHtcbiAgICB0aGlzLl9mb3ZZID0gZm92WTtcbiAgICB0aGlzLl9hc3BlY3RSYXRpbyA9IGFzcGVjdFJhdGlvO1xuICAgIHRoaXMuX3pOZWFyID0gek5lYXI7XG4gICAgdGhpcy5fekZhciA9IHpGYXI7XG4gICAgdGhpcy5fdXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlLWNhbGN1bGF0ZXMgdGhlIHZpZXctcHJvamVjdGlvbiBtYXRyaXguIFRoaXMgc2hvdWxkIGJlIGNhbGxlZCBhbnkgdGltZSBlaXRoZXIgdGhlIHZpZXcgb3JcbiAgICogcHJvamVjdGlvbiBtYXRyaWNlcyBpcyB1cGRhdGVkLlxuICAgKlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBfdXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpIHtcbiAgICBtYXQ0LnBlcnNwZWN0aXZlKFxuICAgICAgdGhpcy5fcHJvamVjdGlvbk1hdHJpeCwgdGhpcy5fZm92WSwgdGhpcy5fYXNwZWN0UmF0aW8sIHRoaXMuX3pOZWFyLCB0aGlzLl96RmFyKTtcbiAgICB0aGlzLl91cGRhdGVWaWV3UHJvamVjdGlvbk1hdHJpeCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlLWNhbGN1bGF0ZXMgdGhlIHZpZXctcHJvamVjdGlvbiBtYXRyaXguIFRoaXMgc2hvdWxkIGJlIGNhbGxlZCBhbnkgdGltZSBlaXRoZXIgdGhlIHZpZXcgb3JcbiAgICogcHJvamVjdGlvbiBtYXRyaWNlcyBpcyB1cGRhdGVkLlxuICAgKlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBfdXBkYXRlVmlld1Byb2plY3Rpb25NYXRyaXgoKSB7XG4gICAgbWF0NC5tdWx0aXBseSh0aGlzLl92aWV3UHJvamVjdGlvbk1hdHJpeCwgdGhpcy5fcHJvamVjdGlvbk1hdHJpeCwgdGhpcy5fdmlld01hdHJpeCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtET01IaWdoUmVzVGltZVN0YW1wfSBjdXJyZW50VGltZVxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGRlbHRhVGltZVxuICAgKiBAYWJzdHJhY3RcbiAgICovXG4gIHVwZGF0ZShjdXJyZW50VGltZSwgZGVsdGFUaW1lKSB7XG4gICAgLy8gRXh0ZW5kaW5nIGNsYXNzZXMgc2hvdWxkIGltcGxlbWVudCB0aGlzIG1ldGhvZC5cbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdNZXRob2Qgbm90IGltcGxlbWVudGVkJyk7XG4gIH1cblxuICBkcmF3KCkge31cblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IGZvdlkgVGhlIHZlcnRpY2FsIGZpZWxkIG9mIHZpZXcsIGluIHJhZGlhbnMuXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIHNldCBmb3YoZm92WSkge1xuICAgIHRoaXMuX2ZvdlkgPSBmb3ZZO1xuICAgIHRoaXMuX3VwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gYXNwZWN0UmF0aW8gV2lkdGggLyBoZWlnaHQuXG4gICAqL1xuICBzZXQgYXNwZWN0UmF0aW8oYXNwZWN0UmF0aW8pIHtcbiAgICB0aGlzLl9zZXRQZXJzcGVjdGl2ZSh0aGlzLl9jYW1lcmFQYXJhbXMuZm92WSwgYXNwZWN0UmF0aW8sIHRoaXMuX2NhbWVyYVBhcmFtcy5fek5lYXIsXG4gICAgICB0aGlzLl9jYW1lcmFQYXJhbXMuX3pGYXIpO1xuICB9XG5cbiAgLyoqIEByZXR1cm5zIHt2ZWMzfSAqL1xuICBnZXQgcG9zaXRpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX3Bvc2l0aW9uO1xuICB9XG4gIC8qKiBAcmV0dXJucyB7cXVhdH0gKi9cbiAgZ2V0IG9yaWVudGF0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLl9vcmllbnRhdGlvbjtcbiAgfVxuICAvKiogQHJldHVybnMge21hdDR9ICovXG4gIGdldCB2aWV3TWF0cml4KCkge1xuICAgIHJldHVybiB0aGlzLl92aWV3TWF0cml4O1xuICB9XG4gIC8qKiBAcmV0dXJucyB7bWF0NH0gKi9cbiAgZ2V0IHByb2plY3Rpb25NYXRyaXgoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3Byb2plY3Rpb25NYXRyaXg7XG4gIH1cbiAgLyoqIEByZXR1cm5zIHttYXQ0fSAqL1xuICBnZXQgdmlld1Byb2plY3Rpb25NYXRyaXgoKSB7IC8vIFRPRE86IFN0b3AgdXNpbmcgdGhlIGFib3ZlIHR3byBnZXR0ZXJzIGFuZCB1c2UgdGhpcyBpbnN0ZWFkP1xuICAgIHJldHVybiB0aGlzLl92aWV3UHJvamVjdGlvbk1hdHJpeDtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgdGhpcyBjYW1lcmEncyBzdGF0ZSB0byBtYXRjaCB0aGUgZ2l2ZW4gb2xkIGNhbWVyYS5cbiAgICpcbiAgICogQHBhcmFtIHtDYW1lcmF9IG9sZENhbWVyYVxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBfbWF0Y2hPbGRDYW1lcmEob2xkQ2FtZXJhKSB7XG4gICAgaWYgKCFvbGRDYW1lcmEpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fZm92WSA9IG9sZENhbWVyYS5fZm92WTtcbiAgICB0aGlzLl9hc3BlY3RSYXRpbyA9IG9sZENhbWVyYS5fYXNwZWN0UmF0aW87XG4gICAgdGhpcy5fek5lYXIgPSBvbGRDYW1lcmEuX3pOZWFyO1xuICAgIHRoaXMuX3pGYXIgPSBvbGRDYW1lcmEuX3pGYXI7XG4gICAgdmVjMy5jb3B5KHRoaXMuX3Bvc2l0aW9uLCBvbGRDYW1lcmEuX3Bvc2l0aW9uKTtcbiAgICB2ZWMzLmNvcHkodGhpcy5fb3JpZW50YXRpb24sIG9sZENhbWVyYS5fb3JpZW50YXRpb24pO1xuICAgIG1hdDQuY29weSh0aGlzLl92aWV3TWF0cml4LCBvbGRDYW1lcmEuX3ZpZXdNYXRyaXgpO1xuICAgIG1hdDQuY29weSh0aGlzLl9wcm9qZWN0aW9uTWF0cml4LCBvbGRDYW1lcmEuX3Byb2plY3Rpb25NYXRyaXgpO1xuICAgIG1hdDQuY29weSh0aGlzLl92aWV3UHJvamVjdGlvbk1hdHJpeCwgb2xkQ2FtZXJhLl92aWV3UHJvamVjdGlvbk1hdHJpeCk7XG4gIH1cbn1cblxuZXhwb3J0IHsgQ2FtZXJhIH07XG5cbi8qKlxuICogQHR5cGVkZWYge0Z1bmN0aW9ufSBDYW1lcmFDb25maWdcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBmb3ZZXG4gKiBAcHJvcGVydHkge251bWJlcn0gZGVmYXVsdEFzcGVjdFJhdGlvXG4gKiBAcHJvcGVydHkge251bWJlcn0gX3pOZWFyXG4gKiBAcHJvcGVydHkge251bWJlcn0gX3pGYXJcbiAqIEBwcm9wZXJ0eSB7dmVjM30gX2RlZmF1bHRMb29rQXREaXJlY3Rpb25cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEZvbGxvd0NhbWVyYUNvbmZpZ1xuICogQHByb3BlcnR5IHtudW1iZXJ9IHNwcmluZ0NvZWZmaWNpZW50XG4gKiBAcHJvcGVydHkge251bWJlcn0gZGFtcGluZ0NvZWZmaWNpZW50XG4gKiBAcHJvcGVydHkge251bWJlcn0gaW50ZW5kZWREaXN0YW5jZUZyb21UYXJnZXRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBpbnRlbmRlZFJvdGF0aW9uQW5nbGVGcm9tVGFyZ2V0XG4gKiBAcHJvcGVydHkge3ZlYzN9IGludGVuZGVkUm90YXRpb25BeGlzRnJvbVRhcmdldFxuICogQHByb3BlcnR5IHt2ZWMzfSBfaW50ZW5kZWRUcmFuc2xhdGlvbkZyb21UYXJnZXRcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEZpcnN0UGVyc29uQ2FtZXJhQ29uZmlnXG4gKiBAcHJvcGVydHkge3ZlYzN9IGludGVuZGVkRGlzcGxhY2VtZW50RnJvbVRhcmdldFxuICogQHByb3BlcnR5IHt2ZWMzfSB2aWV3RGlyZWN0aW9uXG4gKiBAcHJvcGVydHkge251bWJlcn0gdGFyZ2V0RGlzdGFuY2VcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEZpeGVkQ2FtZXJhQ29uZmlnXG4gKiBAcHJvcGVydHkge3ZlYzN9IHBvc2l0aW9uXG4gKiBAcHJvcGVydHkge3ZlYzN9IHZpZXdEaXJlY3Rpb25cbiAqIEBwcm9wZXJ0eSB7dmVjM30gX3VwXG4gKi9cbiIsImltcG9ydCB7IENhbWVyYSB9IGZyb20gJy4vY2FtZXJhJztcblxuLyoqXG4gKiBUaGlzIGNsYXNzIGRlZmluZXMgYSBmaXJzdC1wZXJzb24gY2FtZXJhLlxuICpcbiAqIEEgZmlyc3QtcGVyc29uIGNhbWVyYSBpcyBwb3NpdGlvbmVkIGF0IGEgY2hhcmFjdGVyIGFuZCBtb3ZlcyBhbmQgcm90YXRlcyB3aXRoIHRoZSBjaGFyYWN0ZXIuXG4gKi9cbmNsYXNzIEZpcnN0UGVyc29uQ2FtZXJhIGV4dGVuZHMgQ2FtZXJhIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7Q2FtZXJhVGFyZ2V0fSBjYW1lcmFUYXJnZXRcbiAgICogQHBhcmFtIHtGaXJzdFBlcnNvbkNhbWVyYUNvbmZpZ30gZmlyc3RQZXJzb25DYW1lcmFQYXJhbXNcbiAgICogQHBhcmFtIHtDYW1lcmFDb25maWd9IGNhbWVyYVBhcmFtc1xuICAgKiBAcGFyYW0ge0NhbWVyYX0gW29sZENhbWVyYV1cbiAgICovXG4gIGNvbnN0cnVjdG9yKGNhbWVyYVRhcmdldCwgZmlyc3RQZXJzb25DYW1lcmFQYXJhbXMsIGNhbWVyYVBhcmFtcywgb2xkQ2FtZXJhKSB7XG4gICAgc3VwZXIoY2FtZXJhUGFyYW1zLCBvbGRDYW1lcmEpO1xuICAgIHRoaXMuX2NhbWVyYVRhcmdldCA9IGNhbWVyYVRhcmdldDtcbiAgICB0aGlzLl9maXJzdFBlcnNvbkNhbWVyYVBhcmFtcyA9IGZpcnN0UGVyc29uQ2FtZXJhUGFyYW1zO1xuICAgIHRoaXMuX2NhbWVyYVRhcmdldCA9IGNhbWVyYVRhcmdldDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGN1cnJlbnRUaW1lXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gZGVsdGFUaW1lXG4gICAqL1xuICB1cGRhdGUoY3VycmVudFRpbWUsIGRlbHRhVGltZSkge1xuICAgIHRoaXMuX3VwZGF0ZVBvc2l0aW9uKCk7XG4gICAgdGhpcy5fdXBkYXRlT3JpZW50YXRpb24oKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3VwZGF0ZVBvc2l0aW9uKCkge1xuICAgIGNvbnN0IGludGVuZGVkUG9zaXRpb24gPSB0aGlzLl9nZXRJbnRlbmRlZFBvc2l0aW9uKCk7XG4gICAgdmVjMy5jb3B5KHRoaXMuX3Bvc2l0aW9uLCBpbnRlbmRlZFBvc2l0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgdGhlIGNhbWVyYSdzIG9yaWVudGF0aW9uIHVzaW5nIHRoZSBcImxvb2sgYXRcIiBtZXRob2QgYWNjb3JkaW5nIHRvIGl0cyBwb3NpdGlvbiBhbmQgdGhlXG4gICAqIHBvc2l0aW9uIG9mIGl0cyB0YXJnZXQuXG4gICAqXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIF91cGRhdGVPcmllbnRhdGlvbigpIHtcbiAgICAvLyBHZXQgdGhlIHZpZXcgZGlyZWN0aW9uLCBhbmQgdHJhbnNmb3JtIGl0IHRvIGFsaWduIHdpdGggdGhlIHRhcmdldCdzIG9yaWVudGF0aW9uLlxuICAgIGNvbnN0IHZpZXdEaXJlY3Rpb24gPSB2ZWMzLmNyZWF0ZSgpO1xuICAgIHZlYzMuY29weSh2aWV3RGlyZWN0aW9uLCB0aGlzLl9maXJzdFBlcnNvbkNhbWVyYVBhcmFtcy52aWV3RGlyZWN0aW9uKTtcbiAgICB2ZWMzLnRyYW5zZm9ybVF1YXQodmlld0RpcmVjdGlvbiwgdmlld0RpcmVjdGlvbiwgdGhpcy5fY2FtZXJhVGFyZ2V0Lm9yaWVudGF0aW9uKTtcblxuICAgIGNvbnN0IHRhcmdldCA9IHZlYzMuY3JlYXRlKCk7XG4gICAgdmVjMy5zY2FsZUFuZEFkZCh0YXJnZXQsIHRoaXMuX3Bvc2l0aW9uLCB2aWV3RGlyZWN0aW9uLFxuICAgICAgdGhpcy5fZmlyc3RQZXJzb25DYW1lcmFQYXJhbXMudGFyZ2V0RGlzdGFuY2UpO1xuXG4gICAgLy8gSW5pdGlhbGl6ZSBcInVwXCIgYXMgdGhlIHdvcmxkIHotYXhpcy5cbiAgICBjb25zdCB1cCA9IHZlYzMuZnJvbVZhbHVlcygwLCAxLCAwKTtcblxuICAgIC8vIFRyYW5zZm9ybSBcInVwXCIgdG8gYWxpZ24gd2l0aCB0aGUgY2FtZXJhIHRhcmdldCdzIGxvY2FsIHotYXhpcy5cbiAgICB2ZWMzLnRyYW5zZm9ybVF1YXQodXAsIHVwLCB0aGlzLl9jYW1lcmFUYXJnZXQub3JpZW50YXRpb24pO1xuXG4gICAgY29uc3QgcmlnaHQgPSB2ZWMzLmNyZWF0ZSgpO1xuICAgIHZlYzMuY3Jvc3MocmlnaHQsIHZpZXdEaXJlY3Rpb24sIHVwKTtcblxuICAgIC8vIFRyYW5zZm9ybSBcInVwXCIgdG8gYWxpZ24gd2l0aCB0aGUgY2FtZXJhJ3MgbG9jYWwgei1heGlzLlxuICAgIHZlYzMuY3Jvc3ModXAsIHJpZ2h0LCB2aWV3RGlyZWN0aW9uKTtcblxuICAgIHRoaXMuX3NldFBvc2l0aW9uQW5kTG9va0F0KHRoaXMuX3Bvc2l0aW9uLCB0YXJnZXQsIHVwLCB2aWV3RGlyZWN0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgaW50ZW5kZWQgcG9zaXRpb24gZm9yIHRoaXMgY2FtZXJhIHRvIGJlIGluIGFjY29yZGluZyB0byB0aGUgcG9zaXRpb24gYW5kIG9yaWVudGF0aW9uIG9mIHRoZVxuICAgKiBjYW1lcmEgdGFyZ2V0LlxuICAgKlxuICAgKiBAcmV0dXJucyB7dmVjM31cbiAgICogQHByb3RlY3RlZFxuICAgKiBAYWJzdHJhY3RcbiAgICovXG4gIF9nZXRJbnRlbmRlZFBvc2l0aW9uKCkge1xuICAgIGNvbnN0IGludGVuZGVkUG9zaXRpb24gPSB2ZWMzLmNyZWF0ZSgpO1xuICAgIHZlYzMudHJhbnNmb3JtTWF0NChcbiAgICAgIGludGVuZGVkUG9zaXRpb24sXG4gICAgICB0aGlzLl9maXJzdFBlcnNvbkNhbWVyYVBhcmFtcy5pbnRlbmRlZERpc3BsYWNlbWVudEZyb21UYXJnZXQsXG4gICAgICB0aGlzLl9jYW1lcmFUYXJnZXQud29ybGRUcmFuc2Zvcm0pO1xuICAgIHJldHVybiBpbnRlbmRlZFBvc2l0aW9uO1xuICB9XG59XG5cbmV4cG9ydCB7IEZpcnN0UGVyc29uQ2FtZXJhIH07XG4iLCJpbXBvcnQge0NhbWVyYX0gZnJvbSAnLi9jYW1lcmEnO1xuXG4vKipcbiAqIFRoaXMgY2xhc3MgZGVmaW5lcyBhIGZpeGVkIGNhbWVyYS5cbiAqXG4gKiBBIGZpeGVkIGNhbWVyYSdzIHBvc2l0aW9uIGFuZCBvcmllbnRhdGlvbiBhcmUgdXBkYXRlZCBtYW51YWxseSBhbmQgcmVtYWluIGZpeGVkIHVudGlsIGEgbGF0ZXJcbiAqIHVwZGF0ZS5cbiAqL1xuY2xhc3MgRml4ZWRDYW1lcmEgZXh0ZW5kcyBDYW1lcmEge1xuICAvKipcbiAgICogSWYgb2xkQ2FtZXJhIGlzIGdpdmVuLCB0aGVuIHRoZSBzdGF0ZSBvZiB0aGUgbmV3IGNhbWVyYSB3aWxsIGJlIGluaXRpYWxpemVkIHRvIG1hdGNoIHRoYXQgb2ZcbiAgICogdGhlIG9sZCBjYW1lcmEuIFRoaXMgZW5hYmxlcyBhIHNtb290aCB0cmFuc2l0aW9uIHdoZW4gY2hhbmdpbmcgY2FtZXJhcy5cbiAgICpcbiAgICogQHBhcmFtIHtGaXhlZENhbWVyYUNvbmZpZ30gZml4ZWRDYW1lcmFQYXJhbXNcbiAgICogQHBhcmFtIHtDYW1lcmFDb25maWd9IGNhbWVyYVBhcmFtc1xuICAgKiBAcGFyYW0ge0NhbWVyYX0gW29sZENhbWVyYV1cbiAgICovXG4gIGNvbnN0cnVjdG9yKGZpeGVkQ2FtZXJhUGFyYW1zLCBjYW1lcmFQYXJhbXMsIG9sZENhbWVyYSkge1xuICAgIHN1cGVyKGNhbWVyYVBhcmFtcywgb2xkQ2FtZXJhKTtcblxuICAgIHRoaXMuX3Bvc2l0aW9uID0gZml4ZWRDYW1lcmFQYXJhbXMucG9zaXRpb247XG4gICAgdGhpcy5fdmlld0RpcmVjdGlvbiA9IGZpeGVkQ2FtZXJhUGFyYW1zLnZpZXdEaXJlY3Rpb247XG4gICAgdGhpcy5fdXAgPSBmaXhlZENhbWVyYVBhcmFtcy5fdXA7XG4gICAgdGhpcy5fX3RhcmdldCA9IHZlYzMuY3JlYXRlKCk7XG4gIH1cblxuICByZXNldCgpIHtcbiAgICBzdXBlci5yZXNldCgpO1xuICAgIHRoaXMuX3VwZGF0ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gY3VycmVudFRpbWVcbiAgICogQHBhcmFtIHtET01IaWdoUmVzVGltZVN0YW1wfSBkZWx0YVRpbWVcbiAgICovXG4gIHVwZGF0ZShjdXJyZW50VGltZSwgZGVsdGFUaW1lKSB7fVxuXG4gIF91cGRhdGUoKSB7XG4gICAgdmVjMy5ub3JtYWxpemUodGhpcy5fdmlld0RpcmVjdGlvbiwgdGhpcy5fdmlld0RpcmVjdGlvbik7XG4gICAgdmVjMy5ub3JtYWxpemUodGhpcy5fdXAsIHRoaXMuX3VwKTtcblxuICAgIC8vIFRyYW5zZm9ybSBcInVwXCIgdG8gYWxpZ24gd2l0aCB0aGUgY2FtZXJhJ3MgbG9jYWwgei1heGlzLlxuICAgIGNvbnN0IHJpZ2h0ID0gdmVjMy5jcmVhdGUoKTtcbiAgICB2ZWMzLmNyb3NzKHJpZ2h0LCB0aGlzLl92aWV3RGlyZWN0aW9uLCB0aGlzLl91cCk7XG4gICAgdmVjMy5jcm9zcyh0aGlzLl91cCwgcmlnaHQsIHRoaXMuX3ZpZXdEaXJlY3Rpb24pO1xuXG4gICAgdGhpcy5fc2V0UG9zaXRpb25BbmRMb29rQXQodGhpcy5fcG9zaXRpb24sIHRoaXMuX3RhcmdldCwgdGhpcy5fdXAsIHRoaXMuX3ZpZXdEaXJlY3Rpb24pO1xuICB9XG5cbiAgLyoqIEBwYXJhbSB7dmVjM30gbmV3RGlyZWN0aW9uICovXG4gIHNldCB2aWV3RGlyZWN0aW9uKG5ld0RpcmVjdGlvbikge1xuICAgIHZlYzMuY29weSh0aGlzLl92aWV3RGlyZWN0aW9uLCBuZXdEaXJlY3Rpb24pO1xuICAgIHRoaXMuX3VwZGF0ZSgpO1xuICB9XG5cbiAgLyoqIEBwYXJhbSB7dmVjM30gbmV3VXAgKi9cbiAgc2V0IHVwKG5ld1VwKSB7XG4gICAgdmVjMy5jb3B5KHRoaXMuX3VwLCBuZXdVcCk7XG4gICAgdGhpcy5fdXBkYXRlKCk7XG4gIH1cblxuICAvKiogQHBhcmFtIHt2ZWMzfSBuZXdQb3NpdGlvbiAqL1xuICBzZXQgcG9zaXRpb24obmV3UG9zaXRpb24pIHtcbiAgICB2ZWMzLmNvcHkodGhpcy5fcG9zaXRpb24sIG5ld1Bvc2l0aW9uKTtcbiAgICB0aGlzLl91cGRhdGUoKTtcbiAgfVxuXG4gIC8qKiBAcmV0dXJucyB7dmVjM30gKi9cbiAgLy8gVE9ETzogTG9vayBpbnRvIHdoYXRldmVyIGJ1ZyBwcmV2ZW50cyB0aGUgcGFyZW50LWNsYXNzIGdldHRlciBmcm9tIHdvcmtpbmcuXG4gIGdldCBwb3NpdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5fcG9zaXRpb247XG4gIH1cblxuICAvKiogQHJldHVybnMge3ZlYzN9ICovXG4gIGdldCB2aWV3RGlyZWN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLl92aWV3RGlyZWN0aW9uO1xuICB9XG4gIC8qKiBAcmV0dXJucyB7dmVjM30gKi9cbiAgZ2V0IHVwKCkge1xuICAgIHJldHVybiB0aGlzLl91cDtcbiAgfVxuICAvKipcbiAgICogQHJldHVybnMge3ZlYzN9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBnZXQgX3RhcmdldCgpIHtcbiAgICByZXR1cm4gdmVjMy5hZGQodGhpcy5fX3RhcmdldCwgdGhpcy5fcG9zaXRpb24sIHRoaXMuX3ZpZXdEaXJlY3Rpb24pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7Q2FtZXJhfSBvbGRDYW1lcmFcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgX21hdGNoT2xkQ2FtZXJhKG9sZENhbWVyYSkge1xuICAgIHN1cGVyLl9tYXRjaE9sZENhbWVyYShvbGRDYW1lcmEpO1xuICAgIGlmIChvbGRDYW1lcmEgaW5zdGFuY2VvZiBGaXhlZENhbWVyYSkge1xuICAgICAgdmVjMy5jb3B5KHRoaXMuX3ZpZXdEaXJlY3Rpb24sIG9sZENhbWVyYS5fdmlld0RpcmVjdGlvbik7XG4gICAgICB2ZWMzLmNvcHkodGhpcy5fdXAsIG9sZENhbWVyYS5fdXApO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQge0ZpeGVkQ2FtZXJhfTtcbiIsImltcG9ydCB7Rm9sbG93Q2FtZXJhfSBmcm9tICcuL2ZvbGxvdy1jYW1lcmEnO1xuXG4vKipcbiAqIFRoaXMgY2xhc3MgZGVmaW5lcyBhIGZpeGVkLW9mZnNldCBmb2xsb3cgY2FtZXJhLlxuICpcbiAqIFRoaXMgY2FtZXJhIGlzIHBvc2l0aW9uZWQgYXQgYSByZWxhdGl2ZSwgZml4ZWQgZGlzdGFuY2UgYW5kIHJvdGF0aW9uIGZyb20gdGhlIG9ic2VydmVkIHRhcmdldFxuICogYW5kIGZvbGxvd3MgdGhlIHRhcmdldCdzIHBvc2l0aW9uIGFuZCBvcmllbnRhdGlvbiBhdCB0aGlzIGZpeGVkIGRpc3RhbmNlLlxuICpcbiAqIEEgZm9sbG93IGNhbWVyYSByb3RhdGVzIGluIGFsbCB0aHJlZSBkaW1lbnNpb25zOyBpdCBkb2VzIG5vdCBoYXZlIGEgZml4ZWQgcm9sbC5cbiAqL1xuY2xhc3MgRml4ZWRGb2xsb3dDYW1lcmEgZXh0ZW5kcyBGb2xsb3dDYW1lcmEge1xuICAvKipcbiAgICogQHBhcmFtIHtET01IaWdoUmVzVGltZVN0YW1wfSBjdXJyZW50VGltZVxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGRlbHRhVGltZVxuICAgKi9cbiAgdXBkYXRlKGN1cnJlbnRUaW1lLCBkZWx0YVRpbWUpIHtcbiAgICB0aGlzLl91cGRhdGVQb3NpdGlvbigpO1xuICAgIHRoaXMuX3VwZGF0ZU9yaWVudGF0aW9uKCk7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF91cGRhdGVQb3NpdGlvbigpIHtcbiAgICBjb25zdCBpbnRlbmRlZFBvc2l0aW9uID0gdGhpcy5fZ2V0SW50ZW5kZWRQb3NpdGlvbigpO1xuICAgIHZlYzMuY29weSh0aGlzLl9wb3NpdGlvbiwgaW50ZW5kZWRQb3NpdGlvbik7XG4gIH1cbn1cblxuZXhwb3J0IHtGaXhlZEZvbGxvd0NhbWVyYX07XG4iLCJpbXBvcnQge1RoaXJkUGVyc29uQ2FtZXJhfSBmcm9tICcuL3RoaXJkLXBlcnNvbi1jYW1lcmEnO1xuXG4vKipcbiAqIFRoaXMgY2xhc3MgZGVmaW5lcyBhbiBhYnN0cmFjdCBmb2xsb3cgY2FtZXJhLlxuICpcbiAqIFRoaXMgaXMgYSB0aGlyZC1wZXJzb24gdHlwZSBvZiBjYW1lcmEgd2hvc2Ugcm9sbCBhbHdheXMgbWF0Y2hlcyB0aGF0IG9mIHRoZSB0YXJnZXQuXG4gKi9cbmNsYXNzIEZvbGxvd0NhbWVyYSBleHRlbmRzIFRoaXJkUGVyc29uQ2FtZXJhIHtcbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGUgY2FtZXJhJ3Mgb3JpZW50YXRpb24gdXNpbmcgdGhlIFwibG9vayBhdFwiIG1ldGhvZCBhY2NvcmRpbmcgdG8gaXRzIHBvc2l0aW9uIGFuZCB0aGVcbiAgICogcG9zaXRpb24gb2YgaXRzIHRhcmdldC5cbiAgICpcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgX3VwZGF0ZU9yaWVudGF0aW9uKCkge1xuICAgIGNvbnN0IHRhcmdldCA9IHRoaXMuX2NhbWVyYVRhcmdldC5wb3NpdGlvbjtcblxuICAgIGNvbnN0IHZpZXdEaXJlY3Rpb24gPSB2ZWMzLmNyZWF0ZSgpO1xuICAgIHZlYzMuc3VidHJhY3Qodmlld0RpcmVjdGlvbiwgdGFyZ2V0LCB0aGlzLl9wb3NpdGlvbik7XG4gICAgdmVjMy5ub3JtYWxpemUodmlld0RpcmVjdGlvbiwgdmlld0RpcmVjdGlvbik7XG5cbiAgICAvLyBJbml0aWFsaXplIFwidXBcIiBhcyB0aGUgd29ybGQgei1heGlzLlxuICAgIGNvbnN0IHVwID0gdmVjMy5mcm9tVmFsdWVzKDAsIDEsIDApO1xuXG4gICAgLy8gVHJhbnNmb3JtIFwidXBcIiB0byBhbGlnbiB3aXRoIHRoZSBjYW1lcmEgdGFyZ2V0J3MgbG9jYWwgei1heGlzLlxuICAgIHZlYzMudHJhbnNmb3JtUXVhdCh1cCwgdXAsIHRoaXMuX2NhbWVyYVRhcmdldC5vcmllbnRhdGlvbik7XG5cbiAgICBjb25zdCByaWdodCA9IHZlYzMuY3JlYXRlKCk7XG4gICAgdmVjMy5jcm9zcyhyaWdodCwgdmlld0RpcmVjdGlvbiwgdXApO1xuXG4gICAgLy8gVHJhbnNmb3JtIFwidXBcIiB0byBhbGlnbiB3aXRoIHRoZSBjYW1lcmEncyBsb2NhbCB6LWF4aXMuXG4gICAgdmVjMy5jcm9zcyh1cCwgcmlnaHQsIHZpZXdEaXJlY3Rpb24pO1xuXG4gICAgdGhpcy5fc2V0UG9zaXRpb25BbmRMb29rQXQodGhpcy5fcG9zaXRpb24sIHRhcmdldCwgdXAsIHZpZXdEaXJlY3Rpb24pO1xuICB9XG59XG5cbmV4cG9ydCB7Rm9sbG93Q2FtZXJhfTtcbiIsImltcG9ydCB7VGhpcmRQZXJzb25DYW1lcmF9IGZyb20gJy4vdGhpcmQtcGVyc29uLWNhbWVyYSc7XG5cbi8qKlxuICogVGhpcyBjbGFzcyBkZWZpbmVzIGFuIG92ZXJoZWFkIGNhbWVyYS5cbiAqXG4gKiBBbiBvdmVyaGVhZCBjYW1lcmEgc2l0cyBhYm92ZSB0aGUgb2JzZXJ2ZWQgY2hhcmFjdGVyIGFuZCBtb3ZlcyByZWxhdGl2ZSB0byB0aGUgY2hhcmFjdGVyIHdpdGhvdXRcbiAqIHJvdGF0aW5nLlxuICpcbiAqIEFuIG92ZXJoZWFkIGNhbWVyYSdzIHJvdGF0aW9uIHdpdGggdGhlIGNoYXJhY3RlciBpbmNsdWRlcyBvbmx5IHlhdzsgaXQgaGFzIGEgZml4ZWQgcGl0Y2ggYW5kXG4gKiByb2xsLlxuICovXG5jbGFzcyBPdmVyaGVhZENhbWVyYSBleHRlbmRzIFRoaXJkUGVyc29uQ2FtZXJhIHtcbiAgLyoqXG4gICAqIElmIG9sZENhbWVyYSBpcyBnaXZlbiwgdGhlbiB0aGUgc3RhdGUgb2YgdGhlIG5ldyBjYW1lcmEgd2lsbCBiZSBpbml0aWFsaXplZCB0byBtYXRjaCB0aGF0IG9mXG4gICAqIHRoZSBvbGQgY2FtZXJhLiBUaGlzIGVuYWJsZXMgYSBzbW9vdGggdHJhbnNpdGlvbiB3aGVuIGNoYW5naW5nIGNhbWVyYXMuXG4gICAqXG4gICAqIEBwYXJhbSB7Q2FtZXJhVGFyZ2V0fSBjYW1lcmFUYXJnZXRcbiAgICogQHBhcmFtIHtGb2xsb3dDYW1lcmFDb25maWd9IGZvbGxvd0NhbWVyYVBhcmFtc1xuICAgKiBAcGFyYW0ge0NhbWVyYUNvbmZpZ30gY2FtZXJhUGFyYW1zXG4gICAqIEBwYXJhbSB7Q2FtZXJhfSBbb2xkQ2FtZXJhXVxuICAgKi9cbiAgY29uc3RydWN0b3IoY2FtZXJhVGFyZ2V0LCBmb2xsb3dDYW1lcmFQYXJhbXMsIGNhbWVyYVBhcmFtcywgb2xkQ2FtZXJhKSB7XG4gICAgc3VwZXIoY2FtZXJhVGFyZ2V0LCBmb2xsb3dDYW1lcmFQYXJhbXMsIGNhbWVyYVBhcmFtcywgb2xkQ2FtZXJhKTtcblxuICAgIHRoaXMucmVzZXQoKTtcbiAgfVxuXG4gIHJlc2V0KCkge1xuICAgIHN1cGVyLnJlc2V0KCk7XG4gIH1cblxuICAvLyBUT0RPOiBJbXBsZW1lbnQgdGhpcyFcbn1cblxuZXhwb3J0IHtPdmVyaGVhZENhbWVyYX07XG4iLCJpbXBvcnQge0NhbWVyYX0gZnJvbSAnLi9jYW1lcmEnO1xuXG4vKipcbiAqIFRoaXMgY2xhc3MgZGVmaW5lcyBhbiBhYnN0cmFjdCB0aGlyZC1wZXJzb24gY2FtZXJhLlxuICpcbiAqIEEgdGhpcmQtcGVyc29uIGNhbWVyYSBmb2xsb3dzIGEgdGFyZ2V0IGZyb20gYSBkaXN0YW5jZS5cbiAqXG4gKiBAYWJzdHJhY3RcbiAqL1xuY2xhc3MgVGhpcmRQZXJzb25DYW1lcmEgZXh0ZW5kcyBDYW1lcmEge1xuICAvKipcbiAgICogSWYgb2xkQ2FtZXJhIGlzIGdpdmVuLCB0aGVuIHRoZSBzdGF0ZSBvZiB0aGUgbmV3IGNhbWVyYSB3aWxsIGJlIGluaXRpYWxpemVkIHRvIG1hdGNoIHRoYXQgb2ZcbiAgICogdGhlIG9sZCBjYW1lcmEuIFRoaXMgZW5hYmxlcyBhIHNtb290aCB0cmFuc2l0aW9uIHdoZW4gY2hhbmdpbmcgY2FtZXJhcy5cbiAgICpcbiAgICogQHBhcmFtIHtDYW1lcmFUYXJnZXR9IGNhbWVyYVRhcmdldFxuICAgKiBAcGFyYW0ge0ZvbGxvd0NhbWVyYUNvbmZpZ30gZm9sbG93Q2FtZXJhUGFyYW1zXG4gICAqIEBwYXJhbSB7Q2FtZXJhQ29uZmlnfSBjYW1lcmFQYXJhbXNcbiAgICogQHBhcmFtIHtDYW1lcmF9IFtvbGRDYW1lcmFdXG4gICAqL1xuICBjb25zdHJ1Y3RvcihjYW1lcmFUYXJnZXQsIGZvbGxvd0NhbWVyYVBhcmFtcywgY2FtZXJhUGFyYW1zLCBvbGRDYW1lcmEpIHtcbiAgICBzdXBlcihjYW1lcmFQYXJhbXMsIG9sZENhbWVyYSk7XG5cbiAgICAvLyBUaGlyZFBlcnNvbkNhbWVyYSBpcyBhbiBhYnN0cmFjdCBjbGFzcy4gSXQgc2hvdWxkIG5vdCBiZSBpbnN0YW50aWF0ZWQgZGlyZWN0bHkuXG4gICAgaWYgKG5ldy50YXJnZXQgPT09IFRoaXJkUGVyc29uQ2FtZXJhKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY29uc3RydWN0IFRoaXJkUGVyc29uQ2FtZXJhIGluc3RhbmNlcyBkaXJlY3RseScpO1xuICAgIH1cblxuICAgIHRoaXMuX2ZvbGxvd0NhbWVyYVBhcmFtcyA9IGZvbGxvd0NhbWVyYVBhcmFtcztcbiAgICB0aGlzLl9jYW1lcmFUYXJnZXQgPSBjYW1lcmFUYXJnZXQ7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGludGVuZGVkIHBvc2l0aW9uIGZvciB0aGlzIGNhbWVyYSB0byBiZSBpbiBhY2NvcmRpbmcgdG8gdGhlIHBvc2l0aW9uIGFuZCBvcmllbnRhdGlvbiBvZiB0aGVcbiAgICogY2FtZXJhIHRhcmdldC5cbiAgICpcbiAgICogQHJldHVybnMge3ZlYzN9XG4gICAqIEBwcm90ZWN0ZWRcbiAgICogQGFic3RyYWN0XG4gICAqL1xuICBfZ2V0SW50ZW5kZWRQb3NpdGlvbigpIHtcbiAgICBjb25zdCBpbnRlbmRlZFBvc2l0aW9uID0gdmVjMy5jcmVhdGUoKTtcbiAgICB2ZWMzLnRyYW5zZm9ybU1hdDQoXG4gICAgICAgIGludGVuZGVkUG9zaXRpb24sXG4gICAgICAgIHRoaXMuX2ZvbGxvd0NhbWVyYVBhcmFtcy5faW50ZW5kZWRUcmFuc2xhdGlvbkZyb21UYXJnZXQsXG4gICAgICAgIHRoaXMuX2NhbWVyYVRhcmdldC53b3JsZFRyYW5zZm9ybSk7XG4gICAgcmV0dXJuIGludGVuZGVkUG9zaXRpb247XG4gIH1cblxuICAvKiogQHBhcmFtIHtDYW1lcmFUYXJnZXR9IGNhbWVyYVRhcmdldCAqL1xuICBzZXQgY2FtZXJhVGFyZ2V0KGNhbWVyYVRhcmdldCkge1xuICAgIHRoaXMuX2NhbWVyYVRhcmdldCA9IGNhbWVyYVRhcmdldDtcbiAgfVxufVxuXG5leHBvcnQge1RoaXJkUGVyc29uQ2FtZXJhfTtcblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBDYW1lcmFUYXJnZXRcbiAqIEBwcm9wZXJ0eSB7dmVjM30gcG9zaXRpb24gSW4gd29ybGQgY29vcmRpbmF0ZXMuXG4gKiBAcHJvcGVydHkge3F1YXR9IG9yaWVudGF0aW9uIFJlbGF0aXZlIHRvIHRoZSB3b3JsZCBheGVzLlxuICogQHByb3BlcnR5IHttYXQ0fSB3b3JsZFRyYW5zZm9ybSBUaGUgbW9kZWwgdHJhbnNmb3JtIG1hdHJpeCwgaW4gd29ybGQgY29vcmRpbmF0ZXMuXG4gKi9cbiIsIi8qKlxuICogVGhpcyBtb2R1bGUgcmUtZXhwb3J0cyBhbGwgb2YgdGhlIGV4cG9ydHMgaW4gdGhlIGdyYWZ4IGZyYW1ld29yay4gVGhpcyBtYWtlcyB0aGUgZW50aXJlIGZyYW1ld29ya1xuICogY29udmVuaWVudGx5IGFjY2Vzc2libGUgdmlhIHRoaXMgc2luZ2xlIG1vZHVsZS5cbiAqL1xuXG5leHBvcnQgKiBmcm9tICcuL2NhbWVyYXMnO1xuZXhwb3J0ICogZnJvbSAnLi9tb2RlbHMnO1xuZXhwb3J0ICogZnJvbSAnLi9wcm9ncmFtLXdyYXBwZXInO1xuZXhwb3J0ICogZnJvbSAnLi9yZW5kZXJhYmxlLXNoYXBlcyc7XG5leHBvcnQgKiBmcm9tICcuL3V0aWwnO1xuXG5leHBvcnQgKiBmcm9tICcuL3NyYy9ncmFmeC1jb250cm9sbGVyJztcbmV4cG9ydCAqIGZyb20gJy4vc3JjL2xpZ2h0JztcbmV4cG9ydCAqIGZyb20gJy4vc3JjL3NjZW5lJztcbiIsImV4cG9ydCAqIGZyb20gJy4vc3JjL2RlZmF1bHQtbW9kZWwnO1xuZXhwb3J0ICogZnJvbSAnLi9zcmMvaW52aXNpYmxlLW1vZGVsLWNvbnRyb2xsZXInO1xuZXhwb3J0ICogZnJvbSAnLi9zcmMvbW9kZWwnO1xuZXhwb3J0ICogZnJvbSAnLi9zcmMvbW9kZWwtY29udHJvbGxlcic7XG5leHBvcnQgKiBmcm9tICcuL3NyYy9tb2RlbC1ncm91cC1jb250cm9sbGVyJztcbmV4cG9ydCAqIGZyb20gJy4vc3JjL3N0YW5kYXJkLW1vZGVsLWNvbnRyb2xsZXInO1xuIiwiaW1wb3J0IHtjcmVhdGVCdWZmZXJGcm9tRGF0YX0gZnJvbSAnLi4vLi4vdXRpbCc7XG5pbXBvcnQge01vZGVsfSBmcm9tICcuL21vZGVsJztcblxuLyoqXG4gKiBUaGlzIGNsYXNzIGRlZmluZXMgYSBkZWZhdWx0IGltcGxlbWVudGF0aW9uIG9mIHRoZSByaWdpZCBtb2RlbC5cbiAqXG4gKiBUaGlzIGltcGxlbWVudGF0aW9uIGFjY2VwdHMgYSBSZW5kZXJhYmxlU2hhcGUgYW5kIGFwcGxpZXMgc3RhbmRhcmQgT3BlbkdMIGJpbmRpbmcgbG9naWMgb24gdG9wXG4gKiBvZiBpdC5cbiAqL1xuY2xhc3MgRGVmYXVsdE1vZGVsIGV4dGVuZHMgTW9kZWwge1xuICAvKipcbiAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsXG4gICAqIEBwYXJhbSB7UmVuZGVyYWJsZVNoYXBlfSBzaGFwZUNvbmZpZ1xuICAgKi9cbiAgY29uc3RydWN0b3IoZ2wsIHNoYXBlQ29uZmlnKSB7XG4gICAgc3VwZXIoZ2wpO1xuICAgIHRoaXMuX3NoYXBlQ29uZmlnID0gc2hhcGVDb25maWc7XG4gICAgdGhpcy5faW5pdGlhbGl6ZUJ1ZmZlcnMoKTtcbiAgICB0aGlzLl9pbml0aWFsaXplQ29uZmlncygpO1xuICB9XG5cbiAgX2luaXRpYWxpemVCdWZmZXJzKCkge1xuICAgIC8vIENyZWF0ZSwgYmluZCwgYW5kIG1vdmUgZGF0YSBpbnRvIGJ1ZmZlcnMgZm9yIHRoZSB2ZXJ0ZXggcG9zaXRpb25zLCBub3JtYWxzLCB0ZXh0dXJlXG4gICAgLy8gY29vcmRpbmF0ZXMsIGFuZCBlbGVtZW50IGFycmF5LlxuICAgIHRoaXMuX3ZlcnRleFBvc2l0aW9uc0J1ZmZlciA9IGNyZWF0ZUJ1ZmZlckZyb21EYXRhKHRoaXMuX2dsLCB0aGlzLl9zaGFwZUNvbmZpZy52ZXJ0ZXhQb3NpdGlvbnMpO1xuICAgIHRoaXMuX3ZlcnRleE5vcm1hbHNCdWZmZXIgPSBjcmVhdGVCdWZmZXJGcm9tRGF0YSh0aGlzLl9nbCwgdGhpcy5fc2hhcGVDb25maWcudmVydGV4Tm9ybWFscyk7XG4gICAgdGhpcy5fdGV4dHVyZUNvb3JkaW5hdGVzQnVmZmVyID1cbiAgICAgICAgY3JlYXRlQnVmZmVyRnJvbURhdGEodGhpcy5fZ2wsIHRoaXMuX3NoYXBlQ29uZmlnLnRleHR1cmVDb29yZGluYXRlcyk7XG4gICAgaWYgKHRoaXMuX3NoYXBlQ29uZmlnLnZlcnRleEluZGljZXMpIHtcbiAgICAgIHRoaXMuX3ZlcnRleEluZGljZXNCdWZmZXIgPSBjcmVhdGVCdWZmZXJGcm9tRGF0YSh0aGlzLl9nbCwgdGhpcy5fc2hhcGVDb25maWcudmVydGV4SW5kaWNlcyxcbiAgICAgICAgICB0aGlzLl9nbC5FTEVNRU5UX0FSUkFZX0JVRkZFUik7XG4gICAgfVxuICB9XG5cbiAgX2luaXRpYWxpemVDb25maWdzKCkge1xuICAgIHRoaXMuX3ZlcnRleFBvc2l0aW9uc0NvbmZpZyA9IHtcbiAgICAgIGJ1ZmZlcjogdGhpcy5fdmVydGV4UG9zaXRpb25zQnVmZmVyLFxuICAgICAgc2l6ZTogMyxcbiAgICAgIHR5cGU6IHRoaXMuX2dsLkZMT0FULFxuICAgICAgbm9ybWFsaXplZDogZmFsc2UsXG4gICAgICBzdHJpZGU6IDAsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9O1xuICAgIHRoaXMuX3RleHR1cmVDb29yZGluYXRlc0NvbmZpZyA9IHtcbiAgICAgIGJ1ZmZlcjogdGhpcy5fdGV4dHVyZUNvb3JkaW5hdGVzQnVmZmVyLFxuICAgICAgc2l6ZTogMixcbiAgICAgIHR5cGU6IHRoaXMuX2dsLkZMT0FULFxuICAgICAgbm9ybWFsaXplZDogZmFsc2UsXG4gICAgICBzdHJpZGU6IDAsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9O1xuICAgIHRoaXMuX3ZlcnRleE5vcm1hbHNDb25maWcgPSB7XG4gICAgICBidWZmZXI6IHRoaXMuX3ZlcnRleE5vcm1hbHNCdWZmZXIsXG4gICAgICBzaXplOiAzLFxuICAgICAgdHlwZTogdGhpcy5fZ2wuRkxPQVQsXG4gICAgICBub3JtYWxpemVkOiBmYWxzZSxcbiAgICAgIHN0cmlkZTogMCxcbiAgICAgIG9mZnNldDogMFxuICAgIH07XG4gIH1cblxuICAvKiogQHJldHVybnMge251bWJlcn0gKi9cbiAgZ2V0IGVsZW1lbnRDb3VudCgpIHtcbiAgICByZXR1cm4gdGhpcy5fc2hhcGVDb25maWcuZWxlbWVudENvdW50O1xuICB9XG5cbiAgLyoqIEByZXR1cm5zIHtudW1iZXJ9ICovXG4gIGdldCBtb2RlKCkge1xuICAgIHJldHVybiB0aGlzLl9nbC5UUklBTkdMRVM7XG4gICAgLy9yZXR1cm4gdGhpcy5fZ2wuTElORV9TVFJJUDsvLyBUT0RPOiBSRU1PVkUgTUVcbiAgfVxufVxuXG5leHBvcnQge0RlZmF1bHRNb2RlbH07XG4iLCJpbXBvcnQge01vZGVsQ29udHJvbGxlcn0gZnJvbSAnLi9tb2RlbC1jb250cm9sbGVyJztcblxuLyoqXG4gKiBUaGlzIGNsYXNzIGRlZmluZXMgYW4gZXh0ZW5zaW9uIG9mIHRoZSBtb2RlbC1jb250cm9sbGVyIGNsYXNzIHRoYXQgd2lsbCBtYWludGFpbiBzdGF0ZSBidXQgd2lsbFxuICogbmV2ZXIgcmVuZGVyIGFueXRoaW5nLlxuICovXG5jbGFzcyBJbnZpc2libGVNb2RlbENvbnRyb2xsZXIgZXh0ZW5kcyBNb2RlbENvbnRyb2xsZXIge1xuICAvKipcbiAgICogQHBhcmFtIHtNb2RlbENvbnRyb2xsZXJDb25maWd9IHBhcmFtc1xuICAgKi9cbiAgY29uc3RydWN0b3IocGFyYW1zKSB7XG4gICAgc3VwZXIocGFyYW1zKTtcbiAgfVxuXG4gIGRlc3Ryb3koKSB7fVxuXG4gIHVwZGF0ZShjdXJyZW50VGltZSwgZGVsdGFUaW1lKSB7fVxuXG4gIGRyYXcoKSB7fVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyB0aGUgcHJvZ3JhbSB2YXJpYWJsZXMgY29uZmlndXJhdGlvbi5cbiAgICpcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgX3NldFVwUHJvZ3JhbVZhcmlhYmxlc0NvbmZpZygpIHtcbiAgICB0aGlzLl9wcm9ncmFtVmFyaWFibGVzQ29uZmlnID0ge307XG4gIH1cblxuICAvKipcbiAgICogT3ZlcnJpZGVzIHRoZSBkZWZhdWx0IG1ldGhvZCB0byBpbnN0ZWFkIGRvIG5vdGhpbmcuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAgICovXG4gIF9zZXRVcFByb2dyYW1XcmFwcGVyKGlkKSB7XG4gICAgdGhpcy5fcHJvZ3JhbVdyYXBwZXJJZCA9IGlkO1xuICAgIHRoaXMuX3Byb2dyYW1XcmFwcGVyUHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZShudWxsKTtcbiAgICByZXR1cm4gdGhpcy5fcHJvZ3JhbVdyYXBwZXJQcm9taXNlO1xuICB9XG59XG5cbmV4cG9ydCB7SW52aXNpYmxlTW9kZWxDb250cm9sbGVyfTtcbiIsImltcG9ydCB7UGVyc2lzdGVudEFuaW1hdGlvbkpvYn0gZnJvbSAnbHNsLWFuaW1hdGV4JztcbmltcG9ydCB7XG4gIHByb2dyYW1XcmFwcGVyU3RvcmUsXG4gIHRleHR1cmVTdG9yZSxcbn0gZnJvbSAnLi4vLi4vcHJvZ3JhbS13cmFwcGVyJztcblxuLyoqXG4gKiBUaGlzIGNsYXNzIGRlZmluZXMgYSBtb2RlbC1jb250cm9sbGVyIGNsYXNzLlxuICpcbiAqIFRoaXMgc2hvdWxkIGJlIGV4dGVuZGVkIGJ5IGFsbCBjb21wb25lbnRzIHRoYXQgaGFuZGxlIG1vZGVscy0taS5lLiwgYW55dGhpbmcgdGhhdCB3aWxsIGJlXG4gKiByZW5kZXJpbmcgc2hhcGVzLlxuICpcbiAqIEBpbXBsZW1lbnRzIHtNb2RlbENvbnRyb2xsZXJJbnRlcmZhY2V9XG4gKiBAYWJzdHJhY3RcbiAqL1xuY2xhc3MgTW9kZWxDb250cm9sbGVyIGV4dGVuZHMgUGVyc2lzdGVudEFuaW1hdGlvbkpvYiB7XG4gIC8qKlxuICAgKiBQUkVDT05ESVRJT046IFRoZSBQcm9ncmFtV3JhcHBlciByZWZlcmVuY2VkIGJ5IHRoZSBnaXZlbiBwYXJhbXMgbXVzdCBoYXZlIGFscmVhZHkgYmVlblxuICAgKiByZWdpc3RlcmVkLlxuICAgKlxuICAgKiBAcGFyYW0ge01vZGVsQ29udHJvbGxlckNvbmZpZ30gcGFyYW1zXG4gICAqL1xuICBjb25zdHJ1Y3RvcihwYXJhbXMpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgLy8gTW9kZWxDb250cm9sbGVyIGlzIGFuIGFic3RyYWN0IGNsYXNzLiBJdCBzaG91bGQgbm90IGJlIGluc3RhbnRpYXRlZCBkaXJlY3RseS5cbiAgICBpZiAobmV3LnRhcmdldCA9PT0gTW9kZWxDb250cm9sbGVyKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY29uc3RydWN0IE1vZGVsQ29udHJvbGxlciBpbnN0YW5jZXMgZGlyZWN0bHknKTtcbiAgICB9XG5cbiAgICB0aGlzLl9nbCA9IHBhcmFtcy5nbDtcbiAgICB0aGlzLl9nZXRWaWV3TWF0cml4ID0gcGFyYW1zLmdldFZpZXdNYXRyaXg7XG4gICAgdGhpcy5fZ2V0UHJvamVjdGlvbk1hdHJpeCA9IHBhcmFtcy5nZXRQcm9qZWN0aW9uTWF0cml4O1xuICAgIHRoaXMuX2dldFBhcmVudFdvcmxkVHJhbnNmb3JtID0gcGFyYW1zLmdldFBhcmVudFdvcmxkVHJhbnNmb3JtO1xuICAgIHRoaXMuX2xvY2FsVHJhbnNmb3JtID0gbWF0NC5jcmVhdGUoKTtcbiAgICB0aGlzLl93b3JsZFRyYW5zZm9ybSA9IG1hdDQuY3JlYXRlKCk7XG4gICAgdGhpcy5fdGV4dHVyZSA9IG51bGw7XG4gICAgdGhpcy5fcHJvZ3JhbVdyYXBwZXIgPSBudWxsO1xuICAgIHRoaXMuX3Byb2dyYW1XcmFwcGVySWQgPSBudWxsO1xuICAgIHRoaXMuX2RyYXdGcmFtZUhhbmRsZXIgPSAoKSA9PiB0aGlzLmRyYXcoKTtcbiAgICB0aGlzLl9wcm9ncmFtVmFyaWFibGVzQ29uZmlnID0gbnVsbDtcblxuICAgIHRoaXMucG9zaXRpb24gPSB2ZWMzLmNyZWF0ZSgpO1xuICAgIHRoaXMuc2NhbGUgPSB2ZWMzLmZyb21WYWx1ZXMoMSwgMSwgMSk7XG5cbiAgICB0aGlzLl9zZXRVcFRleHR1cmUocGFyYW1zLnRleHR1cmVQYXRoKTtcbiAgICB0aGlzLl9zZXRVcFByb2dyYW1XcmFwcGVyKHBhcmFtcy5wcm9ncmFtV3JhcHBlcklkKTtcblxuICAgIHRoaXMuX2lzUmVhZHlQcm9taXNlID0gUHJvbWlzZS5hbGwoW1xuICAgICAgdGhpcy5fdGV4dHVyZVByb21pc2UsXG4gICAgICB0aGlzLl9wcm9ncmFtV3JhcHBlclByb21pc2UsXG4gICAgXSk7XG4gIH1cblxuICByZXNldCgpIHt9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIHRoaXMgaXMgZG9uZSBiZWluZyB1c2VkLCBhbmQgaXMgYmVpbmcgZGVzdHJveWVkIGZyb20gbWVtb3J5LlxuICAgKi9cbiAgZGVzdHJveSgpIHtcbiAgICBwcm9ncmFtV3JhcHBlclN0b3JlLnVucmVnaXN0ZXJEcmF3RnJhbWVIYW5kbGVyKHRoaXMuX3Byb2dyYW1XcmFwcGVySWQsIHRoaXMuX2RyYXdGcmFtZUhhbmRsZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxzIHVwZGF0ZSwgdXBkYXRlVHJhbnNmb3JtcywgYW5kIHVwZGF0ZUNoaWxkcmVuLlxuICAgKlxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGN1cnJlbnRUaW1lXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gZGVsdGFUaW1lXG4gICAqL1xuICB1cGRhdGVTZWxmQW5kQ2hpbGRyZW4oY3VycmVudFRpbWUsIGRlbHRhVGltZSkge1xuICAgIHRoaXMudXBkYXRlKGN1cnJlbnRUaW1lLCBkZWx0YVRpbWUpO1xuICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtcygpO1xuICAgIHRoaXMudXBkYXRlQ2hpbGRyZW4oY3VycmVudFRpbWUsIGRlbHRhVGltZSk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyByZWxldmFudCBzdGF0ZSBmb3IgdGhlIHN1Yi1jbGFzcy5cbiAgICpcbiAgICogLSBUaGlzIGRvZXMgbm90IHJlY3Vyc2l2ZWx5IHVwZGF0ZSBkZXNjZW5kYW50IG1vZGVsIGNvbnRyb2xsZXJzOyB0aGF0J3MgaGFuZGxlZCBieVxuICAgKiAgIHVwZGF0ZUNoaWxkcmVuLlxuICAgKiAtIFRoaXMgZG9lcyBub3QgdXBkYXRlIHRoZSBsb2NhbCBvciB3b3JsZC1jb29yZGluYXRlIHRyYW5zZm9ybXM7IHRoYXQncyBoYW5kbGVkIGJ5XG4gICAqICAgdXBkYXRlVHJhbnNmb3Jtcy5cbiAgICogLSBUaGlzIGlzIGNhbGxlZCBiZWZvcmUgdXBkYXRlTG9jYWxUcmFuc2Zvcm0gYW5kIHVwZGF0ZUNoaWxkcmVuLlxuICAgKlxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGN1cnJlbnRUaW1lXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gZGVsdGFUaW1lXG4gICAqL1xuICB1cGRhdGUoY3VycmVudFRpbWUsIGRlbHRhVGltZSkge1xuICAgIC8vIEV4dGVuZGluZyBjbGFzc2VzIHNob3VsZCBpbXBsZW1lbnQgdGhpcyBtZXRob2QuXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTWV0aG9kIG5vdCBpbXBsZW1lbnRlZCcpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIHdvcmxkLWNvb3JkaW5hdGUgYW5kIGxvY2FsLWNvb3JkaW5hdGUgbW9kZWwgbWF0cmljZXMuXG4gICAqXG4gICAqIFRoaXMgaXMgY2FsbGVkIGFmdGVyIHVwZGF0ZSBhbmQgYmVmb3JlIHVwZGF0ZUNoaWxkcmVuLlxuICAgKlxuICAgKiBOT1RFOiBBbGwgb3ZlcnJpZGVzIG9mIHRoaXMgbWV0aG9kIHNob3VsZCB1cGRhdGUgW3RoaXMuX2xvY2FsVHJhbnNmb3JtXS5cbiAgICovXG4gIHVwZGF0ZVRyYW5zZm9ybXMoKSB7XG4gICAgbWF0NC5tdWx0aXBseSh0aGlzLl93b3JsZFRyYW5zZm9ybSwgdGhpcy5fZ2V0UGFyZW50V29ybGRUcmFuc2Zvcm0oKSwgdGhpcy5fbG9jYWxUcmFuc2Zvcm0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgcmVsZXZhbnQgc3RhdGUgZm9yIGFueSBjaGlsZHJlbiBtb2RlbCBjb250cm9sbGVycy5cbiAgICpcbiAgICogVGhpcyBpcyBjYWxsZWQgYWZ0ZXIgdXBkYXRlIGFuZCB1cGRhdGVMb2NhbFRyYW5zZm9ybS5cbiAgICpcbiAgICogQHBhcmFtIHtET01IaWdoUmVzVGltZVN0YW1wfSBjdXJyZW50VGltZVxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGRlbHRhVGltZVxuICAgKi9cbiAgdXBkYXRlQ2hpbGRyZW4oY3VycmVudFRpbWUsIGRlbHRhVGltZSkge31cblxuICAvKipcbiAgICogQGFic3RyYWN0XG4gICAqL1xuICBkcmF3KCkge1xuICAgIC8vIEV4dGVuZGluZyBjbGFzc2VzIHNob3VsZCBpbXBsZW1lbnQgdGhpcyBtZXRob2QuXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTWV0aG9kIG5vdCBpbXBsZW1lbnRlZCcpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIG1vZGVsIHRyYW5zZm9ybSBtYXRyaXgsIGluIGxvY2FsIGNvb3JkaW5hdGVzLlxuICAgKlxuICAgKiBAcmV0dXJucyB7bWF0NH1cbiAgICovXG4gIGdldCBsb2NhbFRyYW5zZm9ybSgpIHtcbiAgICByZXR1cm4gdGhpcy5fbG9jYWxUcmFuc2Zvcm07XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgbW9kZWwgdHJhbnNmb3JtIG1hdHJpeCwgaW4gd29ybGQgY29vcmRpbmF0ZXMuXG4gICAqXG4gICAqIEByZXR1cm5zIHttYXQ0fVxuICAgKi9cbiAgZ2V0IHdvcmxkVHJhbnNmb3JtKCkge1xuICAgIHJldHVybiB0aGlzLl93b3JsZFRyYW5zZm9ybTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhpcyBtb2RlbCBjb250cm9sbGVyIGlzIHJlYWR5IGZvciB0aGUgYXBwIHRvIHJ1bi5cbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2V9XG4gICAqL1xuICBnZXRJc1JlYWR5KCkge1xuICAgIHJldHVybiB0aGlzLl9pc1JlYWR5UHJvbWlzZTtcbiAgfVxuXG4gIC8qKiBAcGFyYW0ge3N0cmluZ30gaWQgKi9cbiAgc2V0IHByb2dyYW1XcmFwcGVySWQoaWQpIHtcbiAgICBwcm9ncmFtV3JhcHBlclN0b3JlLnVucmVnaXN0ZXJEcmF3RnJhbWVIYW5kbGVyKHRoaXMuX3Byb2dyYW1XcmFwcGVySWQsIHRoaXMuX2RyYXdGcmFtZUhhbmRsZXIpO1xuICAgIHRoaXMuX3NldFVwUHJvZ3JhbVdyYXBwZXIoaWQpO1xuICB9XG5cbiAgLyoqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSAqL1xuICBzZXQgdGV4dHVyZVBhdGgodmFsdWUpIHtcbiAgICB0aGlzLl9zZXRVcFRleHR1cmUodmFsdWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIHRoZSBwcm9ncmFtIHZhcmlhYmxlcyBjb25maWd1cmF0aW9uLlxuICAgKlxuICAgKiBAcHJvdGVjdGVkXG4gICAqIEBhYnN0cmFjdFxuICAgKi9cbiAgX3NldFVwUHJvZ3JhbVZhcmlhYmxlc0NvbmZpZygpIHtcbiAgICAvLyBFeHRlbmRpbmcgY2xhc3NlcyBzaG91bGQgaW1wbGVtZW50IHRoaXMgbWV0aG9kLlxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ01ldGhvZCBub3QgaW1wbGVtZW50ZWQnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW3RleHR1cmVQYXRoXVxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9zZXRVcFRleHR1cmUodGV4dHVyZVBhdGgpIHtcbiAgICB0aGlzLl90ZXh0dXJlUHJvbWlzZSA9IHRleHR1cmVQYXRoXG4gICAgICAgID8gdGV4dHVyZVN0b3JlLmxvYWRUZXh0dXJlKHRoaXMuX2dsLCB0ZXh0dXJlUGF0aClcbiAgICAgICAgOiBQcm9taXNlLnJlc29sdmUobnVsbCk7XG5cbiAgICAvLyBBc3NpZ24gdGhlIGFjdHVhbCB0ZXh0dXJlLlxuICAgIHRoaXMuX3RleHR1cmVQcm9taXNlID0gdGhpcy5fdGV4dHVyZVByb21pc2VcbiAgICAgICAgLnRoZW4odGV4dHVyZSA9PiB0aGlzLl90ZXh0dXJlID0gdGV4dHVyZSlcbiAgICAgICAgLnRoZW4oKCkgPT4gdGhpcy5fc2V0VXBQcm9ncmFtVmFyaWFibGVzQ29uZmlnKCkpO1xuXG4gICAgcmV0dXJuIHRoaXMuX3RleHR1cmVQcm9taXNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9zZXRVcFByb2dyYW1XcmFwcGVyKGlkKSB7XG4gICAgdGhpcy5fcHJvZ3JhbVdyYXBwZXJJZCA9IGlkO1xuICAgIHRoaXMuX3Byb2dyYW1XcmFwcGVyUHJvbWlzZSA9IHByb2dyYW1XcmFwcGVyU3RvcmUuZ2V0UHJvZ3JhbVdyYXBwZXJQcm9taXNlKGlkKVxuICAgICAgICAudGhlbihwcm9ncmFtV3JhcHBlciA9PiB0aGlzLl9wcm9ncmFtV3JhcHBlciA9IHByb2dyYW1XcmFwcGVyKTtcbiAgICBQcm9taXNlLmFsbChbdGhpcy5fcHJvZ3JhbVdyYXBwZXJQcm9taXNlLCB0aGlzLl90ZXh0dXJlUHJvbWlzZV0pXG4gICAgICAgIC50aGVuKCgpID0+IHByb2dyYW1XcmFwcGVyU3RvcmUucmVnaXN0ZXJEcmF3RnJhbWVIYW5kbGVyKGlkLCB0aGlzLl9kcmF3RnJhbWVIYW5kbGVyKSk7XG4gICAgcmV0dXJuIHRoaXMuX3Byb2dyYW1XcmFwcGVyUHJvbWlzZTtcbiAgfVxufVxuXG5leHBvcnQge01vZGVsQ29udHJvbGxlcn07XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gTW9kZWxDb250cm9sbGVySW50ZXJmYWNlXG4gKiBAcHJvcGVydHkge0Z1bmN0aW9uLjxQcm9taXNlPn0gZ2V0SXNSZWFkeVxuICogQHByb3BlcnR5IHtGdW5jdGlvbn0gcmVzZXRcbiAqIEBwcm9wZXJ0eSB7RnVuY3Rpb259IGRlc3Ryb3lcbiAqIEBwcm9wZXJ0eSB7bWF0NH0gbG9jYWxUcmFuc2Zvcm1cbiAqIEBwcm9wZXJ0eSB7bWF0NH0gd29ybGRUcmFuc2Zvcm1cbiAqIEBwcm9wZXJ0eSB7dmVjM30gcG9zaXRpb25cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE1vZGVsQ29udHJvbGxlckNvbmZpZ1xuICogQHByb3BlcnR5IHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsXG4gKiBAcHJvcGVydHkge0Z1bmN0aW9uLjxtYXQ0Pn0gZ2V0Vmlld01hdHJpeFxuICogQHByb3BlcnR5IHtGdW5jdGlvbi48bWF0ND59IGdldFByb2plY3Rpb25NYXRyaXhcbiAqIEBwcm9wZXJ0eSB7RnVuY3Rpb24uPG1hdDQ+fSBnZXRQYXJlbnRXb3JsZFRyYW5zZm9ybVxuICogQHByb3BlcnR5IHtzdHJpbmd9IHByb2dyYW1XcmFwcGVySWRcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbdGV4dHVyZVBhdGhdXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBNb2RlbEdyb3VwQ29udHJvbGxlckNvbmZpZ1xuICogQHByb3BlcnR5IHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsXG4gKiBAcHJvcGVydHkge0Z1bmN0aW9uLjxtYXQ0Pn0gZ2V0Vmlld01hdHJpeFxuICogQHByb3BlcnR5IHtGdW5jdGlvbi48bWF0ND59IGdldFByb2plY3Rpb25NYXRyaXhcbiAqIEBwcm9wZXJ0eSB7RnVuY3Rpb24uPG1hdDQ+fSBnZXRQYXJlbnRXb3JsZFRyYW5zZm9ybVxuICovXG4iLCJpbXBvcnQgeyBQZXJzaXN0ZW50QW5pbWF0aW9uSm9iIH0gZnJvbSAnbHNsLWFuaW1hdGV4JztcblxuLyoqXG4gKiBUaGlzIGNsYXNzIGNvbnRyb2xzIGdyb3VwcyBvZiBtb2RlbHMuXG4gKlxuICogVGhpcyBpcyB1c2VmdWwgZm9yIGhpZ2hlci1sZXZlbCBjb250cm9sbGVycyB0aGF0IGNvbnRyb2wgb3RoZXIgbW9kZWxzIGFuZCBhbHNvIHRyYW5zZm9ybSB0aGVtLlxuICpcbiAqIEBpbXBsZW1lbnRzIHtNb2RlbENvbnRyb2xsZXJJbnRlcmZhY2V9XG4gKiBAYWJzdHJhY3RcbiAqL1xuY2xhc3MgTW9kZWxHcm91cENvbnRyb2xsZXIgZXh0ZW5kcyBQZXJzaXN0ZW50QW5pbWF0aW9uSm9iIHtcbiAgLyoqXG4gICAqIElmIGVpdGhlciBvZiB0aGUgc2hhZGVyIHBhdGhzIGFyZSBvbWl0dGVkLCB0aGVuIHRoaXMgbW9kZWwgY29udHJvbGxlciB3aWxsIG5vdCBjcmVhdGUgYVxuICAgKiByZW5kZXJpbmcgcHJvZ3JhbSBjb25maWd1cmF0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge01vZGVsR3JvdXBDb250cm9sbGVyQ29uZmlnfSBwYXJhbXNcbiAgICovXG4gIGNvbnN0cnVjdG9yKHBhcmFtcykge1xuICAgIHN1cGVyKCk7XG5cbiAgICAvLyBNb2RlbEdyb3VwQ29udHJvbGxlciBpcyBhbiBhYnN0cmFjdCBjbGFzcy4gSXQgc2hvdWxkIG5vdCBiZSBpbnN0YW50aWF0ZWQgZGlyZWN0bHkuXG4gICAgaWYgKG5ldy50YXJnZXQgPT09IE1vZGVsR3JvdXBDb250cm9sbGVyKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY29uc3RydWN0IE1vZGVsR3JvdXBDb250cm9sbGVyIGluc3RhbmNlcyBkaXJlY3RseScpO1xuICAgIH1cblxuICAgIHRoaXMuX2dsID0gcGFyYW1zLmdsO1xuICAgIHRoaXMuX2dldFZpZXdNYXRyaXggPSBwYXJhbXMuZ2V0Vmlld01hdHJpeDtcbiAgICB0aGlzLl9nZXRQcm9qZWN0aW9uTWF0cml4ID0gcGFyYW1zLmdldFByb2plY3Rpb25NYXRyaXg7XG4gICAgdGhpcy5fZ2V0UGFyZW50V29ybGRUcmFuc2Zvcm0gPSBwYXJhbXMuZ2V0UGFyZW50V29ybGRUcmFuc2Zvcm0gfHwgKCgpID0+IG1hdDQuY3JlYXRlKCkpO1xuICAgIHRoaXMuX2xvY2FsVHJhbnNmb3JtID0gbWF0NC5jcmVhdGUoKTtcbiAgICB0aGlzLl93b3JsZFRyYW5zZm9ybSA9IG1hdDQuY3JlYXRlKCk7XG4gICAgdGhpcy5fbW9kZWxDdHJscyA9IFtdO1xuICB9XG5cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLmNsZWFyTW9kZWxDb250cm9sbGVycygpO1xuICB9XG5cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5fdHJpZ2dlck9uQWxsTW9kZWxDb250cm9sbGVycygncmVzZXQnKTtcbiAgfVxuXG4gIGNsZWFyTW9kZWxDb250cm9sbGVycygpIHtcbiAgICB0aGlzLl90cmlnZ2VyT25BbGxNb2RlbENvbnRyb2xsZXJzKCdkZXN0cm95Jyk7XG4gICAgdGhpcy5fbW9kZWxDdHJscyA9IFtdO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxzIHVwZGF0ZSwgdXBkYXRlVHJhbnNmb3JtcywgYW5kIHVwZGF0ZUNoaWxkcmVuLlxuICAgKlxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGN1cnJlbnRUaW1lXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gZGVsdGFUaW1lXG4gICAqL1xuICB1cGRhdGVTZWxmQW5kQ2hpbGRyZW4oY3VycmVudFRpbWUsIGRlbHRhVGltZSkge1xuICAgIHRoaXMudXBkYXRlKGN1cnJlbnRUaW1lLCBkZWx0YVRpbWUpO1xuICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtcygpO1xuICAgIHRoaXMudXBkYXRlQ2hpbGRyZW4oY3VycmVudFRpbWUsIGRlbHRhVGltZSk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyByZWxldmFudCBzdGF0ZSBmb3IgdGhlIHN1Yi1jbGFzcy5cbiAgICpcbiAgICogLSBUaGlzIGRvZXMgbm90IHJlY3Vyc2l2ZWx5IHVwZGF0ZSBkZXNjZW5kYW50IG1vZGVsIGNvbnRyb2xsZXJzOyB0aGF0J3MgaGFuZGxlZCBieVxuICAgKiAgIHVwZGF0ZUNoaWxkcmVuLlxuICAgKiAtIFRoaXMgZG9lcyBub3QgdXBkYXRlIHRoZSBsb2NhbCBvciB3b3JsZC1jb29yZGluYXRlIHRyYW5zZm9ybXM7IHRoYXQncyBoYW5kbGVkIGJ5XG4gICAqICAgdXBkYXRlVHJhbnNmb3Jtcy5cbiAgICogLSBUaGlzIGlzIGNhbGxlZCBiZWZvcmUgdXBkYXRlTG9jYWxUcmFuc2Zvcm0gYW5kIHVwZGF0ZUNoaWxkcmVuLlxuICAgKlxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGN1cnJlbnRUaW1lXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gZGVsdGFUaW1lXG4gICAqL1xuICB1cGRhdGUoY3VycmVudFRpbWUsIGRlbHRhVGltZSkge31cblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgd29ybGQtY29vcmRpbmF0ZSBhbmQgbG9jYWwtY29vcmRpbmF0ZSBtb2RlbCBtYXRyaWNlcy5cbiAgICpcbiAgICogVGhpcyBpcyBjYWxsZWQgYWZ0ZXIgdXBkYXRlIGFuZCBiZWZvcmUgdXBkYXRlQ2hpbGRyZW4uXG4gICAqXG4gICAqIE5PVEU6IEFsbCBpbXBsZW1lbnRhdGlvbnMgb2YgdGhpcyBtZXRob2Qgc2hvdWxkIHVwZGF0ZSBbdGhpcy5fbG9jYWxUcmFuc2Zvcm1dLlxuICAgKi9cbiAgdXBkYXRlVHJhbnNmb3JtcygpIHtcbiAgICBtYXQ0Lm11bHRpcGx5KHRoaXMuX3dvcmxkVHJhbnNmb3JtLCB0aGlzLl9nZXRQYXJlbnRXb3JsZFRyYW5zZm9ybSgpLCB0aGlzLl9sb2NhbFRyYW5zZm9ybSk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyByZWxldmFudCBzdGF0ZSBmb3IgYW55IGNoaWxkcmVuIG1vZGVsIGNvbnRyb2xsZXJzLlxuICAgKlxuICAgKiBUaGlzIGlzIGNhbGxlZCBhZnRlciB1cGRhdGUgYW5kIHVwZGF0ZUxvY2FsVHJhbnNmb3JtLlxuICAgKlxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGN1cnJlbnRUaW1lXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gZGVsdGFUaW1lXG4gICAqL1xuICB1cGRhdGVDaGlsZHJlbihjdXJyZW50VGltZSwgZGVsdGFUaW1lKSB7XG4gICAgdGhpcy5fdHJpZ2dlck9uQWxsTW9kZWxDb250cm9sbGVycygndXBkYXRlU2VsZkFuZENoaWxkcmVuJywgW2N1cnJlbnRUaW1lLCBkZWx0YVRpbWVdKTtcbiAgfVxuXG4gIGRyYXcoKSB7XG4gICAgLy8gV2UgZG9uJ3QgY2FsbCBkcmF3IG9uIHRoZSBjaGlsZHJlbiBtb2RlbCBjb250cm9sbGVycywgYmVjYXVzZSB0aGV5IHJlZ2lzdGVyIHRoZW1zZWx2ZXMgdG8gYmVcbiAgICAvLyBkcmF3biB3aXRoIHRoZWlyIGdpdmVuIHNoYWRlciBwcm9ncmFtLlxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7TW9kZWxDb250cm9sbGVySW50ZXJmYWNlfSBtb2RlbEN0cmxcbiAgICogQHJldHVybnMge1Byb21pc2UuPE1vZGVsQ29udHJvbGxlckludGVyZmFjZT59XG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIF9zdGFydE1vZGVsQ29udHJvbGxlcihtb2RlbEN0cmwpIHtcbiAgICByZXR1cm4gbW9kZWxDdHJsLmdldElzUmVhZHkoKS50aGVuKCgpID0+IHtcbiAgICAgIG1vZGVsQ3RybC5yZXNldCgpO1xuICAgICAgdGhpcy5fbW9kZWxDdHJscy5wdXNoKG1vZGVsQ3RybCk7XG4gICAgICByZXR1cm4gbW9kZWxDdHJsO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7TW9kZWxDb250cm9sbGVySW50ZXJmYWNlfSBtb2RlbEN0cmxcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgX29uTW9kZWxDb250cm9sbGVyRGVzdHJveWVkKG1vZGVsQ3RybCkge1xuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5fbW9kZWxDdHJscy5pbmRleE9mKG1vZGVsQ3RybCk7XG4gICAgdGhpcy5fbW9kZWxDdHJscy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIG1vZGVsQ3RybC5kZXN0cm95KCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHt2ZWMzfSB0YXJnZXRQb3NpdGlvblxuICAgKiBAcGFyYW0ge251bWJlcn0gbWF4U3F1YXJlZERpc3RhbmNlXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIF9yZW1vdmVEaXN0YW50TW9kZWxDb250cm9sbGVycyh0YXJnZXRQb3NpdGlvbiwgbWF4U3F1YXJlZERpc3RhbmNlKSB7XG4gICAgdGhpcy5fbW9kZWxDdHJsc1xuICAgICAgLy8gR2V0IHRoZSBNb2RlbENvbnRyb2xsZXJzIHRoYXQgYXJlIHRvbyBmYXIgYXdheS5cbiAgICAgIC5maWx0ZXIobW9kZWxDdHJsID0+XG4gICAgICAgIHZlYzMuc3F1YXJlZERpc3RhbmNlKG1vZGVsQ3RybC5wb3NpdGlvbiwgdGFyZ2V0UG9zaXRpb24pID4gbWF4U3F1YXJlZERpc3RhbmNlKVxuICAgICAgLy8gUmVtb3ZlIHRoZSBmYXItYXdheSBNb2RlbENvbnRyb2xsZXJzLlxuICAgICAgLmZvckVhY2gobW9kZWxDdHJsID0+IHRoaXMuX29uTW9kZWxDb250cm9sbGVyRGVzdHJveWVkKG1vZGVsQ3RybCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIG1vZGVsIHRyYW5zZm9ybSBtYXRyaXgsIGluIGxvY2FsIGNvb3JkaW5hdGVzLlxuICAgKlxuICAgKiBAcmV0dXJucyB7bWF0NH1cbiAgICovXG4gIGdldCBsb2NhbFRyYW5zZm9ybSgpIHtcbiAgICByZXR1cm4gdGhpcy5fbG9jYWxUcmFuc2Zvcm07XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgbW9kZWwgdHJhbnNmb3JtIG1hdHJpeCwgaW4gd29ybGQgY29vcmRpbmF0ZXMuXG4gICAqXG4gICAqIEByZXR1cm5zIHttYXQ0fVxuICAgKi9cbiAgZ2V0IHdvcmxkVHJhbnNmb3JtKCkge1xuICAgIHJldHVybiB0aGlzLl93b3JsZFRyYW5zZm9ybTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhpcyBtb2RlbCBjb250cm9sbGVyIGlzIHJlYWR5IGZvciB0aGUgYXBwIHRvIHJ1bi5cbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2V9XG4gICAqL1xuICBnZXRJc1JlYWR5KCkge1xuICAgIHJldHVybiBQcm9taXNlLmFsbCh0aGlzLl9tb2RlbEN0cmxzLm1hcChjb250cm9sbGVyID0+IGNvbnRyb2xsZXIuZ2V0SXNSZWFkeSgpKSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZE5hbWVcbiAgICogQHBhcmFtIHtBcnJheS48Kj59IFthcmdzXVxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBfdHJpZ2dlck9uQWxsTW9kZWxDb250cm9sbGVycyhtZXRob2ROYW1lLCBhcmdzID0gW10pIHtcbiAgICAvL3RoaXMuX2RlbW9PYmplY3RbbWV0aG9kTmFtZV0oLi4uYXJncyk7XG4gICAgdGhpcy5fbW9kZWxDdHJscy5mb3JFYWNoKG9iamVjdCA9PiBvYmplY3RbbWV0aG9kTmFtZV0oLi4uYXJncykpO1xuICB9XG59XG5cbmV4cG9ydCB7IE1vZGVsR3JvdXBDb250cm9sbGVyIH07XG4iLCIvKipcbiAqIFRoaXMgY2xhc3MgZGVmaW5lcyBhIHRvcC1sZXZlbCBtb2RlbC5cbiAqXG4gKiBAYWJzdHJhY3RcbiAqL1xuY2xhc3MgTW9kZWwge1xuICAvKipcbiAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsXG4gICAqL1xuICBjb25zdHJ1Y3RvcihnbCkge1xuICAgIC8vIE1vZGVsIGlzIGFuIGFic3RyYWN0IGNsYXNzLiBJdCBzaG91bGQgbm90IGJlIGluc3RhbnRpYXRlZCBkaXJlY3RseS5cbiAgICBpZiAobmV3LnRhcmdldCA9PT0gTW9kZWwpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjb25zdHJ1Y3QgTW9kZWwgaW5zdGFuY2VzIGRpcmVjdGx5Jyk7XG4gICAgfVxuXG4gICAgdGhpcy5fZ2wgPSBnbDtcbiAgICB0aGlzLmJvdW5kcyA9IG51bGw7XG5cbiAgICB0aGlzLl92ZXJ0ZXhQb3NpdGlvbnNCdWZmZXIgPSBudWxsO1xuICAgIHRoaXMuX3ZlcnRleE5vcm1hbHNCdWZmZXIgPSBudWxsO1xuICAgIHRoaXMuX3RleHR1cmVDb29yZGluYXRlc0J1ZmZlciA9IG51bGw7XG5cbiAgICB0aGlzLl92ZXJ0ZXhQb3NpdGlvbnNDb25maWcgPSBudWxsO1xuICAgIHRoaXMuX3RleHR1cmVDb29yZGluYXRlc0NvbmZpZyA9IG51bGw7XG4gICAgdGhpcy5fdmVydGV4Tm9ybWFsc0NvbmZpZyA9IG51bGw7XG5cbiAgICAvLyBJZiB0aGlzIGlzIGtlcHQgbnVsbCwgdGhlbiBnbC5kcmF3QXJyYXlzIHdpbGwgYmUgdXNlZCAod2l0aCBnbC5BUlJBWV9CVUZGRVIpIGluc3RlYWQgb2ZcbiAgICAvLyBnbC5kcmF3RWxlbWVudHMgKHdpdGggZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIpLlxuICAgIHRoaXMuX3ZlcnRleEluZGljZXNCdWZmZXIgPSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIG5vcm1hbHMgb24gdGhpcyBzaGFwZSB0byBlaXRoZXIgYmUgc3BoZXJpY2FsIChwb2ludCBvdXR3YXJkcyBmcm9tIHRoZSBjZW50ZXIpIG9yXG4gICAqIG9ydGhvZ29uYWwgdG8gdGhlIGZhY2VzIG9mIHRoZWlyIHRyaWFuZ2xlcy5cbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSBpc1VzaW5nU3BoZXJpY2FsTm9ybWFsc1xuICAgKiBAcHJvdGVjdGVkXG4gICAqIEBhYnN0cmFjdFxuICAgKi9cbiAgX3NldE5vcm1hbHMoaXNVc2luZ1NwaGVyaWNhbE5vcm1hbHMpIHtcbiAgICAvLyBFeHRlbmRpbmcgY2xhc3NlcyBzaG91bGQgaW1wbGVtZW50IHRoaXMgbWV0aG9kLlxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ01ldGhvZCBub3QgaW1wbGVtZW50ZWQnKTtcbiAgfVxuXG4gIC8qKiBAcmV0dXJucyB7P0F0dHJpYnV0ZUNvbmZpZ30gKi9cbiAgZ2V0IHZlcnRleFBvc2l0aW9uc0NvbmZpZygpIHtcbiAgICByZXR1cm4gdGhpcy5fdmVydGV4UG9zaXRpb25zQ29uZmlnO1xuICB9XG5cbiAgLyoqIEByZXR1cm5zIHs/QXR0cmlidXRlQ29uZmlnfSAqL1xuICBnZXQgdGV4dHVyZUNvb3JkaW5hdGVzQ29uZmlnKCkge1xuICAgIHJldHVybiB0aGlzLl90ZXh0dXJlQ29vcmRpbmF0ZXNDb25maWc7XG4gIH1cblxuICAvKiogQHJldHVybnMgez9BdHRyaWJ1dGVDb25maWd9ICovXG4gIGdldCB2ZXJ0ZXhOb3JtYWxzQ29uZmlnKCkge1xuICAgIHJldHVybiB0aGlzLl92ZXJ0ZXhOb3JtYWxzQ29uZmlnO1xuICB9XG5cbiAgLyoqIEByZXR1cm5zIHs/V2ViR0xCdWZmZXJ9ICovXG4gIGdldCB2ZXJ0ZXhJbmRpY2VzQnVmZmVyKCkge1xuICAgIHJldHVybiB0aGlzLl92ZXJ0ZXhJbmRpY2VzQnVmZmVyO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAqIEBhYnN0cmFjdFxuICAgKi9cbiAgZ2V0IGVsZW1lbnRDb3VudCgpIHtcbiAgICAvLyBFeHRlbmRpbmcgY2xhc3NlcyBzaG91bGQgaW1wbGVtZW50IHRoaXMgbWV0aG9kLlxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ01ldGhvZCBub3QgaW1wbGVtZW50ZWQnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgKiBAYWJzdHJhY3RcbiAgICovXG4gIGdldCBtb2RlKCkge1xuICAgIC8vIEV4dGVuZGluZyBjbGFzc2VzIHNob3VsZCBpbXBsZW1lbnQgdGhpcyBtZXRob2QuXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTWV0aG9kIG5vdCBpbXBsZW1lbnRlZCcpO1xuICB9XG59XG5cbmV4cG9ydCB7TW9kZWx9O1xuIiwiaW1wb3J0IHtyZW5kZXJhYmxlU2hhcGVGYWN0b3J5fSBmcm9tICcuLi8uLi9yZW5kZXJhYmxlLXNoYXBlcyc7XG5cbmltcG9ydCB7TW9kZWxDb250cm9sbGVyfSBmcm9tICcuL21vZGVsLWNvbnRyb2xsZXInO1xuXG4vKipcbiAqIFRoaXMgY2xhc3MgZGVmaW5lcyBhbiBleHRlbnNpb24gb2YgdGhlIG1vZGVsLWNvbnRyb2xsZXIgY2xhc3MgdGhhdCB1c2VzIGEgY29tbW9uIHNldCBvZiBwcm9ncmFtXG4gKiB2YXJpYWJsZXMgYW5kIHRyYW5zZm9ybWF0aW9uIG1hdHJpY2VzLlxuICovXG5jbGFzcyBTdGFuZGFyZE1vZGVsQ29udHJvbGxlciBleHRlbmRzIE1vZGVsQ29udHJvbGxlciB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge01vZGVsQ29udHJvbGxlckNvbmZpZ30gcGFyYW1zXG4gICAqIEBwYXJhbSB7UmVuZGVyYWJsZVNoYXBlQ29uZmlnfSBzaGFwZVBhcmFtc1xuICAgKi9cbiAgY29uc3RydWN0b3IocGFyYW1zLCBzaGFwZVBhcmFtcykge1xuICAgIHN1cGVyKHBhcmFtcyk7XG5cbiAgICB0aGlzLnNjYWxlID0gc2hhcGVQYXJhbXMuc2NhbGUgfHwgdmVjMy5mcm9tVmFsdWVzKDEsIDEsIDEpO1xuICAgIHRoaXMuX212TWF0cml4ID0gbWF0NC5jcmVhdGUoKTtcbiAgICB0aGlzLl9ub3JtYWxNYXRyaXggPSBtYXQ0LmNyZWF0ZSgpO1xuICAgIHRoaXMuX21vZGVsID0gcmVuZGVyYWJsZVNoYXBlRmFjdG9yeS5jcmVhdGVNb2RlbCh0aGlzLl9nbCwgc2hhcGVQYXJhbXMpO1xuICB9XG5cbiAgdXBkYXRlKGN1cnJlbnRUaW1lLCBkZWx0YVRpbWUpIHt9XG5cbiAgZHJhdygpIHtcbiAgICAvLyBVcGRhdGUgdGhlIG1vZGVsLXZpZXcgbWF0cml4LlxuICAgIG1hdDQubXVsdGlwbHkodGhpcy5fbXZNYXRyaXgsIHRoaXMuX2dldFZpZXdNYXRyaXgoKSwgdGhpcy5fd29ybGRUcmFuc2Zvcm0pO1xuXG4gICAgLy8gVXBkYXRlIHRoZSBub3JtYWwgbWF0cml4LlxuICAgIG1hdDQuaW52ZXJ0KHRoaXMuX25vcm1hbE1hdHJpeCwgdGhpcy5fbXZNYXRyaXgpO1xuICAgIG1hdDQudHJhbnNwb3NlKHRoaXMuX25vcm1hbE1hdHJpeCwgdGhpcy5fbm9ybWFsTWF0cml4KTtcblxuICAgIC8vIFVwZGF0ZSB0aGUgdW5pZm9ybSB2YXJpYWJsZXMuXG4gICAgdGhpcy5fcHJvZ3JhbVZhcmlhYmxlc0NvbmZpZy51bmlmb3Jtc1sndVBNYXRyaXgnXSA9IHRoaXMuX2dldFByb2plY3Rpb25NYXRyaXgoKTtcbiAgICB0aGlzLl9wcm9ncmFtVmFyaWFibGVzQ29uZmlnLnVuaWZvcm1zWyd1TVZNYXRyaXgnXSA9IHRoaXMuX212TWF0cml4O1xuICAgIHRoaXMuX3Byb2dyYW1WYXJpYWJsZXNDb25maWcudW5pZm9ybXNbJ3VOb3JtYWxNYXRyaXgnXSA9IHRoaXMuX25vcm1hbE1hdHJpeDtcblxuICAgIC8vIERyYXcgc2hhcGVzIHVzaW5nIHRoZSBjdXJyZW50IHZhcmlhYmxlcyBjb25maWd1cmF0aW9uLlxuICAgIHRoaXMuX3Byb2dyYW1XcmFwcGVyLmRyYXcodGhpcy5fZ2wsIHRoaXMuX3Byb2dyYW1WYXJpYWJsZXNDb25maWcsIDAsIHRoaXMuX21vZGVsLmVsZW1lbnRDb3VudCk7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgdGhlIHByb2dyYW0gdmFyaWFibGVzIGNvbmZpZ3VyYXRpb24uXG4gICAqXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIF9zZXRVcFByb2dyYW1WYXJpYWJsZXNDb25maWcoKSB7XG4gICAgdGhpcy5fcHJvZ3JhbVZhcmlhYmxlc0NvbmZpZyA9IHtcbiAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgYVZlcnRleFBvc2l0aW9uOiB0aGlzLl9tb2RlbC52ZXJ0ZXhQb3NpdGlvbnNDb25maWcsXG4gICAgICAgIGFUZXh0dXJlQ29vcmQ6IHRoaXMuX21vZGVsLnRleHR1cmVDb29yZGluYXRlc0NvbmZpZyxcbiAgICAgICAgYVZlcnRleE5vcm1hbDogdGhpcy5fbW9kZWwudmVydGV4Tm9ybWFsc0NvbmZpZyxcbiAgICAgIH0sXG4gICAgICB1bmlmb3Jtczoge1xuICAgICAgICB1UE1hdHJpeDogdGhpcy5fZ2V0UHJvamVjdGlvbk1hdHJpeCgpLFxuICAgICAgICB1TVZNYXRyaXg6IHRoaXMuX212TWF0cml4LFxuICAgICAgICB1Tm9ybWFsTWF0cml4OiB0aGlzLl9ub3JtYWxNYXRyaXgsXG4gICAgICAgIHVTYW1wbGVyOiB0aGlzLl90ZXh0dXJlLFxuICAgICAgfSxcbiAgICAgIG1vZGU6IHRoaXMuX21vZGVsLm1vZGUsXG4gICAgICB2ZXJ0ZXhJbmRpY2VzOiB0aGlzLl9tb2RlbC52ZXJ0ZXhJbmRpY2VzQnVmZmVyLFxuICAgICAgZWxlbWVudENvdW50OiB0aGlzLl9tb2RlbC5lbGVtZW50Q291bnQsXG4gICAgfTtcbiAgfVxufVxuXG5leHBvcnQge1N0YW5kYXJkTW9kZWxDb250cm9sbGVyfTtcbiIsImV4cG9ydCAqIGZyb20gJy4vc3JjL3Byb2dyYW0td3JhcHBlcic7XG5leHBvcnQgKiBmcm9tICcuL3NyYy9wcm9ncmFtLXdyYXBwZXItc3RvcmUnO1xuZXhwb3J0ICogZnJvbSAnLi9zcmMvdGV4dHVyZS1zdG9yZSc7XG5leHBvcnQgKiBmcm9tICcuL3NyYy91bmlmb3JtLXNldHRlcic7XG4iLCJpbXBvcnQge2JpbmRGcmFtZWJ1ZmZlcn0gZnJvbSAnLi4vLi4vdXRpbCc7XG5cbmltcG9ydCB7cHJvZ3JhbVdyYXBwZXJTdG9yZX0gZnJvbSAnLi9wcm9ncmFtLXdyYXBwZXItc3RvcmUnO1xuXG4vKipcbiAqIFRoaXMgY2xhc3Mgd3JhcHMgYSBjb2xsZWN0aW9uIG9mIFByb2dyYW1XcmFwcGVycyBhbmQgc3VwcG9ydHMgZHJhd2luZyB0aGVtIGFzIGEgZ3JvdXAuXG4gKi9cbmNsYXNzIEdyb3VwUHJvZ3JhbVdyYXBwZXIge1xuICAvKipcbiAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsXG4gICAqIEBwYXJhbSB7UHJvZ3JhbVdyYXBwZXJDb25maWd9IGNvbmZpZ1xuICAgKi9cbiAgY29uc3RydWN0b3IoZ2wsIGNvbmZpZykge1xuICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgIHRoaXMuX2NoaWxkcmVuUHJvZ3JhbVdyYXBwZXJzID0gW107XG4gICAgdGhpcy5faXNSZWFkeSA9IG51bGw7XG5cbiAgICB0aGlzLl9sb2FkQ2hpbGRyZW4oZ2wsIGNvbmZpZykudGhlbigoKSA9PiB7XG4gICAgICBpZiAoY29uZmlnLmluaXRpYWxpemUpIGNvbmZpZy5pbml0aWFsaXplKGdsKTtcbiAgICAgIGlmIChjb25maWcuaXNBUG9zdFByb2Nlc3Nvcikge1xuICAgICAgICBfY3JlYXRlQ2hpbGRyZW5GcmFtZWJ1ZmZlcnNBbmRUZXh0dXJlcyhnbCwgY29uZmlnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKiBAcmV0dXJucyB7c3RyaW5nfSAqL1xuICBnZXQgcHJvZ3JhbUlkKCkge1xuICAgIHJldHVybiB0aGlzLmNvbmZpZy5pZDtcbiAgfVxuXG4gIC8qKiBAcmV0dXJucyB7UHJvbWlzZX0gKi9cbiAgZ2V0SXNSZWFkeSgpIHtcbiAgICByZXR1cm4gdGhpcy5faXNSZWFkeTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW5kZXJzIHNoYXBlcyB1c2luZyB0aGlzIHByb2dyYW0uXG4gICAqXG4gICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbFxuICAgKi9cbiAgZHJhdyhnbCkge1xuICAgIGlmICh0aGlzLmNvbmZpZy53ZWJHTFN0YXRlU2V0dGVyKSB0aGlzLmNvbmZpZy53ZWJHTFN0YXRlU2V0dGVyKGdsKTtcbiAgICB0aGlzLmNvbmZpZy5jaGlsZHJlbkZyYW1lYnVmZmVySWRzLmZvckVhY2goX2NsZWFyRnJhbWVidWZmZXIuYmluZCh0aGlzLCBnbCkpO1xuICAgIHRoaXMuY29uZmlnLmNoaWxkcmVuUHJvZ3JhbXNUb0RyYXcuZm9yRWFjaChfZHJhd0NoaWxkUHJvZ3JhbVdyYXBwZXIuYmluZCh0aGlzLCBnbCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbFxuICAgKiBAcGFyYW0ge1Byb2dyYW1XcmFwcGVyQ29uZmlnfSBjb25maWdcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9sb2FkQ2hpbGRyZW4oZ2wsIGNvbmZpZykge1xuICAgIHRoaXMuX2lzUmVhZHkgPSBQcm9taXNlLmFsbChcbiAgICAgICAgY29uZmlnLmNoaWxkcmVuUHJvZ3JhbUNvbmZpZ3MubWFwKGNvbmZpZyA9PlxuICAgICAgICAgICAgcHJvZ3JhbVdyYXBwZXJTdG9yZS5sb2FkUHJvZ3JhbVdyYXBwZXIoZ2wsIGNvbmZpZylcbiAgICAgICAgICAgICAgICAudGhlbihwcm9ncmFtV3JhcHBlciA9PiB0aGlzLl9jaGlsZHJlblByb2dyYW1XcmFwcGVycy5wdXNoKHByb2dyYW1XcmFwcGVyKSkpKTtcbiAgICByZXR1cm4gdGhpcy5faXNSZWFkeTtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbFxuICogQHBhcmFtIHtzdHJpbmd9IGlkXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfY2xlYXJGcmFtZWJ1ZmZlcihnbCwgaWQpIHtcbiAgY29uc3QgZnJhbWVidWZmZXIgPSBwcm9ncmFtV3JhcHBlclN0b3JlLmdldEZyYW1lYnVmZmVyKGlkKTtcbiAgYmluZEZyYW1lYnVmZmVyKGdsLCBmcmFtZWJ1ZmZlcik7XG4gIGdsLmNsZWFyKGdsLkNPTE9SX0JVRkZFUl9CSVQgfCBnbC5ERVBUSF9CVUZGRVJfQklUKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2xcbiAqIEBwYXJhbSB7UHJvZ3JhbVdyYXBwZXJDb25maWd9IGNvbmZpZ1xuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX2NyZWF0ZUNoaWxkcmVuRnJhbWVidWZmZXJzQW5kVGV4dHVyZXMoZ2wsIGNvbmZpZykge1xuICBjb25maWcuY2hpbGRyZW5GcmFtZWJ1ZmZlcklkcy5mb3JFYWNoKGlkID0+XG4gICAgICBwcm9ncmFtV3JhcHBlclN0b3JlLmNyZWF0ZU5ld0ZyYW1lYnVmZmVyQW5kVGV4dHVyZShnbCwgaWQsIGZhbHNlKSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsXG4gKiBAcGFyYW0ge0NoaWxkUHJvZ3JhbUFuZEZyYW1lYnVmZmVySWRzfSBjaGlsZFByb2dyYW1BbmRGcmFtZWJ1ZmZlcklkc1xuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX2RyYXdDaGlsZFByb2dyYW1XcmFwcGVyKGdsLCBjaGlsZFByb2dyYW1BbmRGcmFtZWJ1ZmZlcklkcykge1xuICBjb25zdCB7cHJvZ3JhbUlkLCBpbnB1dEZyYW1lYnVmZmVySWRzLCBvdXRwdXRGcmFtZWJ1ZmZlcklkfSA9IGNoaWxkUHJvZ3JhbUFuZEZyYW1lYnVmZmVySWRzO1xuXG4gIGNvbnN0IGZyYW1lYnVmZmVyID0gb3V0cHV0RnJhbWVidWZmZXJJZCA/XG4gICAgICBwcm9ncmFtV3JhcHBlclN0b3JlLmdldEZyYW1lYnVmZmVyKG91dHB1dEZyYW1lYnVmZmVySWQpIDogbnVsbDtcbiAgY29uc3QgcHJvZ3JhbVdyYXBwZXIgPSBwcm9ncmFtV3JhcHBlclN0b3JlLmdldFByb2dyYW1XcmFwcGVyKHByb2dyYW1JZCk7XG4gIGNvbnN0IHByb2dyYW1WYXJpYWJsZXNDb25maWcgPVxuICAgICAgcHJvZ3JhbVdyYXBwZXIuY29uZmlnLmdldFByb2dyYW1WYXJpYWJsZXNDb25maWcoZ2wsIGlucHV0RnJhbWVidWZmZXJJZHMpO1xuXG4gIGJpbmRGcmFtZWJ1ZmZlcihnbCwgZnJhbWVidWZmZXIpO1xuICBwcm9ncmFtV3JhcHBlci5zZXRQcm9ncmFtKGdsKTtcbiAgcHJvZ3JhbVdyYXBwZXIuZHJhdyhnbCwgcHJvZ3JhbVZhcmlhYmxlc0NvbmZpZyk7XG59XG5cbmV4cG9ydCB7R3JvdXBQcm9ncmFtV3JhcHBlcn07XG4iLCJpbXBvcnQge2NyZWF0ZUZyYW1lYnVmZmVyLCBjcmVhdGVSZW5kZXJCdWZmZXIsIGNyZWF0ZVRleHR1cmVGb3JSZW5kZXJpbmd9IGZyb20gJy4uLy4uL3V0aWwnO1xuXG5pbXBvcnQge0dyb3VwUHJvZ3JhbVdyYXBwZXJ9IGZyb20gJy4vZ3JvdXAtcHJvZ3JhbS13cmFwcGVyJztcbmltcG9ydCB7UHJvZ3JhbVdyYXBwZXJ9IGZyb20gJy4vcHJvZ3JhbS13cmFwcGVyJztcblxuLyoqXG4gKiBUaGlzIGNsYXNzIGxvYWRzLCBjb21waWxlcywgYW5kIHN0b3JlcyBXZWJHTCByZW5kZXJpbmcgcHJvZ3JhbXMuXG4gKlxuICogQWxzbywgdGhpcyBzdG9yZXMgZHJhdy1mcmFtZSBoYW5kbGVycyBmb3IgYSBnaXZlbiBwcm9ncmFtLiBUaGlzIG1ha2VzIGl0IGVhc3kgZm9yIGEgdG9wLWxldmVsXG4gKiBjb250cm9sbGVyIHRvIGdyb3VwIHRvZ2V0aGVyIGRyYXcgY2FsbHMgZm9yIGEgZ2l2ZW4gcHJvZ3JhbSBhbmQgdGhlcmVmb3JlIG1pbmltaXplIHByb2dyYW1cbiAqIHN3aXRjaGVzLlxuICpcbiAqIEFsc28sIHRoaXMgZGlzdGluZ3Vpc2hlcyBiZXR3ZWVuIHJlbmRlcmluZyBwcm9ncmFtcyB0aGF0IGFyZSB1c2VkIGZvciByZW5kZXJpbmcgaW5kaXZpZHVhbCBtb2RlbHNcbiAqIGFuZCBwb3N0LXByb2Nlc3NpbmcgcHJvZ3JhbXMgdGhhdCBhcmUgdXNlZCBmb3IgbWFuaXB1bGF0aW5nIHRoZSBlbnRpcmUgZnJhbWUgYWZ0ZXIgYWxsIHRoZSBtb2RlbHNcbiAqIGhhdmUgcmVuZGVyZWQuXG4gKlxuICogVGhpcyBhbHNvIGFsbG93cyBmb3IgZ3JvdXBpbmcgcHJvZ3JhbXMsIHdoaWNoIGNvbnNpc3Qgb2YgbXVsdGlwbGUgY2hpbGQgcHJvZ3JhbXMgdGhhdCBhcmUgYWxsXG4gKiByZW5kZXJlZCBpbiBzZXF1ZW5jZSBmb3IgYSByZWxhdGVkIHB1cnBvc2UuXG4gKi9cbmNsYXNzIFByb2dyYW1XcmFwcGVyU3RvcmUge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLl9tb2RlbFByb2dyYW1DYWNoZSA9IHt9O1xuICAgIHRoaXMuX3NvcnRlZE1vZGVsUHJvZ3JhbXMgPSBbXTtcbiAgICB0aGlzLl9wb3N0UHJvY2Vzc2luZ1Byb2dyYW1DYWNoZSA9IHt9O1xuICAgIHRoaXMuX3NvcnRlZFBvc3RQcm9jZXNzaW5nUHJvZ3JhbXMgPSBbXTtcbiAgICB0aGlzLl9mcmFtYnVmZmVycyA9IHt9O1xuICAgIHRoaXMuX3RleHR1cmVzID0ge307XG4gICAgdGhpcy5fcmVuZGVyQnVmZmVycyA9IHt9O1xuICB9XG5cbiAgLyoqXG4gICAqIExvYWRzIGFuZCBjYWNoZXMgYSBwcm9ncmFtIHdyYXBwZXIgdXNpbmcgdGhlIGdpdmVuIGNvbmZpZ3VyYXRpb24uXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIGlzIGlkZW1wb3RlbnQ7IGEgZ2l2ZW4gcHJvZ3JhbSB3aWxsIG9ubHkgYmUgY2FjaGVkIG9uY2UuXG4gICAqXG4gICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbFxuICAgKiBAcGFyYW0ge1Byb2dyYW1XcmFwcGVyQ29uZmlnfSBwYXJhbXNcbiAgICogQHJldHVybnMge1Byb21pc2UuPFByb2dyYW1XcmFwcGVyfEdyb3VwUHJvZ3JhbVdyYXBwZXIsIEVycm9yPn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGxvYWRQcm9ncmFtV3JhcHBlcihnbCwgcGFyYW1zKSB7XG4gICAgbGV0IGNhY2hlO1xuICAgIGxldCBzb3J0ZWRMaXN0O1xuICAgIGlmIChwYXJhbXMuaXNBUG9zdFByb2Nlc3Nvcikge1xuICAgICAgY2FjaGUgPSB0aGlzLl9wb3N0UHJvY2Vzc2luZ1Byb2dyYW1DYWNoZTtcbiAgICAgIHNvcnRlZExpc3QgPSB0aGlzLl9zb3J0ZWRQb3N0UHJvY2Vzc2luZ1Byb2dyYW1zO1xuICAgIH0gZWxzZSB7XG4gICAgICBjYWNoZSA9IHRoaXMuX21vZGVsUHJvZ3JhbUNhY2hlO1xuICAgICAgc29ydGVkTGlzdCA9IHRoaXMuX3NvcnRlZE1vZGVsUHJvZ3JhbXM7XG4gICAgfVxuICAgIGxldCBjYWNoZUluZm8gPSBjYWNoZVtwYXJhbXMuaWRdO1xuXG4gICAgLy8gQ2FjaGUgdGhlIHByb2dyYW0gaWYgaXQgaGFzIG5vdCBiZWVuIHByZXZpb3VzbHkgcmVnaXN0ZXJlZC5cbiAgICBpZiAoIWNhY2hlSW5mbykge1xuICAgICAgY2FjaGVJbmZvID0ge307XG5cbiAgICAgIGNhY2hlSW5mby5wYXJhbXMgPSBwYXJhbXM7XG4gICAgICBjYWNoZUluZm8ucmVuZGVyUHJpb3JpdHkgPSBwYXJhbXMucmVuZGVyUHJpb3JpdHk7XG5cbiAgICAgIGxldCBwcm9ncmFtV3JhcHBlciA9IHBhcmFtcy5jaGlsZHJlblByb2dyYW1Db25maWdzID9cbiAgICAgICAgICBuZXcgR3JvdXBQcm9ncmFtV3JhcHBlcihnbCwgcGFyYW1zKSA6IG5ldyBQcm9ncmFtV3JhcHBlcihnbCwgcGFyYW1zKTtcblxuICAgICAgY2FjaGVJbmZvLnByb2dyYW1XcmFwcGVyID0gcHJvZ3JhbVdyYXBwZXI7XG4gICAgICBjYWNoZUluZm8ucHJvbWlzZSA9IHByb2dyYW1XcmFwcGVyLmdldElzUmVhZHkoKS50aGVuKCgpID0+IGNhY2hlSW5mby5wcm9ncmFtV3JhcHBlcik7XG5cbiAgICAgIGlmIChwYXJhbXMuaXNBUG9zdFByb2Nlc3Nvcikge1xuICAgICAgICAvLyBBcyBzb29uIGFzIHdlIGtub3cgd2UnbGwgdXNlIGEgcG9zdC1wcm9jZXNzaW5nIHByb2dyYW0sIG1ha2Ugc3VyZSB3ZSBjcmVhdGUgdGhlIGRlZmF1bHRcbiAgICAgICAgLy8gZnJhbWVidWZmZXIvdGV4dHVyZSBmb3IgcmVuZGVyaW5nIG1vZGVscyBpbnRvLlxuICAgICAgICBpZiAoIXRoaXMubW9kZWxzRnJhbWVidWZmZXIpIHtcbiAgICAgICAgICB0aGlzLmNyZWF0ZU5ld0ZyYW1lYnVmZmVyQW5kVGV4dHVyZShnbCwgTU9ERUxTX0ZSQU1FQlVGRkVSX0lELCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gUG9zdC1wcm9jZXNzaW5nIHByb2dyYW1zIGFyZSBub3QgdXNlZCBmb3IgcmVuZGVyaW5nIGluZGl2aWR1YWwgbW9kZWxzLlxuICAgICAgICBjYWNoZUluZm8uZHJhd0ZyYW1lSGFuZGxlcnMgPSBuZXcgU2V0KCk7XG4gICAgICB9XG5cbiAgICAgIC8vIFN0b3JlIHRoZSBwcm9ncmFtIGNhY2hlIGluZm8gaW4gYm90aCBhIG1hcCBhbmQgYSBsaXN0IHRoYXQgaXMgc29ydGVkIGJ5IHJlbmRlciBwcmlvcml0eS5cbiAgICAgIGNhY2hlW3BhcmFtcy5pZF0gPSBjYWNoZUluZm87XG4gICAgICBzb3J0ZWRMaXN0LnB1c2goY2FjaGVJbmZvKTtcbiAgICAgIHNvcnRlZExpc3Quc29ydChfY29tcGFyZVByb2dyYW1DYWNoZUluZm8pO1xuICAgIH1cblxuICAgIHJldHVybiBjYWNoZUluZm8ucHJvbWlzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWdpc3RlcnMgdGhlIGdpdmVuIGRyYXctZnJhbWUgZXZlbnQgaGFuZGxlciBmb3IgdGhlIGdpdmVuIHByb2dyYW0uXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIGlzIGlkZW1wb3RlbnQ7IGRyYXctZnJhbWUgaGFuZGxlcnMgYXJlIHN0b3JlZCBpbiBhIHNldCwgc28gZHVwbGljYXRlIGFkZGl0aW9ucyB3aWxsXG4gICAqIG92ZXJ3cml0ZSBwcmV2aW91cyBhZGRpdGlvbnMuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBkcmF3RnJhbWVIYW5kbGVyXG4gICAqL1xuICByZWdpc3RlckRyYXdGcmFtZUhhbmRsZXIoaWQsIGRyYXdGcmFtZUhhbmRsZXIpIHtcbiAgICBjb25zdCBwcm9ncmFtQ2FjaGVJbmZvID0gdGhpcy5fbW9kZWxQcm9ncmFtQ2FjaGVbaWRdO1xuXG4gICAgaWYgKCFwcm9ncmFtQ2FjaGVJbmZvKSB7XG4gICAgICBpZiAodGhpcy5fcG9zdFByb2Nlc3NpbmdQcm9ncmFtQ2FjaGVbaWRdKSB7XG4gICAgICAgIC8vIFRoZSBwcm9ncmFtIGlzIG5vdCBzZXQgdXAgZm9yIHJlbmRlcmluZyBpbmRpdmlkdWFsIG1vZGVscy5cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgcmVnaXN0ZXIgYSBkcmF3LWZyYW1lIGhhbmRsZXIgZm9yIGEgcHJvZ3JhbSB0aGF0IGlzIG5vdCBzZXQgdXAgZm9yIFxuICAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlcmluZyBpbmRpdmlkdWFsIG1vZGVscyByZWdpc3RlcmVkOiAke2lkfWApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gVGhlIHByb2dyYW0gaGFzIG5vdCBiZWVuIHJlZ2lzdGVyZWQuXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IHJlZ2lzdGVyIGEgZHJhdy1mcmFtZSBoYW5kbGVyIGZvciBhIHByb2dyYW0gdGhhdCBoYXMgbm90IHlldCBiZWVuIFxuICAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lzdGVyZWQ6ICR7aWR9YCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gU3RvcmUgdGhlIGRyYXctZnJhbWUgaGFuZGxlci5cbiAgICBwcm9ncmFtQ2FjaGVJbmZvLmRyYXdGcmFtZUhhbmRsZXJzLmFkZChkcmF3RnJhbWVIYW5kbGVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXQVJOSU5HOiBUaGlzIHdpbGwgcmVtb3ZlIHRoZSBwcm9ncmFtIGZyb20gdGhlIHN0b3JlIGV2ZW4gaWYgdGhlcmUgYXJlIHN0aWxsIG90aGVyIGNvbXBvbmVudHNcbiAgICogZGVwZW5kaW5nIG9uIHRoaXMgcHJvZ3JhbSBvciBpdHMgZHJhdy1mcmFtZSBoYW5kbGVycy5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkXG4gICAqL1xuICBkZWxldGVQcm9ncmFtV3JhcHBlcihpZCkge1xuICAgIC8vIERldGVybWluZSB3aGljaCBjb2xsZWN0aW9ucyB3ZSdyZSByZW1vdmluZyB0aGUgcHJvZ3JhbSBmcm9tLlxuICAgIGxldCBzb3J0ZWRQcm9ncmFtcztcbiAgICBsZXQgcHJvZ3JhbUNhY2hlO1xuICAgIGlmICh0aGlzLl9tb2RlbFByb2dyYW1DYWNoZVtpZF0pIHtcbiAgICAgIHNvcnRlZFByb2dyYW1zID0gdGhpcy5fc29ydGVkTW9kZWxQcm9ncmFtcztcbiAgICAgIHByb2dyYW1DYWNoZSA9IHRoaXMuX21vZGVsUHJvZ3JhbUNhY2hlO1xuICAgIH0gZWxzZSB7XG4gICAgICBzb3J0ZWRQcm9ncmFtcyA9IHRoaXMuX3NvcnRlZFBvc3RQcm9jZXNzaW5nUHJvZ3JhbXM7XG4gICAgICBwcm9ncmFtQ2FjaGUgPSB0aGlzLl9wb3N0UHJvY2Vzc2luZ1Byb2dyYW1DYWNoZTtcbiAgICB9XG4gICAgY29uc3QgcHJvZ3JhbUNhY2hlSW5mbyA9IHByb2dyYW1DYWNoZVtpZF07XG5cbiAgICAvLyBSZW1vdmUgdGhlIHByb2dyYW0uXG4gICAgc29ydGVkUHJvZ3JhbXMuc3BsaWNlKHNvcnRlZFByb2dyYW1zLmluZGV4T2YocHJvZ3JhbUNhY2hlSW5mbyksIDEpO1xuICAgIGRlbGV0ZSBwcm9ncmFtQ2FjaGVbaWRdO1xuICB9XG5cbiAgLy8gVE9ETzogRG9uJ3QgZm9yZ2V0IHRvIHVucmVnaXN0ZXIgZHJhdy1mcmFtZSBoYW5kbGVycyB3aGVuIGRlc3Ryb3lpbmcgbW9kZWxzIChhc3Rlcm9pZHMsIFVGT3MsXG4gIC8vIGV0Yy4pXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWRcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZHJhd0ZyYW1lSGFuZGxlclxuICAgKi9cbiAgdW5yZWdpc3RlckRyYXdGcmFtZUhhbmRsZXIoaWQsIGRyYXdGcmFtZUhhbmRsZXIpIHtcbiAgICB0aGlzLl9tb2RlbFByb2dyYW1DYWNoZVtpZF0uZHJhd0ZyYW1lSGFuZGxlcnMuZGVsZXRlKGRyYXdGcmFtZUhhbmRsZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAgICogQHRocm93cyBJZiB0aGVyZSBpcyBubyBwcm9ncmFtIHJlZ2lzdGVyZWQgd2l0aCB0aGUgZ2l2ZW4gSUQuXG4gICAqL1xuICBnZXRQcm9ncmFtV3JhcHBlclByb21pc2UoaWQpIHtcbiAgICBjb25zdCBjYWNoZUluZm8gPSB0aGlzLl9tb2RlbFByb2dyYW1DYWNoZVtpZF0gfHwgdGhpcy5fcG9zdFByb2Nlc3NpbmdQcm9ncmFtQ2FjaGVbaWRdO1xuICAgIHJldHVybiBjYWNoZUluZm8ucHJvbWlzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWRcbiAgICogQHJldHVybnMge1Byb2dyYW1XcmFwcGVyfVxuICAgKiBAdGhyb3dzIElmIHRoZXJlIGlzIG5vIHByb2dyYW0gcmVnaXN0ZXJlZCB3aXRoIHRoZSBnaXZlbiBJRC5cbiAgICovXG4gIGdldFByb2dyYW1XcmFwcGVyKGlkKSB7XG4gICAgY29uc3QgY2FjaGVJbmZvID0gdGhpcy5fbW9kZWxQcm9ncmFtQ2FjaGVbaWRdIHx8IHRoaXMuX3Bvc3RQcm9jZXNzaW5nUHJvZ3JhbUNhY2hlW2lkXTtcbiAgICByZXR1cm4gY2FjaGVJbmZvLnByb2dyYW1XcmFwcGVyO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxzIHRoZSBnaXZlbiBjYWxsYmFjayBvbmNlIGZvciBlYWNoIHJlZ2lzdGVyZWQgcGVyLW1vZGVsIHByb2dyYW0gd3JhcHBlci5cbiAgICpcbiAgICogVGhlIGNhbGxiYWNrIGlzIHBhc3NlZCB0d28gYXJndW1lbnRzOiB0aGUgcHJvZ3JhbSB3cmFwcGVyIGFuZCB0aGUgcmVnaXN0ZXJlZCBkcmF3LWZyYW1lXG4gICAqIGhhbmRsZXJzLlxuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgKi9cbiAgZm9yRWFjaE1vZGVsUHJvZ3JhbShjYWxsYmFjaykge1xuICAgIHRoaXMuX3NvcnRlZE1vZGVsUHJvZ3JhbXMuZm9yRWFjaChwcm9ncmFtQ2FjaGVJbmZvID0+XG4gICAgICAgIGNhbGxiYWNrKHByb2dyYW1DYWNoZUluZm8ucHJvZ3JhbVdyYXBwZXIsIHByb2dyYW1DYWNoZUluZm8uZHJhd0ZyYW1lSGFuZGxlcnMpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxscyB0aGUgZ2l2ZW4gY2FsbGJhY2sgb25jZSBmb3IgZWFjaCByZWdpc3RlcmVkIHBvc3QtcHJvY2Vzc2luZyBwcm9ncmFtIHdyYXBwZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAqL1xuICBmb3JFYWNoUG9zdFByb2Nlc3NpbmdQcm9ncmFtKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5fc29ydGVkUG9zdFByb2Nlc3NpbmdQcm9ncmFtcy5mb3JFYWNoKFxuICAgICAgICBwcm9ncmFtQ2FjaGVJbmZvID0+IGNhbGxiYWNrKHByb2dyYW1DYWNoZUluZm8ucHJvZ3JhbVdyYXBwZXIpKTtcbiAgfVxuXG4gIC8qKiBAcmV0dXJucyB7Ym9vbGVhbn0gKi9cbiAgZ2V0IGlzVXNpbmdQb3N0UHJvY2Vzc2luZ1Byb2dyYW1zKCkge1xuICAgIHJldHVybiB0aGlzLl9zb3J0ZWRQb3N0UHJvY2Vzc2luZ1Byb2dyYW1zLmxlbmd0aCA+IDA7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhbmQgc3RvcmVzIGEgZnJhbWVidWZmZXIgd2l0aCBhIHRleHR1cmUuXG4gICAqXG4gICAqIEJvdGggdGhlIGZyYW1lYnVmZmVyIGFuZCB0ZXh0dXJlIGNhbiBiZSBhY2Nlc3NlZCBsYXRlciB1c2luZyB0aGUgZ2l2ZW4gSUQuXG4gICAqXG4gICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbFxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWRcbiAgICogQHBhcmFtIHtib29sZWFufSBbc2hvdWxkU3RvcmVEZXB0aEluZm89ZmFsc2VdXG4gICAqL1xuICBjcmVhdGVOZXdGcmFtZWJ1ZmZlckFuZFRleHR1cmUoZ2wsIGlkLCBzaG91bGRTdG9yZURlcHRoSW5mbz1mYWxzZSkge1xuICAgIGxldCByZW5kZXJCdWZmZXI7XG4gICAgaWYgKHNob3VsZFN0b3JlRGVwdGhJbmZvKSB7XG4gICAgICByZW5kZXJCdWZmZXIgPSBjcmVhdGVSZW5kZXJCdWZmZXIoZ2wpO1xuICAgICAgdGhpcy5fcmVuZGVyQnVmZmVyc1tpZF0gPSByZW5kZXJCdWZmZXI7XG4gICAgfVxuXG4gICAgY29uc3QgdGV4dHVyZSA9IGNyZWF0ZVRleHR1cmVGb3JSZW5kZXJpbmcoZ2wpO1xuICAgIHRoaXMuX3RleHR1cmVzW2lkXSA9IHRleHR1cmU7XG5cbiAgICBjb25zdCBmcmFtZWJ1ZmZlciA9IGNyZWF0ZUZyYW1lYnVmZmVyKGdsLCB0ZXh0dXJlLCByZW5kZXJCdWZmZXIpO1xuICAgIHRoaXMuX2ZyYW1idWZmZXJzW2lkXSA9IGZyYW1lYnVmZmVyO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZFxuICAgKiBAcmV0dXJucyB7P1dlYkdMRnJhbWVidWZmZXJ9XG4gICAqL1xuICBnZXRGcmFtZWJ1ZmZlcihpZCkge1xuICAgIHJldHVybiB0aGlzLl9mcmFtYnVmZmVyc1tpZF07XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkXG4gICAqIEByZXR1cm5zIHs/V2ViR0xUZXh0dXJlfVxuICAgKi9cbiAgZ2V0VGV4dHVyZShpZCkge1xuICAgIHJldHVybiB0aGlzLl90ZXh0dXJlc1tpZF07XG4gIH1cblxuICAvKipcbiAgICogSWYgd2UgYXJlIHVzaW5nIGEgcG9zdC1wcm9jZXNzaW5nIHByb2dyYW0sIHRoZW4gdGhpcyBpcyB0aGUgZGVmYXVsdCBmcmFtZWJ1ZmZlciBmb3IgcmVuZGVyaW5nXG4gICAqIG1vZGVscyBpbnRvLlxuICAgKlxuICAgKiBAcmV0dXJucyB7P1dlYkdMRnJhbWVidWZmZXJ9XG4gICAqL1xuICBnZXQgbW9kZWxzRnJhbWVidWZmZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2ZyYW1idWZmZXJzW01PREVMU19GUkFNRUJVRkZFUl9JRF07XG4gIH1cblxuICAvKipcbiAgICogSWYgd2UgYXJlIHVzaW5nIGEgcG9zdC1wcm9jZXNzaW5nIHByb2dyYW0sIHRoZW4gdGhpcyBpcyB0aGUgZGVmYXVsdCB0ZXh0dXJlIGZvciByZW5kZXJpbmdcbiAgICogbW9kZWxzIGludG8uXG4gICAqXG4gICAqIEByZXR1cm5zIHs/V2ViR0xUZXh0dXJlfVxuICAgKi9cbiAgZ2V0IG1vZGVsc1RleHR1cmUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3RleHR1cmVzW01PREVMU19GUkFNRUJVRkZFUl9JRF07XG4gIH1cblxuICAvKipcbiAgICogSWYgd2UgYXJlIHVzaW5nIGEgcG9zdC1wcm9jZXNzaW5nIHByb2dyYW0sIHRoZW4gdGhpcyBpcyB0aGUgZGVmYXVsdCBkZXB0aCByZW5kZXIgYnVmZmVyIGZvclxuICAgKiByZW5kZXJpbmcgbW9kZWxzLlxuICAgKlxuICAgKiBAcmV0dXJucyB7P1dlYkdMUmVuZGVyQnVmZmVyfVxuICAgKi9cbiAgZ2V0IG1vZGVsc1JlbmRlckJ1ZmZlcigpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVuZGVyQnVmZmVyc1tNT0RFTFNfRlJBTUVCVUZGRVJfSURdO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9jb21wYXJlUHJvZ3JhbUNhY2hlSW5mbyhhLCBiKSB7XG4gIHJldHVybiBhLnJlbmRlclByaW9yaXR5IC0gYi5yZW5kZXJQcmlvcml0eTtcbn1cblxuZXhwb3J0IGNvbnN0IE1PREVMU19GUkFNRUJVRkZFUl9JRCA9ICdtb2RlbHMnO1xuXG5leHBvcnQgY29uc3QgcHJvZ3JhbVdyYXBwZXJTdG9yZSA9IG5ldyBQcm9ncmFtV3JhcHBlclN0b3JlKCk7XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gUHJvZ3JhbUNhY2hlSW5mb1xuICogQHByb3BlcnR5IHtQcm9ncmFtV3JhcHBlckNvbmZpZ30gcGFyYW1zXG4gKiBAcHJvcGVydHkge1Byb2dyYW1XcmFwcGVyfEdyb3VwUHJvZ3JhbVdyYXBwZXJ9IFtwcm9ncmFtV3JhcHBlcl1cbiAqIEBwcm9wZXJ0eSB7U2V0LjxGdW5jdGlvbj59IFtkcmF3RnJhbWVIYW5kbGVyc11cbiAqIEBwcm9wZXJ0eSB7QXJyYXkuPFByb2dyYW1XcmFwcGVyPn0gW2NoaWxkcmVuUHJvZ3JhbVdyYXBwZXJzXVxuICovXG4iLCJpbXBvcnQge1xuICBpc0luRGV2TW9kZSxcbiAgZ2V0Vmlld3BvcnRIZWlnaHQsXG4gIGdldFZpZXdwb3J0V2lkdGgsXG4gIGxvYWRQcm9ncmFtLFxufSBmcm9tICcuLi8uLi91dGlsJztcblxuaW1wb3J0IHtVbmlmb3JtU2V0dGVyfSBmcm9tICcuL3VuaWZvcm0tc2V0dGVyJztcblxuLyoqXG4gKiBUaGlzIGNsYXNzIHdyYXBzIGEgbmF0aXZlIFdlYkdMUHJvZ3JhbSBvYmplY3QgYW5kIHByb3ZpZGVzIGNvbnZlbmllbmNlIG1ldGhvZHMgZm9yOlxuICogLSBzZXR0aW5nIHRoZSB3cmFwcGVkIHByb2dyYW0gZm9yIHVzZSBvbiB0aGUgV2ViR0wgcmVuZGVyaW5nIGNvbnRleHQsXG4gKiAtIGVuYWJsaW5nIHRoZSBhdHRyaWJ1dGUgdmFyaWFibGVzIGZvciB0aGUgcHJvZ3JhbSxcbiAqIC0gc2V0dGluZyB0aGUgYXR0cmlidXRlIGFuZCB1bmlmb3JtIHZhcmlhYmxlcyBmb3IgdGhlIHByb2dyYW0sXG4gKiAtIGRyYXdpbmcgc2hhcGVzIHdpdGggdGhlIHByb2dyYW0gYW5kIGl0cyBjdXJyZW50IGNvbmZpZ3VyYXRpb24uXG4gKi9cbmNsYXNzIFByb2dyYW1XcmFwcGVyIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbFxuICAgKiBAcGFyYW0ge1Byb2dyYW1XcmFwcGVyQ29uZmlnfSBjb25maWdcbiAgICovXG4gIGNvbnN0cnVjdG9yKGdsLCBjb25maWcpIHtcbiAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICB0aGlzLl9wcm9ncmFtID0gbnVsbDtcbiAgICB0aGlzLl91bmlmb3JtU2V0dGVycyA9IG51bGw7XG4gICAgdGhpcy5fYXR0cmlidXRlRW5hYmxlcnMgPSBudWxsO1xuICAgIHRoaXMuX2F0dHJpYnV0ZVNldHRlcnMgPSBudWxsO1xuXG4gICAgLy8gVGhpcyBpcyB1c2VkIGZvciBhc3NpZ25pbmcgZGlmZmVyZW50IHRleHR1cmVzIHRvIGRpZmZlcmVudCB0ZXh0dXJlIHVuaXRzLlxuICAgIHRoaXMuYmFzZVRleHR1cmVVbml0SW5kZXggPSAwO1xuXG4gICAgdGhpcy5fYnVpbGRXZWJHTFByb2dyYW1Qcm9taXNlID0gdGhpcy5fYnVpbGRXZWJHTFByb2dyYW0oZ2wsIGNvbmZpZyk7XG5cbiAgICAvLyBUT0RPOiBGcmVlemUgdGhpcyBvYmplY3QgYWZ0ZXIgaW5pdGlhbGl6aW5nXG4gIH1cblxuICAvKiogQHJldHVybnMge3N0cmluZ30gKi9cbiAgZ2V0IHByb2dyYW1JZCgpIHtcbiAgICByZXR1cm4gdGhpcy5jb25maWcuaWQ7XG4gIH1cblxuICAvKiogQHJldHVybnMge1Byb21pc2V9ICovXG4gIGdldElzUmVhZHkoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2J1aWxkV2ViR0xQcm9ncmFtUHJvbWlzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoaXMgcHJvZ3JhbSB0byB1c2UgZm9yIHJlbmRlcmluZyBvbiB0aGUgZ2l2ZW4gV2ViR0wgY29udGV4dC5cbiAgICpcbiAgICogVGhpcyBhbHNvIGVuYWJsZXMgYWxsIHJlbGV2YW50IGF0dHJpYnV0ZSB2YXJpYWJsZXMgZm9yIHRoaXMgcHJvZ3JhbS5cbiAgICpcbiAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsXG4gICAqL1xuICBzZXRQcm9ncmFtKGdsKSB7XG4gICAgZ2wudXNlUHJvZ3JhbSh0aGlzLl9wcm9ncmFtKTtcbiAgICB0aGlzLl9lbmFibGVBdHRyaWJ1dGVzKCk7XG4gICAgaWYgKHRoaXMuY29uZmlnLndlYkdMU3RhdGVTZXR0ZXIpIHRoaXMuY29uZmlnLndlYkdMU3RhdGVTZXR0ZXIoZ2wpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbmRlcnMgc2hhcGVzIHVzaW5nIHRoaXMgcHJvZ3JhbSB3aXRoIHRoZSBnaXZlbiB2YXJpYWJsZXMgY29uZmlndXJhdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsXG4gICAqIEBwYXJhbSB7UHJvZ3JhbVZhcmlhYmxlc0NvbmZpZ30gW3Byb2dyYW1WYXJpYWJsZXNDb25maWddXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbb2Zmc2V0PTBdIE9mZnNldCBpbnRvIHRoZSBlbGVtZW50IGFycmF5IGJ1ZmZlciB0byByZW5kZXIgZnJvbS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtjb3VudD1wcm9ncmFtVmFyaWFibGVzQ29uZmlnLmVsZW1lbnRDb3VudF0gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byByZW5kZXIuXG4gICAqL1xuICBkcmF3KGdsLCBwcm9ncmFtVmFyaWFibGVzQ29uZmlnLCBvZmZzZXQsIGNvdW50KSB7XG4gICAgcHJvZ3JhbVZhcmlhYmxlc0NvbmZpZyA9IHByb2dyYW1WYXJpYWJsZXNDb25maWcgfHwgdGhpcy5jb25maWcuZ2V0UHJvZ3JhbVZhcmlhYmxlc0NvbmZpZyhnbCk7XG4gICAgdGhpcy5fc2V0VmFyaWFibGVzKGdsLCBwcm9ncmFtVmFyaWFibGVzQ29uZmlnKTtcbiAgICB0aGlzLl9kcmF3KGdsLCBwcm9ncmFtVmFyaWFibGVzQ29uZmlnLCBvZmZzZXQsIGNvdW50KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHVwIHRoaXMgV2ViR0wgcmVuZGVyaW5nIHByb2dyYW0gdG8gZHJhdyBzaGFwZXMgd2l0aCB0aGUgZ2l2ZW4gcHJvZ3JhbSB2YXJpYWJsZXNcbiAgICogY29uZmlndXJhdGlvbiBhbmQgdGhlIGF0dHJpYnV0ZS91bmlmb3JtIHNldHRlcnMgdGhhdCBoYXZlIGJlZW4gc2V0IHVwIGZvciB0aGlzIHByb2dyYW0uXG4gICAqXG4gICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbFxuICAgKiBAcGFyYW0ge1Byb2dyYW1WYXJpYWJsZXNDb25maWd9IHByb2dyYW1WYXJpYWJsZXNDb25maWdcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9zZXRWYXJpYWJsZXMoZ2wsIHByb2dyYW1WYXJpYWJsZXNDb25maWcpIHtcbiAgICB0aGlzLl9zZXRBdHRyaWJ1dGVzKHByb2dyYW1WYXJpYWJsZXNDb25maWcuYXR0cmlidXRlcyk7XG4gICAgdGhpcy5fc2V0VW5pZm9ybXMocHJvZ3JhbVZhcmlhYmxlc0NvbmZpZy51bmlmb3Jtcyk7XG5cbiAgICAvLyBDaGVjayB3aGV0aGVyIHdlIGFyZSBzZXQgdXAgdG8gZHJhdyB1c2luZyBnbC5kcmF3RWxlbWVudHMgcmF0aGVyIHRoYW4gZ2wuZHJhd0FycmF5cy5cbiAgICBpZiAocHJvZ3JhbVZhcmlhYmxlc0NvbmZpZy52ZXJ0ZXhJbmRpY2VzKSB7XG4gICAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBwcm9ncmFtVmFyaWFibGVzQ29uZmlnLnZlcnRleEluZGljZXMpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZW5kZXJzIHNoYXBlcyBhY2NvcmRpbmcgdG8gdGhpcyBwcm9ncmFtJ3MgY3VycmVudCBjb25maWd1cmF0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2xcbiAgICogQHBhcmFtIHtQcm9ncmFtVmFyaWFibGVzQ29uZmlnfSBwcm9ncmFtVmFyaWFibGVzQ29uZmlnXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbb2Zmc2V0PTBdIE9mZnNldCBpbnRvIHRoZSBlbGVtZW50IGFycmF5IGJ1ZmZlciB0byByZW5kZXIgZnJvbS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtjb3VudD1wcm9ncmFtVmFyaWFibGVzQ29uZmlnLmVsZW1lbnRDb3VudF0gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byByZW5kZXIuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZHJhdyhnbCwgcHJvZ3JhbVZhcmlhYmxlc0NvbmZpZywgb2Zmc2V0LCBjb3VudCkge1xuICAgIG9mZnNldCA9IHR5cGVvZiBvZmZzZXQgPT09ICdudW1iZXInID8gb2Zmc2V0IDogMDtcbiAgICBjb3VudCA9IHR5cGVvZiBjb3VudCA9PT0gJ251bWJlcicgPyBjb3VudCA6IHByb2dyYW1WYXJpYWJsZXNDb25maWcuZWxlbWVudENvdW50O1xuXG4gICAgaWYgKGlzSW5EZXZNb2RlKSB7XG4gICAgICB0aGlzLl9jaGVja1RoYXRHaXZlblZhcmlhYmxlc01hdGNoUHJvZ3JhbShwcm9ncmFtVmFyaWFibGVzQ29uZmlnKTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayB3aGV0aGVyIHdlIGFyZSBzZXQgdXAgdG8gZHJhdyB1c2luZyBnbC5kcmF3RWxlbWVudHMgb3IgZ2wuZHJhd0FycmF5cy5cbiAgICBpZiAocHJvZ3JhbVZhcmlhYmxlc0NvbmZpZy52ZXJ0ZXhJbmRpY2VzKSB7XG4gICAgICBnbC5kcmF3RWxlbWVudHMocHJvZ3JhbVZhcmlhYmxlc0NvbmZpZy5tb2RlLCBjb3VudCwgZ2wuVU5TSUdORURfU0hPUlQsIG9mZnNldCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGdsLmRyYXdBcnJheXMocHJvZ3JhbVZhcmlhYmxlc0NvbmZpZy5tb2RlLCBvZmZzZXQsIGNvdW50KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIGF0dHJpYnV0ZSBhbmQgdW5pZm9ybSB2YXJpYWJsZXMgc3BlY2lmaWVkIGluIHRoZSBnaXZlbiBjb25maWcgbWF0Y2ggdGhvc2VcbiAgICogZGVmaW5lZCBpbiB0aGlzIHByb2dyYW0uXG4gICAqXG4gICAqIEBwYXJhbSB7UHJvZ3JhbVZhcmlhYmxlc0NvbmZpZ30gcHJvZ3JhbVZhcmlhYmxlc0NvbmZpZ1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2NoZWNrVGhhdEdpdmVuVmFyaWFibGVzTWF0Y2hQcm9ncmFtKHByb2dyYW1WYXJpYWJsZXNDb25maWcpIHtcbiAgICBpZiAoT2JqZWN0LmtleXMocHJvZ3JhbVZhcmlhYmxlc0NvbmZpZy5hdHRyaWJ1dGVzKS5sZW5ndGggIT09XG4gICAgICAgICAgICBPYmplY3Qua2V5cyh0aGlzLl9hdHRyaWJ1dGVTZXR0ZXJzKS5sZW5ndGggfHxcbiAgICAgICAgT2JqZWN0LmtleXMocHJvZ3JhbVZhcmlhYmxlc0NvbmZpZy51bmlmb3JtcykubGVuZ3RoICE9PVxuICAgICAgICAgICAgT2JqZWN0LmtleXModGhpcy5fdW5pZm9ybVNldHRlcnMpLmxlbmd0aCkge1xuICAgICAgY29uc29sZS53YXJuKCdUaGUgYXR0cmlidXRlL3VuaWZvcm0gdmFyaWFibGVzIGluIHRoZSBQcm9ncmFtVmFyaWFibGVzQ29uZmlnIGRvIG5vdCBtYXRjaCAnICtcbiAgICAgICAgICAndGhvc2Ugc3BlY2lmaWVkIGluIHRoZSBzaGFkZXJzLicsIHByb2dyYW1WYXJpYWJsZXNDb25maWcsIHRoaXMpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSB1bmlmb3JtIHZhbHVlcyBmb3IgdGhpcyBwcm9ncmFtLlxuICAgKlxuICAgKiBTcGVjaWZpY2FsbHksIHRoaXMgY2FsbHMgYGdsLnVuaWZvcm08Li4uPihsb2NhdGlvbiwgdmFsdWUpYCBmb3IgZWFjaFxuICAgKiB2YXJpYWJsZS1uYW1lL3ZhcmlhYmxlLXZhbHVlIGtleS12YWx1ZSBwYWlyIGluIHRoZSBnaXZlbiBtYXAuIEFzIHBhcnQgb2YgdGhlIHNldHVwIHByb2Nlc3MsIHRoZVxuICAgKiB1bmlmb3JtIHZhcmlhYmxlIGxvY2F0aW9ucyBhcmUgc3RvcmVkIGluIGEgbWFwIGZyb20gdGhlaXIgY29ycmVzcG9uZGluZyB2YXJpYWJsZSBuYW1lcy4gU28gb25seVxuICAgKiB0aGUgdmFyaWFibGUgbmFtZXMgYXJlIG5lZWRlZCBpbiBvcmRlciB0byBjYWxsIHRoaXMgZnVuY3Rpb24gYXQgcmVuZGVyIHRpbWUuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0LjxTdHJpbmcsIFVuaWZvcm1EYXRhPn0gdW5pZm9ybVZhbHVlc1xuICAgKi9cbiAgX3NldFVuaWZvcm1zKHVuaWZvcm1WYWx1ZXMpIHtcbiAgICBPYmplY3Qua2V5cyh1bmlmb3JtVmFsdWVzKS5mb3JFYWNoKHVuaWZvcm1OYW1lID0+IHtcbiAgICAgIGNvbnN0IHVuaWZvcm1TZXR0ZXIgPSB0aGlzLl91bmlmb3JtU2V0dGVyc1t1bmlmb3JtTmFtZV07XG4gICAgICBjb25zdCB1bmlmb3JtVmFsdWUgPSB1bmlmb3JtVmFsdWVzW3VuaWZvcm1OYW1lXTtcbiAgICAgIHVuaWZvcm1TZXR0ZXIuc2V0VW5pZm9ybSh1bmlmb3JtVmFsdWUpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGF0dHJpYnV0ZSBidWZmZXJzIGZvciB0aGlzIHByb2dyYW0uXG4gICAqXG4gICAqIFNwZWNpZmljYWxseSwgdGhpcyBjYWxscyBgZ2wuYmluZEJ1ZmZlciguLi4pYCBhbmQgYGdsLnZlcnRleEF0dHJpYlBvaW50ZXIoLi4uKWAgZm9yIGVhY2hcbiAgICogdmFyaWFibGUtbmFtZS92YXJpYWJsZS12YWx1ZSBwYWlyIGluIHRoZSBnaXZlbiBhdHRyaWJ1dGUtaW5mbyBtYXAuIEFzIHBhcnQgb2YgdGhlIHNldHVwXG4gICAqIHByb2Nlc3MsIHRoZSB1bmlmb3JtIHZhcmlhYmxlIGxvY2F0aW9ucyBhcmUgc3RvcmVkIGluIGEgbWFwIGZyb20gdGhlaXIgY29ycmVzcG9uZGluZyB2YXJpYWJsZVxuICAgKiBuYW1lcy4gU28gb25seSB0aGUgdmFyaWFibGUgbmFtZXMgYXJlIG5lZWRlZCBpbiBvcmRlciB0byBjYWxsIHRoaXMgZnVuY3Rpb24gYXQgcmVuZGVyIHRpbWUuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0LjxTdHJpbmcsIEF0dHJpYnV0ZUNvbmZpZz59IGF0dHJpYnV0ZUNvbmZpZ3NcbiAgICovXG4gIF9zZXRBdHRyaWJ1dGVzKGF0dHJpYnV0ZUNvbmZpZ3MpIHtcbiAgICBPYmplY3Qua2V5cyhhdHRyaWJ1dGVDb25maWdzKS5mb3JFYWNoKGF0dHJpYnV0ZU5hbWUgPT4ge1xuICAgICAgY29uc3QgYXR0cmlidXRlU2V0dGVyID0gdGhpcy5fYXR0cmlidXRlU2V0dGVyc1thdHRyaWJ1dGVOYW1lXTtcbiAgICAgIGNvbnN0IGF0dHJpYnV0ZUNvbmZpZyA9IGF0dHJpYnV0ZUNvbmZpZ3NbYXR0cmlidXRlTmFtZV07XG4gICAgICBhdHRyaWJ1dGVTZXR0ZXIoYXR0cmlidXRlQ29uZmlnKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2VuYWJsZUF0dHJpYnV0ZXMoKSB7XG4gICAgdGhpcy5fYXR0cmlidXRlRW5hYmxlcnMuZm9yRWFjaChhdHRyaWJ1dGVFbmFibGVyID0+IGF0dHJpYnV0ZUVuYWJsZXIoKSk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyB1bmlmb3JtIHNldHRlcnMgZm9yIHRoaXMgcHJvZ3JhbSBhbmQgc2F2ZXMgdGhlbSBpbiB0aGUgX3VuaWZvcm1TZXR0ZXJzIHByb3BlcnR5LlxuICAgKlxuICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2xcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9jcmVhdGVVbmlmb3JtU2V0dGVycyhnbCkge1xuICAgIGNvbnN0IHVuaWZvcm1Db3VudCA9IGdsLmdldFByb2dyYW1QYXJhbWV0ZXIodGhpcy5fcHJvZ3JhbSwgZ2wuQUNUSVZFX1VOSUZPUk1TKTtcblxuICAgIHRoaXMuX3VuaWZvcm1TZXR0ZXJzID0ge307XG5cbiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdW5pZm9ybUNvdW50OyBpbmRleCsrKSB7XG4gICAgICBjb25zdCB1bmlmb3JtSW5mbyA9IGdsLmdldEFjdGl2ZVVuaWZvcm0odGhpcy5fcHJvZ3JhbSwgaW5kZXgpO1xuICAgICAgbGV0IHVuaWZvcm1OYW1lID0gdW5pZm9ybUluZm8ubmFtZTtcblxuICAgICAgLy8gUmVtb3ZlIGFueSBhcnJheSBzdWZmaXguXG4gICAgICAvLyBUT0RPOiBJcyB0aGlzIHJlbW92YWwgcmVkdW5kYW50IHdpdGggdGhlIGlzQXJyYXkgY2hlY2sgYmVsb3c/P1xuICAgICAgaWYgKHVuaWZvcm1OYW1lLnN1YnN0cigtMykgPT09ICdbMF0nKSB7XG4gICAgICAgIHVuaWZvcm1OYW1lID0gdW5pZm9ybU5hbWUuc3Vic3RyKDAsIHVuaWZvcm1OYW1lLmxlbmd0aCAtIDMpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl91bmlmb3JtU2V0dGVyc1t1bmlmb3JtTmFtZV0gPSBuZXcgVW5pZm9ybVNldHRlcihnbCwgdGhpcy5fcHJvZ3JhbSwgdW5pZm9ybUluZm8sIHRoaXMpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGF0dHJpYnV0ZSBlbmFibGVycyBhbmQgc2V0dGVycyBmb3IgdGhpcyBwcm9ncmFtIGFuZCBzYXZlcyB0aGVtIGluIHRoZVxuICAgKiBfYXR0cmlidXRlRW5hYmxlcnMgYW5kIF9hdHRyaWJ1dGVTZXR0ZXJzIHByb3BlcnRpZXMsIHJlc3BlY3RpdmVseS5cbiAgICpcbiAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfY3JlYXRlQXR0cmlidXRlRW5hYmxlcnNBbmRTZXR0ZXJzKGdsKSB7XG4gICAgdGhpcy5fYXR0cmlidXRlRW5hYmxlcnMgPSBbXTtcbiAgICB0aGlzLl9hdHRyaWJ1dGVTZXR0ZXJzID0ge307XG5cbiAgICBjb25zdCBhdHRyaWJ1dGVDb3VudCA9IGdsLmdldFByb2dyYW1QYXJhbWV0ZXIodGhpcy5fcHJvZ3JhbSwgZ2wuQUNUSVZFX0FUVFJJQlVURVMpO1xuXG4gICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGF0dHJpYnV0ZUNvdW50OyBpbmRleCsrKSB7XG4gICAgICBjb25zdCBhdHRyaWJ1dGVOYW1lID0gZ2wuZ2V0QWN0aXZlQXR0cmliKHRoaXMuX3Byb2dyYW0sIGluZGV4KS5uYW1lO1xuICAgICAgY29uc3QgbG9jYXRpb24gPSBnbC5nZXRBdHRyaWJMb2NhdGlvbih0aGlzLl9wcm9ncmFtLCBhdHRyaWJ1dGVOYW1lKTtcblxuICAgICAgdGhpcy5fYXR0cmlidXRlRW5hYmxlcnMucHVzaChQcm9ncmFtV3JhcHBlci5fY3JlYXRlQXR0cmlidXRlRW5hYmxlcihnbCwgbG9jYXRpb24pKTtcbiAgICAgIHRoaXMuX2F0dHJpYnV0ZVNldHRlcnNbYXR0cmlidXRlTmFtZV0gPSBQcm9ncmFtV3JhcHBlci5fY3JlYXRlQXR0cmlidXRlU2V0dGVyKGdsLCBsb2NhdGlvbik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIExvYWRzIHRoZSBzaGFkZXIgc291cmNlIGNvZGUgZnJvbSB0aGUgZ2l2ZW4gVVJMcywgY29tcGlsZXMgdGhlIHNoYWRlciBzb3VyY2UgY29kZSwgYW5kIGNyZWF0ZXNcbiAgICogYSBwcm9ncmFtIGZyb20gdGhlIHJlc3VsdGluZyBzaGFkZXJzLlxuICAgKlxuICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2xcbiAgICogQHBhcmFtIHtQcm9ncmFtV3JhcHBlckNvbmZpZ30gY29uZmlnXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2J1aWxkV2ViR0xQcm9ncmFtKGdsLCBjb25maWcpIHtcbiAgICByZXR1cm4gbG9hZFByb2dyYW0oZ2wsIGNvbmZpZy52ZXJ0ZXhTaGFkZXJQYXRoLCBjb25maWcuZnJhZ21lbnRTaGFkZXJQYXRoKVxuICAgICAgICAudGhlbih3ZWJHTFByb2dyYW0gPT4ge1xuICAgICAgICAgIHRoaXMuX3Byb2dyYW0gPSB3ZWJHTFByb2dyYW07XG4gICAgICAgICAgdGhpcy5fY3JlYXRlVW5pZm9ybVNldHRlcnMoZ2wpO1xuICAgICAgICAgIHRoaXMuX2NyZWF0ZUF0dHJpYnV0ZUVuYWJsZXJzQW5kU2V0dGVycyhnbCk7XG4gICAgICAgICAgaWYgKGNvbmZpZy5pbml0aWFsaXplKSBjb25maWcuaW5pdGlhbGl6ZShnbCk7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKCgpID0+IGNvbnNvbGUuaW5mbyhgUHJvZ3JhbSBsb2FkZWQ6ICR7Y29uZmlnLmlkfWApKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2xcbiAgICogQHBhcmFtIHtudW1iZXJ9IGxvY2F0aW9uXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHN0YXRpYyBfY3JlYXRlQXR0cmlidXRlRW5hYmxlcihnbCwgbG9jYXRpb24pIHtcbiAgICByZXR1cm4gKCkgPT4gZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkobG9jYXRpb24pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbFxuICAgKiBAcGFyYW0ge251bWJlcn0gbG9jYXRpb25cbiAgICogQHJldHVybnMge0Z1bmN0aW9uLjxBdHRyaWJ1dGVDb25maWc+fVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc3RhdGljIF9jcmVhdGVBdHRyaWJ1dGVTZXR0ZXIoZ2wsIGxvY2F0aW9uKSB7XG4gICAgcmV0dXJuIGF0dHJpYnV0ZUNvbmZpZyA9PiB7XG4gICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgYXR0cmlidXRlQ29uZmlnLmJ1ZmZlcik7XG4gICAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKFxuICAgICAgICAgIGxvY2F0aW9uLFxuICAgICAgICAgIGF0dHJpYnV0ZUNvbmZpZy5zaXplLFxuICAgICAgICAgIHR5cGVvZiBhdHRyaWJ1dGVDb25maWcudHlwZSAhPT0gJ3VuZGVmaW5lZCcgPyBhdHRyaWJ1dGVDb25maWcudHlwZSA6IGdsLkZMT0FULFxuICAgICAgICAgIHR5cGVvZiBhdHRyaWJ1dGVDb25maWcubm9ybWFsaXplZCAhPT0gJ3VuZGVmaW5lZCcgPyBhdHRyaWJ1dGVDb25maWcubm9ybWFsaXplZCA6IGZhbHNlLFxuICAgICAgICAgIHR5cGVvZiBhdHRyaWJ1dGVDb25maWcuc3RyaWRlICE9PSAndW5kZWZpbmVkJyA/IGF0dHJpYnV0ZUNvbmZpZy5zdHJpZGUgOiAwLFxuICAgICAgICAgIHR5cGVvZiBhdHRyaWJ1dGVDb25maWcub2Zmc2V0ICE9PSAndW5kZWZpbmVkJyA/IGF0dHJpYnV0ZUNvbmZpZy5vZmZzZXQgOiAwKTtcbiAgICB9O1xuICB9XG59XG5cbmV4cG9ydCB7UHJvZ3JhbVdyYXBwZXJ9O1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFByb2dyYW1XcmFwcGVyQ29uZmlnXG4gKiBAcHJvcGVydHkge3N0cmluZ30gaWRcbiAqIEBwcm9wZXJ0eSB7RnVuY3Rpb259IFtpbml0aWFsaXplXSBBIG1ldGhvZCBmb3Igb25lLXRpbWUgaW5pdGlhbGl6YXRpb24gb2YgdGhlIEdMIHN0YXRlIGZvciB0aGlzXG4gKiBwcm9ncmFtLlxuICogQHByb3BlcnR5IHtGdW5jdGlvbn0gW3dlYkdMU3RhdGVTZXR0ZXJdIEEgbWV0aG9kIGZvciBzZXR0aW5nIHVwIHRoZSBHTCBzdGF0ZSBmb3IgdGhpcyBwcm9ncmFtXG4gKiB3cmFwcGVyIGluIHByZXBhcmF0aW9uIGZvciB0aGUgY3VycmVudCBkcmF3IGNhbGwuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3JlbmRlclByaW9yaXR5XSBQcm9ncmFtcyB3aXRoIGxvd2VyIHByaW9yaXR5IHdpbGwgcmVuZGVyIGZpcnN0LiBUaGlzIGRvZXMgbm90XG4gKiBuZWVkIHRvIGJlIHByZXNlbnQgZm9yIFByb2dyYW1XcmFwcGVycyB0aGF0IGFyZSBjaGlsZHJlbiBvZiBhIEdyb3VwUHJvZ3JhbVdyYXBwZXIuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3ZlcnRleFNoYWRlclBhdGhdIFRoaXMgd2lsbCBiZSBwcmVzZW50IG9uIGNvbmZpZ3MgZm9yIG5vbi1ncm91cFxuICogUHJvZ3JhbVdyYXBwZXJzLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtmcmFnbWVudFNoYWRlclBhdGhdIFRoaXMgd2lsbCBiZSBwcmVzZW50IG9uIGNvbmZpZ3MgZm9yIG5vbi1ncm91cFxuICogUHJvZ3JhbVdyYXBwZXJzLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbaXNBUG9zdFByb2Nlc3Nvcj1mYWxzZV0gQSBwb3N0LXByb2Nlc3NpbmcgcHJvZ3JhbSBpcyB1c2VkIGZvciBtYW5pcHVsYXRpbmdcbiAqIHRoZSBlbnRpcmUgZnJhbWUgYWZ0ZXIgYWxsIHRoZSBtb2RlbHMgaGF2ZSByZW5kZXJlZC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2NoaWxkcmVuUHJvZ3JhbUNvbmZpZ3NdIEEgZ3JvdXBpbmcgcHJvZ3JhbSBjb25zaXN0cyBvZiBtdWx0aXBsZSBjaGlsZFxuICogcHJvZ3JhbXMgdGhhdCBhcmUgYWxsIHJlbmRlcmVkIGluIHNlcXVlbmNlIGZvciBhIHJlbGF0ZWQgcHVycG9zZS5cbiAqIEBwcm9wZXJ0eSB7QXJyYXkuPENoaWxkUHJvZ3JhbUFuZEZyYW1lYnVmZmVySWRzPn0gW2NoaWxkcmVuUHJvZ3JhbXNUb0RyYXddIFRoZSBJRHMgZm9yIHRoZVxuICogc2VxdWVuY2Ugb2YgY2hpbGRyZW4gUHJvZ3JhbVdyYXBwZXJzIHRvIGRyYXcsIGFzIHdlbGwgYXMgdGhlIElEcyBmb3IgdGhlIGlucHV0IGFuZCBvdXRwdXRcbiAqIGZyYW1lYnVmZmVycy90ZXh0dXJlcyB0byB1c2UuIFRoaXMgd2lsbCBiZSBwcmVzZW50IG9uIGNvbmZpZ3MgZm9yIEdyb3VwUHJvZ3JhbVdyYXBwZXJzLlxuICogQHByb3BlcnR5IHtBcnJheS48c3RyaW5nPn0gW2NoaWxkcmVuRnJhbWVidWZmZXJJZHNdIFRoZSBJRHMgb2YgYWxsIHRoZSBmcmFtZWJ1ZmZlcnMvdGV4dHVyZXMgdGhhdFxuICogd2lsbCBuZWVkIHRvIGJlIGNyZWF0ZWQgZm9yIHRoaXMgcHJvZ3JhbS4gVGhpcyB3aWxsIGJlIHByZXNlbnQgb24gY29uZmlncyBmb3JcbiAqIEdyb3VwUHJvZ3JhbVdyYXBwZXJzLlxuICogQHByb3BlcnR5IHtGdW5jdGlvbn0gW2dldFByb2dyYW1WYXJpYWJsZXNDb25maWddIEEgbWV0aG9kIGZvciBnZXR0aW5nIHRoZSB2YXJpYWJsZXMgbmVlZGVkIGZvclxuICogZHJhd2luZyB0aGlzIHByb2dyYW0uIFRoaXMgd2lsbCBiZSBwcmVzZW50IG9uIGNvbmZpZ3Mgb2YgcHJvZ3JhbXMgdGhhdCBhcmUgY2hpbGRyZW4gb2YgYVxuICogR3JvdXBQcm9ncmFtV3JhcHBlci5cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IENoaWxkUHJvZ3JhbUFuZEZyYW1lYnVmZmVySWRzXG4gKiBAcHJvcGVydHkge3N0cmluZ30gcHJvZ3JhbUlkIFRoZSBJRCBvZiB0aGUgcHJvZ3JhbSB0byBkcmF3IHdpdGguXG4gKiBAcHJvcGVydHkge0FycmF5LjxzdHJpbmc+fSBpbnB1dEZyYW1lYnVmZmVySWRzIFRoZSBJRHMgb2YgZnJhbWVidWZmZXJzIHdob3NlIHRleHR1cmVzIHdpbGwgYmVcbiAqIHVzZWQgYXMgaW5wdXRzIGZvciB0aGlzIHByb2dyYW0ncyBzaGFkZXJzLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IG91dHB1dEZyYW1lYnVmZmVySWQgUHJvdmlkZSBudWxsIGluIG9yZGVyIHRvIHJlbmRlciB0byB0aGUgY2FudmFzLlxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gUHJvZ3JhbVZhcmlhYmxlc0NvbmZpZ1xuICogQHByb3BlcnR5IHtPYmplY3QuPFN0cmluZywgQXR0cmlidXRlQ29uZmlnPn0gYXR0cmlidXRlcyBBIG1hcHBpbmcgZnJvbSBhdHRyaWJ1dGUgbmFtZXMgdG9cbiAqIGF0dHJpYnV0ZSBpbmZvLlxuICogQHByb3BlcnR5IHtPYmplY3QuPFN0cmluZywgVW5pZm9ybURhdGE+fSB1bmlmb3JtcyBBIG1hcHBpbmcgZnJvbSB1bmlmb3JtIG5hbWVzIHRvIHVuaWZvcm0gaW5mby5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtb2RlIFNwZWNpZmllcyB0aGUgdHlwZSBvZiBwcmltaXRpdmVzIHRvIHJlbmRlcjsgb25lIG9mOlxuICogICAtIGdsLlBPSU5UUyxcbiAqICAgLSBnbC5MSU5FUyxcbiAqICAgLSBnbC5MSU5FX1NUUklQLFxuICogICAtIGdsLkxJTkVfTE9PUCxcbiAqICAgLSBnbC5UUklBTkdMRVMsXG4gKiAgIC0gZ2wuVFJJQU5HTEVfU1RSSVAsXG4gKiAgIC0gZ2wuVFJJQU5HTEVfRkFOLlxuICogQHByb3BlcnR5IHtXZWJHTEJ1ZmZlcn0gW3ZlcnRleEluZGljZXNdIFRoZSBpbmRpY2VzIHRvIHVzZSBmb3IgcmV0cmlldmluZyB0aGUgdmVydGV4IGluZm8gZnJvbVxuICogZWFjaCBvZiB0aGUgb3RoZXIgYXR0cmlidXRlIHZhcmlhYmxlIGJ1ZmZlcnMuIElmIHRoaXMgcHJvcGVydHkgaXMgcHJlc2VudCwgdGhlbiB0aGUgcmVuZGVyaW5nXG4gKiBwaXBlbGluZSB3aWxsIGJlIHNldCB1cCB0byB1c2UgZ2wuZHJhd0VsZW1lbnRzICh3aXRoIGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSKSBpbnN0ZWFkIG9mXG4gKiBnbC5kcmF3QXJyYXlzLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IGVsZW1lbnRDb3VudCBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzL3ZlcnRpY2VzIHRvIHJlbmRlciBmb3IgdGhpcyB2YXJpYWJsZXNcbiAqIGNvbmZpZ3VyYXRpb24uXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBBdHRyaWJ1dGVDb25maWdcbiAqIEBwcm9wZXJ0eSB7V2ViR0xCdWZmZXJ9IGJ1ZmZlciBUaGUgYnVmZmVyIGNvbnRhaW5pbmcgdGhpcyBhdHRyaWJ1dGUncyBkYXRhLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IGluZGV4IEluZGV4IG9mIHRhcmdldCBhdHRyaWJ1dGUgaW4gdGhlIGJ1ZmZlciBib3VuZCB0byBnbC5BUlJBWV9CVUZGRVIuXG4gKiBAcHJvcGVydHkge251bWJlcn0gc2l6ZSBUaGUgbnVtYmVyIG9mIGNvbXBvbmVudHMgcGVyIGF0dHJpYnV0ZS4gTXVzdCBiZSAxLDIsMyxvciA0LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IHR5cGUgU3BlY2lmaWVzIHRoZSBkYXRhIHR5cGUgb2YgZWFjaCBjb21wb25lbnQgaW4gdGhlIGFycmF5LiBVc2UgZWl0aGVyXG4gKiBnbC5GTE9BVCBvciBnbC5GSVhFRC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gbm9ybWFsaXplZCBJZiB0cnVlLCB0aGVuIHZhbHVlcyB3aWxsIGJlIG5vcm1hbGl6ZWQgdG8gYSByYW5nZSBvZiAtMSBvciAwIHRvXG4gKiAxLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IHN0cmlkZSBTcGVjaWZpZXMgdGhlIG9mZnNldCBpbiBieXRlcyBiZXR3ZWVuIHRoZSBiZWdpbm5pbmcgb2YgY29uc2VjdXRpdmVcbiAqIHZlcnRleCBhdHRyaWJ1dGVzLiBEZWZhdWx0IHZhbHVlIGlzIDAsIG1heGltdW0gaXMgMjU1LiBNdXN0IGJlIGEgbXVsdGlwbGUgb2YgdHlwZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBvZmZzZXQgU3BlY2lmaWVzIGFuIG9mZnNldCBpbiBieXRlcyBvZiB0aGUgZmlyc3QgY29tcG9uZW50IG9mIHRoZSBmaXJzdFxuICogdmVydGV4IGF0dHJpYnV0ZSBpbiB0aGUgYXJyYXkuIERlZmF1bHQgaXMgMCB3aGljaCBtZWFucyB0aGF0IHZlcnRleCBhdHRyaWJ1dGVzIGFyZSB0aWdodGx5XG4gKiBwYWNrZWQuIE11c3QgYmUgYSBtdWx0aXBsZSBvZiB0eXBlLlxuICovXG5cbi8qKiBAdHlwZWRlZiB7Kn0gVW5pZm9ybURhdGEgKi9cbiIsImltcG9ydCB7bG9hZEltYWdlU3JjfSBmcm9tICcuLi8uLi91dGlsJztcblxuLyoqXG4gKiBUaGlzIGNsYXNzIGxvYWRzLCBzZXRzIHVwLCBhbmQgc3RvcmVzIFdlYkdMIHRleHR1cmUgb2JqZWN0cy5cbiAqXG4gKiBOT1RFOiBPbmx5IHRleHR1cmVzIHdob3NlIHNpZGUgbGVuZ3RocyBhcmUgcG93ZXJzIG9mIHR3byBhcmUgc3VwcG9ydGVkLlxuICovXG5jbGFzcyBUZXh0dXJlU3RvcmUge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnRleHR1cmVDYWNoZSA9IHt9O1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0dXJlUGF0aFxuICAgKiBAcmV0dXJucyB7V2ViR0xUZXh0dXJlfVxuICAgKi9cbiAgZ2V0VGV4dHVyZSh0ZXh0dXJlUGF0aCkge1xuICAgIHJldHVybiB0aGlzLnRleHR1cmVDYWNoZVt0ZXh0dXJlUGF0aF0udGV4dHVyZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMb2FkcyB0aGUgdGV4dHVyZSBpbWFnZSBhdCB0aGUgZ2l2ZW4gcGF0aCwgY3JlYXRlcyBhIHRleHR1cmUgb2JqZWN0IGZyb20gaXQsIGNhY2hlcyB0aGVcbiAgICogdGV4dHVyZSwgYW5kIHJldHVybnMgYSBwcm9taXNlIGZvciB0aGUgdGV4dHVyZS5cbiAgICpcbiAgICogVGhpcyBtZXRob2QgaXMgaWRlbXBvdGVudDsgYSBnaXZlbiB0ZXh0dXJlIHdpbGwgb25seSBiZSBsb2FkZWQgb25jZS5cbiAgICpcbiAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0dXJlUGF0aFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZS48V2ViR0xUZXh0dXJlLCBFcnJvcj59XG4gICAqL1xuICBsb2FkVGV4dHVyZShnbCwgdGV4dHVyZVBhdGgpIHtcbiAgICBsZXQgdGV4dHVyZUNhY2hlSW5mbyA9IHRoaXMudGV4dHVyZUNhY2hlW3RleHR1cmVQYXRoXTtcblxuICAgIC8vIExvYWQsIGNyZWF0ZSwgYW5kIGNhY2hlIHRoZSB0ZXh0dXJlIGlmIGl0IGhhcyBub3QgYmVlbiBwcmV2aW91c2x5IHJlZ2lzdGVyZWQuXG4gICAgaWYgKCF0ZXh0dXJlQ2FjaGVJbmZvKSB7XG4gICAgICB0ZXh0dXJlQ2FjaGVJbmZvID0ge1xuICAgICAgICB0ZXh0dXJlUHJvbWlzZTogbnVsbCxcbiAgICAgICAgdGV4dHVyZTogbnVsbCxcbiAgICAgICAgaW1hZ2U6IG5ldyBJbWFnZSgpXG4gICAgICB9O1xuICAgICAgdGhpcy50ZXh0dXJlQ2FjaGVbdGV4dHVyZVBhdGhdID0gdGV4dHVyZUNhY2hlSW5mbztcbiAgICAgIHRleHR1cmVDYWNoZUluZm8udGV4dHVyZVByb21pc2UgPSBsb2FkSW1hZ2VTcmModGV4dHVyZUNhY2hlSW5mby5pbWFnZSwgdGV4dHVyZVBhdGgpXG4gICAgICAgICAgLnRoZW4oXyA9PiB0aGlzLl9jcmVhdGVUZXh0dXJlKGdsLCB0ZXh0dXJlQ2FjaGVJbmZvKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRleHR1cmVDYWNoZUluZm8udGV4dHVyZVByb21pc2U7XG4gIH1cblxuICAvLyBUT0RPOiBNYWtlIHRoaXMgbW9yZSBnZW5lcmFsL2NvbmZpZ3VyYWJsZSBieSBjcmVhdGluZyBhIG5ldyBUZXh0dXJlQ29uZmlnIHR5cGVkZWYgd2l0aCBtb3N0IG9mXG4gIC8vIHRoZSBnbC54eHggcGFyYW1zIGluY2x1ZGVkIGJlbG93IChsaWtlIHRoZSBBdHRyaWJ1dGVDb25maWcgdHlwZWRlZn0sIHBhc3NpbmcgYSB0ZXh0dXJlQ29uZmlnIGluXG4gIC8vIHRoZSByZWdpc3RlciBtZXRob2QsIGFuZCBzYXZpbmcgaXQgb24gdGhlIHRleHR1cmVDYWNoZUluZm8gb2JqZWN0LlxuICAvKipcbiAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsXG4gICAqIEBwYXJhbSB7VGV4dHVyZUNhY2hlSW5mb30gdGV4dHVyZUNhY2hlSW5mb1xuICAgKiBAcmV0dXJucyB7V2ViR0xUZXh0dXJlfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2NyZWF0ZVRleHR1cmUoZ2wsIHRleHR1cmVDYWNoZUluZm8pIHtcbiAgICBjb25zb2xlLmluZm8oYFRleHR1cmUgbG9hZGVkOiAke3RleHR1cmVDYWNoZUluZm8uaW1hZ2Uuc3JjfWApO1xuXG4gICAgdGV4dHVyZUNhY2hlSW5mby50ZXh0dXJlID0gZ2wuY3JlYXRlVGV4dHVyZSgpO1xuICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRleHR1cmVDYWNoZUluZm8udGV4dHVyZSk7XG4gICAgZ2wudGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCBnbC5SR0JBLCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCB0ZXh0dXJlQ2FjaGVJbmZvLmltYWdlKTtcbiAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUFHX0ZJTFRFUiwgZ2wuTElORUFSKTtcbiAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUlOX0ZJTFRFUiwgZ2wuTElORUFSX01JUE1BUF9ORUFSRVNUKTtcbiAgICBnbC5nZW5lcmF0ZU1pcG1hcChnbC5URVhUVVJFXzJEKTtcbiAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCBudWxsKTtcblxuICAgIHJldHVybiB0ZXh0dXJlQ2FjaGVJbmZvLnRleHR1cmU7XG4gIH1cblxuICAvKipcbiAgICogV0FSTklORzogVGhpcyB3aWxsIHJlbW92ZSB0aGUgdGV4dHVyZSBmcm9tIHRoZSBzdG9yZSBldmVuIGlmIHRoZXJlIGFyZSBzdGlsbCBvdGhlciBjb21wb25lbnRzXG4gICAqIGRlcGVuZGluZyBvbiB0aGlzIHRleHR1cmUuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0dXJlUGF0aFxuICAgKi9cbiAgZGVsZXRlVGV4dHVyZSh0ZXh0dXJlUGF0aCkge1xuICAgIGRlbGV0ZSB0aGlzLnRleHR1cmVDYWNoZVt0ZXh0dXJlUGF0aF07XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IHRleHR1cmVTdG9yZSA9IG5ldyBUZXh0dXJlU3RvcmUoKTtcblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBUZXh0dXJlQ2FjaGVJbmZvXG4gKiBAcHJvcGVydHkge1Byb21pc2UuPFdlYkdMVGV4dHVyZSwgRXJyb3I+fSB0ZXh0dXJlUHJvbWlzZVxuICogQHByb3BlcnR5IHtXZWJHTFRleHR1cmV9IFt0ZXh0dXJlXVxuICogQHByb3BlcnR5IHtIVE1MSW1hZ2VFbGVtZW50fSBbaW1hZ2VdXG4gKi9cbiIsIi8qKlxuICogVGhpcyBjbGFzcyBzdG9yZXMgYSBmdW5jdGlvbiBmb3Igc2V0dGluZyBhIHZhbHVlIHRvIGEgV2ViR0wgdW5pZm9ybSB2YXJpYWJsZS5cbiAqXG4gKiBUaGlzIGlzIGludGVuZGVkIGZvciB1c2UgYXMgYSBoZWxwZXIgZm9yIHRoZSBQcm9ncmFtV3JhcHBlciBjbGFzcy5cbiAqL1xuLy8gVE9ETzogV3JpdGUgdGVzdHMgZm9yIHRoaXMgY2xhc3MuXG5jbGFzcyBVbmlmb3JtU2V0dGVyIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbFxuICAgKiBAcGFyYW0ge1dlYkdMUHJvZ3JhbX0gcHJvZ3JhbVxuICAgKiBAcGFyYW0ge1dlYkdMQWN0aXZlSW5mb30gdW5pZm9ybUluZm9cbiAgICogQHBhcmFtIHtQcm9ncmFtV3JhcHBlcn0gcHJvZ3JhbVdyYXBwZXJcbiAgICogQHRocm93cyBJZiB0aGUgZ2l2ZW4gdW5pZm9ybUluZm8gc3BlY2lmaWVzIGFuIHVuZXhwZWN0ZWQgdW5pZm9ybS12YWx1ZSB0eXBlLlxuICAgKi9cbiAgY29uc3RydWN0b3IoZ2wsIHByb2dyYW0sIHVuaWZvcm1JbmZvLCBwcm9ncmFtV3JhcHBlcikge1xuICAgIHRoaXMuX2xvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sIHVuaWZvcm1JbmZvLm5hbWUpO1xuICAgIHRoaXMuX3NldHRlciA9IHRoaXMuX2dldFNldHRlcihnbCwgdW5pZm9ybUluZm8sIHByb2dyYW1XcmFwcGVyKTtcblxuICAgIC8vIFRPRE86IEZyZWV6ZSB0aGlzIG9iamVjdCBhZnRlciBpbml0aWFsaXppbmdcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1VuaWZvcm1EYXRhfSB1bmlmb3JtVmFsdWVcbiAgICovXG4gIHNldFVuaWZvcm0odW5pZm9ybVZhbHVlKSB7XG4gICAgdW5pZm9ybVZhbHVlID0gdW5pZm9ybVZhbHVlIGluc3RhbmNlb2YgQXJyYXkgPyBuZXcgRmxvYXQzMkFycmF5KHVuaWZvcm1WYWx1ZSkgOiB1bmlmb3JtVmFsdWU7XG4gICAgdGhpcy5fc2V0dGVyKHVuaWZvcm1WYWx1ZSk7XG4gIH1cblxuICAvKiogQHJldHVybnMge1dlYkdMVW5pZm9ybUxvY2F0aW9ufSAqL1xuICBnZXQgbG9jYXRpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX2xvY2F0aW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbFxuICAgKiBAcGFyYW0ge1dlYkdMQWN0aXZlSW5mb30gdW5pZm9ybUluZm9cbiAgICogQHBhcmFtIHtQcm9ncmFtV3JhcHBlcn0gcHJvZ3JhbVdyYXBwZXJcbiAgICogQHJldHVybnMge0Z1bmN0aW9uLjwqPn1cbiAgICogQHRocm93cyBJZiB0aGUgZ2l2ZW4gdW5pZm9ybUluZm8gc3BlY2lmaWVzIGFuIHVuZXhwZWN0ZWQgdW5pZm9ybS12YWx1ZSB0eXBlLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2dldFNldHRlcihnbCwgdW5pZm9ybUluZm8sIHByb2dyYW1XcmFwcGVyKSB7XG4gICAgY29uc3QgaXNBcnJheSA9IHVuaWZvcm1JbmZvLnNpemUgPiAxICYmIHVuaWZvcm1JbmZvLm5hbWUuc3Vic3RyKC0zKSA9PT0gJ1swXSc7XG4gICAgY29uc3Qgc2V0dGVyTWFwID0gaXNBcnJheSA/IHtcbiAgICAgIFtnbC5GTE9BVF06IHZhbHVlID0+IGdsLnVuaWZvcm0xZnYodGhpcy5fbG9jYXRpb24sIHZhbHVlKSxcbiAgICAgIFtnbC5JTlRdOiB2YWx1ZSA9PiBnbC51bmlmb3JtMWl2KHRoaXMuX2xvY2F0aW9uLCB2YWx1ZSksXG4gICAgICBbZ2wuU0FNUExFUl8yRF06IHRoaXMuX2dldFVuaWZvcm1UZXh0dXJlQXJyYXlTZXR0ZXIoZ2wsIGdsLlRFWFRVUkVfMkQsIHVuaWZvcm1JbmZvLnNpemUsXG4gICAgICAgICAgcHJvZ3JhbVdyYXBwZXIpLFxuICAgICAgW2dsLlNBTVBMRVJfQ1VCRV06IHRoaXMuX2dldFVuaWZvcm1UZXh0dXJlQXJyYXlTZXR0ZXIoZ2wsIGdsLlRFWFRVUkVfQ1VCRV9NQVAsXG4gICAgICAgICAgdW5pZm9ybUluZm8uc2l6ZSwgcHJvZ3JhbVdyYXBwZXIpLFxuICAgIH0gOiB7XG4gICAgICBbZ2wuRkxPQVRdOiB2YWx1ZSA9PiBnbC51bmlmb3JtMWYodGhpcy5fbG9jYXRpb24sIHZhbHVlKSxcbiAgICAgIFtnbC5GTE9BVF9WRUMyXTogdmFsdWUgPT4gZ2wudW5pZm9ybTJmdih0aGlzLl9sb2NhdGlvbiwgdmFsdWUpLFxuICAgICAgW2dsLkZMT0FUX1ZFQzNdOiB2YWx1ZSA9PiBnbC51bmlmb3JtM2Z2KHRoaXMuX2xvY2F0aW9uLCB2YWx1ZSksXG4gICAgICBbZ2wuRkxPQVRfVkVDNF06IHZhbHVlID0+IGdsLnVuaWZvcm00ZnYodGhpcy5fbG9jYXRpb24sIHZhbHVlKSxcbiAgICAgIFtnbC5JTlRdOiB2YWx1ZSA9PiBnbC51bmlmb3JtMWkodGhpcy5fbG9jYXRpb24sIHZhbHVlKSxcbiAgICAgIFtnbC5JTlRfVkVDMl06IHZhbHVlID0+IGdsLnVuaWZvcm0yaXYodGhpcy5fbG9jYXRpb24sIHZhbHVlKSxcbiAgICAgIFtnbC5JTlRfVkVDM106IHZhbHVlID0+IGdsLnVuaWZvcm0zaXYodGhpcy5fbG9jYXRpb24sIHZhbHVlKSxcbiAgICAgIFtnbC5JTlRfVkVDNF06IHZhbHVlID0+IGdsLnVuaWZvcm00aXYodGhpcy5fbG9jYXRpb24sIHZhbHVlKSxcbiAgICAgIFtnbC5CT09MXTogdmFsdWUgPT4gZ2wudW5pZm9ybTFpKHRoaXMuX2xvY2F0aW9uLCB2YWx1ZSksXG4gICAgICBbZ2wuQk9PTF9WRUMyXTogdmFsdWUgPT4gZ2wudW5pZm9ybTJpdih0aGlzLl9sb2NhdGlvbiwgdmFsdWUpLFxuICAgICAgW2dsLkJPT0xfVkVDM106IHZhbHVlID0+IGdsLnVuaWZvcm0zaXYodGhpcy5fbG9jYXRpb24sIHZhbHVlKSxcbiAgICAgIFtnbC5CT09MX1ZFQzRdOiB2YWx1ZSA9PiBnbC51bmlmb3JtNGl2KHRoaXMuX2xvY2F0aW9uLCB2YWx1ZSksXG4gICAgICBbZ2wuRkxPQVRfTUFUMl06IHZhbHVlID0+IGdsLnVuaWZvcm1NYXRyaXgyZnYodGhpcy5fbG9jYXRpb24sIGZhbHNlLCB2YWx1ZSksXG4gICAgICBbZ2wuRkxPQVRfTUFUM106IHZhbHVlID0+IGdsLnVuaWZvcm1NYXRyaXgzZnYodGhpcy5fbG9jYXRpb24sIGZhbHNlLCB2YWx1ZSksXG4gICAgICBbZ2wuRkxPQVRfTUFUNF06IHZhbHVlID0+IGdsLnVuaWZvcm1NYXRyaXg0ZnYodGhpcy5fbG9jYXRpb24sIGZhbHNlLCB2YWx1ZSksXG4gICAgICBbZ2wuU0FNUExFUl8yRF06IHRoaXMuX2dldFVuaWZvcm1UZXh0dXJlU2V0dGVyKGdsLCBnbC5URVhUVVJFXzJELFxuICAgICAgICAgIHByb2dyYW1XcmFwcGVyLmJhc2VUZXh0dXJlVW5pdEluZGV4KyspLFxuICAgICAgW2dsLlNBTVBMRVJfQ1VCRV06IHRoaXMuX2dldFVuaWZvcm1UZXh0dXJlU2V0dGVyKGdsLCBnbC5URVhUVVJFX0NVQkVfTUFQLFxuICAgICAgICAgIHByb2dyYW1XcmFwcGVyLmJhc2VUZXh0dXJlVW5pdEluZGV4KyspLFxuICAgIH07XG4gICAgcmV0dXJuIHNldHRlck1hcFt1bmlmb3JtSW5mby50eXBlXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2xcbiAgICogQHBhcmFtIHtudW1iZXJ9IHRhcmdldCBBbiBlbnVtIGRlc2NyaWJpbmcgdGhlIHR5cGUgb2YgdGhpcyBidWZmZXI7IG9uZSBvZjpcbiAgICogICAtIGdsLlRFWFRVUkVfMkQsXG4gICAqICAgLSBnbC5URVhUVVJFX0NVQkVfTUFQLlxuICAgKiBAcGFyYW0ge251bWJlcn0gdW5pZm9ybVNpemVcbiAgICogQHBhcmFtIHtQcm9ncmFtV3JhcHBlcn0gcHJvZ3JhbVdyYXBwZXJcbiAgICogQHJldHVybnMge0Z1bmN0aW9uLjwqPn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9nZXRVbmlmb3JtVGV4dHVyZUFycmF5U2V0dGVyKGdsLCB0YXJnZXQsIHVuaWZvcm1TaXplLCBwcm9ncmFtV3JhcHBlcikge1xuICAgIGNvbnN0IHRleHR1cmVVbml0SW5kaWNlcyA9XG4gICAgICAgIEFycmF5LmZyb20oe2xlbmd0aDogdW5pZm9ybVNpemV9LCBfID0+IHByb2dyYW1XcmFwcGVyLmJhc2VUZXh0dXJlVW5pdEluZGV4KyspO1xuXG4gICAgcmV0dXJuIHRleHR1cmVzID0+IHtcbiAgICAgIHRleHR1cmVzLmZvckVhY2goKHRleHR1cmUsIGluZGV4KSA9PiB7XG4gICAgICAgIGdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTAgKyB0ZXh0dXJlVW5pdEluZGljZXNbaW5kZXhdKTtcbiAgICAgICAgZ2wuYmluZFRleHR1cmUodGFyZ2V0LCB0ZXh0dXJlKTtcbiAgICAgIH0pO1xuICAgICAgZ2wudW5pZm9ybTFpdih0aGlzLl9sb2NhdGlvbiwgdGV4dHVyZVVuaXRJbmRpY2VzKTtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbFxuICAgKiBAcGFyYW0ge251bWJlcn0gdGFyZ2V0IEFuIGVudW0gZGVzY3JpYmluZyB0aGUgdHlwZSBvZiB0aGlzIGJ1ZmZlcjsgb25lIG9mOlxuICAgKiAgIC0gZ2wuVEVYVFVSRV8yRCxcbiAgICogICAtIGdsLlRFWFRVUkVfQ1VCRV9NQVAuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB0ZXh0dXJlVW5pdEluZGV4XG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbi48Kj59XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZ2V0VW5pZm9ybVRleHR1cmVTZXR0ZXIoZ2wsIHRhcmdldCwgdGV4dHVyZVVuaXRJbmRleCkge1xuICAgIHJldHVybiB0ZXh0dXJlID0+IHtcbiAgICAgIGdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTAgKyB0ZXh0dXJlVW5pdEluZGV4KTtcbiAgICAgIGdsLmJpbmRUZXh0dXJlKHRhcmdldCwgdGV4dHVyZSk7XG4gICAgICBnbC51bmlmb3JtMWkodGhpcy5fbG9jYXRpb24sIHRleHR1cmVVbml0SW5kZXgpO1xuICAgIH07XG4gIH1cbn1cblxuZXhwb3J0IHtVbmlmb3JtU2V0dGVyfTtcbiIsImltcG9ydCB7cmVuZGVyYWJsZVNoYXBlRmFjdG9yeX0gZnJvbSAnLi9zcmMvcmVuZGVyYWJsZS1zaGFwZS1mYWN0b3J5JztcblxuaW1wb3J0IHtjYXBzdWxlUmVuZGVyYWJsZVNoYXBlRmFjdG9yeX0gZnJvbSAnLi9zcmMvc2hhcGUtY29uZmlncy9jYXBzdWxlLXJlbmRlcmFibGUtc2hhcGUnO1xuaW1wb3J0IHtjdWJlUmVuZGVyYWJsZVNoYXBlRmFjdG9yeX0gZnJvbSAnLi9zcmMvc2hhcGUtY29uZmlncy9jdWJlLXJlbmRlcmFibGUtc2hhcGUnO1xuaW1wb3J0IHtpY29zYWhlZHJvblJlbmRlcmFibGVTaGFwZUZhY3Rvcnl9IGZyb20gJy4vc3JjL3NoYXBlLWNvbmZpZ3MvaWNvc2FoZWRyb24tcmVuZGVyYWJsZS1zaGFwZSc7XG5pbXBvcnQge2ljb3NwaGVyZVJlbmRlcmFibGVTaGFwZUZhY3Rvcnl9IGZyb20gJy4vc3JjL3NoYXBlLWNvbmZpZ3MvaWNvc3BoZXJlLXJlbmRlcmFibGUtc2hhcGUnO1xuaW1wb3J0IHtsYXRMb25nU3BoZXJlUmVuZGVyYWJsZVNoYXBlRmFjdG9yeX0gZnJvbSAnLi9zcmMvc2hhcGUtY29uZmlncy9sYXQtbG9uZy1zcGhlcmUtcmVuZGVyYWJsZS1zaGFwZSc7XG5pbXBvcnQge3RldHJhaGVkcm9uUmVuZGVyYWJsZVNoYXBlRmFjdG9yeX0gZnJvbSAnLi9zcmMvc2hhcGUtY29uZmlncy90ZXRyYWhlZHJvbi1yZW5kZXJhYmxlLXNoYXBlJztcblxuW1xuICBjYXBzdWxlUmVuZGVyYWJsZVNoYXBlRmFjdG9yeSxcbiAgY3ViZVJlbmRlcmFibGVTaGFwZUZhY3RvcnksXG4gIGljb3NhaGVkcm9uUmVuZGVyYWJsZVNoYXBlRmFjdG9yeSxcbiAgaWNvc3BoZXJlUmVuZGVyYWJsZVNoYXBlRmFjdG9yeSxcbiAgbGF0TG9uZ1NwaGVyZVJlbmRlcmFibGVTaGFwZUZhY3RvcnksXG4gIHRldHJhaGVkcm9uUmVuZGVyYWJsZVNoYXBlRmFjdG9yeVxuXS5mb3JFYWNoKHJlbmRlcmFibGVTaGFwZUZhY3RvcnkucmVnaXN0ZXJSZW5kZXJhYmxlU2hhcGVGYWN0b3J5KTtcblxuZXhwb3J0ICogZnJvbSAnLi9zcmMvc2hhcGUtY29uZmlncy9jYXBzdWxlLXJlbmRlcmFibGUtc2hhcGUnO1xuZXhwb3J0ICogZnJvbSAnLi9zcmMvc2hhcGUtY29uZmlncy9jdWJlLXJlbmRlcmFibGUtc2hhcGUnO1xuZXhwb3J0ICogZnJvbSAnLi9zcmMvc2hhcGUtY29uZmlncy9pY29zYWhlZHJvbi1yZW5kZXJhYmxlLXNoYXBlJztcbmV4cG9ydCAqIGZyb20gJy4vc3JjL3NoYXBlLWNvbmZpZ3MvaWNvc3BoZXJlLXJlbmRlcmFibGUtc2hhcGUnO1xuZXhwb3J0ICogZnJvbSAnLi9zcmMvc2hhcGUtY29uZmlncy9sYXQtbG9uZy1zcGhlcmUtcmVuZGVyYWJsZS1zaGFwZSc7XG5leHBvcnQgKiBmcm9tICcuL3NyYy9zaGFwZS1jb25maWdzL3RldHJhaGVkcm9uLXJlbmRlcmFibGUtc2hhcGUnO1xuXG5leHBvcnQgKiBmcm9tICcuL3NyYy9yZW5kZXJhYmxlLXNoYXBlLWZhY3RvcnknO1xuZXhwb3J0ICogZnJvbSAnLi9zcmMvcmVuZGVyYWJsZS1zaGFwZS1zdG9yZSc7XG4iLCJpbXBvcnQge0RlZmF1bHRNb2RlbH0gZnJvbSAnLi4vLi4vbW9kZWxzJztcbmltcG9ydCB7cmVuZGVyYWJsZVNoYXBlU3RvcmV9IGZyb20gJy4vcmVuZGVyYWJsZS1zaGFwZS1zdG9yZSc7XG5cbi8qKlxuICogVGhpcyBtb2R1bGUgZGVmaW5lcyBhIGZhY3RvcnkgZm9yIERlZmF1bHRSaWdpZE1vZGFsIGluc3RhbmNlcyB0aGF0IGFyZSBiYXNlZCBvbiB0aGUgdmFyaW91c1xuICogcHJlLWRlZmluZWQgcmVuZGVyYWJsZSBzaGFwZXMgaW4gdGhpcyBkaXJlY3RvcnkuXG4gKi9cblxuY29uc3QgcmVuZGVyYWJsZVNoYXBlRmFjdG9yeSA9IHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbFxuICAgKiBAcGFyYW0ge1JlbmRlcmFibGVTaGFwZUNvbmZpZ30gcGFyYW1zXG4gICAqIEByZXR1cm5zIHtEZWZhdWx0TW9kZWx9XG4gICAqL1xuICBjcmVhdGVNb2RlbDogKGdsLCBwYXJhbXMpID0+IHtcbiAgICBjb25zdCBzaGFwZUNvbmZpZyA9IHJlbmRlcmFibGVTaGFwZUZhY3RvcnkuZ2V0UmVuZGVyYWJsZVNoYXBlKHBhcmFtcyk7XG4gICAgcmV0dXJuIG5ldyBEZWZhdWx0TW9kZWwoZ2wsIHNoYXBlQ29uZmlnKTtcbiAgfSxcblxuICAvKipcbiAgICogQHBhcmFtIHtSZW5kZXJhYmxlU2hhcGVDb25maWd9IHBhcmFtc1xuICAgKiBAcmV0dXJucyB7UmVuZGVyYWJsZVNoYXBlfVxuICAgKi9cbiAgZ2V0UmVuZGVyYWJsZVNoYXBlOiBwYXJhbXMgPT4ge1xuICAgIHBhcmFtcy5pc1VzaW5nU3BoZXJpY2FsTm9ybWFscyA9IHBhcmFtcy5pc1VzaW5nU3BoZXJpY2FsTm9ybWFscyB8fCBmYWxzZTtcbiAgICBwYXJhbXMuZGl2aXNpb25zQ291bnQgPSB0eXBlb2YgcGFyYW1zLmRpdmlzaW9uc0NvdW50ID09PSAnbnVtYmVyJyA/IHBhcmFtcy5kaXZpc2lvbnNDb3VudCA6IDA7XG5cbiAgICBsZXQgc2hhcGVDb25maWcgPSByZW5kZXJhYmxlU2hhcGVTdG9yZS5nZXRTaGFwZShwYXJhbXMpO1xuICAgIGlmICghc2hhcGVDb25maWcpIHtcbiAgICAgIHNoYXBlQ29uZmlnID0gX3NoYXBlSWRzVG9SZW5kZXJhYmxlU2hhcGVGYWN0b3JpZXNbcGFyYW1zLnNoYXBlSWRdLmdldFJlbmRlcmFibGVTaGFwZShwYXJhbXMpO1xuICAgICAgX3VwZGF0ZVRleHR1cmVDb29yZGluYXRlc1NwYW4oc2hhcGVDb25maWcsIHBhcmFtcy50ZXh0dXJlU3Bhbik7XG4gICAgICByZW5kZXJhYmxlU2hhcGVTdG9yZS5yZWdpc3RlclNoYXBlKHNoYXBlQ29uZmlnLCBwYXJhbXMpO1xuICAgIH1cbiAgICByZXR1cm4gc2hhcGVDb25maWc7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7UmVuZGVyYWJsZVNoYXBlRmFjdG9yeX0gc2hhcGVDb25maWdGYWN0b3J5XG4gICAqL1xuICByZWdpc3RlclJlbmRlcmFibGVTaGFwZUZhY3Rvcnk6IHNoYXBlQ29uZmlnRmFjdG9yeSA9PiB7XG4gICAgX3NoYXBlSWRzVG9SZW5kZXJhYmxlU2hhcGVGYWN0b3JpZXNbc2hhcGVDb25maWdGYWN0b3J5LnNoYXBlSWRdID0gc2hhcGVDb25maWdGYWN0b3J5O1xuICAgIHJlbmRlcmFibGVTaGFwZVN0b3JlLnJlZ2lzdGVyUmVuZGVyYWJsZVNoYXBlRmFjdG9yeShzaGFwZUNvbmZpZ0ZhY3RvcnkpO1xuICB9XG59O1xuXG5jb25zdCBfc2hhcGVJZHNUb1JlbmRlcmFibGVTaGFwZUZhY3RvcmllcyA9IHt9O1xuXG4vKipcbiAqIEBwYXJhbSB7UmVuZGVyYWJsZVNoYXBlfSBzaGFwZUNvbmZpZ1xuICogQHBhcmFtIHtUZXh0dXJlU3Bhbn0gdGV4dHVyZVNwYW5cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIF91cGRhdGVUZXh0dXJlQ29vcmRpbmF0ZXNTcGFuKHNoYXBlQ29uZmlnLCB0ZXh0dXJlU3Bhbikge1xuICBpZiAoIXRleHR1cmVTcGFuKSByZXR1cm47XG5cbiAgY29uc3QgbWluWCA9IHRleHR1cmVTcGFuLm1pblg7XG4gIGNvbnN0IG1pblkgPSB0ZXh0dXJlU3Bhbi5taW5ZO1xuICBjb25zdCByYW5nZVggPSB0ZXh0dXJlU3Bhbi5tYXhYIC0gdGV4dHVyZVNwYW4ubWluWDtcbiAgY29uc3QgcmFuZ2VZID0gdGV4dHVyZVNwYW4ubWF4WSAtIHRleHR1cmVTcGFuLm1pblk7XG5cbiAgY29uc3QgdGV4dHVyZUNvb3JkaW5hdGVzID0gc2hhcGVDb25maWcudGV4dHVyZUNvb3JkaW5hdGVzLnNsaWNlKCk7XG4gIHNoYXBlQ29uZmlnLnRleHR1cmVDb29yZGluYXRlcyA9IHRleHR1cmVDb29yZGluYXRlcztcblxuICBmb3IgKGxldCBpID0gMCwgY291bnQgPSB0ZXh0dXJlQ29vcmRpbmF0ZXMubGVuZ3RoOyBpIDwgY291bnQ7IGkgKz0gMikge1xuICAgIHRleHR1cmVDb29yZGluYXRlc1tpXSA9IG1pblggKyByYW5nZVggKiB0ZXh0dXJlQ29vcmRpbmF0ZXNbaV07XG4gICAgdGV4dHVyZUNvb3JkaW5hdGVzW2kgKyAxXSA9IG1pblkgKyByYW5nZVkgKiB0ZXh0dXJlQ29vcmRpbmF0ZXNbaSArIDFdO1xuICB9XG59XG5cbmV4cG9ydCB7cmVuZGVyYWJsZVNoYXBlRmFjdG9yeX07XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gUmVuZGVyYWJsZVNoYXBlRmFjdG9yeVxuICogQHByb3BlcnR5IHtzdHJpbmd9IHNoYXBlSWRcbiAqIEBwcm9wZXJ0eSB7RnVuY3Rpb24uPFJlbmRlcmFibGVTaGFwZT59IGdldFJlbmRlcmFibGVTaGFwZVxuICogQHByb3BlcnR5IHtGdW5jdGlvbi48U3RyaW5nPn0gZ2V0Q2FjaGVJZFxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gUmVuZGVyYWJsZVNoYXBlXG4gKiBAcHJvcGVydHkge0FycmF5LjxOdW1iZXI+fSB2ZXJ0ZXhQb3NpdGlvbnNcbiAqIEBwcm9wZXJ0eSB7QXJyYXkuPE51bWJlcj59IHZlcnRleE5vcm1hbHNcbiAqIEBwcm9wZXJ0eSB7QXJyYXkuPE51bWJlcj59IHRleHR1cmVDb29yZGluYXRlc1xuICogQHByb3BlcnR5IHtBcnJheS48TnVtYmVyPn0gW3ZlcnRleEluZGljZXNdXG4gKiBAcHJvcGVydHkge251bWJlcn0gZWxlbWVudENvdW50XG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBUZXh0dXJlU3BhblxuICogQHByb3BlcnR5IHtudW1iZXJ9IG1pblhcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtaW5ZXG4gKiBAcHJvcGVydHkge251bWJlcn0gbWF4WFxuICogQHByb3BlcnR5IHtudW1iZXJ9IG1heFlcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFJlbmRlcmFibGVTaGFwZUNvbmZpZ1xuICogQHByb3BlcnR5IHtzdHJpbmd9IHNoYXBlSWQgVGhlIElEIG9mIHRoZSB0eXBlIG9mIHJlbmRlcmFibGUgc2hhcGUuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtpc1VzaW5nU3BoZXJpY2FsTm9ybWFscz1mYWxzZV0gV2hldGhlciBsaWdodCByZWZsZWN0aW9ucyBzaG91bGQgc2hvdyBzaGFycFxuICogZWRnZXMuXG4gKiBAcHJvcGVydHkge1RleHR1cmVTcGFufSBbdGV4dHVyZVNwYW5dIEZvciBpbmRpY2F0aW5nIGhvdyBtdWNoIGEgdGV4dHVyZSBzaG91bGQgcmVwZWF0IGluIGJvdGggYXhlcy5cbiAqIEEgcmFuZ2Ugb2YgMC0wLjUgc2hvdWxkIHNob3cgaGFsZiB0aGUgdGV4dHVyZS4gQSByYW5nZSBvZiAwLTIgd291bGQgc2hvdyB0aGUgdGV4dHVyZSB0d2ljZS4gVGhlXG4gKiBkZWZhdWx0IGlzIDAtMSBpbiBib3RoIGRpcmVjdGlvbnMuXG4gKiBAcHJvcGVydHkge3ZlYzN9IFtzY2FsZV1cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtSZW5kZXJhYmxlU2hhcGVDb25maWd9IFNwaGVyaWNhbFJlbmRlcmFibGVTaGFwZVBhcmFtc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IGRpdmlzaW9uc0NvdW50IEhvdyBtYW55IHRpbWVzIHRvIHN1Yi1kaXZpZGUgdGhlIHNwaGVyZS5cbiAqL1xuIiwiLyoqXG4gKiBUaGlzIGNsYXNzIGNhY2hlcyByZW5kZXJhYmxlIHNoYXBlIGRhdGEuXG4gKi9cbmNsYXNzIFJlbmRlcmFibGVTaGFwZVN0b3JlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5fc2hhcGVDYWNoZSA9IG5ldyBNYXAoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1JlbmRlcmFibGVTaGFwZUNvbmZpZ30gcGFyYW1zXG4gICAqIEByZXR1cm5zIHtSZW5kZXJhYmxlU2hhcGV9XG4gICAqL1xuICBnZXRTaGFwZShwYXJhbXMpIHtcbiAgICBjb25zdCBrZXkgPSBfc2hhcGVJZHNUb0NhY2hlS2V5Q2FsY3VsYXRvcnNbcGFyYW1zLnNoYXBlSWRdKHBhcmFtcyk7XG4gICAgcmV0dXJuIHRoaXMuX3NoYXBlQ2FjaGUuZ2V0KGtleSk7XG4gIH1cblxuICAvKipcbiAgICogQ2FjaGVzIHRoZSBnaXZlbiBzaGFwZSBpbmZvLlxuICAgKlxuICAgKiBAcGFyYW0ge1JlbmRlcmFibGVTaGFwZX0gc2hhcGVDb25maWdcbiAgICogQHBhcmFtIHtSZW5kZXJhYmxlU2hhcGVDb25maWd9IHBhcmFtc1xuICAgKi9cbiAgcmVnaXN0ZXJTaGFwZShzaGFwZUNvbmZpZywgcGFyYW1zKSB7XG4gICAgY29uc3Qga2V5ID0gX3NoYXBlSWRzVG9DYWNoZUtleUNhbGN1bGF0b3JzW3BhcmFtcy5zaGFwZUlkXShwYXJhbXMpO1xuICAgIHRoaXMuX3NoYXBlQ2FjaGUuc2V0KGtleSwgc2hhcGVDb25maWcpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7UmVuZGVyYWJsZVNoYXBlRmFjdG9yeX0gc2hhcGVDb25maWdGYWN0b3J5XG4gICAqL1xuICByZWdpc3RlclJlbmRlcmFibGVTaGFwZUZhY3Rvcnkoc2hhcGVDb25maWdGYWN0b3J5KSB7XG4gICAgX3NoYXBlSWRzVG9DYWNoZUtleUNhbGN1bGF0b3JzW3NoYXBlQ29uZmlnRmFjdG9yeS5zaGFwZUlkXSA9IHNoYXBlQ29uZmlnRmFjdG9yeS5nZXRDYWNoZUlkO1xuICB9XG5cbiAgLy8gVE9ETzogQWRkIHN1cHBvcnQgZm9yIHVuLXJlZ2lzdGVyaW5nIHNoYXBlcy5cbn1cblxuLyoqXG4gKiBAcGFyYW0ge1JlbmRlcmFibGVTaGFwZUNvbmZpZ30gcGFyYW1zXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiBnZXRDYWNoZUtleShwYXJhbXMpIHtcbiAgY29uc3QgdGV4dHVyZVNwYW5TdHIgPSBwYXJhbXMudGV4dHVyZVNwYW5cbiAgICAgID8gYDoke3BhcmFtcy50ZXh0dXJlU3Bhbi5taW5YfSwke3BhcmFtcy50ZXh0dXJlU3Bhbi5taW5ZfSwke3BhcmFtcy50ZXh0dXJlU3Bhbi5tYXhYfSxgICtcbiAgYCR7cGFyYW1zLnRleHR1cmVTcGFuLm1heFl9YFxuICAgICAgOiAnJztcblxuICByZXR1cm4gYCR7cGFyYW1zLnNoYXBlSWR9OiR7cGFyYW1zLmlzVXNpbmdTcGhlcmljYWxOb3JtYWxzfSR7dGV4dHVyZVNwYW5TdHJ9YDtcbn1cblxuY29uc3QgX3NoYXBlSWRzVG9DYWNoZUtleUNhbGN1bGF0b3JzID0ge307XG5cbmNvbnN0IHJlbmRlcmFibGVTaGFwZVN0b3JlID0gbmV3IFJlbmRlcmFibGVTaGFwZVN0b3JlKCk7XG5leHBvcnQge3JlbmRlcmFibGVTaGFwZVN0b3JlLCBnZXRDYWNoZUtleX07XG4iLCIvKipcbiAqIFRoaXMgbW9kdWxlIGRlZmluZXMgYSBjb25maWd1cmF0aW9uIGZhY3RvcnkgZm9yIGEgY2Fwc3VsZSBzaGFwZS5cbiAqXG4gKiBUaGUgc2hhcGUgaXMgY2VudGVyZWQgYXJvdW5kIHRoZSBvcmlnaW4gd2l0aCB0aGUgcG9sZXMgYWxpZ25lZCB3aXRoIHRoZSB6LWF4aXMuXG4gKi9cblxuaW1wb3J0IHtcbiAgY2FsY3VsYXRlU3BoZXJpY2FsU2VjdGlvbixcbiAgY2FsY3VsYXRlT3J0aG9nb25hbFZlcnRleE5vcm1hbHMsXG4gIGRlZHVwVmVydGV4QXJyYXlXaXRoUG9zaXRpb25zQW5kSW5kaWNlc0FycmF5cyxcbiAgY2FsY3VsYXRlTGF0TG9uZ1RleHR1cmVDb29yZGluYXRlcyxcbiAgY2FsY3VsYXRlQ3lsaW5kcmljYWxTZWN0aW9uLFxuICBjYWxjdWxhdGVDeWxpbmRyaWNhbFRleHR1cmVDb29yZGluYXRlcyxcbiAgVFdPX1BJLFxufSBmcm9tICcuLi8uLi8uLi91dGlsJztcbmltcG9ydCB7Z2V0Q2FjaGVLZXl9IGZyb20gJy4uL3JlbmRlcmFibGUtc2hhcGUtc3RvcmUnO1xuXG4vLyBUT0RPOiBPbmNlIEkgaGF2ZSBhIGJldHRlciBjYW1lcmEgaW4gcGxhY2UsIHRlc3QgdGhhdCB0aGVzZSB0ZXh0dXJlIGNvb3JkaW5hdGUgY2FsY3VsYXRpb25zIGFyZVxuLy8gY29ycmVjdC5cblxuLyoqXG4gKiBAcGFyYW0ge0NhcHN1bGVSZW5kZXJhYmxlU2hhcGVQYXJhbXN9IHBhcmFtc1xuICogQHJldHVybnMge1JlbmRlcmFibGVTaGFwZX1cbiAqL1xuZnVuY3Rpb24gX2NhbGN1bGF0ZUNhcHN1bGVUb3BTaGFwZShwYXJhbXMpIHtcbiAgLy8gQ2FsY3VsYXRlIHRoZSBwb3NpdGlvbnMuXG4gIC8vIFRPRE86IFRoaXMgdXNlcyBsYXQtbG9uZyBzcGhlcmVzIGZvciB0aGUgZW5kcyBvZiB0aGUgY2Fwc3VsZS4gVXNlIGljb3NwaGVyZXMgaW5zdGVhZC5cbiAgY29uc3QgaW5kaXZpZHVhbFZlcnRleFBvc2l0aW9ucyA9IGNhbGN1bGF0ZVNwaGVyaWNhbFNlY3Rpb24oXG4gICAgICAwLCBwYXJhbXMuZGl2aXNpb25zQ291bnQgLyAyLCBNYXRoLlBJIC8gcGFyYW1zLmRpdmlzaW9uc0NvdW50LFxuICAgICAgMCwgcGFyYW1zLmRpdmlzaW9uc0NvdW50LCBUV09fUEkgLyBwYXJhbXMuZGl2aXNpb25zQ291bnQpO1xuXG4gIC8vIENhbGN1bGF0ZSB0aGUgaW5kaWNlcyBhbmQgbm9ybWFscy5cbiAgbGV0IHZlcnRleFBvc2l0aW9ucztcbiAgbGV0IHZlcnRleEluZGljZXM7XG4gIGxldCB2ZXJ0ZXhOb3JtYWxzO1xuICBpZiAoIXBhcmFtcy5pc1VzaW5nU3BoZXJpY2FsTm9ybWFscykge1xuICAgIC8vIElmIHdlIHVzZSBvcnRob2dvbmFsIG5vcm1hbHMsIHRoZW4gd2UgY2Fubm90IHVzZSB2ZXJ0ZXhJbmRpY2VzLlxuICAgIHZlcnRleFBvc2l0aW9ucyA9IGluZGl2aWR1YWxWZXJ0ZXhQb3NpdGlvbnM7XG4gICAgdmVydGV4SW5kaWNlcyA9IG51bGw7XG4gICAgdmVydGV4Tm9ybWFscyA9IGNhbGN1bGF0ZU9ydGhvZ29uYWxWZXJ0ZXhOb3JtYWxzKHZlcnRleFBvc2l0aW9ucyk7XG4gIH0gZWxzZSB7XG4gICAgKHt2ZXJ0ZXhQb3NpdGlvbnMsIHZlcnRleEluZGljZXN9ID0gZGVkdXBWZXJ0ZXhBcnJheVdpdGhQb3NpdGlvbnNBbmRJbmRpY2VzQXJyYXlzKFxuICAgICAgICBpbmRpdmlkdWFsVmVydGV4UG9zaXRpb25zKSk7XG4gICAgdmVydGV4Tm9ybWFscyA9IHZlcnRleFBvc2l0aW9ucztcbiAgfVxuXG4gIGNvbnN0IHRleHR1cmVDb29yZGluYXRlcyA9IGNhbGN1bGF0ZUxhdExvbmdUZXh0dXJlQ29vcmRpbmF0ZXModmVydGV4UG9zaXRpb25zKTtcblxuICBsZXQgc2NhbGU7XG4gIGxldCB0cmFuc2xhdGlvbjtcblxuICAvLyBTY2FsZSBhbmQgdHJhbnNsYXRlIHRoZSBwb3NpdGlvbnMuXG4gIHNjYWxlID0gcGFyYW1zLnJhZGl1cztcbiAgdHJhbnNsYXRpb24gPSBwYXJhbXMuY2Fwc3VsZUVuZFBvaW50c0Rpc3RhbmNlIC8gMjtcbiAgZm9yIChsZXQgaSA9IDAsIGNvdW50ID0gdmVydGV4UG9zaXRpb25zLmxlbmd0aDsgaSA8IGNvdW50OyBpICs9IDMpIHtcbiAgICB2ZXJ0ZXhQb3NpdGlvbnNbaV0gKj0gc2NhbGU7XG4gICAgdmVydGV4UG9zaXRpb25zW2kgKyAxXSAqPSBzY2FsZTtcbiAgICB2ZXJ0ZXhQb3NpdGlvbnNbaSArIDJdID0gdmVydGV4UG9zaXRpb25zW2kgKyAyXSAqIHNjYWxlICsgdHJhbnNsYXRpb247XG4gIH1cblxuICAvLyBTY2FsZSBhbmQgdHJhbnNsYXRlIHRoZSB0ZXh0dXJlIGNvb3JkaW5hdGVzLlxuICBzY2FsZSA9IHBhcmFtcy5yYWRpdXMgLyAocGFyYW1zLnJhZGl1cyArIHBhcmFtcy5jYXBzdWxlRW5kUG9pbnRzRGlzdGFuY2UpO1xuICB0cmFuc2xhdGlvbiA9IDEgLSBzY2FsZTtcbiAgZm9yIChsZXQgaSA9IDEsIGNvdW50ID0gdGV4dHVyZUNvb3JkaW5hdGVzLmxlbmd0aDsgaSA8IGNvdW50OyBpICs9IDIpIHtcbiAgICB0ZXh0dXJlQ29vcmRpbmF0ZXNbaV0gPSB0ZXh0dXJlQ29vcmRpbmF0ZXNbaV0gKiBzY2FsZSArIHRyYW5zbGF0aW9uO1xuICB9XG5cbiAgY29uc3QgZWxlbWVudENvdW50ID0gdmVydGV4SW5kaWNlcyA/IHZlcnRleEluZGljZXMubGVuZ3RoIDogdmVydGV4UG9zaXRpb25zLmxlbmd0aCAvIDM7XG5cbiAgcmV0dXJuIHtcbiAgICB2ZXJ0ZXhQb3NpdGlvbnM6IHZlcnRleFBvc2l0aW9ucyxcbiAgICB2ZXJ0ZXhOb3JtYWxzOiB2ZXJ0ZXhOb3JtYWxzLFxuICAgIHRleHR1cmVDb29yZGluYXRlczogdGV4dHVyZUNvb3JkaW5hdGVzLFxuICAgIHZlcnRleEluZGljZXM6IHZlcnRleEluZGljZXMsXG4gICAgZWxlbWVudENvdW50OiBlbGVtZW50Q291bnRcbiAgfTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0NhcHN1bGVSZW5kZXJhYmxlU2hhcGVQYXJhbXN9IHBhcmFtc1xuICogQHJldHVybnMge1JlbmRlcmFibGVTaGFwZX1cbiAqL1xuZnVuY3Rpb24gX2NhbGN1bGF0ZUNhcHN1bGVCb3R0b21TaGFwZShwYXJhbXMpIHtcbiAgLy8gQ2FsY3VsYXRlIHRoZSBwb3NpdGlvbnMuXG4gIC8vIFRPRE86IFRoaXMgdXNlcyBsYXQtbG9uZyBzcGhlcmVzIGZvciB0aGUgZW5kcyBvZiB0aGUgY2Fwc3VsZS4gVXNlIGljb3NwaGVyZXMgaW5zdGVhZC5cbiAgY29uc3QgaW5kaXZpZHVhbFZlcnRleFBvc2l0aW9ucyA9IGNhbGN1bGF0ZVNwaGVyaWNhbFNlY3Rpb24oXG4gICAgICBwYXJhbXMuZGl2aXNpb25zQ291bnQgLyAyLCBwYXJhbXMuZGl2aXNpb25zQ291bnQsIE1hdGguUEkgLyBwYXJhbXMuZGl2aXNpb25zQ291bnQsXG4gICAgICAwLCBwYXJhbXMuZGl2aXNpb25zQ291bnQsIFRXT19QSSAvIHBhcmFtcy5kaXZpc2lvbnNDb3VudCk7XG5cbiAgLy8gQ2FsY3VsYXRlIHRoZSBpbmRpY2VzIGFuZCBub3JtYWxzLlxuICBsZXQgdmVydGV4UG9zaXRpb25zO1xuICBsZXQgdmVydGV4SW5kaWNlcztcbiAgbGV0IHZlcnRleE5vcm1hbHM7XG4gIGlmICghcGFyYW1zLmlzVXNpbmdTcGhlcmljYWxOb3JtYWxzKSB7XG4gICAgLy8gSWYgd2UgdXNlIG9ydGhvZ29uYWwgbm9ybWFscywgdGhlbiB3ZSBjYW5ub3QgdXNlIHZlcnRleEluZGljZXMuXG4gICAgdmVydGV4UG9zaXRpb25zID0gaW5kaXZpZHVhbFZlcnRleFBvc2l0aW9ucztcbiAgICB2ZXJ0ZXhJbmRpY2VzID0gbnVsbDtcbiAgICB2ZXJ0ZXhOb3JtYWxzID0gY2FsY3VsYXRlT3J0aG9nb25hbFZlcnRleE5vcm1hbHModmVydGV4UG9zaXRpb25zKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBwb3NpdGlvbnNBbmRJbmRpY2VzID0gZGVkdXBWZXJ0ZXhBcnJheVdpdGhQb3NpdGlvbnNBbmRJbmRpY2VzQXJyYXlzKFxuICAgICAgICBpbmRpdmlkdWFsVmVydGV4UG9zaXRpb25zKTtcbiAgICB2ZXJ0ZXhQb3NpdGlvbnMgPSBwb3NpdGlvbnNBbmRJbmRpY2VzLnZlcnRleFBvc2l0aW9ucztcbiAgICB2ZXJ0ZXhJbmRpY2VzID0gcG9zaXRpb25zQW5kSW5kaWNlcy52ZXJ0ZXhJbmRpY2VzO1xuICAgIHZlcnRleE5vcm1hbHMgPSB2ZXJ0ZXhQb3NpdGlvbnM7XG4gIH1cblxuICBjb25zdCB0ZXh0dXJlQ29vcmRpbmF0ZXMgPSBjYWxjdWxhdGVMYXRMb25nVGV4dHVyZUNvb3JkaW5hdGVzKHZlcnRleFBvc2l0aW9ucyk7XG5cbiAgbGV0IHNjYWxlO1xuICBsZXQgdHJhbnNsYXRpb247XG5cbiAgLy8gU2NhbGUgYW5kIHRyYW5zbGF0ZSB0aGUgcG9zaXRpb25zLlxuICBzY2FsZSA9IHBhcmFtcy5yYWRpdXM7XG4gIHRyYW5zbGF0aW9uID0gLXBhcmFtcy5jYXBzdWxlRW5kUG9pbnRzRGlzdGFuY2UgLyAyO1xuICBmb3IgKGxldCBpID0gMCwgY291bnQgPSB2ZXJ0ZXhQb3NpdGlvbnMubGVuZ3RoOyBpIDwgY291bnQ7IGkgKz0gMykge1xuICAgIHZlcnRleFBvc2l0aW9uc1tpXSAqPSBzY2FsZTtcbiAgICB2ZXJ0ZXhQb3NpdGlvbnNbaSArIDFdICo9IHNjYWxlO1xuICAgIHZlcnRleFBvc2l0aW9uc1tpICsgMl0gPSB2ZXJ0ZXhQb3NpdGlvbnNbaSArIDJdICogc2NhbGUgKyB0cmFuc2xhdGlvbjtcbiAgfVxuXG4gIC8vIFNjYWxlIGFuZCB0cmFuc2xhdGUgdGhlIHRleHR1cmUgY29vcmRpbmF0ZXMuXG4gIHNjYWxlID0gcGFyYW1zLnJhZGl1cyAvIChwYXJhbXMucmFkaXVzICsgcGFyYW1zLmNhcHN1bGVFbmRQb2ludHNEaXN0YW5jZSk7XG4gIHRyYW5zbGF0aW9uID0gMDtcbiAgZm9yIChsZXQgaSA9IDEsIGNvdW50ID0gdGV4dHVyZUNvb3JkaW5hdGVzLmxlbmd0aDsgaSA8IGNvdW50OyBpICs9IDIpIHtcbiAgICB0ZXh0dXJlQ29vcmRpbmF0ZXNbaV0gPSB0ZXh0dXJlQ29vcmRpbmF0ZXNbaV0gKiBzY2FsZSArIHRyYW5zbGF0aW9uO1xuICB9XG5cbiAgY29uc3QgZWxlbWVudENvdW50ID0gdmVydGV4SW5kaWNlcyA/IHZlcnRleEluZGljZXMubGVuZ3RoIDogdmVydGV4UG9zaXRpb25zLmxlbmd0aCAvIDM7XG5cbiAgcmV0dXJuIHtcbiAgICB2ZXJ0ZXhQb3NpdGlvbnM6IHZlcnRleFBvc2l0aW9ucyxcbiAgICB2ZXJ0ZXhOb3JtYWxzOiB2ZXJ0ZXhOb3JtYWxzLFxuICAgIHRleHR1cmVDb29yZGluYXRlczogdGV4dHVyZUNvb3JkaW5hdGVzLFxuICAgIHZlcnRleEluZGljZXM6IHZlcnRleEluZGljZXMsXG4gICAgZWxlbWVudENvdW50OiBlbGVtZW50Q291bnRcbiAgfTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0NhcHN1bGVSZW5kZXJhYmxlU2hhcGVQYXJhbXN9IHBhcmFtc1xuICogQHJldHVybnMge1JlbmRlcmFibGVTaGFwZX1cbiAqL1xuZnVuY3Rpb24gX2NhbGN1bGF0ZUNhcHN1bGVNaWRkbGVTaGFwZShwYXJhbXMpIHtcbiAgbGV0IHNjYWxlO1xuICBsZXQgdHJhbnNsYXRpb247XG5cbiAgLy8gQ2FsY3VsYXRlIHRoZSBwb3NpdGlvbnMuXG4gIHRyYW5zbGF0aW9uID0gcGFyYW1zLmNhcHN1bGVFbmRQb2ludHNEaXN0YW5jZSAvIDI7XG4gIGNvbnN0IGluZGl2aWR1YWxWZXJ0ZXhQb3NpdGlvbnMgPSBjYWxjdWxhdGVDeWxpbmRyaWNhbFNlY3Rpb24oXG4gICAgICAtdHJhbnNsYXRpb24sIHRyYW5zbGF0aW9uLCAwLCBwYXJhbXMuZGl2aXNpb25zQ291bnQsIFRXT19QSSAvIHBhcmFtcy5kaXZpc2lvbnNDb3VudCk7XG5cbiAgbGV0IHZlcnRleFBvc2l0aW9ucztcbiAgbGV0IHZlcnRleEluZGljZXM7XG4gIGxldCB2ZXJ0ZXhOb3JtYWxzO1xuXG4gIC8vIENhbGN1bGF0ZSB0aGUgdmVydGV4IGluZGljZXMgYW5kIG5vcm1hbHMuXG4gIGlmICghcGFyYW1zLmlzVXNpbmdTcGhlcmljYWxOb3JtYWxzKSB7XG4gICAgLy8gSWYgd2UgdXNlIG9ydGhvZ29uYWwgbm9ybWFscywgdGhlbiB3ZSBjYW5ub3QgdXNlIHZlcnRleEluZGljZXMuXG4gICAgdmVydGV4UG9zaXRpb25zID0gaW5kaXZpZHVhbFZlcnRleFBvc2l0aW9ucztcbiAgICB2ZXJ0ZXhJbmRpY2VzID0gbnVsbDtcbiAgICB2ZXJ0ZXhOb3JtYWxzID0gY2FsY3VsYXRlT3J0aG9nb25hbFZlcnRleE5vcm1hbHModmVydGV4UG9zaXRpb25zKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBwb3NpdGlvbnNBbmRJbmRpY2VzID0gZGVkdXBWZXJ0ZXhBcnJheVdpdGhQb3NpdGlvbnNBbmRJbmRpY2VzQXJyYXlzKFxuICAgICAgICBpbmRpdmlkdWFsVmVydGV4UG9zaXRpb25zKTtcbiAgICB2ZXJ0ZXhQb3NpdGlvbnMgPSBwb3NpdGlvbnNBbmRJbmRpY2VzLnZlcnRleFBvc2l0aW9ucztcbiAgICB2ZXJ0ZXhJbmRpY2VzID0gcG9zaXRpb25zQW5kSW5kaWNlcy52ZXJ0ZXhJbmRpY2VzO1xuXG4gICAgLy8gQ2FsY3VsYXRlIHRoZSB2ZXJ0ZXggbm9ybWFscy5cbiAgICB2ZXJ0ZXhOb3JtYWxzID0gdmVydGV4UG9zaXRpb25zLm1hcCgoY29vcmQsIGluZGV4KSA9PiBpbmRleCAlIDMgPT09IDIgPyAwIDogY29vcmQpO1xuICB9XG5cbiAgLy8gQ2FsY3VsYXRlIHRoZSB0ZXh0dXJlIGNvb3JkaW5hdGVzLlxuICBjb25zdCB0ZXh0dXJlQ29vcmRpbmF0ZXMgPSBjYWxjdWxhdGVDeWxpbmRyaWNhbFRleHR1cmVDb29yZGluYXRlcyh2ZXJ0ZXhQb3NpdGlvbnMpO1xuXG4gIC8vIFNjYWxlIHRoZSB4IGFuZCB5IHBvc2l0aW9uIGNvb3JkaW5hdGVzLlxuICBzY2FsZSA9IHBhcmFtcy5yYWRpdXM7XG4gIGZvciAobGV0IGkgPSAwLCBjb3VudCA9IHZlcnRleFBvc2l0aW9ucy5sZW5ndGg7IGkgPCBjb3VudDsgaSArPSAzKSB7XG4gICAgdmVydGV4UG9zaXRpb25zW2ldICo9IHNjYWxlO1xuICAgIHZlcnRleFBvc2l0aW9uc1tpICsgMV0gKj0gc2NhbGU7XG4gIH1cblxuICAvLyBTY2FsZSBhbmQgdHJhbnNsYXRlIHRoZSB0ZXh0dXJlIGNvb3JkaW5hdGVzLlxuICBzY2FsZSA9IHBhcmFtcy5jYXBzdWxlRW5kUG9pbnRzRGlzdGFuY2UgLyAocGFyYW1zLnJhZGl1cyArIHBhcmFtcy5jYXBzdWxlRW5kUG9pbnRzRGlzdGFuY2UpO1xuICB0cmFuc2xhdGlvbiA9ICgxIC0gc2NhbGUpIC8gMjtcbiAgZm9yIChsZXQgaSA9IDEsIGNvdW50ID0gdGV4dHVyZUNvb3JkaW5hdGVzLmxlbmd0aDsgaSA8IGNvdW50OyBpICs9IDIpIHtcbiAgICB0ZXh0dXJlQ29vcmRpbmF0ZXNbaV0gPSB0ZXh0dXJlQ29vcmRpbmF0ZXNbaV0gKiBzY2FsZSArIHRyYW5zbGF0aW9uO1xuICB9XG5cbiAgY29uc3QgZWxlbWVudENvdW50ID0gdmVydGV4SW5kaWNlcyA/IHZlcnRleEluZGljZXMubGVuZ3RoIDogdmVydGV4UG9zaXRpb25zLmxlbmd0aCAvIDM7XG5cbiAgcmV0dXJuIHtcbiAgICB2ZXJ0ZXhQb3NpdGlvbnM6IHZlcnRleFBvc2l0aW9ucyxcbiAgICB2ZXJ0ZXhOb3JtYWxzOiB2ZXJ0ZXhOb3JtYWxzLFxuICAgIHRleHR1cmVDb29yZGluYXRlczogdGV4dHVyZUNvb3JkaW5hdGVzLFxuICAgIHZlcnRleEluZGljZXM6IHZlcnRleEluZGljZXMsXG4gICAgZWxlbWVudENvdW50OiBlbGVtZW50Q291bnRcbiAgfTtcbn1cblxuY29uc3QgY2Fwc3VsZVJlbmRlcmFibGVTaGFwZUZhY3RvcnkgPSB7XG4gIHNoYXBlSWQ6ICdDQVBTVUxFJyxcblxuICAvKipcbiAgICogQHBhcmFtIHtDYXBzdWxlUmVuZGVyYWJsZVNoYXBlUGFyYW1zfSBwYXJhbXNcbiAgICogQHJldHVybnMge1JlbmRlcmFibGVTaGFwZX1cbiAgICovXG4gIGdldFJlbmRlcmFibGVTaGFwZTogKHBhcmFtcykgPT4ge1xuICAgIC8vIEVuc3VyZSB0aGUgZGl2aXNpb25zIGNvdW50IGlzIGV2ZW4uXG4gICAgaWYgKHBhcmFtcy5kaXZpc2lvbnNDb3VudCAlIDIgPT09IDEpIHtcbiAgICAgIHBhcmFtcy5kaXZpc2lvbnNDb3VudCsrO1xuICAgIH1cblxuICAgIC8vIFRoZSBjYXBzdWxlJ3Mgc3ViLXNoYXBlcy5cbiAgICBjb25zdCB0b3BTaGFwZSA9IF9jYWxjdWxhdGVDYXBzdWxlVG9wU2hhcGUocGFyYW1zKTtcbiAgICBjb25zdCBib3R0b21TaGFwZSA9IF9jYWxjdWxhdGVDYXBzdWxlQm90dG9tU2hhcGUocGFyYW1zKTtcbiAgICBjb25zdCBtaWRkbGVTaGFwZSA9IF9jYWxjdWxhdGVDYXBzdWxlTWlkZGxlU2hhcGUocGFyYW1zKTtcblxuICAgIC8vIENvbmNhdGVuYXRlIHBvc2l0aW9ucywgbm9ybWFscywgdGV4dHVyZSBjb29yZGluYXRlcywgYW5kIGluZGljZXMuXG4gICAgY29uc3QgdmVydGV4UG9zaXRpb25zID0gdG9wU2hhcGUudmVydGV4UG9zaXRpb25zLmNvbmNhdChtaWRkbGVTaGFwZS52ZXJ0ZXhQb3NpdGlvbnMsIFxuICAgICAgICBib3R0b21TaGFwZS52ZXJ0ZXhQb3NpdGlvbnMpO1xuICAgIGNvbnN0IHZlcnRleE5vcm1hbHMgPSB0b3BTaGFwZS52ZXJ0ZXhOb3JtYWxzLmNvbmNhdChtaWRkbGVTaGFwZS52ZXJ0ZXhOb3JtYWxzLFxuICAgICAgICBib3R0b21TaGFwZS52ZXJ0ZXhOb3JtYWxzKTtcbiAgICBjb25zdCB0ZXh0dXJlQ29vcmRpbmF0ZXMgPSB0b3BTaGFwZS50ZXh0dXJlQ29vcmRpbmF0ZXMuY29uY2F0KG1pZGRsZVNoYXBlLnRleHR1cmVDb29yZGluYXRlcyxcbiAgICAgICAgYm90dG9tU2hhcGUudGV4dHVyZUNvb3JkaW5hdGVzKTtcbiAgICBjb25zdCB2ZXJ0ZXhJbmRpY2VzID0gdG9wU2hhcGUudmVydGV4SW5kaWNlc1xuICAgICAgICA/IHRvcFNoYXBlLnZlcnRleEluZGljZXMuY29uY2F0KG1pZGRsZVNoYXBlLnZlcnRleEluZGljZXMsIGJvdHRvbVNoYXBlLnZlcnRleEluZGljZXMpXG4gICAgICAgIDogbnVsbDtcbiAgICBjb25zdCBlbGVtZW50Q291bnQgPSB0b3BTaGFwZS5lbGVtZW50Q291bnQgKyBtaWRkbGVTaGFwZS5lbGVtZW50Q291bnQgKyBib3R0b21TaGFwZS5lbGVtZW50Q291bnQ7XG5cbiAgICByZXR1cm4ge1xuICAgICAgdmVydGV4UG9zaXRpb25zOiB2ZXJ0ZXhQb3NpdGlvbnMsXG4gICAgICB2ZXJ0ZXhOb3JtYWxzOiB2ZXJ0ZXhOb3JtYWxzLFxuICAgICAgdGV4dHVyZUNvb3JkaW5hdGVzOiB0ZXh0dXJlQ29vcmRpbmF0ZXMsXG4gICAgICB2ZXJ0ZXhJbmRpY2VzOiB2ZXJ0ZXhJbmRpY2VzLFxuICAgICAgZWxlbWVudENvdW50OiBlbGVtZW50Q291bnRcbiAgICB9O1xuICB9LFxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0NhcHN1bGVSZW5kZXJhYmxlU2hhcGVQYXJhbXN9IHBhcmFtc1xuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgKi9cbiAgZ2V0Q2FjaGVJZChwYXJhbXMpIHtcbiAgICByZXR1cm4gYCR7Z2V0Q2FjaGVLZXkocGFyYW1zKX06JHtwYXJhbXMuZGl2aXNpb25zQ291bnR9YDtcbiAgfVxufTtcblxuZXhwb3J0IHtjYXBzdWxlUmVuZGVyYWJsZVNoYXBlRmFjdG9yeX07XG5cbi8qKlxuICogQHR5cGVkZWYge1NwaGVyaWNhbFJlbmRlcmFibGVTaGFwZVBhcmFtc30gQ2Fwc3VsZVJlbmRlcmFibGVTaGFwZVBhcmFtc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IHJhZGl1c1xuICogQHByb3BlcnR5IHtudW1iZXJ9IGNhcHN1bGVFbmRQb2ludHNEaXN0YW5jZSBUaGUgZGlzdGFuY2UgYmV0d2VlbiB0aGUgY2VudGVycyBvZiB0aGUgc3BoZXJlcyBvblxuICogZWl0aGVyIGVuZCBvZiB0aGUgY2Fwc3VsZS5cbiAqL1xuIiwiLyoqXG4gKiBUaGlzIG1vZGVsIGRlZmluZXMgYSBzaGFwZSBjb25maWd1cmF0aW9uIGZhY3RvcnkgZm9yIGEgY3ViZS5cbiAqXG4gKiBUaGlzIGN1YmUgaXMgb25lIHVuaXQgbG9uZyBvbiBlYWNoIHNpZGUuXG4gKi9cblxuaW1wb3J0IHtnZXRDYWNoZUtleX0gZnJvbSAnLi4vcmVuZGVyYWJsZS1zaGFwZS1zdG9yZSc7XG5cbmNvbnN0IFZFUlRFWF9DT09SRElOQVRFID0gMC41O1xuXG5jb25zdCB2ZXJ0ZXhQb3NpdGlvbnMgPSBbXG4gIC8vIEZyb250IGZhY2VcbiAgLVZFUlRFWF9DT09SRElOQVRFLCAtVkVSVEVYX0NPT1JESU5BVEUsIFZFUlRFWF9DT09SRElOQVRFLFxuICBWRVJURVhfQ09PUkRJTkFURSwgIC1WRVJURVhfQ09PUkRJTkFURSwgVkVSVEVYX0NPT1JESU5BVEUsXG4gIFZFUlRFWF9DT09SRElOQVRFLCAgVkVSVEVYX0NPT1JESU5BVEUsICBWRVJURVhfQ09PUkRJTkFURSxcbiAgLVZFUlRFWF9DT09SRElOQVRFLCBWRVJURVhfQ09PUkRJTkFURSwgIFZFUlRFWF9DT09SRElOQVRFLFxuICAvLyBCYWNrIGZhY2VcbiAgLVZFUlRFWF9DT09SRElOQVRFLCAtVkVSVEVYX0NPT1JESU5BVEUsIC1WRVJURVhfQ09PUkRJTkFURSxcbiAgLVZFUlRFWF9DT09SRElOQVRFLCBWRVJURVhfQ09PUkRJTkFURSwgIC1WRVJURVhfQ09PUkRJTkFURSxcbiAgVkVSVEVYX0NPT1JESU5BVEUsICBWRVJURVhfQ09PUkRJTkFURSwgIC1WRVJURVhfQ09PUkRJTkFURSxcbiAgVkVSVEVYX0NPT1JESU5BVEUsICAtVkVSVEVYX0NPT1JESU5BVEUsIC1WRVJURVhfQ09PUkRJTkFURSxcbiAgLy8gVG9wIGZhY2VcbiAgLVZFUlRFWF9DT09SRElOQVRFLCBWRVJURVhfQ09PUkRJTkFURSwgIC1WRVJURVhfQ09PUkRJTkFURSxcbiAgLVZFUlRFWF9DT09SRElOQVRFLCBWRVJURVhfQ09PUkRJTkFURSwgIFZFUlRFWF9DT09SRElOQVRFLFxuICBWRVJURVhfQ09PUkRJTkFURSwgIFZFUlRFWF9DT09SRElOQVRFLCAgVkVSVEVYX0NPT1JESU5BVEUsXG4gIFZFUlRFWF9DT09SRElOQVRFLCAgVkVSVEVYX0NPT1JESU5BVEUsICAtVkVSVEVYX0NPT1JESU5BVEUsXG4gIC8vIEJvdHRvbSBmYWNlXG4gIC1WRVJURVhfQ09PUkRJTkFURSwgLVZFUlRFWF9DT09SRElOQVRFLCAtVkVSVEVYX0NPT1JESU5BVEUsXG4gIFZFUlRFWF9DT09SRElOQVRFLCAgLVZFUlRFWF9DT09SRElOQVRFLCAtVkVSVEVYX0NPT1JESU5BVEUsXG4gIFZFUlRFWF9DT09SRElOQVRFLCAgLVZFUlRFWF9DT09SRElOQVRFLCBWRVJURVhfQ09PUkRJTkFURSxcbiAgLVZFUlRFWF9DT09SRElOQVRFLCAtVkVSVEVYX0NPT1JESU5BVEUsIFZFUlRFWF9DT09SRElOQVRFLFxuICAvLyBSaWdodCBmYWNlXG4gIFZFUlRFWF9DT09SRElOQVRFLCAgLVZFUlRFWF9DT09SRElOQVRFLCAtVkVSVEVYX0NPT1JESU5BVEUsXG4gIFZFUlRFWF9DT09SRElOQVRFLCAgVkVSVEVYX0NPT1JESU5BVEUsICAtVkVSVEVYX0NPT1JESU5BVEUsXG4gIFZFUlRFWF9DT09SRElOQVRFLCAgVkVSVEVYX0NPT1JESU5BVEUsICBWRVJURVhfQ09PUkRJTkFURSxcbiAgVkVSVEVYX0NPT1JESU5BVEUsICAtVkVSVEVYX0NPT1JESU5BVEUsIFZFUlRFWF9DT09SRElOQVRFLFxuICAvLyBMZWZ0IGZhY2VcbiAgLVZFUlRFWF9DT09SRElOQVRFLCAtVkVSVEVYX0NPT1JESU5BVEUsIC1WRVJURVhfQ09PUkRJTkFURSxcbiAgLVZFUlRFWF9DT09SRElOQVRFLCAtVkVSVEVYX0NPT1JESU5BVEUsIFZFUlRFWF9DT09SRElOQVRFLFxuICAtVkVSVEVYX0NPT1JESU5BVEUsIFZFUlRFWF9DT09SRElOQVRFLCAgVkVSVEVYX0NPT1JESU5BVEUsXG4gIC1WRVJURVhfQ09PUkRJTkFURSwgVkVSVEVYX0NPT1JESU5BVEUsICAtVkVSVEVYX0NPT1JESU5BVEVcbl07XG5cbmNvbnN0IG9ydGhvZ29uYWxWZXJ0ZXhOb3JtYWxzID0gW1xuICAvLyBGcm9udCBmYWNlXG4gIDAsIDAsIDEsXG4gIDAsIDAsIDEsXG4gIDAsIDAsIDEsXG4gIDAsIDAsIDEsXG4gIC8vIEJhY2sgZmFjZVxuICAwLCAwLCAtMSxcbiAgMCwgMCwgLTEsXG4gIDAsIDAsIC0xLFxuICAwLCAwLCAtMSxcbiAgLy8gVG9wIGZhY2VcbiAgMCwgMSwgMCxcbiAgMCwgMSwgMCxcbiAgMCwgMSwgMCxcbiAgMCwgMSwgMCxcbiAgLy8gQm90dG9tIGZhY2VcbiAgMCwgLTEsIDAsXG4gIDAsIC0xLCAwLFxuICAwLCAtMSwgMCxcbiAgMCwgLTEsIDAsXG4gIC8vIFJpZ2h0IGZhY2VcbiAgMSwgMCwgMCxcbiAgMSwgMCwgMCxcbiAgMSwgMCwgMCxcbiAgMSwgMCwgMCxcbiAgLy8gTGVmdCBmYWNlXG4gIC0xLCAwLCAwLFxuICAtMSwgMCwgMCxcbiAgLTEsIDAsIDAsXG4gIC0xLCAwLCAwXG5dO1xuXG5jb25zdCB0ZXh0dXJlQ29vcmRpbmF0ZXMgPSBbXG4gIC8vIEZyb250IGZhY2VcbiAgMSwgMCxcbiAgMCwgMCxcbiAgMCwgMSxcbiAgMSwgMSxcbiAgLy8gQmFjayBmYWNlXG4gIDEsIDAsXG4gIDAsIDAsXG4gIDAsIDEsXG4gIDEsIDEsXG4gIC8vIFRvcCBmYWNlXG4gIDEsIDAsXG4gIDAsIDAsXG4gIDAsIDEsXG4gIDEsIDEsXG4gIC8vIEJvdHRvbSBmYWNlXG4gIDEsIDAsXG4gIDAsIDAsXG4gIDAsIDEsXG4gIDEsIDEsXG4gIC8vIFJpZ2h0IGZhY2VcbiAgMSwgMCxcbiAgMCwgMCxcbiAgMCwgMSxcbiAgMSwgMSxcbiAgLy8gTGVmdCBmYWNlXG4gIDEsIDAsXG4gIDAsIDAsXG4gIDAsIDEsXG4gIDEsIDFcbl07XG5cbi8vIFRoaXMgYXJyYXkgZGVmaW5lcyBlYWNoIGZhY2UgYXMgdHdvIHRyaWFuZ2xlcywgdXNpbmcgdGhlIGluZGljZXMgaW50byB0aGUgdmVydGV4IGFycmF5XG4vLyB0byBzcGVjaWZ5IGVhY2ggdHJpYW5nbGUncyBwb3NpdGlvbi5cbmNvbnN0IHZlcnRleEluZGljZXMgPSBbXG4gIC8vIEZyb250IGZhY2VcbiAgMCwgIDEsICAyLFxuICAwLCAgMiwgIDMsXG4gIC8vIEJhY2sgZmFjZVxuICA0LCAgNSwgIDYsXG4gIDQsICA2LCAgNyxcbiAgLy8gVG9wIGZhY2VcbiAgOCwgIDksICAxMCxcbiAgOCwgIDEwLCAxMSxcbiAgLy8gQm90dG9tIGZhY2VcbiAgMTIsIDEzLCAxNCxcbiAgMTIsIDE0LCAxNSxcbiAgLy8gUmlnaHQgZmFjZVxuICAxNiwgMTcsIDE4LFxuICAxNiwgMTgsIDE5LFxuICAvLyBMZWZ0IGZhY2VcbiAgMjAsIDIxLCAyMixcbiAgMjAsIDIyLCAyM1xuXTtcblxuY29uc3QgY3ViZVJlbmRlcmFibGVTaGFwZUZhY3RvcnkgPSB7XG4gIHNoYXBlSWQ6ICdDVUJFJyxcblxuICAvKipcbiAgICogQHBhcmFtIHtSZW5kZXJhYmxlU2hhcGVDb25maWd9IHBhcmFtc1xuICAgKiBAcmV0dXJucyB7UmVuZGVyYWJsZVNoYXBlfVxuICAgKi9cbiAgZ2V0UmVuZGVyYWJsZVNoYXBlOiBwYXJhbXMgPT4ge1xuICAgIGNvbnN0IHZlcnRleE5vcm1hbHMgPSBwYXJhbXMuaXNVc2luZ1NwaGVyaWNhbE5vcm1hbHMgPyB2ZXJ0ZXhQb3NpdGlvbnMgOiBvcnRob2dvbmFsVmVydGV4Tm9ybWFscztcblxuICAgIHJldHVybiB7XG4gICAgICB2ZXJ0ZXhQb3NpdGlvbnM6IHZlcnRleFBvc2l0aW9ucyxcbiAgICAgIHZlcnRleE5vcm1hbHM6IHZlcnRleE5vcm1hbHMsXG4gICAgICB0ZXh0dXJlQ29vcmRpbmF0ZXM6IHRleHR1cmVDb29yZGluYXRlcyxcbiAgICAgIHZlcnRleEluZGljZXM6IHZlcnRleEluZGljZXMsXG4gICAgICBlbGVtZW50Q291bnQ6IHZlcnRleEluZGljZXMubGVuZ3RoXG4gICAgfTtcbiAgfSxcblxuICAvKipcbiAgICogQHBhcmFtIHtSZW5kZXJhYmxlU2hhcGVDb25maWd9IHBhcmFtc1xuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgKi9cbiAgZ2V0Q2FjaGVJZChwYXJhbXMpIHtcbiAgICByZXR1cm4gZ2V0Q2FjaGVLZXkocGFyYW1zKTtcbiAgfVxufTtcblxuZXhwb3J0IHtjdWJlUmVuZGVyYWJsZVNoYXBlRmFjdG9yeX07XG4iLCIvKipcbiAqIFRoaXMgbW9kZWwgZGVmaW5lcyBhIHNoYXBlIGNvbmZpZ3VyYXRpb24gZmFjdG9yeSBmb3IgYSByZWd1bGFyIGljb3NhaGVkcm9uLlxuICpcbiAqIFRoZSBzaGFwZSBpcyBjZW50ZXJlZCBhcm91bmQgdGhlIG9yaWdpbi5cbiAqL1xuXG5pbXBvcnQge1xuICBjYWxjdWxhdGVMYXRMb25nVGV4dHVyZUNvb3JkaW5hdGVzLFxuICBjYWxjdWxhdGVPcnRob2dvbmFsVmVydGV4Tm9ybWFscyxcbiAgZXhwYW5kVmVydGV4SW5kaWNlc0Fyb3VuZExvbmdpdHVkZVNlYW0sXG4gIGV4cGFuZFZlcnRleEluZGljZXNUb0R1cGxpY2F0ZVBvc2l0aW9ucyxcbn0gZnJvbSAnLi4vLi4vLi4vdXRpbCc7XG5pbXBvcnQge2dldENhY2hlS2V5fSBmcm9tICcuLi9yZW5kZXJhYmxlLXNoYXBlLXN0b3JlJztcblxuLy8gVGhlIGNvcm5lcnMgb2YgYSB1bml0IGljb3NhaGVkcm9uIHdpdGggdmVydGljZXMgYWxpZ25lZCB3aXRoIHRoZSB5LWF4aXMuXG5jb25zdCBpbmRpdmlkdWFsVmVydGV4UG9zaXRpb25zID0gW1xuICAtMC41MjU3MzEwODY3MzA5NTcsIC0wLjcyMzYwNjgyNDg3NDg3NzksIDAuNDQ3MjEzNTkwMTQ1MTExMSxcbiAgMC41MjU3MzEwODY3MzA5NTcsIC0wLjcyMzYwNjgyNDg3NDg3NzksIDAuNDQ3MjEzNTkwMTQ1MTExMSxcbiAgLTAuNTI1NzMxMDg2NzMwOTU3LCAwLjcyMzYwNjgyNDg3NDg3NzksIC0wLjQ0NzIxMzU5MDE0NTExMTEsXG4gIDAuNTI1NzMxMDg2NzMwOTU3LCAwLjcyMzYwNjgyNDg3NDg3NzksIC0wLjQ0NzIxMzU5MDE0NTExMTEsXG4gIDAsIDAsIDEsXG4gIDAsIDAuODk0NDI3MTgwMjkwMjIyMiwgMC40NDcyMTM2MTk5NDc0MzM0NyxcbiAgMCwgLTAuODk0NDI3MTgwMjkwMjIyMiwgLTAuNDQ3MjEzNjE5OTQ3NDMzNDcsXG4gIDAsIDAsIC0xLFxuICAwLjg1MDY1MDg0Njk1ODE2MDQsIDAuMjc2MzkzMjA0OTI3NDQ0NDYsIDAuNDQ3MjEzNTkwMTQ1MTExMSxcbiAgLTAuODUwNjUwODQ2OTU4MTYwNCwgMC4yNzYzOTMyMDQ5Mjc0NDQ0NiwgMC40NDcyMTM1OTAxNDUxMTExLFxuICAwLjg1MDY1MDg0Njk1ODE2MDQsIC0wLjI3NjM5MzIwNDkyNzQ0NDQ2LCAtMC40NDcyMTM1OTAxNDUxMTExLFxuICAtMC44NTA2NTA4NDY5NTgxNjA0LCAtMC4yNzYzOTMyMDQ5Mjc0NDQ0NiwgLTAuNDQ3MjEzNTkwMTQ1MTExMVxuXTtcblxuY29uc3QgaW5kaXZpZHVhbFZlcnRleEluZGljZXMgPSBbXG4gIDEsICA0LCAgMCxcbiAgNCwgIDksICAwLFxuICA0LCAgNSwgIDksXG4gIDgsICA1LCAgNCxcbiAgMSwgIDgsICA0LFxuICAxLCAgMTAsIDgsXG4gIDEwLCAzLCAgOCxcbiAgOCwgIDMsICA1LFxuICAzLCAgMiwgIDUsXG4gIDMsICA3LCAgMixcbiAgMywgIDEwLCA3LFxuICAxMCwgNiwgIDcsXG4gIDYsICAxMSwgNyxcbiAgNiwgIDAsICAxMSxcbiAgNiwgIDEsICAwLFxuICAxMCwgMSwgIDYsXG4gIDExLCAwLCAgOSxcbiAgMiwgIDExLCA5LFxuICA1LCAgMiwgIDksXG4gIDExLCAyLCAgN1xuXTtcblxubGV0IHZlcnRleFBvc2l0aW9uc0V4cGFuZGVkQXJvdW5kU2VhbSA9IG51bGw7XG5sZXQgdmVydGV4SW5kaWNlc0V4cGFuZGVkQXJvdW5kU2VhbSA9IG51bGw7XG5sZXQgdGV4dHVyZUNvb3JkaW5hdGVzID0gbnVsbDtcblxuY29uc3QgaWNvc2FoZWRyb25SZW5kZXJhYmxlU2hhcGVGYWN0b3J5ID0ge1xuICBzaGFwZUlkOiAnSUNPU0FIRURST04nLFxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1JlbmRlcmFibGVTaGFwZUNvbmZpZ30gcGFyYW1zXG4gICAqIEByZXR1cm5zIHtSZW5kZXJhYmxlU2hhcGV9XG4gICAqL1xuICBnZXRSZW5kZXJhYmxlU2hhcGU6IHBhcmFtcyA9PiB7XG4gICAgbGV0IHZlcnRleFBvc2l0aW9ucztcbiAgICBsZXQgdmVydGV4SW5kaWNlcztcblxuICAgIGlmICghdmVydGV4UG9zaXRpb25zRXhwYW5kZWRBcm91bmRTZWFtKSB7XG4gICAgICAvLyBDYWxjdWxhdGUgdGhlIG1vZGlmaWVkIHBvc2l0aW9ucyBhbmQgaW5kaWNlcy5cbiAgICAgIGNvbnN0IHBvc2l0aW9uc0FuZEluZGljZXMgPSBleHBhbmRWZXJ0ZXhJbmRpY2VzQXJvdW5kTG9uZ2l0dWRlU2VhbShcbiAgICAgICAgICBpbmRpdmlkdWFsVmVydGV4UG9zaXRpb25zLCBpbmRpdmlkdWFsVmVydGV4SW5kaWNlcyk7XG4gICAgICB2ZXJ0ZXhQb3NpdGlvbnNFeHBhbmRlZEFyb3VuZFNlYW0gPSBwb3NpdGlvbnNBbmRJbmRpY2VzLnZlcnRleFBvc2l0aW9ucztcbiAgICAgIHZlcnRleEluZGljZXNFeHBhbmRlZEFyb3VuZFNlYW0gPSBwb3NpdGlvbnNBbmRJbmRpY2VzLnZlcnRleEluZGljZXM7XG4gICAgfVxuXG4gICAgdmVydGV4UG9zaXRpb25zID0gdmVydGV4UG9zaXRpb25zRXhwYW5kZWRBcm91bmRTZWFtO1xuICAgIHZlcnRleEluZGljZXMgPSB2ZXJ0ZXhJbmRpY2VzRXhwYW5kZWRBcm91bmRTZWFtO1xuXG4gICAgbGV0IHZlcnRleE5vcm1hbHM7XG4gICAgLy8gSWYgd2UgdXNlIG9ydGhvZ29uYWwgbm9ybWFscywgdGhlbiB3ZSBjYW5ub3QgdXNlIHZlcnRleEluZGljZXMuXG4gICAgaWYgKCFwYXJhbXMuaXNVc2luZ1NwaGVyaWNhbE5vcm1hbHMpIHtcbiAgICAgIHZlcnRleFBvc2l0aW9ucyA9IGV4cGFuZFZlcnRleEluZGljZXNUb0R1cGxpY2F0ZVBvc2l0aW9ucyh2ZXJ0ZXhQb3NpdGlvbnMsXG4gICAgICAgICAgdmVydGV4SW5kaWNlcyk7XG4gICAgICB2ZXJ0ZXhJbmRpY2VzID0gbnVsbDtcbiAgICAgIHZlcnRleE5vcm1hbHMgPSBjYWxjdWxhdGVPcnRob2dvbmFsVmVydGV4Tm9ybWFscyh2ZXJ0ZXhQb3NpdGlvbnMpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2ZXJ0ZXhOb3JtYWxzID0gdmVydGV4UG9zaXRpb25zO1xuICAgIH1cblxuICAgIHRleHR1cmVDb29yZGluYXRlcyA9IHRleHR1cmVDb29yZGluYXRlc1xuICAgICAgICA/IHRleHR1cmVDb29yZGluYXRlc1xuICAgICAgICA6IGNhbGN1bGF0ZUxhdExvbmdUZXh0dXJlQ29vcmRpbmF0ZXModmVydGV4UG9zaXRpb25zKTtcblxuICAgIGNvbnN0IGVsZW1lbnRDb3VudCA9IHZlcnRleEluZGljZXMgPyB2ZXJ0ZXhJbmRpY2VzLmxlbmd0aCA6IHZlcnRleFBvc2l0aW9ucy5sZW5ndGggLyAzO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHZlcnRleFBvc2l0aW9uczogdmVydGV4UG9zaXRpb25zLFxuICAgICAgdmVydGV4Tm9ybWFsczogdmVydGV4Tm9ybWFscyxcbiAgICAgIHRleHR1cmVDb29yZGluYXRlczogdGV4dHVyZUNvb3JkaW5hdGVzLFxuICAgICAgdmVydGV4SW5kaWNlczogdmVydGV4SW5kaWNlcyxcbiAgICAgIGVsZW1lbnRDb3VudDogZWxlbWVudENvdW50XG4gICAgfTtcbiAgfSxcblxuICAvKipcbiAgICogQHBhcmFtIHtSZW5kZXJhYmxlU2hhcGVDb25maWd9IHBhcmFtc1xuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgKi9cbiAgZ2V0Q2FjaGVJZChwYXJhbXMpIHtcbiAgICByZXR1cm4gZ2V0Q2FjaGVLZXkocGFyYW1zKTtcbiAgfVxufTtcblxuZXhwb3J0IHtpY29zYWhlZHJvblJlbmRlcmFibGVTaGFwZUZhY3Rvcnl9O1xuIiwiLyoqXG4gKiBUaGlzIG1vZHVsZSBkZWZpbmVzIGxvZ2ljIHRoYXQgY3JlYXRlcyBhIHNwaGVyaWNhbCBzaGFwZSBjb25maWd1cmF0aW9uIGJ5IHRha2luZyBhIHNoYXBlLFxuICogc3ViLWRpdmlkaW5nIGVhY2ggb2YgaXRzIHRyaWFuZ2xlcywgYW5kIHByb2plY3RpbmcgZWFjaCBuZXcgdmVydGV4IG9udG8gdGhlIGVkZ2Ugb2YgYSBzcGhlcmUuXG4gKlxuICogVGhpcyBpcyB0ZWNobmljYWxseSBvbmx5IGFuIFwiaWNvc3BoZXJlXCIgaWYgdGhlIHN0YXJ0aW5nIHNoYXBlIGlzIGFuIGljb3NhaGVkcm9uLlxuICpcbiAqIFRoaXMgc2hhcGUgYWxzbyBpcyBrbm93biBhcyBhIFwiZ2Vvc3BoZXJlXCIuXG4gKlxuICogVGhlIHNoYXBlIGlzIGNlbnRlcmVkIGFyb3VuZCB0aGUgb3JpZ2luLlxuICovXG5cbmltcG9ydCB7XG4gIGRlZXBDb3B5LFxuICBjYWxjdWxhdGVMYXRMb25nVGV4dHVyZUNvb3JkaW5hdGVzLFxuICBjYWxjdWxhdGVPcnRob2dvbmFsVmVydGV4Tm9ybWFscyxcbiAgZXhwYW5kVmVydGV4SW5kaWNlc0Fyb3VuZExvbmdpdHVkZVNlYW0sXG4gIGV4cGFuZFZlcnRleEluZGljZXNUb0R1cGxpY2F0ZVBvc2l0aW9ucyxcbiAgdGVzc2VsYXRlU3BoZXJlLFxufSBmcm9tICcuLi8uLi8uLi91dGlsJztcbmltcG9ydCB7Z2V0Q2FjaGVLZXl9IGZyb20gJy4uL3JlbmRlcmFibGUtc2hhcGUtc3RvcmUnO1xuaW1wb3J0IHtyZW5kZXJhYmxlU2hhcGVGYWN0b3J5fSBmcm9tICcuLi9yZW5kZXJhYmxlLXNoYXBlLWZhY3RvcnknO1xuXG5jb25zdCBpY29zcGhlcmVSZW5kZXJhYmxlU2hhcGVGYWN0b3J5ID0ge1xuICBzaGFwZUlkOiAnSUNPU1BIRVJFJyxcblxuICAvKipcbiAgICogQHBhcmFtIHtJY29zcGhlcmVSZW5kZXJhYmxlU2hhcGVQYXJhbXN9IHBhcmFtc1xuICAgKiBAcmV0dXJucyB7UmVuZGVyYWJsZVNoYXBlfVxuICAgKi9cbiAgZ2V0UmVuZGVyYWJsZVNoYXBlOiBwYXJhbXMgPT4ge1xuICAgIHBhcmFtcy5kaXZpc2lvbnNDb3VudCA9IE1hdGgubWF4KHBhcmFtcy5kaXZpc2lvbnNDb3VudCwgMSk7XG5cbiAgICBjb25zdCBjb3B5UGFyYW1zID0gZGVlcENvcHkocGFyYW1zKTtcbiAgICBjb3B5UGFyYW1zLnNoYXBlSWQgPSBwYXJhbXMuYmFzZVNoYXBlSWQgfHwgJ0lDT1NBSEVEUk9OJztcbiAgICBjb25zdCBiYXNlUmVuZGVyYWJsZVNoYXBlID0gcmVuZGVyYWJsZVNoYXBlRmFjdG9yeS5nZXRSZW5kZXJhYmxlU2hhcGUoY29weVBhcmFtcyk7XG5cbiAgICAvLyBDYWxjdWxhdGUgdGhlIHBvc2l0aW9ucyBhbmQgaW5kaWNlcy5cbiAgICBsZXQge3ZlcnRleFBvc2l0aW9ucywgdmVydGV4SW5kaWNlc30gPSB0ZXNzZWxhdGVTcGhlcmUocGFyYW1zLmRpdmlzaW9uc0NvdW50LFxuICAgICAgICBiYXNlUmVuZGVyYWJsZVNoYXBlLnZlcnRleFBvc2l0aW9ucywgYmFzZVJlbmRlcmFibGVTaGFwZS52ZXJ0ZXhJbmRpY2VzKTtcbiAgICAoe3ZlcnRleFBvc2l0aW9ucywgdmVydGV4SW5kaWNlc30gPSBleHBhbmRWZXJ0ZXhJbmRpY2VzQXJvdW5kTG9uZ2l0dWRlU2VhbShcbiAgICAgICAgdmVydGV4UG9zaXRpb25zLCB2ZXJ0ZXhJbmRpY2VzKSk7XG5cbiAgICBsZXQgdmVydGV4Tm9ybWFscztcbiAgICAvLyBJZiB3ZSB1c2Ugb3J0aG9nb25hbCBub3JtYWxzLCB0aGVuIHdlIGNhbm5vdCB1c2UgdmVydGV4SW5kaWNlcy5cbiAgICBpZiAoIXBhcmFtcy5pc1VzaW5nU3BoZXJpY2FsTm9ybWFscykge1xuICAgICAgdmVydGV4UG9zaXRpb25zID0gZXhwYW5kVmVydGV4SW5kaWNlc1RvRHVwbGljYXRlUG9zaXRpb25zKHZlcnRleFBvc2l0aW9ucyxcbiAgICAgICAgICB2ZXJ0ZXhJbmRpY2VzKTtcbiAgICAgIHZlcnRleEluZGljZXMgPSBudWxsO1xuICAgICAgdmVydGV4Tm9ybWFscyA9IGNhbGN1bGF0ZU9ydGhvZ29uYWxWZXJ0ZXhOb3JtYWxzKHZlcnRleFBvc2l0aW9ucyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZlcnRleE5vcm1hbHMgPSB2ZXJ0ZXhQb3NpdGlvbnM7XG4gICAgfVxuXG4gICAgY29uc3QgdGV4dHVyZUNvb3JkaW5hdGVzID0gY2FsY3VsYXRlTGF0TG9uZ1RleHR1cmVDb29yZGluYXRlcyh2ZXJ0ZXhQb3NpdGlvbnMpO1xuXG4gICAgY29uc3QgZWxlbWVudENvdW50ID0gdmVydGV4SW5kaWNlcyA/IHZlcnRleEluZGljZXMubGVuZ3RoIDogdmVydGV4UG9zaXRpb25zLmxlbmd0aCAvIDM7XG5cbiAgICByZXR1cm4ge1xuICAgICAgdmVydGV4UG9zaXRpb25zOiB2ZXJ0ZXhQb3NpdGlvbnMsXG4gICAgICB2ZXJ0ZXhOb3JtYWxzOiB2ZXJ0ZXhOb3JtYWxzLFxuICAgICAgdGV4dHVyZUNvb3JkaW5hdGVzOiB0ZXh0dXJlQ29vcmRpbmF0ZXMsXG4gICAgICB2ZXJ0ZXhJbmRpY2VzOiB2ZXJ0ZXhJbmRpY2VzLFxuICAgICAgZWxlbWVudENvdW50OiBlbGVtZW50Q291bnRcbiAgICB9O1xuICB9LFxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0ljb3NwaGVyZVJlbmRlcmFibGVTaGFwZVBhcmFtc30gcGFyYW1zXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAqL1xuICBnZXRDYWNoZUlkKHBhcmFtcykge1xuICAgIHJldHVybiBgJHtnZXRDYWNoZUtleShwYXJhbXMpfToke3BhcmFtcy5kaXZpc2lvbnNDb3VudH1gO1xuICB9XG59O1xuXG5leHBvcnQge2ljb3NwaGVyZVJlbmRlcmFibGVTaGFwZUZhY3Rvcnl9O1xuXG4vKipcbiAqIEB0eXBlZGVmIHtTcGhlcmljYWxSZW5kZXJhYmxlU2hhcGVQYXJhbXN9IEljb3NwaGVyZVJlbmRlcmFibGVTaGFwZVBhcmFtc1xuICogQHByb3BlcnR5IHtzdHJpbmd9IGJhc2VTaGFwZUlkIFRoZSBJRCBvZiB0aGUgYmFzZSByZW5kZXJhYmxlIHNoYXBlIHRoYXQgd2lsbCBiZSBzdWItZGl2aWRlZCB0b1xuICogY3JlYXRlIHRoaXMgaWNvc3BoZXJlIHNoYXBlLlxuICovXG4iLCJpbXBvcnQge1xuICBjYWxjdWxhdGVMYXRMb25nVGV4dHVyZUNvb3JkaW5hdGVzLFxuICBjYWxjdWxhdGVPcnRob2dvbmFsVmVydGV4Tm9ybWFscyxcbiAgY2FsY3VsYXRlU3BoZXJpY2FsU2VjdGlvbixcbiAgZGVkdXBWZXJ0ZXhBcnJheVdpdGhQb3NpdGlvbnNBbmRJbmRpY2VzQXJyYXlzLFxuICBUV09fUEksXG59IGZyb20gJy4uLy4uLy4uL3V0aWwnO1xuaW1wb3J0IHtnZXRDYWNoZUtleX0gZnJvbSAnLi4vcmVuZGVyYWJsZS1zaGFwZS1zdG9yZSc7XG5cbi8qKlxuICogVGhpcyBtb2R1bGUgZGVmaW5lcyBhIGNvbmZpZ3VyYXRpb24gZmFjdG9yeSBmb3IgYSBzcGhlcmljYWwgc2hhcGUgd2hvc2UgdmVydGljZXMgbGllIGFsb25nXG4gKiBsYXRpdHVkZSBhbmQgbG9uZ2l0dWRlIGxpbmVzLlxuICpcbiAqIFRoaXMgc2hhcGUgYWxzbyBpcyBrbm93biBhcyBhIFwiVVYgc3BoZXJlXCIuXG4gKlxuICogVGhlIHNoYXBlIGlzIGNlbnRlcmVkIGFyb3VuZCB0aGUgb3JpZ2luIHdpdGggdGhlIHBvbGVzIGFsaWduZWQgd2l0aCB0aGUgei1heGlzLlxuICovXG5cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IGRpdmlzaW9uc0NvdW50XG4gKiBAcmV0dXJucyB7QXJyYXkuPE51bWJlcj59XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfY2FsY3VsYXRlTGF0TG9uZ1NwaGVyZVBvc2l0aW9ucyhkaXZpc2lvbnNDb3VudCkge1xuICBjb25zdCBkZWx0YVBpdGNoID0gTWF0aC5QSSAvIGRpdmlzaW9uc0NvdW50O1xuICBjb25zdCBkZWx0YUF6aW11dGggPSBUV09fUEkgLyBkaXZpc2lvbnNDb3VudDtcblxuICByZXR1cm4gY2FsY3VsYXRlU3BoZXJpY2FsU2VjdGlvbihcbiAgICAgIDAsIGRpdmlzaW9uc0NvdW50LCBkZWx0YVBpdGNoLFxuICAgICAgMCwgZGl2aXNpb25zQ291bnQsIGRlbHRhQXppbXV0aCk7XG59XG5cbmNvbnN0IGxhdExvbmdTcGhlcmVSZW5kZXJhYmxlU2hhcGVGYWN0b3J5ID0ge1xuICBzaGFwZUlkOiAnTEFUX0xPTkdfU1BIRVJFJyxcblxuICAvKipcbiAgICogQHBhcmFtIHtTcGhlcmljYWxSZW5kZXJhYmxlU2hhcGVQYXJhbXN9IHBhcmFtc1xuICAgKiBAcmV0dXJucyB7UmVuZGVyYWJsZVNoYXBlfVxuICAgKi9cbiAgZ2V0UmVuZGVyYWJsZVNoYXBlOiBwYXJhbXMgPT4ge1xuICAgIC8vIENhbGN1bGF0ZSB0aGUgcG9zaXRpb25zLlxuICAgIGNvbnN0IGluZGl2aWR1YWxWZXJ0ZXhQb3NpdGlvbnMgPSBfY2FsY3VsYXRlTGF0TG9uZ1NwaGVyZVBvc2l0aW9ucyhwYXJhbXMuZGl2aXNpb25zQ291bnQpO1xuXG4gICAgLy8gQ2FsY3VsYXRlIHRoZSBpbmRpY2VzIGFuZCBub3JtYWxzLlxuICAgIGxldCB2ZXJ0ZXhQb3NpdGlvbnM7XG4gICAgbGV0IHZlcnRleEluZGljZXM7XG4gICAgbGV0IHZlcnRleE5vcm1hbHM7XG4gICAgaWYgKCFwYXJhbXMuaXNVc2luZ1NwaGVyaWNhbE5vcm1hbHMpIHtcbiAgICAgIC8vIElmIHdlIHVzZSBvcnRob2dvbmFsIG5vcm1hbHMsIHRoZW4gd2UgY2Fubm90IHVzZSB2ZXJ0ZXhJbmRpY2VzLlxuICAgICAgdmVydGV4UG9zaXRpb25zID0gaW5kaXZpZHVhbFZlcnRleFBvc2l0aW9ucztcbiAgICAgIHZlcnRleEluZGljZXMgPSBudWxsO1xuICAgICAgdmVydGV4Tm9ybWFscyA9IGNhbGN1bGF0ZU9ydGhvZ29uYWxWZXJ0ZXhOb3JtYWxzKHZlcnRleFBvc2l0aW9ucyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICh7dmVydGV4UG9zaXRpb25zLCB2ZXJ0ZXhJbmRpY2VzfSA9IGRlZHVwVmVydGV4QXJyYXlXaXRoUG9zaXRpb25zQW5kSW5kaWNlc0FycmF5cyhcbiAgICAgICAgICBpbmRpdmlkdWFsVmVydGV4UG9zaXRpb25zKSk7XG4gICAgICB2ZXJ0ZXhOb3JtYWxzID0gdmVydGV4UG9zaXRpb25zO1xuICAgIH1cblxuICAgIGNvbnN0IHRleHR1cmVDb29yZGluYXRlcyA9IGNhbGN1bGF0ZUxhdExvbmdUZXh0dXJlQ29vcmRpbmF0ZXModmVydGV4UG9zaXRpb25zKTtcblxuICAgIGNvbnN0IGVsZW1lbnRDb3VudCA9IHZlcnRleEluZGljZXMgPyB2ZXJ0ZXhJbmRpY2VzLmxlbmd0aCA6IHZlcnRleFBvc2l0aW9ucy5sZW5ndGggLyAzO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHZlcnRleFBvc2l0aW9uczogdmVydGV4UG9zaXRpb25zLFxuICAgICAgdmVydGV4Tm9ybWFsczogdmVydGV4Tm9ybWFscyxcbiAgICAgIHRleHR1cmVDb29yZGluYXRlczogdGV4dHVyZUNvb3JkaW5hdGVzLFxuICAgICAgdmVydGV4SW5kaWNlczogdmVydGV4SW5kaWNlcyxcbiAgICAgIGVsZW1lbnRDb3VudDogZWxlbWVudENvdW50XG4gICAgfTtcbiAgfSxcblxuICAvKipcbiAgICogQHBhcmFtIHtTcGhlcmljYWxSZW5kZXJhYmxlU2hhcGVQYXJhbXN9IHBhcmFtc1xuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgKi9cbiAgZ2V0Q2FjaGVJZChwYXJhbXMpIHtcbiAgICByZXR1cm4gYCR7Z2V0Q2FjaGVLZXkocGFyYW1zKX06JHtwYXJhbXMuZGl2aXNpb25zQ291bnR9YDtcbiAgfVxufTtcblxuZXhwb3J0IHtsYXRMb25nU3BoZXJlUmVuZGVyYWJsZVNoYXBlRmFjdG9yeX07XG4iLCJpbXBvcnQge2NhbGN1bGF0ZU9ydGhvZ29uYWxWZXJ0ZXhOb3JtYWxzfSBmcm9tICcuLi8uLi8uLi91dGlsJztcbmltcG9ydCB7Z2V0Q2FjaGVLZXl9IGZyb20gJy4uL3JlbmRlcmFibGUtc2hhcGUtc3RvcmUnO1xuXG4vKipcbiAqIFRoaXMgbW9kZWwgZGVmaW5lcyBhIHNoYXBlIGNvbmZpZ3VyYXRpb24gZmFjdG9yeSBmb3IgYSByZWd1bGFyIHRldHJhaGVkcm9uLlxuICpcbiAqIFRoZSBzaGFwZSBpcyBjZW50ZXJlZCBhcm91bmQgdGhlIG9yaWdpbi5cbiAqL1xuXG4vLyB8fChWRVJURVhfQ09PUkRJTkFURSwgVkVSVEVYX0NPT1JESU5BVEUsIFZFUlRFWF9DT09SRElOQVRFKXx8ID0gMVxuY29uc3QgVkVSVEVYX0NPT1JESU5BVEUgPSAwLjU3NzM1MDI1ODgyNzIwOTU7XG5cbmNvbnN0IHZlcnRleFBvc2l0aW9ucyA9IFtcbiAgLy8gTGVmdC10b3AtbmVhciBmYWNlXG4gIFZFUlRFWF9DT09SRElOQVRFLCAgVkVSVEVYX0NPT1JESU5BVEUsICBWRVJURVhfQ09PUkRJTkFURSxcbiAgLVZFUlRFWF9DT09SRElOQVRFLCAtVkVSVEVYX0NPT1JESU5BVEUsIFZFUlRFWF9DT09SRElOQVRFLFxuICAtVkVSVEVYX0NPT1JESU5BVEUsIFZFUlRFWF9DT09SRElOQVRFLCAgLVZFUlRFWF9DT09SRElOQVRFLFxuXG4gIC8vIFJpZ2h0LXRvcC1mYXIgZmFjZVxuICBWRVJURVhfQ09PUkRJTkFURSwgIFZFUlRFWF9DT09SRElOQVRFLCAgVkVSVEVYX0NPT1JESU5BVEUsXG4gIC1WRVJURVhfQ09PUkRJTkFURSwgVkVSVEVYX0NPT1JESU5BVEUsICAtVkVSVEVYX0NPT1JESU5BVEUsXG4gIFZFUlRFWF9DT09SRElOQVRFLCAgLVZFUlRFWF9DT09SRElOQVRFLCAtVkVSVEVYX0NPT1JESU5BVEUsXG5cbiAgLy8gUmlnaHQtYm90dG9tLW5lYXIgZmFjZVxuICBWRVJURVhfQ09PUkRJTkFURSwgIFZFUlRFWF9DT09SRElOQVRFLCAgVkVSVEVYX0NPT1JESU5BVEUsXG4gIFZFUlRFWF9DT09SRElOQVRFLCAgLVZFUlRFWF9DT09SRElOQVRFLCAtVkVSVEVYX0NPT1JESU5BVEUsXG4gIC1WRVJURVhfQ09PUkRJTkFURSwgLVZFUlRFWF9DT09SRElOQVRFLCBWRVJURVhfQ09PUkRJTkFURSxcblxuICAvLyBMZWZ0LWJvdHRvbS1mYXIgZmFjZVxuICAtVkVSVEVYX0NPT1JESU5BVEUsIC1WRVJURVhfQ09PUkRJTkFURSwgVkVSVEVYX0NPT1JESU5BVEUsXG4gIFZFUlRFWF9DT09SRElOQVRFLCAtVkVSVEVYX0NPT1JESU5BVEUsIC1WRVJURVhfQ09PUkRJTkFURSxcbiAgLVZFUlRFWF9DT09SRElOQVRFLCBWRVJURVhfQ09PUkRJTkFURSwgLVZFUlRFWF9DT09SRElOQVRFXG5dO1xuXG4vLyAxIC0gTWF0aC5zcXJ0KDMpIC8gMlxuY29uc3QgVEVYVFVSRV9CQVNFX0NPT1JESU5BVEUgPSAwLjEzMzk3NDU5NjIxO1xuXG5jb25zdCB0ZXh0dXJlQ29vcmRpbmF0ZXMgPSBbXG4gIC8vIExlZnQtdG9wLW5lYXIgZmFjZVxuICAwLCBURVhUVVJFX0JBU0VfQ09PUkRJTkFURSxcbiAgMC41LCAxLFxuICAxLCBURVhUVVJFX0JBU0VfQ09PUkRJTkFURSxcblxuICAvLyBSaWdodC10b3AtZmFyIGZhY2VcbiAgMCwgVEVYVFVSRV9CQVNFX0NPT1JESU5BVEUsXG4gIDAuNSwgMSxcbiAgMSwgVEVYVFVSRV9CQVNFX0NPT1JESU5BVEUsXG5cbiAgLy8gUmlnaHQtYm90dG9tLW5lYXIgZmFjZVxuICAwLCBURVhUVVJFX0JBU0VfQ09PUkRJTkFURSxcbiAgMC41LCAxLFxuICAxLCBURVhUVVJFX0JBU0VfQ09PUkRJTkFURSxcblxuICAvLyBMZWZ0LWJvdHRvbS1mYXIgZmFjZVxuICAwLCBURVhUVVJFX0JBU0VfQ09PUkRJTkFURSxcbiAgMC41LCAxLFxuICAxLCBURVhUVVJFX0JBU0VfQ09PUkRJTkFURVxuXTtcblxuY29uc3QgdGV0cmFoZWRyb25SZW5kZXJhYmxlU2hhcGVGYWN0b3J5ID0ge1xuICBzaGFwZUlkOiAnVEVUUkFIRURST04nLFxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1JlbmRlcmFibGVTaGFwZUNvbmZpZ30gcGFyYW1zXG4gICAqIEByZXR1cm5zIHtSZW5kZXJhYmxlU2hhcGV9XG4gICAqL1xuICBnZXRSZW5kZXJhYmxlU2hhcGU6IHBhcmFtcyA9PiB7XG4gICAgY29uc3QgdmVydGV4Tm9ybWFscyA9IHBhcmFtcy5pc1VzaW5nU3BoZXJpY2FsTm9ybWFsc1xuICAgICAgICA/IHZlcnRleFBvc2l0aW9uc1xuICAgICAgICA6IGNhbGN1bGF0ZU9ydGhvZ29uYWxWZXJ0ZXhOb3JtYWxzKHZlcnRleFBvc2l0aW9ucyk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgdmVydGV4UG9zaXRpb25zOiB2ZXJ0ZXhQb3NpdGlvbnMsXG4gICAgICB2ZXJ0ZXhOb3JtYWxzOiB2ZXJ0ZXhOb3JtYWxzLFxuICAgICAgdGV4dHVyZUNvb3JkaW5hdGVzOiB0ZXh0dXJlQ29vcmRpbmF0ZXMsXG4gICAgICB2ZXJ0ZXhJbmRpY2VzOiBudWxsLFxuICAgICAgZWxlbWVudENvdW50OiB2ZXJ0ZXhQb3NpdGlvbnMubGVuZ3RoIC8gM1xuICAgIH07XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7UmVuZGVyYWJsZVNoYXBlQ29uZmlnfSBwYXJhbXNcbiAgICogQHJldHVybnMge3N0cmluZ31cbiAgICovXG4gIGdldENhY2hlSWQocGFyYW1zKSB7XG4gICAgcmV0dXJuIGdldENhY2hlS2V5KHBhcmFtcyk7XG4gIH1cbn07XG5cbmV4cG9ydCB7dGV0cmFoZWRyb25SZW5kZXJhYmxlU2hhcGVGYWN0b3J5fTtcbiIsImltcG9ydCB7XG4gIGFuaW1hdG9yLFxuICBQZXJzaXN0ZW50QW5pbWF0aW9uSm9iXG59XG5mcm9tICdsc2wtYW5pbWF0ZXgnO1xuaW1wb3J0IHsgUGh5c2ljc0VuZ2luZSB9IGZyb20gJ2xzbC1waHlzeCc7XG5pbXBvcnQge1xuICBQcm9ncmFtV3JhcHBlcixcbiAgcHJvZ3JhbVdyYXBwZXJTdG9yZSxcbiAgdGV4dHVyZVN0b3JlXG59XG5mcm9tICcuLi9wcm9ncmFtLXdyYXBwZXInO1xuaW1wb3J0IHtcbiAgYmluZEZyYW1lYnVmZmVyLFxuICBiaW5kR0xDb250ZXh0VG9WaWV3cG9ydERpbWVuc2lvbnMsXG4gIGdldFdlYkdMQ29udGV4dCxcbiAgZ2V0Vmlld3BvcnRIZWlnaHQsXG4gIGdldFZpZXdwb3J0V2lkdGgsXG59XG5mcm9tICcuLi91dGlsJztcblxuLyoqXG4gKiBUaGlzIHRvcC1sZXZlbCBDb250cm9sbGVyIGNsYXNzIGluaXRpYWxpemVzIGFuZCBydW5zIHRoZSByZXN0IG9mIHRoZSBhcHAuXG4gKi9cbmNsYXNzIEdyYWZ4Q29udHJvbGxlciBleHRlbmRzIFBlcnNpc3RlbnRBbmltYXRpb25Kb2Ige1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgdGhpcy5fY2FudmFzID0gbnVsbDtcbiAgICB0aGlzLl9nbCA9IG51bGw7XG4gICAgdGhpcy5fc2NlbmUgPSBudWxsO1xuICAgIHRoaXMuX2N1cnJlbnRQcm9ncmFtV3JhcHBlciA9IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgdGhlIGFwcC4gQWZ0ZXIgdGhpcyBjb21wbGV0ZXMgc3VjY2Vzc2Z1bGx5LCBjYWxsIHJ1biB0byBhY3R1YWxseSBzdGFydCB0aGUgYXBwLlxuICAgKlxuICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBjYW52YXNcbiAgICogQHBhcmFtIHtBcnJheS48UHJvZ3JhbVdyYXBwZXJDb25maWc+fSBwcm9ncmFtQ29uZmlncyBDb25maWd1cmF0aW9ucyBmb3IgcHJvZ3JhbSB3cmFwcGVycyB0aGF0XG4gICAqIHNob3VsZCBiZSBwcmUtY2FjaGVkIGJlZm9yZSBzdGFydGluZyB0aGUgcmVzdCBvZiB0aGUgYXBwLlxuICAgKiBAcGFyYW0ge0FycmF5LjxTdHJpbmc+fSB0ZXh0dXJlUGF0aHMgVGV4dHVyZSBpbWFnZXMgdGhhdCBzaG91bGQgYmUgcHJlLWNhY2hlZCBiZWZvcmVcbiAgICogc3RhcnRpbmcgdGhlIHJlc3Qgb2YgdGhlIGFwcC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbi48U2NlbmU+fSBzY2VuZUZhY3RvcnlcbiAgICogQHJldHVybnMge1Byb21pc2V9XG4gICAqL1xuICBpbml0aWFsaXplKGNhbnZhcywgcHJvZ3JhbUNvbmZpZ3MsIHRleHR1cmVQYXRocywgc2NlbmVGYWN0b3J5KSB7XG4gICAgdGhpcy5fY2FudmFzID0gY2FudmFzO1xuXG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpXG4gICAgICAudGhlbigoKSA9PiB0aGlzLl9zZXRVcFdlYkdMQ29udGV4dCgpKVxuICAgICAgLnRoZW4oKCkgPT4gUHJvbWlzZS5hbGwoW1xuICAgICAgICB0aGlzLl9wcmVDYWNoZVByb2dyYW1zKHByb2dyYW1Db25maWdzKSxcbiAgICAgICAgdGhpcy5fcHJlQ2FjaGVUZXh0dXJlcyh0ZXh0dXJlUGF0aHMpXG4gICAgICBdKSlcbiAgICAgIC50aGVuKCgpID0+IHRoaXMuX3NldFVwU2NlbmUoc2NlbmVGYWN0b3J5KSk7XG4gIH1cblxuICBkZXN0cm95KCkge31cblxuICByZXNldCgpIHtcbiAgICAvLyBGSVhNRTogV2lsbCBpdCBiZSBlYXNpZXIgdG8gcmVwbGFjZSB0aGlzIHdpdGggaW5pdGlhbGl6ZT9cbiAgICB0aGlzLl9zY2VuZS5yZXNldCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJ1bnMgdGhlIGFwcC4gVGhpcyBzaG91bGQgYmUgY2FsbGVkIGFmdGVyIGluaXRpYWxpemUuXG4gICAqXG4gICAqIEEgZmV3IHRoaW5ncyBoYXBwZW4gaWYgdGhpcyBpcyBydW4gaW4gZGV2IG1vZGU6XG4gICAqIC0gVGhlIGRyYXcgYW5kIHVwZGF0ZSBzdGVwcyBvZiBlYWNoIGZyYW1lIGFyZSB3cmFwcGVkIGluIGEgdHJ5L2NhdGNoIGJsb2NrLlxuICAgKiAtIFRoaXMgbWV0aG9kIHJldHVybnMgYSBQcm9taXNlIHRoYXQgcmVqZWN0cyBpZiBhbiBlcnJvciBpcyB0aHJvdyBkdXJpbmcgYW55IHVwZGF0ZSBvciBkcmF3XG4gICAqICAgc3RlcCBhbmQgcmVzb2x2ZXMgd2hlbiB0aGlzIGNvbnRyb2xsZXIgaGFzIGZpbmlzaGVkIChjdXJyZW50bHkgbmV2ZXIpXG4gICAqL1xuICBydW4oKSB7XG4gICAgdGhpcy5fc3RhcnRBbmltYXRvcigpO1xuICB9XG5cbiAgX3N0YXJ0QW5pbWF0b3IoKSB7IC8vIEZJWE1FOiBEZWNvdXBsZSBwaHlzeFxuICAgIGFuaW1hdG9yLnN0YXJ0Sm9iKFBoeXNpY3NFbmdpbmUuaW5zdGFuY2UpO1xuICAgIGFuaW1hdG9yLnN0YXJ0Sm9iKHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIHNjZW5lLlxuICAgKlxuICAgKiBUaGlzIHVwZGF0ZXMgYWxsIG9mIHRoZSBjdXJyZW50IHBhcmFtZXRlcnMgZm9yIGVhY2ggY29tcG9uZW50IGluIHRoZSBzY2VuZSBmb3IgdGhlIGN1cnJlbnRcbiAgICogZnJhbWUuIEhvd2V2ZXIsIHRoaXMgZG9lcyBub3QgcmVuZGVyIGFueXRoaW5nLiBSZW5kZXJpbmcgaXMgZG9uZSBieSBhIGZvbGxvd2luZyBjYWxsIHRvIHRoZVxuICAgKiBkcmF3IGZ1bmN0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGN1cnJlbnRUaW1lXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gZGVsdGFUaW1lXG4gICAqL1xuICB1cGRhdGUoY3VycmVudFRpbWUsIGRlbHRhVGltZSkge1xuICAgIHRoaXMuX3NjZW5lLnVwZGF0ZVNlbGZBbmRDaGlsZHJlbihjdXJyZW50VGltZSwgZGVsdGFUaW1lKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEcmF3cyB0aGUgc2NlbmUuXG4gICAqXG4gICAqIFRoaXMgcmVuZGVycyB0aGUgY3VycmVudCBmcmFtZSBmb3IgYWxsIGNvbXBvbmVudHMgaW4gdGhlIHNjZW5lLiBUaGlzIGFzc3VtZXMgdGhhdCBhbGwgcmVsZXZhbnRcbiAgICogcGFyYW1ldGVyIHVwZGF0ZXMgZm9yIHRoaXMgZnJhbWUgaGF2ZSBhbHJlYWR5IGJlZW4gY29tcHV0ZWQgYnkgYSBwcmV2aW91cyBjYWxsIHRvIF91cGRhdGVTY2VuZS5cbiAgICovXG4gIGRyYXcoKSB7XG4gICAgLy8gQ2xlYXIgdGhlIGNhbnZhcyBiZWZvcmUgd2Ugc3RhcnQgZHJhd2luZyBvbiBpdC5cbiAgICB0aGlzLl9nbC5jbGVhcih0aGlzLl9nbC5DT0xPUl9CVUZGRVJfQklUIHwgdGhpcy5fZ2wuREVQVEhfQlVGRkVSX0JJVCk7XG5cbiAgICAvLyBJZiB3ZSBhcmUgdXNpbmcgYSBwb3N0LXByb2Nlc3NpbmcgcHJvZ3JhbSwgdGhlbiB3ZSBuZWVkIHRvIHJlbmRlciBtb2RlbHMgdG8gYSBmcmFtZWJ1ZmZlclxuICAgIC8vIHJhdGhlciB0aGFuIGRpcmVjdGx5IHRvIHRoZSBjYW52YXMuXG4gICAgaWYgKHByb2dyYW1XcmFwcGVyU3RvcmUuaXNVc2luZ1Bvc3RQcm9jZXNzaW5nUHJvZ3JhbXMpIHtcbiAgICAgIGJpbmRGcmFtZWJ1ZmZlcih0aGlzLl9nbCwgcHJvZ3JhbVdyYXBwZXJTdG9yZS5tb2RlbHNGcmFtZWJ1ZmZlcik7XG4gICAgICB0aGlzLl9nbC5jbGVhcih0aGlzLl9nbC5DT0xPUl9CVUZGRVJfQklUIHwgdGhpcy5fZ2wuREVQVEhfQlVGRkVSX0JJVCk7XG4gICAgfVxuXG4gICAgLy8gRHJhdyBlYWNoIHByb2dyYW0gc2VwYXJhdGVseS4gVGhpcyBtaW5pbWl6ZXMgaG93IG1hbnkgdGltZXMgd2UgbmVlZCB0byBzd2l0Y2ggcHJvZ3JhbXMgYnlcbiAgICAvLyBncm91cGluZyBhbGwgb2YgdGhlIGRyYXcgY2FsbHMgZm9yIG1vZGVscyB0aGF0IHVzZSB0aGUgc2FtZSBwcm9ncmFtL3NoYWRlcnMuXG4gICAgcHJvZ3JhbVdyYXBwZXJTdG9yZS5mb3JFYWNoTW9kZWxQcm9ncmFtKChwcm9ncmFtV3JhcHBlciwgZHJhd0ZyYW1lSGFuZGxlcnMpID0+XG4gICAgICB0aGlzLl9kcmF3TW9kZWxQcm9ncmFtKHByb2dyYW1XcmFwcGVyLCBkcmF3RnJhbWVIYW5kbGVycykpO1xuICAgIHByb2dyYW1XcmFwcGVyU3RvcmUuZm9yRWFjaFBvc3RQcm9jZXNzaW5nUHJvZ3JhbShcbiAgICAgIChwcm9ncmFtV3JhcHBlcikgPT4gdGhpcy5fZHJhd1Bvc3RQcm9jZXNzaW5nUHJvZ3JhbShwcm9ncmFtV3JhcHBlcikpO1xuICB9XG5cbiAgLyoqXG4gICAqIEZvciB0aGUgZ2l2ZW4gcHJvZ3JhbSBrZXksIHRoaXMgYmluZHMgdGhlIHJlZ2lzdGVyZWQgc2hhZGVyIHByb2dyYW0gdG8gdGhlIEdMIHJlbmRlcmluZyBjb250ZXh0XG4gICAqIGFuZCBjYWxscyBlYWNoIG9mIHRoZSByZWdpc3RlcmVkIGRyYXctZnJhbWUgaGFuZGxlcnMuXG4gICAqXG4gICAqIEBwYXJhbSB7UHJvZ3JhbVdyYXBwZXJ8R3JvdXBQcm9ncmFtV3JhcHBlcn0gcHJvZ3JhbVdyYXBwZXJcbiAgICogQHBhcmFtIHtTZXQuPEZ1bmN0aW9uPn0gW2RyYXdGcmFtZUhhbmRsZXJzXVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2RyYXdNb2RlbFByb2dyYW0ocHJvZ3JhbVdyYXBwZXIsIGRyYXdGcmFtZUhhbmRsZXJzKSB7XG4gICAgLy8gQ2hlY2sgd2hldGhlciB3ZSBuZWVkIHRvIHN3aXRjaCBwcm9ncmFtcyAoYWx3YXlzIHRydWUgaWYgdGhlcmUgaXMgbW9yZSB0aGFuIG9uZSBwcm9ncmFtXG4gICAgLy8gcmVnaXN0ZXJlZCkuXG4gICAgaWYgKHRoaXMuX2N1cnJlbnRQcm9ncmFtV3JhcHBlciAhPT0gcHJvZ3JhbVdyYXBwZXIpIHtcbiAgICAgIHByb2dyYW1XcmFwcGVyLnNldFByb2dyYW0odGhpcy5fZ2wpO1xuICAgICAgdGhpcy5fY3VycmVudFByb2dyYW1XcmFwcGVyID0gcHJvZ3JhbVdyYXBwZXI7XG4gICAgfVxuXG4gICAgLy8gQ2FsbCBlYWNoIG9mIHRoZSBkcmF3LWZyYW1lIGhhbmRsZXJzIHRoYXQgdXNlIHRoZSBjdXJyZW50IHJlbmRlcmluZyBwcm9ncmFtLlxuICAgIGRyYXdGcmFtZUhhbmRsZXJzLmZvckVhY2goZHJhd0ZyYW1lSGFuZGxlciA9PiBkcmF3RnJhbWVIYW5kbGVyKCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEZvciB0aGUgZ2l2ZW4gcHJvZ3JhbSBrZXksIHRoaXMgYmluZHMgdGhlIHJlZ2lzdGVyZWQgc2hhZGVyIHByb2dyYW0gdG8gdGhlIEdMIHJlbmRlcmluZyBjb250ZXh0XG4gICAqIGFuZCBjYWxscyBlYWNoIG9mIHRoZSByZWdpc3RlcmVkIGRyYXctZnJhbWUgaGFuZGxlcnMuXG4gICAqXG4gICAqIEBwYXJhbSB7UHJvZ3JhbVdyYXBwZXJ8R3JvdXBQcm9ncmFtV3JhcHBlcn0gcHJvZ3JhbVdyYXBwZXJcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9kcmF3UG9zdFByb2Nlc3NpbmdQcm9ncmFtKHByb2dyYW1XcmFwcGVyKSB7XG4gICAgdGhpcy5fY3VycmVudFByb2dyYW1XcmFwcGVyID0gcHJvZ3JhbVdyYXBwZXI7XG4gICAgcHJvZ3JhbVdyYXBwZXIuZHJhdyh0aGlzLl9nbCk7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgdGhlIFdlYkdMIHJlbmRlcmluZyBjb250ZXh0LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3NldFVwV2ViR0xDb250ZXh0KCkge1xuICAgIC8vIEdldCB0aGUgV2ViR0wgcmVuZGVyaW5nIGNvbnRleHQuXG4gICAgdHJ5IHtcbiAgICAgIHRoaXMuX2dsID0gZ2V0V2ViR0xDb250ZXh0KHRoaXMuX2NhbnZhcyk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICBhbGVydCgnV2ViR0wgaXMgbm90IHN1cHBvcnRlZCBieSB5b3VyIGJyb3dzZXIhIDooJyk7XG4gICAgICB0aHJvdyBlO1xuICAgIH1cblxuICAgIC8vIEhhdmUgdGhlIGNhbnZhcyBjb250ZXh0IG1hdGNoIHRoZSByZXNvbHV0aW9uIG9mIHRoZSB3aW5kb3cncyB2aWV3cG9ydC5cbiAgICBiaW5kR0xDb250ZXh0VG9WaWV3cG9ydERpbWVuc2lvbnModGhpcy5fY2FudmFzLCB0aGlzLl9nbCwgKCkgPT4gdGhpcy5fdXBkYXRlQXNwZWN0UmF0aW8oKSk7XG5cbiAgICAvLyBDbGVhciBldmVyeXRoaW5nIHRvIGJsYWNrLlxuICAgIHRoaXMuX2dsLmNsZWFyQ29sb3IoMCwgMCwgMCwgMSk7XG4gICAgdGhpcy5fZ2wuY2xlYXJEZXB0aCgxKTtcblxuICAgIC8vIEVuYWJsZSBkZXB0aCB0ZXN0aW5nLlxuICAgIHRoaXMuX2dsLmVuYWJsZSh0aGlzLl9nbC5ERVBUSF9URVNUKTtcbiAgICB0aGlzLl9nbC5kZXB0aEZ1bmModGhpcy5fZ2wuTEVRVUFMKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMb2FkcywgY29tcGlsZXMsIGNhY2hlcywgYW5kIGluaXRpYWxpemVzIHNvbWUgcmVuZGVyaW5nIHByb2dyYW1zLlxuICAgKlxuICAgKiBAcGFyYW0ge0FycmF5LjxQcm9ncmFtV3JhcHBlckNvbmZpZz59IHByb2dyYW1Db25maWdzXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3ByZUNhY2hlUHJvZ3JhbXMocHJvZ3JhbUNvbmZpZ3MpIHtcbiAgICBjb25zdCBwcm9taXNlcyA9XG4gICAgICBwcm9ncmFtQ29uZmlncy5tYXAoY29uZmlnID0+IHByb2dyYW1XcmFwcGVyU3RvcmUubG9hZFByb2dyYW1XcmFwcGVyKHRoaXMuX2dsLCBjb25maWcpKTtcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIExvYWRzLCBjb21waWxlcywgYW5kIGNhY2hlcyBzb21lIHRleHR1cmVzLlxuICAgKlxuICAgKiBAcGFyYW0ge0FycmF5LjxTdHJpbmc+fSB0ZXh0dXJlUGF0aHNcbiAgICogQHJldHVybnMge1Byb21pc2V9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfcHJlQ2FjaGVUZXh0dXJlcyh0ZXh0dXJlUGF0aHMpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwodGV4dHVyZVBhdGhzXG4gICAgICAubWFwKHRleHR1cmVQYXRoID0+IHRleHR1cmVTdG9yZS5sb2FkVGV4dHVyZSh0aGlzLl9nbCwgdGV4dHVyZVBhdGgpKSk7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgdGhlIHNjZW5lLlxuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9uLjxTY2VuZT59IHNjZW5lRmFjdG9yeVxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAgICogQGFic3RyYWN0XG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIF9zZXRVcFNjZW5lKHNjZW5lRmFjdG9yeSkge1xuICAgIC8vIEV4dGVuZGluZyBjbGFzc2VzIHNob3VsZCBpbXBsZW1lbnQgdGhpcyBtZXRob2QuXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTWV0aG9kIG5vdCBpbXBsZW1lbnRlZCcpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIF91cGRhdGVBc3BlY3RSYXRpbygpIHtcbiAgICB0aGlzLl9zY2VuZS5jYW1lcmEuYXNwZWN0UmF0aW8gPSBnZXRWaWV3cG9ydFdpZHRoKCkgLyBnZXRWaWV3cG9ydEhlaWdodCgpO1xuICAgIF9yZXNpemVGcmFtZWJ1ZmZlcnNUb01hdGNoVmlld3BvcnRTaXplKHRoaXMuX2dsKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7bWF0NH1cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgX2dldFZpZXdNYXRyaXgoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3NjZW5lLmNhbWVyYS52aWV3TWF0cml4O1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHttYXQ0fVxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBfZ2V0UHJvamVjdGlvbk1hdHJpeCgpIHtcbiAgICByZXR1cm4gdGhpcy5fc2NlbmUuY2FtZXJhLnByb2plY3Rpb25NYXRyaXg7XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2xcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIF9yZXNpemVGcmFtZWJ1ZmZlcnNUb01hdGNoVmlld3BvcnRTaXplKGdsKSB7XG4gIGlmIChwcm9ncmFtV3JhcHBlclN0b3JlLmlzVXNpbmdQb3N0UHJvY2Vzc2luZ1Byb2dyYW1zKSB7XG4gICAgY29uc3Qgd2lkdGggPSBnZXRWaWV3cG9ydFdpZHRoKCk7XG4gICAgY29uc3QgaGVpZ2h0ID0gZ2V0Vmlld3BvcnRIZWlnaHQoKTtcblxuICAgIC8vIFVwZGF0ZSB0aGUgcGVyLW1vZGVsIGZyYW1lYnVmZmVyIHRleHR1cmUuXG4gICAgY29uc3QgdGV4dHVyZSA9IHByb2dyYW1XcmFwcGVyU3RvcmUubW9kZWxzVGV4dHVyZTtcbiAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0ZXh0dXJlKTtcbiAgICBnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIGdsLlJHQkEsIHdpZHRoLCBoZWlnaHQsIDAsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIG51bGwpO1xuXG4gICAgLy8gVXBkYXRlIHRoZSBwZXItbW9kZWwgZnJhbWVidWZmZXIgZGVwdGggcmVuZGVyIGJ1ZmZlci5cbiAgICBjb25zdCByZW5kZXJCdWZmZXIgPSBwcm9ncmFtV3JhcHBlclN0b3JlLm1vZGVsc1JlbmRlckJ1ZmZlcjtcbiAgICBnbC5iaW5kUmVuZGVyYnVmZmVyKGdsLlJFTkRFUkJVRkZFUiwgcmVuZGVyQnVmZmVyKTtcbiAgICBnbC5yZW5kZXJidWZmZXJTdG9yYWdlKGdsLlJFTkRFUkJVRkZFUiwgZ2wuREVQVEhfQ09NUE9ORU5UMTYsIHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgLy8gVXBkYXRlIHRoZSBwb3N0LXByb2Nlc3NpbmcgZnJhbWVidWZmZXIgdGV4dHVyZXMuXG4gICAgcHJvZ3JhbVdyYXBwZXJTdG9yZS5mb3JFYWNoUG9zdFByb2Nlc3NpbmdQcm9ncmFtKHByb2dyYW1XcmFwcGVyID0+IHtcbiAgICAgIHByb2dyYW1XcmFwcGVyLmNvbmZpZy5jaGlsZHJlbkZyYW1lYnVmZmVySWRzLmZvckVhY2goaWQgPT4ge1xuICAgICAgICBjb25zdCB0ZXh0dXJlID0gcHJvZ3JhbVdyYXBwZXJTdG9yZS5nZXRUZXh0dXJlKGlkKTtcbiAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGV4dHVyZSk7XG4gICAgICAgIGdsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgZ2wuUkdCQSwgd2lkdGgsIGhlaWdodCwgMCwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgbnVsbCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgeyBHcmFmeENvbnRyb2xsZXIgfTtcbiIsIi8qKlxuICogVGhpcyBjbGFzcyBkZWZpbmVzIGEgbGlnaHQgc291cmNlLlxuICovXG5jbGFzcyBMaWdodCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIC8vIFRPRE9cbiAgfVxuXG4gIC8vIFRPRE86IEltcGxlbWVudCB0aGlzLlxufVxuXG5leHBvcnQge0xpZ2h0fTtcbiIsImltcG9ydCB7IE1vZGVsR3JvdXBDb250cm9sbGVyIH0gZnJvbSAnLi4vbW9kZWxzJztcblxuLyoqXG4gKiBUaGlzIGNsYXNzIGhhbmRsZXMgdGhlIG92ZXJhbGwgc2NlbmUuXG4gKi9cbmNsYXNzIFNjZW5lIGV4dGVuZHMgTW9kZWxHcm91cENvbnRyb2xsZXIge1xuICAvKipcbiAgICogQHBhcmFtIHtNb2RlbEdyb3VwQ29udHJvbGxlckNvbmZpZ30gbW9kZWxDb250cm9sbGVyUGFyYW1zXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihtb2RlbENvbnRyb2xsZXJQYXJhbXMpIHtcbiAgICBzdXBlcihtb2RlbENvbnRyb2xsZXJQYXJhbXMpO1xuXG4gICAgLy8gU2NlbmUgaXMgYW4gYWJzdHJhY3QgY2xhc3MuIEl0IHNob3VsZCBub3QgYmUgaW5zdGFudGlhdGVkIGRpcmVjdGx5LlxuICAgIGlmIChuZXcudGFyZ2V0ID09PSBTY2VuZSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNvbnN0cnVjdCBTY2VuZSBpbnN0YW5jZXMgZGlyZWN0bHknKTtcbiAgICB9XG5cbiAgICB0aGlzLl9nZXRXb3JsZFRyYW5zZm9ybSA9ICgpID0+IHRoaXMud29ybGRUcmFuc2Zvcm07XG4gICAgdGhpcy5fbGlnaHRzID0gW107XG4gICAgdGhpcy5fY2FtZXJhID0gbnVsbDtcbiAgfVxuXG4gIHJlc2V0KCkge1xuICAgIHN1cGVyLnJlc2V0KCk7XG4gICAgdGhpcy5fbGlnaHRzLmZvckVhY2gobGlnaHQgPT4gbGlnaHQucmVzZXQoKSk7XG4gICAgdGhpcy5fY2FtZXJhLnJlc2V0KCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtET01IaWdoUmVzVGltZVN0YW1wfSBjdXJyZW50VGltZVxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGRlbHRhVGltZVxuICAgKi9cbiAgdXBkYXRlQ2hpbGRyZW4oY3VycmVudFRpbWUsIGRlbHRhVGltZSkge1xuICAgIHN1cGVyLnVwZGF0ZUNoaWxkcmVuKGN1cnJlbnRUaW1lLCBkZWx0YVRpbWUpO1xuICAgIHRoaXMuX2NhbWVyYS51cGRhdGUoY3VycmVudFRpbWUsIGRlbHRhVGltZSk7XG4gIH1cblxuICAvKiogQHJldHVybnMge0NhbWVyYX0gKi9cbiAgZ2V0IGNhbWVyYSgpIHtcbiAgICByZXR1cm4gdGhpcy5fY2FtZXJhO1xuICB9XG59XG5cbmV4cG9ydCB7IFNjZW5lIH07XG4iLCJleHBvcnQgKiBmcm9tICcuL3NyYy9nZW9tZXRyeSc7XG5leHBvcnQgKiBmcm9tICcuL3NyYy9nbC11dGlsJztcbmV4cG9ydCAqIGZyb20gJy4vc3JjL2hhc2gtbWFwJztcbmV4cG9ydCAqIGZyb20gJy4vc3JjL3V0aWwnO1xuIiwiLyoqXG4gKiBUaGlzIG1vZHVsZSBkZWZpbmVzIGEgY29sbGVjdGlvbiBvZiBzdGF0aWMgZ2VvbWV0cnkgdXRpbGl0eSBmdW5jdGlvbnMuXG4gKi9cblxuaW1wb3J0IHtyYW5kb21GbG9hdEluUmFuZ2V9IGZyb20gJy4vdXRpbCc7XG5cbmNvbnN0IEVQU0lMT04gPSAwLjAwMDAwMDE7XG5jb25zdCBERUdfVE9fUkFEX1JBVElPID0gTWF0aC5QSSAvIDE4MDtcbmNvbnN0IFJBRF9UT19ERUdfUkFUSU8gPSAxODAgLyBNYXRoLlBJO1xuY29uc3QgSEFMRl9QSSA9IE1hdGguUEkgLyAyO1xuY29uc3QgVFdPX1BJID0gTWF0aC5QSSAqIDI7XG5cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IGRlZ1xuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZnVuY3Rpb24gZGVnVG9SYWQoZGVnKSB7XG4gIHJldHVybiBkZWcgKiBERUdfVE9fUkFEX1JBVElPO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSByYWRcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cbmZ1bmN0aW9uIHJhZFRvRGVnKHJhZCkge1xuICByZXR1cm4gcmFkICogUkFEX1RPX0RFR19SQVRJTztcbn1cblxuLyoqXG4gKiBUaGlzIGNoZWNrcyB3aGV0aGVyIHR3byBmbG9hdGluZy1wb2ludCBudW1iZXJzIGFyZSBjbG9zZSBlbm91Z2ggdGhhdCB0aGV5IGNvdWxkIGJlIGVxdWFsIGlmIG5vdFxuICogZm9yIHJvdW5kLW9mZiBlcnJvcnMuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IGFcbiAqIEBwYXJhbSB7bnVtYmVyfSBiXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gYXJlQ2xvc2UoYSwgYikge1xuICBjb25zdCBkaWZmID0gYSAtIGI7XG4gIHJldHVybiAoZGlmZiA+IDAgPyBkaWZmIDogLWRpZmYpIDwgRVBTSUxPTjtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3ZlYzN9IGFcbiAqIEBwYXJhbSB7dmVjM30gYlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGFyZVZlYzNzRXF1YWwoYSwgYikge1xuICByZXR1cm4gYVswXSA9PT0gYlswXSAmJlxuICAgICAgYVsxXSA9PT0gYlsxXSAmJlxuICAgICAgYVsyXSA9PT0gYlsyXTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3ZlYzN9IHZcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIHZlYzNUb1N0cmluZyh2KSB7XG4gIHJldHVybiBgKCR7dlswXX0sJHt2WzFdfSwke3ZbMl19KWA7XG59XG5cbi8qKlxuICogVE9ETzogVGhpcyBmaW5kcyBhIHJhbmRvbSBwb2ludCB3aXRoIHVuaWZvcm0gcHJvYmFiaWxpdHkgd2l0aGluIGEgY3ViaWMgYXJlYSwgd2hpY2ggYmlhc2VzIHRoZSByZXN1bHRpbmcgdmVjdG9yIHRvd2FyZCB0aGUgY29ybmVycyBvZiB0aGlzIGN1YmljIGFyZWEuIFJlLXdyaXRlIHRoaXMgdG8gcHJvZHVjZSBhbiB1bmJpYXNlZCB2ZWN0b3IuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IFtzY2FsZT0xXVxuICogQHJldHVybnMge3ZlYzN9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVJhbmRvbVZlYzMoc2NhbGUgPSAxKSB7XG4gIGNvbnN0IHYgPSB2ZWMzLmNyZWF0ZSgpO1xuICByZXR1cm4gc2V0UmFuZG9tVmVjMyh2LCBzY2FsZSk7XG59XG5cbi8qKlxuICogVE9ETzogVGhpcyBmaW5kcyBhIHJhbmRvbSBwb2ludCB3aXRoIHVuaWZvcm0gcHJvYmFiaWxpdHkgd2l0aGluIGEgY3ViaWMgYXJlYSwgd2hpY2ggYmlhc2VzIHRoZSByZXN1bHRpbmcgdmVjdG9yIHRvd2FyZCB0aGUgY29ybmVycyBvZiB0aGlzIGN1YmljIGFyZWEuIFJlLXdyaXRlIHRoaXMgdG8gcHJvZHVjZSBhbiB1bmJpYXNlZCB2ZWN0b3IuXG4gKlxuICogQHBhcmFtIHt2ZWMzfSB2XG4gKiBAcGFyYW0ge251bWJlcn0gW3NjYWxlPTFdXG4gKiBAcmV0dXJucyB7dmVjM31cbiAqL1xuZnVuY3Rpb24gc2V0UmFuZG9tVmVjMyh2LCBzY2FsZSA9IDEpIHtcbiAgdmVjMy5zZXQodiwgTWF0aC5yYW5kb20oKSAtIDAuNSwgTWF0aC5yYW5kb20oKSAtIDAuNSwgTWF0aC5yYW5kb20oKSAtIDAuNSk7XG4gIHZlYzMubm9ybWFsaXplKHYsIHYpO1xuICB2ZWMzLnNjYWxlKHYsIHYsIHNjYWxlKTtcbiAgcmV0dXJuIHY7XG59XG5cbi8qKlxuICogQ2FsY3VsYXRlcyBhIHZlY3RvciB0aGF0IGlzIG9ydGhvZ29uYWwgdG8gdGhlIGdpdmVuIHZlY3Rvci5cbiAqXG4gKiBUT0RPOiBUaGlzIGZpbmRzIGEgcmFuZG9tIHBvaW50IHdpdGggdW5pZm9ybSBwcm9iYWJpbGl0eSB3aXRoaW4gYSBjdWJpYyBhcmVhLCB3aGljaCBiaWFzZXMgdGhlIHJlc3VsdGluZyB2ZWN0b3IgdG93YXJkIHRoZSBjb3JuZXJzIG9mIHRoaXMgY3ViaWMgYXJlYS4gUmUtd3JpdGUgdGhpcyB0byBwcm9kdWNlIGFuIHVuYmlhc2VkIHZlY3Rvci5cbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IGJhc2lzXG4gKiBAcGFyYW0ge251bWJlcn0gW3NjYWxlPTFdXG4gKiBAcmV0dXJucyB7dmVjM31cbiAqL1xuZnVuY3Rpb24gY3JlYXRlUmFuZG9tT3J0aG9nb25hbFZlYzMoYmFzaXMsIHNjYWxlID0gMSkge1xuICBjb25zdCByZXN1bHQgPSB2ZWMzLmNyZWF0ZSgpO1xuICByZXR1cm4gc2V0UmFuZG9tT3J0aG9nb25hbFZlYzMocmVzdWx0LCBiYXNpcywgc2NhbGUpO1xufVxuXG4vKipcbiAqIENhbGN1bGF0ZXMgYSB2ZWN0b3IgdGhhdCBpcyBvcnRob2dvbmFsIHRvIHRoZSBnaXZlbiB2ZWN0b3IuXG4gKlxuICogVE9ETzogVGhpcyBmaW5kcyBhIHJhbmRvbSBwb2ludCB3aXRoIHVuaWZvcm0gcHJvYmFiaWxpdHkgd2l0aGluIGEgY3ViaWMgYXJlYSwgd2hpY2ggYmlhc2VzIHRoZSByZXN1bHRpbmcgdmVjdG9yIHRvd2FyZCB0aGUgY29ybmVycyBvZiB0aGlzIGN1YmljIGFyZWEuIFJlLXdyaXRlIHRoaXMgdG8gcHJvZHVjZSBhbiB1bmJpYXNlZCB2ZWN0b3IuXG4gKlxuICogQHBhcmFtIHt2ZWMzfSByZXN1bHRcbiAqIEBwYXJhbSB7dmVjM30gYmFzaXNcbiAqIEBwYXJhbSB7bnVtYmVyfSBbc2NhbGU9MV1cbiAqIEByZXR1cm5zIHt2ZWMzfVxuICovXG5mdW5jdGlvbiBzZXRSYW5kb21PcnRob2dvbmFsVmVjMyhyZXN1bHQsIGJhc2lzLCBzY2FsZSA9IDEpIHtcbiAgc2V0UmFuZG9tVmVjMyhyZXN1bHQpO1xuICAvLyBUaGlzIGlzIGJhc2VkIG9uIHRoZSBkb3QgYW5kIGNyb3NzIHByb2R1Y3RzIGFuZCB0aGUgZmFjdCB0aGF0IHRoZSBkb3QgcHJvZHVjdCBmb3IgdHdvXG4gIC8vIG9ydGhvZ29uYWwgdmVjdG9ycyBpcyB6ZXJvLlxuICByZXN1bHRbMl0gPSAtKGJhc2lzWzBdICogcmVzdWx0WzBdICsgYmFzaXNbMV0gKiByZXN1bHRbMV0pIC8gYmFzaXNbMl07XG4gIHZlYzMubm9ybWFsaXplKHJlc3VsdCwgcmVzdWx0KTtcbiAgdmVjMy5zY2FsZShyZXN1bHQsIHJlc3VsdCwgc2NhbGUpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7dmVjM30gYXZnXG4gKiBAcGFyYW0ge3ZlYzN9IHJhbmdlXG4gKiBAcmV0dXJucyB7dmVjM31cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHJhbmRvbVZlYzNJblJhbmdlKGF2ZywgcmFuZ2UpIHtcbiAgY29uc3QgcG9zaXRpb24gPSB2ZWMzLmNyZWF0ZSgpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkrKykge1xuICAgIGNvbnN0IG1pbiA9IGF2Z1tpXSAtIHJhbmdlW2ldIC8gMjtcbiAgICBjb25zdCBtYXggPSBhdmdbaV0gKyByYW5nZVtpXSAvIDI7XG4gICAgcG9zaXRpb25baV0gPSByYW5kb21GbG9hdEluUmFuZ2UobWluLCBtYXgpO1xuICB9XG4gIHJldHVybiBwb3NpdGlvbjtcbn1cblxuLyoqXG4gKiBSb3RhdGVzIHRoZSBnaXZlbiB2ZWN0b3IgYXJvdW5kIGEgcmFuZG9tIG9ydGhvZ29uYWwgYXhpcyBieSBhIHJhbmRvbSBhbmdsZSB3aXRoaW4gdGhlIGdpdmVuIGFuZ2xlXG4gKiBib3VuZHMuXG4gKlxuICogQHBhcmFtIHt2ZWMzfSB2XG4gKiBAcGFyYW0ge251bWJlcn0gbWluUm90YXRpb25BbmdsZVxuICogQHBhcmFtIHtudW1iZXJ9IG1heFJvdGF0aW9uQW5nbGVcbiAqL1xuZnVuY3Rpb24gYWRkUmFuZG9tUm90YXRpb25Ub1ZlY3Rvcih2LCBtaW5Sb3RhdGlvbkFuZ2xlLCBtYXhSb3RhdGlvbkFuZ2xlKSB7XG4gIC8vIENyZWF0ZSBhIHJhbmRvbSBvcnRob2dvbmFsIGF4aXMuXG4gIGNvbnN0IHJvdGF0aW9uQXhpcyA9IGNyZWF0ZVJhbmRvbVZlYzMoKTtcbiAgdmVjMy5jcm9zcyhyb3RhdGlvbkF4aXMsIHJvdGF0aW9uQXhpcywgdik7XG4gIHZlYzMubm9ybWFsaXplKHJvdGF0aW9uQXhpcywgcm90YXRpb25BeGlzKTtcblxuICAvLyBDcmVhdGUgYSByYW5kb20gYW5nbGUuXG4gIGNvbnN0IHJvdGF0aW9uQW5nbGUgPSByYW5kb21GbG9hdEluUmFuZ2UobWluUm90YXRpb25BbmdsZSwgbWF4Um90YXRpb25BbmdsZSk7XG5cbiAgLy8gQ3JlYXRlIGEgcm90YXRpb24gcXVhdGVybmlvbi5cbiAgY29uc3Qgcm90YXRpb24gPSBxdWF0LmNyZWF0ZSgpO1xuICBxdWF0LnNldEF4aXNBbmdsZShyb3RhdGlvbiwgcm90YXRpb25BeGlzLCByb3RhdGlvbkFuZ2xlKTtcblxuICAvLyBBcHBseSB0aGUgcm90YXRpb24gdG8gdGhlIHZlY3Rvci5cbiAgdmVjMy50cmFuc2Zvcm1RdWF0KHYsIHYsIHJvdGF0aW9uKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3F1YXR9IG91dFxuICogQHBhcmFtIHtxdWF0fSBhXG4gKiBAcGFyYW0ge3F1YXR9IGJcbiAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZVxuICogQHJldHVybnMge3F1YXR9XG4gKi9cbmZ1bmN0aW9uIHNjYWxlQW5kQWRkUXVhdChvdXQsIGEsIGIsIHNjYWxlKSB7XG4gIHJldHVybiBxdWF0LnNldChvdXQsXG4gICAgICBhWzBdICsgYlswXSAqIHNjYWxlLFxuICAgICAgYVsxXSArIGJbMV0gKiBzY2FsZSxcbiAgICAgIGFbMl0gKyBiWzJdICogc2NhbGUsXG4gICAgICBhWzNdICsgYlszXSAqIHNjYWxlKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3ZlYzN9IHZcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cbmZ1bmN0aW9uIGdldE1heFZlYzNEaW1lbnNpb24odikge1xuICBsZXQgbWF4ID0gdlswXSA+IHZbMV0gPyB2WzBdIDogdlsxXTtcbiAgbWF4ID0gbWF4ID4gdlsyXSA/IG1heCA6IHZbMl07XG4gIHJldHVybiBtYXg7XG59XG5cbmV4cG9ydCB7XG4gIEVQU0lMT04sXG4gIEhBTEZfUEksXG4gIFRXT19QSSxcbiAgZGVnVG9SYWQsXG4gIHJhZFRvRGVnLFxuICBhcmVDbG9zZSxcbiAgYXJlVmVjM3NFcXVhbCxcbiAgdmVjM1RvU3RyaW5nLFxuICBjcmVhdGVSYW5kb21WZWMzLFxuICBzZXRSYW5kb21WZWMzLFxuICBjcmVhdGVSYW5kb21PcnRob2dvbmFsVmVjMyxcbiAgc2V0UmFuZG9tT3J0aG9nb25hbFZlYzMsXG4gIHJhbmRvbVZlYzNJblJhbmdlLFxuICBhZGRSYW5kb21Sb3RhdGlvblRvVmVjdG9yLFxuICBzY2FsZUFuZEFkZFF1YXQsXG4gIGdldE1heFZlYzNEaW1lbnNpb24sXG59O1xuIiwiLyoqXG4gKiBUaGlzIG1vZHVsZSBkZWZpbmVzIGEgY29sbGVjdGlvbiBvZiBzdGF0aWMgZ2VuZXJhbCB1dGlsaXR5IGZ1bmN0aW9ucyBmb3IgV2ViR0wuXG4gKi9cblxuaW1wb3J0IHtIYXNoTWFwfSBmcm9tICcuL2hhc2gtbWFwJztcbmltcG9ydCB7SEFMRl9QSSwgVFdPX1BJfSBmcm9tICcuL2dlb21ldHJ5JztcbmltcG9ydCB7ZGVib3VuY2UsIGlzSW5EZXZNb2RlLCBsb2FkVGV4dH0gZnJvbSAnLi91dGlsJztcbmltcG9ydCB7cHJvZ3JhbVdyYXBwZXJTdG9yZX0gZnJvbSAnLi4vLi4vcHJvZ3JhbS13cmFwcGVyL3NyYy9wcm9ncmFtLXdyYXBwZXItc3RvcmUnO1xuXG5sZXQgdmlld3BvcnRXaWR0aCA9IDEwO1xubGV0IHZpZXdwb3J0SGVpZ2h0ID0gMTA7XG5cbi8qKlxuICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gY2FudmFzXG4gKiBAcmV0dXJucyB7P1dlYkdMUmVuZGVyaW5nQ29udGV4dH1cbiAqIEB0aHJvd3MgSWYgdW5hYmxlIHRvIGdldCBhIFdlYkdMIGNvbnRleHQuXG4gKi9cbmZ1bmN0aW9uIGdldFdlYkdMQ29udGV4dChjYW52YXMpIHtcbiAgY29uc3QgcGFyYW1zID0ge2FscGhhOiBmYWxzZX07XG4gIC8vIFRyeSB0byBncmFiIHRoZSBzdGFuZGFyZCBjb250ZXh0LiBJZiBpdCBmYWlscywgZmFsbGJhY2sgdG8gdGhlIGV4cGVyaW1lbnRhbCBjb250ZXh0LlxuICByZXR1cm4gY2FudmFzLmdldENvbnRleHQoJ3dlYmdsJywgcGFyYW1zKSB8fCBjYW52YXMuZ2V0Q29udGV4dCgnZXhwZXJpbWVudGFsLXdlYmdsJywgcGFyYW1zKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2xcbiAqIEByZXR1cm5zIHs/V2ViR0xCdWZmZXJ9XG4gKiBAdGhyb3dzIElmIHVuYWJsZSB0byBjcmVhdGUgYSBidWZmZXIgb2JqZWN0LlxuICovXG5mdW5jdGlvbiBjcmVhdGVCdWZmZXIoZ2wpIHtcbiAgY29uc3QgYnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCk7XG4gIGlmICghYnVmZmVyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdBbiBlcnJvciBvY2N1cnJlZCBjcmVhdGluZyB0aGUgYnVmZmVyIG9iamVjdCcpO1xuICB9XG4gIHJldHVybiBidWZmZXI7XG59XG4vLyBUT0RPOiB1c2UgYWxsIHRoaXMgaGVscGVyIHN0dWZmIGluIHRoZSBwcm9ncmFtV3JhcHBlciBsb2dpYz9cbi8qKlxuICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsXG4gKiBAcGFyYW0ge1dlYkdMUHJvZ3JhbX0gcHJvZ3JhbVxuICogQHBhcmFtIHtzdHJpbmd9IGxvY2F0aW9uTmFtZVxuICogQHJldHVybnMge251bWJlcn1cbiAqIEB0aHJvd3MgSWYgdW5hYmxlIHRvIGdldCBhbiBhdHRyaWJ1dGUgbG9jYXRpb24gZm9yIHRoZSBnaXZlbiBuYW1lLlxuICovXG5mdW5jdGlvbiBnZXRBdHRyaWJMb2NhdGlvbihnbCwgcHJvZ3JhbSwgbG9jYXRpb25OYW1lKSB7XG4gIGNvbnN0IGF0dHJpYkxvY2F0aW9uID0gZ2wuZ2V0QXR0cmliTG9jYXRpb24ocHJvZ3JhbSwgbG9jYXRpb25OYW1lKTtcbiAgaWYgKGF0dHJpYkxvY2F0aW9uIDwgMCkge1xuICAgIHRocm93IG5ldyBFcnJvcihgQW4gZXJyb3Igb2NjdXJyZWQgZ2V0dGluZyB0aGUgYXR0cmlidXRlIGxvY2F0aW9uOiAke2xvY2F0aW9uTmFtZX1gKTtcbiAgfVxuICByZXR1cm4gYXR0cmliTG9jYXRpb247XG59XG5cbi8qKlxuICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsXG4gKiBAcGFyYW0ge1dlYkdMU2hhZGVyfSB2ZXJ0ZXhTaGFkZXJcbiAqIEBwYXJhbSB7V2ViR0xTaGFkZXJ9IGZyYWdtZW50U2hhZGVyXG4gKiBAcmV0dXJucyB7V2ViR0xQcm9ncmFtfVxuICogQHRocm93cyBJZiB1bmFibGUgdG8gbGluayB0aGUgcHJvZ3JhbS5cbiAqL1xuZnVuY3Rpb24gYnVpbGRQcm9ncmFtKGdsLCB2ZXJ0ZXhTaGFkZXIsIGZyYWdtZW50U2hhZGVyKSB7XG4gIGNvbnN0IHByb2dyYW0gPSBnbC5jcmVhdGVQcm9ncmFtKCk7XG4gIGdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCB2ZXJ0ZXhTaGFkZXIpO1xuICBnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgZnJhZ21lbnRTaGFkZXIpO1xuICBnbC5saW5rUHJvZ3JhbShwcm9ncmFtKTtcblxuICBpZiAoIWdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwgZ2wuTElOS19TVEFUVVMpKSB7XG4gICAgY29uc3QgaW5mb0xvZyA9IGdsLmdldFByb2dyYW1JbmZvTG9nKHByb2dyYW0pO1xuICAgIGNvbnNvbGUuZXJyb3IoJ0FuIGVycm9yIG9jY3VycmVkIGxpbmtpbmcgdGhlIHNoYWRlciBwcm9ncmFtJywgaW5mb0xvZyk7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdBbiBlcnJvciBvY2N1cnJlZCBsaW5raW5nIHRoZSBzaGFkZXIgcHJvZ3JhbScpO1xuICB9XG5cbiAgcmV0dXJuIHByb2dyYW07XG59XG5cbi8qKlxuICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsXG4gKiBAcGFyYW0ge3N0cmluZ30gc2hhZGVyU291cmNlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGlzRnJhZ21lbnRTaGFkZXJcbiAqIEByZXR1cm5zIHtXZWJHTFNoYWRlcn1cbiAqIEB0aHJvd3MgSWYgdW5hYmxlIHRvIGNvbXBpbGUgdGhlIHNoYWRlci5cbiAqL1xuZnVuY3Rpb24gYnVpbGRTaGFkZXIoZ2wsIHNoYWRlclNvdXJjZSwgaXNGcmFnbWVudFNoYWRlcikge1xuICBjb25zdCBzaGFkZXJUeXBlID0gaXNGcmFnbWVudFNoYWRlciA/IGdsLkZSQUdNRU5UX1NIQURFUiA6IGdsLlZFUlRFWF9TSEFERVI7XG4gIGNvbnN0IHNoYWRlciA9IGdsLmNyZWF0ZVNoYWRlcihzaGFkZXJUeXBlKTtcbiAgZ2wuc2hhZGVyU291cmNlKHNoYWRlciwgc2hhZGVyU291cmNlKTtcbiAgZ2wuY29tcGlsZVNoYWRlcihzaGFkZXIpO1xuXG4gIGlmICghZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKHNoYWRlciwgZ2wuQ09NUElMRV9TVEFUVVMpKSB7XG4gICAgY29uc3QgaW5mb0xvZyA9IGdsLmdldFNoYWRlckluZm9Mb2coc2hhZGVyKTtcbiAgICBjb25zb2xlLmVycm9yKCdBbiBlcnJvciBvY2N1cnJlZCBjb21waWxpbmcgdGhlIHNoYWRlcicsIGluZm9Mb2cpO1xuICAgIHRocm93IG5ldyBFcnJvcignQW4gZXJyb3Igb2NjdXJyZWQgY29tcGlsaW5nIHRoZSBzaGFkZXInKTtcbiAgfVxuXG4gIHJldHVybiBzaGFkZXI7XG59XG5cbi8qKlxuICogTG9hZHMgYSBzaGFkZXIgcHJvZ3JhbSBieSBzY291cmluZyB0aGUgY3VycmVudCBkb2N1bWVudCwgbG9va2luZyBmb3IgYSBzY3JpcHQgd2l0aCB0aGUgc3BlY2lmaWVkXG4gKiBJRC5cbiAqXG4gKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2xcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmxcbiAqIEByZXR1cm5zIHtQcm9taXNlLjxXZWJHTFNoYWRlciwgRXJyb3I+fVxuICovXG5mdW5jdGlvbiBsb2FkU2hhZGVyKGdsLCB1cmwpIHtcbiAgcmV0dXJuIGxvYWRUZXh0KHVybClcbiAgICAgIC50aGVuKHNoYWRlclNvdXJjZSA9PiBidWlsZFNoYWRlcihnbCwgc2hhZGVyU291cmNlLCB1cmwuZW5kc1dpdGgoJy5mcmFnJykpKTtcbn1cblxuLyoqXG4gKiBMb2FkcyB0aGUgc2hhZGVyIHNvdXJjZSBjb2RlIGZyb20gdGhlIGdpdmVuIFVSTHMsIGNvbXBpbGVzIHRoZSBzaGFkZXIgc291cmNlIGNvZGUsIGFuZCBjcmVhdGVzXG4gKiBhIHByb2dyYW0gZnJvbSB0aGUgcmVzdWx0aW5nIHNoYWRlcnMuXG4gKlxuICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsXG4gKiBAcGFyYW0ge3N0cmluZ30gdmVydGV4U2hhZGVyVXJsXG4gKiBAcGFyYW0ge3N0cmluZ30gZnJhZ21lbnRTaGFkZXJVcmxcbiAqIEByZXR1cm5zIHtQcm9taXNlLjxXZWJHTFByb2dyYW0sIEVycm9yPn1cbiAqIEB0aHJvd3MgSWYgYW55IGVycm9yIG9jY3VycyB3aGlsZSBsb2FkaW5nIGFuZCBidWlsZGluZyB0aGUgc2hhZGVycyBhbmQgcHJvZ3JhbS5cbiAqL1xuZnVuY3Rpb24gbG9hZFByb2dyYW0oZ2wsIHZlcnRleFNoYWRlclVybCwgZnJhZ21lbnRTaGFkZXJVcmwpIHtcbiAgcmV0dXJuIFByb21pc2UuYWxsKFtcbiAgICAgICAgdmVydGV4U2hhZGVyVXJsLFxuICAgICAgICBmcmFnbWVudFNoYWRlclVybFxuICAgICAgXS5tYXAodXJsID0+IGxvYWRTaGFkZXIoZ2wsIHVybCkpKVxuICAgICAgLnRoZW4oc2hhZGVycyA9PiB7XG4gICAgICAgIGNvbnN0IHZlcnRleFNoYWRlciA9IHNoYWRlcnNbMF07XG4gICAgICAgIGNvbnN0IGZyYWdtZW50U2hhZGVyID0gc2hhZGVyc1sxXTtcblxuICAgICAgICByZXR1cm4gYnVpbGRQcm9ncmFtKGdsLCB2ZXJ0ZXhTaGFkZXIsIGZyYWdtZW50U2hhZGVyKTtcbiAgICAgIH0pO1xufVxuXG4vKipcbiAqIENyZWF0ZSwgYmluZCwgYW5kIG1vdmUgdGhlIGdpdmVuIHJhdyBkYXRhIGludG8gYSBXZWJHTCBidWZmZXIuXG4gKlxuICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsXG4gKiBAcGFyYW0ge0FycmF5LjxOdW1iZXI+fSByYXdEYXRhIEEgcGxhaW4sIGZsYXQgYXJyYXkgY29udGFpbmluZyB0aGUgZGF0YSB0byBiaW5kIHRvIGEgYnVmZmVyLlxuICogQHBhcmFtIHtudW1iZXJ9IFt0YXJnZXQ9Z2wuQVJSQVlfQlVGRkVSXSBBbiBlbnVtIGRlc2NyaWJpbmcgdGhlIHR5cGUgb2YgdGhpcyBidWZmZXI7IG9uZSBvZjpcbiAqICAgLSBnbC5BUlJBWV9CVUZGRVIsXG4gKiAgIC0gZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIuXG4gKiBAcGFyYW0ge251bWJlcn0gW3VzYWdlPWdsLlNUQVRJQ19EUkFXXSBBbiBlbnVtIGRlc2NyaWJpbmcgaG93IHRoaXMgYnVmZmVyIGlzIGdvaW5nIHRvIGJlIHVzZWQ7XG4gKiBvbmUgb2Y6XG4gKiAgIC0gZ2wuU1RBVElDX0RSQVcsXG4gKiAgIC0gZ2wuRFlOQU1JQ19EUkFXLFxuICogICAtIGdsLlNUUkVBTV9EUkFXLlxuICogQHJldHVybnMge1dlYkdMQnVmZmVyfVxuICovXG5mdW5jdGlvbiBjcmVhdGVCdWZmZXJGcm9tRGF0YShnbCwgcmF3RGF0YSwgdGFyZ2V0LCB1c2FnZSkge1xuICB0YXJnZXQgPSB0YXJnZXQgfHwgZ2wuQVJSQVlfQlVGRkVSO1xuICB1c2FnZSA9IHVzYWdlIHx8IGdsLlNUQVRJQ19EUkFXO1xuICBjb25zdCB0eXBlZEFycmF5ID0gdGFyZ2V0ID09PSBnbC5BUlJBWV9CVUZGRVIgPyBuZXcgRmxvYXQzMkFycmF5KHJhd0RhdGEpIDogbmV3IFVpbnQxNkFycmF5KHJhd0RhdGEpO1xuXG4gIGNvbnN0IGJ1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xuICBnbC5iaW5kQnVmZmVyKHRhcmdldCwgYnVmZmVyKTtcbiAgZ2wuYnVmZmVyRGF0YSh0YXJnZXQsIHR5cGVkQXJyYXksIHVzYWdlKTtcblxuICAvLyBNYWtpbmcgdGhlIG9yaWdpbmFsIGRhdGEgdmlzaWJsZSBvbiB0aGUgYnVmZmVyIG9iamVjdCBpcyBoZWxwZnVsIGZvciBkZWJ1Z2dpbmcuXG4gIGlmIChpc0luRGV2TW9kZSkge1xuICAgIGJ1ZmZlci5yYXdEYXRhID0gdHlwZWRBcnJheTtcbiAgfVxuXG4gIHJldHVybiBidWZmZXI7XG59XG5cbi8qKlxuICogQWRqdXN0cyB0aGUgZGltZW5zaW9ucyBvZiB0aGUgZ2l2ZW4gZWxlbWVudCB0byBtYXRjaCB0aG9zZSBvZiB0aGUgdmlld3BvcnQuIEFsc28sIHdoZW4gdGhlXG4gKiB2aWV3cG9ydCBpcyByZXNpemVkLCB0aGUgZ2l2ZW4gZWxlbWVudCB3aWxsIGFsc28gYmUgcmVzaXplZCB0byBtYXRjaC5cbiAqXG4gKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBjYW52YXNcbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbFxuICogQHBhcmFtIHtGdW5jdGlvbn0gb25HTFJlc2l6ZWRcbiAqIEBwYXJhbSB7P051bWJlcn0gW3VwZGF0ZUludGVydmFsPTE1MF1cbiAqL1xuZnVuY3Rpb24gYmluZEdMQ29udGV4dFRvVmlld3BvcnREaW1lbnNpb25zKGNhbnZhcywgZ2wsIG9uR0xSZXNpemVkLCB1cGRhdGVJbnRlcnZhbCA9IDE1MCkge1xuICBfcmVzaXplR0xDb250ZXh0VG9NYXRjaFZpZXdwb3J0RGltZW5zaW9ucyhjYW52YXMsIGdsKTtcbiAgY29uc3QgZGVib3VuY2VkUmVzaXplID1cbiAgICAgIGRlYm91bmNlKF8gPT4ge1xuICAgICAgICBfcmVzaXplR0xDb250ZXh0VG9NYXRjaFZpZXdwb3J0RGltZW5zaW9ucyhjYW52YXMsIGdsKTtcbiAgICAgICAgb25HTFJlc2l6ZWQoKTtcbiAgICAgIH0sIHVwZGF0ZUludGVydmFsKTtcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGRlYm91bmNlZFJlc2l6ZSk7XG59XG5cbi8qKlxuICogUmVzaXplcyB0aGUgZ2l2ZW4gZWxlbWVudCB0byBtYXRjaCB0aGUgZGltZW5zaW9ucyBvZiB0aGUgdmlld3BvcnQgY29tcG9uZW50cy5cbiAqXG4gKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBjYW52YXNcbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbFxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX3Jlc2l6ZUdMQ29udGV4dFRvTWF0Y2hWaWV3cG9ydERpbWVuc2lvbnMoY2FudmFzLCBnbCkge1xuICAvLyBBY2NvdW50IGZvciBoaWdoLWRlZmluaXRpb24gRFBJIGRpc3BsYXlzLlxuICBjb25zdCBkZXZpY2VQaXhlbFRvQ3NzUGl4ZWxSYXRpbyA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDE7XG4gIHZpZXdwb3J0V2lkdGggPSBNYXRoLmZsb29yKGNhbnZhcy5jbGllbnRXaWR0aCAqIGRldmljZVBpeGVsVG9Dc3NQaXhlbFJhdGlvKTtcbiAgdmlld3BvcnRIZWlnaHQgPSBNYXRoLmZsb29yKGNhbnZhcy5jbGllbnRIZWlnaHQgKiBkZXZpY2VQaXhlbFRvQ3NzUGl4ZWxSYXRpbyk7XG4gIGNhbnZhcy53aWR0aCA9IHZpZXdwb3J0V2lkdGg7XG4gIGNhbnZhcy5oZWlnaHQgPSB2aWV3cG9ydEhlaWdodDtcbiAgZ2wudmlld3BvcnQoMCwgMCwgdmlld3BvcnRXaWR0aCwgdmlld3BvcnRIZWlnaHQpO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cbmZ1bmN0aW9uIGdldFZpZXdwb3J0V2lkdGgoKSB7XG4gIHJldHVybiB2aWV3cG9ydFdpZHRoO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cbmZ1bmN0aW9uIGdldFZpZXdwb3J0SGVpZ2h0KCkge1xuICByZXR1cm4gdmlld3BvcnRIZWlnaHQ7XG59XG5cbi8qKlxuICogQmluZHMgYSBmcmFtZWJ1ZmZlciB0byB0aGUgR0wgY29udGV4dC5cbiAqXG4gKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2xcbiAqIEBwYXJhbSB7V2ViR0xGcmFtZWJ1ZmZlcn0gZnJhbWVidWZmZXJcbiAqL1xuZnVuY3Rpb24gYmluZEZyYW1lYnVmZmVyKGdsLCBmcmFtZWJ1ZmZlciwgd2lkdGgsIGhlaWdodCkge1xuICAvLyBGSVhNRTogUmVtb3ZlIG9yIGFkZCBiYWNrIGluP1xuICAvLyB3aWR0aCA9IHdpZHRoIHx8IGdldFZpZXdwb3J0V2lkdGgoKTtcbiAgLy8gaGVpZ2h0ID0gaGVpZ2h0IHx8IGdldFZpZXdwb3J0SGVpZ2h0KCk7XG5cbiAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBmcmFtZWJ1ZmZlcik7XG4gIC8vIEZJWE1FOiBSZW1vdmUgb3IgYWRkIGJhY2sgaW4/XG4gIC8vIGdsLnZpZXdwb3J0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBmcmFtZWJ1ZmZlciBhbmQgYXR0YWNoZXMgYSB0ZXh0dXJlIHRvIHRoZSBmcmFtZWJ1ZmZlci5cbiAqXG4gKiBUaGlzIG1lYW5zIHRoYXQgd2hlbiB3ZSBiaW5kIHRvIHRoZSBmcmFtZWJ1ZmZlciwgZHJhdyBjYWxscyB3aWxsIHJlbmRlciB0byB0aGUgZ2l2ZW4gdGV4dHVyZS5cbiAqXG4gKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2xcbiAqIEBwYXJhbSB7V2ViR0xUZXh0dXJlfSB0ZXh0dXJlXG4gKiBAcGFyYW0ge1dlYkdMUmVuZGVyQnVmZmVyfSBbcmVuZGVyQnVmZmVyXVxuICogQHJldHVybnMge1dlYkdMRnJhbWVidWZmZXJ9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUZyYW1lYnVmZmVyKGdsLCB0ZXh0dXJlLCByZW5kZXJCdWZmZXIpIHtcbiAgY29uc3QgZnJhbWVidWZmZXIgPSBnbC5jcmVhdGVGcmFtZWJ1ZmZlcigpO1xuXG4gIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgZnJhbWVidWZmZXIpO1xuICBnbC5mcmFtZWJ1ZmZlclRleHR1cmUyRChnbC5GUkFNRUJVRkZFUiwgZ2wuQ09MT1JfQVRUQUNITUVOVDAsIGdsLlRFWFRVUkVfMkQsIHRleHR1cmUsIDApO1xuXG4gIGlmIChyZW5kZXJCdWZmZXIpIHtcbiAgICBnbC5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgZ2wuREVQVEhfQVRUQUNITUVOVCwgZ2wuUkVOREVSQlVGRkVSLCByZW5kZXJCdWZmZXIpO1xuICB9XG5cbiAgcmV0dXJuIGZyYW1lYnVmZmVyO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSB0ZXh0dXJlIGZvciByZW5kZXJpbmcgdG8uXG4gKlxuICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsXG4gKiBAcGFyYW0ge251bWJlcn0gW3dpZHRoXSBEZWZhdWx0cyB0byB0aGUgdmlld3BvcnQgd2lkdGggc3RvcmVkIGluIGdsLXV0aWwuXG4gKiBAcGFyYW0ge251bWJlcn0gW2hlaWdodF0gRGVmYXVsdHMgdG8gdGhlIHZpZXdwb3J0IGhlaWdodCBzdG9yZWQgaW4gZ2wtdXRpbC5cbiAqIEByZXR1cm5zIHtXZWJHTFRleHR1cmV9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVRleHR1cmVGb3JSZW5kZXJpbmcoZ2wsIHdpZHRoLCBoZWlnaHQpIHtcbiAgd2lkdGggPSB3aWR0aCB8fCBnZXRWaWV3cG9ydFdpZHRoKCk7XG4gIGhlaWdodCA9IGhlaWdodCB8fCBnZXRWaWV3cG9ydEhlaWdodCgpO1xuXG4gIC8vIFRPRE86IERvdWJsZS1jaGVjayB0aGVzZSBwYXJhbXNcbiAgY29uc3QgdGV4dHVyZSA9IGdsLmNyZWF0ZVRleHR1cmUoKTtcbiAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGV4dHVyZSk7XG4gIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9XUkFQX1MsIGdsLkNMQU1QX1RPX0VER0UpO1xuICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9ULCBnbC5DTEFNUF9UT19FREdFKTtcbiAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01JTl9GSUxURVIsIGdsLk5FQVJFU1QpO1xuICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUFHX0ZJTFRFUiwgZ2wuTkVBUkVTVCk7XG4gIGdsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgZ2wuUkdCQSwgd2lkdGgsIGhlaWdodCwgMCwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgbnVsbCk7XG5cbiAgcmV0dXJuIHRleHR1cmU7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIHJlbmRlciBidWZmZXIuXG4gKlxuICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsXG4gKiBAcGFyYW0ge251bWJlcn0gW3dpZHRoXSBEZWZhdWx0cyB0byB0aGUgdmlld3BvcnQgd2lkdGggc3RvcmVkIGluIGdsLXV0aWwuXG4gKiBAcGFyYW0ge251bWJlcn0gW2hlaWdodF0gRGVmYXVsdHMgdG8gdGhlIHZpZXdwb3J0IGhlaWdodCBzdG9yZWQgaW4gZ2wtdXRpbC5cbiAqIEByZXR1cm5zIHtXZWJHTFJlbmRlckJ1ZmZlcn1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlUmVuZGVyQnVmZmVyKGdsLCB3aWR0aCwgaGVpZ2h0KSB7XG4gIHdpZHRoID0gd2lkdGggfHwgZ2V0Vmlld3BvcnRXaWR0aCgpO1xuICBoZWlnaHQgPSBoZWlnaHQgfHwgZ2V0Vmlld3BvcnRIZWlnaHQoKTtcblxuICBjb25zdCByZW5kZXJCdWZmZXIgPSBnbC5jcmVhdGVSZW5kZXJidWZmZXIoKTtcbiAgZ2wuYmluZFJlbmRlcmJ1ZmZlcihnbC5SRU5ERVJCVUZGRVIsIHJlbmRlckJ1ZmZlcik7XG4gIGdsLnJlbmRlcmJ1ZmZlclN0b3JhZ2UoZ2wuUkVOREVSQlVGRkVSLCBnbC5ERVBUSF9DT01QT05FTlQxNiwgd2lkdGgsIGhlaWdodCk7XG5cbiAgcmV0dXJuIHJlbmRlckJ1ZmZlcjtcbn1cblxuY29uc3QgX1NRVUFSRV9DT09SRElOQVRFU18yRCA9IFtcbiAgMCwgMCxcbiAgMSwgMCxcbiAgMCwgMSxcblxuICAxLCAwLFxuICAxLCAxLFxuICAwLCAxLFxuXTtcblxuLyoqXG4gKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2xcbiAqIEByZXR1cm5zIHtBdHRyaWJ1dGVDb25maWd9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZTJEU3F1YXJlUG9zaXRpb25zQ29uZmlnKGdsKSB7XG4gIGNvbnN0IHBvc2l0aW9uc0J1ZmZlciA9IGNyZWF0ZUJ1ZmZlckZyb21EYXRhKGdsLCBfU1FVQVJFX0NPT1JESU5BVEVTXzJEKTtcbiAgcmV0dXJuIHtcbiAgICBidWZmZXI6IHBvc2l0aW9uc0J1ZmZlcixcbiAgICBzaXplOiAyLFxuICAgIHR5cGU6IGdsLkZMT0FULFxuICAgIG5vcm1hbGl6ZWQ6IGZhbHNlLFxuICAgIHN0cmlkZTogMCxcbiAgICBvZmZzZXQ6IDBcbiAgfTtcbn1cblxuLy9cbi8vIEdlb21ldHJpY2FsIGNhbGN1bGF0aW9ucy5cbi8vXG5cbi8qKlxuICogR2l2ZW4gYW4gYXJyYXkgb2YgaW5kaXZpZHVhbCB2ZXJ0ZXggcG9zaXRpb25zIGFuZCBhbiBhcnJheSBvZiB2ZXJ0ZXggaW5kaWNlcywgY3JlYXRlcyBhbiBleHBhbmRlZFxuICogYXJyYXkgb2YgdGhlIHBvc2l0aW9ucyBncm91cGVkIGJ5IHRoZSB0cmlhbmdsZXMgdGhleSBmb3JtLlxuICpcbiAqIEBwYXJhbSB7QXJyYXkuPE51bWJlcj59IGluZGl2aWR1YWxWZXJ0ZXhQb3NpdGlvbnNcbiAqIEBwYXJhbSB7QXJyYXkuPE51bWJlcj59IHZlcnRleEluZGljZXNcbiAqIEByZXR1cm5zIHtBcnJheS48TnVtYmVyPn1cbiAqL1xuZnVuY3Rpb24gZXhwYW5kVmVydGV4SW5kaWNlc1RvRHVwbGljYXRlUG9zaXRpb25zKGluZGl2aWR1YWxWZXJ0ZXhQb3NpdGlvbnMsIHZlcnRleEluZGljZXMpIHtcbiAgY29uc3QgZXhwYW5kZWRWZXJ0ZXhQb3NpdGlvbnMgPSBbXTtcblxuICBmb3IgKGxldCBpID0gMCwgaiA9IDAsIGsgPSAwLCBjb3VudCA9IHZlcnRleEluZGljZXMubGVuZ3RoOyBpIDwgY291bnQ7IGkrKywgayArPSAzKSB7XG4gICAgaiA9IHZlcnRleEluZGljZXNbaV0gKiAzO1xuXG4gICAgZXhwYW5kZWRWZXJ0ZXhQb3NpdGlvbnNba10gPSBpbmRpdmlkdWFsVmVydGV4UG9zaXRpb25zW2pdO1xuICAgIGV4cGFuZGVkVmVydGV4UG9zaXRpb25zW2sgKyAxXSA9IGluZGl2aWR1YWxWZXJ0ZXhQb3NpdGlvbnNbaiArIDFdO1xuICAgIGV4cGFuZGVkVmVydGV4UG9zaXRpb25zW2sgKyAyXSA9IGluZGl2aWR1YWxWZXJ0ZXhQb3NpdGlvbnNbaiArIDJdO1xuICB9XG5cbiAgcmV0dXJuIGV4cGFuZGVkVmVydGV4UG9zaXRpb25zO1xufVxuXG4vKipcbiAqIENvbXB1dGVzIG5vcm1hbCB2ZWN0b3JzIHRoYXQgYXJlIGVhY2ggb3J0aG9nb25hbCB0byB0aGUgdHJpYW5nbGVzIHRoZXkgYXJlIGEgcGFydCBvZi5cbiAqXG4gKiBUaGUgZ2l2ZW4gdmVydGljZXMgc2hvdWxkIHJlcHJlc2VudCBpbmRpdmlkdWFsIHRyaWFuZ2xlcyB3aG9zZSB2ZXJ0aWNlcyBhcmUgZGVmaW5lZCBpbiBjbG9ja3dpc2VcbiAqIG9yZGVyIChhcyBzZWVuIHdoZW4gbG9va2luZyBhdCB0aGUgZXh0ZXJpb3Igc2lkZSkuXG4gKlxuICogQHBhcmFtIHtBcnJheS48TnVtYmVyPn0gdmVydGljZXNcbiAqIEByZXR1cm5zIHtBcnJheS48TnVtYmVyPn1cbiAqL1xuZnVuY3Rpb24gY2FsY3VsYXRlT3J0aG9nb25hbFZlcnRleE5vcm1hbHModmVydGljZXMpIHtcbiAgY29uc3QgdmVydGV4MSA9IHZlYzMuY3JlYXRlKCk7XG4gIGNvbnN0IHZlcnRleDIgPSB2ZWMzLmNyZWF0ZSgpO1xuICBjb25zdCB2ZXJ0ZXgzID0gdmVjMy5jcmVhdGUoKTtcbiAgY29uc3QgdmVjdG9yQSA9IHZlYzMuY3JlYXRlKCk7XG4gIGNvbnN0IHZlY3RvckIgPSB2ZWMzLmNyZWF0ZSgpO1xuICBjb25zdCBub3JtYWwxID0gdmVjMy5jcmVhdGUoKTtcbiAgY29uc3Qgbm9ybWFsMiA9IHZlYzMuY3JlYXRlKCk7XG4gIGNvbnN0IG5vcm1hbDMgPSB2ZWMzLmNyZWF0ZSgpO1xuXG4gIGNvbnN0IG5vcm1hbHMgPSBbXTtcblxuICAvLyBMb29wIG92ZXIgZWFjaCB0cmlhbmdsZSBpbiB0aGUgZmxhdHRlbmVkIHZlcnRleCBhcnJheS5cbiAgZm9yIChsZXQgaSA9IDAsIGNvdW50ID0gdmVydGljZXMubGVuZ3RoOyBpIDwgY291bnQ7IGkgKz0gOSkge1xuICAgIC8vIEdldCB0aGUgdmVydGljZXMgb2YgdGhlIGN1cnJlbnQgdHJpYW5nbGUgZnJvbSB0aGUgZmxhdHRlbmVkIGFycmF5LlxuICAgIHZlYzMuc2V0KHZlcnRleDEsIHZlcnRpY2VzW2kgKyAwXSwgdmVydGljZXNbaSArIDFdLCB2ZXJ0aWNlc1tpICsgMl0pO1xuICAgIHZlYzMuc2V0KHZlcnRleDIsIHZlcnRpY2VzW2kgKyAzXSwgdmVydGljZXNbaSArIDRdLCB2ZXJ0aWNlc1tpICsgNV0pO1xuICAgIHZlYzMuc2V0KHZlcnRleDMsIHZlcnRpY2VzW2kgKyA2XSwgdmVydGljZXNbaSArIDddLCB2ZXJ0aWNlc1tpICsgOF0pO1xuXG4gICAgLy8gQ29tcHV0ZSB0aGUgbm9ybWFscy5cbiAgICB2ZWMzLnN1YnRyYWN0KHZlY3RvckEsIHZlcnRleDMsIHZlcnRleDEpO1xuICAgIHZlYzMuc3VidHJhY3QodmVjdG9yQiwgdmVydGV4MiwgdmVydGV4MSk7XG4gICAgdmVjMy5jcm9zcyhub3JtYWwxLCB2ZWN0b3JBLCB2ZWN0b3JCKTtcbiAgICB2ZWMzLm5vcm1hbGl6ZShub3JtYWwxLCBub3JtYWwxKTtcblxuICAgIHZlYzMuc3VidHJhY3QodmVjdG9yQSwgdmVydGV4MSwgdmVydGV4Mik7XG4gICAgdmVjMy5zdWJ0cmFjdCh2ZWN0b3JCLCB2ZXJ0ZXgzLCB2ZXJ0ZXgyKTtcbiAgICB2ZWMzLmNyb3NzKG5vcm1hbDIsIHZlY3RvckEsIHZlY3RvckIpO1xuICAgIHZlYzMubm9ybWFsaXplKG5vcm1hbDIsIG5vcm1hbDIpO1xuXG4gICAgdmVjMy5zdWJ0cmFjdCh2ZWN0b3JBLCB2ZXJ0ZXgyLCB2ZXJ0ZXgzKTtcbiAgICB2ZWMzLnN1YnRyYWN0KHZlY3RvckIsIHZlcnRleDEsIHZlcnRleDMpO1xuICAgIHZlYzMuY3Jvc3Mobm9ybWFsMywgdmVjdG9yQSwgdmVjdG9yQik7XG4gICAgdmVjMy5ub3JtYWxpemUobm9ybWFsMywgbm9ybWFsMyk7XG5cbiAgICAvLyBTYXZlIHRoZSBub3JtYWwgdmVjdG9ycyBpbiBhIGZsYXR0ZW5lZCBhcnJheS5cbiAgICBub3JtYWxzW2kgKyAwXSA9IG5vcm1hbDFbMF07XG4gICAgbm9ybWFsc1tpICsgMV0gPSBub3JtYWwxWzFdO1xuICAgIG5vcm1hbHNbaSArIDJdID0gbm9ybWFsMVsyXTtcbiAgICBub3JtYWxzW2kgKyAzXSA9IG5vcm1hbDJbMF07XG4gICAgbm9ybWFsc1tpICsgNF0gPSBub3JtYWwyWzFdO1xuICAgIG5vcm1hbHNbaSArIDVdID0gbm9ybWFsMlsyXTtcbiAgICBub3JtYWxzW2kgKyA2XSA9IG5vcm1hbDNbMF07XG4gICAgbm9ybWFsc1tpICsgN10gPSBub3JtYWwzWzFdO1xuICAgIG5vcm1hbHNbaSArIDhdID0gbm9ybWFsM1syXTtcbiAgfVxuXG4gIHJldHVybiBub3JtYWxzO1xufVxuXG5jb25zdCBNQVhfVEVYVFVSRV9WX0NPT1JESU5BVEVfREVMVEEgPSAwLjU7XG5cbi8qKlxuICogQ2FsY3VsYXRlcyBsYXQtbG9uZyB0ZXh0dXJlIGNvb3JkaW5hdGVzIGZvciB0aGUgZ2l2ZW4gdmVydGV4IHBvc2l0aW9ucy5cbiAqXG4gKiBAcGFyYW0ge0FycmF5LjxOdW1iZXI+fSB2ZXJ0ZXhQb3NpdGlvbnNcbiAqIEByZXR1cm5zIHtBcnJheS48TnVtYmVyPn1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGNhbGN1bGF0ZUxhdExvbmdUZXh0dXJlQ29vcmRpbmF0ZXModmVydGV4UG9zaXRpb25zKSB7XG4gIGNvbnN0IGN1cnJlbnRWZXJ0ZXhQb3NpdGlvbiA9IHZlYzMuY3JlYXRlKCk7XG4gIGNvbnN0IGN1cnJlbnRUZXh0dXJlQ29vcmRpbmF0ZXMgPSB2ZWMyLmNyZWF0ZSgpO1xuICBjb25zdCB0ZXh0dXJlQ29vcmRpbmF0ZXMgPSBbXTtcblxuICAvLyBDYWxjdWxhdGUgdGhlIHRleHR1cmUgY29vcmRpbmF0ZXMgb2YgZWFjaCB2ZXJ0ZXguXG4gIGZvciAobGV0IGkgPSAwLCBqID0gMCwgY291bnQgPSB2ZXJ0ZXhQb3NpdGlvbnMubGVuZ3RoOyBpIDwgY291bnQ7IGkgKz0gMywgaiArPSAyKSB7XG4gICAgdmVjMy5zZXQoY3VycmVudFZlcnRleFBvc2l0aW9uLFxuICAgICAgICB2ZXJ0ZXhQb3NpdGlvbnNbaV0sIHZlcnRleFBvc2l0aW9uc1tpICsgMV0sIHZlcnRleFBvc2l0aW9uc1tpICsgMl0pO1xuICAgIF9nZXRUZXh0dXJlQ29vcmRpbmF0ZXNPZkxhdExvbmdQb3NpdGlvbihjdXJyZW50VGV4dHVyZUNvb3JkaW5hdGVzLCBjdXJyZW50VmVydGV4UG9zaXRpb24pO1xuICAgIHRleHR1cmVDb29yZGluYXRlc1tqXSA9IGN1cnJlbnRUZXh0dXJlQ29vcmRpbmF0ZXNbMF07XG4gICAgdGV4dHVyZUNvb3JkaW5hdGVzW2ogKyAxXSA9IGN1cnJlbnRUZXh0dXJlQ29vcmRpbmF0ZXNbMV07XG4gIH1cblxuICBfY29ycmVjdFRleHR1cmVGb3JUcmlhbmdsZXNBcm91bmRTZWFtKHRleHR1cmVDb29yZGluYXRlcyk7XG5cbiAgcmV0dXJuIHRleHR1cmVDb29yZGluYXRlcztcbn1cblxuLyoqXG4gKiBDYWxjdWxhdGVzIGN5bGluZHJpY2FsIHRleHR1cmUgY29vcmRpbmF0ZXMgZm9yIHRoZSBnaXZlbiB2ZXJ0ZXggcG9zaXRpb25zLlxuICpcbiAqIFRoaXMgYXNzdW1lcyB0aGUgY3lsaW5kZXIgaXMgYWxpZ25lZCB3aXRoIHRoZSB6LWF4aXMgYW5kIGNlbnRlcmVkIGF0IHRoZSBvcmlnaW4uXG4gKlxuICogQHBhcmFtIHtBcnJheS48TnVtYmVyPn0gdmVydGV4UG9zaXRpb25zXG4gKiBAcmV0dXJucyB7QXJyYXkuPE51bWJlcj59XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBjYWxjdWxhdGVDeWxpbmRyaWNhbFRleHR1cmVDb29yZGluYXRlcyh2ZXJ0ZXhQb3NpdGlvbnMpIHtcbiAgY29uc3QgY3VycmVudFZlcnRleFBvc2l0aW9uID0gdmVjMy5jcmVhdGUoKTtcbiAgY29uc3QgY3VycmVudFRleHR1cmVDb29yZGluYXRlcyA9IHZlYzIuY3JlYXRlKCk7XG4gIGNvbnN0IHRleHR1cmVDb29yZGluYXRlcyA9IFtdO1xuXG4gIC8vIENhbGN1bGF0ZSB0aGUgdGV4dHVyZSBjb29yZGluYXRlcyBvZiBlYWNoIHZlcnRleC5cbiAgZm9yIChsZXQgaSA9IDAsIGogPSAwLCBjb3VudCA9IHZlcnRleFBvc2l0aW9ucy5sZW5ndGg7IGkgPCBjb3VudDsgaSArPSAzLCBqICs9IDIpIHtcbiAgICB2ZWMzLnNldChjdXJyZW50VmVydGV4UG9zaXRpb24sXG4gICAgICAgIHZlcnRleFBvc2l0aW9uc1tpXSwgdmVydGV4UG9zaXRpb25zW2kgKyAxXSwgdmVydGV4UG9zaXRpb25zW2kgKyAyXSk7XG4gICAgX2dldFRleHR1cmVDb29yZGluYXRlc09mQ3lsaW5kcmljYWxQb3NpdGlvbihjdXJyZW50VGV4dHVyZUNvb3JkaW5hdGVzLCBjdXJyZW50VmVydGV4UG9zaXRpb24pO1xuICAgIHRleHR1cmVDb29yZGluYXRlc1tqXSA9IGN1cnJlbnRUZXh0dXJlQ29vcmRpbmF0ZXNbMF07XG4gICAgdGV4dHVyZUNvb3JkaW5hdGVzW2ogKyAxXSA9IGN1cnJlbnRUZXh0dXJlQ29vcmRpbmF0ZXNbMV07XG4gIH1cblxuICBfY29ycmVjdFRleHR1cmVGb3JUcmlhbmdsZXNBcm91bmRTZWFtKHRleHR1cmVDb29yZGluYXRlcyk7XG5cbiAgcmV0dXJuIHRleHR1cmVDb29yZGluYXRlcztcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5LjxOdW1iZXI+fSB0ZXh0dXJlQ29vcmRpbmF0ZXNcbiAqL1xuZnVuY3Rpb24gX2NvcnJlY3RUZXh0dXJlRm9yVHJpYW5nbGVzQXJvdW5kU2VhbSh0ZXh0dXJlQ29vcmRpbmF0ZXMpIHtcbiAgbGV0IHYxO1xuICBsZXQgdjI7XG4gIGxldCB2MztcblxuICAvLyBEZXRlcm1pbmUgd2hpY2ggdHJpYW5nbGVzIHNwYW4gdGhlIHNlYW0gYWNyb3NzIDAvMlBJLCBhbmQgY29ycmVjdCB0aGVpciB0ZXh0dXJlcy5cbiAgZm9yIChsZXQgaSA9IDAsIGNvdW50ID0gdGV4dHVyZUNvb3JkaW5hdGVzLmxlbmd0aDsgaSA8IGNvdW50OyBpICs9IDYpIHtcbiAgICB2MSA9IHRleHR1cmVDb29yZGluYXRlc1tpXTtcbiAgICB2MiA9IHRleHR1cmVDb29yZGluYXRlc1tpICsgMl07XG4gICAgdjMgPSB0ZXh0dXJlQ29vcmRpbmF0ZXNbaSArIDRdO1xuXG4gICAgaWYgKHYzIC0gdjEgPiBNQVhfVEVYVFVSRV9WX0NPT1JESU5BVEVfREVMVEEgfHwgdjIgLSB2MSA+IE1BWF9URVhUVVJFX1ZfQ09PUkRJTkFURV9ERUxUQSkge1xuICAgICAgdGV4dHVyZUNvb3JkaW5hdGVzW2ldKys7XG4gICAgfVxuICAgIGlmICh2MyAtIHYyID4gTUFYX1RFWFRVUkVfVl9DT09SRElOQVRFX0RFTFRBIHx8IHYxIC0gdjIgPiBNQVhfVEVYVFVSRV9WX0NPT1JESU5BVEVfREVMVEEpIHtcbiAgICAgIHRleHR1cmVDb29yZGluYXRlc1tpICsgMl0rKztcbiAgICB9XG4gICAgaWYgKHYyIC0gdjMgPiBNQVhfVEVYVFVSRV9WX0NPT1JESU5BVEVfREVMVEEgfHwgdjEgLSB2MyA+IE1BWF9URVhUVVJFX1ZfQ09PUkRJTkFURV9ERUxUQSkge1xuICAgICAgdGV4dHVyZUNvb3JkaW5hdGVzW2kgKyA0XSsrO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgdGV4dHVyZSBjb29yZGluYXRlcyBmb3IgYSBub3JtYWxpemVkIHBvaW50IG9uIGEgZ2xvYmUuXG4gKlxuICogQHBhcmFtIHt2ZWMyfSB0ZXh0dXJlQ29vcmRpbmF0ZXMgT3V0cHV0IHBhcmFtZXRlci5cbiAqIEBwYXJhbSB7dmVjM30gdmVydGV4UG9zaXRpb24gSW5wdXQgcGFyYW1ldGVyLlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX2dldFRleHR1cmVDb29yZGluYXRlc09mTGF0TG9uZ1Bvc2l0aW9uKHRleHR1cmVDb29yZGluYXRlcywgdmVydGV4UG9zaXRpb24pIHtcbiAgY29uc3QgeCA9IHZlcnRleFBvc2l0aW9uWzBdO1xuICBjb25zdCB5ID0gdmVydGV4UG9zaXRpb25bMV07XG4gIGNvbnN0IHogPSB2ZXJ0ZXhQb3NpdGlvblsyXTtcblxuICBsZXQgbG9uZ2l0dWRlO1xuICBpZiAoeSAhPT0gMCkge1xuICAgIGxvbmdpdHVkZSA9IE1hdGguYXRhbjIoeCwgeSk7XG4gIH0gZWxzZSBpZiAoeCA+IDApIHtcbiAgICBsb25naXR1ZGUgPSBIQUxGX1BJO1xuICB9IGVsc2Uge1xuICAgIGxvbmdpdHVkZSA9IC1IQUxGX1BJO1xuICB9XG5cbiAgY29uc3QgdSA9IChsb25naXR1ZGUgKyBNYXRoLlBJKSAvIFRXT19QSTtcblxuICAvLyBUT0RPOiBTaG91bGQgSSBpbnN0ZWFkIGJlIGNhbGN1bGF0aW5nIHRoZSB2IHZhbHVlIGZyb20gd3JhcHBpbmcgdGhlIHRleHR1cmUgYXJvdW5kIHRoZSBnbG9iZVxuICAvLyBjdXJ2YXR1cmUgcmF0aGVyIHRoYW4gc2ltcGx5IHByb2plY3RpbmcgaXQgZGlyZWN0bHk/XG5cbiAgLy8gVGhpcyBhc3N1bWVzIHRoYXQgdGhlIHRleHR1cmUgaGFzIGJlZW4gdmVydGljYWxseSBkaXN0b3J0ZWQgc28gdGhhdCBpdCBjYW4gYmUgZGlyZWN0bHlcbiAgLy8gcHJvamVjdGVkIG9udG8gdGhlIGN1cnZhdHVyZSBvZiB0aGUgZ2xvYmUuXG4gIGNvbnN0IHYgPSAoeiArIDEpICogMC41O1xuXG4gIHRleHR1cmVDb29yZGluYXRlc1swXSA9IHU7XG4gIHRleHR1cmVDb29yZGluYXRlc1sxXSA9IHY7XG59XG5cbi8qKlxuICogQ2FsY3VsYXRlIHRoZSB0ZXh0dXJlIGNvb3JkaW5hdGVzIGZvciBhIG5vcm1hbGl6ZWQgcG9pbnQgb24gYSBjeWxpbmRlci5cbiAqXG4gKiBUaGlzIGFzc3VtZXMgdGhlIGN5bGluZGVyIGlzIGFsaWduZWQgd2l0aCB0aGUgei1heGlzIGFuZCBjZW50ZXJlZCBhdCB0aGUgb3JpZ2luLlxuICpcbiAqIEBwYXJhbSB7dmVjMn0gdGV4dHVyZUNvb3JkaW5hdGVzIE91dHB1dCBwYXJhbWV0ZXIuXG4gKiBAcGFyYW0ge3ZlYzN9IHZlcnRleFBvc2l0aW9uIElucHV0IHBhcmFtZXRlci5cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIF9nZXRUZXh0dXJlQ29vcmRpbmF0ZXNPZkN5bGluZHJpY2FsUG9zaXRpb24odGV4dHVyZUNvb3JkaW5hdGVzLCB2ZXJ0ZXhQb3NpdGlvbikge1xuICBjb25zdCB4ID0gdmVydGV4UG9zaXRpb25bMF07XG4gIGNvbnN0IHkgPSB2ZXJ0ZXhQb3NpdGlvblsxXTtcbiAgY29uc3QgeiA9IHZlcnRleFBvc2l0aW9uWzJdO1xuXG4gIGxldCBsb25naXR1ZGU7XG4gIGlmICh5ICE9PSAwKSB7XG4gICAgbG9uZ2l0dWRlID0gTWF0aC5hdGFuMih4LCB5KTtcbiAgfSBlbHNlIGlmICh4ID4gMCkge1xuICAgIGxvbmdpdHVkZSA9IEhBTEZfUEk7XG4gIH0gZWxzZSB7XG4gICAgbG9uZ2l0dWRlID0gLUhBTEZfUEk7XG4gIH1cblxuICBjb25zdCB1ID0gKGxvbmdpdHVkZSArIE1hdGguUEkpIC8gVFdPX1BJO1xuXG4gIGNvbnN0IHYgPSB6ID4gMCA/IDEgOiAwO1xuXG4gIHRleHR1cmVDb29yZGluYXRlc1swXSA9IHU7XG4gIHRleHR1cmVDb29yZGluYXRlc1sxXSA9IHY7XG59XG5cbi8qKlxuICogRXhwYW5kcyB0aGUgZ2l2ZW4gdmVydGljZXMgYXJvdW5kIHRoZSBzZWFtIHdoZXJlIGxvbmdpdHVkZSBzd2l0Y2hlcyBmcm9tIDAgdG8gMlBJLlxuICpcbiAqIFRoaXMgaXMgdXNlZnVsIGJlY2F1c2UsIHdoZW4gYXBwbHlpbmcgYSBzcGhlcmljYWwgdGV4dHVyZSB1c2luZyBsYXQtbG9uZyBjb29yZGluYXRlcywgYW55XG4gKiB0cmlhbmdsZSB0aGF0IHNwYW5zIHRoZSBzZWFtIChmcm9tIGxvbmdpdHVkZSAyUEkgdG8gMCkgd291bGQgb3RoZXJ3aXNlIHNob3cgdGhlIHdyb25nIHJlc3VsdC5cbiAqXG4gKiBAcGFyYW0ge0FycmF5LjxOdW1iZXI+fSBvbGRWZXJ0ZXhQb3NpdGlvbnNcbiAqIEBwYXJhbSB7QXJyYXkuPE51bWJlcj59IG9sZFZlcnRleEluZGljZXNcbiAqIEByZXR1cm5zIHt7dmVydGV4UG9zaXRpb25zOiBBcnJheS48TnVtYmVyPiwgdmVydGV4SW5kaWNlczogQXJyYXkuPE51bWJlcj59fVxuICovXG5mdW5jdGlvbiBleHBhbmRWZXJ0ZXhJbmRpY2VzQXJvdW5kTG9uZ2l0dWRlU2VhbShvbGRWZXJ0ZXhQb3NpdGlvbnMsIG9sZFZlcnRleEluZGljZXMpIHtcbiAgLy8gY29uc3QgbmV3VmVydGV4UG9zaXRpb25zID0gW107XG4gIC8vIGNvbnN0IG5ld1ZlcnRleEluZGljZXMgPSBbXTtcbiAgLy9cbiAgLy8gKioqKlxuICAvLyAvLyBUT0RPOiBsb29wIG92ZXIgdHJpYW5nbGVzLCB1c2UgX2dldFRleHR1cmVDb29yZGluYXRlc09mTGF0TG9uZ1Bvc2l0aW9uIG9uIGVhY2ggdmVydGV4LFxuICAvLyAvLyBjaGVjayBpZiB0d28gdmVydGljZXMgaW4gYSB0cmlhbmdsZSBzcGFuIHRoZSBzZWFtOyB0byBjaGVjayB0aGUgc3BhbiwganVzdCBjaGVjayBpZiBib3RoIGFyZVxuICAvLyAvLyB3aXRoaW4gYSBkaXN0YW5jZSBmcm9tIHRoZSBzZWFtLCBidXQgb24gb3Bwb3NpdGUgZW5kcztcbiAgLy9cbiAgLy8gcmV0dXJuIHtcbiAgLy8gICB2ZXJ0ZXhQb3NpdGlvbnM6IG5ld1ZlcnRleFBvc2l0aW9ucyxcbiAgLy8gICB2ZXJ0ZXhJbmRpY2VzOiBuZXdWZXJ0ZXhJbmRpY2VzXG4gIC8vIH07XG5cbiAgcmV0dXJuIHtcbiAgICB2ZXJ0ZXhQb3NpdGlvbnM6IG9sZFZlcnRleFBvc2l0aW9ucyxcbiAgICB2ZXJ0ZXhJbmRpY2VzOiBvbGRWZXJ0ZXhJbmRpY2VzXG4gIH07XG59XG5cbi8qKlxuICogU3ViZGl2aWRlcyB0aGUgdHJpYW5nbGVzIG9mIGEgc2hhcGUgYW5kIHByb2plY3RzIGFsbCByZXN1bHRpbmcgdmVydGljZXMgdG8gYSByYWRpdXMgb2Ygb25lLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBkaXZpc2lvbkZhY3RvclxuICogQHBhcmFtIHtBcnJheS48TnVtYmVyPn0gb2xkUG9zaXRpb25zXG4gKiBAcGFyYW0ge0FycmF5LjxOdW1iZXI+fSBbb2xkSW5kaWNlc11cbiAqIEByZXR1cm5zIHt7dmVydGV4UG9zaXRpb25zOiBBcnJheS48TnVtYmVyPiwgdmVydGV4SW5kaWNlczogQXJyYXkuPE51bWJlcj59fVxuICovXG5mdW5jdGlvbiB0ZXNzZWxhdGVTcGhlcmUoZGl2aXNpb25GYWN0b3IsIG9sZFBvc2l0aW9ucywgb2xkSW5kaWNlcykge1xuICBjb25zdCBuZXdQb3NpdGlvbnMgPSBfZXhwYW5kQW5kVGVzc2VsYXRlVHJpYW5nbGVzKGRpdmlzaW9uRmFjdG9yLCBvbGRQb3NpdGlvbnMsIG9sZEluZGljZXMpO1xuXG4gIC8vIENvbnZlcnQgdGhlIGV4cGFuZGVkIHBvc2l0aW9ucyBhcnJheSBpbnRvIGEgdW5pcXVlIHBvc2l0aW9ucyBhcnJheSB3aXRoIGEgY29ycmVzcG9uZGluZyBpbmRpY2VzXG4gIC8vIGFycmF5LlxuICBjb25zdCBwb3NpdGlvbnNBbmRJbmRpY2VzID0gZGVkdXBWZXJ0ZXhBcnJheVdpdGhQb3NpdGlvbnNBbmRJbmRpY2VzQXJyYXlzKG5ld1Bvc2l0aW9ucyk7XG5cbiAgLy8gUHJvamVjdCB0aGUgZ2l2ZW4gcG9zaXRpb25zIHRvIGEgZGlzdGFuY2Ugb2Ygb25lLlxuICBfbm9ybWFsaXplUG9zaXRpb25zKHBvc2l0aW9uc0FuZEluZGljZXMudmVydGV4UG9zaXRpb25zLCBwb3NpdGlvbnNBbmRJbmRpY2VzLnZlcnRleFBvc2l0aW9ucyk7XG5cbiAgcmV0dXJuIHBvc2l0aW9uc0FuZEluZGljZXM7XG59XG5cbi8qKlxuICogU3ViZGl2aWRlcyB0cmlhbmdsZXMuXG4gKlxuICogVGhpcyBoYXMgdGhlIHNpZGUtZWZmZWN0IG9mIGZsYXR0ZW5pbmcgdGhlIGdpdmVuIHZlcnRpY2VzIGludG8gYW4gZXhwYW5kZWQgbGlzdCB0aGF0IGNhbiBjb250YWluXG4gKiBkdXBsaWNhdGUgcG9zaXRpb25zLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBkaXZpc2lvbkZhY3RvclxuICogQHBhcmFtIHtBcnJheS48TnVtYmVyPn0gb2xkUG9zaXRpb25zXG4gKiBAcGFyYW0ge0FycmF5LjxOdW1iZXI+fSBbb2xkSW5kaWNlc11cbiAqIEByZXR1cm5zIHtBcnJheS48TnVtYmVyPn1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIF9leHBhbmRBbmRUZXNzZWxhdGVUcmlhbmdsZXMoZGl2aXNpb25GYWN0b3IsIG9sZFBvc2l0aW9ucywgb2xkSW5kaWNlcykge1xuICBjb25zdCBleHBhbmRlZE9sZFBvc2l0aW9ucyA9IG9sZEluZGljZXNcbiAgICAgID8gZXhwYW5kVmVydGV4SW5kaWNlc1RvRHVwbGljYXRlUG9zaXRpb25zKG9sZFBvc2l0aW9ucywgb2xkSW5kaWNlcylcbiAgICAgIDogb2xkUG9zaXRpb25zO1xuXG4gIGNvbnN0IG5ld1Bvc2l0aW9ucyA9IFtdO1xuICBjb25zdCBhID0gdmVjMy5jcmVhdGUoKTtcbiAgY29uc3QgYiA9IHZlYzMuY3JlYXRlKCk7XG4gIGNvbnN0IGMgPSB2ZWMzLmNyZWF0ZSgpO1xuICBjb25zdCBhVG9CID0gdmVjMy5jcmVhdGUoKTtcbiAgY29uc3QgYVRvQyA9IHZlYzMuY3JlYXRlKCk7XG4gIGNvbnN0IGJUb0MgPSB2ZWMzLmNyZWF0ZSgpO1xuICBjb25zdCByb3dEZWx0YSA9IHZlYzMuY3JlYXRlKCk7XG4gIGNvbnN0IGNvbHVtbkRlbHRhID0gdmVjMy5jcmVhdGUoKTtcbiAgY29uc3QgYmFja3dhcmRzRGVsdGEgPSB2ZWMzLmNyZWF0ZSgpO1xuICBjb25zdCByb3dTdGFydFBvaW50ID0gdmVjMy5jcmVhdGUoKTtcbiAgY29uc3Qgcm93Q29sdW1uU3RhcnRQb2ludCA9IHZlYzMuY3JlYXRlKCk7XG4gIGNvbnN0IHRlbXBWZWMgPSB2ZWMzLmNyZWF0ZSgpO1xuXG4gIGxldCBvbGRJbmRleDtcbiAgbGV0IGNvdW50O1xuICBsZXQgbmV3SW5kZXg7XG4gIGxldCByb3dJbmRleDtcbiAgbGV0IGNvbHVtbkluZGV4O1xuXG4gIC8vXG4gIC8vIFRoZSBiYXNpYyB0ZXNzZWxhdGlvbiBhbGdvcml0aG06XG4gIC8vIC0gSXRlcmF0ZSBhY3Jvc3MgdGhlIG9yaWdpbmFsIHRyaWFuZ2xlcyB0aGF0IHdlIGFyZSBzdWItZGl2aWRpbmcuXG4gIC8vIC0gQSwgQiwgYW5kIEMgYXJlIHRoZSB2ZXJ0aWNlcyBvZiB0aGUgY3VycmVudCwgb3JpZ2luYWwgdHJpYW5nbGUuXG4gIC8vIC0gQ29uc2lkZXIgXCJyb3dzXCIgdG8gaXRlcmF0ZSBhY3Jvc3MgdGhlIGEtdG8tYiBkaXJlY3Rpb24gYW5kIFwiY29sdW1uc1wiIHRvIGl0ZXJhdGUgYWNyb3NzIHRoZVxuICAvLyAgIGEtdG8tYyBkaXJlY3Rpb24uXG4gIC8vIC0gRmlyc3QgY2FsY3VsYXRlIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIG9uZSByb3cgYW5kIG9uZSBjb2x1bW4uXG4gIC8vIC0gVGhlbiBsb29wIG92ZXIgdGhlIHJvd3MgYW5kIGNvbHVtbnMgYW5kIGNyZWF0ZSBhIHRoZSBuZXcgdHJpYW5nbGUgZm9yIGVhY2ggXCJjZWxsXCIuXG4gIC8vXG4gIC8vICAgICAgICAgICAgICAgICAgIC9cXFxuICAvLyAgICAgICAgICAgICAgICAgQiAgIFxcLS0tIEEgXCJjb2x1bW5cIlxuICAvLyAgICAgICAgICAgICAgICAgbyAgICBcXFxuICAvLyAgICAgICAgICAgICAgICAvIFxcICAgL1xuICAvLyAgICAgICAgICAgICAgIC8gICBcXCAgICAgICAgICAgICByb3dEZWx0YTogICAgICBjb2x1bW5EZWx0YTogICAgIGJhY2t3YXJkc0RlbHRhOlxuICAvLyAgICAgICAgICAgICAgby0tLS0tbyAgICAgICAgICAgICAgICAgbyAgICAgICAgICAgICBvXG4gIC8vICAgICAgICAgICAgIC8gXFwgICAvIFxcICAgICAgICAgICAgICAgLyAgICAgICAgICAgICAgIFxcICAgICAgICAgICAgICBvLS0tLS1vXG4gIC8vICAgICAgICAgICAgLyAgIFxcIC8gICBcXCAgICAgICAgICAgICAvICAgICAgICAgICAgICAgICBcXFxuICAvLyAgICAgICAgICAgby0tLS0tby0tLS0tbyAgICAgICAgICAgbyAgICAgICAgICAgICAgICAgICBvXG4gIC8vICAgICAgICAgIC8gXFwgICAvIFxcICAgLyBcXFxuICAvLyAgICAgICAgIC8gICBcXCAvICAgXFwgLyAgIFxcXG4gIC8vICAgICAgICBvLS0tLS1vLS0tLS1vLS0tLS1vXG4gIC8vICAgICAgIC8gXFwgICAvIFxcICAgLyBcXCAgIC8gXFxcbiAgLy8gICAgICAvICAgXFwgLyAgIFxcIC8gICBcXCAvICAgXFxcbiAgLy8gIEEgIG8tLS0tLW8tLS0tLW8tLS0tLW8tLS0tLW8gIENcbiAgLy9cbiAgLy8gICAgICAgXFxfX19fX1xcXG4gIC8vICAgICAgICAgICBcXFxuICAvLyAgICAgICAgIEEgXCJyb3dcIlxuICAvL1xuXG4gIC8vIExvb3Agb3ZlciB0aGUgb2xkIHRyaWFuZ2xlcy5cbiAgZm9yIChvbGRJbmRleCA9IDAsIG5ld0luZGV4ID0gMCwgY291bnQgPSBleHBhbmRlZE9sZFBvc2l0aW9ucy5sZW5ndGg7XG4gICAgICAgb2xkSW5kZXggPCBjb3VudDtcbiAgICAgICBvbGRJbmRleCArPSA5KSB7XG4gICAgLy8gUHVsbCBvdXQgdGhlIHRocmVlIHZlcnRpY2VzIG9mIHRoZSBjdXJyZW50IHRyaWFuZ2xlLlxuICAgIHZlYzMuc2V0KGEsXG4gICAgICAgIGV4cGFuZGVkT2xkUG9zaXRpb25zW29sZEluZGV4XSxcbiAgICAgICAgZXhwYW5kZWRPbGRQb3NpdGlvbnNbb2xkSW5kZXggKyAxXSxcbiAgICAgICAgZXhwYW5kZWRPbGRQb3NpdGlvbnNbb2xkSW5kZXggKyAyXSk7XG4gICAgdmVjMy5zZXQoYixcbiAgICAgICAgZXhwYW5kZWRPbGRQb3NpdGlvbnNbb2xkSW5kZXggKyAzXSxcbiAgICAgICAgZXhwYW5kZWRPbGRQb3NpdGlvbnNbb2xkSW5kZXggKyA0XSxcbiAgICAgICAgZXhwYW5kZWRPbGRQb3NpdGlvbnNbb2xkSW5kZXggKyA1XSk7XG4gICAgdmVjMy5zZXQoYyxcbiAgICAgICAgZXhwYW5kZWRPbGRQb3NpdGlvbnNbb2xkSW5kZXggKyA2XSxcbiAgICAgICAgZXhwYW5kZWRPbGRQb3NpdGlvbnNbb2xkSW5kZXggKyA3XSxcbiAgICAgICAgZXhwYW5kZWRPbGRQb3NpdGlvbnNbb2xkSW5kZXggKyA4XSk7XG5cbiAgICB2ZWMzLnN1YnRyYWN0KGFUb0IsIGIsIGEpO1xuICAgIHZlYzMuc3VidHJhY3QoYlRvQywgYywgYik7XG4gICAgdmVjMy5zdWJ0cmFjdChhVG9DLCBjLCBhKTtcblxuICAgIHZlYzMuc2NhbGUocm93RGVsdGEsIGFUb0IsIDEgLyBkaXZpc2lvbkZhY3Rvcik7XG4gICAgdmVjMy5zY2FsZShjb2x1bW5EZWx0YSwgYlRvQywgMSAvIGRpdmlzaW9uRmFjdG9yKTtcbiAgICB2ZWMzLnNjYWxlKGJhY2t3YXJkc0RlbHRhLCBhVG9DLCAxIC8gZGl2aXNpb25GYWN0b3IpO1xuXG4gICAgLy8gTG9vcCBvdmVyIGVhY2ggbmV3IGRpdmlzaW9uIChyb3cpIGZvciB0aGUgY3VycmVudCB0cmlhbmdsZS5cbiAgICBmb3IgKHJvd0luZGV4ID0gMDsgcm93SW5kZXggPCBkaXZpc2lvbkZhY3Rvcjsgcm93SW5kZXgrKykge1xuICAgICAgdmVjMy5zY2FsZUFuZEFkZChyb3dTdGFydFBvaW50LCBhLCByb3dEZWx0YSwgcm93SW5kZXgpO1xuXG4gICAgICAvLyBDcmVhdGUgdGhlIGZpcnN0IHRyaWFuZ2xlIGluIHRoZSByb3cgKGFkZHJlc3MgdGhlIGZlbmNlLXBvc3QgcHJvYmxlbSkuXG4gICAgICBuZXdQb3NpdGlvbnNbbmV3SW5kZXgrK10gPSByb3dTdGFydFBvaW50WzBdO1xuICAgICAgbmV3UG9zaXRpb25zW25ld0luZGV4KytdID0gcm93U3RhcnRQb2ludFsxXTtcbiAgICAgIG5ld1Bvc2l0aW9uc1tuZXdJbmRleCsrXSA9IHJvd1N0YXJ0UG9pbnRbMl07XG4gICAgICB2ZWMzLmFkZCh0ZW1wVmVjLCByb3dTdGFydFBvaW50LCByb3dEZWx0YSk7XG4gICAgICBuZXdQb3NpdGlvbnNbbmV3SW5kZXgrK10gPSB0ZW1wVmVjWzBdO1xuICAgICAgbmV3UG9zaXRpb25zW25ld0luZGV4KytdID0gdGVtcFZlY1sxXTtcbiAgICAgIG5ld1Bvc2l0aW9uc1tuZXdJbmRleCsrXSA9IHRlbXBWZWNbMl07XG4gICAgICB2ZWMzLmFkZCh0ZW1wVmVjLCByb3dTdGFydFBvaW50LCBiYWNrd2FyZHNEZWx0YSk7XG4gICAgICBuZXdQb3NpdGlvbnNbbmV3SW5kZXgrK10gPSB0ZW1wVmVjWzBdO1xuICAgICAgbmV3UG9zaXRpb25zW25ld0luZGV4KytdID0gdGVtcFZlY1sxXTtcbiAgICAgIG5ld1Bvc2l0aW9uc1tuZXdJbmRleCsrXSA9IHRlbXBWZWNbMl07XG5cbiAgICAgIC8vIExvb3Agb3ZlciB0aGUgbmV3IHRyaWFuZ2xlcyBpbiB0aGUgY3VycmVudCBkaXZpc2lvbi5cbiAgICAgIGZvciAoY29sdW1uSW5kZXggPSAxOyBjb2x1bW5JbmRleCA8PSByb3dJbmRleDsgY29sdW1uSW5kZXgrKykge1xuICAgICAgICB2ZWMzLnNjYWxlQW5kQWRkKHJvd0NvbHVtblN0YXJ0UG9pbnQsIHJvd1N0YXJ0UG9pbnQsIGNvbHVtbkRlbHRhLCBjb2x1bW5JbmRleCk7XG5cbiAgICAgICAgbmV3UG9zaXRpb25zW25ld0luZGV4KytdID0gcm93Q29sdW1uU3RhcnRQb2ludFswXTtcbiAgICAgICAgbmV3UG9zaXRpb25zW25ld0luZGV4KytdID0gcm93Q29sdW1uU3RhcnRQb2ludFsxXTtcbiAgICAgICAgbmV3UG9zaXRpb25zW25ld0luZGV4KytdID0gcm93Q29sdW1uU3RhcnRQb2ludFsyXTtcbiAgICAgICAgdmVjMy5zdWJ0cmFjdCh0ZW1wVmVjLCByb3dDb2x1bW5TdGFydFBvaW50LCBjb2x1bW5EZWx0YSk7XG4gICAgICAgIG5ld1Bvc2l0aW9uc1tuZXdJbmRleCsrXSA9IHRlbXBWZWNbMF07XG4gICAgICAgIG5ld1Bvc2l0aW9uc1tuZXdJbmRleCsrXSA9IHRlbXBWZWNbMV07XG4gICAgICAgIG5ld1Bvc2l0aW9uc1tuZXdJbmRleCsrXSA9IHRlbXBWZWNbMl07XG4gICAgICAgIHZlYzMuYWRkKHRlbXBWZWMsIHJvd0NvbHVtblN0YXJ0UG9pbnQsIHJvd0RlbHRhKTtcbiAgICAgICAgbmV3UG9zaXRpb25zW25ld0luZGV4KytdID0gdGVtcFZlY1swXTtcbiAgICAgICAgbmV3UG9zaXRpb25zW25ld0luZGV4KytdID0gdGVtcFZlY1sxXTtcbiAgICAgICAgbmV3UG9zaXRpb25zW25ld0luZGV4KytdID0gdGVtcFZlY1syXTtcblxuICAgICAgICBuZXdQb3NpdGlvbnNbbmV3SW5kZXgrK10gPSByb3dDb2x1bW5TdGFydFBvaW50WzBdO1xuICAgICAgICBuZXdQb3NpdGlvbnNbbmV3SW5kZXgrK10gPSByb3dDb2x1bW5TdGFydFBvaW50WzFdO1xuICAgICAgICBuZXdQb3NpdGlvbnNbbmV3SW5kZXgrK10gPSByb3dDb2x1bW5TdGFydFBvaW50WzJdO1xuICAgICAgICB2ZWMzLmFkZCh0ZW1wVmVjLCByb3dDb2x1bW5TdGFydFBvaW50LCByb3dEZWx0YSk7XG4gICAgICAgIG5ld1Bvc2l0aW9uc1tuZXdJbmRleCsrXSA9IHRlbXBWZWNbMF07XG4gICAgICAgIG5ld1Bvc2l0aW9uc1tuZXdJbmRleCsrXSA9IHRlbXBWZWNbMV07XG4gICAgICAgIG5ld1Bvc2l0aW9uc1tuZXdJbmRleCsrXSA9IHRlbXBWZWNbMl07XG4gICAgICAgIHZlYzMuYWRkKHRlbXBWZWMsIHJvd0NvbHVtblN0YXJ0UG9pbnQsIGJhY2t3YXJkc0RlbHRhKTtcbiAgICAgICAgbmV3UG9zaXRpb25zW25ld0luZGV4KytdID0gdGVtcFZlY1swXTtcbiAgICAgICAgbmV3UG9zaXRpb25zW25ld0luZGV4KytdID0gdGVtcFZlY1sxXTtcbiAgICAgICAgbmV3UG9zaXRpb25zW25ld0luZGV4KytdID0gdGVtcFZlY1syXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmV3UG9zaXRpb25zO1xufVxuXG4vKipcbiAqIFByb2plY3RzIHRoZSBnaXZlbiBwb3NpdGlvbnMgdG8gYSBkaXN0YW5jZSBvZiBvbmUuXG4gKlxuICogQHBhcmFtIHtBcnJheS48TnVtYmVyPn0gb3V0XG4gKiBAcGFyYW0ge0FycmF5LjxOdW1iZXI+fSBwb3NpdGlvbnNcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIF9ub3JtYWxpemVQb3NpdGlvbnMob3V0LCBwb3NpdGlvbnMpIHtcbiAgY29uc3QgdGVtcFZlYyA9IHZlYzMuY3JlYXRlKCk7XG5cbiAgZm9yIChsZXQgaSA9IDAsIGNvdW50ID0gcG9zaXRpb25zLmxlbmd0aDsgaSA8IGNvdW50OyBpICs9IDMpIHtcbiAgICB2ZWMzLnNldCh0ZW1wVmVjLCBwb3NpdGlvbnNbaV0sIHBvc2l0aW9uc1tpICsgMV0sIHBvc2l0aW9uc1tpICsgMl0pO1xuXG4gICAgdmVjMy5ub3JtYWxpemUodGVtcFZlYywgdGVtcFZlYyk7XG5cbiAgICBvdXRbaV0gPSB0ZW1wVmVjWzBdO1xuICAgIG91dFtpICsgMV0gPSB0ZW1wVmVjWzFdO1xuICAgIG91dFtpICsgMl0gPSB0ZW1wVmVjWzJdO1xuICB9XG59XG5cbi8qKlxuICogR2l2ZW4gYSBjb2xsZWN0aW9uIG9mIHZlcnRpY2VzIHRoYXQgcG9zc2libHkgY29udGFpbnMgZHVwbGljYXRlcywgY3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgdW5pcXVlXG4gKiB2ZXJ0ZXggcG9zaXRpb25zIGFuZCBhbiBhcnJheSBvZiB0aGUgaW5kaWNlcyBvZiB0aGUgb3JpZ2luYWwsIGR1cGxpY2F0ZWQgdmVydGljZXMgaW4gdGhlIHVuaXF1ZVxuICogYXJyYXkuXG4gKlxuICogVGhpcyBpcyB1c2VmdWwgZm9yIHJlbmRlcmluZyB1c2luZyBnbC5kcmF3RWxlbWVudHMgKHdpdGggZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIpIGluc3RlYWQgb2ZcbiAqIGdsLmRyYXdBcnJheXMuXG4gKlxuICogTk9URTogQWx0aG91Z2ggdGhpcyBmdW5jdGlvbiBkb2VzIHBhcnRpYWxseSBhZGRyZXNzIGZsb2F0aW5nLXBvaW50IHJvdW5kLW9mZiBlcnJvcnMgd2l0aGluIHRoZVxuICogZ2l2ZW4gcG9zaXRpb25zLCBpdCBkb2VzIG5vdCBndWFyYW50ZWUgY29ycmVjdG5lc3MuXG4gKlxuICogQHBhcmFtIHtBcnJheS48TnVtYmVyPn0gb2xkVmVydGV4UG9zaXRpb25zXG4gKiBAcmV0dXJucyB7e3ZlcnRleFBvc2l0aW9uczogQXJyYXkuPE51bWJlcj4sIHZlcnRleEluZGljZXM6IEFycmF5LjxOdW1iZXI+fX1cbiAqL1xuZnVuY3Rpb24gZGVkdXBWZXJ0ZXhBcnJheVdpdGhQb3NpdGlvbnNBbmRJbmRpY2VzQXJyYXlzKG9sZFZlcnRleFBvc2l0aW9ucykge1xuICBjb25zdCB2ZXJ0ZXhQb3NpdGlvbnMgPSBbXTtcbiAgY29uc3QgdmVydGV4SW5kaWNlcyA9IFtdO1xuXG4gIGNvbnN0IHZlcnRleFRvSW5kZXhNYXAgPSBuZXcgSGFzaE1hcChfdmVydGV4SGFzaEZ1bmN0aW9uKTtcbiAgY29uc3QgdmVydGV4ID0gdmVjMy5jcmVhdGUoKTtcbiAgbGV0IG9sZENvb3JkaW5hdGVJbmRleDtcbiAgbGV0IG9sZENvb3JkaW5hdGVDb3VudDtcbiAgbGV0IG5ld1ZlcnRleEluZGV4O1xuXG4gIC8vIExvb3Agb3ZlciB0aGUgb3JpZ2luYWwsIGR1cGxpY2F0ZWQgdmVydGV4IHBvc2l0aW9ucy5cbiAgZm9yIChvbGRDb29yZGluYXRlSW5kZXggPSAwLCBvbGRDb29yZGluYXRlQ291bnQgPSBvbGRWZXJ0ZXhQb3NpdGlvbnMubGVuZ3RoO1xuICAgICAgIG9sZENvb3JkaW5hdGVJbmRleCA8IG9sZENvb3JkaW5hdGVDb3VudDtcbiAgICAgICBvbGRDb29yZGluYXRlSW5kZXggKz0gMykge1xuICAgIHZlYzMuc2V0KHZlcnRleCxcbiAgICAgICAgb2xkVmVydGV4UG9zaXRpb25zW29sZENvb3JkaW5hdGVJbmRleF0sXG4gICAgICAgIG9sZFZlcnRleFBvc2l0aW9uc1tvbGRDb29yZGluYXRlSW5kZXggKyAxXSxcbiAgICAgICAgb2xkVmVydGV4UG9zaXRpb25zW29sZENvb3JkaW5hdGVJbmRleCArIDJdKTtcblxuICAgIC8vIEhhcyB0aGlzIHBvc2l0aW9uIGFscmVhZHkgYmVlbiByZWNvcmRlZD9cbiAgICBpZiAoIXZlcnRleFRvSW5kZXhNYXAuaGFzKHZlcnRleCkpIHtcbiAgICAgIC8vIFJlY29yZCB0aGUgaW5kZXggb2YgdGhlIHVuaXF1ZSB2ZXJ0ZXggcG9zaXRpb24uXG4gICAgICBuZXdWZXJ0ZXhJbmRleCA9IHZlcnRleFBvc2l0aW9ucy5sZW5ndGggLyAzO1xuICAgICAgdmVydGV4VG9JbmRleE1hcC5zZXQodmVydGV4LCBuZXdWZXJ0ZXhJbmRleCk7XG5cbiAgICAgIC8vIFJlY29yZCB0aGUgdW5pcXVlIHZlcnRleCBwb3NpdGlvbi5cbiAgICAgIHZlcnRleFBvc2l0aW9ucy5wdXNoKHZlcnRleFswXSk7XG4gICAgICB2ZXJ0ZXhQb3NpdGlvbnMucHVzaCh2ZXJ0ZXhbMV0pO1xuICAgICAgdmVydGV4UG9zaXRpb25zLnB1c2godmVydGV4WzJdKTtcbiAgICB9XG5cbiAgICBuZXdWZXJ0ZXhJbmRleCA9IHZlcnRleFRvSW5kZXhNYXAuZ2V0KHZlcnRleCk7XG5cbiAgICAvLyBSZWNvcmQgdGhlIGluZGV4IG9mIHRoZSB1bmlxdWUgcG9zaXRpb24uXG4gICAgdmVydGV4SW5kaWNlcy5wdXNoKG5ld1ZlcnRleEluZGV4KTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgdmVydGV4UG9zaXRpb25zOiB2ZXJ0ZXhQb3NpdGlvbnMsXG4gICAgdmVydGV4SW5kaWNlczogdmVydGV4SW5kaWNlc1xuICB9O1xufVxuXG5jb25zdCBfVkVSVEVYX0NPT1JESU5BVEVfQlVDS0VUX1NJWkVfRElHSVRTID0gNDtcblxuLy8gVGhpcyBvZmZzZXQgaXMgaW1wb3J0YW50IGZvciBwcmV2ZW50aW5nIGJ1Y2tldC1hbGlnbmVkIG51bWJlcnMgZnJvbSBiZWluZyBwbGFjZWQgaW4gaW5jb25zaXN0ZW50XG4vLyBidWNrZXRzLiBGb3IgZXhhbXBsZSwgd2hvbGUgaW50ZWdlciB2YWx1ZXMgY291bGQgZWFzaWx5IGJlIHBsYWNlZCBpbiBsb3dlciBvciBoaWdoZXIgYnVja2V0c1xuLy8gZGVwZW5kaW5nIG9uIHJvdW5kLW9mZiBlcnJvci5cbmNvbnN0IF9PRkZTRVQgPSBNYXRoLnJhbmRvbSgpO1xuXG4vKipcbiAqIENhbGN1bGF0ZXMgYSBoYXNoIGNvZGUgZm9yIHRoZSBnaXZlbiB2ZXJ0ZXguXG4gKlxuICogTk9URTogVGhpcyBkb2VzIG5vdCBndWFyYW50ZWUgY29ycmVjdCByZXN1bHRzLiBEdWUgdG8gcm91bmQtb2ZmIGVycm9yLCBcImVxdWFsXCIgY29vcmRpbmF0ZXMgY291bGRcbiAqIGJlIGNhbGN1bGF0ZWQgaXMgYmVpbmcgaW4gZGlmZmVyZW50IGJ1Y2tldHMuIExhcmdlciBidWNrZXQgc2l6ZXMgbWlnaHQgcmVkdWNlIHRoZSByYXRlIG9mIGZhbHNlXG4gKiBuZWdhdGl2ZXMsIGJ1dCB3aXRoIHRoZSB0cmFkZS1vZmYgb2YgcG90ZW50aWFsbHkgaW50cm9kdWNpbmcgZmFsc2UgcG9zaXRpdmVzLlxuICpcbiAqIEBwYXJhbSB7dmVjM30gdmVydGV4XG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX3ZlcnRleEhhc2hGdW5jdGlvbih2ZXJ0ZXgpIHtcbiAgcmV0dXJuIGAkeyh2ZXJ0ZXhbMF0gKyBfT0ZGU0VUKS50b0ZpeGVkKF9WRVJURVhfQ09PUkRJTkFURV9CVUNLRVRfU0laRV9ESUdJVFMpfSxgICtcbiAgICAgIGAkeyh2ZXJ0ZXhbMV0gKyBfT0ZGU0VUKS50b0ZpeGVkKF9WRVJURVhfQ09PUkRJTkFURV9CVUNLRVRfU0laRV9ESUdJVFMpfSxgICtcbiAgICAgIGAkeyh2ZXJ0ZXhbMl0gKyBfT0ZGU0VUKS50b0ZpeGVkKF9WRVJURVhfQ09PUkRJTkFURV9CVUNLRVRfU0laRV9ESUdJVFMpfWA7XG59XG5cbi8qKlxuICogQ2FsY3VsYXRlIHRoZSB2ZXJ0ZXggcG9zaXRpb25zIGZvciBhIHNlY3Rpb24gb2YgYSBzcGhlcmUuXG4gKlxuICogLSBUaGVzZSBwb2ludHMgd2lsbCBsaWUgYWxvbmcgbGF0aXR1ZGUtbG9uZ2l0dWRlIGxpbmVzLlxuICogLSBUaGUgc2hhcGUgaXMgY2VudGVyZWQgYXJvdW5kIHRoZSBvcmlnaW4gd2l0aCB0aGUgcG9sZXMgYWxpZ25lZCB3aXRoIHRoZSB6LWF4aXMuXG4gKiAtIFRoZSByYWRpdXMgb2YgdGhlIGNpcmNsZSB3aWxsIGJlIG9uZS5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gc3RhcnRQaXRjaEluZGV4XG4gKiBAcGFyYW0ge251bWJlcn0gZW5kUGl0Y2hJbmRleFxuICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhUGl0Y2hcbiAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEF6aW11dGhJbmRleFxuICogQHBhcmFtIHtudW1iZXJ9IGVuZEF6aW11dGhJbmRleFxuICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhQXppbXV0aFxuICogQHJldHVybiB7QXJyYXkuPE51bWJlcj59XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBjYWxjdWxhdGVTcGhlcmljYWxTZWN0aW9uKHN0YXJ0UGl0Y2hJbmRleCwgZW5kUGl0Y2hJbmRleCwgZGVsdGFQaXRjaCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRBemltdXRoSW5kZXgsIGVuZEF6aW11dGhJbmRleCwgZGVsdGFBemltdXRoKSB7XG4gIGNvbnN0IHZlcnRleFBvc2l0aW9ucyA9IFtdO1xuICBsZXQgdmVydGV4UG9zaXRpb25zSW5kZXggPSAwO1xuXG4gIGxldCBwaXRjaEluZGV4O1xuICBsZXQgYXppbXV0aEluZGV4O1xuICBsZXQgbG93ZXJQaXRjaDtcbiAgbGV0IHVwcGVyUGl0Y2g7XG4gIGxldCBsb3dlckF6aW11dGg7XG4gIGxldCB1cHBlckF6aW11dGg7XG4gIGxldCB4MTtcbiAgbGV0IHkxO1xuICBsZXQgejE7XG4gIGxldCB4MjtcbiAgbGV0IHkyO1xuICBsZXQgejI7XG4gIGxldCB4MztcbiAgbGV0IHkzO1xuICBsZXQgejM7XG4gIGxldCB4NDtcbiAgbGV0IHk0O1xuICBsZXQgejQ7XG5cbiAgLy8gVE9ETzogVGhpcyBpbXBsZW1lbnRhdGlvbiBjYWxjdWxhdGVzIGFsbCBjb29yZGluYXRlcyBtdWx0aXBsZSB0aW1lcy4gUmVmYWN0b3IgaXQgdG8gYmUgbW9yZVxuICAvLyBlZmZpY2llbnQuXG5cbiAgLy8gTG9vcCBvdmVyIGVhY2ggbGF0aXR1ZGluYWwgc3RyaXAuXG4gIGZvciAocGl0Y2hJbmRleCA9IHN0YXJ0UGl0Y2hJbmRleDsgcGl0Y2hJbmRleCA8IGVuZFBpdGNoSW5kZXg7IHBpdGNoSW5kZXgrKykge1xuICAgIGxvd2VyUGl0Y2ggPSBkZWx0YVBpdGNoICogcGl0Y2hJbmRleDtcbiAgICB1cHBlclBpdGNoID0gZGVsdGFQaXRjaCArIGxvd2VyUGl0Y2g7XG5cbiAgICAvLyBDcmVhdGUgdGhlIHRyaWFuZ2xlcyBmb3IgdGhlIHN0cmlwIGF0IHRoZSBjdXJyZW50IHBpdGNoLlxuICAgIGZvciAoYXppbXV0aEluZGV4ID0gc3RhcnRBemltdXRoSW5kZXg7IGF6aW11dGhJbmRleCA8IGVuZEF6aW11dGhJbmRleDsgYXppbXV0aEluZGV4KyspIHtcbiAgICAgIGxvd2VyQXppbXV0aCA9IGRlbHRhQXppbXV0aCAqIGF6aW11dGhJbmRleDtcbiAgICAgIHVwcGVyQXppbXV0aCA9IGRlbHRhQXppbXV0aCArIGxvd2VyQXppbXV0aDtcblxuICAgICAgLy8gVGhlIGNvcm5lcnMgb2YgdGhlIGN1cnJlbnQgc3F1YXJlLlxuXG4gICAgICB4MSA9IE1hdGguc2luKGxvd2VyUGl0Y2gpICogTWF0aC5jb3MobG93ZXJBemltdXRoKTtcbiAgICAgIHkxID0gTWF0aC5zaW4obG93ZXJQaXRjaCkgKiBNYXRoLnNpbihsb3dlckF6aW11dGgpO1xuICAgICAgejEgPSBNYXRoLmNvcyhsb3dlclBpdGNoKTtcblxuICAgICAgeDIgPSBNYXRoLnNpbih1cHBlclBpdGNoKSAqIE1hdGguY29zKGxvd2VyQXppbXV0aCk7XG4gICAgICB5MiA9IE1hdGguc2luKHVwcGVyUGl0Y2gpICogTWF0aC5zaW4obG93ZXJBemltdXRoKTtcbiAgICAgIHoyID0gTWF0aC5jb3ModXBwZXJQaXRjaCk7XG5cbiAgICAgIHgzID0gTWF0aC5zaW4obG93ZXJQaXRjaCkgKiBNYXRoLmNvcyh1cHBlckF6aW11dGgpO1xuICAgICAgeTMgPSBNYXRoLnNpbihsb3dlclBpdGNoKSAqIE1hdGguc2luKHVwcGVyQXppbXV0aCk7XG4gICAgICB6MyA9IE1hdGguY29zKGxvd2VyUGl0Y2gpO1xuXG4gICAgICB4NCA9IE1hdGguc2luKHVwcGVyUGl0Y2gpICogTWF0aC5jb3ModXBwZXJBemltdXRoKTtcbiAgICAgIHk0ID0gTWF0aC5zaW4odXBwZXJQaXRjaCkgKiBNYXRoLnNpbih1cHBlckF6aW11dGgpO1xuICAgICAgejQgPSBNYXRoLmNvcyh1cHBlclBpdGNoKTtcblxuICAgICAgLy8gVGhlIGZpcnN0IHRyaWFuZ2xlLlxuXG4gICAgICB2ZXJ0ZXhQb3NpdGlvbnNbdmVydGV4UG9zaXRpb25zSW5kZXhdID0geDE7XG4gICAgICB2ZXJ0ZXhQb3NpdGlvbnNbdmVydGV4UG9zaXRpb25zSW5kZXggKyAxXSA9IHkxO1xuICAgICAgdmVydGV4UG9zaXRpb25zW3ZlcnRleFBvc2l0aW9uc0luZGV4ICsgMl0gPSB6MTtcbiAgICAgIHZlcnRleFBvc2l0aW9uc1t2ZXJ0ZXhQb3NpdGlvbnNJbmRleCArIDNdID0geDI7XG4gICAgICB2ZXJ0ZXhQb3NpdGlvbnNbdmVydGV4UG9zaXRpb25zSW5kZXggKyA0XSA9IHkyO1xuICAgICAgdmVydGV4UG9zaXRpb25zW3ZlcnRleFBvc2l0aW9uc0luZGV4ICsgNV0gPSB6MjtcbiAgICAgIHZlcnRleFBvc2l0aW9uc1t2ZXJ0ZXhQb3NpdGlvbnNJbmRleCArIDZdID0geDM7XG4gICAgICB2ZXJ0ZXhQb3NpdGlvbnNbdmVydGV4UG9zaXRpb25zSW5kZXggKyA3XSA9IHkzO1xuICAgICAgdmVydGV4UG9zaXRpb25zW3ZlcnRleFBvc2l0aW9uc0luZGV4ICsgOF0gPSB6MztcblxuICAgICAgLy8gVGhlIHNlY29uZCB0cmlhbmdsZS5cblxuICAgICAgdmVydGV4UG9zaXRpb25zW3ZlcnRleFBvc2l0aW9uc0luZGV4ICsgOV0gPSB4NDtcbiAgICAgIHZlcnRleFBvc2l0aW9uc1t2ZXJ0ZXhQb3NpdGlvbnNJbmRleCArIDEwXSA9IHk0O1xuICAgICAgdmVydGV4UG9zaXRpb25zW3ZlcnRleFBvc2l0aW9uc0luZGV4ICsgMTFdID0gejQ7XG4gICAgICB2ZXJ0ZXhQb3NpdGlvbnNbdmVydGV4UG9zaXRpb25zSW5kZXggKyAxMl0gPSB4MztcbiAgICAgIHZlcnRleFBvc2l0aW9uc1t2ZXJ0ZXhQb3NpdGlvbnNJbmRleCArIDEzXSA9IHkzO1xuICAgICAgdmVydGV4UG9zaXRpb25zW3ZlcnRleFBvc2l0aW9uc0luZGV4ICsgMTRdID0gejM7XG4gICAgICB2ZXJ0ZXhQb3NpdGlvbnNbdmVydGV4UG9zaXRpb25zSW5kZXggKyAxNV0gPSB4MjtcbiAgICAgIHZlcnRleFBvc2l0aW9uc1t2ZXJ0ZXhQb3NpdGlvbnNJbmRleCArIDE2XSA9IHkyO1xuICAgICAgdmVydGV4UG9zaXRpb25zW3ZlcnRleFBvc2l0aW9uc0luZGV4ICsgMTddID0gejI7XG5cbiAgICAgIHZlcnRleFBvc2l0aW9uc0luZGV4ICs9IDE4O1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB2ZXJ0ZXhQb3NpdGlvbnM7XG59XG5cbi8qKlxuICogQ2FsY3VsYXRlIHRoZSB2ZXJ0ZXggcG9zaXRpb25zIGZvciBhIHNlY3Rpb24gb2YgYSBjeWxpbmRlci5cbiAqXG4gKiBUaGUgc2hhcGUgaXMgY2VudGVyZWQgYXJvdW5kIHRoZSBvcmlnaW4gd2l0aCB0aGUgcG9sZXMgYWxpZ25lZCB3aXRoIHRoZSB6LWF4aXMuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IGN5bGluZGVyQm90dG9tXG4gKiBAcGFyYW0ge251bWJlcn0gY3lsaW5kZXJUb3BcbiAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEluZGV4XG4gKiBAcGFyYW0ge251bWJlcn0gZW5kSW5kZXhcbiAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YVxuICogQHJldHVybnMge0FycmF5LjxOdW1iZXI+fVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gY2FsY3VsYXRlQ3lsaW5kcmljYWxTZWN0aW9uKGN5bGluZGVyQm90dG9tLCBjeWxpbmRlclRvcCwgc3RhcnRJbmRleCwgZW5kSW5kZXgsIGRlbHRhKSB7XG4gIGNvbnN0IHZlcnRleFBvc2l0aW9ucyA9IFtdO1xuICBsZXQgdmVydGV4UG9zaXRpb25zSW5kZXggPSAwO1xuXG4gIGxldCBpbmRleDtcbiAgbGV0IGxvd2VyQXppbXV0aDtcbiAgbGV0IHVwcGVyQXppbXV0aDtcbiAgbGV0IHgxO1xuICBsZXQgeTE7XG4gIGxldCB6MTtcbiAgbGV0IHgyO1xuICBsZXQgeTI7XG4gIGxldCB6MjtcbiAgbGV0IHgzO1xuICBsZXQgeTM7XG4gIGxldCB6MztcbiAgbGV0IHg0O1xuICBsZXQgeTQ7XG4gIGxldCB6NDtcblxuICAvLyBDcmVhdGUgdGhlIHRyaWFuZ2xlcyBmb3IgdGhlIGN5bGluZHJpY2FsIHN0cmlwLlxuICBmb3IgKGluZGV4ID0gc3RhcnRJbmRleDsgaW5kZXggPCBlbmRJbmRleDsgaW5kZXgrKykge1xuICAgIGxvd2VyQXppbXV0aCA9IGRlbHRhICogaW5kZXg7XG4gICAgdXBwZXJBemltdXRoID0gZGVsdGEgKyBsb3dlckF6aW11dGg7XG5cbiAgICAvLyBUaGUgY29ybmVycyBvZiB0aGUgY3VycmVudCBzcXVhcmUuXG5cbiAgICB4MSA9IE1hdGguY29zKGxvd2VyQXppbXV0aCk7XG4gICAgeTEgPSBNYXRoLnNpbihsb3dlckF6aW11dGgpO1xuICAgIHoxID0gY3lsaW5kZXJCb3R0b207XG5cbiAgICB4MiA9IE1hdGguY29zKGxvd2VyQXppbXV0aCk7XG4gICAgeTIgPSBNYXRoLnNpbihsb3dlckF6aW11dGgpO1xuICAgIHoyID0gY3lsaW5kZXJUb3A7XG5cbiAgICB4MyA9IE1hdGguY29zKHVwcGVyQXppbXV0aCk7XG4gICAgeTMgPSBNYXRoLnNpbih1cHBlckF6aW11dGgpO1xuICAgIHozID0gY3lsaW5kZXJCb3R0b207XG5cbiAgICB4NCA9IE1hdGguY29zKHVwcGVyQXppbXV0aCk7XG4gICAgeTQgPSBNYXRoLnNpbih1cHBlckF6aW11dGgpO1xuICAgIHo0ID0gY3lsaW5kZXJUb3A7XG5cbiAgICAvLyBUaGUgZmlyc3QgdHJpYW5nbGUuXG5cbiAgICB2ZXJ0ZXhQb3NpdGlvbnNbdmVydGV4UG9zaXRpb25zSW5kZXhdID0geDE7XG4gICAgdmVydGV4UG9zaXRpb25zW3ZlcnRleFBvc2l0aW9uc0luZGV4ICsgMV0gPSB5MTtcbiAgICB2ZXJ0ZXhQb3NpdGlvbnNbdmVydGV4UG9zaXRpb25zSW5kZXggKyAyXSA9IHoxO1xuICAgIHZlcnRleFBvc2l0aW9uc1t2ZXJ0ZXhQb3NpdGlvbnNJbmRleCArIDNdID0geDI7XG4gICAgdmVydGV4UG9zaXRpb25zW3ZlcnRleFBvc2l0aW9uc0luZGV4ICsgNF0gPSB5MjtcbiAgICB2ZXJ0ZXhQb3NpdGlvbnNbdmVydGV4UG9zaXRpb25zSW5kZXggKyA1XSA9IHoyO1xuICAgIHZlcnRleFBvc2l0aW9uc1t2ZXJ0ZXhQb3NpdGlvbnNJbmRleCArIDZdID0geDM7XG4gICAgdmVydGV4UG9zaXRpb25zW3ZlcnRleFBvc2l0aW9uc0luZGV4ICsgN10gPSB5MztcbiAgICB2ZXJ0ZXhQb3NpdGlvbnNbdmVydGV4UG9zaXRpb25zSW5kZXggKyA4XSA9IHozO1xuXG4gICAgLy8gVGhlIHNlY29uZCB0cmlhbmdsZS5cblxuICAgIHZlcnRleFBvc2l0aW9uc1t2ZXJ0ZXhQb3NpdGlvbnNJbmRleCArIDldID0geDQ7XG4gICAgdmVydGV4UG9zaXRpb25zW3ZlcnRleFBvc2l0aW9uc0luZGV4ICsgMTBdID0geTQ7XG4gICAgdmVydGV4UG9zaXRpb25zW3ZlcnRleFBvc2l0aW9uc0luZGV4ICsgMTFdID0gejQ7XG4gICAgdmVydGV4UG9zaXRpb25zW3ZlcnRleFBvc2l0aW9uc0luZGV4ICsgMTJdID0geDM7XG4gICAgdmVydGV4UG9zaXRpb25zW3ZlcnRleFBvc2l0aW9uc0luZGV4ICsgMTNdID0geTM7XG4gICAgdmVydGV4UG9zaXRpb25zW3ZlcnRleFBvc2l0aW9uc0luZGV4ICsgMTRdID0gejM7XG4gICAgdmVydGV4UG9zaXRpb25zW3ZlcnRleFBvc2l0aW9uc0luZGV4ICsgMTVdID0geDI7XG4gICAgdmVydGV4UG9zaXRpb25zW3ZlcnRleFBvc2l0aW9uc0luZGV4ICsgMTZdID0geTI7XG4gICAgdmVydGV4UG9zaXRpb25zW3ZlcnRleFBvc2l0aW9uc0luZGV4ICsgMTddID0gejI7XG5cbiAgICB2ZXJ0ZXhQb3NpdGlvbnNJbmRleCArPSAxODtcbiAgfVxuXG4gIHJldHVybiB2ZXJ0ZXhQb3NpdGlvbnM7XG59XG5cbi8qKlxuICogU2NhbGUgYW5kIHRoZW4gdHJhbnNsYXRlIHRoZSAzLWRpbWVuc2lvbmFsIHBvc2l0aW9ucyBpbiB0aGUgZ2l2ZW4gZmxhdHRlbmVkIGFycmF5LlxuICpcbiAqIFRoZSBzaGFwZSBpcyBjZW50ZXJlZCBhcm91bmQgdGhlIG9yaWdpbiB3aXRoIHRoZSBwb2xlcyBhbGlnbmVkIHdpdGggdGhlIHotYXhpcy5cbiAqXG4gKiBAcGFyYW0ge0FycmF5LjxOdW1iZXI+fSB2ZXJ0ZXhQb3NpdGlvbnMgT3V0cHV0LlxuICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0SW5kZXhcbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmRJbmRleFxuICogQHBhcmFtIHt2ZWMzfSBzY2FsZVxuICogQHBhcmFtIHt2ZWMzfSB0cmFuc2xhdGVcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHNjYWxlVGhlblRyYW5zbGF0ZVBvc2l0aW9ucyh2ZXJ0ZXhQb3NpdGlvbnMsIHN0YXJ0SW5kZXgsIGVuZEluZGV4LCBzY2FsZSwgdHJhbnNsYXRlKSB7XG4gIGNvbnN0IHNjYWxlWCA9IHNjYWxlWzBdO1xuICBjb25zdCBzY2FsZVkgPSBzY2FsZVsxXTtcbiAgY29uc3Qgc2NhbGVaID0gc2NhbGVbMl07XG4gIGNvbnN0IHRyYW5zbGF0ZVggPSB0cmFuc2xhdGVbMF07XG4gIGNvbnN0IHRyYW5zbGF0ZVkgPSB0cmFuc2xhdGVbMV07XG4gIGNvbnN0IHRyYW5zbGF0ZVogPSB0cmFuc2xhdGVbMl07XG5cbiAgZm9yIChsZXQgaSA9IHN0YXJ0SW5kZXg7IGkgPCBlbmRJbmRleDsgaSArPSAzKSB7XG4gICAgdmVydGV4UG9zaXRpb25zW2ldID0gdmVydGV4UG9zaXRpb25zW2ldICogc2NhbGVYICsgdHJhbnNsYXRlWDtcbiAgICB2ZXJ0ZXhQb3NpdGlvbnNbaSArIDFdID0gdmVydGV4UG9zaXRpb25zW2kgKyAxXSAqIHNjYWxlWSArIHRyYW5zbGF0ZVk7XG4gICAgdmVydGV4UG9zaXRpb25zW2kgKyAyXSA9IHZlcnRleFBvc2l0aW9uc1tpICsgMl0gKiBzY2FsZVogKyB0cmFuc2xhdGVaO1xuICB9XG59XG5cbi8vIEV4cG9ydCB0aGlzIG1vZHVsZSdzIGxvZ2ljXG5cbmV4cG9ydCB7XG4gIGdldFZpZXdwb3J0V2lkdGgsXG4gIGdldFZpZXdwb3J0SGVpZ2h0LFxuICBnZXRXZWJHTENvbnRleHQsXG4gIGNyZWF0ZUJ1ZmZlcixcbiAgZ2V0QXR0cmliTG9jYXRpb24sXG4gIGJ1aWxkUHJvZ3JhbSxcbiAgYnVpbGRTaGFkZXIsXG4gIGxvYWRTaGFkZXIsXG4gIGxvYWRQcm9ncmFtLFxuICBjcmVhdGVCdWZmZXJGcm9tRGF0YSxcbiAgYmluZEdMQ29udGV4dFRvVmlld3BvcnREaW1lbnNpb25zLFxuICBiaW5kRnJhbWVidWZmZXIsXG4gIGNyZWF0ZUZyYW1lYnVmZmVyLFxuICBjcmVhdGVUZXh0dXJlRm9yUmVuZGVyaW5nLFxuICBjcmVhdGVSZW5kZXJCdWZmZXIsXG4gIGNyZWF0ZTJEU3F1YXJlUG9zaXRpb25zQ29uZmlnLFxuXG4gIGV4cGFuZFZlcnRleEluZGljZXNUb0R1cGxpY2F0ZVBvc2l0aW9ucyxcbiAgY2FsY3VsYXRlT3J0aG9nb25hbFZlcnRleE5vcm1hbHMsXG4gIGNhbGN1bGF0ZUxhdExvbmdUZXh0dXJlQ29vcmRpbmF0ZXMsXG4gIGNhbGN1bGF0ZUN5bGluZHJpY2FsVGV4dHVyZUNvb3JkaW5hdGVzLFxuICBleHBhbmRWZXJ0ZXhJbmRpY2VzQXJvdW5kTG9uZ2l0dWRlU2VhbSxcbiAgdGVzc2VsYXRlU3BoZXJlLFxuICBkZWR1cFZlcnRleEFycmF5V2l0aFBvc2l0aW9uc0FuZEluZGljZXNBcnJheXMsXG4gIGNhbGN1bGF0ZVNwaGVyaWNhbFNlY3Rpb24sXG4gIGNhbGN1bGF0ZUN5bGluZHJpY2FsU2VjdGlvbixcbiAgc2NhbGVUaGVuVHJhbnNsYXRlUG9zaXRpb25zLFxufTtcblxuLy8gU29tZSB0eXBlIGRlZnMgdG8gbWFrZSBteSBlZGl0b3IncyBhdXRvLWNvbXBsZXRlIGhhcHB5LlxuXG4vKiogQHR5cGVkZWYge09iamVjdH0gV2ViR0xQcm9ncmFtICovXG4vKiogQHR5cGVkZWYge09iamVjdH0gV2ViR0xTaGFkZXIgKi9cbi8qKiBAdHlwZWRlZiB7T2JqZWN0fSBXZWJHTEJ1ZmZlciAqL1xuLyoqIEB0eXBlZGVmIHtPYmplY3R9IFdlYkdMVGV4dHVyZSAqL1xuLyoqIEB0eXBlZGVmIHtGbG9hdDMyQXJyYXl8QXJyYXkuPE51bWJlcj59IG1hdDMgKi9cbi8qKiBAdHlwZWRlZiB7RmxvYXQzMkFycmF5fEFycmF5LjxOdW1iZXI+fSBtYXQ0ICovXG4vKiogQHR5cGVkZWYge0Zsb2F0MzJBcnJheXxBcnJheS48TnVtYmVyPn0gcXVhdCAqL1xuLyoqIEB0eXBlZGVmIHtGbG9hdDMyQXJyYXl8QXJyYXkuPE51bWJlcj59IHZlYzIgKi9cbi8qKiBAdHlwZWRlZiB7RmxvYXQzMkFycmF5fEFycmF5LjxOdW1iZXI+fSB2ZWMzICovXG4vKiogQHR5cGVkZWYge0Zsb2F0MzJBcnJheXxBcnJheS48TnVtYmVyPn0gdmVjNCAqL1xuIiwiLyoqXG4gKiBBIGhhc2ggbWFwIHRoYXQgdXNlcyBhIGN1c3RvbSBoYXNoIGZ1bmN0aW9uLlxuICovXG5jbGFzcyBIYXNoTWFwIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGhhc2hGdW5jdGlvblxuICAgKi9cbiAgY29uc3RydWN0b3IoaGFzaEZ1bmN0aW9uKSB7XG4gICAgdGhpcy5faGFzaEZ1bmN0aW9uID0gaGFzaEZ1bmN0aW9uO1xuICAgIHRoaXMuX21hcCA9IG5ldyBNYXAoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge09iamVjdH0ga2V5XG4gICAqIEBwYXJhbSB7T2JqZWN0fSB2YWx1ZVxuICAgKi9cbiAgc2V0KGtleSwgdmFsdWUpIHtcbiAgICBjb25zdCBoYXNoQ29kZSA9IHRoaXMuX2hhc2hGdW5jdGlvbihrZXkpO1xuICAgIHRoaXMuX21hcC5zZXQoaGFzaENvZGUsIHZhbHVlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge09iamVjdH0ga2V5XG4gICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAqL1xuICBnZXQoa2V5KSB7XG4gICAgY29uc3QgaGFzaENvZGUgPSB0aGlzLl9oYXNoRnVuY3Rpb24oa2V5KTtcbiAgICByZXR1cm4gdGhpcy5fbWFwLmdldChoYXNoQ29kZSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtPYmplY3R9IGtleVxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGhhcyhrZXkpIHtcbiAgICBjb25zdCBoYXNoQ29kZSA9IHRoaXMuX2hhc2hGdW5jdGlvbihrZXkpO1xuICAgIHJldHVybiB0aGlzLl9tYXAuaGFzKGhhc2hDb2RlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge09iamVjdH0gaXRlbVxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIHJlbW92ZShpdGVtKSB7XG4gICAgcmV0dXJuIHRoaXMuX21hcC5kZWxldGUoaXRlbSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAgICovXG4gIGZvckVhY2goY2FsbGJhY2spIHtcbiAgICB0aGlzLl9tYXAuZm9yRWFjaChjYWxsYmFjayk7XG4gIH1cblxuICBjbGVhcigpIHtcbiAgICB0aGlzLl9tYXAuY2xlYXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgKi9cbiAgZ2V0IHNpemUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX21hcC5zaXplO1xuICB9XG59XG5cbmV4cG9ydCB7SGFzaE1hcH07XG4iLCIvKipcbiAqIFRoaXMgbW9kdWxlIGRlZmluZXMgYSBjb2xsZWN0aW9uIG9mIHN0YXRpYyBnZW5lcmFsIHV0aWxpdHkgZnVuY3Rpb25zLlxuICovXG5cbi8vIFRPRE86IFRoaXMgc2hvdWxkIGJlIHNldCBmcm9tIHNvbWV3aGVyZSBlbHNlIChwcm9iYWJseSBhcyBhIHBhcmFtIHRvIGNvbnRyb2xsZXIgbGlrZSBiZWZvcmU7IGJ1dCB0aGVuIEkgbmVlZCB0byBtYWtlIHRoaXMgdXBkYXRhYmxlKVxuY29uc3QgaXNJbkRldk1vZGUgPSB0cnVlO1xuXG4vKipcbiAqIEFkZHMgYW4gZXZlbnQgbGlzdGVuZXIgZm9yIGVhY2ggb2YgdGhlIGdpdmVuIGV2ZW50cyB0byBlYWNoIG9mIHRoZSBnaXZlbiBlbGVtZW50cy5cbiAqXG4gKiBAcGFyYW0ge0FycmF5LjxIVE1MRWxlbWVudD59IGVsZW1lbnRzIFRoZSBlbGVtZW50cyB0byBhZGQgZXZlbnQgbGlzdGVuZXJzIHRvLlxuICogQHBhcmFtIHtBcnJheS48U3RyaW5nPn0gZXZlbnRzIFRoZSBldmVudCBsaXN0ZW5lcnMgdG8gYWRkIHRvIHRoZSBlbGVtZW50cy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIFRoZSBzaW5nbGUgY2FsbGJhY2sgZm9yIGhhbmRsaW5nIHRoZSBldmVudHMuXG4gKi9cbmZ1bmN0aW9uIGxpc3RlblRvTXVsdGlwbGVGb3JNdWx0aXBsZShlbGVtZW50cywgZXZlbnRzLCBjYWxsYmFjaykge1xuICBlbGVtZW50cy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgIGV2ZW50cy5mb3JFYWNoKGV2ZW50ID0+IHtcbiAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgY2FsbGJhY2ssIGZhbHNlKTtcbiAgICB9KTtcbiAgfSk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIERPTSBlbGVtZW50IHdpdGggdGhlIGdpdmVuIHRhZyBuYW1lLCBhcHBlbmRzIGl0IHRvIHRoZSBnaXZlbiBwYXJlbnQgZWxlbWVudCwgYW5kXG4gKiBnaXZlcyBpdCB0aGUgZ2l2ZW4gaWQgYW5kIGNsYXNzZXMuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHRhZ05hbWUgVGhlIHRhZyBuYW1lIHRvIGdpdmUgdGhlIG5ldyBlbGVtZW50LlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gW3BhcmVudF0gVGhlIHBhcmVudCBlbGVtZW50IHRvIGFwcGVuZCB0aGUgbmV3IGVsZW1lbnQgdG8uXG4gKiBAcGFyYW0ge3N0cmluZ30gW2lkXSBUaGUgaWQgdG8gZ2l2ZSB0aGUgbmV3IGVsZW1lbnQuXG4gKiBAcGFyYW0ge0FycmF5LjxTdHJpbmc+fSBbY2xhc3Nlc10gVGhlIGNsYXNzZXMgdG8gZ2l2ZSB0aGUgbmV3IGVsZW1lbnQuXG4gKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9IFRoZSBuZXcgZWxlbWVudC5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlRWxlbWVudCh0YWdOYW1lLCBwYXJlbnQsIGlkLCBjbGFzc2VzKSB7XG4gIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZ05hbWUpO1xuICBpZiAocGFyZW50KSB7XG4gICAgcGFyZW50LmFwcGVuZENoaWxkKGVsZW1lbnQpO1xuICB9XG4gIGlmIChpZCkge1xuICAgIGVsZW1lbnQuaWQgPSBpZDtcbiAgfVxuICBpZiAoY2xhc3Nlcykge1xuICAgIGNsYXNzZXMuZm9yRWFjaChjbGFzc05hbWUgPT4gYWRkQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lKSk7XG4gIH1cbiAgcmV0dXJuIGVsZW1lbnQ7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBnaXZlbiBlbGVtZW50IGNvbnRhaW5zIHRoZSBnaXZlbiBjbGFzcy5cbiAqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IFRoZSBlbGVtZW50IHRvIGNoZWNrLlxuICogQHBhcmFtIHtzdHJpbmd9IGNsYXNzTmFtZSBUaGUgY2xhc3MgdG8gY2hlY2sgZm9yLlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIGVsZW1lbnQgZG9lcyBjb250YWluIHRoZSBjbGFzcy5cbiAqL1xuZnVuY3Rpb24gY29udGFpbnNDbGFzcyhlbGVtZW50LCBjbGFzc05hbWUpIHtcbiAgbGV0IHN0YXJ0SW5kZXg7XG4gIGxldCBpbmRleEFmdGVyRW5kO1xuICBzdGFydEluZGV4ID0gZWxlbWVudC5jbGFzc05hbWUuaW5kZXhPZihjbGFzc05hbWUpO1xuICBpZiAoc3RhcnRJbmRleCA+PSAwKSB7XG4gICAgaWYgKHN0YXJ0SW5kZXggPT09IDAgfHwgZWxlbWVudC5jbGFzc05hbWVbc3RhcnRJbmRleCAtIDFdID09PSAnICcpIHtcbiAgICAgIGluZGV4QWZ0ZXJFbmQgPSBzdGFydEluZGV4ICsgY2xhc3NOYW1lLmxlbmd0aDtcbiAgICAgIGlmIChpbmRleEFmdGVyRW5kID09PSBlbGVtZW50LmNsYXNzTmFtZS5sZW5ndGggfHxcbiAgICAgICAgZWxlbWVudC5jbGFzc05hbWVbaW5kZXhBZnRlckVuZF0gPT09ICcgJykge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIFRvZ2dsZXMgd2hldGhlciB0aGUgZ2l2ZW4gZWxlbWVudCBoYXMgdGhlIGdpdmVuIGNsYXNzLiBJZiB0aGUgZW5hYmxlZCBhcmd1bWVudCBpcyBnaXZlbiwgdGhlblxuICogdGhlIGluY2x1c2lvbiBvZiB0aGUgY2xhc3Mgd2lsbCBiZSBmb3JjZWQuIFRoYXQgaXMsIGlmIGVuYWJsZWQ9dHJ1ZSwgdGhlbiB0aGlzIHdpbGwgZW5zdXJlIHRoZVxuICogZWxlbWVudCBoYXMgdGhlIGNsYXNzOyBpZiBlbmFibGVkPWZhbHNlLCB0aGVuIHRoaXMgd2lsbCBlbnN1cmUgdGhlIGVsZW1lbnQgZG9lcyBOT1QgaGF2ZSB0aGVcbiAqIGNsYXNzOyBpZiBlbmFibGVkPXVuZGVmaW5lZCwgdGhlbiB0aGlzIHdpbGwgc2ltcGx5IHRvZ2dsZSB3aGV0aGVyIHRoZSBlbGVtZW50IGhhcyB0aGUgY2xhc3MuXG4gKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCBUaGUgZWxlbWVudCB0byBhZGQgdGhlIGNsYXNzIHRvIG9yIHJlbW92ZSB0aGUgY2xhc3MgZnJvbS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc05hbWUgVGhlIGNsYXNzIHRvIGFkZCBvciByZW1vdmUuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtlbmFibGVkXSBJZiBnaXZlbiwgdGhlbiB0aGUgaW5jbHVzaW9uIG9mIHRoZSBjbGFzcyB3aWxsIGJlIGZvcmNlZC5cbiAqL1xuZnVuY3Rpb24gdG9nZ2xlQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lLCBlbmFibGVkKSB7XG4gIGlmICh0eXBlb2YgZW5hYmxlZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBpZiAoY29udGFpbnNDbGFzcyhlbGVtZW50LCBjbGFzc05hbWUpKSB7XG4gICAgICByZW1vdmVDbGFzcyhlbGVtZW50LCBjbGFzc05hbWUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGFkZENsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSk7XG4gICAgfVxuICB9XG4gIGVsc2UgaWYgKGVuYWJsZWQpIHtcbiAgICBhZGRDbGFzcyhlbGVtZW50LCBjbGFzc05hbWUpO1xuICB9XG4gIGVsc2Uge1xuICAgIHJlbW92ZUNsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSk7XG4gIH1cbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBjb29yZGluYXRlcyBvZiB0aGUgZWxlbWVudCByZWxhdGl2ZSB0byB0aGUgdG9wLWxlZnQgY29ybmVyIG9mIHRoZSBwYWdlLlxuICpcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgVGhlIGVsZW1lbnQgdG8gZ2V0IHRoZSBjb29yZGluYXRlcyBvZi5cbiAqIEByZXR1cm5zIHt7eDogTnVtYmVyLCB5OiBOdW1iZXJ9fSBUaGUgY29vcmRpbmF0ZXMgb2YgdGhlIGVsZW1lbnQgcmVsYXRpdmUgdG8gdGhlIHRvcC1sZWZ0XG4gKiBjb3JuZXIgb2YgdGhlIHBhZ2UuXG4gKi9cbmZ1bmN0aW9uIGdldFBhZ2VPZmZzZXQoZWxlbWVudCkge1xuICBsZXQgeCA9IDA7XG4gIGxldCB5ID0gMDtcbiAgd2hpbGUgKGVsZW1lbnQpIHtcbiAgICB4ICs9IGVsZW1lbnQub2Zmc2V0TGVmdDtcbiAgICB5ICs9IGVsZW1lbnQub2Zmc2V0VG9wO1xuICAgIGVsZW1lbnQgPSBlbGVtZW50Lm9mZnNldFBhcmVudDtcbiAgfVxuICB4IC09IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0O1xuICB5IC09IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7XG4gIHJldHVybiB7IHg6IHgsIHk6IHkgfTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBkaW1lbnNpb25zIG9mIHRoZSB2aWV3cG9ydC5cbiAqXG4gKiBAcmV0dXJucyB7e3c6IE51bWJlciwgaDogTnVtYmVyfX0gVGhlIGRpbWVuc2lvbnMgb2YgdGhlIHZpZXdwb3J0LlxuICovXG5mdW5jdGlvbiBnZXRWaWV3cG9ydFNpemUoKSB7XG4gIGxldCB3O1xuICBsZXQgaDtcbiAgaWYgKHR5cGVvZiB3aW5kb3cuaW5uZXJXaWR0aCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAvLyBHb29kIGJyb3dzZXJzXG4gICAgdyA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgIGggPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gIH1cbiAgZWxzZSBpZiAodHlwZW9mIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICB0eXBlb2YgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCAhPT0gMCkge1xuICAgIC8vIElFNiBpbiBzdGFuZGFyZHMgY29tcGxpYW50IG1vZGVcbiAgICB3ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoO1xuICAgIGggPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0O1xuICB9XG4gIGVsc2Uge1xuICAgIC8vIE9sZGVyIHZlcnNpb25zIG9mIElFXG4gICAgdyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdib2R5JylbMF0uY2xpZW50V2lkdGg7XG4gICAgaCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdib2R5JylbMF0uY2xpZW50SGVpZ2h0O1xuICB9XG4gIHJldHVybiB7IHc6IHcsIGg6IGggfTtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIHRoZSBnaXZlbiBjaGlsZCBlbGVtZW50IGZyb20gdGhlIGdpdmVuIHBhcmVudCBlbGVtZW50IGlmIHRoZSBjaGlsZCBkb2VzIGluZGVlZCBiZWxvbmdcbiAqIHRvIHRoZSBwYXJlbnQuXG4gKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gcGFyZW50IFRoZSBwYXJlbnQgdG8gcmVtb3ZlIHRoZSBjaGlsZCBmcm9tLlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gY2hpbGQgVGhlIGNoaWxkIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBjaGlsZCBkaWQgaW5kZWVkIGJlbG9uZyB0byB0aGUgcGFyZW50LlxuICovXG5mdW5jdGlvbiByZW1vdmVDaGlsZElmUHJlc2VudChwYXJlbnQsIGNoaWxkKSB7XG4gIGlmIChjaGlsZCAmJiBjaGlsZC5wYXJlbnROb2RlID09PSBwYXJlbnQpIHtcbiAgICBwYXJlbnQucmVtb3ZlQ2hpbGQoY2hpbGQpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBBZGRzIHRoZSBnaXZlbiBjbGFzcyB0byB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IFRoZSBlbGVtZW50IHRvIGFkZCB0aGUgY2xhc3MgdG8uXG4gKiBAcGFyYW0ge3N0cmluZ30gY2xhc3NOYW1lIFRoZSBjbGFzcyB0byBhZGQuXG4gKi9cbmZ1bmN0aW9uIGFkZENsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSkge1xuICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBlbGVtZW50LmNsYXNzTmFtZSArICcgJyArIGNsYXNzTmFtZSk7XG59XG5cbi8qKlxuICogUmVtb3ZlcyB0aGUgZ2l2ZW4gY2xhc3MgZnJvbSB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IFRoZSBlbGVtZW50IHRvIHJlbW92ZSB0aGUgY2xhc3MgZnJvbS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc05hbWUgVGhlIGNsYXNzIHRvIHJlbW92ZS5cbiAqL1xuZnVuY3Rpb24gcmVtb3ZlQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lKSB7XG4gIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdjbGFzcycsXG4gICAgZWxlbWVudC5jbGFzc05hbWVcbiAgICAuc3BsaXQoJyAnKVxuICAgIC5maWx0ZXIodmFsdWUgPT4gdmFsdWUgIT09IGNsYXNzTmFtZSlcbiAgICAuam9pbignICcpKTtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBjbGFzc2VzIGZyb20gdGhlIGdpdmVuIGVsZW1lbnQuXG4gKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCBUaGUgZWxlbWVudCB0byByZW1vdmUgYWxsIGNsYXNzZXMgZnJvbS5cbiAqL1xuZnVuY3Rpb24gY2xlYXJDbGFzc2VzKGVsZW1lbnQpIHtcbiAgZWxlbWVudC5jbGFzc05hbWUgPSAnJztcbn1cblxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSB3aWR0aCB0aGF0IHRoZSBET00gd291bGQgZ2l2ZSB0byBhIGRpdiB3aXRoIHRoZSBnaXZlbiB0ZXh0LiBUaGUgZ2l2ZW4gdGFnXG4gKiBuYW1lLCBwYXJlbnQsIGlkLCBhbmQgY2xhc3NlcyBhbGxvdyB0aGUgd2lkdGggdG8gYmUgYWZmZWN0ZWQgYnkgdmFyaW91cyBDU1MgcnVsZXMuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQgVGhlIHRleHQgdG8gZGV0ZXJtaW5lIHRoZSB3aWR0aCBvZi5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0YWdOYW1lIFRoZSB0YWcgbmFtZSB0aGlzIHRleHQgd291bGQgc3VwcG9zZWRseSBoYXZlLlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gW3BhcmVudF0gVGhlIHBhcmVudCB0aGlzIHRleHQgd291bGQgc3VwcG9zZWRseSBiZSBhIGNoaWxkIG9mOyBkZWZhdWx0c1xuICogdG8gdGhlIGRvY3VtZW50IGJvZHkuXG4gKiBAcGFyYW0ge3N0cmluZ30gW2lkXSBUaGUgaWQgdGhpcyB0ZXh0IHdvdWxkIHN1cHBvc2VkbHkgaGF2ZS5cbiAqIEBwYXJhbSB7QXJyYXkuPFN0cmluZz59IFtjbGFzc2VzXSBUaGUgY2xhc3NlcyB0aGlzIHRleHQgd291bGQgc3VwcG9zZWRseSBoYXZlLlxuICogQHJldHVybnMge251bWJlcn0gVGhlIHdpZHRoIG9mIHRoZSB0ZXh0IHVuZGVyIHRoZXNlIGNvbmRpdGlvbnMuXG4gKi9cbmZ1bmN0aW9uIGdldFRleHRXaWR0aCh0ZXh0LCB0YWdOYW1lLCBwYXJlbnQsIGlkLCBjbGFzc2VzKSB7XG4gIGxldCB0bXBFbGVtZW50O1xuICBsZXQgd2lkdGg7XG4gIHBhcmVudCA9IHBhcmVudCB8fCBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYm9keScpWzBdO1xuICB0bXBFbGVtZW50ID0gY3JlYXRlRWxlbWVudCh0YWdOYW1lLCBudWxsLCBpZCwgY2xhc3Nlcyk7XG4gIHRtcEVsZW1lbnQuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICB0bXBFbGVtZW50LnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcbiAgdG1wRWxlbWVudC5zdHlsZS53aGl0ZVNwYWNlID0gJ25vd3JhcCc7XG4gIHBhcmVudC5hcHBlbmRDaGlsZCh0bXBFbGVtZW50KTtcbiAgdG1wRWxlbWVudC5pbm5lckhUTUwgPSB0ZXh0O1xuICB3aWR0aCA9IHRtcEVsZW1lbnQuY2xpZW50V2lkdGg7XG4gIHBhcmVudC5yZW1vdmVDaGlsZCh0bXBFbGVtZW50KTtcbiAgcmV0dXJuIHdpZHRoO1xufVxuXG4vKipcbiAqIEVuY29kZXMgYW5kIGNvbmNhdGVuYXRlcyB0aGUgZ2l2ZW4gVVJMIHBhcmFtZXRlcnMgaW50byBhIHNpbmdsZSBxdWVyeSBzdHJpbmcuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHJhd1BhcmFtcyBBbiBvYmplY3Qgd2hvc2UgcHJvcGVydGllcyByZXByZXNlbnQgdGhlIFVSTCBxdWVyeSBzdHJpbmdcbiAqIHBhcmFtZXRlcnMuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgcXVlcnkgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBlbmNvZGVRdWVyeVN0cmluZyhyYXdQYXJhbXMpIHtcbiAgbGV0IHBhcmFtZXRlcjtcbiAgbGV0IGVuY29kZWRQYXJhbXM7XG4gIGVuY29kZWRQYXJhbXMgPSBbXTtcbiAgZm9yIChwYXJhbWV0ZXIgaW4gcmF3UGFyYW1zKSB7XG4gICAgaWYgKHJhd1BhcmFtcy5oYXNPd25Qcm9wZXJ0eShwYXJhbWV0ZXIpKSB7XG4gICAgICBlbmNvZGVkUGFyYW1zLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KHBhcmFtZXRlcikgKyAnPScgK1xuICAgICAgICBlbmNvZGVVUklDb21wb25lbnQocmF3UGFyYW1zW3BhcmFtZXRlcl0pKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuICc/JyArIGVuY29kZWRQYXJhbXMuam9pbignJicpO1xufVxuXG4vKipcbiAqIFJldHJpZXZlcyB0aGUgdmFsdWUgY29ycmVzcG9uZGluZyB0byB0aGUgZ2l2ZW4gbmFtZSBmcm9tIHRoZSBnaXZlbiBxdWVyeSBzdHJpbmcuXG4gKlxuICogKGJvcnJvd2VkIGZyb20gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy85MDExMTUvaG93LWNhbi1pLWdldC1xdWVyeS1zdHJpbmctdmFsdWVzLWluLWphdmFzY3JpcHQpXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHF1ZXJ5U3RyaW5nIFRoZSBxdWVyeSBzdHJpbmcgY29udGFpbmluZyB0aGUgcGFyYW1ldGVyLlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIChub24tZW5jb2RlZCkgbmFtZSBvZiB0aGUgcGFyYW1ldGVyIHZhbHVlIHRvIHJldHJpZXZlLlxuICogQHJldHVybnMge3N0cmluZ30gVGhlIHF1ZXJ5IHN0cmluZyBwYXJhbWV0ZXIgdmFsdWUsIG9yIG51bGwgaWYgdGhlIHBhcmFtZXRlciB3YXMgbm90IGZvdW5kLlxuICovXG5mdW5jdGlvbiBnZXRRdWVyeVN0cmluZ1BhcmFtZXRlclZhbHVlKHF1ZXJ5U3RyaW5nLCBuYW1lKSB7XG4gIGxldCByZWdleDtcbiAgbGV0IHJlc3VsdHM7XG4gIG5hbWUgPSBlbmNvZGVVUklDb21wb25lbnQobmFtZSk7XG4gIG5hbWUgPSBuYW1lLnJlcGxhY2UoL1tcXFtdLywgJ1xcXFxbJykucmVwbGFjZSgvW1xcXV0vLCAnXFxcXF0nKTtcbiAgcmVnZXggPSBuZXcgUmVnRXhwKCdbXFxcXD8mXScgKyBuYW1lICsgJz0oW14mI10qKScsICdpJyk7XG4gIHJlc3VsdHMgPSByZWdleC5leGVjKHF1ZXJ5U3RyaW5nKTtcbiAgcmV0dXJuIHJlc3VsdHMgPT09IG51bGwgPyBudWxsIDogZGVjb2RlVVJJQ29tcG9uZW50KHJlc3VsdHNbMV0ucmVwbGFjZSgvXFwrL2csICcgJykpO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIENTUyB0cmFuc2l0aW9uIHN0eWxlIG9mIHRoZSBnaXZlbiBlbGVtZW50LlxuICpcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgVGhlIGVsZW1lbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgVGhlIHRyYW5zaXRpb24gc3RyaW5nLlxuICovXG5mdW5jdGlvbiBzZXRUcmFuc2l0aW9uKGVsZW1lbnQsIHZhbHVlKSB7XG4gIGVsZW1lbnQuc3R5bGUudHJhbnNpdGlvbiA9IHZhbHVlO1xuICBlbGVtZW50LnN0eWxlLldlYmtpdFRyYW5zaXRpb24gPSB2YWx1ZTtcbiAgZWxlbWVudC5zdHlsZS5Nb3pUcmFuc2l0aW9uID0gdmFsdWU7XG4gIGVsZW1lbnQuc3R5bGUubXNUcmFuc2l0aW9uID0gdmFsdWU7XG4gIGVsZW1lbnQuc3R5bGUuT1RyYW5zaXRpb24gPSB2YWx1ZTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBDU1MgdHJhbnNpdGlvbiBkdXJhdGlvbiBzdHlsZSBvZiB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IFRoZSBlbGVtZW50LlxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIFRoZSBkdXJhdGlvbi5cbiAqL1xuZnVuY3Rpb24gc2V0VHJhbnNpdGlvbkR1cmF0aW9uU2Vjb25kcyhlbGVtZW50LCB2YWx1ZSkge1xuICBlbGVtZW50LnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbiA9IHZhbHVlICsgJ3MnO1xuICBlbGVtZW50LnN0eWxlLldlYmtpdFRyYW5zaXRpb25EdXJhdGlvbiA9IHZhbHVlICsgJ3MnO1xuICBlbGVtZW50LnN0eWxlLk1velRyYW5zaXRpb25EdXJhdGlvbiA9IHZhbHVlICsgJ3MnO1xuICBlbGVtZW50LnN0eWxlLm1zVHJhbnNpdGlvbkR1cmF0aW9uID0gdmFsdWUgKyAncyc7XG4gIGVsZW1lbnQuc3R5bGUuT1RyYW5zaXRpb25EdXJhdGlvbiA9IHZhbHVlICsgJ3MnO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIENTUyB0cmFuc2l0aW9uIGRlbGF5IHN0eWxlIG9mIHRoZSBnaXZlbiBlbGVtZW50LlxuICpcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgVGhlIGVsZW1lbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgVGhlIGRlbGF5LlxuICovXG5mdW5jdGlvbiBzZXRUcmFuc2l0aW9uRGVsYXlTZWNvbmRzKGVsZW1lbnQsIHZhbHVlKSB7XG4gIGVsZW1lbnQuc3R5bGUudHJhbnNpdGlvbkRlbGF5ID0gdmFsdWUgKyAncyc7XG4gIGVsZW1lbnQuc3R5bGUuV2Via2l0VHJhbnNpdGlvbkRlbGF5ID0gdmFsdWUgKyAncyc7XG4gIGVsZW1lbnQuc3R5bGUuTW96VHJhbnNpdGlvbkRlbGF5ID0gdmFsdWUgKyAncyc7XG4gIGVsZW1lbnQuc3R5bGUubXNUcmFuc2l0aW9uRGVsYXkgPSB2YWx1ZSArICdzJztcbiAgZWxlbWVudC5zdHlsZS5PVHJhbnNpdGlvbkRlbGF5ID0gdmFsdWUgKyAncyc7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgdXNlclNlbGVjdCBzdHlsZSBvZiB0aGUgZ2l2ZW4gZWxlbWVudCB0byAnbm9uZScuXG4gKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudFxuICovXG5mdW5jdGlvbiBzZXRVc2VyU2VsZWN0Tm9uZShlbGVtZW50KSB7XG4gIGVsZW1lbnQuc3R5bGUudXNlclNlbGVjdCA9ICdub25lJztcbiAgZWxlbWVudC5zdHlsZS53ZWJraXRVc2VyU2VsZWN0ID0gJ25vbmUnO1xuICBlbGVtZW50LnN0eWxlLk1velVzZXJTZWxlY3QgPSAnbm9uZSc7XG4gIGVsZW1lbnQuc3R5bGUubXNVc2VyU2VsZWN0ID0gJ25vbmUnO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYW55IGNoaWxkcmVuIGVsZW1lbnRzIGZyb20gdGhlIGdpdmVuIHBhcmVudCB0aGF0IGhhdmUgdGhlIGdpdmVuIGNsYXNzLlxuICpcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHBhcmVudCBUaGUgcGFyZW50IHRvIHJlbW92ZSBjaGlsZHJlbiBmcm9tLlxuICogQHBhcmFtIHtzdHJpbmd9IGNsYXNzTmFtZSBUaGUgY2xhc3MgdG8gbWF0Y2guXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUNoaWxkcmVuV2l0aENsYXNzKHBhcmVudCwgY2xhc3NOYW1lKSB7XG4gIGxldCBtYXRjaGluZ0NoaWxkcmVuID0gcGFyZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy4nICsgY2xhc3NOYW1lKTtcblxuICBmb3IgKGxldCBpID0gMCwgY291bnQgPSBtYXRjaGluZ0NoaWxkcmVuLmxlbmd0aDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICBwYXJlbnQucmVtb3ZlQ2hpbGQobWF0Y2hpbmdDaGlsZHJlbltpXSk7XG4gIH1cbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBDU1MgdHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb24gc3R5bGUgb2YgdGhlIGdpdmVuIGVsZW1lbnQgd2l0aCB0aGUgZ2l2ZW4gY3ViaWMtXG4gKiBiZXppZXIgcG9pbnRzLlxuICpcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgVGhlIGVsZW1lbnQuXG4gKiBAcGFyYW0ge3twMXg6IE51bWJlciwgcDF5OiBOdW1iZXIsIHAyeDogTnVtYmVyLCBwMnk6IE51bWJlcn19IGJlemllclB0cyBUaGUgY3ViaWMtYmV6aWVyXG4gKiBwb2ludHMgdG8gdXNlIGZvciB0aGlzIHRpbWluZyBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gc2V0VHJhbnNpdGlvbkN1YmljQmV6aWVyVGltaW5nRnVuY3Rpb24oZWxlbWVudCwgYmV6aWVyUHRzKSB7XG4gIGNvbnN0IHZhbHVlID0gJ2N1YmljLWJlemllcignICsgYmV6aWVyUHRzLnAxeCArICcsJyArIGJlemllclB0cy5wMXkgKyAnLCcgKyBiZXppZXJQdHMucDJ4ICsgJywnICtcbiAgICBiZXppZXJQdHMucDJ5ICsgJyknO1xuICBlbGVtZW50LnN0eWxlLnRyYW5zaXRpb25UaW1pbmdGdW5jdGlvbiA9IHZhbHVlO1xuICBlbGVtZW50LnN0eWxlLldlYmtpdFRyYW5zaXRpb25UaW1pbmdGdW5jdGlvbiA9IHZhbHVlO1xuICBlbGVtZW50LnN0eWxlLk1velRyYW5zaXRpb25UaW1pbmdGdW5jdGlvbiA9IHZhbHVlO1xuICBlbGVtZW50LnN0eWxlLm1zVHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uID0gdmFsdWU7XG4gIGVsZW1lbnQuc3R5bGUuT1RyYW5zaXRpb25UaW1pbmdGdW5jdGlvbiA9IHZhbHVlO1xufVxuXG4vLyBBIGNvbGxlY3Rpb24gb2YgZGlmZmVyZW50IHR5cGVzIG9mIGVhc2luZyBmdW5jdGlvbnMuXG5jb25zdCBlYXNpbmdGdW5jdGlvbnMgPSB7XG4gIGxpbmVhcjogdCA9PiB0LFxuICBlYXNlSW5RdWFkOiB0ID0+IHQgKiB0LFxuICBlYXNlT3V0UXVhZDogdCA9PiB0ICogKDIgLSB0KSxcbiAgZWFzZUluT3V0UXVhZDogdCA9PiB0IDwgMC41ID8gMiAqIHQgKiB0IDogLTEgKyAoNCAtIDIgKiB0KSAqIHQsXG4gIGVhc2VJbkN1YmljOiB0ID0+IHQgKiB0ICogdCxcbiAgZWFzZU91dEN1YmljOiB0ID0+IDEgKyAtLXQgKiB0ICogdCxcbiAgZWFzZUluT3V0Q3ViaWM6IHQgPT4gdCA8IDAuNSA/IDQgKiB0ICogdCAqIHQgOiAodCAtIDEpICogKDIgKiB0IC0gMikgKiAoMiAqIHQgLSAyKSArIDEsXG4gIGVhc2VJblF1YXJ0OiB0ID0+IHQgKiB0ICogdCAqIHQsXG4gIGVhc2VPdXRRdWFydDogdCA9PiAxIC0gLS10ICogdCAqIHQgKiB0LFxuICBlYXNlSW5PdXRRdWFydDogdCA9PiB0IDwgMC41ID8gOCAqIHQgKiB0ICogdCAqIHQgOiAxIC0gOCAqIC0tdCAqIHQgKiB0ICogdCxcbiAgZWFzZUluUXVpbnQ6IHQgPT4gdCAqIHQgKiB0ICogdCAqIHQsXG4gIGVhc2VPdXRRdWludDogdCA9PiAxICsgLS10ICogdCAqIHQgKiB0ICogdCxcbiAgZWFzZUluT3V0UXVpbnQ6IHQgPT4gdCA8IDAuNSA/IDE2ICogdCAqIHQgKiB0ICogdCAqIHQgOiAxICsgMTYgKiAtLXQgKiB0ICogdCAqIHQgKiB0XG59O1xuXG4vLyBBIGNvbGxlY3Rpb24gb2YgdGhlIGludmVyc2VzIG9mIGRpZmZlcmVudCB0eXBlcyBvZiBlYXNpbmcgZnVuY3Rpb25zLlxuY29uc3QgaW52ZXJzZUVhc2luZ0Z1bmN0aW9ucyA9IHtcbiAgbGluZWFyOiB0ID0+IHQsXG4gIGVhc2VJblF1YWQ6IHQgPT4gTWF0aC5zcXJ0KHQpLFxuICBlYXNlT3V0UXVhZDogdCA9PiAxIC0gTWF0aC5zcXJ0KDEgLSB0KSxcbiAgZWFzZUluT3V0UXVhZDogdCA9PiB0IDwgMC41ID8gTWF0aC5zcXJ0KHQgKiAwLjUpIDogMSAtIDAuNzA3MTA2NzggKiBNYXRoLnNxcnQoMSAtIHQpXG59O1xuXG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIHggYW5kIHkgY29vcmRpbmF0ZXMgcmVwcmVzZW50ZWQgYnkgdGhlIGdpdmVuIEJlemllciBjdXJ2ZSBhdCB0aGUgZ2l2ZW5cbiAqIHBlcmNlbnRhZ2UuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IHBlcmNlbnQgRXhwcmVzc2VkIGFzIGEgbnVtYmVyIGJldHdlZW4gMCBhbmQgMS5cbiAqIEBwYXJhbSB7QXJyYXkuPHt4Ok51bWJlcix5Ok51bWJlcn0+fSBjb250cm9sUG9pbnRzXG4gKiBAcmV0dXJucyB7e3g6TnVtYmVyLHk6TnVtYmVyfX1cbiAqL1xuZnVuY3Rpb24gZ2V0WFlGcm9tUGVyY2VudFdpdGhCZXppZXIocGVyY2VudCwgY29udHJvbFBvaW50cykge1xuICBsZXQgeDtcbiAgbGV0IHk7XG4gIGxldCBvbmVNaW51c1BlcmNlbnQ7XG4gIGxldCB0bXAxO1xuICBsZXQgdG1wMjtcbiAgbGV0IHRtcDM7XG4gIGxldCB0bXA0O1xuXG4gIG9uZU1pbnVzUGVyY2VudCA9IDEgLSBwZXJjZW50O1xuICB0bXAxID0gb25lTWludXNQZXJjZW50ICogb25lTWludXNQZXJjZW50ICogb25lTWludXNQZXJjZW50O1xuICB0bXAyID0gMyAqIHBlcmNlbnQgKiBvbmVNaW51c1BlcmNlbnQgKiBvbmVNaW51c1BlcmNlbnQ7XG4gIHRtcDMgPSAzICogcGVyY2VudCAqIHBlcmNlbnQgKiBvbmVNaW51c1BlcmNlbnQ7XG4gIHRtcDQgPSBwZXJjZW50ICogcGVyY2VudCAqIHBlcmNlbnQ7XG5cbiAgeCA9IGNvbnRyb2xQb2ludHNbMF0ueCAqIHRtcDEgK1xuICAgIGNvbnRyb2xQb2ludHNbMV0ueCAqIHRtcDIgK1xuICAgIGNvbnRyb2xQb2ludHNbMl0ueCAqIHRtcDMgK1xuICAgIGNvbnRyb2xQb2ludHNbM10ueCAqIHRtcDQ7XG4gIHkgPSBjb250cm9sUG9pbnRzWzBdLnkgKiB0bXAxICtcbiAgICBjb250cm9sUG9pbnRzWzFdLnkgKiB0bXAyICtcbiAgICBjb250cm9sUG9pbnRzWzJdLnkgKiB0bXAzICtcbiAgICBjb250cm9sUG9pbnRzWzNdLnkgKiB0bXA0O1xuXG4gIHJldHVybiB7IHg6IHgsIHk6IHkgfTtcbn1cblxuLyoqXG4gKiBBcHBsaWVzIHRoZSBnaXZlbiB0cmFuc2Zvcm0gdG8gdGhlIGdpdmVuIGVsZW1lbnQgYXMgYSBDU1Mgc3R5bGUgaW4gYSBjcm9zcy1icm93c2VyIGNvbXBhdGlibGVcbiAqIG1hbm5lci5cbiAqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0ge3N0cmluZ30gdHJhbnNmb3JtXG4gKi9cbmZ1bmN0aW9uIHNldFRyYW5zZm9ybShlbGVtZW50LCB0cmFuc2Zvcm0pIHtcbiAgZWxlbWVudC5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gIGVsZW1lbnQuc3R5bGUuTW96VHJhbnNmb3JtID0gdHJhbnNmb3JtO1xuICBlbGVtZW50LnN0eWxlLm1zVHJhbnNmb3JtID0gdHJhbnNmb3JtO1xuICBlbGVtZW50LnN0eWxlLk9UcmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gIGVsZW1lbnQuc3R5bGUudHJhbnNmb3JtID0gdHJhbnNmb3JtO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBjb3B5IG9mIHRoZSBnaXZlbiBhcnJheSB3aXRoIGl0cyBjb250ZW50cyByZS1hcnJhbmdlZCBpbiBhIHJhbmRvbSBvcmRlci5cbiAqXG4gKiBUaGUgb3JpZ2luYWwgYXJyYXkgaXMgbGVmdCBpbiBpdHMgb3JpZ2luYWwgb3JkZXIuXG4gKlxuICogQHBhcmFtIHtBcnJheX0gYXJyYXlcbiAqIEByZXR1cm5zIHtBcnJheX1cbiAqL1xuZnVuY3Rpb24gc2h1ZmZsZShhcnJheSkge1xuICBsZXQgaTtcbiAgbGV0IGo7XG4gIGxldCBjb3VudDtcbiAgbGV0IHRlbXA7XG5cbiAgZm9yIChpID0gMCwgY291bnQgPSBhcnJheS5sZW5ndGg7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgaiA9IHBhcnNlSW50KE1hdGgucmFuZG9tKCkgKiBjb3VudCk7XG4gICAgdGVtcCA9IGFycmF5W2pdO1xuICAgIGFycmF5W2pdID0gYXJyYXlbaV07XG4gICAgYXJyYXlbaV0gPSB0ZW1wO1xuICB9XG5cbiAgcmV0dXJuIGFycmF5O1xufVxuXG4vKipcbiAqIFBlcmZvcm1zIGEgc2hhbGxvdyBjb3B5IG9mIHRoZSBnaXZlbiBvYmplY3QuXG4gKlxuICogVGhpcyBvbmx5IGNvcGllcyBlbnVtZXJhYmxlIHByb3BlcnRpZXMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdFxuICogQHJldHVybnMge09iamVjdH1cbiAqL1xuZnVuY3Rpb24gc2hhbGxvd0NvcHkob2JqZWN0KSB7XG4gIGlmICh0eXBlb2Ygb2JqZWN0ID09PSAnb2JqZWN0Jykge1xuICAgIGNvbnN0IGNsb25lT2JqZWN0ID0ge307XG5cbiAgICBPYmplY3Qua2V5cyhvYmplY3QpXG4gICAgICAuZm9yRWFjaChrZXkgPT4gY2xvbmVPYmplY3Rba2V5XSA9IG9iamVjdFtrZXldKTtcblxuICAgIHJldHVybiBjbG9uZU9iamVjdDtcbiAgfVxuICBlbHNlIHtcbiAgICByZXR1cm4gb2JqZWN0O1xuICB9XG59XG5cbi8qKlxuICogUGVyZm9ybXMgYSBkZWVwIGNvcHkgb2YgdGhlIGdpdmVuIG9iamVjdC5cbiAqXG4gKiBUaGlzIG9ubHkgY29waWVzIGVudW1lcmFibGUgcHJvcGVydGllcy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XG4gKiBAcmV0dXJucyB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiBkZWVwQ29weShvYmplY3QpIHtcbiAgaWYgKHR5cGVvZiBvYmplY3QgPT09ICdvYmplY3QnKSB7XG4gICAgLy8gSGFjazogTm90IGEgcm9idXN0IGNvcHkgcG9saWN5XG4gICAgbGV0IGNsb25lT2JqZWN0O1xuICAgIGlmIChvYmplY3QgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgY2xvbmVPYmplY3QgPSBbXTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBjbG9uZU9iamVjdCA9IHt9O1xuICAgIH1cblxuICAgIE9iamVjdC5rZXlzKG9iamVjdClcbiAgICAgIC5mb3JFYWNoKGtleSA9PiBjbG9uZU9iamVjdFtrZXldID0gZGVlcENvcHkob2JqZWN0W2tleV0pKTtcblxuICAgIHJldHVybiBjbG9uZU9iamVjdDtcbiAgfVxuICBlbHNlIHtcbiAgICByZXR1cm4gb2JqZWN0O1xuICB9XG59XG5cbi8qKlxuICogQ29udmVydHMgdGhlIGdpdmVuIEhTTCBjb2xvciB2YWx1ZXMgdG8gSFNWIGNvbG9yIHZhbHVlcy5cbiAqXG4gKiBHaXZlbiBhbmQgcmV0dXJuZWQgdmFsdWVzIHdpbGwgYmUgaW4gdGhlIHJhbmdlIG9mIFswLCAxXS5cbiAqXG4gKiBAcGFyYW0ge0hzbENvbG9yfSBoc2xcbiAqIEByZXR1cm5zIHt7aDpOdW1iZXIsczpOdW1iZXIsdjpOdW1iZXJ9fVxuICovXG5mdW5jdGlvbiBoc2xUb0hzdihoc2wpIHtcbiAgY29uc3QgdGVtcCA9IGhzbC5zICogKGhzbC5sIDwgMC41ID8gaHNsLmwgOiAxIC0gaHNsLmwpO1xuICByZXR1cm4ge1xuICAgIGg6IGhzbC5oLFxuICAgIHM6IDIgKiB0ZW1wIC8gKGhzbC5sICsgdGVtcCksXG4gICAgdjogaHNsLmwgKyB0ZW1wXG4gIH07XG59XG5cbi8qKlxuICogQ29udmVydHMgdGhlIGdpdmVuIEhTViBjb2xvciB2YWx1ZXMgdG8gSFNMIGNvbG9yIHZhbHVlcy5cbiAqXG4gKiBHaXZlbiBhbmQgcmV0dXJuZWQgdmFsdWVzIHdpbGwgYmUgaW4gdGhlIHJhbmdlIG9mIFswLCAxXS5cbiAqXG4gKiBAcGFyYW0ge3toOk51bWJlcixzOk51bWJlcix2Ok51bWJlcn19IGhzdlxuICogQHJldHVybnMge0hzbENvbG9yfVxuICovXG5mdW5jdGlvbiBoc3ZUb0hzbChoc3YpIHtcbiAgY29uc3QgdGVtcCA9ICgyIC0gaHN2LnMpICogaHN2LnY7XG4gIHJldHVybiB7XG4gICAgaDogaHN2LmgsXG4gICAgczogaHN2LnMgKiBoc3YudiAvICh0ZW1wIDwgMSA/IHRlbXAgOiAyLjAwMDAwMDAxIC0gdGVtcCksXG4gICAgbDogdGVtcCAqIDAuNVxuICB9O1xufVxuXG4vKipcbiAqIENvbnZlcnRzIHRoZSBnaXZlbiBIU0wgY29sb3IgdmFsdWVzIHRvIFJHQiBjb2xvciB2YWx1ZXMuXG4gKlxuICogR2l2ZW4gYW5kIHJldHVybmVkIHZhbHVlcyB3aWxsIGJlIGluIHRoZSByYW5nZSBvZiBbMCwgMV0uXG4gKlxuICogT3JpZ2luYWxseSBhZGFwdGVkIGZyb20gaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9IU0xfY29sb3Jfc3BhY2UuXG4gKlxuICogQHBhcmFtIHtIc2xDb2xvcn0gaHNsXG4gKiBAcmV0dXJucyB7UmdiQ29sb3J9IHJnYlxuICovXG5mdW5jdGlvbiBoc2xUb1JnYihoc2wpIHtcbiAgbGV0IHI7XG4gIGxldCBnO1xuICBsZXQgYjtcblxuICBpZiAoaHNsLnMgPT09IDApIHtcbiAgICAvLyBBY2hyb21hdGljLlxuICAgIHIgPSBoc2wubDtcbiAgICBnID0gaHNsLmw7XG4gICAgYiA9IGhzbC5sO1xuICB9XG4gIGVsc2Uge1xuICAgIGNvbnN0IHEgPSBoc2wubCA8IDAuNSA/XG4gICAgICBoc2wubCAqICgxICsgaHNsLnMpIDpcbiAgICAgIGhzbC5sICsgaHNsLnMgLSBoc2wubCAqIGhzbC5zO1xuICAgIGNvbnN0IHAgPSAyICogaHNsLmwgLSBxO1xuXG4gICAgciA9IF9odWUyUmdiKHAsIHEsIGhzbC5oICsgMSAvIDMpO1xuICAgIGcgPSBfaHVlMlJnYihwLCBxLCBoc2wuaCk7XG4gICAgYiA9IF9odWUyUmdiKHAsIHEsIGhzbC5oIC0gMSAvIDMpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICByOiByLFxuICAgIGc6IGcsXG4gICAgYjogYlxuICB9O1xufVxuXG5mdW5jdGlvbiBfaHVlMlJnYihwLCBxLCB0KSB7XG4gIGlmICh0IDwgMCkge1xuICAgIHQrKztcbiAgfVxuICBlbHNlIGlmICh0ID4gMSkge1xuICAgIHQtLTtcbiAgfVxuXG4gIGlmICh0IDwgMSAvIDYpIHtcbiAgICByZXR1cm4gcCArIChxIC0gcCkgKiA2ICogdDtcbiAgfVxuICBlbHNlIGlmICh0IDwgMSAvIDIpIHtcbiAgICByZXR1cm4gcTtcbiAgfVxuICBlbHNlIGlmICh0IDwgMiAvIDMpIHtcbiAgICByZXR1cm4gcCArIChxIC0gcCkgKiAoMiAvIDMgLSB0KSAqIDY7XG4gIH1cbiAgZWxzZSB7XG4gICAgcmV0dXJuIHA7XG4gIH1cbn1cblxuLyoqXG4gKiBDb252ZXJ0cyB0aGUgZ2l2ZW4gUkdCIGNvbG9yIHZhbHVlcyB0byBIU0wgY29sb3IgdmFsdWVzLlxuICpcbiAqIEdpdmVuIGFuZCByZXR1cm5lZCB2YWx1ZXMgd2lsbCBiZSBpbiB0aGUgcmFuZ2Ugb2YgWzAsIDFdLlxuICpcbiAqIE9yaWdpbmFsbHkgYWRhcHRlZCBmcm9tIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSFNMX2NvbG9yX3NwYWNlLlxuICpcbiAqIEBwYXJhbSB7e3I6TnVtYmVyLGc6TnVtYmVyLGI6TnVtYmVyfX0gcmdiXG4gKiBAcmV0dXJucyB7SHNsQ29sb3J9IGhzbFxuICovXG5mdW5jdGlvbiByZ2JUb0hzbChyZ2IpIHtcbiAgY29uc3QgbWF4ID0gTWF0aC5tYXgocmdiLnIsIHJnYi5nLCByZ2IuYik7XG4gIGNvbnN0IG1pbiA9IE1hdGgubWluKHJnYi5yLCByZ2IuZywgcmdiLmIpO1xuICBsZXQgaDtcbiAgbGV0IHM7XG4gIGNvbnN0IGwgPSAobWF4ICsgbWluKSAvIDI7XG5cbiAgaWYgKG1heCA9PT0gbWluKSB7XG4gICAgLy8gQWNocm9tYXRpYy5cbiAgICBoID0gMDtcbiAgICBzID0gMDtcbiAgfVxuICBlbHNlIHtcbiAgICBjb25zdCBkID0gbWF4IC0gbWluO1xuICAgIHMgPSBsID4gMC41ID9cbiAgICAgIGQgLyAoMiAtIG1heCAtIG1pbikgOlxuICAgICAgZCAvIChtYXggKyBtaW4pO1xuXG4gICAgc3dpdGNoIChtYXgpIHtcbiAgICAgIGNhc2UgcmdiLnI6XG4gICAgICAgIGggPSAocmdiLmcgLSByZ2IuYikgLyBkICsgKHJnYi5nIDwgcmdiLmIgPyA2IDogMCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSByZ2IuZzpcbiAgICAgICAgaCA9IChyZ2IuYiAtIHJnYi5yKSAvIGQgKyAyO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgcmdiLmI6XG4gICAgICAgIGggPSAocmdiLnIgLSByZ2IuZykgLyBkICsgNDtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgaCAvPSA2O1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBoOiBoLFxuICAgIHM6IHMsXG4gICAgbDogbFxuICB9O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSB2YWxpZCBjb2xvciBzdHJpbmcgdG8gYXNzaWduIHRvIGEgQ1NTIHByb3BlcnR5IGZyb20gdGhlIGdpdmVuIGgvcy9sIGNvbG9yIHZhbHVlcy5cbiAqXG4gKiBHaXZlbiB2YWx1ZXMgc2hvdWxkIGJlIGluIHRoZSByYW5nZSBvZiBbMCwxXS5cbiAqXG4gKiBAcGFyYW0ge0hzbENvbG9yfSBoc2xcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUhzbENvbG9yU3RyaW5nKGhzbCkge1xuICByZXR1cm4gdHlwZW9mIGhzbC5hICE9PSAndW5kZWZpbmVkJyA/XG4gICAgYGhzbGEoJHtoc2wuaCAqIDM2MH0sJHtoc2wucyAqIDEwMH0lLCR7aHNsLmwgKiAxMDB9JSwke2hzbC5hfSlgIDpcbiAgICBgaHNsKCR7aHNsLmggKiAzNjB9LCR7aHNsLnMgKiAxMDB9JSwke2hzbC5sICogMTAwfSUpYDtcbn1cblxuLyoqXG4gKiBDaGVja3MgdGhlIGdpdmVuIGVsZW1lbnQgYW5kIGFsbCBvZiBpdHMgYW5jZXN0b3JzLCBhbmQgcmV0dXJucyB0aGUgZmlyc3QgdGhhdCBjb250YWlucyB0aGVcbiAqIGdpdmVuIGNsYXNzLlxuICpcbiAqIEBwYXJhbSB7P0hUTUxFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0ge3N0cmluZ30gY2xhc3NOYW1lXG4gKiBAcmV0dXJucyB7P0hUTUxFbGVtZW50fVxuICovXG5mdW5jdGlvbiBmaW5kQ2xhc3NJblNlbGZPckFuY2VzdG9ycyhlbGVtZW50LCBjbGFzc05hbWUpIHtcbiAgd2hpbGUgKGVsZW1lbnQpIHtcbiAgICBpZiAoY29udGFpbnNDbGFzcyhlbGVtZW50LCBjbGFzc05hbWUpKSB7XG4gICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxubGV0IHV0aWxTdHlsZVNoZWV0O1xuXG4vKipcbiAqIEFkZHMgdGhlIGdpdmVuIHN0eWxlIHJ1bGUgdG8gYSBzdHlsZSBzaGVldCBmb3IgdGhlIGN1cnJlbnQgZG9jdW1lbnQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHN0eWxlUnVsZVxuICovXG5mdW5jdGlvbiBhZGRSdWxlVG9TdHlsZVNoZWV0KHN0eWxlUnVsZSkge1xuICAvLyBDcmVhdGUgdGhlIGN1c3RvbSBzdHlsZSBzaGVldCBpZiBpdCBkb2Vzbid0IGFscmVhZHkgZXhpc3RcbiAgaWYgKCF1dGlsU3R5bGVTaGVldCkge1xuICAgIHV0aWxTdHlsZVNoZWV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdLmFwcGVuZENoaWxkKHV0aWxTdHlsZVNoZWV0KTtcbiAgfVxuXG4gIC8vIEFkZCB0aGUgZ2l2ZW4gcnVsZSB0byB0aGUgY3VzdG9tIHN0eWxlIHNoZWV0XG4gIGlmICh1dGlsU3R5bGVTaGVldC5zdHlsZVNoZWV0KSB7XG4gICAgdXRpbFN0eWxlU2hlZXQuc3R5bGVTaGVldC5jc3NUZXh0ID0gc3R5bGVSdWxlO1xuICB9XG4gIGVsc2Uge1xuICAgIHV0aWxTdHlsZVNoZWV0LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHN0eWxlUnVsZSkpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNoZWNrRm9yU2FmYXJpKCkge1xuICByZXR1cm4gL1NhZmFyaS9pLnRlc3Qod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpICYmICEvQ2hyb21lL2kudGVzdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCk7XG59XG5cbmZ1bmN0aW9uIGNoZWNrRm9ySW9zKCkge1xuICByZXR1cm4gL2lQaG9uZXxpUG9kfGlQYWQvaS50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgZGVib3VuY2VkIHZlcnNpb24gb2YgdGhlIGdpdmVuIGZ1bmN0aW9uLlxuICpcbiAqIEV2ZW4gaWYgdGhlIGRlYm91bmNlZCBmdW5jdGlvbiBpcyBpbnZva2VkIG1hbnkgdGltZXMsIHRoZSB3cmFwcGVkIGZ1bmN0aW9uIHdpbGwgb25seSBiZSBpbnZva2VkXG4gKiBhZnRlciB0aGUgZ2l2ZW4gZGVsYXkgaGFzIGVsbGFwc2VkIHNpbmNlIHRoZSBsYXN0IGludm9jYXRpb24uXG4gKlxuICogSWYgaXNJbnZva2VkSW1tZWRpYXRlbHkgaXMgdHJ1ZSwgdGhlbiB0aGUgd3JhcHBlZCBmdW5jdGlvbiB3aWxsIGJlIHRyaWdnZXJlZCBhdCB0aGUgc3RhcnQgb2YgdGhlXG4gKiBpbnZvY2F0aW9uIGdyb3VwIHJhdGhlciB0aGFuIGF0IHRoZSBlbmQuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gd3JhcHBlZEZ1bmN0aW9uXG4gKiBAcGFyYW0ge251bWJlcn0gZGVsYXkgSW4gbWlsbGlzZWNvbmRzLlxuICogQHBhcmFtIHtib29sZWFufSBbaXNJbnZva2VkSW1tZWRpYXRlbHk9ZmFsc2VdXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259XG4gKi9cbmZ1bmN0aW9uIGRlYm91bmNlKHdyYXBwZWRGdW5jdGlvbiwgZGVsYXksIGlzSW52b2tlZEltbWVkaWF0ZWx5ID0gZmFsc2UpIHtcbiAgbGV0IHRpbWVvdXRJZDtcblxuICByZXR1cm4gKCkgPT4ge1xuICAgIC8vIFNhdmUgdGhlIGNvbnRleHQgYW5kIGFyZ3VtZW50cyBwYXNzZWQgZnJvbSB0aGUgY2xpZW50ICh0aGlzIHdpbGwgdXNlIHRoZSB2YWx1ZXMgZnJvbSB0aGVcbiAgICAvLyBmaXJzdCBpbnZvY2F0aW9uIG9mIHRoZSBpbnZvY2F0aW9uIGdyb3VwLlxuICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzO1xuICAgIGNvbnN0IGFyZ3MgPSBhcmd1bWVudHM7XG5cbiAgICAvLyBJbnZva2UgaW1tZWRpYXRlbHkgb25seSBpZiB0aGlzIGlzIHRoZSBmaXJzdCBpbnZvY2F0aW9uIG9mIGEgZ3JvdXAuXG4gICAgaWYgKGlzSW52b2tlZEltbWVkaWF0ZWx5ICYmICF0aW1lb3V0SWQpIHtcbiAgICAgIHdyYXBwZWRGdW5jdGlvbi5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICB9XG5cbiAgICAvLyBSZXNldCB0aGUgZGVsYXkuXG4gICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgdGltZW91dElkID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAvLyBUaGUgaW52b2NhdGlvbiBncm91cCBoYXMgZW5kZWQuXG4gICAgICB0aW1lb3V0SWQgPSBudWxsO1xuICAgICAgaWYgKCFpc0ludm9rZWRJbW1lZGlhdGVseSkge1xuICAgICAgICB3cmFwcGVkRnVuY3Rpb24uYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICB9XG4gICAgfSwgZGVsYXkpO1xuICB9O1xufVxuXG4vKipcbiAqIFJldHVybnMgYSB0aHJvdHRsZWQgdmVyc2lvbiBvZiB0aGUgZ2l2ZW4gZnVuY3Rpb24uXG4gKlxuICogRXZlbiBpZiB0aGUgdGhyb3R0bGVkIGZ1bmN0aW9uIGlzIGludm9rZWQgbWFueSB0aW1lcywgdGhlIHdyYXBwZWQgZnVuY3Rpb24gd2lsbCBvbmx5IGJlIGludm9rZWRcbiAqIGF0IGVhY2ggaW50ZXJ2YWwgb2YgdGhlIGdpdmVuIGRlbGF5LiBBZnRlciB0aGUgdGhyb3R0bGVkIGZ1bmN0aW9uIHN0b3BzIGJlaW5nIGludm9rZWQsIHRoZW5cbiAqIHdyYXBwZWQgZnVuY3Rpb24gd2lsbCBhbHNvIHN0b3AgYmVpbmcgaW52b2tlZC5cbiAqXG4gKiBJZiBpc0ludm9rZWRJbW1lZGlhdGVseSBpcyB0cnVlLCB0aGVuIHRoZSB3cmFwcGVkIGZ1bmN0aW9uIHdpbGwgYmUgdHJpZ2dlcmVkIGF0IHRoZSBzdGFydCBvZiB0aGVcbiAqIGludm9jYXRpb24gZGVsYXkgcmF0aGVyIHRoYW4gYXQgdGhlIGVuZC5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSB3cmFwcGVkRnVuY3Rpb25cbiAqIEBwYXJhbSB7bnVtYmVyfSBkZWxheSBJbiBtaWxsaXNlY29uZHMuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0ludm9rZWRJbW1lZGlhdGVseT1mYWxzZV1cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn1cbiAqL1xuZnVuY3Rpb24gdGhyb3R0bGUod3JhcHBlZEZ1bmN0aW9uLCBkZWxheSwgaXNJbnZva2VkSW1tZWRpYXRlbHkgPSBmYWxzZSkge1xuICBsZXQgdGltZW91dElkO1xuXG4gIHJldHVybiAoKSA9PiB7XG4gICAgLy8gU2F2ZSB0aGUgY29udGV4dCBhbmQgYXJndW1lbnRzIHBhc3NlZCBmcm9tIHRoZSBjbGllbnQgKHRoaXMgd2lsbCB1c2UgdGhlIHZhbHVlcyBmcm9tIHRoZVxuICAgIC8vIGZpcnN0IGludm9jYXRpb24gb2YgdGhlIGludm9jYXRpb24gZ3JvdXAuXG4gICAgY29uc3QgY29udGV4dCA9IHRoaXM7XG4gICAgY29uc3QgYXJncyA9IGFyZ3VtZW50cztcblxuICAgIC8vIE9ubHkgdHJpZ2dlciBhIG5ldyBpbnZvY2F0aW9uIGdyb3VwIGlmIHdlIGFyZSBub3QgYWxyZWFkeS9zdGlsbCB3YWl0aW5nIG9uIHRoZSBkZWxheSBmcm9tIGFcbiAgICAvLyBwcmV2aW91cyBpbnZvY2F0aW9uLlxuICAgIGlmICghdGltZW91dElkKSB7XG4gICAgICBpZiAoaXNJbnZva2VkSW1tZWRpYXRlbHkpIHtcbiAgICAgICAgd3JhcHBlZEZ1bmN0aW9uLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgICAgfVxuXG4gICAgICAvLyBTdGFydCB0aGUgZGVsYXkuXG4gICAgICB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgLy8gVGhlIGludm9jYXRpb24gZ3JvdXAgaGFzIGVuZGVkLlxuICAgICAgICB0aW1lb3V0SWQgPSBudWxsO1xuICAgICAgICBpZiAoIWlzSW52b2tlZEltbWVkaWF0ZWx5KSB7XG4gICAgICAgICAgd3JhcHBlZEZ1bmN0aW9uLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgICAgICB9XG4gICAgICB9LCBkZWxheSk7XG4gICAgfVxuICB9O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXkuPCo+fFN0cmluZ30gYXJyYXlcbiAqIEBwYXJhbSB7Kn0gZGVsaW1pdGVyXG4gKiBAcmV0dXJucyB7QXJyYXkuPCo+fVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX2ludGVybGVhdmUoYXJyYXksIGRlbGltaXRlcikge1xuICBjb25zdCByZXN1bHQgPSBuZXcgQXJyYXkoYXJyYXkubGVuZ3RoICogMiAtIDEpO1xuICBpZiAoYXJyYXkubGVuZ3RoKSB7XG4gICAgcmVzdWx0LnB1c2goYXJyYXlbMF0pO1xuICB9XG4gIGZvciAobGV0IGkgPSAxLCBjb3VudCA9IGFycmF5Lmxlbmd0aDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICByZXN1bHQucHVzaChkZWxpbWl0ZXIpO1xuICAgIHJlc3VsdC5wdXNoKGFycmF5W2ldKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIExvYWRzIHRoZSBnaXZlbiBzcmMgZm9yIHRoZSBnaXZlbiBpbWFnZS5cbiAqXG4gKiBAcGFyYW0ge0hUTUxJbWFnZUVsZW1lbnR9IGltYWdlXG4gKiBAcGFyYW0ge3N0cmluZ30gc3JjXG4gKiBAcmV0dXJucyB7UHJvbWlzZS48SFRNTEltYWdlRWxlbWVudCwgRXJyb3I+fVxuICovXG5mdW5jdGlvbiBsb2FkSW1hZ2VTcmMoaW1hZ2UsIHNyYykge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGNvbnNvbGUuZGVidWcoYExvYWRpbmcgaW1hZ2U6ICR7c3JjfWApO1xuXG4gICAgaW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIF8gPT4gcmVzb2x2ZShpbWFnZSkpO1xuICAgIGltYWdlLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgcmVqZWN0KTtcbiAgICBpbWFnZS5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsIHJlamVjdCk7XG5cbiAgICBpbWFnZS5zcmMgPSBzcmM7XG4gIH0pO1xufVxuXG4vKipcbiAqIExvYWRzIHRleHQgZnJvbSB0aGUgZ2l2ZW4gVVJMLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmxcbiAqIEByZXR1cm5zIHtQcm9taXNlLjxTdHJpbmcsIEVycm9yPn1cbiAqL1xuZnVuY3Rpb24gbG9hZFRleHQodXJsKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgY29uc3QgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIF8gPT4gcmVzb2x2ZSh4aHIucmVzcG9uc2UpKTtcbiAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCByZWplY3QpO1xuICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsIHJlamVjdCk7XG5cbiAgICBjb25zb2xlLmRlYnVnKGBMb2FkaW5nIHRleHQ6ICR7dXJsfWApO1xuXG4gICAgeGhyLm9wZW4oJ0dFVCcsIHVybCk7XG4gICAgeGhyLnNlbmQoKTtcbiAgfSk7XG59XG5cbi8qKlxuICogTG9hZHMgYSBKU09OIG9iamVjdCBmcm9tIHRoZSBnaXZlbiBVUkwuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHVybFxuICogQHJldHVybnMge1Byb21pc2UuPE9iamVjdCwgRXJyb3I+fVxuICovXG5mdW5jdGlvbiBsb2FkSnNvbih1cmwpIHtcbiAgcmV0dXJuIGxvYWRUZXh0KHVybCkudGhlbihqc29uVGV4dCA9PiBKU09OLnBhcnNlKGpzb25UZXh0KSk7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgY3VycmVudCBzdGFjayB0cmFjZS5cbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiBnZXRTdGFja1RyYWNlKCkge1xuICByZXR1cm4gbmV3IEVycm9yKCkuc3RhY2s7XG59XG5cbi8qKlxuICogRnJlZXplcyB0aGUgZ2l2ZW4gb2JqZWN0IGFuZCByZWN1cnNpdmVseSBmcmVlemVzIGFsbCBvZiBpdHMgcHJvcGVydGllcy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XG4gKi9cbmZ1bmN0aW9uIGRlZXBGcmVlemUob2JqZWN0KSB7XG4gIGlmICh0eXBlb2Ygb2JqZWN0ID09PSAnb2JqZWN0Jykge1xuICAgIE9iamVjdC5mcmVlemUob2JqZWN0KTtcbiAgICBPYmplY3Qua2V5cyhvYmplY3QpLmZvckVhY2goa2V5ID0+IGRlZXBGcmVlemUob2JqZWN0W2tleV0pKTtcbiAgfVxufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBHVUlELlxuICpcbiAqIEdVSUQgc3BlY2lmaWNhdGlvbjogaHR0cDovL3d3dy5pZXRmLm9yZy9yZmMvcmZjNDEyMi50eHRcbiAqXG4gKiBMb2dpYyBhZG9wdGVkIGZyb20gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjExNzUyMy80ODk1NjguXG4gKlxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gY3JlYXRlR3VpZCgpIHtcbiAgcmV0dXJuICd4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHgnLnJlcGxhY2UoL1t4eV0vZywgYyA9PiB7XG4gICAgY29uc3QgciA9IE1hdGgucmFuZG9tKCkgKiAxNiB8IDA7XG4gICAgY29uc3QgdiA9IGMgPT09ICd4JyA/IHIgOiAociAmIDB4MyB8IDB4OCk7XG4gICAgcmV0dXJuIHYudG9TdHJpbmcoMTYpO1xuICB9KTtcbn1cblxuLyoqXG4gKiAtMTEgJSAzID09PSAtMlxuICogbW9kKC0xMSwgMykgPT09IDFcbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gblxuICogQHBhcmFtIHtudW1iZXJ9IG1cbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cbmZ1bmN0aW9uIG1vZChuLCBtKSB7XG4gIHJldHVybiAoKG4gJSBtKSArIG0pICUgbTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gbWluXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4XG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5mdW5jdGlvbiByYW5kb21GbG9hdEluUmFuZ2UobWluLCBtYXgpIHtcbiAgcmV0dXJuIE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSArIG1pbjtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gbWluIEluY2x1c2l2ZVxuICogQHBhcmFtIHtudW1iZXJ9IG1heCBFeGNsdXNpdmVcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cbmZ1bmN0aW9uIHJhbmRvbUludEluUmFuZ2UobWluLCBtYXgpIHtcbiAgcmV0dXJuIHBhcnNlSW50KE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSArIG1pbik7XG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheX0gbGlzdFxuICogQHJldHVybnMgeyp9XG4gKi9cbmZ1bmN0aW9uIHBpY2tSYW5kb20obGlzdCkge1xuICByZXR1cm4gbGlzdFtyYW5kb21JbnRJblJhbmdlKDAsIGxpc3QubGVuZ3RoKV07XG59XG5cbi8qKlxuICogVHJpZ2dlcnMgdGhlIGdpdmVuIGNhbGxiYWNrIHdoZW4gZWl0aGVyIHRoZSBjdXJyZW50IHRhYiBvciB0aGUgYnJvd3NlciB3aW5kb3cgbG9zZXMvZ2FpbnMgZm9jdXMuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm9jdXNDaGFuZ2VIYW5kbGVyXG4gKi9cbmZ1bmN0aW9uIGhhbmRsZVBhZ2VGb2N1c0NoYW5nZShmb2N1c0NoYW5nZUhhbmRsZXIpIHtcbiAgLy8gUGF1c2UvdW5wYXVzZSB0aGUgYXBwIHdoZW4gdGhlIHRhYiBsb3Nlcy9nYWlucyBmb2N1cy5cbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eWNoYW5nZScsICgpID0+IGZvY3VzQ2hhbmdlSGFuZGxlcighZG9jdW1lbnQuaGlkZGVuKSk7XG4gIC8vIFBhdXNlL3VucGF1c2UgdGhlIGFwcCB3aGVuIHRoZSBicm93c2VyIHdpbmRvdyBsb3Nlcy9nYWlucyBmb2N1cy5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoKSA9PiBmb2N1c0NoYW5nZUhhbmRsZXIoZmFsc2UpKTtcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgKCkgPT4gZm9jdXNDaGFuZ2VIYW5kbGVyKHRydWUpKTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGFuIGFycmF5IHdpdGggYWxsIHRoZSBjb25zZWN1dGl2ZSBudW1iZXJzIGZyb20gc3RhcnQgKGluY2x1c2l2ZSkgdG8gZW5kIChleGNsdXNpdmUpLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydFxuICogQHBhcmFtIHtudW1iZXJ9IGVuZFxuICogQHJldHVybnMge0FycmF5LjxOdW1iZXI+fVxuICovXG5mdW5jdGlvbiByYW5nZShzdGFydCwgZW5kKSB7XG4gIGNvbnN0IHIgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDAsIGogPSBzdGFydDsgaiA8IGVuZDsgaSsrLCBqKyspIHtcbiAgICByW2ldID0gajtcbiAgfVxuICByZXR1cm4gcjtcbn1cblxuLyoqXG4gKiBAcGFyYW0geyp9IHZhbHVlXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNJbnQodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgJiZcbiAgICBpc0Zpbml0ZSh2YWx1ZSkgJiZcbiAgICBwYXJzZUludCh2YWx1ZSkgPT09IHZhbHVlO1xufVxuXG4vKipcbiAqIEZpbmQgdGhlIGZpcnN0IHZhbHVlIGluIGEgbGlzdCB0aGF0IHNhdGlzZmllcyBhIHByZWRpY2F0ZS5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBsaXN0XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGVcbiAqIEByZXR1cm5zIHsqfVxuICovXG5mdW5jdGlvbiBmaW5kKGxpc3QsIHByZWRpY2F0ZSkge1xuICBmb3IgKHZhciBpID0gMCwgY291bnQgPSBsaXN0Lmxlbmd0aDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICBjb25zdCB2YWx1ZSA9IGxpc3RbaV07XG4gICAgaWYgKHByZWRpY2F0ZS5jYWxsKG51bGwsIHZhbHVlLCBpLCBsaXN0KSkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuY29uc3Qga2V5Q29kZXMgPSB7XG4gICdhJzogNjUsXG4gICdiJzogNjYsXG4gICdjJzogNjcsXG4gICdkJzogNjgsXG4gICdlJzogNjksXG4gICdmJzogNzAsXG4gICdnJzogNzEsXG4gICdoJzogNzIsXG4gICdpJzogNzMsXG4gICdqJzogNzQsXG4gICdrJzogNzUsXG4gICdsJzogNzYsXG4gICdtJzogNzcsXG4gICduJzogNzgsXG4gICdvJzogNzksXG4gICdwJzogODAsXG4gICdxJzogODEsXG4gICdyJzogODIsXG4gICdzJzogODMsXG4gICd0JzogODQsXG4gICd1JzogODUsXG4gICd2JzogODYsXG4gICd3JzogODcsXG4gICd4JzogODgsXG4gICd5JzogODksXG4gICd6JzogOTAsXG4gICcwJzogNDgsXG4gICcxJzogNDksXG4gICcyJzogNTAsXG4gICczJzogNTEsXG4gICc0JzogNTIsXG4gICc1JzogNTMsXG4gICc2JzogNTQsXG4gICc3JzogNTUsXG4gICc4JzogNTYsXG4gICc5JzogNTcsXG4gICdTUEFDRSc6IDMyLFxuICAnRU5URVInOiAxMyxcbiAgJ0VTQ0FQRSc6IDI3LFxuICAnTEVGVCc6IDM3LFxuICAnVVAnOiAzOCxcbiAgJ1JJR0hUJzogMzksXG4gICdET1dOJzogNDBcbn07XG5cbmNvbnN0IHN2Z05hbWVzcGFjZSA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc7XG5jb25zdCB4bGlua05hbWVzcGFjZSA9ICdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJztcblxuZXhwb3J0IHtcbiAgaXNJbkRldk1vZGUsXG4gIGxpc3RlblRvTXVsdGlwbGVGb3JNdWx0aXBsZSxcbiAgY3JlYXRlRWxlbWVudCxcbiAgY29udGFpbnNDbGFzcyxcbiAgdG9nZ2xlQ2xhc3MsXG4gIGdldFBhZ2VPZmZzZXQsXG4gIGdldFZpZXdwb3J0U2l6ZSxcbiAgcmVtb3ZlQ2hpbGRJZlByZXNlbnQsXG4gIGFkZENsYXNzLFxuICByZW1vdmVDbGFzcyxcbiAgY2xlYXJDbGFzc2VzLFxuICBnZXRUZXh0V2lkdGgsXG4gIGVuY29kZVF1ZXJ5U3RyaW5nLFxuICBnZXRRdWVyeVN0cmluZ1BhcmFtZXRlclZhbHVlLFxuICBzZXRUcmFuc2l0aW9uLFxuICBzZXRUcmFuc2l0aW9uRHVyYXRpb25TZWNvbmRzLFxuICBzZXRUcmFuc2l0aW9uRGVsYXlTZWNvbmRzLFxuICBzZXRVc2VyU2VsZWN0Tm9uZSxcbiAgcmVtb3ZlQ2hpbGRyZW5XaXRoQ2xhc3MsXG4gIHNldFRyYW5zaXRpb25DdWJpY0JlemllclRpbWluZ0Z1bmN0aW9uLFxuICBlYXNpbmdGdW5jdGlvbnMsXG4gIGludmVyc2VFYXNpbmdGdW5jdGlvbnMsXG4gIGdldFhZRnJvbVBlcmNlbnRXaXRoQmV6aWVyLFxuICBzZXRUcmFuc2Zvcm0sXG4gIHNodWZmbGUsXG4gIHNoYWxsb3dDb3B5LFxuICBkZWVwQ29weSxcbiAgaHN2VG9Ic2wsXG4gIGhzbFRvSHN2LFxuICBoc2xUb1JnYixcbiAgcmdiVG9Ic2wsXG4gIGNyZWF0ZUhzbENvbG9yU3RyaW5nLFxuICBmaW5kQ2xhc3NJblNlbGZPckFuY2VzdG9ycyxcbiAgYWRkUnVsZVRvU3R5bGVTaGVldCxcbiAgY2hlY2tGb3JTYWZhcmksXG4gIGNoZWNrRm9ySW9zLFxuICBkZWJvdW5jZSxcbiAgdGhyb3R0bGUsXG4gIGxvYWRJbWFnZVNyYyxcbiAgbG9hZFRleHQsXG4gIGxvYWRKc29uLFxuICBnZXRTdGFja1RyYWNlLFxuICBkZWVwRnJlZXplLFxuICBjcmVhdGVHdWlkLFxuICBtb2QsXG4gIHJhbmRvbUZsb2F0SW5SYW5nZSxcbiAgcmFuZG9tSW50SW5SYW5nZSxcbiAgcGlja1JhbmRvbSxcbiAgaGFuZGxlUGFnZUZvY3VzQ2hhbmdlLFxuICByYW5nZSxcbiAgaXNJbnQsXG4gIGZpbmQsXG4gIGtleUNvZGVzLFxuICBzdmdOYW1lc3BhY2UsXG4gIHhsaW5rTmFtZXNwYWNlLFxufTtcblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBIc2xDb2xvclxuICogQHByb3BlcnR5IHtOdW1iZXJ9IGggSW4gdGhlIHJhbmdlIG9mIFswLCAxXS5cbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBzIEluIHRoZSByYW5nZSBvZiBbMCwgMV0uXG4gKiBAcHJvcGVydHkge051bWJlcn0gbCBJbiB0aGUgcmFuZ2Ugb2YgWzAsIDFdLlxuICogQHByb3BlcnR5IHtOdW1iZXJ9IFthXSBJbiB0aGUgcmFuZ2Ugb2YgWzAsIDFdLlxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gUmdiQ29sb3JcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSByIEluIHRoZSByYW5nZSBvZiBbMCwgMV0uXG4gKiBAcHJvcGVydHkge051bWJlcn0gZyBJbiB0aGUgcmFuZ2Ugb2YgWzAsIDFdLlxuICogQHByb3BlcnR5IHtOdW1iZXJ9IGIgSW4gdGhlIHJhbmdlIG9mIFswLCAxXS5cbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBbYV0gSW4gdGhlIHJhbmdlIG9mIFswLCAxXS5cbiAqL1xuIiwiLyoqXG4gKiBBbiBBbmltYXRpb25Kb2IgaXMgdXNlZCB3aXRoIHRoZSBhbmltYXRvciBjb250cm9sbGVyIHRvIHVwZGF0ZSBhbmQgcmUtZHJhdyBzb21ldGhpbmcgZWFjaCBmcmFtZS5cbiAqXG4gKiBAYWJzdHJhY3RcbiAqL1xuY2xhc3MgQW5pbWF0aW9uSm9iIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtvbkNvbXBsZXRlXSBBIGNhbGxiYWNrIHRvIGJlIGNhbGxlZCB3aGVuIHRoaXMgQW5pbWF0aW9uSm9iIGlzIGZpbmlzaGVkLlxuICAgKi9cbiAgY29uc3RydWN0b3Iob25Db21wbGV0ZSkge1xuICAgIC8vIEFuaW1hdGlvbkpvYiBpcyBhbiBhYnN0cmFjdCBjbGFzcy4gSXQgc2hvdWxkIG5vdCBiZSBpbnN0YW50aWF0ZWQgZGlyZWN0bHkuXG4gICAgaWYgKG5ldy50YXJnZXQgPT09IEFuaW1hdGlvbkpvYikge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNvbnN0cnVjdCBBbmltYXRpb25Kb2IgaW5zdGFuY2VzIGRpcmVjdGx5Jyk7XG4gICAgfVxuXG4gICAgdGhpcy5fc3RhcnRUaW1lID0gMDtcbiAgICB0aGlzLl9pc0NvbXBsZXRlID0gdHJ1ZTtcbiAgICB0aGlzLl9vbkNvbXBsZXRlID0gb25Db21wbGV0ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbmRpY2F0ZXMgd2hldGhlciB0aGlzIEFuaW1hdGlvbkpvYiBpcyBjb21wbGV0ZS5cbiAgICpcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIGdldCBpc0NvbXBsZXRlKCkge1xuICAgIHJldHVybiB0aGlzLl9pc0NvbXBsZXRlO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhpcyBBbmltYXRpb25Kb2IgYXMgc3RhcnRlZC5cbiAgICpcbiAgICogQHBhcmFtIHtET01IaWdoUmVzVGltZVN0YW1wfSBzdGFydFRpbWVcbiAgICovXG4gIHN0YXJ0KHN0YXJ0VGltZSkge1xuICAgIHRoaXMuX3N0YXJ0VGltZSA9IHN0YXJ0VGltZTtcbiAgICB0aGlzLl9pc0NvbXBsZXRlID0gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgYW5pbWF0aW9uIHByb2dyZXNzIG9mIHRoaXMgQW5pbWF0aW9uSm9iIHRvIG1hdGNoIHRoZSBnaXZlbiB0aW1lLlxuICAgKlxuICAgKiBUaGlzIGlzIGNhbGxlZCBmcm9tIHRoZSBvdmVyYWxsIGFuaW1hdGlvbiBsb29wLlxuICAgKlxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGN1cnJlbnRUaW1lXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gZGVsdGFUaW1lXG4gICAqIEBhYnN0cmFjdFxuICAgKi9cbiAgdXBkYXRlKGN1cnJlbnRUaW1lLCBkZWx0YVRpbWUpIHtcbiAgICAvLyBFeHRlbmRpbmcgY2xhc3NlcyBzaG91bGQgaW1wbGVtZW50IHRoaXMgbWV0aG9kLlxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ01ldGhvZCBub3QgaW1wbGVtZW50ZWQnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEcmF3cyB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGlzIEFuaW1hdGlvbkpvYi5cbiAgICpcbiAgICogVGhpcyBpcyBjYWxsZWQgZnJvbSB0aGUgb3ZlcmFsbCBhbmltYXRpb24gbG9vcC5cbiAgICpcbiAgICogQGFic3RyYWN0XG4gICAqL1xuICBkcmF3KCkge1xuICAgIC8vIEV4dGVuZGluZyBjbGFzc2VzIHNob3VsZCBpbXBsZW1lbnQgdGhpcyBtZXRob2QuXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTWV0aG9kIG5vdCBpbXBsZW1lbnRlZCcpO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgYW55IG5lY2Vzc2FyeSBzdGF0ZSBmb3IgdGhpcyBBbmltYXRpb25Kb2IgYmVpbmcgZmluaXNoZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNDYW5jZWxsZWRcbiAgICovXG4gIGZpbmlzaChpc0NhbmNlbGxlZCkge1xuICAgIGNvbnNvbGUubG9nKGAke3RoaXMuY29uc3RydWN0b3IubmFtZX0gJHtpc0NhbmNlbGxlZCA/ICdjYW5jZWxsZWQnIDogJ2NvbXBsZXRlZCd9YCk7XG5cbiAgICB0aGlzLl9pc0NvbXBsZXRlID0gdHJ1ZTtcblxuICAgIGlmICh0aGlzLl9vbkNvbXBsZXRlKSB7XG4gICAgICB0aGlzLl9vbkNvbXBsZXRlKCk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB7QW5pbWF0aW9uSm9ifTtcbiIsImltcG9ydCB7RnJhbWVMYXRlbmN5UHJvZmlsZXJ9IGZyb20gJy4vZnJhbWUtbGF0ZW5jeS1wcm9maWxlcic7XG5pbXBvcnQge1BlcnNpc3RlbnRBbmltYXRpb25Kb2J9IGZyb20gJy4vcGVyc2lzdGVudC1hbmltYXRpb24tam9iJztcbmltcG9ydCB7VHJhbnNpZW50QW5pbWF0aW9uSm9ifSBmcm9tICcuL3RyYW5zaWVudC1hbmltYXRpb24tam9iJztcblxuY29uc3QgX0RFTFRBX1RJTUVfVVBQRVJfVEhSRVNIT0xEID0gMjAwO1xuY29uc3QgX0ZSQU1FX0RVUkFUSU9OX1dBUk5JTkdfVEhSRVNIT0xEID0gMTAwMCAvIDMwO1xuY29uc3QgX0ZSQU1FX0xBVEVOQ1lfTE9HX1BFUklPRCA9IDUwMDA7XG5jb25zdCBfTEFURU5DWV9MT0dfTEFCRUwgPSAnQW5pbWF0aW9uIGZyYW1lIHBlcmlvZCc7XG5cbi8qKlxuICogVGhpcyBjbGFzcyBoYW5kbGVzIHRoZSBhbmltYXRpb24gbG9vcC5cbiAqXG4gKiBUaGlzIGNsYXNzJ3MgcmVzcG9uc2liaWxpdGllcyBpbmNsdWRlOlxuICogLSB1cGRhdGluZyBtb2R1bGVzIGZvciB0aGUgY3VycmVudCBmcmFtZSxcbiAqIC0gZHJhd2luZyByZW5kZXJhYmxlcyBmb3IgdGhlIGN1cnJlbnQgZnJhbWUsXG4gKiAtIHN0YXJ0aW5nIGFuZCBzdG9wcGluZyB0cmFuc2llbnQgYW5pbWF0aW9uIGpvYnMsXG4gKiAtIGNhcHBpbmcgdGltZSBzdGVwIGR1cmF0aW9ucyBhdCBhIG1heCB0aHJlc2hvbGQuXG4gKi9cbmNsYXNzIEFuaW1hdG9yIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5fam9icyA9IFtdO1xuICAgIHRoaXMuX3ByZXZpb3VzVGltZSA9IG51bGw7XG4gICAgdGhpcy5faXNQYXVzZWQgPSB0cnVlO1xuICAgIHRoaXMuX3JlcXVlc3RBbmltYXRpb25GcmFtZUlkID0gbnVsbDtcbiAgICB0aGlzLl90b3RhbFVucGF1c2VkUnVuVGltZSA9IDA7XG4gICAgdGhpcy5fbGFzdFVucGF1c2VUaW1lID0gbnVsbDtcbiAgICB0aGlzLl9sYXRlbmN5UHJvZmlsZXIgPSBuZXcgRnJhbWVMYXRlbmN5UHJvZmlsZXIoX0ZSQU1FX0xBVEVOQ1lfTE9HX1BFUklPRCxcbiAgICAgICAgX0ZSQU1FX0RVUkFUSU9OX1dBUk5JTkdfVEhSRVNIT0xELCBfTEFURU5DWV9MT0dfTEFCRUwpO1xuICB9XG5cbiAgLyoqXG4gICAqIFN0YXJ0cyB0aGUgZ2l2ZW4gQW5pbWF0aW9uSm9iLlxuICAgKlxuICAgKiBAcGFyYW0ge0FuaW1hdGlvbkpvYn0gam9iXG4gICAqL1xuICBzdGFydEpvYihqb2IpIHtcbiAgICAvLyBJcyB0aGlzIGEgcmVzdGFydD9cbiAgICBpZiAoIWpvYi5pc0NvbXBsZXRlKSB7XG4gICAgICBjb25zb2xlLmRlYnVnKGBSZXN0YXJ0aW5nIEFuaW1hdGlvbkpvYjogJHtqb2IuY29uc3RydWN0b3IubmFtZX1gKTtcblxuICAgICAgaWYgKGpvYiBpbnN0YW5jZW9mIFBlcnNpc3RlbnRBbmltYXRpb25Kb2IpIHtcbiAgICAgICAgam9iLnJlc2V0KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBqb2IuZmluaXNoKHRydWUpO1xuICAgICAgICBqb2Iuc3RhcnQod2luZG93LnBlcmZvcm1hbmNlLm5vdygpKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5kZWJ1ZyhgU3RhcnRpbmcgQW5pbWF0aW9uSm9iOiAke2pvYi5jb25zdHJ1Y3Rvci5uYW1lfWApO1xuXG4gICAgICBqb2Iuc3RhcnQodGhpcy5fcHJldmlvdXNUaW1lKTtcbiAgICAgIHRoaXMuX2pvYnMucHVzaChqb2IpO1xuICAgIH1cblxuICAgIHRoaXMuX3N0YXJ0QW5pbWF0aW9uTG9vcCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbmNlbHMgdGhlIGdpdmVuIEFuaW1hdGlvbkpvYi5cbiAgICpcbiAgICogQHBhcmFtIHtBbmltYXRpb25Kb2J9IGpvYlxuICAgKi9cbiAgY2FuY2VsSm9iKGpvYikge1xuICAgIGNvbnNvbGUuZGVidWcoYENhbmNlbGxpbmcgQW5pbWF0aW9uSm9iOiAke2pvYi5jb25zdHJ1Y3Rvci5uYW1lfWApO1xuICAgIGpvYi5maW5pc2godHJ1ZSk7XG4gIH1cblxuICAvKipcbiAgICogQ2FuY2VscyBhbGwgcnVubmluZyBBbmltYXRpb25Kb2JzLlxuICAgKi9cbiAgY2FuY2VsQWxsKCkge1xuICAgIHdoaWxlICh0aGlzLl9qb2JzLmxlbmd0aCkge1xuICAgICAgdGhpcy5jYW5jZWxKb2IodGhpcy5fam9ic1swXSk7XG4gICAgfVxuICB9XG5cbiAgLyoqIEByZXR1cm5zIHtET01IaWdoUmVzVGltZVN0YW1wfSAqL1xuICBnZXQgY3VycmVudFRpbWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3ByZXZpb3VzVGltZTtcbiAgfVxuXG4gIC8qKiBAcmV0dXJucyB7Ym9vbGVhbn0gKi9cbiAgZ2V0IGlzUGF1c2VkKCkge1xuICAgIHJldHVybiB0aGlzLl9pc1BhdXNlZDtcbiAgfVxuXG4gIHBhdXNlKCkge1xuICAgIHRoaXMuX3N0b3BBbmltYXRpb25Mb29wKCk7XG4gICAgY29uc29sZS5kZWJ1ZygnQW5pbWF0b3IgcGF1c2VkJyk7XG4gIH1cblxuICB1bnBhdXNlKCkge1xuICAgIHRoaXMuX3N0YXJ0QW5pbWF0aW9uTG9vcCgpO1xuICAgIGNvbnNvbGUuZGVidWcoJ0FuaW1hdG9yIHVucGF1c2VkJyk7XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBpcyB0aGUgYW5pbWF0aW9uIGxvb3AgdGhhdCBkcml2ZXMgYWxsIG9mIHRoZSBhbmltYXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gY3VycmVudFRpbWVcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9hbmltYXRpb25Mb29wKGN1cnJlbnRUaW1lKSB7XG4gICAgLy8gV2hlbiBwYXVzaW5nIGFuZCByZXN0YXJ0aW5nLCBpdCdzIHBvc3NpYmxlIGZvciB0aGUgcHJldmlvdXMgdGltZSB0byBiZSBzbGlnaHRseSBpbmNvbnNpc3RlbnRcbiAgICAvLyB3aXRoIHRoZSBhbmltYXRpb25GcmFtZSB0aW1lLlxuICAgIGlmIChjdXJyZW50VGltZSA8IHRoaXMuX3ByZXZpb3VzVGltZSkge1xuICAgICAgdGhpcy5fcHJldmlvdXNUaW1lID0gY3VycmVudFRpbWUgLSAxO1xuICAgIH1cblxuICAgIGxldCBkZWx0YVRpbWUgPSBjdXJyZW50VGltZSAtIHRoaXMuX3ByZXZpb3VzVGltZTtcbiAgICB0aGlzLl9wcmV2aW91c1RpbWUgPSBjdXJyZW50VGltZTtcblxuICAgIHRoaXMuX2xhdGVuY3lQcm9maWxlci5yZWNvcmRGcmFtZUxhdGVuY3koZGVsdGFUaW1lKTtcblxuICAgIC8vIExhcmdlIGRlbGF5cyBiZXR3ZWVuIGZyYW1lcyBjYW4gY2F1c2UgbGVhZCB0byBpbnN0YWJpbGl0eSBpbiB0aGUgc3lzdGVtLCBzbyB0aGlzIGNhcHMgdGhlbSB0b1xuICAgIC8vIGEgbWF4IHRocmVzaG9sZC5cbiAgICBkZWx0YVRpbWUgPSBkZWx0YVRpbWUgPiBfREVMVEFfVElNRV9VUFBFUl9USFJFU0hPTEQgP1xuICAgICAgICBfREVMVEFfVElNRV9VUFBFUl9USFJFU0hPTEQgOiBkZWx0YVRpbWU7XG5cbiAgICBpZiAoIXRoaXMuX2lzUGF1c2VkKSB7XG4gICAgICB0aGlzLl9yZXF1ZXN0QW5pbWF0aW9uRnJhbWVJZCA9XG4gICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShjdXJyZW50VGltZSA9PiB0aGlzLl9hbmltYXRpb25Mb29wKGN1cnJlbnRUaW1lKSk7XG4gICAgICB0aGlzLl91cGRhdGVKb2JzKGN1cnJlbnRUaW1lLCBkZWx0YVRpbWUpO1xuICAgICAgdGhpcy5fZHJhd0pvYnMoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyBhbGwgb2YgdGhlIGFjdGl2ZSBBbmltYXRpb25Kb2JzLlxuICAgKlxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGN1cnJlbnRUaW1lXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gZGVsdGFUaW1lXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfdXBkYXRlSm9icyhjdXJyZW50VGltZSwgZGVsdGFUaW1lKSB7XG4gICAgZm9yIChsZXQgaSA9IDAsIGNvdW50ID0gdGhpcy5fam9icy5sZW5ndGg7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICBsZXQgam9iID0gdGhpcy5fam9ic1tpXTtcblxuICAgICAgLy8gUmVtb3ZlIGpvYnMgZnJvbSB0aGUgbGlzdCBhZnRlciB0aGV5IGFyZSBjb21wbGV0ZS5cbiAgICAgIGlmIChqb2IuaXNDb21wbGV0ZSkge1xuICAgICAgICB0aGlzLl9yZW1vdmVKb2Ioam9iLCBpKTtcbiAgICAgICAgaS0tO1xuICAgICAgICBjb3VudC0tO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgLy8gQ2hlY2sgd2hldGhlciB0aGUgam9iIGlzIHRyYW5zaWVudCBhbmQgaGFzIHJlYWNoZWQgaXRzIGVuZC5cbiAgICAgIGlmIChqb2IgaW5zdGFuY2VvZiBUcmFuc2llbnRBbmltYXRpb25Kb2IgJiYgam9iLmVuZFRpbWUgPCBjdXJyZW50VGltZSkge1xuICAgICAgICBqb2IuZmluaXNoKGZhbHNlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGpvYi51cGRhdGUoY3VycmVudFRpbWUsIGRlbHRhVGltZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgdGhlIGdpdmVuIGpvYiBmcm9tIHRoZSBjb2xsZWN0aW9uIG9mIGFjdGl2ZSwgYW5pbWF0aW5nIGpvYnMuXG4gICAqXG4gICAqIEBwYXJhbSB7QW5pbWF0aW9uSm9ifSBqb2JcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtpbmRleD0tMV1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9yZW1vdmVKb2Ioam9iLCBpbmRleCA9IC0xKSB7XG4gICAgY29uc29sZS5kZWJ1ZyhgUmVtb3ZpbmcgQW5pbWF0aW9uSm9iOiAke2pvYi5jb25zdHJ1Y3Rvci5uYW1lfWApO1xuXG4gICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgIHRoaXMuX2pvYnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgY291bnQgPSB0aGlzLl9qb2JzLmxlbmd0aDtcbiAgICAgIGZvciAoaW5kZXggPSAwOyBpbmRleCA8IGNvdW50OyBpbmRleCsrKSB7XG4gICAgICAgIGlmICh0aGlzLl9qb2JzW2luZGV4XSA9PT0gam9iKSB7XG4gICAgICAgICAgdGhpcy5fam9icy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gU3RvcCB0aGUgYW5pbWF0aW9uIGxvb3Agd2hlbiB0aGVyZSBhcmUgbm8gbW9yZSBqb2JzIHRvIGFuaW1hdGUuXG4gICAgaWYgKHRoaXMuX2pvYnMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aGlzLl9zdG9wQW5pbWF0aW9uTG9vcCgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBEcmF3cyBhbGwgb2YgdGhlIGFjdGl2ZSBBbmltYXRpb25Kb2JzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2RyYXdKb2JzKCkge1xuICAgIGZvciAobGV0IGkgPSAwLCBjb3VudCA9IHRoaXMuX2pvYnMubGVuZ3RoOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgdGhpcy5fam9ic1tpXS5kcmF3KCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFN0YXJ0cyB0aGUgYW5pbWF0aW9uIGxvb3AgaWYgaXQgaXMgbm90IGFscmVhZHkgcnVubmluZy5cbiAgICpcbiAgICogVGhpcyBtZXRob2QgaXMgaWRlbXBvdGVudC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9zdGFydEFuaW1hdGlvbkxvb3AoKSB7XG4gICAgaWYgKHRoaXMuX2lzUGF1c2VkKSB7XG4gICAgICB0aGlzLl9sYXN0VW5wYXVzZVRpbWUgPSB3aW5kb3cucGVyZm9ybWFuY2Uubm93KCk7XG4gICAgfVxuICAgIHRoaXMuX2lzUGF1c2VkID0gZmFsc2U7XG5cbiAgICAvLyBPbmx5IGFjdHVhbGx5IHN0YXJ0IHRoZSBsb29wIGlmIGl0IGlzbid0IGFscmVhZHkgcnVubmluZyBhbmQgdGhlIHBhZ2UgaGFzIGZvY3VzLlxuICAgIGlmICghdGhpcy5fcmVxdWVzdEFuaW1hdGlvbkZyYW1lSWQgJiYgIWRvY3VtZW50LmhpZGRlbikge1xuICAgICAgdGhpcy5fbGF0ZW5jeVByb2ZpbGVyLnN0YXJ0KCk7XG4gICAgICB0aGlzLl9wcmV2aW91c1RpbWUgPSB3aW5kb3cucGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICB0aGlzLl9yZXF1ZXN0QW5pbWF0aW9uRnJhbWVJZCA9XG4gICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aW1lID0+IHRoaXMuX2FuaW1hdGlvbkxvb3AodGltZSkpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTdG9wcyB0aGUgYW5pbWF0aW9uIGxvb3AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfc3RvcEFuaW1hdGlvbkxvb3AoKSB7XG4gICAgaWYgKCF0aGlzLl9pc1BhdXNlZCkge1xuICAgICAgdGhpcy5fdG90YWxVbnBhdXNlZFJ1blRpbWUgKz0gdGhpcy5fdGltZVNpbmNlTGFzdFBhdXNlZDtcbiAgICB9XG4gICAgdGhpcy5faXNQYXVzZWQgPSB0cnVlO1xuICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLl9yZXF1ZXN0QW5pbWF0aW9uRnJhbWVJZCk7XG4gICAgdGhpcy5fcmVxdWVzdEFuaW1hdGlvbkZyYW1lSWQgPSBudWxsO1xuICAgIHRoaXMuX2xhdGVuY3lQcm9maWxlci5zdG9wKCk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIHByb21pc2UgdGhhdCB3aWxsIHJlc29sdmUgb24gdGhlIG5leHQgYW5pbWF0aW9uIGxvb3AuXG4gICAqXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfVxuICAgKi9cbiAgcmVzb2x2ZU9uTmV4dEZyYW1lKCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSh3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSB0b3RhbCBhbW91bnQgb2YgdGltZSB0aGUgYW5pbWF0b3IgaGFzIGJlZW4gcnVubmluZyB3aGlsZSBub3QgcGF1c2VkLlxuICAgKlxuICAgKiBAcmV0dXJucyB7RE9NSGlnaFJlc1RpbWVTdGFtcH1cbiAgICovXG4gIGdldCB0b3RhbFJ1blRpbWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lzUGF1c2VkXG4gICAgICAgID8gdGhpcy5fdG90YWxVbnBhdXNlZFJ1blRpbWVcbiAgICAgICAgOiB0aGlzLl90b3RhbFVucGF1c2VkUnVuVGltZSArIHRoaXMuX3RpbWVTaW5jZUxhc3RQYXVzZWQ7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge0RPTUhpZ2hSZXNUaW1lU3RhbXB9XG4gICAqL1xuICBnZXQgX3RpbWVTaW5jZUxhc3RQYXVzZWQoKSB7XG4gICAgcmV0dXJuIHdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKSAtIHRoaXMuX2xhc3RVbnBhdXNlVGltZTtcbiAgfVxufVxuXG5jb25zdCBhbmltYXRvciA9IG5ldyBBbmltYXRvcigpO1xuXG5leHBvcnQge2FuaW1hdG9yfTtcblxuLyoqXG4gKiBAdHlwZWRlZiB7bnVtYmVyfSBET01IaWdoUmVzVGltZVN0YW1wIEEgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcywgYWNjdXJhdGUgdG8gb25lIHRob3VzYW5kdGggb2YgYVxuICogbWlsbGlzZWNvbmQuXG4gKi9cblxuIiwiLyoqXG4gKiBUaGlzIGNsYXNzIGtlZXBzIHRyYWNrIG9mIGF2Zy9taW4vbWF4IGZyYW1lIGxhdGVuY2llcyBvdmVyIHRoZSBsYXN0IGxvZ2dpbmcgdGltZSBwZXJpb2QgYW5kXG4gKiBwZXJpb2RpY2FsbHkgbG9ncyB0aGVzZSB2YWx1ZXMuXG4gKi9cbmNsYXNzIEZyYW1lTGF0ZW5jeVByb2ZpbGVyIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBsb2dQZXJpb2QgVGhlIHBlcmlvZCBhdCB3aGljaCB0byBwcmludCBsYXRlbmN5IGxvZyBtZXNzYWdlcy4gSW4gbWlsbGlzZWNvbmRzLlxuICAgKiBAcGFyYW0ge251bWJlcn0gbGF0ZW5jeVdhcm5pbmdUaHJlc2hvbGQgSWYgdGhlIGF2ZXJhZ2UgbGF0ZW5jeSBleGNlZWRzIHRoaXMgdGhyZXNob2xkLCB0aGVuIHRoZVxuICAgKiBsb2cgbWVzc2FnZSBpcyBzaG93biBhcyBhIHdhcm5pbmcuIEluIG1pbGxpc2Vjb25kcy5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGxvZ0xhYmVsIEEgbGFiZWwgdG8gc2hvdyBmb3IgZWFjaCBsYXRlbmN5IGxvZyBtZXNzYWdlLlxuICAgKi9cbiAgY29uc3RydWN0b3IobG9nUGVyaW9kLCBsYXRlbmN5V2FybmluZ1RocmVzaG9sZCwgbG9nTGFiZWwpIHtcbiAgICB0aGlzLl9sb2dQZXJpb2QgPSBsb2dQZXJpb2Q7XG4gICAgdGhpcy5fbGF0ZW5jeVdhcm5pbmdUaHJlc2hvbGQgPSBsYXRlbmN5V2FybmluZ1RocmVzaG9sZDtcbiAgICB0aGlzLl9sb2dMYWJlbCA9IGxvZ0xhYmVsO1xuXG4gICAgdGhpcy5fZnJhbWVDb3VudCA9IG51bGw7XG4gICAgdGhpcy5fbWF4RnJhbWVMYXRlbmN5ID0gbnVsbDtcbiAgICB0aGlzLl9taW5GcmFtZUxhdGVuY3kgPSBudWxsO1xuICAgIHRoaXMuX2F2Z0ZyYW1lTGF0ZW5jeSA9IG51bGw7XG5cbiAgICB0aGlzLl9pbnRlcnZhbElkID0gbnVsbDtcbiAgfVxuXG4gIHN0YXJ0KCkge1xuICAgIHRoaXMuc3RvcCgpO1xuICAgIHRoaXMucmVzZXQoKTtcblxuICAgIHRoaXMuX2ludGVydmFsSWQgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICB0aGlzLmxvZ0ZyYW1lTGF0ZW5jeSgpO1xuICAgICAgdGhpcy5yZXNldCgpO1xuICAgIH0sIHRoaXMuX2xvZ1BlcmlvZCk7XG4gIH1cblxuICBzdG9wKCkge1xuICAgIGNsZWFySW50ZXJ2YWwodGhpcy5faW50ZXJ2YWxJZCk7XG4gIH1cblxuICByZXNldCgpIHtcbiAgICB0aGlzLl9mcmFtZUNvdW50ID0gMDtcbiAgICB0aGlzLl9tYXhGcmFtZUxhdGVuY3kgPSBOdW1iZXIuTUlOX1ZBTFVFO1xuICAgIHRoaXMuX21pbkZyYW1lTGF0ZW5jeSA9IE51bWJlci5NQVhfVkFMVUU7XG4gICAgdGhpcy5fYXZnRnJhbWVMYXRlbmN5ID0gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBLZWVwcyB0cmFjayBvZiBhIHJ1bm5pbmcgYXZlcmFnZSwgbWluIHZhbHVlLCBhbmQgbWF4IHZhbHVlIGZvciB0aGUgZnJhbWUgbGF0ZW5jaWVzLlxuICAgKlxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGZyYW1lTGF0ZW5jeVxuICAgKi9cbiAgcmVjb3JkRnJhbWVMYXRlbmN5KGZyYW1lTGF0ZW5jeSkge1xuICAgIHRoaXMuX2ZyYW1lQ291bnQrKztcbiAgICB0aGlzLl9tYXhGcmFtZUxhdGVuY3kgPVxuICAgICAgICB0aGlzLl9tYXhGcmFtZUxhdGVuY3kgPCBmcmFtZUxhdGVuY3kgPyBmcmFtZUxhdGVuY3kgOiB0aGlzLl9tYXhGcmFtZUxhdGVuY3k7XG4gICAgdGhpcy5fbWluRnJhbWVMYXRlbmN5ID1cbiAgICAgICAgdGhpcy5fbWluRnJhbWVMYXRlbmN5ID4gZnJhbWVMYXRlbmN5ID8gZnJhbWVMYXRlbmN5IDogdGhpcy5fbWluRnJhbWVMYXRlbmN5O1xuICAgIHRoaXMuX2F2Z0ZyYW1lTGF0ZW5jeSA9XG4gICAgICAgIHRoaXMuX2F2Z0ZyYW1lTGF0ZW5jeSArIChmcmFtZUxhdGVuY3kgLSB0aGlzLl9hdmdGcmFtZUxhdGVuY3kpIC8gdGhpcy5fZnJhbWVDb3VudDtcbiAgfVxuXG4gIGxvZ0ZyYW1lTGF0ZW5jeSgpIHtcbiAgICBpZiAodGhpcy5fZnJhbWVDb3VudCA+IDApIHtcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSBgJHt0aGlzLl9sb2dMYWJlbH06ICBBVkc9JHt0aGlzLl9hdmdGcmFtZUxhdGVuY3kudG9GaXhlZCgzKX0gIGAgK1xuICAgICAgICAgIGAoTUFYPSR7dGhpcy5fbWF4RnJhbWVMYXRlbmN5LnRvRml4ZWQoMyl9OyBNSU49JHt0aGlzLl9taW5GcmFtZUxhdGVuY3kudG9GaXhlZCgzKX0pYDtcbiAgICAgIGlmICh0aGlzLl9tYXhGcmFtZUxhdGVuY3kgPj0gdGhpcy5fbGF0ZW5jeVdhcm5pbmdUaHJlc2hvbGQpIHtcbiAgICAgICAgY29uc29sZS53YXJuKG1lc3NhZ2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5kZWJ1ZyhtZXNzYWdlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IHtGcmFtZUxhdGVuY3lQcm9maWxlcn07XG4iLCJleHBvcnQgKiBmcm9tICcuL2FuaW1hdGlvbi1qb2InO1xuZXhwb3J0ICogZnJvbSAnLi9hbmltYXRvcic7XG5leHBvcnQgKiBmcm9tICcuL2ZyYW1lLWxhdGVuY3ktcHJvZmlsZXInO1xuZXhwb3J0ICogZnJvbSAnLi9wZXJzaXN0ZW50LWFuaW1hdGlvbi1qb2InO1xuZXhwb3J0ICogZnJvbSAnLi90cmFuc2llbnQtYW5pbWF0aW9uLWpvYic7XG4iLCJpbXBvcnQge0FuaW1hdGlvbkpvYn0gZnJvbSAnLi9hbmltYXRpb24tam9iJztcblxuLyoqXG4gKiBBIFBlcnNpc3RlbnRBbmltYXRpb25Kb2IgcmVjdXJzIG9yIGhhcyBhbiBpbmRlZmluaXRlIGR1cmF0aW9uLlxuICpcbiAqIEBhYnN0cmFjdFxuICovXG5jbGFzcyBQZXJzaXN0ZW50QW5pbWF0aW9uSm9iIGV4dGVuZHMgQW5pbWF0aW9uSm9iIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtvbkNvbXBsZXRlXSBBIGNhbGxiYWNrIHRvIGJlIGNhbGxlZCB3aGVuIHRoaXMgQW5pbWF0aW9uSm9iIGlzIGZpbmlzaGVkLlxuICAgKi9cbiAgY29uc3RydWN0b3Iob25Db21wbGV0ZSkge1xuICAgIHN1cGVyKG9uQ29tcGxldGUpO1xuXG4gICAgLy8gUGVyc2lzdGVudEFuaW1hdGlvbkpvYiBpcyBhbiBhYnN0cmFjdCBjbGFzcy4gSXQgc2hvdWxkIG5vdCBiZSBpbnN0YW50aWF0ZWQgZGlyZWN0bHkuXG4gICAgaWYgKG5ldy50YXJnZXQgPT09IFBlcnNpc3RlbnRBbmltYXRpb25Kb2IpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjb25zdHJ1Y3QgUGVyc2lzdGVudEFuaW1hdGlvbkpvYiBpbnN0YW5jZXMgZGlyZWN0bHknKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQGFic3RyYWN0XG4gICAqL1xuICByZXNldCgpIHtcbiAgICAvLyBFeHRlbmRpbmcgY2xhc3NlcyBzaG91bGQgaW1wbGVtZW50IHRoaXMgbWV0aG9kLlxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ01ldGhvZCBub3QgaW1wbGVtZW50ZWQnKTtcbiAgfVxufVxuXG5leHBvcnQge1BlcnNpc3RlbnRBbmltYXRpb25Kb2J9O1xuIiwiaW1wb3J0IHtfdXRpbH0gZnJvbSAnLi91dGlsJztcblxuaW1wb3J0IHtBbmltYXRpb25Kb2J9IGZyb20gJy4vYW5pbWF0aW9uLWpvYic7XG5cbi8qKlxuICogQSBUcmFuc2llbnRBbmltYXRpb25Kb2IgaXMgdGVtcG9yYXJ5IGFuZCBoYXMgYSBkZWZpbml0ZSBiZWdpbm5pbmcgYW5kIGVuZC5cbiAqXG4gKiBAYWJzdHJhY3RcbiAqL1xuY2xhc3MgVHJhbnNpZW50QW5pbWF0aW9uSm9iIGV4dGVuZHMgQW5pbWF0aW9uSm9iIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBkdXJhdGlvblxuICAgKiBAcGFyYW0ge251bWJlcn0gZGVsYXlcbiAgICogQHBhcmFtIHtGdW5jdGlvbnxTdHJpbmd9IGVhc2luZ0Z1bmN0aW9uXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtvbkNvbXBsZXRlXSBBIGNhbGxiYWNrIHRvIGJlIGNhbGxlZCB3aGVuIHRoaXMgQW5pbWF0aW9uSm9iIGlzIGZpbmlzaGVkLlxuICAgKi9cbiAgY29uc3RydWN0b3IoZHVyYXRpb24sIGRlbGF5LCBlYXNpbmdGdW5jdGlvbiwgb25Db21wbGV0ZSkge1xuICAgIHN1cGVyKG9uQ29tcGxldGUpO1xuXG4gICAgLy8gVHJhbnNpZW50QW5pbWF0aW9uSm9iIGlzIGFuIGFic3RyYWN0IGNsYXNzLiBJdCBzaG91bGQgbm90IGJlIGluc3RhbnRpYXRlZCBkaXJlY3RseS5cbiAgICBpZiAobmV3LnRhcmdldCA9PT0gVHJhbnNpZW50QW5pbWF0aW9uSm9iKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY29uc3RydWN0IFRyYW5zaWVudEFuaW1hdGlvbkpvYiBpbnN0YW5jZXMgZGlyZWN0bHknKTtcbiAgICB9XG5cbiAgICB0aGlzLl9kdXJhdGlvbiA9IGR1cmF0aW9uO1xuICAgIHRoaXMuX2RlbGF5ID0gZGVsYXk7XG4gICAgdGhpcy5fZWFzaW5nRnVuY3Rpb24gPSB0eXBlb2YgZWFzaW5nRnVuY3Rpb24gPT09ICdmdW5jdGlvbidcbiAgICAgICAgPyBlYXNpbmdGdW5jdGlvblxuICAgICAgICA6IF91dGlsLmVhc2luZ0Z1bmN0aW9uc1tlYXNpbmdGdW5jdGlvbl07XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge251bWJlcn1cbiAgICovXG4gIGdldCBlbmRUaW1lKCkge1xuICAgIHJldHVybiB0aGlzLl9zdGFydFRpbWUgKyB0aGlzLl9kdXJhdGlvbiArIHRoaXMuX2RlbGF5O1xuICB9XG59XG5cbmV4cG9ydCB7VHJhbnNpZW50QW5pbWF0aW9uSm9ifTtcbiIsIi8qKlxuICogVGhpcyBtb2R1bGUgZGVmaW5lcyBhIGNvbGxlY3Rpb24gb2Ygc3RhdGljIHV0aWxpdHkgZnVuY3Rpb25zLlxuICovXG5cbi8vIEEgY29sbGVjdGlvbiBvZiBkaWZmZXJlbnQgdHlwZXMgb2YgZWFzaW5nIGZ1bmN0aW9ucy5cbmNvbnN0IGVhc2luZ0Z1bmN0aW9ucyA9IHtcbiAgbGluZWFyOiB0ID0+IHQsXG4gIGVhc2VJblF1YWQ6IHQgPT4gdCAqIHQsXG4gIGVhc2VPdXRRdWFkOiB0ID0+IHQgKiAoMiAtIHQpLFxuICBlYXNlSW5PdXRRdWFkOiB0ID0+IHQgPCAwLjUgPyAyICogdCAqIHQgOiAtMSArICg0IC0gMiAqIHQpICogdCxcbiAgZWFzZUluQ3ViaWM6IHQgPT4gdCAqIHQgKiB0LFxuICBlYXNlT3V0Q3ViaWM6IHQgPT4gMSArIC0tdCAqIHQgKiB0LFxuICBlYXNlSW5PdXRDdWJpYzogdCA9PiB0IDwgMC41ID8gNCAqIHQgKiB0ICogdCA6ICh0IC0gMSkgKiAoMiAqIHQgLSAyKSAqICgyICogdCAtIDIpICsgMSxcbiAgZWFzZUluUXVhcnQ6IHQgPT4gdCAqIHQgKiB0ICogdCxcbiAgZWFzZU91dFF1YXJ0OiB0ID0+IDEgLSAtLXQgKiB0ICogdCAqIHQsXG4gIGVhc2VJbk91dFF1YXJ0OiB0ID0+IHQgPCAwLjUgPyA4ICogdCAqIHQgKiB0ICogdCA6IDEgLSA4ICogLS10ICogdCAqIHQgKiB0LFxuICBlYXNlSW5RdWludDogdCA9PiB0ICogdCAqIHQgKiB0ICogdCxcbiAgZWFzZU91dFF1aW50OiB0ID0+IDEgKyAtLXQgKiB0ICogdCAqIHQgKiB0LFxuICBlYXNlSW5PdXRRdWludDogdCA9PiB0IDwgMC41ID8gMTYgKiB0ICogdCAqIHQgKiB0ICogdCA6IDEgKyAxNiAqIC0tdCAqIHQgKiB0ICogdCAqIHRcbn07XG5cbmNvbnN0IF91dGlsID0ge1xuICBlYXNpbmdGdW5jdGlvbnMsXG59O1xuXG5leHBvcnQge1xuICBfdXRpbCxcbn07XG4iLCJleHBvcnQgKiBmcm9tICcuL3NyYy9hYWJiLWNvbGxpZGFibGUnO1xuZXhwb3J0ICogZnJvbSAnLi9zcmMvY2Fwc3VsZS1jb2xsaWRhYmxlJztcbmV4cG9ydCAqIGZyb20gJy4vc3JjL2NvbGxpZGFibGUnO1xuZXhwb3J0ICogZnJvbSAnLi9zcmMvbGluZS1zZWdtZW50JztcbmV4cG9ydCAqIGZyb20gJy4vc3JjL29iYi1jb2xsaWRhYmxlJztcbmV4cG9ydCAqIGZyb20gJy4vc3JjL3NwaGVyZS1jb2xsaWRhYmxlJztcbiIsImltcG9ydCB7Q29sbGlkYWJsZX0gZnJvbSAnLi9jb2xsaWRhYmxlJztcbmltcG9ydCB7TGluZVNlZ21lbnR9IGZyb20gJy4vbGluZS1zZWdtZW50JztcbmltcG9ydCB7dG1wVmVjMSwgdG1wVmVjMn0gZnJvbSAnLi4vLi4vLi4vdXRpbCc7XG5cbi8qKlxuICogVGhpcyBjbGFzcyByZXByZXNlbnRzIGFuIGF4aWFsbHktYWxpZ25lZCBib3VuZGluZyBib3ggKEFBQkIpLlxuICpcbiAqIFRoaXMgaXMgcHJpbWFyaWx5IHVzZWZ1bCBmb3IgY29sbGlzaW9uIGRldGVjdGlvbi4gQW4gQUFCQiBpcyBvbmx5IGFwcHJvcHJpYXRlIGZvciBzb21lXG4gKiBnZW9tZXRyaWVzLiBGb3Igb3RoZXIgZ2VvbWV0cmllcywgYW4gb3JpZW50ZWQgYm91bmRpbmcgYm94IChPQkIpIG9yIGEgYm91bmRpbmcgc3BoZXJlIG1heSBiZSBtb3JlXG4gKiBhcHByb3ByaWF0ZS5cbiAqL1xuY2xhc3MgQWFiYiBleHRlbmRzIENvbGxpZGFibGUge1xuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IG1pblhcbiAgICogQHBhcmFtIHtudW1iZXJ9IG1pbllcbiAgICogQHBhcmFtIHtudW1iZXJ9IG1pblpcbiAgICogQHBhcmFtIHtudW1iZXJ9IG1heFhcbiAgICogQHBhcmFtIHtudW1iZXJ9IG1heFlcbiAgICogQHBhcmFtIHtudW1iZXJ9IG1heFpcbiAgICogQHBhcmFtIHtib29sZWFufSBbaXNTdGF0aW9uYXJ5PWZhbHNlXVxuICAgKiBAcGFyYW0ge0NvbGxpZGFibGVQaHlzaWNzSm9ifSBbcGh5c2ljc0pvYl1cbiAgICovXG4gIGNvbnN0cnVjdG9yKG1pblgsIG1pblksIG1pblosIG1heFgsIG1heFksIG1heFosIGlzU3RhdGlvbmFyeSA9IGZhbHNlLCBwaHlzaWNzSm9iKSB7XG4gICAgc3VwZXIoaXNTdGF0aW9uYXJ5LCBwaHlzaWNzSm9iKTtcbiAgICB0aGlzLm1pblggPSBtaW5YO1xuICAgIHRoaXMubWluWSA9IG1pblk7XG4gICAgdGhpcy5taW5aID0gbWluWjtcbiAgICB0aGlzLm1heFggPSBtYXhYO1xuICAgIHRoaXMubWF4WSA9IG1heFk7XG4gICAgdGhpcy5tYXhaID0gbWF4WjtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IGJvdW5kaW5nIGJveCB3aXRoIHRoZSBkaW1lbnNpb25zIG9mIGFuIGF4aWFsbHktYWxpZ25lZCBjdWJlIGNlbnRlcmVkIGFyb3VuZCB0aGUgXG4gICAqIGdpdmVuIGNlbnRlciBhbmQgd2l0aCB0aGUgZ2l2ZW4gaGFsZi1zaWRlIGxlbmd0aC5cbiAgICpcbiAgICogQHBhcmFtIHt2ZWMzfSBjZW50ZXJcbiAgICogQHBhcmFtIHtudW1iZXJ9IGhhbGZTaWRlTGVuZ3RoXG4gICAqL1xuICBzdGF0aWMgY3JlYXRlQXNVbmlmb3JtQXJvdW5kQ2VudGVyKGNlbnRlciwgaGFsZlNpZGVMZW5ndGgpIHtcbiAgICBjb25zdCBib3VuZHMgPSBuZXcgQWFiYigwLCAwLCAwLCAwLCAwLCAwKTtcbiAgICBib3VuZHMuc2V0QXNVbmlmb3JtQXJvdW5kQ2VudGVyKGNlbnRlciwgaGFsZlNpZGVMZW5ndGgpO1xuICAgIHJldHVybiBib3VuZHM7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgZGltZW5zaW9ucyBvZiB0aGlzIGJvdW5kaW5nIGJveCB0byByZXByZXNlbnQgYW4gYXhpYWxseS1hbGlnbmVkIGN1YmUgY2VudGVyZWRcbiAgICogYXJvdW5kIHRoZSBnaXZlbiBjZW50ZXIgYW5kIHdpdGggdGhlIGdpdmVuIGhhbGYtc2lkZSBsZW5ndGguXG4gICAqXG4gICAqIEBwYXJhbSB7dmVjM30gY2VudGVyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBoYWxmU2lkZUxlbmd0aFxuICAgKi9cbiAgc2V0QXNVbmlmb3JtQXJvdW5kQ2VudGVyKGNlbnRlciwgaGFsZlNpZGVMZW5ndGgpIHtcbiAgICB0aGlzLm1pblggPSBjZW50ZXJbMF0gLSBoYWxmU2lkZUxlbmd0aDtcbiAgICB0aGlzLm1pblkgPSBjZW50ZXJbMV0gLSBoYWxmU2lkZUxlbmd0aDtcbiAgICB0aGlzLm1pblogPSBjZW50ZXJbMl0gLSBoYWxmU2lkZUxlbmd0aDtcbiAgICB0aGlzLm1heFggPSBjZW50ZXJbMF0gKyBoYWxmU2lkZUxlbmd0aDtcbiAgICB0aGlzLm1heFkgPSBjZW50ZXJbMV0gKyBoYWxmU2lkZUxlbmd0aDtcbiAgICB0aGlzLm1heFogPSBjZW50ZXJbMl0gKyBoYWxmU2lkZUxlbmd0aDtcbiAgfVxuXG4gIC8qKiBAcmV0dXJucyB7bnVtYmVyfSAqL1xuICBnZXQgcmFuZ2VYKCkge1xuICAgIHJldHVybiB0aGlzLm1heFggLSB0aGlzLm1pblg7XG4gIH1cbiAgLyoqIEByZXR1cm5zIHtudW1iZXJ9ICovXG4gIGdldCByYW5nZVkoKSB7XG4gICAgcmV0dXJuIHRoaXMubWF4WSAtIHRoaXMubWluWTtcbiAgfVxuICAvKiogQHJldHVybnMge251bWJlcn0gKi9cbiAgZ2V0IHJhbmdlWigpIHtcbiAgICByZXR1cm4gdGhpcy5tYXhaIC0gdGhpcy5taW5aO1xuICB9XG5cbiAgLyoqIEByZXR1cm5zIHtudW1iZXJ9ICovXG4gIGdldCBjZW50ZXJYKCkge1xuICAgIHJldHVybiB0aGlzLm1pblggKyB0aGlzLnJhbmdlWCAvIDI7XG4gIH1cbiAgLyoqIEByZXR1cm5zIHtudW1iZXJ9ICovXG4gIGdldCBjZW50ZXJZKCkge1xuICAgIHJldHVybiB0aGlzLm1pblkgKyB0aGlzLnJhbmdlWSAvIDI7XG4gIH1cbiAgLyoqIEByZXR1cm5zIHtudW1iZXJ9ICovXG4gIGdldCBjZW50ZXJaKCkge1xuICAgIHJldHVybiB0aGlzLm1pblogKyB0aGlzLnJhbmdlWiAvIDI7XG4gIH1cblxuICAvKiogQHJldHVybnMge251bWJlcn0gKi9cbiAgZ2V0IHN1cmZhY2VBcmVhKCkge1xuICAgIGNvbnN0IHJhbmdlWCA9IHRoaXMucmFuZ2VYO1xuICAgIGNvbnN0IHJhbmdlWSA9IHRoaXMucmFuZ2VZO1xuICAgIGNvbnN0IHJhbmdlWiA9IHRoaXMucmFuZ2VaO1xuICAgIHJldHVybiAyICogKHJhbmdlWCAqIHJhbmdlWSArIHJhbmdlWCAqIHJhbmdlWiArIHJhbmdlWSAqIHJhbmdlWik7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge3ZlYzN9XG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0IGNlbnRlck9mVm9sdW1lKCkge1xuICAgIC8vIFJldXNlIHRoZSBzYW1lIG9iamVjdCB3aGVuIHRoaXMgaXMgY2FsbGVkIG11bHRpcGxlIHRpbWVzLlxuICAgIHRoaXMuX2NlbnRlck9mVm9sdW1lID0gdGhpcy5fY2VudGVyT2ZWb2x1bWUgfHwgdmVjMy5jcmVhdGUoKTtcbiAgICB2ZWMzLnNldCh0aGlzLl9jZW50ZXJPZlZvbHVtZSwgdGhpcy5jZW50ZXJYLCB0aGlzLmNlbnRlclksIHRoaXMuY2VudGVyWik7XG4gICAgcmV0dXJuIHRoaXMuX2NlbnRlck9mVm9sdW1lO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtDb2xsaWRhYmxlfVxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldCBib3VuZGluZ1ZvbHVtZSgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3ZlYzN9IHZhbHVlXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc2V0IHBvc2l0aW9uKHZhbHVlKSB7XG4gICAgY29uc3QgcmFuZ2VYID0gdGhpcy5yYW5nZVg7XG4gICAgY29uc3QgcmFuZ2VZID0gdGhpcy5yYW5nZVk7XG4gICAgY29uc3QgcmFuZ2VaID0gdGhpcy5yYW5nZVo7XG4gICAgdGhpcy5taW5YID0gdmFsdWVbMF0gLSByYW5nZVggLyAyO1xuICAgIHRoaXMubWluWSA9IHZhbHVlWzFdIC0gcmFuZ2VZIC8gMjtcbiAgICB0aGlzLm1pblogPSB2YWx1ZVsyXSAtIHJhbmdlWiAvIDI7XG4gICAgdGhpcy5tYXhYID0gdmFsdWVbMF0gKyByYW5nZVggLyAyO1xuICAgIHRoaXMubWF4WSA9IHZhbHVlWzFdICsgcmFuZ2VZIC8gMjtcbiAgICB0aGlzLm1heFogPSB2YWx1ZVsyXSArIHJhbmdlWiAvIDI7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtxdWF0fSB2YWx1ZVxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHNldCBvcmllbnRhdGlvbih2YWx1ZSkge1xuICAgIC8vIERvIG5vdGhpbmcuXG4gIH1cblxuICAvKipcbiAgICogQ2FsbHMgdGhlIGdpdmVuIGNhbGxiYWNrIG9uY2UgZm9yIGVhY2ggdmVydGV4LlxuICAgKlxuICAgKiBTdG9wcyBhcyBzb29uIGFzIHRoZSBjYWxsYmFjayByZXR1cm5zIHRydWUgZm9yIGEgdmVydGV4LlxuICAgKlxuICAgKiBAcGFyYW0ge1ZlcnRleENhbGxiYWNrfSBjYWxsYmFja1xuICAgKiBAcGFyYW0ge3ZlYzN9IFt2ZXJ0ZXhdIE91dHB1dCBwYXJhbS5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgb25lIG9mIHRoZSBjYWxsYmFja3MgcmV0dXJuZWQgdHJ1ZS5cbiAgICovXG4gIHNvbWVWZXJ0ZXgoY2FsbGJhY2ssIHZlcnRleCkge1xuICAgIHZlcnRleCA9IHZlcnRleCB8fCB0bXBWZWMxO1xuXG4gICAgdmVjMy5zZXQodmVydGV4LCB0aGlzLm1pblgsIHRoaXMubWluWSwgdGhpcy5taW5aKTtcbiAgICBpZiAoY2FsbGJhY2sodmVydGV4KSkgcmV0dXJuIHRydWU7XG5cbiAgICB2ZWMzLnNldCh2ZXJ0ZXgsIHRoaXMubWF4WCwgdGhpcy5taW5ZLCB0aGlzLm1pblopO1xuICAgIGlmIChjYWxsYmFjayh2ZXJ0ZXgpKSByZXR1cm4gdHJ1ZTtcblxuICAgIHZlYzMuc2V0KHZlcnRleCwgdGhpcy5taW5YLCB0aGlzLm1heFksIHRoaXMubWluWik7XG4gICAgaWYgKGNhbGxiYWNrKHZlcnRleCkpIHJldHVybiB0cnVlO1xuXG4gICAgdmVjMy5zZXQodmVydGV4LCB0aGlzLm1heFgsIHRoaXMubWF4WSwgdGhpcy5taW5aKTtcbiAgICBpZiAoY2FsbGJhY2sodmVydGV4KSkgcmV0dXJuIHRydWU7XG5cbiAgICB2ZWMzLnNldCh2ZXJ0ZXgsIHRoaXMubWluWCwgdGhpcy5taW5ZLCB0aGlzLm1heFopO1xuICAgIGlmIChjYWxsYmFjayh2ZXJ0ZXgpKSByZXR1cm4gdHJ1ZTtcblxuICAgIHZlYzMuc2V0KHZlcnRleCwgdGhpcy5tYXhYLCB0aGlzLm1pblksIHRoaXMubWF4Wik7XG4gICAgaWYgKGNhbGxiYWNrKHZlcnRleCkpIHJldHVybiB0cnVlO1xuXG4gICAgdmVjMy5zZXQodmVydGV4LCB0aGlzLm1pblgsIHRoaXMubWF4WSwgdGhpcy5tYXhaKTtcbiAgICBpZiAoY2FsbGJhY2sodmVydGV4KSkgcmV0dXJuIHRydWU7XG5cbiAgICB2ZWMzLnNldCh2ZXJ0ZXgsIHRoaXMubWF4WCwgdGhpcy5tYXhZLCB0aGlzLm1heFopO1xuICAgIGlmIChjYWxsYmFjayh2ZXJ0ZXgpKSByZXR1cm4gdHJ1ZTtcblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxscyB0aGUgZ2l2ZW4gY2FsbGJhY2sgb25jZSBmb3IgZWFjaCBlZGdlLlxuICAgKlxuICAgKiBAcGFyYW0ge0VkZ2VDYWxsYmFja30gY2FsbGJhY2tcbiAgICogQHBhcmFtIHtMaW5lU2VnbWVudH0gW2VkZ2VdIE91dHB1dCBwYXJhbS5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgb25lIG9mIHRoZSBjYWxsYmFja3MgcmV0dXJuZWQgdHJ1ZS5cbiAgICovXG4gIHNvbWVFZGdlKGNhbGxiYWNrLCBlZGdlKSB7XG4gICAgZWRnZSA9IGVkZ2UgfHwgX3NlZ21lbnQ7XG5cbiAgICAvL1xuICAgIC8vIEVkZ2VzIGFsb25nIGZyb250IGZhY2UuXG4gICAgLy9cblxuICAgIHZlYzMuc2V0KHRtcFZlYzEsIHRoaXMubWluWCwgdGhpcy5taW5ZLCB0aGlzLm1pblopO1xuICAgIHZlYzMuc2V0KHRtcFZlYzIsIHRoaXMubWF4WCwgdGhpcy5taW5ZLCB0aGlzLm1pblopO1xuICAgIGVkZ2UucmVzZXQodG1wVmVjMSwgdG1wVmVjMik7XG4gICAgaWYgKGNhbGxiYWNrKGVkZ2UpKSByZXR1cm4gdHJ1ZTtcblxuICAgIHZlYzMuc2V0KHRtcFZlYzEsIHRoaXMubWluWCwgdGhpcy5tYXhZLCB0aGlzLm1pblopO1xuICAgIHZlYzMuc2V0KHRtcFZlYzIsIHRoaXMubWF4WCwgdGhpcy5tYXhZLCB0aGlzLm1pblopO1xuICAgIGVkZ2UucmVzZXQodG1wVmVjMSwgdG1wVmVjMik7XG4gICAgaWYgKGNhbGxiYWNrKGVkZ2UpKSByZXR1cm4gdHJ1ZTtcblxuICAgIHZlYzMuc2V0KHRtcFZlYzEsIHRoaXMubWluWCwgdGhpcy5taW5ZLCB0aGlzLm1pblopO1xuICAgIHZlYzMuc2V0KHRtcFZlYzIsIHRoaXMubWluWCwgdGhpcy5tYXhZLCB0aGlzLm1pblopO1xuICAgIGVkZ2UucmVzZXQodG1wVmVjMSwgdG1wVmVjMik7XG4gICAgaWYgKGNhbGxiYWNrKGVkZ2UpKSByZXR1cm4gdHJ1ZTtcblxuICAgIHZlYzMuc2V0KHRtcFZlYzEsIHRoaXMubWF4WCwgdGhpcy5taW5ZLCB0aGlzLm1pblopO1xuICAgIHZlYzMuc2V0KHRtcFZlYzIsIHRoaXMubWF4WCwgdGhpcy5tYXhZLCB0aGlzLm1pblopO1xuICAgIGVkZ2UucmVzZXQodG1wVmVjMSwgdG1wVmVjMik7XG4gICAgaWYgKGNhbGxiYWNrKGVkZ2UpKSByZXR1cm4gdHJ1ZTtcblxuICAgIC8vXG4gICAgLy8gRWRnZXMgYWxvbmcgYmFjayBmYWNlLlxuICAgIC8vXG5cbiAgICB2ZWMzLnNldCh0bXBWZWMxLCB0aGlzLm1pblgsIHRoaXMubWluWSwgdGhpcy5tYXhaKTtcbiAgICB2ZWMzLnNldCh0bXBWZWMyLCB0aGlzLm1heFgsIHRoaXMubWluWSwgdGhpcy5tYXhaKTtcbiAgICBlZGdlLnJlc2V0KHRtcFZlYzEsIHRtcFZlYzIpO1xuICAgIGlmIChjYWxsYmFjayhlZGdlKSkgcmV0dXJuIHRydWU7XG5cbiAgICB2ZWMzLnNldCh0bXBWZWMxLCB0aGlzLm1pblgsIHRoaXMubWF4WSwgdGhpcy5tYXhaKTtcbiAgICB2ZWMzLnNldCh0bXBWZWMyLCB0aGlzLm1heFgsIHRoaXMubWF4WSwgdGhpcy5tYXhaKTtcbiAgICBlZGdlLnJlc2V0KHRtcFZlYzEsIHRtcFZlYzIpO1xuICAgIGlmIChjYWxsYmFjayhlZGdlKSkgcmV0dXJuIHRydWU7XG5cbiAgICB2ZWMzLnNldCh0bXBWZWMxLCB0aGlzLm1pblgsIHRoaXMubWluWSwgdGhpcy5tYXhaKTtcbiAgICB2ZWMzLnNldCh0bXBWZWMyLCB0aGlzLm1pblgsIHRoaXMubWF4WSwgdGhpcy5tYXhaKTtcbiAgICBlZGdlLnJlc2V0KHRtcFZlYzEsIHRtcFZlYzIpO1xuICAgIGlmIChjYWxsYmFjayhlZGdlKSkgcmV0dXJuIHRydWU7XG5cbiAgICB2ZWMzLnNldCh0bXBWZWMxLCB0aGlzLm1heFgsIHRoaXMubWluWSwgdGhpcy5tYXhaKTtcbiAgICB2ZWMzLnNldCh0bXBWZWMyLCB0aGlzLm1heFgsIHRoaXMubWF4WSwgdGhpcy5tYXhaKTtcbiAgICBlZGdlLnJlc2V0KHRtcFZlYzEsIHRtcFZlYzIpO1xuICAgIGlmIChjYWxsYmFjayhlZGdlKSkgcmV0dXJuIHRydWU7XG5cbiAgICAvL1xuICAgIC8vIEVkZ2VzIGJldHdlZW4gZnJvbnQgYW5kIGJhY2sgZmFjZXMuXG4gICAgLy9cblxuICAgIHZlYzMuc2V0KHRtcFZlYzEsIHRoaXMubWluWCwgdGhpcy5taW5ZLCB0aGlzLm1pblopO1xuICAgIHZlYzMuc2V0KHRtcFZlYzIsIHRoaXMubWluWCwgdGhpcy5taW5ZLCB0aGlzLm1heFopO1xuICAgIGVkZ2UucmVzZXQodG1wVmVjMSwgdG1wVmVjMik7XG4gICAgaWYgKGNhbGxiYWNrKGVkZ2UpKSByZXR1cm4gdHJ1ZTtcblxuICAgIHZlYzMuc2V0KHRtcFZlYzEsIHRoaXMubWF4WCwgdGhpcy5taW5ZLCB0aGlzLm1pblopO1xuICAgIHZlYzMuc2V0KHRtcFZlYzIsIHRoaXMubWF4WCwgdGhpcy5taW5ZLCB0aGlzLm1heFopO1xuICAgIGVkZ2UucmVzZXQodG1wVmVjMSwgdG1wVmVjMik7XG4gICAgaWYgKGNhbGxiYWNrKGVkZ2UpKSByZXR1cm4gdHJ1ZTtcblxuICAgIHZlYzMuc2V0KHRtcFZlYzEsIHRoaXMubWluWCwgdGhpcy5tYXhZLCB0aGlzLm1pblopO1xuICAgIHZlYzMuc2V0KHRtcFZlYzIsIHRoaXMubWluWCwgdGhpcy5tYXhZLCB0aGlzLm1heFopO1xuICAgIGVkZ2UucmVzZXQodG1wVmVjMSwgdG1wVmVjMik7XG4gICAgaWYgKGNhbGxiYWNrKGVkZ2UpKSByZXR1cm4gdHJ1ZTtcblxuICAgIHZlYzMuc2V0KHRtcFZlYzEsIHRoaXMubWF4WCwgdGhpcy5tYXhZLCB0aGlzLm1pblopO1xuICAgIHZlYzMuc2V0KHRtcFZlYzIsIHRoaXMubWF4WCwgdGhpcy5tYXhZLCB0aGlzLm1heFopO1xuICAgIGVkZ2UucmVzZXQodG1wVmVjMSwgdG1wVmVjMik7XG4gICAgaWYgKGNhbGxiYWNrKGVkZ2UpKSByZXR1cm4gdHJ1ZTtcblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5jb25zdCBfc2VnbWVudCA9IG5ldyBMaW5lU2VnbWVudCh2ZWMzLmNyZWF0ZSgpLCB2ZWMzLmNyZWF0ZSgpKTtcblxuZXhwb3J0IHtBYWJifTtcbiIsImltcG9ydCB7Q29sbGlkYWJsZX0gZnJvbSAnLi9jb2xsaWRhYmxlJztcbmltcG9ydCB7TGluZVNlZ21lbnR9IGZyb20gJy4vbGluZS1zZWdtZW50JztcblxuLyoqXG4gKiBUaGlzIGNsYXNzIHJlcHJlc2VudHMgYSBjYXBzdWxlLlxuICpcbiAqIC0gQSBjYXBzdWxlIGlzIGEgY3lsaW5kZXIgd2l0aCBzZW1pLXNwaGVyZXMgb24gZWl0aGVyIGVuZC5cbiAqIC0gQSBjYXBzdWxlIGNhbiByZXByZXNlbnQgYSByb3VnaCBhcHByb3hpbWF0aW9uIG9mIG1hbnkgdXNlZnVsIHNoYXBlcy5cbiAqIC0gQSBjYXBzdWxlIGNhbiBiZSB1c2VkIGZvciByZWxhdGl2ZWx5IGVmZmljaWVudCBjb2xsaXNpb24gZGV0ZWN0aW9uLlxuICovXG5jbGFzcyBDYXBzdWxlIGV4dGVuZHMgQ29sbGlkYWJsZSB7XG4gIC8qKlxuICAgKiBUaGUgZGVmYXVsdCBvcmllbnRhdGlvbiBvZiB0aGUgY2Fwc3VsZSBpcyBhbG9uZyB0aGUgei1heGlzLlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gaGFsZkRpc3RhbmNlIEhhbGYgdGhlIGRpc3RhbmNlIGZyb20gdGhlIGNlbnRlcnMgb2YgdGhlIGNhcHN1bGUgZW5kIHNwaGVyZXMuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXNcbiAgICogQHBhcmFtIHtib29sZWFufSBbaXNTdGF0aW9uYXJ5PWZhbHNlXVxuICAgKiBAcGFyYW0ge0NvbGxpZGFibGVQaHlzaWNzSm9ifSBbcGh5c2ljc0pvYl1cbiAgICovXG4gIGNvbnN0cnVjdG9yKGhhbGZEaXN0YW5jZSwgcmFkaXVzLCBpc1N0YXRpb25hcnkgPSBmYWxzZSwgcGh5c2ljc0pvYikge1xuICAgIHN1cGVyKGlzU3RhdGlvbmFyeSwgcGh5c2ljc0pvYik7XG4gICAgdGhpcy5oYWxmRGlzdGFuY2UgPSBoYWxmRGlzdGFuY2U7XG4gICAgdGhpcy5zZWdtZW50ID0gbmV3IExpbmVTZWdtZW50KHZlYzMuZnJvbVZhbHVlcygwLCAwLCAtaGFsZkRpc3RhbmNlKSxcbiAgICAgICAgdmVjMy5mcm9tVmFsdWVzKDAsIDAsIGhhbGZEaXN0YW5jZSkpO1xuICAgIHRoaXMucmFkaXVzID0gcmFkaXVzO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHt2ZWMzfVxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldCBjZW50ZXJPZlZvbHVtZSgpIHtcbiAgICByZXR1cm4gdGhpcy5zZWdtZW50LmNlbnRlcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7Q29sbGlkYWJsZX1cbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXQgYm91bmRpbmdWb2x1bWUoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHt2ZWMzfSB2YWx1ZVxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHNldCBwb3NpdGlvbih2YWx1ZSkge1xuICAgIHRoaXMuc2VnbWVudC5jZW50ZXIgPSB2YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3F1YXR9IHZhbHVlXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc2V0IG9yaWVudGF0aW9uKHZhbHVlKSB7XG4gICAgdGhpcy5zZWdtZW50Lm9yaWVudGF0aW9uID0gdmFsdWU7XG4gIH1cbn1cblxuZXhwb3J0IHtDYXBzdWxlfTtcbiIsIi8qKlxuICogVGhpcyBjbGFzcyByZXByZXNlbnRzIGEgM0QgY29sbGlkYWJsZSByaWdpZCBvYmplY3QuXG4gKlxuICogVGhpcyBpcyB1c2VmdWwgZm9yIGNvbGxpc2lvbiBkZXRlY3Rpb24gYW5kIHJlc3BvbnNlLlxuICpcbiAqIEBhYnN0cmFjdFxuICovXG5jbGFzcyBDb2xsaWRhYmxlIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNTdGF0aW9uYXJ5XG4gICAqIEBwYXJhbSB7Q29sbGlkYWJsZVBoeXNpY3NKb2J9IFtwaHlzaWNzSm9iXVxuICAgKi9cbiAgY29uc3RydWN0b3IoaXNTdGF0aW9uYXJ5LCBwaHlzaWNzSm9iKSB7XG4gICAgLy8gQ29sbGlkYWJsZSBpcyBhbiBhYnN0cmFjdCBjbGFzcy4gSXQgc2hvdWxkIG5vdCBiZSBpbnN0YW50aWF0ZWQgZGlyZWN0bHkuXG4gICAgaWYgKG5ldy50YXJnZXQgPT09IENvbGxpZGFibGUpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjb25zdHJ1Y3QgQ29sbGlkYWJsZSBpbnN0YW5jZXMgZGlyZWN0bHknKTtcbiAgICB9XG5cbiAgICB0aGlzLmlzU3RhdGlvbmFyeSA9IGlzU3RhdGlvbmFyeTtcbiAgICB0aGlzLnBoeXNpY3NKb2IgPSBwaHlzaWNzSm9iO1xuICAgIHRoaXMuY29sbGlzaW9ucyA9IFtdO1xuICAgIHRoaXMucHJldmlvdXNDb2xsaXNpb25zID0gW107XG4gIH1cblxuICAvKipcbiAgICogSW1wbGVtZW50aW5nIGNsYXNzZXMgY2FuIG92ZXJyaWRlIHRoaXMgdG8gcHJvdmlkZSBhIGNlbnRlciBvZiBtYXNzIHRoYXQgaXMgZGlmZmVyZW50IHRoYW4gdGhlXG4gICAqIGNlbnRlciBvZiB2b2x1bWUuXG4gICAqXG4gICAqIEByZXR1cm5zIHt2ZWMzfVxuICAgKi9cbiAgZ2V0IGNlbnRlck9mTWFzcygpIHtcbiAgICByZXR1cm4gdGhpcy5jZW50ZXJPZlZvbHVtZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7dmVjM31cbiAgICogQGFic3RyYWN0XG4gICAqL1xuICBnZXQgY2VudGVyT2ZWb2x1bWUoKSB7XG4gICAgLy8gRXh0ZW5kaW5nIGNsYXNzZXMgc2hvdWxkIGltcGxlbWVudCB0aGlzIG1ldGhvZC5cbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdNZXRob2Qgbm90IGltcGxlbWVudGVkJyk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge0NvbGxpZGFibGV9XG4gICAqIEBhYnN0cmFjdFxuICAgKi9cbiAgZ2V0IGJvdW5kaW5nVm9sdW1lKCkge1xuICAgIC8vIEV4dGVuZGluZyBjbGFzc2VzIHNob3VsZCBpbXBsZW1lbnQgdGhpcyBtZXRob2QuXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTWV0aG9kIG5vdCBpbXBsZW1lbnRlZCcpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7dmVjM30gdmFsdWVcbiAgICogQGFic3RyYWN0XG4gICAqL1xuICBzZXQgcG9zaXRpb24odmFsdWUpIHtcbiAgICAvLyBFeHRlbmRpbmcgY2xhc3NlcyBzaG91bGQgaW1wbGVtZW50IHRoaXMgbWV0aG9kLlxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ01ldGhvZCBub3QgaW1wbGVtZW50ZWQnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3F1YXR9IHZhbHVlXG4gICAqIEBhYnN0cmFjdFxuICAgKi9cbiAgc2V0IG9yaWVudGF0aW9uKHZhbHVlKSB7XG4gICAgLy8gRXh0ZW5kaW5nIGNsYXNzZXMgc2hvdWxkIGltcGxlbWVudCB0aGlzIG1ldGhvZC5cbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdNZXRob2Qgbm90IGltcGxlbWVudGVkJyk7XG4gIH1cbn1cblxuZXhwb3J0IHtDb2xsaWRhYmxlfTtcbiIsImltcG9ydCB7dG1wVmVjMSwgdG1wVmVjMn0gZnJvbSAnLi4vLi4vLi4vdXRpbCc7XG5cbi8qKlxuICogVGhpcyBjbGFzcyByZXByZXNlbnRzIGEgbGluZSBzZWdtZW50LlxuICovXG5jbGFzcyBMaW5lU2VnbWVudCB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge3ZlYzN9IHN0YXJ0XG4gICAqIEBwYXJhbSB7dmVjM30gZW5kXG4gICAqL1xuICBjb25zdHJ1Y3RvcihzdGFydCwgZW5kKSB7XG4gICAgdGhpcy5zdGFydCA9IHZlYzMuY3JlYXRlKCk7XG4gICAgdGhpcy5lbmQgPSB2ZWMzLmNyZWF0ZSgpO1xuICAgIHRoaXMuX2NlbnRlciA9IHZlYzMuY3JlYXRlKCk7XG4gICAgdGhpcy5fb3JpZ2luYWxPcmllbnRhdGlvblN0YXJ0ID0gdmVjMy5jcmVhdGUoKTtcbiAgICB0aGlzLl9vcmlnaW5hbE9yaWVudGF0aW9uRW5kID0gdmVjMy5jcmVhdGUoKTtcbiAgICB0aGlzLnJlc2V0KHN0YXJ0LCBlbmQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7dmVjM30gc3RhcnRcbiAgICogQHBhcmFtIHt2ZWMzfSBlbmRcbiAgICovXG4gIHJlc2V0KHN0YXJ0LCBlbmQpIHtcbiAgICB2ZWMzLmNvcHkodGhpcy5zdGFydCwgc3RhcnQpO1xuICAgIHZlYzMuY29weSh0aGlzLmVuZCwgZW5kKTtcbiAgICB2ZWMzLnN1YnRyYWN0KHRoaXMuX29yaWdpbmFsT3JpZW50YXRpb25TdGFydCwgdGhpcy5zdGFydCwgdGhpcy5jZW50ZXIpO1xuICAgIHZlYzMuc3VidHJhY3QodGhpcy5fb3JpZ2luYWxPcmllbnRhdGlvbkVuZCwgdGhpcy5lbmQsIHRoaXMuY2VudGVyKTtcbiAgfVxuXG4gIC8qKiBAcmV0dXJucyB7TGluZVNlZ21lbnR9ICovXG4gIGNsb25lKCkge1xuICAgIGNvbnN0IHNlZ21lbnQgPSBuZXcgTGluZVNlZ21lbnQodGhpcy5zdGFydCwgdGhpcy5lbmQpO1xuICAgIHNlZ21lbnQuX29yaWdpbmFsT3JpZW50YXRpb25TdGFydCA9IHRoaXMuX29yaWdpbmFsT3JpZW50YXRpb25TdGFydDtcbiAgICBzZWdtZW50Ll9vcmlnaW5hbE9yaWVudGF0aW9uRW5kID0gdGhpcy5fb3JpZ2luYWxPcmllbnRhdGlvbkVuZDtcbiAgICByZXR1cm4gc2VnbWVudDtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgVU4tTk9STUFMSVpFRCBkaXJlY3Rpb24gb2YgdGhpcyBzZWdtZW50LlxuICAgKlxuICAgKiBAcmV0dXJucyB7dmVjM31cbiAgICovXG4gIGdldCBkaXIoKSB7XG4gICAgLy8gUmV1c2UgdGhlIHNhbWUgb2JqZWN0IHdoZW4gdGhpcyBpcyBjYWxsZWQgbXVsdGlwbGUgdGltZXMuXG4gICAgdGhpcy5fZGlyID0gdGhpcy5fZGlyIHx8IHZlYzMuY3JlYXRlKCk7XG4gICAgcmV0dXJuIHZlYzMuc3VidHJhY3QodGhpcy5fZGlyLCB0aGlzLmVuZCwgdGhpcy5zdGFydCk7XG4gIH1cblxuICAvKiogQHJldHVybnMge3ZlYzN9ICovXG4gIGdldCBjZW50ZXIoKSB7XG4gICAgdmVjMy5sZXJwKHRoaXMuX2NlbnRlciwgdGhpcy5zdGFydCwgdGhpcy5lbmQsIDAuNSk7XG4gICAgcmV0dXJuIHRoaXMuX2NlbnRlcjtcbiAgfVxuXG4gIC8qKiBAcGFyYW0ge3ZlYzN9IHZhbHVlICovXG4gIHNldCBjZW50ZXIodmFsdWUpIHtcbiAgICAvLyBSZXVzZSB0aGUgc2FtZSBvYmplY3Qgd2hlbiB0aGlzIGlzIGNhbGxlZCBtdWx0aXBsZSB0aW1lcy5cbiAgICB0aGlzLl9kaXNwbGFjZW1lbnQgPSB0aGlzLl9kaXNwbGFjZW1lbnQgfHwgdmVjMy5jcmVhdGUoKTtcbiAgICB2ZWMzLnN1YnRyYWN0KHRoaXMuX2Rpc3BsYWNlbWVudCwgdmFsdWUsIHRoaXMuY2VudGVyKTtcblxuICAgIHZlYzMuYWRkKHRoaXMuc3RhcnQsIHRoaXMuc3RhcnQsIHRoaXMuX2Rpc3BsYWNlbWVudCk7XG4gICAgdmVjMy5hZGQodGhpcy5lbmQsIHRoaXMuZW5kLCB0aGlzLl9kaXNwbGFjZW1lbnQpO1xuICB9XG5cbiAgLyoqIEBwYXJhbSB7cXVhdH0gdmFsdWUgKi9cbiAgc2V0IG9yaWVudGF0aW9uKHZhbHVlKSB7XG4gICAgdmVjMy50cmFuc2Zvcm1RdWF0KHRtcFZlYzEsIHRoaXMuX29yaWdpbmFsT3JpZW50YXRpb25TdGFydCwgdmFsdWUpO1xuICAgIHZlYzMudHJhbnNmb3JtUXVhdCh0bXBWZWMyLCB0aGlzLl9vcmlnaW5hbE9yaWVudGF0aW9uRW5kLCB2YWx1ZSk7XG5cbiAgICAvLyBXZSBkb24ndCB3YW50IHRoaXMgdG8gYmUgcmUtY2FsY3VsYXRlZCBiZXR3ZWVuIHN0YXJ0L2VuZCB1cGRhdGVzLlxuICAgIGNvbnN0IGNlbnRlciA9IHRoaXMuY2VudGVyO1xuXG4gICAgdmVjMy5hZGQodGhpcy5zdGFydCwgY2VudGVyLCB0bXBWZWMxKTtcbiAgICB2ZWMzLmFkZCh0aGlzLmVuZCwgY2VudGVyLCB0bXBWZWMyKTtcbiAgfVxufVxuXG5leHBvcnQge0xpbmVTZWdtZW50fTtcbiIsImltcG9ydCB7Q29sbGlkYWJsZX0gZnJvbSAnLi9jb2xsaWRhYmxlJztcbmltcG9ydCB7U3BoZXJlfSBmcm9tICcuL3NwaGVyZS1jb2xsaWRhYmxlJztcbmltcG9ydCB7TGluZVNlZ21lbnR9IGZyb20gJy4vbGluZS1zZWdtZW50JztcblxuLyoqXG4gKiBUaGlzIGNsYXNzIHJlcHJlc2VudHMgYW4gb3JpZW50ZWQgYm91bmRpbmcgYm94IChPQkIpLlxuICpcbiAqIFRoaXMgaXMgdXNlZnVsIGJvdGggZm9yIGNvbGxpc2lvbiBkZXRlY3Rpb24gYW5kIGZvciByZXByZXNlbnRpbmcgYW55IHJvdGF0ZWQgcmVjdGFuZ3VsYXIgY3Vib2lkLlxuICogQW4gT0JCIGlzIG9ubHkgYXBwcm9wcmlhdGUgZm9yIHNvbWUgZ2VvbWV0cmllcy4gRm9yIG90aGVyIGdlb21ldHJpZXMsIGFuIGF4aWFsbHktYWxpZ25lZCBib3VuZGluZ1xuICogYm94IChBQUJCKSBvciBhIGJvdW5kaW5nIHNwaGVyZSBtYXkgYmUgbW9yZSBhcHByb3ByaWF0ZS5cbiAqL1xuY2xhc3MgT2JiIGV4dGVuZHMgQ29sbGlkYWJsZSB7XG4gIC8qKlxuICAgKiBEZWZhdWx0cyB0byBiZWluZyBjZW50ZXJlZCBhdCB0aGUgb3JpZ2luIHdpdGggaXRzIGxvY2FsIGF4ZXMgYWxpZ25lZCB3aXRoIHRoZSB3b3JsZCBheGVzLlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gaGFsZlNpZGVMZW5ndGhYXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBoYWxmU2lkZUxlbmd0aFlcbiAgICogQHBhcmFtIHtudW1iZXJ9IGhhbGZTaWRlTGVuZ3RoWlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc1N0YXRpb25hcnk9ZmFsc2VdXG4gICAqIEBwYXJhbSB7Q29sbGlkYWJsZVBoeXNpY3NKb2J9IFtwaHlzaWNzSm9iXVxuICAgKi9cbiAgY29uc3RydWN0b3IoaGFsZlNpZGVMZW5ndGhYLCBoYWxmU2lkZUxlbmd0aFksIGhhbGZTaWRlTGVuZ3RoWiwgaXNTdGF0aW9uYXJ5ID0gZmFsc2UsIHBoeXNpY3NKb2IpIHtcbiAgICBzdXBlcihpc1N0YXRpb25hcnksIHBoeXNpY3NKb2IpO1xuICAgIHRoaXMuZXh0ZW50cyA9IFtcbiAgICAgIHZlYzMuZnJvbVZhbHVlcyhoYWxmU2lkZUxlbmd0aFgsIDAsIDApLFxuICAgICAgdmVjMy5mcm9tVmFsdWVzKDAsIGhhbGZTaWRlTGVuZ3RoWSwgMCksXG4gICAgICB2ZWMzLmZyb21WYWx1ZXMoMCwgMCwgaGFsZlNpZGVMZW5ndGhaKVxuICAgIF07XG4gICAgdGhpcy5heGVzID0gW1xuICAgICAgdmVjMy5mcm9tVmFsdWVzKDEsIDAsIDApLFxuICAgICAgdmVjMy5mcm9tVmFsdWVzKDAsIDEsIDApLFxuICAgICAgdmVjMy5mcm9tVmFsdWVzKDAsIDAsIDEpXG4gICAgXTtcbiAgICB0aGlzLmhhbGZTaWRlTGVuZ3RocyA9IFtcbiAgICAgIGhhbGZTaWRlTGVuZ3RoWCxcbiAgICAgIGhhbGZTaWRlTGVuZ3RoWSxcbiAgICAgIGhhbGZTaWRlTGVuZ3RoWlxuICAgIF07XG4gICAgdGhpcy5fY2VudGVyID0gdmVjMy5jcmVhdGUoKTtcbiAgICB0aGlzLl9vcmllbnRhdGlvbiA9IHF1YXQuY3JlYXRlKCk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge3ZlYzN9XG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0IGNlbnRlck9mVm9sdW1lKCkge1xuICAgIHJldHVybiB0aGlzLl9jZW50ZXI7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge0NvbGxpZGFibGV9XG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0IGJvdW5kaW5nVm9sdW1lKCkge1xuICAgIC8vIFJldXNlIHRoZSBzYW1lIHZhbHVlIHdoZW4gdGhpcyBpcyBjYWxsZWQgbXVsdGlwbGUgdGltZXMuXG4gICAgaWYgKCF0aGlzLl9ib3VuZGluZ1NwaGVyZSkge1xuICAgICAgY29uc3QgcmFkaXVzID0gTWF0aC5zcXJ0KHRoaXMuaGFsZlNpZGVMZW5ndGhYICogdGhpcy5oYWxmU2lkZUxlbmd0aFggK1xuICAgICAgICAgIHRoaXMuaGFsZlNpZGVMZW5ndGhZICogdGhpcy5oYWxmU2lkZUxlbmd0aFkgK1xuICAgICAgICAgIHRoaXMuaGFsZlNpZGVMZW5ndGhaICogdGhpcy5oYWxmU2lkZUxlbmd0aFopO1xuICAgICAgdGhpcy5fYm91bmRpbmdTcGhlcmUgPSBuZXcgU3BoZXJlKDAsIDAsIDAsIHJhZGl1cywgdGhpcy5pc1N0YXRpb25hcnkpO1xuICAgIH1cbiAgICB0aGlzLl9ib3VuZGluZ1NwaGVyZS5wb3NpdGlvbiA9IHRoaXMuX2NlbnRlcjtcbiAgICByZXR1cm4gdGhpcy5fYm91bmRpbmdTcGhlcmU7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHt2ZWMzfSB2YWx1ZVxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHNldCBwb3NpdGlvbih2YWx1ZSkge1xuICAgIHZlYzMuY29weSh0aGlzLl9jZW50ZXIsIHZhbHVlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3F1YXR9IHZhbHVlXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc2V0IG9yaWVudGF0aW9uKHZhbHVlKSB7XG4gICAgcXVhdC5jb3B5KHRoaXMuX29yaWVudGF0aW9uLCB2YWx1ZSk7XG4gICAgdGhpcy5fdXBkYXRlRXh0ZW50cygpO1xuICB9XG4gIC8qKiBAcmV0dXJucyB7cXVhdH0gKi9cbiAgZ2V0IG9yaWVudGF0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLl9vcmllbnRhdGlvbjtcbiAgfVxuXG4gIC8qKiBAcmV0dXJucyB7bnVtYmVyfSAqL1xuICBnZXQgaGFsZlNpZGVMZW5ndGhYKCkge1xuICAgIHJldHVybiB0aGlzLmhhbGZTaWRlTGVuZ3Roc1swXTtcbiAgfVxuICAvKiogQHBhcmFtIHtudW1iZXJ9IHZhbHVlICovXG4gIHNldCBoYWxmU2lkZUxlbmd0aFgodmFsdWUpIHtcbiAgICB0aGlzLmhhbGZTaWRlTGVuZ3Roc1swXSA9IHZhbHVlO1xuICAgIHRoaXMuX3VwZGF0ZUV4dGVudHMoKTtcbiAgfVxuXG4gIC8qKiBAcmV0dXJucyB7bnVtYmVyfSAqL1xuICBnZXQgaGFsZlNpZGVMZW5ndGhZKCkge1xuICAgIHJldHVybiB0aGlzLmhhbGZTaWRlTGVuZ3Roc1sxXTtcbiAgfVxuICAvKiogQHBhcmFtIHtudW1iZXJ9IHZhbHVlICovXG4gIHNldCBoYWxmU2lkZUxlbmd0aFkodmFsdWUpIHtcbiAgICB0aGlzLmhhbGZTaWRlTGVuZ3Roc1sxXSA9IHZhbHVlO1xuICAgIHRoaXMuX3VwZGF0ZUV4dGVudHMoKTtcbiAgfVxuXG4gIC8qKiBAcmV0dXJucyB7bnVtYmVyfSAqL1xuICBnZXQgaGFsZlNpZGVMZW5ndGhaKCkge1xuICAgIHJldHVybiB0aGlzLmhhbGZTaWRlTGVuZ3Roc1syXTtcbiAgfVxuICAvKiogQHBhcmFtIHtudW1iZXJ9IHZhbHVlICovXG4gIHNldCBoYWxmU2lkZUxlbmd0aFoodmFsdWUpIHtcbiAgICB0aGlzLmhhbGZTaWRlTGVuZ3Roc1syXSA9IHZhbHVlO1xuICAgIHRoaXMuX3VwZGF0ZUV4dGVudHMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxscyB0aGUgZ2l2ZW4gY2FsbGJhY2sgb25jZSBmb3IgZWFjaCB2ZXJ0ZXguXG4gICAqXG4gICAqIFN0b3BzIGFzIHNvb24gYXMgdGhlIGNhbGxiYWNrIHJldHVybnMgdHJ1ZSBmb3IgYSB2ZXJ0ZXguXG4gICAqXG4gICAqIEBwYXJhbSB7VmVydGV4Q2FsbGJhY2t9IGNhbGxiYWNrXG4gICAqIEBwYXJhbSB7dmVjM30gW3ZlcnRleF0gT3V0cHV0IHBhcmFtLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBvbmUgb2YgdGhlIGNhbGxiYWNrcyByZXR1cm5lZCB0cnVlLlxuICAgKi9cbiAgc29tZVZlcnRleChjYWxsYmFjaywgdmVydGV4KSB7XG4gICAgdmVydGV4ID0gdmVydGV4IHx8IF92ZXJ0ZXgxO1xuXG4gICAgZm9yIChsZXQgeFNjYWxlID0gLTE7IHhTY2FsZSA8PSAxOyB4U2NhbGUgKz0gMikge1xuICAgICAgZm9yIChsZXQgeVNjYWxlID0gLTE7IHlTY2FsZSA8PSAxOyB5U2NhbGUgKz0gMikge1xuICAgICAgICBmb3IgKGxldCB6U2NhbGUgPSAtMTsgelNjYWxlIDw9IDE7IHpTY2FsZSArPSAyKSB7XG4gICAgICAgICAgdmVjMy5jb3B5KHZlcnRleCwgdGhpcy5fY2VudGVyKTtcbiAgICAgICAgICB2ZWMzLnNjYWxlQW5kQWRkKHZlcnRleCwgdmVydGV4LCB0aGlzLmV4dGVudHNbMF0sIHhTY2FsZSk7XG4gICAgICAgICAgdmVjMy5zY2FsZUFuZEFkZCh2ZXJ0ZXgsIHZlcnRleCwgdGhpcy5leHRlbnRzWzFdLCB5U2NhbGUpO1xuICAgICAgICAgIHZlYzMuc2NhbGVBbmRBZGQodmVydGV4LCB2ZXJ0ZXgsIHRoaXMuZXh0ZW50c1syXSwgelNjYWxlKTtcbiAgICAgICAgICBpZiAoY2FsbGJhY2sodmVydGV4KSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxscyB0aGUgZ2l2ZW4gY2FsbGJhY2sgb25jZSBmb3IgZWFjaCBlZGdlLlxuICAgKlxuICAgKiBAcGFyYW0ge0VkZ2VDYWxsYmFja30gY2FsbGJhY2tcbiAgICogQHBhcmFtIHtMaW5lU2VnbWVudH0gW2VkZ2VdIE91dHB1dCBwYXJhbS5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgb25lIG9mIHRoZSBjYWxsYmFja3MgcmV0dXJuZWQgdHJ1ZS5cbiAgICovXG4gIHNvbWVFZGdlKGNhbGxiYWNrLCBlZGdlKSB7XG4gICAgZWRnZSA9IGVkZ2UgfHwgX3NlZ21lbnQ7XG5cbiAgICByZXR1cm4gX2VkZ2VFeHRlbnRTY2FsZXMuc29tZShlZGdlRXh0ZW50U2NhbGVQYWlyID0+IHtcbiAgICAgIGNvbnN0IHZlcnRleDFFeHRlbnRTY2FsZXMgPSBlZGdlRXh0ZW50U2NhbGVQYWlyWzBdO1xuICAgICAgY29uc3QgdmVydGV4MkV4dGVudFNjYWxlcyA9IGVkZ2VFeHRlbnRTY2FsZVBhaXJbMV07XG5cbiAgICAgIC8vIENhbGN1bGF0ZSB0aGUgZWRnZSdzIGZpcnN0IGFuZCBzZWNvbmQgdmVydGV4LlxuICAgICAgdmVjMy5jb3B5KF92ZXJ0ZXgxLCB0aGlzLl9jZW50ZXIpO1xuICAgICAgdmVjMy5jb3B5KF92ZXJ0ZXgyLCB0aGlzLl9jZW50ZXIpO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzOyBpKyspIHtcbiAgICAgICAgdmVjMy5zY2FsZUFuZEFkZChfdmVydGV4MSwgX3ZlcnRleDEsIHRoaXMuZXh0ZW50c1tpXSwgdmVydGV4MUV4dGVudFNjYWxlc1tpXSk7XG4gICAgICAgIHZlYzMuc2NhbGVBbmRBZGQoX3ZlcnRleDIsIF92ZXJ0ZXgyLCB0aGlzLmV4dGVudHNbaV0sIHZlcnRleDJFeHRlbnRTY2FsZXNbaV0pO1xuICAgICAgfVxuXG4gICAgICAvLyBDYWxsIGJhY2sgd2l0aCB0aGUgZWRnZS5cbiAgICAgIGVkZ2UucmVzZXQoX3ZlcnRleDEsIF92ZXJ0ZXgyKTtcbiAgICAgIHJldHVybiBjYWxsYmFjayhlZGdlKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxscyB0aGUgZ2l2ZW4gY2FsbGJhY2sgb25jZSBmb3IgZWFjaCBmYWNlLlxuICAgKlxuICAgKiBAcGFyYW0ge0ZhY2VDYWxsYmFja30gY2FsbGJhY2tcbiAgICogQHBhcmFtIHtBcnJheS48dmVjMz59IFtmYWNlXSBPdXRwdXQgcGFyYW0uXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIG9uZSBvZiB0aGUgY2FsbGJhY2tzIHJldHVybmVkIHRydWUuXG4gICAqL1xuICBzb21lRmFjZShjYWxsYmFjaywgZmFjZSkge1xuICAgIGZhY2UgPSBmYWNlIHx8IFtdO1xuXG4gICAgcmV0dXJuIF9mYWNlRXh0ZW50U2NhbGVzLnNvbWUoZmFjZUV4dGVudFNjYWxlcyA9PiB7XG4gICAgICBjb25zdCB2ZXJ0ZXgxRXh0ZW50U2NhbGVzID0gZmFjZUV4dGVudFNjYWxlc1swXTtcbiAgICAgIGNvbnN0IHZlcnRleDJFeHRlbnRTY2FsZXMgPSBmYWNlRXh0ZW50U2NhbGVzWzFdO1xuICAgICAgY29uc3QgdmVydGV4M0V4dGVudFNjYWxlcyA9IGZhY2VFeHRlbnRTY2FsZXNbMl07XG4gICAgICBjb25zdCB2ZXJ0ZXg0RXh0ZW50U2NhbGVzID0gZmFjZUV4dGVudFNjYWxlc1szXTtcblxuICAgICAgLy8gQ2FsY3VsYXRlIHRoZSBmYWNlJ3MgdmVydGljZXMuXG4gICAgICB2ZWMzLmNvcHkoX3ZlcnRleDEsIHRoaXMuX2NlbnRlcik7XG4gICAgICB2ZWMzLmNvcHkoX3ZlcnRleDIsIHRoaXMuX2NlbnRlcik7XG4gICAgICB2ZWMzLmNvcHkoX3ZlcnRleDMsIHRoaXMuX2NlbnRlcik7XG4gICAgICB2ZWMzLmNvcHkoX3ZlcnRleDQsIHRoaXMuX2NlbnRlcik7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkrKykge1xuICAgICAgICB2ZWMzLnNjYWxlQW5kQWRkKF92ZXJ0ZXgxLCBfdmVydGV4MSwgdGhpcy5leHRlbnRzW2ldLCB2ZXJ0ZXgxRXh0ZW50U2NhbGVzW2ldKTtcbiAgICAgICAgdmVjMy5zY2FsZUFuZEFkZChfdmVydGV4MiwgX3ZlcnRleDIsIHRoaXMuZXh0ZW50c1tpXSwgdmVydGV4MkV4dGVudFNjYWxlc1tpXSk7XG4gICAgICAgIHZlYzMuc2NhbGVBbmRBZGQoX3ZlcnRleDMsIF92ZXJ0ZXgzLCB0aGlzLmV4dGVudHNbaV0sIHZlcnRleDNFeHRlbnRTY2FsZXNbaV0pO1xuICAgICAgICB2ZWMzLnNjYWxlQW5kQWRkKF92ZXJ0ZXg0LCBfdmVydGV4NCwgdGhpcy5leHRlbnRzW2ldLCB2ZXJ0ZXg0RXh0ZW50U2NhbGVzW2ldKTtcbiAgICAgIH1cblxuICAgICAgLy8gQ2FsbCBiYWNrIHdpdGggdGhlIGZhY2UuXG4gICAgICBmYWNlLnNwbGljZSgwLCA0LCBfdmVydGV4MSwgX3ZlcnRleDIsIF92ZXJ0ZXgzLCBfdmVydGV4NCk7XG4gICAgICByZXR1cm4gY2FsbGJhY2soZmFjZSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbHMgdGhlIGdpdmVuIGNhbGxiYWNrIG9uY2UgZm9yIGVhY2ggZmFjZSB3aXRoIGEgZ2l2ZW4gYWRkaXRpb25hbCBvZmZzZXQgZnJvbSB0aGUgY2VudGVyXG4gICAqIGFwcGxpZWQgdG8gZWFjaCBmYWNlLlxuICAgKlxuICAgKiBAcGFyYW0ge0ZhY2VDYWxsYmFja30gY2FsbGJhY2tcbiAgICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1c09mZnNldFxuICAgKiBAcGFyYW0ge0FycmF5Ljx2ZWMzPn0gW2ZhY2VdIE91dHB1dCBwYXJhbS5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgb25lIG9mIHRoZSBjYWxsYmFja3MgcmV0dXJuZWQgdHJ1ZS5cbiAgICovXG4gIHNvbWVQdXNoZWRPdXRGYWNlKGNhbGxiYWNrLCByYWRpdXNPZmZzZXQsIGZhY2UpIHtcbiAgICBmYWNlID0gZmFjZSB8fCBbXTtcblxuICAgIHJldHVybiBfZmFjZUV4dGVudFNjYWxlcy5zb21lKChmYWNlRXh0ZW50U2NhbGVzLCBpbmRleCkgPT4ge1xuICAgICAgY29uc3QgdmVydGV4MUV4dGVudFNjYWxlcyA9IGZhY2VFeHRlbnRTY2FsZXNbMF07XG4gICAgICBjb25zdCB2ZXJ0ZXgyRXh0ZW50U2NhbGVzID0gZmFjZUV4dGVudFNjYWxlc1sxXTtcbiAgICAgIGNvbnN0IHZlcnRleDNFeHRlbnRTY2FsZXMgPSBmYWNlRXh0ZW50U2NhbGVzWzJdO1xuICAgICAgY29uc3QgdmVydGV4NEV4dGVudFNjYWxlcyA9IGZhY2VFeHRlbnRTY2FsZXNbM107XG4gICAgICBjb25zdCBkaXJlY3Rpb25PZmZzZXRzID0gX3B1c2hlZE91dEZhY2VPZmZzZXREaXJlY3Rpb25zW2luZGV4XTtcblxuICAgICAgLy8gQ2FsY3VsYXRlIHRoZSBmYWNlJ3MgdmVydGljZXMuXG4gICAgICB2ZWMzLmNvcHkoX3ZlcnRleDEsIHRoaXMuX2NlbnRlcik7XG4gICAgICB2ZWMzLmNvcHkoX3ZlcnRleDIsIHRoaXMuX2NlbnRlcik7XG4gICAgICB2ZWMzLmNvcHkoX3ZlcnRleDMsIHRoaXMuX2NlbnRlcik7XG4gICAgICB2ZWMzLmNvcHkoX3ZlcnRleDQsIHRoaXMuX2NlbnRlcik7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkrKykge1xuICAgICAgICAvLyBBZGQgdGhlIG9mZnNldCBmb3IgdGhlIG5vcm1hbCB2ZXJ0ZXggcG9zaXRpb24uXG4gICAgICAgIHZlYzMuc2NhbGVBbmRBZGQoX3ZlcnRleDEsIF92ZXJ0ZXgxLCB0aGlzLmV4dGVudHNbaV0sIHZlcnRleDFFeHRlbnRTY2FsZXNbaV0pO1xuICAgICAgICB2ZWMzLnNjYWxlQW5kQWRkKF92ZXJ0ZXgyLCBfdmVydGV4MiwgdGhpcy5leHRlbnRzW2ldLCB2ZXJ0ZXgyRXh0ZW50U2NhbGVzW2ldKTtcbiAgICAgICAgdmVjMy5zY2FsZUFuZEFkZChfdmVydGV4MywgX3ZlcnRleDMsIHRoaXMuZXh0ZW50c1tpXSwgdmVydGV4M0V4dGVudFNjYWxlc1tpXSk7XG4gICAgICAgIHZlYzMuc2NhbGVBbmRBZGQoX3ZlcnRleDQsIF92ZXJ0ZXg0LCB0aGlzLmV4dGVudHNbaV0sIHZlcnRleDRFeHRlbnRTY2FsZXNbaV0pO1xuICAgICAgICAvLyBBZGQgdGhlIHB1c2hlZC1vdXQgb2Zmc2V0LlxuICAgICAgICB2ZWMzLnNjYWxlQW5kQWRkKF92ZXJ0ZXgxLCBfdmVydGV4MSwgdGhpcy5leHRlbnRzW2ldLFxuICAgICAgICAgICAgcmFkaXVzT2Zmc2V0IC8gdGhpcy5oYWxmU2lkZUxlbmd0aHNbaV0gKiBkaXJlY3Rpb25PZmZzZXRzW2ldKTtcbiAgICAgICAgdmVjMy5zY2FsZUFuZEFkZChfdmVydGV4MiwgX3ZlcnRleDIsIHRoaXMuZXh0ZW50c1tpXSxcbiAgICAgICAgICAgIHJhZGl1c09mZnNldCAvIHRoaXMuaGFsZlNpZGVMZW5ndGhzW2ldICogZGlyZWN0aW9uT2Zmc2V0c1tpXSk7XG4gICAgICAgIHZlYzMuc2NhbGVBbmRBZGQoX3ZlcnRleDMsIF92ZXJ0ZXgzLCB0aGlzLmV4dGVudHNbaV0sXG4gICAgICAgICAgICByYWRpdXNPZmZzZXQgLyB0aGlzLmhhbGZTaWRlTGVuZ3Roc1tpXSAqIGRpcmVjdGlvbk9mZnNldHNbaV0pO1xuICAgICAgICB2ZWMzLnNjYWxlQW5kQWRkKF92ZXJ0ZXg0LCBfdmVydGV4NCwgdGhpcy5leHRlbnRzW2ldLFxuICAgICAgICAgICAgcmFkaXVzT2Zmc2V0IC8gdGhpcy5oYWxmU2lkZUxlbmd0aHNbaV0gKiBkaXJlY3Rpb25PZmZzZXRzW2ldKTtcbiAgICAgIH1cblxuICAgICAgLy8gQ2FsbCBiYWNrIHdpdGggdGhlIGZhY2UuXG4gICAgICBmYWNlLnNwbGljZSgwLCA0LCBfdmVydGV4MSwgX3ZlcnRleDIsIF92ZXJ0ZXgzLCBfdmVydGV4NCk7XG4gICAgICByZXR1cm4gY2FsbGJhY2soZmFjZSk7XG4gICAgfSk7XG4gIH1cblxuICBfdXBkYXRlRXh0ZW50cygpIHtcbiAgICB2ZWMzLnNldChfdmVydGV4MSwgdGhpcy5oYWxmU2lkZUxlbmd0aHNbMF0sIDAsIDApO1xuICAgIHZlYzMudHJhbnNmb3JtUXVhdCh0aGlzLmV4dGVudHNbMF0sIF92ZXJ0ZXgxLCB0aGlzLl9vcmllbnRhdGlvbik7XG4gICAgdmVjMy5zZXQoX3ZlcnRleDEsIDAsIHRoaXMuaGFsZlNpZGVMZW5ndGhzWzFdLCAwKTtcbiAgICB2ZWMzLnRyYW5zZm9ybVF1YXQodGhpcy5leHRlbnRzWzFdLCBfdmVydGV4MSwgdGhpcy5fb3JpZW50YXRpb24pO1xuICAgIHZlYzMuc2V0KF92ZXJ0ZXgxLCAwLCAwLCB0aGlzLmhhbGZTaWRlTGVuZ3Roc1syXSk7XG4gICAgdmVjMy50cmFuc2Zvcm1RdWF0KHRoaXMuZXh0ZW50c1syXSwgX3ZlcnRleDEsIHRoaXMuX29yaWVudGF0aW9uKTtcblxuICAgIHZlYzMuc2V0KF92ZXJ0ZXgxLCAxLCAwLCAwKTtcbiAgICB2ZWMzLnRyYW5zZm9ybVF1YXQodGhpcy5heGVzWzBdLCBfdmVydGV4MSwgdGhpcy5fb3JpZW50YXRpb24pO1xuICAgIHZlYzMuc2V0KF92ZXJ0ZXgxLCAwLCAxLCAwKTtcbiAgICB2ZWMzLnRyYW5zZm9ybVF1YXQodGhpcy5heGVzWzFdLCBfdmVydGV4MSwgdGhpcy5fb3JpZW50YXRpb24pO1xuICAgIHZlYzMuc2V0KF92ZXJ0ZXgxLCAwLCAwLCAxKTtcbiAgICB2ZWMzLnRyYW5zZm9ybVF1YXQodGhpcy5heGVzWzJdLCBfdmVydGV4MSwgdGhpcy5fb3JpZW50YXRpb24pO1xuICB9XG59XG5cbmNvbnN0IF92ZXJ0ZXgxID0gdmVjMy5jcmVhdGUoKTtcbmNvbnN0IF92ZXJ0ZXgyID0gdmVjMy5jcmVhdGUoKTtcbmNvbnN0IF92ZXJ0ZXgzID0gdmVjMy5jcmVhdGUoKTtcbmNvbnN0IF92ZXJ0ZXg0ID0gdmVjMy5jcmVhdGUoKTtcbmNvbnN0IF9zZWdtZW50ID0gbmV3IExpbmVTZWdtZW50KHZlYzMuY3JlYXRlKCksIHZlYzMuY3JlYXRlKCkpO1xuXG5jb25zdCBfZWRnZUV4dGVudFNjYWxlcyA9IFtcbiAgLy8gRnJvbnQtZmFjZSBlZGdlcy5cbiAgW1sxLCAtMSwgLTFdLCBbMSwgLTEsIDFdXSxcbiAgW1sxLCAtMSwgLTFdLCBbMSwgMSwgLTFdXSxcbiAgW1sxLCAxLCAxXSwgWzEsIC0xLCAxXV0sXG4gIFtbMSwgMSwgMV0sIFsxLCAxLCAtMV1dLFxuICAvLyBCYWNrLWZhY2UgZWRnZXMuXG4gIFtbLTEsIC0xLCAtMV0sIFstMSwgLTEsIDFdXSxcbiAgW1stMSwgLTEsIC0xXSwgWy0xLCAxLCAtMV1dLFxuICBbWy0xLCAxLCAxXSwgWy0xLCAtMSwgMV1dLFxuICBbWy0xLCAxLCAxXSwgWy0xLCAxLCAtMV1dLFxuICAvLyBGcm9udC10by1iYWNrIGVkZ2VzLlxuICBbWzEsIC0xLCAxXSwgWy0xLCAtMSwgMV1dLFxuICBbWzEsIDEsIC0xXSwgWy0xLCAxLCAtMV1dLFxuICBbWzEsIDEsIDFdLCBbLTEsIDEsIDFdXSxcbiAgW1sxLCAtMSwgLTFdLCBbLTEsIC0xLCAtMV1dLFxuXTtcblxuY29uc3QgX2ZhY2VFeHRlbnRTY2FsZXMgPSBbXG4gIFtbMSwgLTEsIC0xXSwgWzEsIC0xLCAxXSwgWzEsIDEsIDFdLCBbMSwgMSwgLTFdXSxcbiAgW1stMSwgLTEsIC0xXSwgWy0xLCAtMSwgMV0sIFstMSwgMSwgMV0sIFstMSwgMSwgLTFdXSxcbiAgW1stMSwgMSwgLTFdLCBbMSwgMSwgLTFdLCBbMSwgMSwgMV0sIFstMSwgMSwgMV1dLFxuICBbWy0xLCAtMSwgLTFdLCBbMSwgLTEsIC0xXSwgWzEsIC0xLCAxXSwgWy0xLCAtMSwgMV1dLFxuICBbWy0xLCAtMSwgMV0sIFsxLCAtMSwgMV0sIFsxLCAxLCAxXSwgWy0xLCAxLCAxXV0sXG4gIFtbLTEsIC0xLCAtMV0sIFsxLCAtMSwgLTFdLCBbMSwgMSwgLTFdLCBbLTEsIDEsIC0xXV0sXG5dO1xuXG5jb25zdCBfcHVzaGVkT3V0RmFjZU9mZnNldERpcmVjdGlvbnMgPSBbXG4gIHZlYzMuZnJvbVZhbHVlcygxLCAwLCAwKSxcbiAgdmVjMy5mcm9tVmFsdWVzKC0xLCAwLCAwKSxcbiAgdmVjMy5mcm9tVmFsdWVzKDAsIDEsIDApLFxuICB2ZWMzLmZyb21WYWx1ZXMoMCwgLTEsIDApLFxuICB2ZWMzLmZyb21WYWx1ZXMoMCwgMCwgMSksXG4gIHZlYzMuZnJvbVZhbHVlcygwLCAwLCAtMSksXG5dO1xuXG5leHBvcnQge09iYn07XG5cbi8qKlxuICogQGNhbGxiYWNrIFZlcnRleENhbGxiYWNrXG4gKiBAcGFyYW0ge3ZlYzN9XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gSWYgdHJ1ZSwgaXRlcmF0aW9uIHdpbGwgc3RvcC5cbiAqL1xuXG4vKipcbiAqIEBjYWxsYmFjayBFZGdlQ2FsbGJhY2tcbiAqIEBwYXJhbSB7TGluZVNlZ21lbnR9XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gSWYgdHJ1ZSwgaXRlcmF0aW9uIHdpbGwgc3RvcC5cbiAqL1xuXG4vKipcbiAqIEBjYWxsYmFjayBGYWNlQ2FsbGJhY2tcbiAqIEBwYXJhbSB7QXJyYXkuPHZlYzM+fVxuICogQHJldHVybnMge2Jvb2xlYW59IElmIHRydWUsIGl0ZXJhdGlvbiB3aWxsIHN0b3AuXG4gKi9cbiIsImltcG9ydCB7Q29sbGlkYWJsZX0gZnJvbSAnLi9jb2xsaWRhYmxlJztcblxuLyoqXG4gKiBUaGlzIGNsYXNzIHJlcHJlc2VudHMgYSBib3VuZGluZyBzcGhlcmUuXG4gKlxuICogVGhpcyBpcyBwcmltYXJpbHkgdXNlZnVsIGZvciBjb2xsaXNpb24gZGV0ZWN0aW9uLiBBIGJvdW5kaW5nIHNwaGVyZSBpcyBvbmx5IGFwcHJvcHJpYXRlIGZvciBzb21lXG4gKiBnZW9tZXRyaWVzLiBGb3Igb3RoZXIgZ2VvbWV0cmllcywgYW4gYXhpYWxseS1hbGlnbmVkIGJvdW5kaW5nIGJveCBtYXkgYmUgbW9yZSBhcHByb3ByaWF0ZS4gRm9yXG4gKiBvdGhlcnMgc3RpbGwsIGFuIG9yaWVudGVkIGJvdW5kaW5nIGJveCBvciBhIG1vcmUgY29tcGxpY2F0ZWQgaGllcmFyY2hpY2FsIG1vZGVsIG1heSBiZSBtb3JlXG4gKiBhcHByb3ByaWF0ZS5cbiAqL1xuY2xhc3MgU3BoZXJlIGV4dGVuZHMgQ29sbGlkYWJsZSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gY2VudGVyWFxuICAgKiBAcGFyYW0ge251bWJlcn0gY2VudGVyWVxuICAgKiBAcGFyYW0ge251bWJlcn0gY2VudGVyWlxuICAgKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzU3RhdGlvbmFyeT1mYWxzZV1cbiAgICogQHBhcmFtIHtDb2xsaWRhYmxlUGh5c2ljc0pvYn0gW3BoeXNpY3NKb2JdXG4gICAqL1xuICBjb25zdHJ1Y3RvcihjZW50ZXJYLCBjZW50ZXJZLCBjZW50ZXJaLCByYWRpdXMsIGlzU3RhdGlvbmFyeSA9IGZhbHNlLCBwaHlzaWNzSm9iKSB7XG4gICAgc3VwZXIoaXNTdGF0aW9uYXJ5LCBwaHlzaWNzSm9iKTtcbiAgICB0aGlzLmNlbnRlclggPSBjZW50ZXJYO1xuICAgIHRoaXMuY2VudGVyWSA9IGNlbnRlclk7XG4gICAgdGhpcy5jZW50ZXJaID0gY2VudGVyWjtcbiAgICB0aGlzLnJhZGl1cyA9IHJhZGl1cztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7dmVjM31cbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXQgY2VudGVyT2ZWb2x1bWUoKSB7XG4gICAgLy8gUmV1c2UgdGhlIHNhbWUgb2JqZWN0IHdoZW4gdGhpcyBpcyBjYWxsZWQgbXVsdGlwbGUgdGltZXMuXG4gICAgdGhpcy5fY2VudGVyID0gdGhpcy5fY2VudGVyIHx8IHZlYzMuY3JlYXRlKCk7XG4gICAgdmVjMy5zZXQodGhpcy5fY2VudGVyLCB0aGlzLmNlbnRlclgsIHRoaXMuY2VudGVyWSwgdGhpcy5jZW50ZXJaKTtcbiAgICByZXR1cm4gdGhpcy5fY2VudGVyO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtDb2xsaWRhYmxlfVxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldCBib3VuZGluZ1ZvbHVtZSgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3ZlYzN9IHZhbHVlXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc2V0IHBvc2l0aW9uKHZhbHVlKSB7XG4gICAgdGhpcy5jZW50ZXJYID0gdmFsdWVbMF07XG4gICAgdGhpcy5jZW50ZXJZID0gdmFsdWVbMV07XG4gICAgdGhpcy5jZW50ZXJaID0gdmFsdWVbMl07XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtxdWF0fSB2YWx1ZVxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHNldCBvcmllbnRhdGlvbih2YWx1ZSkge1xuICAgIC8vIERvIG5vdGhpbmcuXG4gIH1cbn1cblxuZXhwb3J0IHtTcGhlcmV9O1xuIiwiaW1wb3J0ICogYXMgYWFiYkNvbGxpc2lvbkRldGVjdGlvbiBmcm9tICcuL3NyYy9hYWJiLWNvbGxpc2lvbi1kZXRlY3Rpb24nO1xuaW1wb3J0ICogYXMgY2Fwc3VsZUNvbGxpc2lvbkRldGVjdGlvbiBmcm9tICcuL3NyYy9jYXBzdWxlLWNvbGxpc2lvbi1kZXRlY3Rpb24nO1xuaW1wb3J0ICogYXMgb2JiQ29sbGlzaW9uRGV0ZWN0aW9uIGZyb20gJy4vc3JjL29iYi1jb2xsaXNpb24tZGV0ZWN0aW9uJztcbmltcG9ydCAqIGFzIHNwaGVyZUNvbGxpc2lvbkRldGVjdGlvbiBmcm9tICcuL3NyYy9zcGhlcmUtY29sbGlzaW9uLWRldGVjdGlvbic7XG5cbmV4cG9ydCB7XG4gIGFhYmJDb2xsaXNpb25EZXRlY3Rpb24sXG4gIGNhcHN1bGVDb2xsaXNpb25EZXRlY3Rpb24sXG4gIG9iYkNvbGxpc2lvbkRldGVjdGlvbixcbiAgc3BoZXJlQ29sbGlzaW9uRGV0ZWN0aW9uLFxufTtcbiIsImltcG9ydCAqIGFzIHNwaGVyZUNvbGxpc2lvbkRldGVjdGlvbiBmcm9tICcuL3NwaGVyZS1jb2xsaXNpb24tZGV0ZWN0aW9uJztcbmltcG9ydCAqIGFzIG9iYkNvbGxpc2lvbkRldGVjdGlvbiBmcm9tICcuL29iYi1jb2xsaXNpb24tZGV0ZWN0aW9uJztcbmltcG9ydCAqIGFzIGNhcHN1bGVDb2xsaXNpb25EZXRlY3Rpb24gZnJvbSAnLi9jYXBzdWxlLWNvbGxpc2lvbi1kZXRlY3Rpb24nO1xuaW1wb3J0IHthYWJiVnNQb2ludCBhcyBnZW9tZXRyeUFhYmJWc1BvaW50fSBmcm9tICcuLi8uLi8uLi91dGlsJztcblxuLyoqXG4gKiBUaGlzIG1vZHVsZSBkZWZpbmVzIHV0aWxpdHkgbWV0aG9kcyBmb3IgZGV0ZWN0aW5nIHdoZXRoZXIgaW50ZXJzZWN0aW9uIGhhcyBvY2N1cnJlZCBiZXR3ZWVuXG4gKiBheGlhbGx5LWFsaWduZWQgYm91bmRpbmcgYm94ZXMgYW5kIG90aGVyIHNoYXBlcy5cbiAqL1xuXG4vKipcbiAqIEBwYXJhbSB7QWFiYn0gYWFiYlxuICogQHBhcmFtIHt2ZWMzfSBwb2ludFxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGFhYmJWc1BvaW50KGFhYmIsIHBvaW50KSB7XG4gIHJldHVybiBnZW9tZXRyeUFhYmJWc1BvaW50KGFhYmIsIHBvaW50KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FhYmJ9IGFhYmJcbiAqIEBwYXJhbSB7U3BoZXJlfSBzcGhlcmVcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBhYWJiVnNTcGhlcmUoYWFiYiwgc3BoZXJlKSB7XG4gIHJldHVybiBzcGhlcmVDb2xsaXNpb25EZXRlY3Rpb24uc3BoZXJlVnNBYWJiKHNwaGVyZSwgYWFiYik7XG59XG5cbi8qKlxuICogQHBhcmFtIHtBYWJifSBhYWJiQVxuICogQHBhcmFtIHtBYWJifSBhYWJiQlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGFhYmJWc0FhYmIoYWFiYkEsIGFhYmJCKSB7XG4gIHJldHVybiBhYWJiQS5tYXhYID49IGFhYmJCLm1pblggJiYgYWFiYkEubWluWCA8PSBhYWJiQi5tYXhYICYmXG4gICAgICBhYWJiQS5tYXhZID49IGFhYmJCLm1pblkgJiYgYWFiYkEubWluWSA8PSBhYWJiQi5tYXhZICYmXG4gICAgICBhYWJiQS5tYXhaID49IGFhYmJCLm1pblogJiYgYWFiYkEubWluWiA8PSBhYWJiQi5tYXhaO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7QWFiYn0gYWFiYlxuICogQHBhcmFtIHtPYmJ9IG9iYlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGFhYmJWc09iYihhYWJiLCBvYmIpIHtcbiAgcmV0dXJuIG9iYkNvbGxpc2lvbkRldGVjdGlvbi5vYmJWc0FhYmIob2JiLCBhYWJiKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FhYmJ9IGFhYmJcbiAqIEBwYXJhbSB7Q2Fwc3VsZX0gY2Fwc3VsZVxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGFhYmJWc0NhcHN1bGUoYWFiYiwgY2Fwc3VsZSkge1xuICByZXR1cm4gY2Fwc3VsZUNvbGxpc2lvbkRldGVjdGlvbi5jYXBzdWxlVnNBYWJiKGNhcHN1bGUsIGFhYmIpO1xufVxuXG5leHBvcnQge1xuICBhYWJiVnNQb2ludCxcbiAgYWFiYlZzU3BoZXJlLFxuICBhYWJiVnNBYWJiLFxuICBhYWJiVnNPYmIsXG4gIGFhYmJWc0NhcHN1bGUsXG59O1xuIiwiLyoqXG4gKiBUaGlzIG1vZHVsZSBkZWZpbmVzIHV0aWxpdHkgbWV0aG9kcyBmb3IgZGV0ZWN0aW5nIHdoZXRoZXIgaW50ZXJzZWN0aW9uIGhhcyBvY2N1cnJlZCBiZXR3ZWVuXG4gKiBjYXBzdWxlcyBhbmQgb3RoZXIgc2hhcGVzLlxuICovXG5cbmltcG9ydCB7XG4gIGZpbmRDbG9zZXN0UG9pbnRGcm9tQWFiYlRvUG9pbnQsXG4gIGZpbmRTcXVhcmVkRGlzdGFuY2VCZXR3ZWVuU2VnbWVudHMsXG4gIGZpbmRTcXVhcmVkRGlzdGFuY2VGcm9tU2VnbWVudFRvUG9pbnQsXG4gIHRtcFZlYzFcbn0gZnJvbSAnLi4vLi4vLi4vdXRpbCc7XG5pbXBvcnQgKiBhcyBvYmJDb2xsaXNpb25EZXRlY3Rpb24gZnJvbSAnLi9vYmItY29sbGlzaW9uLWRldGVjdGlvbic7XG5cbi8qKlxuICogQHBhcmFtIHtDYXBzdWxlfSBjYXBzdWxlXG4gKiBAcGFyYW0ge3ZlYzN9IHBvaW50XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gY2Fwc3VsZVZzUG9pbnQoY2Fwc3VsZSwgcG9pbnQpIHtcbiAgcmV0dXJuIGZpbmRTcXVhcmVkRGlzdGFuY2VGcm9tU2VnbWVudFRvUG9pbnQoY2Fwc3VsZS5zZWdtZW50LCBwb2ludCkgPD1cbiAgICAgIGNhcHN1bGUucmFkaXVzICogY2Fwc3VsZS5yYWRpdXM7XG59XG5cbi8qKlxuICogQHBhcmFtIHtDYXBzdWxlfSBjYXBzdWxlXG4gKiBAcGFyYW0ge1NwaGVyZX0gc3BoZXJlXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gY2Fwc3VsZVZzU3BoZXJlKGNhcHN1bGUsIHNwaGVyZSkge1xuICBjb25zdCBzdW1PZlJhZGlpID0gY2Fwc3VsZS5yYWRpdXMgKyBzcGhlcmUucmFkaXVzO1xuICByZXR1cm4gZmluZFNxdWFyZWREaXN0YW5jZUZyb21TZWdtZW50VG9Qb2ludChjYXBzdWxlLnNlZ21lbnQsIHNwaGVyZS5jZW50ZXJPZlZvbHVtZSkgPD1cbiAgICAgIHN1bU9mUmFkaWkgKiBzdW1PZlJhZGlpO1xufVxuXG4vKipcbiAqIE5PVEU6IFRoaXMgaW1wbGVtZW50YXRpb24gY2hlYXRzIGJ5IGNoZWNraW5nIHdoZXRoZXIgdmVydGljZXMgZnJvbSBvbmUgc2hhcGUgbGllIHdpdGhpbiB0aGVcbiAqIG90aGVyLiBEdWUgdG8gdGhlIHR1bm5lbGxpbmcgcHJvYmxlbSwgaXQgaXMgcG9zc2libGUgdGhhdCBpbnRlcnNlY3Rpb24gb2NjdXJzIHdpdGhvdXQgYW55XG4gKiB2ZXJ0aWNlcyBseWluZyB3aXRoaW4gdGhlIG90aGVyIHNoYXBlLiBIb3dldmVyLCAoQSkgdGhpcyBpcyB1bmxpa2VseSwgYW5kIChCKSB3ZSBhcmUgaWdub3JpbmcgdGhlXG4gKiB0dW5uZWxsaW5nIHByb2JsZW0gZm9yIHRoZSByZXN0IG9mIHRoaXMgY29sbGlzaW9uIHN5c3RlbSBhbnl3YXkuXG4gKlxuICogQHBhcmFtIHtDYXBzdWxlfSBjYXBzdWxlXG4gKiBAcGFyYW0ge0FhYmJ9IGFhYmJcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBjYXBzdWxlVnNBYWJiKGNhcHN1bGUsIGFhYmIpIHtcbiAgY29uc3Qgc3F1YXJlZFJhZGl1cyA9IGNhcHN1bGUucmFkaXVzICogY2Fwc3VsZS5yYWRpdXM7XG5cbiAgLy8gQ2hlY2sgd2hldGhlciB0aGUgdHdvIGNhcHN1bGUgZW5kcyBpbnRlcnNlY3QgdGhlIEFBQkIgKHNwaGVyZSB2cyBBQUJCKSAoYWRkcmVzc2VzIHRoZVxuICAvLyBjYXBzdWxlLXZzLUFBQkItZmFjZSBjYXNlKS5cbiAgZmluZENsb3Nlc3RQb2ludEZyb21BYWJiVG9Qb2ludCh0bXBWZWMxLCBhYWJiLCBjYXBzdWxlLnNlZ21lbnQuc3RhcnQpO1xuICBpZiAodmVjMy5zcXVhcmVkRGlzdGFuY2UodG1wVmVjMSwgY2Fwc3VsZS5zZWdtZW50LnN0YXJ0KSA8PSBzcXVhcmVkUmFkaXVzKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgZmluZENsb3Nlc3RQb2ludEZyb21BYWJiVG9Qb2ludCh0bXBWZWMxLCBhYWJiLCBjYXBzdWxlLnNlZ21lbnQuZW5kKTtcbiAgaWYgKHZlYzMuc3F1YXJlZERpc3RhbmNlKHRtcFZlYzEsIGNhcHN1bGUuc2VnbWVudC5lbmQpIDw9IHNxdWFyZWRSYWRpdXMpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8vIENoZWNrIHdoZXRoZXIgdGhlIGNhcHN1bGUgaW50ZXJzZWN0cyB3aXRoIGFueSBBQUJCIGVkZ2UgKGFkZHJlc3NlcyB0aGUgY2Fwc3VsZS12cy1BQUJCLWVkZ2VcbiAgLy8gY2FzZSkuXG4gIHJldHVybiBhYWJiLnNvbWVFZGdlKGVkZ2UgPT5cbiAgICAgIGZpbmRTcXVhcmVkRGlzdGFuY2VCZXR3ZWVuU2VnbWVudHMoY2Fwc3VsZS5zZWdtZW50LCBlZGdlKSA8PSBzcXVhcmVkUmFkaXVzKTtcblxuICAvLyAoVGhlIGNhcHN1bGUtdnMtQUFCQi12ZXJ0ZXggY2FzZSBpcyBjb3ZlcmVkIGJ5IHRoZSBjYXBzdWxlLXZzLUFBQkItZWRnZSBjYXNlKS5cbn1cblxuLyoqXG4gKiBAcGFyYW0ge0NhcHN1bGV9IGNhcHN1bGVcbiAqIEBwYXJhbSB7T2JifSBvYmJcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBjYXBzdWxlVnNPYmIoY2Fwc3VsZSwgb2JiKSB7XG4gIHJldHVybiBvYmJDb2xsaXNpb25EZXRlY3Rpb24ub2JiVnNDYXBzdWxlKG9iYiwgY2Fwc3VsZSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtDYXBzdWxlfSBjYXBzdWxlQVxuICogQHBhcmFtIHtDYXBzdWxlfSBjYXBzdWxlQlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGNhcHN1bGVWc0NhcHN1bGUoY2Fwc3VsZUEsIGNhcHN1bGVCKSB7XG4gIGNvbnN0IHN1bU9mUmFkaWkgPSBjYXBzdWxlQS5yYWRpdXMgKyBjYXBzdWxlQi5yYWRpdXM7XG4gIHJldHVybiBmaW5kU3F1YXJlZERpc3RhbmNlQmV0d2VlblNlZ21lbnRzKGNhcHN1bGVBLnNlZ21lbnQsIGNhcHN1bGVCLnNlZ21lbnQpIDw9XG4gICAgICBzdW1PZlJhZGlpICogc3VtT2ZSYWRpaTtcbn1cblxuZXhwb3J0IHtcbiAgY2Fwc3VsZVZzUG9pbnQsXG4gIGNhcHN1bGVWc1NwaGVyZSxcbiAgY2Fwc3VsZVZzQWFiYixcbiAgY2Fwc3VsZVZzT2JiLFxuICBjYXBzdWxlVnNDYXBzdWxlLFxufTtcbiIsIi8qKlxuICogVGhpcyBtb2R1bGUgZGVmaW5lcyB1dGlsaXR5IG1ldGhvZHMgZm9yIGRldGVjdGluZyB3aGV0aGVyIGludGVyc2VjdGlvbiBoYXMgb2NjdXJyZWQgYmV0d2VlblxuICogb3JpZW50ZWQgYm91bmRpbmcgYm94ZXMgYW5kIG90aGVyIHNoYXBlcy5cbiAqL1xuXG5pbXBvcnQge1xuICBmaW5kQ2xvc2VzdFBvaW50RnJvbU9iYlRvUG9pbnQsXG4gIGZpbmRQb2lCZXR3ZWVuU2VnbWVudEFuZFBsYW5lUmVnaW9uLFxuICBmaW5kU3F1YXJlZERpc3RhbmNlQmV0d2VlblNlZ21lbnRzLFxuICB0bXBWZWMxLFxuICB0bXBWZWMyLFxuICB0bXBWZWMzLFxuICB0bXBWZWM0XG59IGZyb20gJy4uLy4uLy4uL3V0aWwnO1xuaW1wb3J0ICogYXMgYWFiYkNvbGxpc2lvbkRldGVjdGlvbiBmcm9tICcuL2FhYmItY29sbGlzaW9uLWRldGVjdGlvbic7XG5pbXBvcnQgKiBhcyBjYXBzdWxlQ29sbGlzaW9uRGV0ZWN0aW9uIGZyb20gJy4vY2Fwc3VsZS1jb2xsaXNpb24tZGV0ZWN0aW9uJztcblxuLy8gVE9ETzogUmVmYWN0b3IgdGhlc2UgdG8gbm90IGFjdHVhbGx5IGNhbGN1bGF0ZSB0aGUgcG9pbnQgb2YgaW50ZXJzZWN0aW9uLiBUaGVzZSBjaGVja3MgY2FuXG4vLyBpbnN0ZWFkIGJlIGRvbmUgbW9yZSBlZmZpY2llbnRseSB1c2luZyBTQVQuXG5cbi8qKlxuICogQHBhcmFtIHtPYmJ9IG9iYlxuICogQHBhcmFtIHt2ZWMzfSBwb2ludFxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIG9iYlZzUG9pbnQob2JiLCBwb2ludCkge1xuICB2ZWMzLnN1YnRyYWN0KHRtcFZlYzQsIHBvaW50LCBvYmIuY2VudGVyT2ZWb2x1bWUpO1xuXG4gIHZlYzMuc2V0KHRtcFZlYzEsIDEsIDAsIDApO1xuICB2ZWMzLnRyYW5zZm9ybVF1YXQodG1wVmVjMSwgdG1wVmVjMSwgb2JiLm9yaWVudGF0aW9uKTtcbiAgY29uc3QgYXhpczFEaXN0YW5jZSA9IHZlYzMuZG90KHRtcFZlYzQsIHRtcFZlYzEpO1xuXG4gIGlmIChheGlzMURpc3RhbmNlID49IC1vYmIuaGFsZlNpZGVMZW5ndGhYICYmIGF4aXMxRGlzdGFuY2UgPD0gb2JiLmhhbGZTaWRlTGVuZ3RoWCkge1xuICAgIHZlYzMuc2V0KHRtcFZlYzIsIDAsIDEsIDApO1xuICAgIHZlYzMudHJhbnNmb3JtUXVhdCh0bXBWZWMyLCB0bXBWZWMyLCBvYmIub3JpZW50YXRpb24pO1xuICAgIGNvbnN0IGF4aXMyRGlzdGFuY2UgPSB2ZWMzLmRvdCh0bXBWZWM0LCB0bXBWZWMyKTtcblxuICAgIGlmIChheGlzMkRpc3RhbmNlID49IC1vYmIuaGFsZlNpZGVMZW5ndGhZICYmIGF4aXMyRGlzdGFuY2UgPD0gb2JiLmhhbGZTaWRlTGVuZ3RoWSkge1xuICAgICAgdmVjMy5zZXQodG1wVmVjMywgMCwgMCwgMSk7XG4gICAgICB2ZWMzLnRyYW5zZm9ybVF1YXQodG1wVmVjMywgdG1wVmVjMywgb2JiLm9yaWVudGF0aW9uKTtcbiAgICAgIGNvbnN0IGF4aXMzRGlzdGFuY2UgPSB2ZWMzLmRvdCh0bXBWZWM0LCB0bXBWZWMzKTtcblxuICAgICAgcmV0dXJuIGF4aXMzRGlzdGFuY2UgPj0gLW9iYi5oYWxmU2lkZUxlbmd0aFogJiYgYXhpczNEaXN0YW5jZSA8PSBvYmIuaGFsZlNpZGVMZW5ndGhaO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge09iYn0gb2JiXG4gKiBAcGFyYW0ge1NwaGVyZX0gc3BoZXJlXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gb2JiVnNTcGhlcmUob2JiLCBzcGhlcmUpIHtcbiAgZmluZENsb3Nlc3RQb2ludEZyb21PYmJUb1BvaW50KHRtcFZlYzEsIG9iYiwgc3BoZXJlLmNlbnRlck9mVm9sdW1lKTtcbiAgcmV0dXJuIHZlYzMuc3F1YXJlZERpc3RhbmNlKHRtcFZlYzEsIHNwaGVyZS5jZW50ZXJPZlZvbHVtZSkgPD1cbiAgICAgIHNwaGVyZS5yYWRpdXMgKiBzcGhlcmUucmFkaXVzO1xufVxuXG4vKipcbiAqIE5PVEU6IFRoaXMgaW1wbGVtZW50YXRpb24gY2hlYXRzIGJ5IGNoZWNraW5nIHdoZXRoZXIgdmVydGljZXMgZnJvbSBvbmUgc2hhcGUgbGllIHdpdGhpbiB0aGVcbiAqIG90aGVyLiBEdWUgdG8gdGhlIHR1bm5lbGxpbmcgcHJvYmxlbSwgaXQgaXMgcG9zc2libGUgdGhhdCBpbnRlcnNlY3Rpb24gb2NjdXJzIHdpdGhvdXQgYW55XG4gKiB2ZXJ0aWNlcyBseWluZyB3aXRoaW4gdGhlIG90aGVyIHNoYXBlLiBIb3dldmVyLCAoQSkgdGhpcyBpcyB1bmxpa2VseSwgYW5kIChCKSB3ZSBhcmUgaWdub3JpbmcgdGhlXG4gKiB0dW5uZWxsaW5nIHByb2JsZW0gZm9yIHRoZSByZXN0IG9mIHRoaXMgY29sbGlzaW9uIHN5c3RlbSBhbnl3YXkuXG4gKlxuICogQHBhcmFtIHtPYmJ9IG9iYlxuICogQHBhcmFtIHtBYWJifSBhYWJiXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gb2JiVnNBYWJiKG9iYiwgYWFiYikge1xuICByZXR1cm4gX29iYlZzQm94SGVscGVyKG9iYiwgYWFiYiwgYWFiYkNvbGxpc2lvbkRldGVjdGlvbi5hYWJiVnNQb2ludCk7XG59XG5cbi8qKlxuICogTk9URTogVGhpcyBpbXBsZW1lbnRhdGlvbiBjaGVhdHMgYnkgY2hlY2tpbmcgd2hldGhlciB2ZXJ0aWNlcyBmcm9tIG9uZSBzaGFwZSBsaWUgd2l0aGluIHRoZVxuICogb3RoZXIuIER1ZSB0byB0aGUgdHVubmVsbGluZyBwcm9ibGVtLCBpdCBpcyBwb3NzaWJsZSB0aGF0IGludGVyc2VjdGlvbiBvY2N1cnMgd2l0aG91dCBhbnlcbiAqIHZlcnRpY2VzIGx5aW5nIHdpdGhpbiB0aGUgb3RoZXIgc2hhcGUuIEhvd2V2ZXIsIChBKSB0aGlzIGlzIHVubGlrZWx5LCBhbmQgKEIpIHdlIGFyZSBpZ25vcmluZyB0aGVcbiAqIHR1bm5lbGxpbmcgcHJvYmxlbSBmb3IgdGhlIHJlc3Qgb2YgdGhpcyBjb2xsaXNpb24gc3lzdGVtIGFueXdheS5cbiAqXG4gKiBAcGFyYW0ge09iYn0gb2JiQVxuICogQHBhcmFtIHtPYmJ9IG9iYkJcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBvYmJWc09iYihvYmJBLCBvYmJCKSB7XG4gIHJldHVybiBfb2JiVnNCb3hIZWxwZXIob2JiQSwgb2JiQiwgb2JiVnNQb2ludCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtPYmJ9IG9iYlxuICogQHBhcmFtIHtPYmJ8QWFiYn0gb3RoZXJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IG90aGVyVnNQb2ludENhbGxiYWNrXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIF9vYmJWc0JveEhlbHBlcihvYmIsIG90aGVyLCBvdGhlclZzUG9pbnRDYWxsYmFjaykge1xuICAvLyBDaGVjayB3aGV0aGVyIGFueSB2ZXJ0aWNlcyBmcm9tIEEgbGllIHdpdGhpbiBCJ3MgYm91bmRzLlxuICBpZiAob2JiLnNvbWVWZXJ0ZXgodmVydGV4ID0+IG90aGVyVnNQb2ludENhbGxiYWNrKG90aGVyLCB2ZXJ0ZXgpKSkgcmV0dXJuIHRydWU7XG5cbiAgLy8gQ2hlY2sgd2hldGhlciBhbnkgdmVydGljZXMgZnJvbSBCIGxpZSB3aXRoaW4gQSdzIGJvdW5kcy5cbiAgaWYgKG90aGVyLnNvbWVWZXJ0ZXgodmVydGV4ID0+IG9iYlZzUG9pbnQob2JiLCB2ZXJ0ZXgpKSkgcmV0dXJuIHRydWU7XG5cbiAgLy8gV2UgYXNzdW1lIHRoYXQgYSB2ZXJ0ZXgtdG8tZmFjZSBjb2xsaXNpb24gd291bGQgaGF2ZSBiZWVuIGRldGVjdGVkIGJ5IG9uZSBvZiB0aGUgdHdvIGFib3ZlXG4gIC8vIGNoZWNrcy4gQW55IGVkZ2UtdG8tZWRnZSBjb2xsaXNpb24gbXVzdCBpbnZvbHZlIGJvdGggYW4gZWRnZSBmcm9tIEEgdGhyb3VnaCBhIGZhY2Ugb2YgQiBhbmRcbiAgLy8gdmljZSB2ZXJzYS4gU28gaXQgaXMgc3VmZmljaWVudCB0byBvbmx5IGNoZWNrIHRoZSBlZGdlcyBvZiBvbmUgYW5kIHRoZSBmYWNlcyBvZiB0aGUgb3RoZXIuXG4gIGlmIChvdGhlci5zb21lRWRnZShlZGdlID0+XG4gICAgICAgICAgb2JiLnNvbWVGYWNlKGZhY2UgPT5cbiAgICAgICAgICAgICAgZmluZFBvaUJldHdlZW5TZWdtZW50QW5kUGxhbmVSZWdpb24odG1wVmVjMSwgZWRnZSwgLi4uZmFjZSkpKSlcbiAgICByZXR1cm4gdHJ1ZTtcblxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQHBhcmFtIHtPYmJ9IG9iYlxuICogQHBhcmFtIHtDYXBzdWxlfSBjYXBzdWxlXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gb2JiVnNDYXBzdWxlKG9iYiwgY2Fwc3VsZSkge1xuICAvLyBDaGVjayB0aGUgZWRnZXMuXG4gIGNvbnN0IHNxdWFyZWRSYWRpdXMgPSBjYXBzdWxlLnJhZGl1cyAqIGNhcHN1bGUucmFkaXVzO1xuICBsZXQgYXJlSW50ZXJzZWN0aW5nID0gb2JiLnNvbWVFZGdlKGVkZ2UgPT5cbiAgICAgIGZpbmRTcXVhcmVkRGlzdGFuY2VCZXR3ZWVuU2VnbWVudHMoY2Fwc3VsZS5zZWdtZW50LCBlZGdlKSA8IHNxdWFyZWRSYWRpdXMpO1xuXG4gIGlmIChhcmVJbnRlcnNlY3RpbmcpIHJldHVybiB0cnVlO1xuXG4gIC8vIENoZWNrIHRoZSBmYWNlcy5cbiAgYXJlSW50ZXJzZWN0aW5nID0gb2JiLnNvbWVQdXNoZWRPdXRGYWNlKGZhY2UgPT5cbiAgICAgICAgICBmaW5kUG9pQmV0d2VlblNlZ21lbnRBbmRQbGFuZVJlZ2lvbih0bXBWZWMxLCBjYXBzdWxlLnNlZ21lbnQsIC4uLmZhY2UpLCBjYXBzdWxlLnJhZGl1cyk7XG5cbiAgLy8gQ2hlY2sgZm9yIGluY2x1c2lvbiBvZiBvbmUgc2hhcGUgaW5zaWRlIHRoZSBvdGhlci5cbiAgYXJlSW50ZXJzZWN0aW5nID0gYXJlSW50ZXJzZWN0aW5nIHx8IG9iYlZzUG9pbnQob2JiLCBjYXBzdWxlLmNlbnRlck9mVm9sdW1lKTtcbiAgYXJlSW50ZXJzZWN0aW5nID0gYXJlSW50ZXJzZWN0aW5nIHx8IGNhcHN1bGVDb2xsaXNpb25EZXRlY3Rpb24uY2Fwc3VsZVZzUG9pbnQoY2Fwc3VsZSxcbiAgICAgIG9iYi5jZW50ZXJPZlZvbHVtZSk7XG5cbiAgcmV0dXJuIGFyZUludGVyc2VjdGluZztcbn1cblxuZXhwb3J0IHtcbiAgb2JiVnNQb2ludCxcbiAgb2JiVnNTcGhlcmUsXG4gIG9iYlZzQWFiYixcbiAgb2JiVnNPYmIsXG4gIG9iYlZzQ2Fwc3VsZSxcbn07XG4iLCJpbXBvcnQge2ZpbmRDbG9zZXN0UG9pbnRGcm9tQWFiYlRvUG9pbnQsIHRtcFZlYzF9IGZyb20gJy4uLy4uLy4uL3V0aWwnO1xuaW1wb3J0ICogYXMgb2JiQ29sbGlzaW9uRGV0ZWN0aW9uIGZyb20gJy4vb2JiLWNvbGxpc2lvbi1kZXRlY3Rpb24nO1xuaW1wb3J0ICogYXMgY2Fwc3VsZUNvbGxpc2lvbkRldGVjdGlvbiBmcm9tICcuL2NhcHN1bGUtY29sbGlzaW9uLWRldGVjdGlvbic7XG5cbi8qKlxuICogVGhpcyBtb2R1bGUgZGVmaW5lcyB1dGlsaXR5IG1ldGhvZHMgZm9yIGRldGVjdGluZyB3aGV0aGVyIGludGVyc2VjdGlvbiBoYXMgb2NjdXJyZWQgYmV0d2VlblxuICogc3BoZXJlcyBhbmQgb3RoZXIgc2hhcGVzLlxuICovXG5cbi8qKlxuICogQHBhcmFtIHtTcGhlcmV9IHNwaGVyZVxuICogQHBhcmFtIHt2ZWMzfSBwb2ludFxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIHNwaGVyZVZzUG9pbnQoc3BoZXJlLCBwb2ludCkge1xuICByZXR1cm4gdmVjMy5zcXVhcmVkRGlzdGFuY2UocG9pbnQsIHNwaGVyZS5jZW50ZXJPZlZvbHVtZSkgPD0gc3BoZXJlLnJhZGl1cyAqIHNwaGVyZS5yYWRpdXM7XG59XG5cbi8qKlxuICogQHBhcmFtIHtTcGhlcmV9IHNwaGVyZUFcbiAqIEBwYXJhbSB7U3BoZXJlfSBzcGhlcmVCXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gc3BoZXJlVnNTcGhlcmUoc3BoZXJlQSwgc3BoZXJlQikge1xuICBjb25zdCBzdW1PZlJhZGlpID0gc3BoZXJlQS5yYWRpdXMgKyBzcGhlcmVCLnJhZGl1cztcbiAgcmV0dXJuIHZlYzMuc3F1YXJlZERpc3RhbmNlKHNwaGVyZUEuY2VudGVyT2ZWb2x1bWUsIHNwaGVyZUIuY2VudGVyT2ZWb2x1bWUpIDw9XG4gICAgICBzdW1PZlJhZGlpICogc3VtT2ZSYWRpaTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1NwaGVyZX0gc3BoZXJlXG4gKiBAcGFyYW0ge0FhYmJ9IGFhYmJcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBzcGhlcmVWc0FhYmIoc3BoZXJlLCBhYWJiKSB7XG4gIGZpbmRDbG9zZXN0UG9pbnRGcm9tQWFiYlRvUG9pbnQodG1wVmVjMSwgYWFiYiwgc3BoZXJlLmNlbnRlck9mVm9sdW1lKTtcbiAgcmV0dXJuIHZlYzMuc3F1YXJlZERpc3RhbmNlKHRtcFZlYzEsIHNwaGVyZS5jZW50ZXJPZlZvbHVtZSkgPD0gc3BoZXJlLnJhZGl1cyAqIHNwaGVyZS5yYWRpdXM7XG59XG5cbi8qKlxuICogQHBhcmFtIHtTcGhlcmV9IHNwaGVyZVxuICogQHBhcmFtIHtPYmJ9IG9iYlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIHNwaGVyZVZzT2JiKHNwaGVyZSwgb2JiKSB7XG4gIHJldHVybiBvYmJDb2xsaXNpb25EZXRlY3Rpb24ub2JiVnNTcGhlcmUob2JiLCBzcGhlcmUpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7U3BoZXJlfSBzcGhlcmVcbiAqIEBwYXJhbSB7Q2Fwc3VsZX0gY2Fwc3VsZVxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIHNwaGVyZVZzQ2Fwc3VsZShzcGhlcmUsIGNhcHN1bGUpIHtcbiAgcmV0dXJuIGNhcHN1bGVDb2xsaXNpb25EZXRlY3Rpb24uY2Fwc3VsZVZzU3BoZXJlKGNhcHN1bGUsIHNwaGVyZSk7XG59XG5cbmV4cG9ydCB7XG4gIHNwaGVyZVZzUG9pbnQsXG4gIHNwaGVyZVZzU3BoZXJlLFxuICBzcGhlcmVWc0FhYmIsXG4gIHNwaGVyZVZzT2JiLFxuICBzcGhlcmVWc0NhcHN1bGUsXG59O1xuIiwiaW1wb3J0ICogYXMgYWFiYkNvbnRhY3RDYWxjdWxhdGlvbiBmcm9tICcuL3NyYy9hYWJiLWNvbnRhY3QtY2FsY3VsYXRpb24nO1xuaW1wb3J0ICogYXMgY2Fwc3VsZUNvbnRhY3RDYWxjdWxhdGlvbiBmcm9tICcuL3NyYy9jYXBzdWxlLWNvbnRhY3QtY2FsY3VsYXRpb24nO1xuaW1wb3J0ICogYXMgb2JiQ29udGFjdENhbGN1bGF0aW9uIGZyb20gJy4vc3JjL29iYi1jb250YWN0LWNhbGN1bGF0aW9uJztcbmltcG9ydCAqIGFzIHNwaGVyZUNvbnRhY3RDYWxjdWxhdGlvbiBmcm9tICcuL3NyYy9zcGhlcmUtY29udGFjdC1jYWxjdWxhdGlvbic7XG5cbmV4cG9ydCB7XG4gIGFhYmJDb250YWN0Q2FsY3VsYXRpb24sXG4gIGNhcHN1bGVDb250YWN0Q2FsY3VsYXRpb24sXG4gIG9iYkNvbnRhY3RDYWxjdWxhdGlvbixcbiAgc3BoZXJlQ29udGFjdENhbGN1bGF0aW9uLFxufTtcbiIsIi8qKlxuICogVGhpcyBtb2R1bGUgZGVmaW5lcyB1dGlsaXR5IG1ldGhvZHMgZm9yIGNhbGN1bGF0aW5nIGEgY29udGFjdCBwb2ludCBiZXR3ZWVuIGF4aWFsbHktYWxpZ25lZCBcbiAqIGJvdW5kaW5nIGJveGVzIGFuZCBvdGhlciBzaGFwZXMuXG4gKlxuICogLSBFYWNoIG9mIHRoZXNlIGZ1bmN0aW9ucyBhc3N1bWVzIHRoYXQgdGhlIG9iamVjdHMgYXJlIGFjdHVhbGx5IGNvbGxpZGluZy5cbiAqIC0gVGhlIHJlc3VsdGluZyBjb250YWN0IHBvaW50IG1heSBiZSBhbnl3aGVyZSB3aXRoaW4gdGhlIGludGVyc2VjdGlvbiBvZiB0aGUgdHdvIG9iamVjdHMuXG4gKi9cblxuaW1wb3J0ICogYXMgc3BoZXJlQ29udGFjdENhbGN1bGF0aW9uIGZyb20gJy4vc3BoZXJlLWNvbnRhY3QtY2FsY3VsYXRpb24nO1xuaW1wb3J0ICogYXMgb2JiQ29udGFjdENhbGN1bGF0aW9uIGZyb20gJy4vb2JiLWNvbnRhY3QtY2FsY3VsYXRpb24nO1xuaW1wb3J0ICogYXMgY2Fwc3VsZUNvbnRhY3RDYWxjdWxhdGlvbiBmcm9tICcuL2NhcHN1bGUtY29udGFjdC1jYWxjdWxhdGlvbic7XG5pbXBvcnQge3RtcFZlYzF9IGZyb20gJy4uLy4uLy4uL3V0aWwnO1xuaW1wb3J0IHthYWJiQ29sbGlzaW9uRGV0ZWN0aW9ufSBmcm9tICcuLi8uLi9jb2xsaXNpb24tZGV0ZWN0aW9uJztcblxuLyoqXG4gKiBAcGFyYW0ge3ZlYzN9IGNvbnRhY3RQb2ludCBPdXRwdXQgcGFyYW0uXG4gKiBAcGFyYW0ge3ZlYzN9IGNvbnRhY3ROb3JtYWwgT3V0cHV0IHBhcmFtLlxuICogQHBhcmFtIHtBYWJifSBhYWJiXG4gKiBAcGFyYW0ge3ZlYzN9IHBvaW50XG4gKi9cbmZ1bmN0aW9uIGFhYmJWc1BvaW50KGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgYWFiYiwgcG9pbnQpIHtcbiAgdmVjMy5jb3B5KGNvbnRhY3RQb2ludCwgcG9pbnQpO1xuICBmaW5kQWFiYk5vcm1hbEZyb21Db250YWN0UG9pbnQoY29udGFjdE5vcm1hbCwgY29udGFjdFBvaW50LCBhYWJiKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3ZlYzN9IGNvbnRhY3RQb2ludCBPdXRwdXQgcGFyYW0uXG4gKiBAcGFyYW0ge3ZlYzN9IGNvbnRhY3ROb3JtYWwgT3V0cHV0IHBhcmFtLlxuICogQHBhcmFtIHtBYWJifSBhYWJiXG4gKiBAcGFyYW0ge1NwaGVyZX0gc3BoZXJlXG4gKi9cbmZ1bmN0aW9uIGFhYmJWc1NwaGVyZShjb250YWN0UG9pbnQsIGNvbnRhY3ROb3JtYWwsIGFhYmIsIHNwaGVyZSkge1xuICBzcGhlcmVDb250YWN0Q2FsY3VsYXRpb24uc3BoZXJlVnNBYWJiKGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgc3BoZXJlLCBhYWJiKTtcbiAgdmVjMy5uZWdhdGUoY29udGFjdE5vcm1hbCwgY29udGFjdE5vcm1hbCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0UG9pbnQgT3V0cHV0IHBhcmFtLlxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0Tm9ybWFsIE91dHB1dCBwYXJhbS5cbiAqIEBwYXJhbSB7QWFiYn0gYWFiYkFcbiAqIEBwYXJhbSB7QWFiYn0gYWFiYkJcbiAqL1xuZnVuY3Rpb24gYWFiYlZzQWFiYihjb250YWN0UG9pbnQsIGNvbnRhY3ROb3JtYWwsIGFhYmJBLCBhYWJiQikge1xuICAvLyBDb21wdXRlIHRoZSBjb250YWN0IG5vcm1hbC5cbiAgdmVjMy5zZXQoY29udGFjdE5vcm1hbCwgMCwgMCwgMCk7XG4gIGNvbnN0IHhJbnRlcnNlY3Rpb25EZXB0aCA9IE1hdGgubWluKGFhYmJBLm1heFggLSBhYWJiQi5taW5YLCBhYWJiQi5tYXhYIC0gYWFiYkEubWluWCk7XG4gIGNvbnN0IHlJbnRlcnNlY3Rpb25EZXB0aCA9IE1hdGgubWluKGFhYmJBLm1heFkgLSBhYWJiQi5taW5ZLCBhYWJiQi5tYXhZIC0gYWFiYkEubWluWSk7XG4gIGNvbnN0IHpJbnRlcnNlY3Rpb25EZXB0aCA9IE1hdGgubWluKGFhYmJBLm1heFogLSBhYWJiQi5taW5aLCBhYWJiQi5tYXhaIC0gYWFiYkEubWluWik7XG4gIC8vIEFzc3VtZSB0aGF0IHRoZSBkaXJlY3Rpb24gb2YgaW50ZXJzZWN0aW9uIGNvcnJlc3BvbmRzIHRvIHdoaWNoZXZlciBheGlzIGhhcyB0aGUgc2hhbGxvd2VzdFxuICAvLyBpbnRlcnNlY3Rpb24uXG4gIGlmICh4SW50ZXJzZWN0aW9uRGVwdGggPD0geUludGVyc2VjdGlvbkRlcHRoKSB7XG4gICAgaWYgKHhJbnRlcnNlY3Rpb25EZXB0aCA8PSB6SW50ZXJzZWN0aW9uRGVwdGgpIHtcbiAgICAgIGNvbnRhY3ROb3JtYWxbMF0gPSBhYWJiQS5tYXhYIC0gYWFiYkIubWluWCA8PSBhYWJiQi5tYXhYIC0gYWFiYkEubWluWCA/IDEgOiAtMTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29udGFjdE5vcm1hbFsyXSA9IGFhYmJBLm1heFogLSBhYWJiQi5taW5aIDw9IGFhYmJCLm1heFogLSBhYWJiQS5taW5aID8gMSA6IC0xO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoeUludGVyc2VjdGlvbkRlcHRoIDw9IHpJbnRlcnNlY3Rpb25EZXB0aCkge1xuICAgICAgY29udGFjdE5vcm1hbFsxXSA9IGFhYmJBLm1heFkgLSBhYWJiQi5taW5ZIDw9IGFhYmJCLm1heFkgLSBhYWJiQS5taW5ZID8gMSA6IC0xO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb250YWN0Tm9ybWFsWzJdID0gYWFiYkEubWF4WiAtIGFhYmJCLm1pblogPD0gYWFiYkIubWF4WiAtIGFhYmJBLm1pblogPyAxIDogLTE7XG4gICAgfVxuICB9XG5cbiAgLy8gVE9ETzogVGhlIHR3byBBQUJCcyBmb3JtIGEgc3F1YXJlIGludGVyc2VjdGlvbiBjcm9zcy1zZWN0aW9uIHJlZ2lvbiBhbG9uZyB0aGUgZGlyZWN0aW9uIG9mIHRoZVxuICAvLyBub3JtYWwuIENhbGN1bGF0ZSB0aGUgY2VudGVyIG9mIHRoYXQgc3F1YXJlIHRvIHVzZSBhcyB0aGUgcG9pbnQgb2YgY29udGFjdC5cbiAgaWYgKCFhYWJiQS5zb21lVmVydGV4KHZlcnRleCA9PiBhYWJiQ29sbGlzaW9uRGV0ZWN0aW9uLmFhYmJWc1BvaW50KGFhYmJCLCB2ZXJ0ZXgpLFxuICAgICAgICAgIGNvbnRhY3RQb2ludCkpIHtcbiAgICBhYWJiQi5zb21lVmVydGV4KHZlcnRleCA9PiBhYWJiQ29sbGlzaW9uRGV0ZWN0aW9uLmFhYmJWc1BvaW50KGFhYmJBLCB2ZXJ0ZXgpLCBjb250YWN0UG9pbnQpO1xuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0UG9pbnQgT3V0cHV0IHBhcmFtLlxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0Tm9ybWFsIE91dHB1dCBwYXJhbS5cbiAqIEBwYXJhbSB7QWFiYn0gYWFiYlxuICogQHBhcmFtIHtPYmJ9IG9iYlxuICovXG5mdW5jdGlvbiBhYWJiVnNPYmIoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBhYWJiLCBvYmIpIHtcbiAgb2JiQ29udGFjdENhbGN1bGF0aW9uLm9iYlZzQWFiYihjb250YWN0UG9pbnQsIGNvbnRhY3ROb3JtYWwsIG9iYiwgYWFiYik7XG4gIHZlYzMubmVnYXRlKGNvbnRhY3ROb3JtYWwsIGNvbnRhY3ROb3JtYWwpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7dmVjM30gY29udGFjdFBvaW50IE91dHB1dCBwYXJhbS5cbiAqIEBwYXJhbSB7dmVjM30gY29udGFjdE5vcm1hbCBPdXRwdXQgcGFyYW0uXG4gKiBAcGFyYW0ge0FhYmJ9IGFhYmJcbiAqIEBwYXJhbSB7Q2Fwc3VsZX0gY2Fwc3VsZVxuICovXG5mdW5jdGlvbiBhYWJiVnNDYXBzdWxlKGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgYWFiYiwgY2Fwc3VsZSkge1xuICBjYXBzdWxlQ29udGFjdENhbGN1bGF0aW9uLmNhcHN1bGVWc0FhYmIoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBjYXBzdWxlLCBhYWJiKTtcbiAgdmVjMy5uZWdhdGUoY29udGFjdE5vcm1hbCwgY29udGFjdE5vcm1hbCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0Tm9ybWFsIE91dHB1dCBwYXJhbS5cbiAqIEBwYXJhbSB7dmVjM30gY29udGFjdFBvaW50XG4gKiBAcGFyYW0ge0FhYmJ9IGFhYmJcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGZpbmRBYWJiTm9ybWFsRnJvbUNvbnRhY3RQb2ludChjb250YWN0Tm9ybWFsLCBjb250YWN0UG9pbnQsIGFhYmIpIHtcbiAgdmVjMy5zZXQoY29udGFjdE5vcm1hbCwgMCwgMCwgMCk7XG4gIHZlYzMuc3VidHJhY3QodG1wVmVjMSwgY29udGFjdFBvaW50LCBhYWJiLmNlbnRlck9mVm9sdW1lKTtcbiAgY29uc3QgeERpc3RhbmNlRnJvbUZhY2UgPSBhYWJiLnJhbmdlWCAvIDIgLSBNYXRoLmFicyh0bXBWZWMxWzBdKTtcbiAgY29uc3QgeURpc3RhbmNlRnJvbUZhY2UgPSBhYWJiLnJhbmdlWSAvIDIgLSBNYXRoLmFicyh0bXBWZWMxWzFdKTtcbiAgY29uc3QgekRpc3RhbmNlRnJvbUZhY2UgPSBhYWJiLnJhbmdlWiAvIDIgLSBNYXRoLmFicyh0bXBWZWMxWzJdKTtcbiAgLy8gQXNzdW1lIHRoYXQgdGhlIHBvaW50IGlzIGNvbnRhY3Rpbmcgd2hpY2hldmVyIGZhY2UgaXQncyBjbG9zZXN0IHRvLlxuICBpZiAoeERpc3RhbmNlRnJvbUZhY2UgPD0geURpc3RhbmNlRnJvbUZhY2UpIHtcbiAgICBpZiAoeERpc3RhbmNlRnJvbUZhY2UgPD0gekRpc3RhbmNlRnJvbUZhY2UpIHtcbiAgICAgIGNvbnRhY3ROb3JtYWxbMF0gPSB0bXBWZWMxWzBdID4gMCA/IDEgOiAtMTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29udGFjdE5vcm1hbFsyXSA9IHRtcFZlYzFbMl0gPiAwID8gMSA6IC0xO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoeURpc3RhbmNlRnJvbUZhY2UgPD0gekRpc3RhbmNlRnJvbUZhY2UpIHtcbiAgICAgIGNvbnRhY3ROb3JtYWxbMV0gPSB0bXBWZWMxWzFdID4gMCA/IDEgOiAtMTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29udGFjdE5vcm1hbFsyXSA9IHRtcFZlYzFbMl0gPiAwID8gMSA6IC0xO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQge1xuICBhYWJiVnNQb2ludCxcbiAgYWFiYlZzU3BoZXJlLFxuICBhYWJiVnNBYWJiLFxuICBhYWJiVnNPYmIsXG4gIGFhYmJWc0NhcHN1bGUsXG4gIGZpbmRBYWJiTm9ybWFsRnJvbUNvbnRhY3RQb2ludCxcbn07XG4iLCIvKipcbiAqIFRoaXMgbW9kdWxlIGRlZmluZXMgdXRpbGl0eSBtZXRob2RzIGZvciBjYWxjdWxhdGluZyBhIGNvbnRhY3QgcG9pbnQgYmV0d2VlbiBjYXBzdWxlcyBhbmQgb3RoZXIgXG4gKiBzaGFwZXMuXG4gKlxuICogLSBFYWNoIG9mIHRoZXNlIGZ1bmN0aW9ucyBhc3N1bWVzIHRoYXQgdGhlIG9iamVjdHMgYXJlIGFjdHVhbGx5IGNvbGxpZGluZy5cbiAqIC0gVGhlIHJlc3VsdGluZyBjb250YWN0IHBvaW50IG1heSBiZSBhbnl3aGVyZSB3aXRoaW4gdGhlIGludGVyc2VjdGlvbiBvZiB0aGUgdHdvIG9iamVjdHMuXG4gKi9cblxuaW1wb3J0IHtcbiAgZmluZENsb3Nlc3RQb2ludEZyb21BYWJiVG9Qb2ludCxcbiAgZmluZENsb3Nlc3RQb2ludE9uU2VnbWVudFRvUG9pbnQsXG4gIGZpbmRDbG9zZXN0UG9pbnRzRnJvbVNlZ21lbnRUb1NlZ21lbnQsXG4gIHRtcFZlYzEsXG4gIHRtcFZlYzJcbn0gZnJvbSAnLi4vLi4vLi4vdXRpbCc7XG5pbXBvcnQgKiBhcyBvYmJDb250YWN0Q2FsY3VsYXRpb24gZnJvbSAnLi9vYmItY29udGFjdC1jYWxjdWxhdGlvbic7XG5cbi8qKlxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0UG9pbnQgT3V0cHV0IHBhcmFtLlxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0Tm9ybWFsIE91dHB1dCBwYXJhbS5cbiAqIEBwYXJhbSB7Q2Fwc3VsZX0gY2Fwc3VsZVxuICogQHBhcmFtIHt2ZWMzfSBwb2ludFxuICovXG5mdW5jdGlvbiBjYXBzdWxlVnNQb2ludChjb250YWN0UG9pbnQsIGNvbnRhY3ROb3JtYWwsIGNhcHN1bGUsIHBvaW50KSB7XG4gIHZlYzMuY29weShjb250YWN0UG9pbnQsIHBvaW50KTtcbiAgZmluZENsb3Nlc3RQb2ludE9uU2VnbWVudFRvUG9pbnQoY29udGFjdE5vcm1hbCwgY2Fwc3VsZS5zZWdtZW50LCBwb2ludCk7XG4gIHZlYzMuc3VidHJhY3QoY29udGFjdE5vcm1hbCwgY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsKTtcbiAgdmVjMy5ub3JtYWxpemUoY29udGFjdE5vcm1hbCwgY29udGFjdE5vcm1hbCk7XG59XG5cbi8qKlxuICogRmluZHMgdGhlIGNsb3Nlc3QgcG9pbnQgb24gdGhlIHN1cmZhY2Ugb2YgdGhlIGNhcHN1bGUgdG8gdGhlIHNwaGVyZSBjZW50ZXIuXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0UG9pbnQgT3V0cHV0IHBhcmFtLlxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0Tm9ybWFsIE91dHB1dCBwYXJhbS5cbiAqIEBwYXJhbSB7Q2Fwc3VsZX0gY2Fwc3VsZVxuICogQHBhcmFtIHtTcGhlcmV9IHNwaGVyZVxuICovXG5mdW5jdGlvbiBjYXBzdWxlVnNTcGhlcmUoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBjYXBzdWxlLCBzcGhlcmUpIHtcbiAgY29uc3Qgc3BoZXJlQ2VudGVyID0gc3BoZXJlLmNlbnRlck9mVm9sdW1lO1xuICBmaW5kQ2xvc2VzdFBvaW50T25TZWdtZW50VG9Qb2ludChjb250YWN0UG9pbnQsIGNhcHN1bGUuc2VnbWVudCwgc3BoZXJlQ2VudGVyKTtcbiAgdmVjMy5zdWJ0cmFjdChjb250YWN0Tm9ybWFsLCBzcGhlcmVDZW50ZXIsIGNvbnRhY3RQb2ludCk7XG4gIHZlYzMubm9ybWFsaXplKGNvbnRhY3ROb3JtYWwsIGNvbnRhY3ROb3JtYWwpO1xuICB2ZWMzLnNjYWxlQW5kQWRkKGNvbnRhY3RQb2ludCwgY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBjYXBzdWxlLnJhZGl1cyk7XG59XG5cbi8qKlxuICogRmluZHMgdGhlIGNsb3Nlc3QgcG9pbnQgb24gdGhlIHN1cmZhY2Ugb2YgdGhlIGNhcHN1bGUgdG8gdGhlIEFBQkIuXG4gKlxuICogTk9URTogVGhpcyBpbXBsZW1lbnRhdGlvbiBjaGVhdHMgYnkgY2hlY2tpbmcgd2hldGhlciB2ZXJ0aWNlcyBmcm9tIG9uZSBzaGFwZSBsaWUgd2l0aGluIHRoZVxuICogb3RoZXIuIER1ZSB0byB0aGUgdHVubmVsbGluZyBwcm9ibGVtLCBpdCBpcyBwb3NzaWJsZSB0aGF0IGludGVyc2VjdGlvbiBvY2N1cnMgd2l0aG91dCBhbnlcbiAqIHZlcnRpY2VzIGx5aW5nIHdpdGhpbiB0aGUgb3RoZXIgc2hhcGUuIEhvd2V2ZXIsIChBKSB0aGlzIGlzIHVubGlrZWx5LCBhbmQgKEIpIHdlIGFyZSBpZ25vcmluZyB0aGVcbiAqIHR1bm5lbGxpbmcgcHJvYmxlbSBmb3IgdGhlIHJlc3Qgb2YgdGhpcyBjb2xsaXNpb24gc3lzdGVtIGFueXdheS5cbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IGNvbnRhY3RQb2ludCBPdXRwdXQgcGFyYW0uXG4gKiBAcGFyYW0ge3ZlYzN9IGNvbnRhY3ROb3JtYWwgT3V0cHV0IHBhcmFtLlxuICogQHBhcmFtIHtDYXBzdWxlfSBjYXBzdWxlXG4gKiBAcGFyYW0ge0FhYmJ9IGFhYmJcbiAqL1xuZnVuY3Rpb24gY2Fwc3VsZVZzQWFiYihjb250YWN0UG9pbnQsIGNvbnRhY3ROb3JtYWwsIGNhcHN1bGUsIGFhYmIpIHtcbiAgLy8gdG1wVmVjMSByZXByZXNlbnRzIHRoZSBjbG9zZXN0IHBvaW50IG9uIHRoZSBjYXBzdWxlIHRvIHRoZSBBQUJCLiB0bXBWZWMyXG4gIC8vIHJlcHJlc2VudHMgdGhlIGNsb3Nlc3QgcG9pbnQgb24gdGhlIEFBQkIgdG8gdGhlIGNhcHN1bGUuXG5cbiAgLy9cbiAgLy8gQ2hlY2sgd2hldGhlciB0aGUgdHdvIGNhcHN1bGUgZW5kcyBpbnRlcnNlY3QgdGhlIEFBQkIgKHNwaGVyZSB2cyBBQUJCKSAoYWRkcmVzc2VzIHRoZVxuICAvLyBjYXBzdWxlLXZzLUFBQkItZmFjZSBjYXNlKS5cbiAgLy9cblxuICBjb25zdCBzcXVhcmVkUmFkaXVzID0gY2Fwc3VsZS5yYWRpdXMgKiBjYXBzdWxlLnJhZGl1cztcbiAgbGV0IGRvZXNBYWJiSW50ZXJzZWN0QW5FbmRQb2ludCA9IGZhbHNlO1xuXG4gIGxldCBlbmRQb2ludCA9IGNhcHN1bGUuc2VnbWVudC5zdGFydDtcbiAgZmluZENsb3Nlc3RQb2ludEZyb21BYWJiVG9Qb2ludCh0bXBWZWMyLCBhYWJiLCBlbmRQb2ludCk7XG4gIGlmICh2ZWMzLnNxdWFyZWREaXN0YW5jZSh0bXBWZWMyLCBlbmRQb2ludCkgPD0gc3F1YXJlZFJhZGl1cykge1xuICAgIGRvZXNBYWJiSW50ZXJzZWN0QW5FbmRQb2ludCA9IHRydWU7XG4gIH0gZWxzZSB7XG4gICAgZW5kUG9pbnQgPSBjYXBzdWxlLnNlZ21lbnQuZW5kO1xuICAgIGZpbmRDbG9zZXN0UG9pbnRGcm9tQWFiYlRvUG9pbnQodG1wVmVjMiwgYWFiYiwgZW5kUG9pbnQpO1xuICAgIGlmICh2ZWMzLnNxdWFyZWREaXN0YW5jZSh0bXBWZWMyLCBlbmRQb2ludCkgPD0gc3F1YXJlZFJhZGl1cykge1xuICAgICAgZG9lc0FhYmJJbnRlcnNlY3RBbkVuZFBvaW50ID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBpZiAoIWRvZXNBYWJiSW50ZXJzZWN0QW5FbmRQb2ludCkge1xuICAgIC8vXG4gICAgLy8gQ2hlY2sgd2hldGhlciB0aGUgY2Fwc3VsZSBpbnRlcnNlY3RzIHdpdGggYW55IEFBQkIgZWRnZSAoYWRkcmVzc2VzIHRoZSBjYXBzdWxlLXZzLUFBQkItZWRnZVxuICAgIC8vIGNhc2UpLlxuICAgIC8vXG4gICAgYWFiYi5zb21lRWRnZShlZGdlID0+IHtcbiAgICAgIGZpbmRDbG9zZXN0UG9pbnRzRnJvbVNlZ21lbnRUb1NlZ21lbnQodG1wVmVjMSwgdG1wVmVjMixcbiAgICAgICAgICBjYXBzdWxlLnNlZ21lbnQsIGVkZ2UpO1xuICAgICAgY29uc3QgZGlzdGFuY2UgPSB2ZWMzLnNxdWFyZWREaXN0YW5jZSh0bXBWZWMxLCB0bXBWZWMyKTtcbiAgICAgIHJldHVybiBkaXN0YW5jZSA8PSBzcXVhcmVkUmFkaXVzO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gKFRoZSBjYXBzdWxlLXZzLUFBQkItdmVydGV4IGNhc2UgaXMgY292ZXJlZCBieSB0aGUgY2Fwc3VsZS12cy1BQUJCLWVkZ2UgY2FzZSkuXG5cbiAgZmluZENsb3Nlc3RQb2ludE9uU2VnbWVudFRvUG9pbnQodG1wVmVjMSwgY2Fwc3VsZS5zZWdtZW50LCB0bXBWZWMyKTtcbiAgdmVjMy5zdWJ0cmFjdChjb250YWN0Tm9ybWFsLCB0bXBWZWMyLCB0bXBWZWMxKTtcbiAgdmVjMy5ub3JtYWxpemUoY29udGFjdE5vcm1hbCwgY29udGFjdE5vcm1hbCk7XG4gIHZlYzMuc2NhbGVBbmRBZGQoY29udGFjdFBvaW50LCB0bXBWZWMxLCBjb250YWN0Tm9ybWFsLCBjYXBzdWxlLnJhZGl1cyk7XG59XG5cbi8qKlxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0UG9pbnQgT3V0cHV0IHBhcmFtLlxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0Tm9ybWFsIE91dHB1dCBwYXJhbS5cbiAqIEBwYXJhbSB7Q2Fwc3VsZX0gY2Fwc3VsZVxuICogQHBhcmFtIHtPYmJ9IG9iYlxuICovXG5mdW5jdGlvbiBjYXBzdWxlVnNPYmIoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBjYXBzdWxlLCBvYmIpIHtcbiAgb2JiQ29udGFjdENhbGN1bGF0aW9uLm9iYlZzQ2Fwc3VsZShjb250YWN0UG9pbnQsIGNvbnRhY3ROb3JtYWwsIG9iYiwgY2Fwc3VsZSk7XG4gIHZlYzMubmVnYXRlKGNvbnRhY3ROb3JtYWwsIGNvbnRhY3ROb3JtYWwpO1xufVxuXG4vKipcbiAqIEZpbmRzIHRoZSBjbG9zZXN0IHBvaW50IG9uIHRoZSBzdXJmYWNlIG9mIGNhcHN1bGUgQSB0byBjYXBzdWxlIEIuXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0UG9pbnQgT3V0cHV0IHBhcmFtLlxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0Tm9ybWFsIE91dHB1dCBwYXJhbS5cbiAqIEBwYXJhbSB7Q2Fwc3VsZX0gY2Fwc3VsZUFcbiAqIEBwYXJhbSB7Q2Fwc3VsZX0gY2Fwc3VsZUJcbiAqL1xuZnVuY3Rpb24gY2Fwc3VsZVZzQ2Fwc3VsZShjb250YWN0UG9pbnQsIGNvbnRhY3ROb3JtYWwsIGNhcHN1bGVBLCBjYXBzdWxlQikge1xuICBmaW5kQ2xvc2VzdFBvaW50c0Zyb21TZWdtZW50VG9TZWdtZW50KHRtcFZlYzEsIHRtcFZlYzIsXG4gICAgICBjYXBzdWxlQS5zZWdtZW50LCBjYXBzdWxlQi5zZWdtZW50KTtcbiAgdmVjMy5zdWJ0cmFjdChjb250YWN0Tm9ybWFsLCB0bXBWZWMyLCB0bXBWZWMxKTtcbiAgdmVjMy5ub3JtYWxpemUoY29udGFjdE5vcm1hbCwgY29udGFjdE5vcm1hbCk7XG4gIHZlYzMuc2NhbGVBbmRBZGQoY29udGFjdFBvaW50LCB0bXBWZWMxLCBjb250YWN0Tm9ybWFsLCBjYXBzdWxlQS5yYWRpdXMpO1xufVxuXG5leHBvcnQge1xuICBjYXBzdWxlVnNQb2ludCxcbiAgY2Fwc3VsZVZzU3BoZXJlLFxuICBjYXBzdWxlVnNBYWJiLFxuICBjYXBzdWxlVnNPYmIsXG4gIGNhcHN1bGVWc0NhcHN1bGUsXG59O1xuIiwiLyoqXG4gKiBUaGlzIG1vZHVsZSBkZWZpbmVzIHV0aWxpdHkgbWV0aG9kcyBmb3IgY2FsY3VsYXRpbmcgYSBjb250YWN0IHBvaW50IGJldHdlZW4gb3JpZW50ZWQgYm91bmRpbmdcbiAqIGJveGVzIGFuZCBvdGhlciBzaGFwZXMuXG4gKlxuICogLSBFYWNoIG9mIHRoZXNlIGZ1bmN0aW9ucyBhc3N1bWVzIHRoYXQgdGhlIG9iamVjdHMgYXJlIGFjdHVhbGx5IGNvbGxpZGluZy5cbiAqIC0gVGhlIHJlc3VsdGluZyBjb250YWN0IHBvaW50IG1heSBiZSBhbnl3aGVyZSB3aXRoaW4gdGhlIGludGVyc2VjdGlvbiBvZiB0aGUgdHdvIG9iamVjdHMuXG4gKi9cblxuaW1wb3J0IHtcbiAgZmluZFBvaUJldHdlZW5TZWdtZW50QW5kUGxhbmVSZWdpb24sXG4gIGZpbmRDbG9zZXN0UG9pbnRGcm9tT2JiVG9Qb2ludCxcbiAgZmluZFNxdWFyZWREaXN0YW5jZUJldHdlZW5TZWdtZW50cyxcbiAgZmluZENsb3Nlc3RQb2ludHNGcm9tU2VnbWVudFRvU2VnbWVudCxcbiAgdG1wVmVjMVxufSBmcm9tICcuLi8uLi8uLi91dGlsJztcbmltcG9ydCB7YWFiYkNvbGxpc2lvbkRldGVjdGlvbiwgb2JiQ29sbGlzaW9uRGV0ZWN0aW9ufSBmcm9tICcuLi8uLi9jb2xsaXNpb24tZGV0ZWN0aW9uJztcbmltcG9ydCB7TGluZVNlZ21lbnR9IGZyb20gJy4uLy4uL2NvbGxpZGFibGVzJztcbmltcG9ydCAqIGFzIGFhYmJDb250YWN0Q2FsY3VsYXRpb24gZnJvbSAnLi9hYWJiLWNvbnRhY3QtY2FsY3VsYXRpb24nO1xuXG4vLyBUT0RPOiBUaGVyZSBhcmUgbW9yZSBlZmZpY2llbnQgKGJ1dCBmYXIgbW9yZSBjb21wbGljYXRlZCkgYWxnb3JpdGhtcyBmb3IgZmluZGluZyB0aGUgcG9pbnQgb2Zcbi8vIGludGVyc2VjdGlvbiB3aXRoIE9CQnMuIFBvcnQgb3ZlciBzb21lIG90aGVyIHByZS1leGlzdGluZyBzb2x1dGlvbnMgZm9yIHRoZXNlLlxuXG4vKipcbiAqIEBwYXJhbSB7dmVjM30gY29udGFjdFBvaW50IE91dHB1dCBwYXJhbS5cbiAqIEBwYXJhbSB7dmVjM30gY29udGFjdE5vcm1hbCBPdXRwdXQgcGFyYW0uXG4gKiBAcGFyYW0ge09iYn0gb2JiXG4gKiBAcGFyYW0ge3ZlYzN9IHBvaW50XG4gKi9cbmZ1bmN0aW9uIG9iYlZzUG9pbnQoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBvYmIsIHBvaW50KSB7XG4gIHZlYzMuY29weShjb250YWN0UG9pbnQsIHBvaW50KTtcbiAgZmluZE9iYk5vcm1hbEZyb21Db250YWN0UG9pbnQoY29udGFjdE5vcm1hbCwgY29udGFjdFBvaW50LCBvYmIpO1xufVxuXG4vKipcbiAqIEZpbmRzIHRoZSBjbG9zZXN0IHBvaW50IGFueXdoZXJlIGluc2lkZSB0aGUgT0JCIHRvIHRoZSBjZW50ZXIgb2YgdGhlIHNwaGVyZS5cbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IGNvbnRhY3RQb2ludCBPdXRwdXQgcGFyYW0uXG4gKiBAcGFyYW0ge3ZlYzN9IGNvbnRhY3ROb3JtYWwgT3V0cHV0IHBhcmFtLlxuICogQHBhcmFtIHtPYmJ9IG9iYlxuICogQHBhcmFtIHtTcGhlcmV9IHNwaGVyZVxuICovXG5mdW5jdGlvbiBvYmJWc1NwaGVyZShjb250YWN0UG9pbnQsIGNvbnRhY3ROb3JtYWwsIG9iYiwgc3BoZXJlKSB7XG4gIGZpbmRDbG9zZXN0UG9pbnRGcm9tT2JiVG9Qb2ludChjb250YWN0UG9pbnQsIG9iYiwgc3BoZXJlLmNlbnRlck9mVm9sdW1lKTtcbiAgdmVjMy5zdWJ0cmFjdChjb250YWN0Tm9ybWFsLCBzcGhlcmUuY2VudGVyT2ZWb2x1bWUsIGNvbnRhY3RQb2ludCk7XG4gIHZlYzMubm9ybWFsaXplKGNvbnRhY3ROb3JtYWwsIGNvbnRhY3ROb3JtYWwpO1xufVxuXG4vKipcbiAqIE5PVEU6IFRoaXMgaW1wbGVtZW50YXRpb24gY2hlYXRzIGJ5IGNoZWNraW5nIHdoZXRoZXIgdmVydGljZXMgZnJvbSBvbmUgc2hhcGUgbGllIHdpdGhpbiB0aGVcbiAqIG90aGVyLiBEdWUgdG8gdGhlIHR1bm5lbGxpbmcgcHJvYmxlbSwgaXQgaXMgcG9zc2libGUgdGhhdCBpbnRlcnNlY3Rpb24gb2NjdXJzIHdpdGhvdXQgYW55XG4gKiB2ZXJ0aWNlcyBseWluZyB3aXRoaW4gdGhlIG90aGVyIHNoYXBlLiBIb3dldmVyLCAoQSkgdGhpcyBpcyB1bmxpa2VseSwgYW5kIChCKSB3ZSBhcmUgaWdub3JpbmcgdGhlXG4gKiB0dW5uZWxsaW5nIHByb2JsZW0gZm9yIHRoZSByZXN0IG9mIHRoaXMgY29sbGlzaW9uIHN5c3RlbSBhbnl3YXkuXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0UG9pbnQgT3V0cHV0IHBhcmFtLlxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0Tm9ybWFsIE91dHB1dCBwYXJhbS5cbiAqIEBwYXJhbSB7T2JifSBvYmJcbiAqIEBwYXJhbSB7QWFiYn0gYWFiYlxuICovXG5mdW5jdGlvbiBvYmJWc0FhYmIoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBvYmIsIGFhYmIpIHtcbiAgcmV0dXJuIF9vYmJWc0JveEhlbHBlcihjb250YWN0UG9pbnQsIGNvbnRhY3ROb3JtYWwsIG9iYiwgYWFiYiwgYWFiYkNvbGxpc2lvbkRldGVjdGlvbi5hYWJiVnNQb2ludCxcbiAgICAgIGFhYmJDb250YWN0Q2FsY3VsYXRpb24uZmluZEFhYmJOb3JtYWxGcm9tQ29udGFjdFBvaW50KTtcbn1cblxuLyoqXG4gKiBOT1RFOiBUaGlzIGltcGxlbWVudGF0aW9uIGNoZWF0cyBieSBjaGVja2luZyB3aGV0aGVyIHZlcnRpY2VzIGZyb20gb25lIHNoYXBlIGxpZSB3aXRoaW4gdGhlXG4gKiBvdGhlci4gRHVlIHRvIHRoZSB0dW5uZWxsaW5nIHByb2JsZW0sIGl0IGlzIHBvc3NpYmxlIHRoYXQgaW50ZXJzZWN0aW9uIG9jY3VycyB3aXRob3V0IGFueVxuICogdmVydGljZXMgbHlpbmcgd2l0aGluIHRoZSBvdGhlciBzaGFwZS4gSG93ZXZlciwgKEEpIHRoaXMgaXMgdW5saWtlbHksIGFuZCAoQikgd2UgYXJlIGlnbm9yaW5nIHRoZVxuICogdHVubmVsbGluZyBwcm9ibGVtIGZvciB0aGUgcmVzdCBvZiB0aGlzIGNvbGxpc2lvbiBzeXN0ZW0gYW55d2F5LlxuICpcbiAqIEBwYXJhbSB7dmVjM30gY29udGFjdFBvaW50IE91dHB1dCBwYXJhbS5cbiAqIEBwYXJhbSB7dmVjM30gY29udGFjdE5vcm1hbCBPdXRwdXQgcGFyYW0uXG4gKiBAcGFyYW0ge09iYn0gb2JiQVxuICogQHBhcmFtIHtPYmJ9IG9iYkJcbiAqL1xuZnVuY3Rpb24gb2JiVnNPYmIoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBvYmJBLCBvYmJCKSB7XG4gIHJldHVybiBfb2JiVnNCb3hIZWxwZXIoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBvYmJBLCBvYmJCLCBvYmJDb2xsaXNpb25EZXRlY3Rpb24ub2JiVnNQb2ludCxcbiAgICAgIGZpbmRPYmJOb3JtYWxGcm9tQ29udGFjdFBvaW50KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3ZlYzN9IGNvbnRhY3RQb2ludCBPdXRwdXQgcGFyYW0uXG4gKiBAcGFyYW0ge3ZlYzN9IGNvbnRhY3ROb3JtYWwgT3V0cHV0IHBhcmFtLlxuICogQHBhcmFtIHtPYmJ9IG9iYlxuICogQHBhcmFtIHtPYmJ8QWFiYn0gb3RoZXJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IG90aGVyVnNQb2ludENvbGxpc2lvbkRldGVjdGlvbkNhbGxiYWNrXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmaW5kT3RoZXJOb3JtYWxGcm9tQ29udGFjdFBvaW50XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfb2JiVnNCb3hIZWxwZXIoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBvYmIsIG90aGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgIG90aGVyVnNQb2ludENvbGxpc2lvbkRldGVjdGlvbkNhbGxiYWNrLFxuICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmRPdGhlck5vcm1hbEZyb21Db250YWN0UG9pbnQpIHtcbiAgLy8gQ2hlY2sgd2hldGhlciBhbnkgdmVydGljZXMgZnJvbSBBIGxpZSB3aXRoaW4gQidzIGJvdW5kcy5cbiAgaWYgKG9iYi5zb21lVmVydGV4KHZlcnRleCA9PiBvdGhlclZzUG9pbnRDb2xsaXNpb25EZXRlY3Rpb25DYWxsYmFjayhvdGhlciwgdmVydGV4KSxcbiAgICAgICAgICBjb250YWN0UG9pbnQpKSB7XG4gICAgZmluZE90aGVyTm9ybWFsRnJvbUNvbnRhY3RQb2ludChjb250YWN0Tm9ybWFsLCBjb250YWN0UG9pbnQsIG90aGVyKTtcbiAgICB2ZWMzLm5lZ2F0ZShjb250YWN0Tm9ybWFsLCBjb250YWN0Tm9ybWFsKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBDaGVjayB3aGV0aGVyIGFueSB2ZXJ0aWNlcyBmcm9tIEIgbGllIHdpdGhpbiBBJ3MgYm91bmRzLlxuICBpZiAob3RoZXIuc29tZVZlcnRleCh2ZXJ0ZXggPT4gb2JiQ29sbGlzaW9uRGV0ZWN0aW9uLm9iYlZzUG9pbnQob2JiLCB2ZXJ0ZXgpLCBjb250YWN0UG9pbnQpKSB7XG4gICAgZmluZE9iYk5vcm1hbEZyb21Db250YWN0UG9pbnQoY29udGFjdE5vcm1hbCwgY29udGFjdFBvaW50LCBvYmIpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIFdlIGFzc3VtZSB0aGF0IGEgdmVydGV4LXRvLWZhY2UgY29sbGlzaW9uIHdvdWxkIGhhdmUgYmVlbiBkZXRlY3RlZCBieSBvbmUgb2YgdGhlIHR3byBhYm92ZVxuICAvLyBjaGVja3MuIEFueSBlZGdlLXRvLWVkZ2UgY29sbGlzaW9uIG11c3QgaW52b2x2ZSBib3RoIGFuIGVkZ2UgZnJvbSBBIHRocm91Z2ggYSBmYWNlIG9mIEIgYW5kXG4gIC8vIHZpY2UgdmVyc2EuIFNvIGl0IGlzIHN1ZmZpY2llbnQgdG8gb25seSBjaGVjayB0aGUgZWRnZXMgb2Ygb25lIGFuZCB0aGUgZmFjZXMgb2YgdGhlIG90aGVyLlxuICBvdGhlci5zb21lRWRnZShlZGdlID0+XG4gICAgICBvYmIuc29tZUZhY2UoZmFjZSA9PiBmaW5kUG9pQmV0d2VlblNlZ21lbnRBbmRQbGFuZVJlZ2lvbihjb250YWN0UG9pbnQsIGVkZ2UsIC4uLmZhY2UpKSk7XG4gIGZpbmRPYmJOb3JtYWxGcm9tQ29udGFjdFBvaW50KGNvbnRhY3ROb3JtYWwsIGNvbnRhY3RQb2ludCwgb2JiKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3ZlYzN9IGNvbnRhY3RQb2ludCBPdXRwdXQgcGFyYW0uXG4gKiBAcGFyYW0ge3ZlYzN9IGNvbnRhY3ROb3JtYWwgT3V0cHV0IHBhcmFtLlxuICogQHBhcmFtIHtPYmJ9IG9iYlxuICogQHBhcmFtIHtDYXBzdWxlfSBjYXBzdWxlXG4gKi9cbmZ1bmN0aW9uIG9iYlZzQ2Fwc3VsZShjb250YWN0UG9pbnQsIGNvbnRhY3ROb3JtYWwsIG9iYiwgY2Fwc3VsZSkge1xuICAvLyB0bXBWZWMxIGlzIHRoZSBwb2ludCBvbiB0aGUgY2Fwc3VsZSBzZWdtZW50IHRoYXQgaXMgY2xvc2VzdCB0byB0aGUgT0JCLlxuXG4gIC8vXG4gIC8vIENoZWNrIHRoZSBlZGdlcy5cbiAgLy9cblxuICBjb25zdCBzZWdtZW50ID0gbmV3IExpbmVTZWdtZW50KHZlYzMuY3JlYXRlKCksIHZlYzMuY3JlYXRlKCkpO1xuICBjb25zdCBzcXVhcmVkUmFkaXVzID0gY2Fwc3VsZS5yYWRpdXMgKiBjYXBzdWxlLnJhZGl1cztcbiAgY29uc3QgYXJlSW50ZXJzZWN0aW5nID0gb2JiLnNvbWVFZGdlKGVkZ2UgPT5cbiAgICAgIGZpbmRTcXVhcmVkRGlzdGFuY2VCZXR3ZWVuU2VnbWVudHMoY2Fwc3VsZS5zZWdtZW50LCBlZGdlKSA8IHNxdWFyZWRSYWRpdXMsIHNlZ21lbnQpO1xuXG4gIGlmIChhcmVJbnRlcnNlY3RpbmcpIHtcbiAgICBmaW5kQ2xvc2VzdFBvaW50c0Zyb21TZWdtZW50VG9TZWdtZW50KHRtcFZlYzEsIGNvbnRhY3RQb2ludCwgY2Fwc3VsZS5zZWdtZW50LCBzZWdtZW50KTtcbiAgICB2ZWMzLnN1YnRyYWN0KGNvbnRhY3ROb3JtYWwsIHRtcFZlYzEsIGNvbnRhY3RQb2ludCk7XG4gICAgdmVjMy5ub3JtYWxpemUoY29udGFjdE5vcm1hbCwgY29udGFjdE5vcm1hbCk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy9cbiAgLy8gQ2hlY2sgdGhlIGZhY2VzLlxuICAvL1xuXG4gIG9iYi5zb21lUHVzaGVkT3V0RmFjZShmYWNlID0+XG4gICAgICBmaW5kUG9pQmV0d2VlblNlZ21lbnRBbmRQbGFuZVJlZ2lvbih0bXBWZWMxLCBjYXBzdWxlLnNlZ21lbnQsIC4uLmZhY2UpLCBjYXBzdWxlLnJhZGl1cyk7XG5cbiAgZmluZE9iYk5vcm1hbEZyb21Db250YWN0UG9pbnQoY29udGFjdE5vcm1hbCwgdG1wVmVjMSwgb2JiKTtcblxuICAvLyBOT1RFOiBUaGlzIGFzc3VtZXMgdGhhdCB0aGUgYW5nbGUgYmV0d2VlbiB0aGUgY2Fwc3VsZSBzZWdtZW50IGFuZCB0aGUgZmFjZSBwbGFuZSBpcyBub3Qgb2JsaXF1ZVxuICAvLyBhbmQgdGhhdCB0aGUgZGVwdGggb2YgcGVuZXRyYXRpb24gaXMgc2hhbGxvdy4gV2hlbiBib3RoIG9mIHRoZXNlIGNvbmRpdGlvbnMgYXJlIG5vdCB0cnVlLCB0aGVcbiAgLy8gY29udGFjdCBwb2ludCB3aWxsIGJlIG9mZnNldCBmcm9tIHRoZSBpbnRlcnNlY3Rpb24gcG9pbnQgb24gdGhlIHB1c2hlZC1vdXQgZmFjZS5cbiAgdmVjMy5zY2FsZUFuZEFkZChjb250YWN0UG9pbnQsIHRtcFZlYzEsIGNvbnRhY3ROb3JtYWwsIC1jYXBzdWxlLnJhZGl1cyk7XG59XG5cbi8qKlxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0Tm9ybWFsIE91dHB1dCBwYXJhbS5cbiAqIEBwYXJhbSB7dmVjM30gY29udGFjdFBvaW50XG4gKiBAcGFyYW0ge09iYn0gb2JiXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBmaW5kT2JiTm9ybWFsRnJvbUNvbnRhY3RQb2ludChjb250YWN0Tm9ybWFsLCBjb250YWN0UG9pbnQsIG9iYikge1xuICAvLyBDYWxjdWxhdGUgdGhlIGRpc3BsYWNlbWVudCBhbG9uZyBlYWNoIGF4aXMuXG4gIGNvbnN0IHByb2plY3Rpb25zID0gW107XG4gIHZlYzMuc3VidHJhY3QodG1wVmVjMSwgY29udGFjdFBvaW50LCBvYmIuY2VudGVyT2ZWb2x1bWUpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkrKykge1xuICAgIHByb2plY3Rpb25zW2ldID0gdmVjMy5kb3Qob2JiLmF4ZXNbaV0sIHRtcFZlYzEpO1xuICB9XG5cbiAgLy8gRGV0ZXJtaW5lIHdoaWNoIGZhY2UgdGhlIG5vcm1hbCBpcyBwb2ludGluZyBhd2F5IGZyb20uXG4gIHZlYzMuc2V0KGNvbnRhY3ROb3JtYWwsIDAsIDAsIDApO1xuICBjb25zdCB4RGlzdGFuY2VGcm9tRmFjZSA9IG9iYi5oYWxmU2lkZUxlbmd0aHNbMF0gLSBNYXRoLmFicyhwcm9qZWN0aW9uc1swXSk7XG4gIGNvbnN0IHlEaXN0YW5jZUZyb21GYWNlID0gb2JiLmhhbGZTaWRlTGVuZ3Roc1sxXSAtIE1hdGguYWJzKHByb2plY3Rpb25zWzFdKTtcbiAgY29uc3QgekRpc3RhbmNlRnJvbUZhY2UgPSBvYmIuaGFsZlNpZGVMZW5ndGhzWzJdIC0gTWF0aC5hYnMocHJvamVjdGlvbnNbMl0pO1xuICAvLyBBc3N1bWUgdGhhdCB0aGUgcG9pbnQgaXMgY29udGFjdGluZyB3aGljaGV2ZXIgZmFjZSBpdCdzIGNsb3Nlc3QgdG8uXG4gIGlmICh4RGlzdGFuY2VGcm9tRmFjZSA8PSB5RGlzdGFuY2VGcm9tRmFjZSkge1xuICAgIGlmICh4RGlzdGFuY2VGcm9tRmFjZSA8PSB6RGlzdGFuY2VGcm9tRmFjZSkge1xuICAgICAgY29udGFjdE5vcm1hbFswXSA9IHByb2plY3Rpb25zWzBdID4gMCA/IDEgOiAtMTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29udGFjdE5vcm1hbFsyXSA9IHByb2plY3Rpb25zWzJdID4gMCA/IDEgOiAtMTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKHlEaXN0YW5jZUZyb21GYWNlIDw9IHpEaXN0YW5jZUZyb21GYWNlKSB7XG4gICAgICBjb250YWN0Tm9ybWFsWzFdID0gcHJvamVjdGlvbnNbMV0gPiAwID8gMSA6IC0xO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb250YWN0Tm9ybWFsWzJdID0gcHJvamVjdGlvbnNbMl0gPiAwID8gMSA6IC0xO1xuICAgIH1cbiAgfVxuXG4gIC8vIEFwcGx5IHRoZSBPQkIncyBvcmllbnRhdGlvbiB0byB0aGUgbm9ybWFsLlxuICB2ZWMzLnRyYW5zZm9ybVF1YXQoY29udGFjdE5vcm1hbCwgY29udGFjdE5vcm1hbCwgb2JiLm9yaWVudGF0aW9uKTtcbn1cblxuZXhwb3J0IHtcbiAgb2JiVnNQb2ludCxcbiAgb2JiVnNTcGhlcmUsXG4gIG9iYlZzQWFiYixcbiAgb2JiVnNPYmIsXG4gIG9iYlZzQ2Fwc3VsZSxcbiAgZmluZE9iYk5vcm1hbEZyb21Db250YWN0UG9pbnQsXG59O1xuIiwiLyoqXG4gKiBUaGlzIG1vZHVsZSBkZWZpbmVzIHV0aWxpdHkgbWV0aG9kcyBmb3IgY2FsY3VsYXRpbmcgYSBjb250YWN0IHBvaW50IGJldHdlZW4gc3BoZXJlcyBhbmQgb3RoZXJcbiAqIHNoYXBlcy5cbiAqXG4gKiAtIEVhY2ggb2YgdGhlc2UgZnVuY3Rpb25zIGFzc3VtZXMgdGhhdCB0aGUgb2JqZWN0cyBhcmUgYWN0dWFsbHkgY29sbGlkaW5nLlxuICogLSBUaGUgcmVzdWx0aW5nIGNvbnRhY3QgcG9pbnQgbWF5IGJlIGFueXdoZXJlIHdpdGhpbiB0aGUgaW50ZXJzZWN0aW9uIG9mIHRoZSB0d28gb2JqZWN0cy5cbiAqL1xuXG5pbXBvcnQge2ZpbmRDbG9zZXN0UG9pbnRGcm9tQWFiYlN1cmZhY2VUb1BvaW50fSBmcm9tICcuLi8uLi8uLi91dGlsJztcbmltcG9ydCB7ZmluZEFhYmJOb3JtYWxGcm9tQ29udGFjdFBvaW50fSBmcm9tICcuL2FhYmItY29udGFjdC1jYWxjdWxhdGlvbic7XG5pbXBvcnQgKiBhcyBvYmJDb250YWN0Q2FsY3VsYXRpb24gZnJvbSAnLi9vYmItY29udGFjdC1jYWxjdWxhdGlvbic7XG5pbXBvcnQgKiBhcyBjYXBzdWxlQ29udGFjdENhbGN1bGF0aW9uIGZyb20gJy4vY2Fwc3VsZS1jb250YWN0LWNhbGN1bGF0aW9uJztcblxuLyoqXG4gKiBAcGFyYW0ge3ZlYzN9IGNvbnRhY3RQb2ludCBPdXRwdXQgcGFyYW0uXG4gKiBAcGFyYW0ge3ZlYzN9IGNvbnRhY3ROb3JtYWwgT3V0cHV0IHBhcmFtLlxuICogQHBhcmFtIHtTcGhlcmV9IHNwaGVyZVxuICogQHBhcmFtIHt2ZWMzfSBwb2ludFxuICovXG5mdW5jdGlvbiBzcGhlcmVWc1BvaW50KGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgc3BoZXJlLCBwb2ludCkge1xuICB2ZWMzLmNvcHkoY29udGFjdFBvaW50LCBwb2ludCk7XG4gIC8vIEFzc3VtZSB0aGF0IHRoZSBwb2ludCBpcyBjb250YWN0aW5nIHRoZSBjbG9zZXN0IHBvaW50IG9uIHRoZSBzdXJmYWNlIG9mIHRoZSBzcGhlcmUuXG4gIHZlYzMuc3VidHJhY3QoY29udGFjdE5vcm1hbCwgcG9pbnQsIHNwaGVyZS5jZW50ZXJPZlZvbHVtZSk7XG4gIHZlYzMubm9ybWFsaXplKGNvbnRhY3ROb3JtYWwsIGNvbnRhY3ROb3JtYWwpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7dmVjM30gY29udGFjdFBvaW50IE91dHB1dCBwYXJhbS5cbiAqIEBwYXJhbSB7dmVjM30gY29udGFjdE5vcm1hbCBPdXRwdXQgcGFyYW0uXG4gKiBAcGFyYW0ge1NwaGVyZX0gc3BoZXJlQVxuICogQHBhcmFtIHtTcGhlcmV9IHNwaGVyZUJcbiAqL1xuZnVuY3Rpb24gc3BoZXJlVnNTcGhlcmUoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBzcGhlcmVBLCBzcGhlcmVCKSB7XG4gIHZlYzMuc3VidHJhY3QoY29udGFjdE5vcm1hbCwgc3BoZXJlQi5jZW50ZXJPZlZvbHVtZSwgc3BoZXJlQS5jZW50ZXJPZlZvbHVtZSk7XG4gIHZlYzMubm9ybWFsaXplKGNvbnRhY3ROb3JtYWwsIGNvbnRhY3ROb3JtYWwpO1xuICAvLyBUaGUgcG9pbnQgb24gdGhlIHN1cmZhY2Ugb2Ygc3BoZXJlIEEgdGhhdCBpcyBjbG9zZXN0IHRvIHRoZSBjZW50ZXIgb2Ygc3BoZXJlIEIuXG4gIHZlYzMuc2NhbGVBbmRBZGQoY29udGFjdFBvaW50LCBzcGhlcmVBLmNlbnRlck9mVm9sdW1lLCBjb250YWN0Tm9ybWFsLCBzcGhlcmVBLnJhZGl1cyk7XG59XG5cbi8qKlxuICogRmluZHMgdGhlIGNsb3Nlc3QgcG9pbnQgb24gdGhlIHN1cmZhY2Ugb2YgdGhlIEFBQkIgdG8gdGhlIHNwaGVyZSBjZW50ZXIuXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0UG9pbnQgT3V0cHV0IHBhcmFtLlxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0Tm9ybWFsIE91dHB1dCBwYXJhbS5cbiAqIEBwYXJhbSB7U3BoZXJlfSBzcGhlcmVcbiAqIEBwYXJhbSB7QWFiYn0gYWFiYlxuICovXG5mdW5jdGlvbiBzcGhlcmVWc0FhYmIoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBzcGhlcmUsIGFhYmIpIHtcbiAgZmluZENsb3Nlc3RQb2ludEZyb21BYWJiU3VyZmFjZVRvUG9pbnQoY29udGFjdFBvaW50LCBhYWJiLCBzcGhlcmUuY2VudGVyT2ZWb2x1bWUpO1xuICBmaW5kQWFiYk5vcm1hbEZyb21Db250YWN0UG9pbnQoY29udGFjdE5vcm1hbCwgY29udGFjdFBvaW50LCBhYWJiKTtcbiAgdmVjMy5uZWdhdGUoY29udGFjdE5vcm1hbCwgY29udGFjdE5vcm1hbCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0UG9pbnQgT3V0cHV0IHBhcmFtLlxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0Tm9ybWFsIE91dHB1dCBwYXJhbS5cbiAqIEBwYXJhbSB7U3BoZXJlfSBzcGhlcmVcbiAqIEBwYXJhbSB7T2JifSBvYmJcbiAqL1xuZnVuY3Rpb24gc3BoZXJlVnNPYmIoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBzcGhlcmUsIG9iYikge1xuICBvYmJDb250YWN0Q2FsY3VsYXRpb24ub2JiVnNTcGhlcmUoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBvYmIsIHNwaGVyZSk7XG4gIHZlYzMubmVnYXRlKGNvbnRhY3ROb3JtYWwsIGNvbnRhY3ROb3JtYWwpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7dmVjM30gY29udGFjdFBvaW50IE91dHB1dCBwYXJhbS5cbiAqIEBwYXJhbSB7dmVjM30gY29udGFjdE5vcm1hbCBPdXRwdXQgcGFyYW0uXG4gKiBAcGFyYW0ge1NwaGVyZX0gc3BoZXJlXG4gKiBAcGFyYW0ge0NhcHN1bGV9IGNhcHN1bGVcbiAqL1xuZnVuY3Rpb24gc3BoZXJlVnNDYXBzdWxlKGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgc3BoZXJlLCBjYXBzdWxlKSB7XG4gIGNhcHN1bGVDb250YWN0Q2FsY3VsYXRpb24uY2Fwc3VsZVZzU3BoZXJlKGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgY2Fwc3VsZSwgc3BoZXJlKTtcbiAgdmVjMy5uZWdhdGUoY29udGFjdE5vcm1hbCwgY29udGFjdE5vcm1hbCk7XG59XG5cbmV4cG9ydCB7XG4gIHNwaGVyZVZzUG9pbnQsXG4gIHNwaGVyZVZzU3BoZXJlLFxuICBzcGhlcmVWc0FhYmIsXG4gIHNwaGVyZVZzT2JiLFxuICBzcGhlcmVWc0NhcHN1bGUsXG59O1xuIiwiZXhwb3J0ICogZnJvbSAnLi9jb2xsaWRhYmxlcyc7XG5leHBvcnQgKiBmcm9tICcuL2NvbGxpc2lvbi1kZXRlY3Rpb24nO1xuZXhwb3J0ICogZnJvbSAnLi9jb250YWN0LWNhbGN1bGF0aW9uJztcblxuZXhwb3J0ICogZnJvbSAnLi9zcmMvY29sbGlkYWJsZS1mYWN0b3JpZXMnO1xuZXhwb3J0ICogZnJvbSAnLi9zcmMvY29sbGlkYWJsZS1waHlzaWNzLWpvYic7XG5leHBvcnQgKiBmcm9tICcuL3NyYy9jb2xsaWRhYmxlLXN0b3JlJztcbmV4cG9ydCAqIGZyb20gJy4vc3JjL2NvbGxpc2lvbi1oYW5kbGVyJztcbmV4cG9ydCAqIGZyb20gJy4vc3JjL2NvbGxpc2lvbi11dGlscyc7XG4iLCIvKipcbiAqIFRoaXMgbW9kdWxlIGRlZmluZXMgYSBzZXQgb2YgZmFjdG9yeSBmdW5jdGlvbnMgZm9yIGNyZWF0aW5nIENvbGxpZGFibGUgaW5zdGFuY2VzLlxuICovXG5cbmltcG9ydCB7XG4gIENhcHN1bGUsXG4gIE9iYixcbiAgU3BoZXJlXG59IGZyb20gJy4uL2NvbGxpZGFibGVzJztcbmltcG9ydCB7X2dlb21ldHJ5fSBmcm9tICcuLi8uLi91dGlsJztcblxuLyoqXG4gKiBAcGFyYW0ge0NvbGxpZGFibGVTaGFwZUNvbmZpZ30gcGFyYW1zXG4gKiBAcGFyYW0ge0NvbGxpZGFibGVQaHlzaWNzSm9ifSBbcGh5c2ljc0pvYl1cbiAqIEByZXR1cm5zIHtDb2xsaWRhYmxlfVxuICovXG5mdW5jdGlvbiBjcmVhdGVDb2xsaWRhYmxlRnJvbVJlbmRlcmFibGVTaGFwZShwYXJhbXMsIHBoeXNpY3NKb2IpIHtcbiAgcmV0dXJuIF9jb2xsaWRhYmxlQ3JlYXRvcnNbcGFyYW1zLmNvbGxpZGFibGVTaGFwZUlkXShwYXJhbXMsIHBoeXNpY3NKb2IpO1xufVxuXG4vKipcbiAqIFRoaXMgYXNzdW1lcyB0aGUgYmFzZSBSZW5kZXJhYmxlU2hhcGUgaGFzIGEgc2lkZSBsZW5ndGggb2Ygb25lIHVuaXQuXG4gKlxuICogQHBhcmFtIHtDb2xsaWRhYmxlU2hhcGVDb25maWd9IHBhcmFtc1xuICogQHBhcmFtIHtDb2xsaWRhYmxlUGh5c2ljc0pvYn0gW3BoeXNpY3NKb2JdXG4gKiBAcmV0dXJucyB7Q29sbGlkYWJsZX1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlT2JiRnJvbVJlbmRlcmFibGVTaGFwZShwYXJhbXMsIHBoeXNpY3NKb2IpIHtcbiAgY29uc3QgaGFsZlJhbmdlWCA9IHBhcmFtcy5zY2FsZVswXSAvIDI7XG4gIGNvbnN0IGhhbGZSYW5nZVkgPSBwYXJhbXMuc2NhbGVbMV0gLyAyO1xuICBjb25zdCBoYWxmUmFuZ2VaID0gcGFyYW1zLnNjYWxlWzJdIC8gMjtcbiAgcmV0dXJuIG5ldyBPYmIoaGFsZlJhbmdlWCwgaGFsZlJhbmdlWSwgaGFsZlJhbmdlWiwgcGFyYW1zLmlzU3RhdGlvbmFyeSwgcGh5c2ljc0pvYik7XG59XG5cbi8qKlxuICogVGhpcyBhc3N1bWVzIHRoZSBiYXNlIFJlbmRlcmFibGVTaGFwZSBoYXMgYSBcInJhZGl1c1wiIG9mIG9uZSB1bml0LlxuICpcbiAqIEBwYXJhbSB7Q29sbGlkYWJsZVNoYXBlQ29uZmlnfSBwYXJhbXNcbiAqIEBwYXJhbSB7Q29sbGlkYWJsZVBoeXNpY3NKb2J9IFtwaHlzaWNzSm9iXVxuICogQHJldHVybnMge0NvbGxpZGFibGV9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVNwaGVyZUZyb21SZW5kZXJhYmxlU2hhcGUocGFyYW1zLCBwaHlzaWNzSm9iKSB7XG4gIGNvbnN0IHJhZGl1cyA9IHBhcmFtcy5yYWRpdXMgfHwgdmVjMy5sZW5ndGgocGFyYW1zLnNjYWxlKSAvIE1hdGguc3FydCgzKTtcbiAgcmV0dXJuIG5ldyBTcGhlcmUoMCwgMCwgMCwgcmFkaXVzLCBwYXJhbXMuaXNTdGF0aW9uYXJ5LCBwaHlzaWNzSm9iKTtcbn1cblxuLyoqXG4gKiBUaGUgcmFkaXVzIG9mIHRoZSBjcmVhdGVkIGNhcHN1bGUgd2lsbCBiZSBhbiBhdmVyYWdlIGZyb20gdGhlIHR3byBzaG9ydGVzdCBzaWRlcy5cbiAqXG4gKiBUaGVyZSBhcmUgdHdvIG1vZGVzOiBlaXRoZXIgd2UgdXNlIHNjYWxlLCBvciB3ZSB1c2UgcmFkaXVzIGFuZCBjYXBzdWxlRW5kUG9pbnRzRGlzdGFuY2UuXG4gKlxuICogQHBhcmFtIHtDb2xsaWRhYmxlU2hhcGVDb25maWd9IHBhcmFtc1xuICogQHBhcmFtIHtDb2xsaWRhYmxlUGh5c2ljc0pvYn0gW3BoeXNpY3NKb2JdXG4gKiBAcmV0dXJucyB7Q29sbGlkYWJsZX1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlQ2Fwc3VsZUZyb21SZW5kZXJhYmxlU2hhcGUocGFyYW1zLCBwaHlzaWNzSm9iKSB7XG4gIGNvbnN0IHNjYWxlID0gcGFyYW1zLnNjYWxlO1xuICBjb25zdCBjYXBzdWxlRW5kUG9pbnRzRGlzdGFuY2UgPSBwYXJhbXMuY2Fwc3VsZUVuZFBvaW50c0Rpc3RhbmNlO1xuICBjb25zdCBpc1N0YXRpb25hcnkgPSBwYXJhbXMuaXNTdGF0aW9uYXJ5O1xuICBsZXQgcmFkaXVzID0gcGFyYW1zLnJhZGl1cztcblxuICBsZXQgaGFsZkRpc3RhbmNlO1xuXG4gIC8vIFRoZXJlIGFyZSB0d28gbW9kZXM6IGVpdGhlciB3ZSB1c2Ugc2NhbGUsIG9yIHdlIHVzZSByYWRpdXMgYW5kIGNhcHN1bGVFbmRQb2ludHNEaXN0YW5jZS5cbiAgaWYgKHR5cGVvZiByYWRpdXMgPT09ICdudW1iZXInICYmIHR5cGVvZiBjYXBzdWxlRW5kUG9pbnRzRGlzdGFuY2UgPT09ICdudW1iZXInKSB7XG4gICAgaGFsZkRpc3RhbmNlID0gY2Fwc3VsZUVuZFBvaW50c0Rpc3RhbmNlIC8gMjtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBjb3B5ID0gdmVjMy5jbG9uZShzY2FsZSk7XG4gICAgY29weS5zb3J0KCk7XG5cbiAgICBjb25zdCBsZW5ndGggPSBjb3B5WzJdO1xuICAgIHJhZGl1cyA9IChjb3B5WzBdICsgY29weVsxXSkgLyAyO1xuICAgIGhhbGZEaXN0YW5jZSA9IGxlbmd0aCAvIDIgLSByYWRpdXM7XG4gIH1cblxuICBjb25zdCBvcmllbnRhdGlvbiA9IHF1YXQuY3JlYXRlKCk7XG4gIGlmIChzY2FsZVswXSA+IHNjYWxlWzFdKSB7XG4gICAgaWYgKHNjYWxlWzBdID4gc2NhbGVbMl0pIHtcbiAgICAgIHZlYzMucm90YXRlWShvcmllbnRhdGlvbiwgb3JpZW50YXRpb24sIF9nZW9tZXRyeS5IQUxGX1BJKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRG8gbm90aGluZzsgdGhlIGNhcHN1bGUgZGVmYXVsdHMgdG8gYmVpbmcgYWxpZ25lZCB3aXRoIHRoZSB6LWF4aXMuXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChzY2FsZVsxXSA+IHNjYWxlWzJdKSB7XG4gICAgICB2ZWMzLnJvdGF0ZVgob3JpZW50YXRpb24sIG9yaWVudGF0aW9uLCAtX2dlb21ldHJ5LkhBTEZfUEkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBEbyBub3RoaW5nOyB0aGUgY2Fwc3VsZSBkZWZhdWx0cyB0byBiZWluZyBhbGlnbmVkIHdpdGggdGhlIHotYXhpcy5cbiAgICB9XG4gIH1cblxuICBjb25zdCBjYXBzdWxlID0gbmV3IENhcHN1bGUoaGFsZkRpc3RhbmNlLCByYWRpdXMsIGlzU3RhdGlvbmFyeSwgcGh5c2ljc0pvYik7XG4gIGNhcHN1bGUub3JpZW50YXRpb24gPSBvcmllbnRhdGlvbjtcblxuICByZXR1cm4gY2Fwc3VsZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0NvbGxpZGFibGVTaGFwZUNvbmZpZ30gcGFyYW1zXG4gKiBAcGFyYW0ge0NvbGxpZGFibGVQaHlzaWNzSm9ifSBbcGh5c2ljc0pvYl1cbiAqIEByZXR1cm5zIHtDb2xsaWRhYmxlfVxuICovXG5mdW5jdGlvbiBjcmVhdGVTcGhlcmVPckNhcHN1bGVGcm9tUmVuZGVyYWJsZVNoYXBlKHBhcmFtcywgcGh5c2ljc0pvYikge1xuICBjb25zdCBzY2FsZSA9IHBhcmFtcy5zY2FsZTtcbiAgY29uc3QgcmFkaXVzID0gcGFyYW1zLnJhZGl1cztcbiAgY29uc3QgY2Fwc3VsZUVuZFBvaW50c0Rpc3RhbmNlID0gcGFyYW1zLmNhcHN1bGVFbmRQb2ludHNEaXN0YW5jZTtcblxuICBjb25zdCBoYWxmTGVuZ3RoWCA9IHNjYWxlWzBdICogcmFkaXVzO1xuICBjb25zdCBoYWxmTGVuZ3RoWSA9IHNjYWxlWzFdICogcmFkaXVzO1xuICBjb25zdCBoYWxmTGVuZ3RoWiA9IHNjYWxlWzJdICogKHJhZGl1cyArIGNhcHN1bGVFbmRQb2ludHNEaXN0YW5jZSkgLyAyO1xuXG4gIGNvbnN0IG1pbkxlbmd0aCA9IE1hdGgubWluKE1hdGgubWluKGhhbGZMZW5ndGhYLCBoYWxmTGVuZ3RoWSksIGhhbGZMZW5ndGhaKTtcbiAgY29uc3QgbWF4TGVuZ3RoID0gTWF0aC5tYXgoTWF0aC5tYXgoaGFsZkxlbmd0aFgsIGhhbGZMZW5ndGhZKSwgaGFsZkxlbmd0aFopO1xuXG4gIGlmIChtYXhMZW5ndGggLyBtaW5MZW5ndGggPj0gX1NQSEVSRV9WU19DQVBTVUxFX0FTUEVDVF9SQVRJT19USFJFU0hPTEQpIHtcbiAgICByZXR1cm4gY3JlYXRlQ2Fwc3VsZUZyb21SZW5kZXJhYmxlU2hhcGUocGFyYW1zLCBwaHlzaWNzSm9iKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gY3JlYXRlU3BoZXJlRnJvbVJlbmRlcmFibGVTaGFwZShwYXJhbXMsIHBoeXNpY3NKb2IpO1xuICB9XG59XG5cbmNvbnN0IF9TUEhFUkVfVlNfQ0FQU1VMRV9BU1BFQ1RfUkFUSU9fVEhSRVNIT0xEID0gMjtcblxuY29uc3QgX2NvbGxpZGFibGVDcmVhdG9ycyA9IHtcbiAgJ0NVQkUnOiBjcmVhdGVPYmJGcm9tUmVuZGVyYWJsZVNoYXBlLFxuICAnU1BIRVJFX09SX0NBUFNVTEUnOiBjcmVhdGVTcGhlcmVPckNhcHN1bGVGcm9tUmVuZGVyYWJsZVNoYXBlLFxuICAnU1BIRVJFJzogY3JlYXRlU3BoZXJlRnJvbVJlbmRlcmFibGVTaGFwZSxcbiAgJ0NBUFNVTEUnOiBjcmVhdGVDYXBzdWxlRnJvbVJlbmRlcmFibGVTaGFwZSxcbn07XG5cbmV4cG9ydCB7XG4gIGNyZWF0ZUNhcHN1bGVGcm9tUmVuZGVyYWJsZVNoYXBlLFxuICBjcmVhdGVDb2xsaWRhYmxlRnJvbVJlbmRlcmFibGVTaGFwZSxcbiAgY3JlYXRlT2JiRnJvbVJlbmRlcmFibGVTaGFwZSxcbiAgY3JlYXRlU3BoZXJlRnJvbVJlbmRlcmFibGVTaGFwZSxcbiAgY3JlYXRlU3BoZXJlT3JDYXBzdWxlRnJvbVJlbmRlcmFibGVTaGFwZSxcbn07XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gQ29sbGlkYWJsZVNoYXBlQ29uZmlnXG4gKiBAcHJvcGVydHkge3N0cmluZ30gY29sbGlkYWJsZVNoYXBlSWQgVGhlIElEIG9mIHRoZSB0eXBlIG9mIGNvbGxpZGFibGUgc2hhcGUuXG4gKiBAcHJvcGVydHkge3ZlYzN9IFtzY2FsZV1cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2lzU3RhdGlvbmFyeT1mYWxzZV0gV2hldGhlciB0aGUgY29sbGlkYWJsZSBpcyBmaXhlZCBpbiBwbGFjZS5cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtDb2xsaWRhYmxlU2hhcGVDb25maWd9IFNwaGVyaWNhbENvbGxpZGFibGVTaGFwZVBhcmFtc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IHJhZGl1c1xuICovXG5cbi8qKlxuICogQHR5cGVkZWYge1NwaGVyaWNhbENvbGxpZGFibGVTaGFwZVBhcmFtc30gQ2Fwc3VsZUNvbGxpZGFibGVTaGFwZVBhcmFtc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IGNhcHN1bGVFbmRQb2ludHNEaXN0YW5jZSBUaGUgZGlzdGFuY2UgYmV0d2VlbiB0aGUgY2VudGVycyBvZiB0aGUgc3BoZXJlcyBvbiBlaXRoZXIgZW5kXG4gKiBvZiB0aGUgY2Fwc3VsZS5cbiAqL1xuIiwiaW1wb3J0IHtjcmVhdGVDb2xsaWRhYmxlRnJvbVJlbmRlcmFibGVTaGFwZX0gZnJvbSAnLi9jb2xsaWRhYmxlLWZhY3Rvcmllcyc7XG5pbXBvcnQge2NvbGxpZGFibGVTdG9yZX0gZnJvbSAnLi9jb2xsaWRhYmxlLXN0b3JlJztcbmltcG9ydCB7UGh5c2ljc0pvYn0gZnJvbSAnLi4vLi4vc3JjL3BoeXNpY3Mtam9iJztcbmltcG9ydCB7Y3JlYXRlRm9yQ29sbGlkYWJsZX0gZnJvbSAnLi4vLi4vdXRpbCc7XG5cbi8qKlxuICogQSBDb2xsaWRhYmxlUGh5c2ljc0pvYiBleHRlbmRzIHRoZSBzdGFuZGFyZCBQaHlzaWNzSm9iIHdpdGggYSBjb2xsaWRhYmxlIGdlb21ldHJ5LlxuICovXG5jbGFzcyBDb2xsaWRhYmxlUGh5c2ljc0pvYiBleHRlbmRzIFBoeXNpY3NKb2Ige1xuICAvKipcbiAgICogQHBhcmFtIHtDb2xsaWRhYmxlU2hhcGVDb25maWd9IGNvbGxpZGFibGVQYXJhbXNcbiAgICogQHBhcmFtIHtQaHlzaWNzU3RhdGV9IHN0YXRlXG4gICAqIEBwYXJhbSB7QXJyYXkuPEZvcmNlQXBwbGllcj59IGZvcmNlQXBwbGllcnNcbiAgICogQHBhcmFtIHtPYmplY3R9IGNvbnRyb2xsZXJcbiAgICogQHBhcmFtIHtDb2xsaXNpb25IYW5kbGVyfSBjb2xsaXNpb25IYW5kbGVyXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihjb2xsaWRhYmxlUGFyYW1zLCBzdGF0ZSwgZm9yY2VBcHBsaWVycywgY29udHJvbGxlciwgY29sbGlzaW9uSGFuZGxlcikge1xuICAgIHN1cGVyKGZvcmNlQXBwbGllcnMsIHN0YXRlKTtcblxuICAgIGNvbGxpZGFibGVQYXJhbXMuc2NhbGUgPSBjb2xsaWRhYmxlUGFyYW1zLnNjYWxlIHx8IHZlYzMuZnJvbVZhbHVlcygxLCAxLCAxKTtcbiAgICB0aGlzLmNvbGxpZGFibGUgPSBjcmVhdGVDb2xsaWRhYmxlRnJvbVJlbmRlcmFibGVTaGFwZShjb2xsaWRhYmxlUGFyYW1zLCB0aGlzKTtcbiAgICB0aGlzLmN1cnJlbnRTdGF0ZS51bnJvdGF0ZWRJbmVydGlhVGVuc29yID1cbiAgICAgICAgY3JlYXRlRm9yQ29sbGlkYWJsZSh0aGlzLmNvbGxpZGFibGUsIHRoaXMuY3VycmVudFN0YXRlLm1hc3MpO1xuICAgIHRoaXMuY3VycmVudFN0YXRlLnVwZGF0ZURlcGVuZGVudEZpZWxkcygpO1xuICAgIHRoaXMuaXNBdFJlc3QgPSBmYWxzZTtcbiAgICB0aGlzLmNvbnRyb2xsZXIgPSBjb250cm9sbGVyO1xuICAgIHRoaXMuX2NvbGxpc2lvbkhhbmRsZXIgPSBjb2xsaXNpb25IYW5kbGVyO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7Rm9yY2VBcHBsaWVyfSBmb3JjZUFwcGxpZXJcbiAgICovXG4gIGFkZEZvcmNlQXBwbGllcihmb3JjZUFwcGxpZXIpIHtcbiAgICBzdXBlci5hZGRGb3JjZUFwcGxpZXIoZm9yY2VBcHBsaWVyKTtcbiAgICB0aGlzLmlzQXRSZXN0ID0gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtGb3JjZUFwcGxpZXJ9IGZvcmNlQXBwbGllclxuICAgKi9cbiAgcmVtb3ZlRm9yY2VBcHBsaWVyKGZvcmNlQXBwbGllcikge1xuICAgIHN1cGVyLnJlbW92ZUZvcmNlQXBwbGllcihmb3JjZUFwcGxpZXIpO1xuICAgIHRoaXMuaXNBdFJlc3QgPSBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIGNhbGxiYWNrIGlzIHRyaWdnZXJlZCBpbiByZXNwb25zZSB0byBhIGNvbGxpc2lvbi5cbiAgICpcbiAgICogQHBhcmFtIHtDb2xsaXNpb259IGNvbGxpc2lvblxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGlzIG5lZWRzIHRoZSBzdGFuZGFyZCBjb2xsaXNpb24gcmVzdGl0dXRpb24gdG8gcHJvY2VlZC5cbiAgICovXG4gIGhhbmRsZUNvbGxpc2lvbihjb2xsaXNpb24pIHtcbiAgICByZXR1cm4gdGhpcy5fY29sbGlzaW9uSGFuZGxlcihjb2xsaXNpb24pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnRUaW1lXVxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0KHN0YXJ0VGltZSkge1xuICAgIHN1cGVyLnN0YXJ0KHN0YXJ0VGltZSk7XG4gICAgY29sbGlkYWJsZVN0b3JlLnJlZ2lzdGVyQ29sbGlkYWJsZSh0aGlzLmNvbGxpZGFibGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZmluaXNoKCkge1xuICAgIHN1cGVyLmZpbmlzaCgpO1xuICAgIGNvbGxpZGFibGVTdG9yZS51bnJlZ2lzdGVyQ29sbGlkYWJsZSh0aGlzLmNvbGxpZGFibGUpO1xuICB9XG5cbiAgLyoqIEByZXR1cm5zIHt2ZWMzfSAqL1xuICBnZXQgcG9zaXRpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuY3VycmVudFN0YXRlLnBvc2l0aW9uO1xuICB9XG5cbiAgLyoqIEBwYXJhbSB7dmVjM30gdmFsdWUgKi9cbiAgc2V0IHBvc2l0aW9uKHZhbHVlKSB7XG4gICAgdGhpcy5jdXJyZW50U3RhdGUucG9zaXRpb24gPSB2ZWMzLmNsb25lKHZhbHVlKTtcbiAgICB0aGlzLmNvbGxpZGFibGUucG9zaXRpb24gPSB2ZWMzLmNsb25lKHZhbHVlKTtcbiAgfVxufVxuXG5leHBvcnQge0NvbGxpZGFibGVQaHlzaWNzSm9ifTtcblxuLyoqXG4gKiBAdHlwZWRlZiB7RnVuY3Rpb259IENvbGxpc2lvbkhhbmRsZXJcbiAqIEBwYXJhbSB7Q29sbGlzaW9ufSBjb2xsaXNpb25cbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoaXMgbmVlZHMgdGhlIHN0YW5kYXJkIGNvbGxpc2lvbiByZXN0aXR1dGlvbiB0byBwcm9jZWVkLlxuICovXG4iLCJpbXBvcnQge2RldGVjdEJvdW5kaW5nVm9sdW1lSW50ZXJzZWN0aW9ufSBmcm9tICcuL2NvbGxpc2lvbi11dGlscyc7XG5cbi8vIFRPRE86IEltcGxlbWVudCBzb21lIGZvcm0gb2YgYm91bmRpbmcgdm9sdW1lIGhpZXJhcmNoeSB0byBtYWtlIHNlYXJjaGluZyBmb3IgcG90ZW50aWFsIGNvbGxpc2lvbnNcbi8vIG1vcmUgZWZmaWNpZW50LlxuXG4vKipcbiAqIFRoaXMgY2xhc3MgcmVnaXN0ZXJzIGFuZCByZXRyaWV2ZXMgYWxsIENvbGxpZGFibGVzIHdpdGhpbiBhIHNjZW5lLlxuICovXG5jbGFzcyBDb2xsaWRhYmxlU3RvcmUge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLl9jb2xsaWRhYmxlcyA9IFtdO1xuICB9XG5cbiAgLyoqXG4gICAqIENhY2hlcyB0aGUgZ2l2ZW4gcHJvZ3JhbSB3cmFwcGVyLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBpcyBpZGVtcG90ZW50OyBhIGdpdmVuIHByb2dyYW0gd2lsbCBvbmx5IGJlIGNhY2hlZCBvbmNlLlxuICAgKlxuICAgKiBAcGFyYW0ge0NvbGxpZGFibGV9IGNvbGxpZGFibGVcbiAgICovXG4gIHJlZ2lzdGVyQ29sbGlkYWJsZShjb2xsaWRhYmxlKSB7XG4gICAgdGhpcy5fY29sbGlkYWJsZXMucHVzaChjb2xsaWRhYmxlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0NvbGxpZGFibGV9IGNvbGxpZGFibGVcbiAgICovXG4gIHVucmVnaXN0ZXJDb2xsaWRhYmxlKGNvbGxpZGFibGUpIHtcbiAgICBjb25zdCBpbmRleCA9IHRoaXMuX2NvbGxpZGFibGVzLmluZGV4T2YoY29sbGlkYWJsZSk7XG4gICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgIHRoaXMuX2NvbGxpZGFibGVzLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7Q29sbGlkYWJsZX0gY29sbGlkYWJsZVxuICAgKiBAcmV0dXJucyB7QXJyYXkuPENvbGxpZGFibGU+fVxuICAgKi9cbiAgZ2V0UG9zc2libGVDb2xsaXNpb25zRm9yQ29sbGlkYWJsZShjb2xsaWRhYmxlKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NvbGxpZGFibGVzLmZpbHRlcihvdGhlciA9PlxuICAgICAgY29sbGlkYWJsZSAhPT0gb3RoZXIgJiZcbiAgICAgIGRldGVjdEJvdW5kaW5nVm9sdW1lSW50ZXJzZWN0aW9uKGNvbGxpZGFibGUsIG90aGVyKSk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge0FycmF5LjxDb2xsaXNpb24+fVxuICAgKi9cbiAgZ2V0UG9zc2libGVDb2xsaXNpb25zRm9yQWxsQ29sbGlkYWJsZXMoKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgZm9yIChsZXQgaSA9IDAsIGNvdW50ID0gdGhpcy5fY29sbGlkYWJsZXMubGVuZ3RoOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgY29uc3QgY29sbGlkYWJsZUEgPSB0aGlzLl9jb2xsaWRhYmxlc1tpXTtcbiAgICAgIGZvciAobGV0IGogPSBpICsgMTsgaiA8IGNvdW50OyBqKyspIHtcbiAgICAgICAgY29uc3QgY29sbGlkYWJsZUIgPSB0aGlzLl9jb2xsaWRhYmxlc1tqXTtcbiAgICAgICAgaWYgKGRldGVjdEJvdW5kaW5nVm9sdW1lSW50ZXJzZWN0aW9uKGNvbGxpZGFibGVBLCBjb2xsaWRhYmxlQikpIHtcbiAgICAgICAgICByZXN1bHQucHVzaCh7Y29sbGlkYWJsZUE6IGNvbGxpZGFibGVBLCBjb2xsaWRhYmxlQjogY29sbGlkYWJsZUJ9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAqL1xuICBmb3JFYWNoKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5fY29sbGlkYWJsZXMuZm9yRWFjaChjYWxsYmFjayk7XG4gIH1cbn1cblxuY29uc3QgY29sbGlkYWJsZVN0b3JlID0gbmV3IENvbGxpZGFibGVTdG9yZSgpO1xuZXhwb3J0IHtjb2xsaWRhYmxlU3RvcmV9O1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IENvbGxpc2lvblxuICogQHByb3BlcnR5IHtDb2xsaWRhYmxlfSBjb2xsaWRhYmxlQVxuICogQHByb3BlcnR5IHtDb2xsaWRhYmxlfSBjb2xsaWRhYmxlQlxuICogQHByb3BlcnR5IHt2ZWMzfSBbY29udGFjdFBvaW50XSBJbiB3b3JsZCBjb29yZGluYXRlcy5cbiAqIEBwcm9wZXJ0eSB7dmVjM30gW2NvbnRhY3ROb3JtYWxdIFBvaW50cyBhd2F5IGZyb20gYm9keSBBIGFuZCB0b3dhcmQgYm9keSBCLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0aW1lXVxuICovXG4iLCJpbXBvcnQge1xuICBhcmVWZWMzc0Nsb3NlLFxuICB0bXBWZWMxLFxuICB0bXBWZWMyLFxuICB0bXBWZWMzLFxuICB0bXBWZWM0LFxufSBmcm9tICcuLi8uLi91dGlsJztcblxuaW1wb3J0IHtjb2xsaWRhYmxlU3RvcmV9IGZyb20gJy4vY29sbGlkYWJsZS1zdG9yZSc7XG5pbXBvcnQge2RldGVjdEludGVyc2VjdGlvbiwgY2FsY3VsYXRlQ29udGFjdH0gZnJvbSAnLi9jb2xsaXNpb24tdXRpbHMnO1xuXG4vKipcbiAqIFRoaXMgbW9kdWxlIGRlZmluZXMgYSBjb2xsaXNpb24gcGlwZWxpbmUuXG4gKlxuICogVGhlc2UgZnVuY3Rpb25zIHdpbGwgZGV0ZWN0IGNvbGxpc2lvbnMgYmV0d2VlbiBjb2xsaWRhYmxlIGJvZGllcyBhbmQgdXBkYXRlIHRoZWlyIG1vbWVudGEgaW5cbiAqIHJlc3BvbnNlIHRvIHRoZSBjb2xsaXNpb25zLlxuICpcbiAqIC0gQ29uc2lzdHMgb2YgYW4gZWZmaWNpZW50IGJyb2FkLXBoYXNlIGNvbGxpc2lvbiBkZXRlY3Rpb24gc3RlcCBmb2xsb3dlZCBieSBhIHByZWNpc2VcbiAqICAgbmFycm93LXBoYXNlIHN0ZXAuXG4gKiAtIENhbGN1bGF0ZXMgdGhlIHBvc2l0aW9uLCBzdXJmYWNlIG5vcm1hbCwgYW5kIHRpbWUgb2YgZWFjaCBjb250YWN0LlxuICogLSBDYWxjdWxhdGVzIHRoZSBpbXB1bHNlIG9mIGEgY29sbGlzaW9uIGFuZCB1cGRhdGVzIHRoZSBib2RpZXMnIGxpbmVhciBhbmQgYW5ndWxhciBtb21lbnRhIGluXG4gKiAgIHJlc3BvbnNlLlxuICogLSBBcHBsaWVzIENvdWxvbWIgZnJpY3Rpb24gdG8gY29sbGlkaW5nIGJvZGllcy5cbiAqIC0gU3ViLWRpdmlkZXMgdGhlIHRpbWUgc3RlcCB0byBtb3JlIHByZWNpc2VseSBkZXRlcm1pbmUgd2hlbiBhbmQgd2hlcmUgYSBjb2xsaXNpb24gb2NjdXJzLlxuICogLSBTdXBwb3J0cyBtdWx0aXBsZSBjb2xsaXNpb25zIHdpdGggYSBzaW5nbGUgYm9keSBpbiBhIHNpbmdsZSB0aW1lIHN0ZXAuXG4gKiAtIEVmZmljaWVudGx5IHN1cHBvcnRzIGJvZGllcyBjb21pbmcgdG8gcmVzdCBhZ2FpbnN0IGVhY2ggb3RoZXIuXG4gKiAtIEJvZGllcyB3aWxsIG5ldmVyIHBlbmV0cmF0ZSBvbmUgYW5vdGhlci5cbiAqIC0gVGhpcyBkb2VzIG5vdCBhZGRyZXNzIHRoZSB0dW5uZWxsaW5nIHByb2JsZW0uIFRoYXQgaXMsIGl0IGlzIHBvc3NpYmxlIGZvciB0d28gZmFzdC1tb3ZpbmdcbiAqICAgYm9kaWVzIHRvIHBhc3MgdGhyb3VnaCBlYWNoIG90aGVyIGFzIGxvbmcgYXMgdGhleSBkaWQgbm90IGludGVyc2VjdCBlYWNoIG90aGVyIGR1cmluZyBhbnkgdGltZVxuICogICBzdGVwLlxuICogLSBUaGlzIG9ubHkgc3VwcG9ydHMgY29sbGlzaW9ucyBiZXR3ZWVuIGNlcnRhaW4gdHlwZXMgb2Ygc2hhcGVzLiBGb3J0dW5hdGVseSwgdGhpcyBzZXQgcHJvdmlkZXNcbiAqICAgcmVhc29uYWJsZSBhcHByb3hpbWF0aW9ucyBmb3IgbW9zdCBvdGhlciBzaGFwZXMuIFRoZSBzdXBwb3J0ZWQgdHlwZXMgb2Ygc2hhcGVzIGFyZTogc3BoZXJlcyxcbiAqICAgY2Fwc3VsZXMsIEFBQkJzLCBhbmQgT0JCcy5cbiAqXG4gKiAjIyBPYmplY3RzIHRoYXQgY29tZSB0byByZXN0XG4gKlxuICogQW4gaW1wb3J0YW50IGVmZmljaWVuY3kgaW1wcm92ZW1lbnQgaXMgdG8gbm90IHByb2Nlc3Mgb2JqZWN0cyB0aHJvdWdoIHRoZSBwaHlzaWNzIGVuZ2luZSBwaXBlbGluZVxuICogYWZ0ZXIgdGhleSBoYXZlIGNvbWUgdG8gcmVzdC4gVGhlIGlzQXRSZXN0IGZpZWxkIGluZGljYXRlcyB3aGVuIGEgYm9keSBoYXMgY29tZSB0byByZXN0LlxuICpcbiAqIGlzQXRSZXN0IGlzIHNldCB0byB0cnVlIGFmdGVyIGEgcGh5c2ljcyBmcmFtZSBpcyBmaW5pc2hlZCBpZiB0aGUgY29sbGlzaW9ucywgZm9yY2VzLCBwb3NpdGlvbixcbiAqIGFuZCBvcmllbnRhdGlvbiBvZiBhIGpvYiBoYXZlIG5vdCBjaGFuZ2VkIGZyb20gdGhlIHByZXZpb3VzIHRvIHRoZSBjdXJyZW50IHN0YXRlLlxuICpcbiAqIGlzQXRSZXN0IGlzIHNldCB0byBmYWxzZSBmcm9tIHR3byBwb3NzaWJsZSBldmVudHM6IGFmdGVyIGEgcGh5c2ljcyBmcmFtZSBpcyBmaW5pc2hlZCBpZiB0aGVcbiAqIGNvbGxpc2lvbnMgaGF2ZSBjaGFuZ2VkIGZyb20gdGhlIHByZXZpb3VzIHRvIHRoZSBjdXJyZW50IHN0YXRlLCBvciB3aGVuIGEgZm9yY2UgaXMgYWRkZWQgdG9cbiAqIHJlbW92ZWQgZnJvbSB0aGUgam9iLlxuICpcbiAqICMjIENvbGxpc2lvbiBjYWxjdWxhdGlvbnMgZG8gbm90IGNvbnNpZGVyIHZlbG9jaXR5XG4gKlxuICogQ29sbGlzaW9uIGRldGVjdGlvbiB3b3JrcyBieSB3YWl0aW5nIHVudGlsIHR3byBib2RpZXMgaW50ZXJzZWN0LiBIb3dldmVyLCBiZWNhdXNlIHRpbWUgZnJhbWVzIGFyZVxuICogbm90IGluZmluaXRlbHkgc21hbGwsIHdoZW4gYW4gaW50ZXJzZWN0aW9uIGlzIGRldGVjdGVkLCBpdCdzIGFscmVhZHkgcGFzdCB0aGUgZXhhY3QgaW5zdGFuY2Ugb2ZcbiAqIGNvbGxpc2lvbi4gVG8gYWxsZXZpYXRlIHByb2JsZW1zIGZyb20gdGhpcywgdGhlIHZlbG9jaXR5IG9mIGVhY2ggYm9keSBjYW4gYmUgY29uc2lkZXJlZCB3aGVuXG4gKiBjYWxjdWxhdGluZyB0aGUgY29sbGlzaW9uIHRpbWUsIHBvc2l0aW9uLCBhbmQgY29udGFjdCBub3JtYWwuIEhvd2V2ZXIsIHRha2luZyB2ZWxvY2l0eSBpbnRvXG4gKiBhY2NvdW50IG1ha2VzIHRoZSBjb250YWN0IGNhbGN1bGF0aW9ucyBtdWNoIG1vcmUgY29tcGxleCwgc28gd2UgZG8gbm90IGNvbnNpZGVyIHZlbG9jaXR5IGluIG91clxuICogY2FsY3VsYXRpb25zLlxuICpcbiAqIEEgbm90YWJsZSBjb25zZXF1ZW5jZSBvZiB0aGlzIGlzIHRoYXQgdGhlIGNhbGN1bGF0ZWQgY29udGFjdCBub3JtYWxzIGNhbiBiZSBpbmNvcnJlY3QuIENvbnNpZGVyXG4gKiB0aGUgZm9sbG93aW5nIG1vdmluZyBzcXVhcmVzLiBBdCB0aW1lIHQyIHRoZXkgYXJlIGZvdW5kIHRvIGhhdmUgY29sbGlkZWQuIFRoZSBjYWxjdWxhdGVkIGNvbnRhY3RcbiAqIHBvaW50IHdpbGwgYmUgc29tZXdoZXJlIHdpdGhpbiB0aGUgaW50ZXJzZWN0aW9uIG9mIHRoZSBjb3JuZXJzLiBCdXQgdGhlIGNhbGN1bGF0ZWQgY29udGFjdCBub3JtYWxcbiAqIHdpbGwgcG9pbnQgdXB3YXJkcywgd2hpbGUgdGhlIHRydWUgY29udGFjdCBub3JtYWwgc2hvdWxkIHBvaW50IHRvIHRoZSByaWdodC4gVGhpcyBpcyBiZWNhdXNlIHRoZVxuICogY29udGFjdCBjYWxjdWxhdGlvbnMgZG8gbm90IGNvbnNpZGVyIHZlbG9jaXR5IGFuZCBpbnN0ZWFkIG9ubHkgY29uc2lkZXIgdGhlIHNoYWxsb3dlc3QgZGlyZWN0aW9uXG4gKiBvZiBvdmVybGFwLlxuICpcbiAqIC8vIFRpbWUgdDFcbiAqICAgICAgICAgICAgICAgICAgICArLS0tLS0tLS0tLS0tK1xuICogICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICB8XG4gKiAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgIHxcbiAqICAgICAgICAgICAgICAgIDwtLSB8ICAgICAgQiAgICAgfFxuICogICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICB8XG4gKiAgKy0tLS0tLS0tLS0tLSsgICAgfCAgICAgICAgICAgIHxcbiAqICB8ICAgICAgICAgICAgfCAgICArLS0tLS0tLS0tLS0tK1xuICogIHwgICAgICAgICAgICB8XG4gKiAgfCAgICAgIEEgICAgIHwgLS0+XG4gKiAgfCAgICAgICAgICAgIHxcbiAqICB8ICAgICAgICAgICAgfFxuICogICstLS0tLS0tLS0tLS0rXG4gKlxuICogLy8gVGltZSB0MlxuICogICAgICAgICArLS0tLS0tLS0tLS0tK1xuICogICAgICAgICB8ICAgICAgICAgICAgfFxuICogICAgICAgICB8ICAgICAgICAgICAgfFxuICogICAgICAgICB8ICAgICAgQiAgICAgfFxuICogICAgICAgICB8ICAgICAgICAgICAgfFxuICogICstLS0tLS0tLS0tLS0rICAgICAgfFxuICogIHwgICAgICArLS0tLS18LS0tLS0tK1xuICogIHwgICAgICAgICAgICB8XG4gKiAgfCAgICAgIEEgICAgIHxcbiAqICB8ICAgICAgICAgICAgfFxuICogIHwgICAgICAgICAgICB8XG4gKiAgKy0tLS0tLS0tLS0tLStcbiAqL1xuXG4vKipcbiAqIERldGVjdCBhbmQgaGFuZGxlIGFueSBjb2xsaXNpb25zIGJldHdlZW4gYSBnaXZlbiBqb2IgYW5kIGFsbCBvdGhlciBjb2xsaWRhYmxlIGJvZGllcy5cbiAqXG4gKiBAcGFyYW0ge0NvbGxpZGFibGVQaHlzaWNzSm9ifSBqb2JcbiAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gZWxhcHNlZFRpbWVcbiAqIEBwYXJhbSB7UGh5c2ljc0NvbmZpZ30gcGh5c2ljc1BhcmFtc1xuICovXG5mdW5jdGlvbiBoYW5kbGVDb2xsaXNpb25zRm9ySm9iKGpvYiwgZWxhcHNlZFRpbWUsIHBoeXNpY3NQYXJhbXMpIHtcbiAgY29uc3QgY29sbGlkYWJsZSA9IGpvYi5jb2xsaWRhYmxlO1xuXG4gIC8vIENsZWFyIGFueSBwcmV2aW91cyBjb2xsaXNpb24gaW5mby5cbiAgY29sbGlkYWJsZS5wcmV2aW91c0NvbGxpc2lvbnMgPSBjb2xsaWRhYmxlLmNvbGxpc2lvbnM7XG4gIGNvbGxpZGFibGUuY29sbGlzaW9ucyA9IFtdO1xuXG4gIC8vIEZpbmQgYWxsIGNvbGxpZGluZyBjb2xsaWRhYmxlcy5cbiAgY29uc3QgY29sbGlkaW5nQ29sbGlkYWJsZXMgPSBmaW5kSW50ZXJzZWN0aW5nQ29sbGlkYWJsZXNGb3JDb2xsaWRhYmxlKGNvbGxpZGFibGUpO1xuXG4gIC8vIFN0b3JlIHRoZSB0aW1lIG9mIGNvbGxpc2lvbiBmb3IgZWFjaCBjb2xsaXNpb24uXG4gIGNvbnN0IGNvbGxpc2lvbnMgPSBfcmVjb3JkQ29sbGlzaW9ucyhjb2xsaWRhYmxlLCBjb2xsaWRpbmdDb2xsaWRhYmxlcywgZWxhcHNlZFRpbWUpO1xuXG4gIC8vIENhbGN1bGF0ZSB0aGUgcG9pbnRzIG9mIGNvbnRhY3QgZm9yIGVhY2ggY29sbGlzaW9uLlxuICBfY2FsY3VsYXRlUG9pbnRzT2ZDb250YWN0KGNvbGxpc2lvbnMpO1xuXG4gIC8vIENvbGxpc2lvbiByZXNvbHV0aW9uLlxuICBfcmVzb2x2ZUNvbGxpc2lvbnMoY29sbGlzaW9ucywgcGh5c2ljc1BhcmFtcyk7XG59XG5cbi8qKlxuICogRmluZHMgYWxsIG90aGVyIGNvbGxpZGFibGVzIHRoYXQgaW50ZXJzZWN0IHdpdGggdGhlIGdpdmVuIGNvbGxpZGFibGUuXG4gKlxuICogQHBhcmFtIHtDb2xsaWRhYmxlfSBjb2xsaWRhYmxlXG4gKiBAcmV0dXJucyB7QXJyYXkuPENvbGxpZGFibGU+fVxuICovXG5mdW5jdGlvbiBmaW5kSW50ZXJzZWN0aW5nQ29sbGlkYWJsZXNGb3JDb2xsaWRhYmxlKGNvbGxpZGFibGUpIHtcbiAgLy8gQnJvYWQtcGhhc2UgY29sbGlzaW9uIGRldGVjdGlvbiAocGFpcnMgd2hvc2UgYm91bmRpbmcgdm9sdW1lcyBpbnRlcnNlY3QpLlxuICBjb25zdCBjb2xsaWRpbmdDb2xsaWRhYmxlcyA9IGNvbGxpZGFibGVTdG9yZS5nZXRQb3NzaWJsZUNvbGxpc2lvbnNGb3JDb2xsaWRhYmxlKGNvbGxpZGFibGUpO1xuXG4gIC8vIE5hcnJvdy1waGFzZSBjb2xsaXNpb24gZGV0ZWN0aW9uIChwYWlycyB0aGF0IGFjdHVhbGx5IGludGVyc2VjdCkuXG4gIHJldHVybiBfZGV0ZWN0UHJlY2lzZUNvbGxpc2lvbnNGcm9tQ29sbGlkaW5nQ29sbGlkYWJsZXMoY29sbGlkYWJsZSwgY29sbGlkaW5nQ29sbGlkYWJsZXMpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXkuPENvbGxpZGFibGVQaHlzaWNzSm9iPn0gam9ic1xuICovXG5mdW5jdGlvbiBkZXRlcm1pbmVKb2JzQXRSZXN0KGpvYnMpIHtcbiAgam9icy5mb3JFYWNoKGpvYiA9PiBqb2IuaXNBdFJlc3QgPSBfaXNKb2JBdFJlc3Qoam9iKSk7XG59XG5cbmZ1bmN0aW9uIHJlY29yZE9sZENvbGxpc2lvbnNGb3JEZXZNb2RlRm9yQWxsQ29sbGlkYWJsZXMoKSB7XG4gIGNvbGxpZGFibGVTdG9yZS5mb3JFYWNoKF9yZWNvcmRPbGRDb2xsaXNpb25zRm9yRGV2TW9kZUZvckNvbGxpZGFibGUpO1xufVxuXG4vKipcbiAqIExvZ3MgYSB3YXJuaW5nIG1lc3NhZ2UgZm9yIGFueSBwYWlyIG9mIG9iamVjdHMgdGhhdCBpbnRlcnNlY3QuXG4gKi9cbmZ1bmN0aW9uIGNoZWNrVGhhdE5vT2JqZWN0c0NvbGxpZGUoKSB7XG4gIC8vIEJyb2FkLXBoYXNlIGNvbGxpc2lvbiBkZXRlY3Rpb24gKHBhaXJzIHdob3NlIGJvdW5kaW5nIHZvbHVtZXMgaW50ZXJzZWN0KS5cbiAgbGV0IGNvbGxpc2lvbnMgPSBjb2xsaWRhYmxlU3RvcmUuZ2V0UG9zc2libGVDb2xsaXNpb25zRm9yQWxsQ29sbGlkYWJsZXMoKTtcblxuICAvLyBOYXJyb3ctcGhhc2UgY29sbGlzaW9uIGRldGVjdGlvbiAocGFpcnMgdGhhdCBhY3R1YWxseSBpbnRlcnNlY3QpLlxuICBjb2xsaXNpb25zID0gX2RldGVjdFByZWNpc2VDb2xsaXNpb25zRnJvbUNvbGxpc2lvbnMoY29sbGlzaW9ucyk7XG5cbiAgY29sbGlzaW9ucy5mb3JFYWNoKGNvbGxpc2lvbiA9PiB7XG4gICAgY29uc29sZS53YXJuKCdPYmplY3RzIHN0aWxsIGludGVyc2VjdCBhZnRlciBjb2xsaXNpb24gcmVzb2x1dGlvbicsIGNvbGxpc2lvbik7XG4gIH0pO1xufVxuXG4vKipcbiAqIENyZWF0ZSBjb2xsaXNpb24gb2JqZWN0cyB0aGF0IHJlY29yZCB0aGUgdGltZSBvZiBjb2xsaXNpb24gYW5kIHRoZSBjb2xsaWRhYmxlcyBpbiB0aGUgY29sbGlzaW9uLlxuICpcbiAqIEFsc28gcmVjb3JkIHJlZmVyZW5jZXMgdG8gdGhlc2UgY29sbGlzaW9ucyBvbiB0aGUgY29sbGlkYWJsZXMuXG4gKlxuICogQHBhcmFtIHtDb2xsaWRhYmxlfSBjb2xsaWRhYmxlXG4gKiBAcGFyYW0ge0FycmF5LjxDb2xsaWRhYmxlPn0gY29sbGlkaW5nQ29sbGlkYWJsZXNcbiAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gZWxhcHNlZFRpbWVcbiAqIEByZXR1cm5zIHtBcnJheS48Q29sbGlzaW9uPn1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIF9yZWNvcmRDb2xsaXNpb25zKGNvbGxpZGFibGUsIGNvbGxpZGluZ0NvbGxpZGFibGVzLCBlbGFwc2VkVGltZSkge1xuICByZXR1cm4gY29sbGlkaW5nQ29sbGlkYWJsZXMubWFwKG90aGVyID0+IHtcbiAgICBjb25zdCBjb2xsaXNpb24gPSB7XG4gICAgICBjb2xsaWRhYmxlQTogY29sbGlkYWJsZSxcbiAgICAgIGNvbGxpZGFibGVCOiBvdGhlcixcbiAgICAgIHRpbWU6IGVsYXBzZWRUaW1lXG4gICAgfTtcblxuICAgIC8vIFJlY29yZCB0aGUgZmFjdCB0aGF0IHRoZXNlIG9iamVjdHMgY29sbGlkZWQgKHRoZSBNb2RlbENvbnRyb2xsZXIgbWF5IHdhbnQgdG8gaGFuZGxlIHRoaXMpLlxuICAgIGNvbGxpc2lvbi5jb2xsaWRhYmxlQS5jb2xsaXNpb25zLnB1c2goY29sbGlzaW9uKTtcbiAgICBjb2xsaXNpb24uY29sbGlkYWJsZUIuY29sbGlzaW9ucy5wdXNoKGNvbGxpc2lvbik7XG5cbiAgICByZXR1cm4gY29sbGlzaW9uO1xuICB9KTtcbn1cblxuLyoqXG4gKiBOYXJyb3ctcGhhc2UgY29sbGlzaW9uIGRldGVjdGlvbi5cbiAqXG4gKiBHaXZlbiBhIGxpc3Qgb2YgcG9zc2libGUgY29sbGlzaW9uIHBhaXJzLCBmaWx0ZXIgb3V0IHdoaWNoIHBhaXJzIGFyZSBhY3R1YWxseSBjb2xsaWRpbmcuXG4gKlxuICogQHBhcmFtIHtBcnJheS48Q29sbGlzaW9uPn0gY29sbGlzaW9uc1xuICogQHJldHVybnMge0FycmF5LjxDb2xsaXNpb24+fVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX2RldGVjdFByZWNpc2VDb2xsaXNpb25zRnJvbUNvbGxpc2lvbnMoY29sbGlzaW9ucykge1xuICByZXR1cm4gY29sbGlzaW9ucy5maWx0ZXIoY29sbGlzaW9uID0+IHtcbiAgICAvLyBUT0RPOlxuICAgIC8vIC0gVXNlIHRlbXBvcmFsIGJpc2VjdGlvbiB3aXRoIGRpc2NyZXRlIHN1Yi10aW1lIHN0ZXBzIHRvIGZpbmQgdGltZSBvZiBjb2xsaXNpb24gKHVzZVxuICAgIC8vICAgICAgIHgtdnMteS1zcGVjaWZpYyBpbnRlcnNlY3Rpb24gZGV0ZWN0aW9uIG1ldGhvZHMpLlxuICAgIC8vIC0gTWFrZSBzdXJlIHRoZSBjb2xsaXNpb24gb2JqZWN0IGlzIHNldCB1cCB3aXRoIHRoZSBcInByZXZpb3VzU3RhdGVcIiBmcm9tIHRoZSBzdWItc3RlcFxuICAgIC8vICAgYmVmb3JlIGNvbGxpc2lvbiBhbmQgdGhlIHRpbWUgZnJvbSB0aGUgc3ViLXN0ZXAgYWZ0ZXIgY29sbGlzaW9uIChkZXRlcm1pbmVkIGZyb20gdGhlXG4gICAgLy8gICBwcmV2aW91cyB0ZW1wb3JhbCBiaXNlY3Rpb24gc2VhcmNoLi4uKVxuXG4gICAgcmV0dXJuIGRldGVjdEludGVyc2VjdGlvbihjb2xsaXNpb24uY29sbGlkYWJsZUEsIGNvbGxpc2lvbi5jb2xsaWRhYmxlQik7XG4gIH0pO1xufVxuXG4vKipcbiAqIE5hcnJvdy1waGFzZSBjb2xsaXNpb24gZGV0ZWN0aW9uLlxuICpcbiAqIEdpdmVuIGEgbGlzdCBvZiBwb3NzaWJsZSBjb2xsaXNpb24gcGFpcnMsIGZpbHRlciBvdXQgd2hpY2ggcGFpcnMgYXJlIGFjdHVhbGx5IGNvbGxpZGluZy5cbiAqXG4gKiBAcGFyYW0ge0NvbGxpZGFibGV9IGNvbGxpZGFibGVcbiAqIEBwYXJhbSB7QXJyYXkuPENvbGxpZGFibGU+fSBjb2xsaWRpbmdDb2xsaWRhYmxlc1xuICogQHJldHVybnMge0FycmF5LjxDb2xsaWRhYmxlPn1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIF9kZXRlY3RQcmVjaXNlQ29sbGlzaW9uc0Zyb21Db2xsaWRpbmdDb2xsaWRhYmxlcyhjb2xsaWRhYmxlLCBjb2xsaWRpbmdDb2xsaWRhYmxlcykge1xuICByZXR1cm4gY29sbGlkaW5nQ29sbGlkYWJsZXMuZmlsdGVyKG90aGVyID0+IHtcbiAgICAvLyBUT0RPOlxuICAgIC8vIC0gVXNlIHRlbXBvcmFsIGJpc2VjdGlvbiB3aXRoIGRpc2NyZXRlIHN1Yi10aW1lIHN0ZXBzIHRvIGZpbmQgdGltZSBvZiBjb2xsaXNpb24gKHVzZVxuICAgIC8vICAgICAgIHgtdnMteS1zcGVjaWZpYyBpbnRlcnNlY3Rpb24gZGV0ZWN0aW9uIG1ldGhvZHMpLlxuICAgIC8vIC0gTWFrZSBzdXJlIHRoZSBjb2xsaXNpb24gb2JqZWN0IGlzIHNldCB1cCB3aXRoIHRoZSBcInByZXZpb3VzU3RhdGVcIiBmcm9tIHRoZSBzdWItc3RlcFxuICAgIC8vICAgYmVmb3JlIGNvbGxpc2lvbiBhbmQgdGhlIHRpbWUgZnJvbSB0aGUgc3ViLXN0ZXAgYWZ0ZXIgY29sbGlzaW9uIChkZXRlcm1pbmVkIGZyb20gdGhlXG4gICAgLy8gICBwcmV2aW91cyB0ZW1wb3JhbCBiaXNlY3Rpb24gc2VhcmNoLi4uKVxuXG4gICAgcmV0dXJuIGRldGVjdEludGVyc2VjdGlvbihjb2xsaWRhYmxlLCBvdGhlcik7XG4gIH0pO1xufVxuXG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgaW50ZXJzZWN0aW9uIHBvc2l0aW9uIGFuZCBjb250YWN0IG5vcm1hbCBvZiBlYWNoIGNvbGxpc2lvbi5cbiAqXG4gKiBAcGFyYW0ge0FycmF5LjxDb2xsaXNpb24+fSBjb2xsaXNpb25zXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfY2FsY3VsYXRlUG9pbnRzT2ZDb250YWN0KGNvbGxpc2lvbnMpIHtcbiAgY29sbGlzaW9ucy5mb3JFYWNoKGNhbGN1bGF0ZUNvbnRhY3QpO1xufVxuXG4vKipcbiAqIFVwZGF0ZXMgdGhlIGxpbmVhciBhbmQgYW5ndWxhciBtb21lbnRhIG9mIGVhY2ggYm9keSBpbiByZXNwb25zZSB0byBpdHMgY29sbGlzaW9uLlxuICpcbiAqIEBwYXJhbSB7QXJyYXkuPENvbGxpc2lvbj59IGNvbGxpc2lvbnNcbiAqIEBwYXJhbSB7UGh5c2ljc0NvbmZpZ30gcGh5c2ljc1BhcmFtc1xuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX3Jlc29sdmVDb2xsaXNpb25zKGNvbGxpc2lvbnMsIHBoeXNpY3NQYXJhbXMpIHtcbiAgY29sbGlzaW9ucy5mb3JFYWNoKGNvbGxpc2lvbiA9PiB7XG4gICAgLy8gSWYgbmVpdGhlciBwaHlzaWNzIGpvYiBuZWVkcyB0aGUgc3RhbmRhcmQgY29sbGlzaW9uIHJlc3RpdHV0aW9uLCB0aGVuIGRvbid0IGRvIGl0LlxuICAgIGlmIChfbm90aWZ5UGh5c2ljc0pvYnNPZkNvbGxpc2lvbihjb2xsaXNpb24pKSB7XG4gICAgICBpZiAoY29sbGlzaW9uLmNvbGxpZGFibGVBLnBoeXNpY3NKb2IgJiYgY29sbGlzaW9uLmNvbGxpZGFibGVCLnBoeXNpY3NKb2IpIHtcbiAgICAgICAgLy8gTmVpdGhlciBvZiB0aGUgY29sbGlkYWJsZXMgaXMgc3RhdGlvbmFyeS5cbiAgICAgICAgX3Jlc29sdmVDb2xsaXNpb24oY29sbGlzaW9uLCBwaHlzaWNzUGFyYW1zKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIE9uZSBvZiB0aGUgdHdvIGNvbGxpZGFibGVzIGlzIHN0YXRpb25hcnkuXG4gICAgICAgIF9yZXNvbHZlQ29sbGlzaW9uV2l0aFN0YXRpb25hcnlPYmplY3QoY29sbGlzaW9uLCBwaHlzaWNzUGFyYW1zKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Q29sbGlzaW9ufSBjb2xsaXNpb25cbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIG9uZSBvZiB0aGUgUGh5c2ljc0pvYnMgbmVlZCB0aGUgc3RhbmRhcmQgY29sbGlzaW9uIHJlc3RpdHV0aW9uIHRvXG4gKiBwcm9jZWVkLlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX25vdGlmeVBoeXNpY3NKb2JzT2ZDb2xsaXNpb24oY29sbGlzaW9uKSB7XG4gIHJldHVybiBjb2xsaXNpb24uY29sbGlkYWJsZUEucGh5c2ljc0pvYi5oYW5kbGVDb2xsaXNpb24oY29sbGlzaW9uKSB8fFxuICAgICAgY29sbGlzaW9uLmNvbGxpZGFibGVCLnBoeXNpY3NKb2IuaGFuZGxlQ29sbGlzaW9uKGNvbGxpc2lvbilcbn1cblxuLyoqXG4gKiBSZXNvbHZlIGEgY29sbGlzaW9uIGJldHdlZW4gdHdvIG1vdmluZywgcGh5c2ljcy1iYXNlZCBvYmplY3RzLlxuICpcbiAqIFRoaXMgaXMgYmFzZWQgb24gY29sbGlzaW9uLXJlc3BvbnNlIGFsZ29yaXRobXMgZnJvbSBXaWtpcGVkaWFcbiAqIChodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Db2xsaXNpb25fcmVzcG9uc2UjSW1wdWxzZS1iYXNlZF9yZWFjdGlvbl9tb2RlbCkuXG4gKlxuICogQHBhcmFtIHtDb2xsaXNpb259IGNvbGxpc2lvblxuICogQHBhcmFtIHtQaHlzaWNzQ29uZmlnfSBwaHlzaWNzUGFyYW1zXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfcmVzb2x2ZUNvbGxpc2lvbihjb2xsaXNpb24sIHBoeXNpY3NQYXJhbXMpIHtcbiAgY29uc3QgY29sbGlkYWJsZUEgPSBjb2xsaXNpb24uY29sbGlkYWJsZUE7XG4gIGNvbnN0IGNvbGxpZGFibGVCID0gY29sbGlzaW9uLmNvbGxpZGFibGVCO1xuICBjb25zdCBwcmV2aW91c1N0YXRlQSA9IGNvbGxpZGFibGVBLnBoeXNpY3NKb2IucHJldmlvdXNTdGF0ZTtcbiAgY29uc3QgcHJldmlvdXNTdGF0ZUIgPSBjb2xsaWRhYmxlQi5waHlzaWNzSm9iLnByZXZpb3VzU3RhdGU7XG4gIGNvbnN0IG5leHRTdGF0ZUEgPSBjb2xsaWRhYmxlQS5waHlzaWNzSm9iLmN1cnJlbnRTdGF0ZTtcbiAgY29uc3QgbmV4dFN0YXRlQiA9IGNvbGxpZGFibGVCLnBoeXNpY3NKb2IuY3VycmVudFN0YXRlO1xuICBjb25zdCBjZW50ZXJBID0gY29sbGlkYWJsZUEuY2VudGVyT2ZNYXNzO1xuICBjb25zdCBjZW50ZXJCID0gY29sbGlkYWJsZUIuY2VudGVyT2ZNYXNzO1xuICBjb25zdCBjb250YWN0UG9pbnQgPSBjb2xsaXNpb24uY29udGFjdFBvaW50O1xuXG4gIGNvbnN0IGNvbnRhY3RQb2ludE9mZnNldEEgPSB0bXBWZWMzO1xuICB2ZWMzLnN1YnRyYWN0KGNvbnRhY3RQb2ludE9mZnNldEEsIGNvbnRhY3RQb2ludCwgY2VudGVyQSk7XG4gIGNvbnN0IGNvbnRhY3RQb2ludE9mZnNldEIgPSB0bXBWZWM0O1xuICB2ZWMzLnN1YnRyYWN0KGNvbnRhY3RQb2ludE9mZnNldEIsIGNvbnRhY3RQb2ludCwgY2VudGVyQik7XG5cbiAgLy9cbiAgLy8gQ2FsY3VsYXRlIHRoZSByZWxhdGl2ZSB2ZWxvY2l0eSBvZiB0aGUgYm9kaWVzIGF0IHRoZSBwb2ludCBvZiBjb250YWN0LlxuICAvL1xuICAvLyBXZSB1c2UgdGhlIHZlbG9jaXR5IGZyb20gdGhlIHByZXZpb3VzIHN0YXRlLCBzaW5jZSBpdCBpcyB0aGUgdmVsb2NpdHkgdGhhdCBsZWQgdG8gdGhlXG4gIC8vIGNvbGxpc2lvbi5cbiAgLy9cblxuICBjb25zdCB2ZWxvY2l0eUEgPSB0bXBWZWMxO1xuICB2ZWMzLmNyb3NzKHRtcFZlYzEsIHByZXZpb3VzU3RhdGVBLmFuZ3VsYXJWZWxvY2l0eSwgY29udGFjdFBvaW50T2Zmc2V0QSk7XG4gIHZlYzMuYWRkKHZlbG9jaXR5QSwgcHJldmlvdXNTdGF0ZUEudmVsb2NpdHksIHRtcFZlYzEpO1xuXG4gIGNvbnN0IHZlbG9jaXR5QiA9IHRtcFZlYzI7XG4gIHZlYzMuY3Jvc3ModG1wVmVjMiwgcHJldmlvdXNTdGF0ZUIuYW5ndWxhclZlbG9jaXR5LCBjb250YWN0UG9pbnRPZmZzZXRCKTtcbiAgdmVjMy5hZGQodmVsb2NpdHlCLCBwcmV2aW91c1N0YXRlQi52ZWxvY2l0eSwgdG1wVmVjMik7XG5cbiAgY29uc3QgcmVsYXRpdmVWZWxvY2l0eSA9IHZlYzMuY3JlYXRlKCk7XG4gIHZlYzMuc3VidHJhY3QocmVsYXRpdmVWZWxvY2l0eSwgdmVsb2NpdHlCLCB2ZWxvY2l0eUEpO1xuXG4gIGlmICh2ZWMzLmRvdChyZWxhdGl2ZVZlbG9jaXR5LCBjb2xsaXNpb24uY29udGFjdE5vcm1hbCkgPj0gMCkge1xuICAgIC8vIElmIHRoZSByZWxhdGl2ZSB2ZWxvY2l0eSBpcyBub3QgcG9pbnRpbmcgYWdhaW5zdCB0aGUgbm9ybWFsLCB0aGVuIHRoZSBub3JtYWwgd2FzIGNhbGN1bGF0ZWRcbiAgICAvLyBpbmNvcnJlY3RseSAodGhpcyBpcyBsaWtlbHkgZHVlIHRvIHRoZSB0aW1lIHN0ZXAgYmVpbmcgdG9vIGxhcmdlIGFuZCB0aGUgZmFjdCB0aGF0IG91clxuICAgIC8vIGNvbnRhY3QgY2FsY3VsYXRpb25zIGRvbid0IGNvbnNpZGVyIHZlbG9jaXR5KS4gU28gdXBkYXRlIHRoZSBjb250YWN0IG5vcm1hbCB0byBiZSBpbiB0aGVcbiAgICAvLyBkaXJlY3Rpb24gb2YgdGhlIHJlbGF0aXZlIHZlbG9jaXR5LlxuXG4gICAgLy8gVE9ETzogQ2hlY2sgdGhhdCB0aGlzIHdvcmtzIGFzIGV4cGVjdGVkLlxuXG4gICAgLy8gY29uc29sZS53YXJuKCdOb24tY29sbGlzaW9uIGJlY2F1c2Ugb2JqZWN0cyBhcmUgbW92aW5nIGF3YXkgZnJvbSBlYWNoIG90aGVyLicpO1xuXG4gICAgdmVjMy5jb3B5KGNvbGxpc2lvbi5jb250YWN0Tm9ybWFsLCByZWxhdGl2ZVZlbG9jaXR5KTtcbiAgICB2ZWMzLm5vcm1hbGl6ZShjb2xsaXNpb24uY29udGFjdE5vcm1hbCwgY29sbGlzaW9uLmNvbnRhY3ROb3JtYWwpO1xuICAgIHZlYzMubmVnYXRlKGNvbGxpc2lvbi5jb250YWN0Tm9ybWFsLCBjb2xsaXNpb24uY29udGFjdE5vcm1hbCk7XG4gIH1cblxuICBfYXBwbHlJbXB1bHNlRnJvbUNvbGxpc2lvbihjb2xsaXNpb24sIHJlbGF0aXZlVmVsb2NpdHksIGNvbnRhY3RQb2ludE9mZnNldEEsXG4gICAgICBjb250YWN0UG9pbnRPZmZzZXRCLCBwaHlzaWNzUGFyYW1zKTtcblxuICAvLyBOT1RFOiBUaGlzIHN0YXRlIHJldmVyc2lvbiBpcyBvbmx5IGFwcGxpZWQgdG8gY29sbGlkYWJsZUEuIFRoaXMgYXNzdW1lcyB0aGF0IG9ubHkgQSBpcyBtb3ZpbmdcbiAgLy8gZHVyaW5nIHRoaXMgaXRlcmF0aW9uIG9mIHRoZSBjb2xsaXNpb24gcGlwZWxpbmUuXG5cbiAgLy8gUmV2ZXJ0IHRvIHRoZSBwb3NpdGlvbiBhbmQgb3JpZW50YXRpb24gZnJvbSBpbW1lZGlhdGVseSBiZWZvcmUgdGhlIGNvbGxpc2lvbi5cbiAgdmVjMy5jb3B5KG5leHRTdGF0ZUEucG9zaXRpb24sIHByZXZpb3VzU3RhdGVBLnBvc2l0aW9uKTtcbiAgcXVhdC5jb3B5KG5leHRTdGF0ZUEub3JpZW50YXRpb24sIHByZXZpb3VzU3RhdGVBLm9yaWVudGF0aW9uKTtcblxuICAvLyBBbHNvIHJldmVydCB0aGUgY29sbGlkYWJsZXMnIHBvc2l0aW9uIGFuZCBvcmllbnRhdGlvbi5cbiAgY29sbGlkYWJsZUEucG9zaXRpb24gPSBwcmV2aW91c1N0YXRlQS5wb3NpdGlvbjtcbiAgY29sbGlkYWJsZUEub3JpZW50YXRpb24gPSBwcmV2aW91c1N0YXRlQS5vcmllbnRhdGlvbjtcblxuICBuZXh0U3RhdGVBLnVwZGF0ZURlcGVuZGVudEZpZWxkcygpO1xuICBuZXh0U3RhdGVCLnVwZGF0ZURlcGVuZGVudEZpZWxkcygpO1xufVxuXG4vKipcbiAqIFJlc29sdmUgYSBjb2xsaXNpb24gYmV0d2VlbiBvbmUgbW92aW5nLCBwaHlzaWNzLWJhc2VkIG9iamVjdCBhbmQgb25lIHN0YXRpb25hcnkgb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB7Q29sbGlzaW9ufSBjb2xsaXNpb25cbiAqIEBwYXJhbSB7UGh5c2ljc0NvbmZpZ30gcGh5c2ljc1BhcmFtc1xuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX3Jlc29sdmVDb2xsaXNpb25XaXRoU3RhdGlvbmFyeU9iamVjdChjb2xsaXNpb24sIHBoeXNpY3NQYXJhbXMpIHtcbiAgY29uc3QgY29udGFjdE5vcm1hbCA9IGNvbGxpc2lvbi5jb250YWN0Tm9ybWFsO1xuXG4gIGxldCBwaHlzaWNzQ29sbGlkYWJsZTtcbiAgaWYgKGNvbGxpc2lvbi5jb2xsaWRhYmxlQS5waHlzaWNzSm9iKSB7XG4gICAgcGh5c2ljc0NvbGxpZGFibGUgPSBjb2xsaXNpb24uY29sbGlkYWJsZUE7XG4gIH0gZWxzZSB7XG4gICAgcGh5c2ljc0NvbGxpZGFibGUgPSBjb2xsaXNpb24uY29sbGlkYWJsZUI7XG4gICAgdmVjMy5uZWdhdGUoY29udGFjdE5vcm1hbCwgY29udGFjdE5vcm1hbCk7XG4gIH1cblxuICBjb25zdCBwcmV2aW91c1N0YXRlID0gcGh5c2ljc0NvbGxpZGFibGUucGh5c2ljc0pvYi5wcmV2aW91c1N0YXRlO1xuICBjb25zdCBuZXh0U3RhdGUgPSBwaHlzaWNzQ29sbGlkYWJsZS5waHlzaWNzSm9iLmN1cnJlbnRTdGF0ZTtcbiAgY29uc3QgY2VudGVyID0gcGh5c2ljc0NvbGxpZGFibGUuY2VudGVyT2ZNYXNzO1xuICBjb25zdCBjb250YWN0UG9pbnQgPSBjb2xsaXNpb24uY29udGFjdFBvaW50O1xuXG4gIGNvbnN0IGNvbnRhY3RQb2ludE9mZnNldCA9IHRtcFZlYzM7XG4gIHZlYzMuc3VidHJhY3QoY29udGFjdFBvaW50T2Zmc2V0LCBjb250YWN0UG9pbnQsIGNlbnRlcik7XG5cbiAgLy8gQ2FsY3VsYXRlIHRoZSByZWxhdGl2ZSB2ZWxvY2l0eSBvZiB0aGUgYm9kaWVzIGF0IHRoZSBwb2ludCBvZiBjb250YWN0LiBXZSB1c2UgdGhlIHZlbG9jaXR5IGZyb21cbiAgLy8gdGhlIHByZXZpb3VzIHN0YXRlLCBzaW5jZSBpdCBpcyB0aGUgdmVsb2NpdHkgdGhhdCBsZWQgdG8gdGhlIGNvbGxpc2lvbi5cbiAgY29uc3QgdmVsb2NpdHkgPSB2ZWMzLmNyZWF0ZSgpO1xuICB2ZWMzLmNyb3NzKHRtcFZlYzEsIHByZXZpb3VzU3RhdGUuYW5ndWxhclZlbG9jaXR5LCBjb250YWN0UG9pbnRPZmZzZXQpO1xuICB2ZWMzLmFkZCh2ZWxvY2l0eSwgcHJldmlvdXNTdGF0ZS52ZWxvY2l0eSwgdG1wVmVjMSk7XG5cbiAgaWYgKHZlYzMuZG90KHZlbG9jaXR5LCBjb250YWN0Tm9ybWFsKSA8PSAwKSB7XG4gICAgLy8gSWYgdGhlIHJlbGF0aXZlIHZlbG9jaXR5IGlzIG5vdCBwb2ludGluZyBhZ2FpbnN0IHRoZSBub3JtYWwsIHRoZW4gdGhlIG5vcm1hbCB3YXMgY2FsY3VsYXRlZFxuICAgIC8vIGluY29ycmVjdGx5ICh0aGlzIGlzIGxpa2VseSBkdWUgdG8gdGhlIHRpbWUgc3RlcCBiZWluZyB0b28gbGFyZ2UgYW5kIHRoZSBmYWN0IHRoYXQgb3VyXG4gICAgLy8gY29udGFjdCBjYWxjdWxhdGlvbnMgZG9uJ3QgY29uc2lkZXIgdmVsb2NpdHkpLiBTbyB1cGRhdGUgdGhlIGNvbnRhY3Qgbm9ybWFsIHRvIGJlIGluIHRoZVxuICAgIC8vIGRpcmVjdGlvbiBvZiB0aGUgcmVsYXRpdmUgdmVsb2NpdHkuXG5cbiAgICAvLyBUT0RPOiBDaGVjayB0aGF0IHRoaXMgd29ya3MgYXMgZXhwZWN0ZWQuXG5cbiAgICBjb25zb2xlLndhcm4oJ05vbi1jb2xsaXNpb24gYmVjYXVzZSBvYmplY3QgaXMgbW92aW5nIGF3YXkgZnJvbSBzdGF0aW9uYXJ5IG9iamVjdC4nKTtcblxuICAgIHZlYzMuY29weShjb2xsaXNpb24uY29udGFjdE5vcm1hbCwgdmVsb2NpdHkpO1xuICAgIHZlYzMubm9ybWFsaXplKGNvbGxpc2lvbi5jb250YWN0Tm9ybWFsLCBjb2xsaXNpb24uY29udGFjdE5vcm1hbCk7XG4gICAgdmVjMy5uZWdhdGUoY29sbGlzaW9uLmNvbnRhY3ROb3JtYWwsIGNvbGxpc2lvbi5jb250YWN0Tm9ybWFsKTtcbiAgfVxuXG4gIF9hcHBseUltcHVsc2VGcm9tQ29sbGlzaW9uV2l0aFN0YXRpb25hcnlPYmplY3QocGh5c2ljc0NvbGxpZGFibGUsIGNvbGxpc2lvbiwgdmVsb2NpdHksXG4gICAgICBjb250YWN0UG9pbnRPZmZzZXQsIHBoeXNpY3NQYXJhbXMpO1xuXG4gIC8vIFJldmVydCB0byB0aGUgcG9zaXRpb24gYW5kIG9yaWVudGF0aW9uIGZyb20gaW1tZWRpYXRlbHkgYmVmb3JlIHRoZSBjb2xsaXNpb24uXG4gIHZlYzMuY29weShuZXh0U3RhdGUucG9zaXRpb24sIHByZXZpb3VzU3RhdGUucG9zaXRpb24pO1xuICBxdWF0LmNvcHkobmV4dFN0YXRlLm9yaWVudGF0aW9uLCBwcmV2aW91c1N0YXRlLm9yaWVudGF0aW9uKTtcblxuICAvLyBBbHNvIHJldmVydCB0aGUgY29sbGlkYWJsZSdzIHBvc2l0aW9uIGFuZCBvcmllbnRhdGlvbi5cbiAgcGh5c2ljc0NvbGxpZGFibGUucG9zaXRpb24gPSBwcmV2aW91c1N0YXRlLnBvc2l0aW9uO1xuICBwaHlzaWNzQ29sbGlkYWJsZS5vcmllbnRhdGlvbiA9IHByZXZpb3VzU3RhdGUub3JpZW50YXRpb247XG5cbiAgbmV4dFN0YXRlLnVwZGF0ZURlcGVuZGVudEZpZWxkcygpO1xufVxuXG4vKipcbiAqIFRoaXMgaXMgYmFzZWQgb24gY29sbGlzaW9uLXJlc3BvbnNlIGFsZ29yaXRobXMgZnJvbSBXaWtpcGVkaWFcbiAqIChodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Db2xsaXNpb25fcmVzcG9uc2UjSW1wdWxzZS1iYXNlZF9yZWFjdGlvbl9tb2RlbCkuIFRoaXMgYWxnb3JpdGhtXG4gKiBoYXMgYmVlbiBzaW1wbGlmaWVkIGJ5IGFzc3VtaW5nIHRoZSBzdGF0aW9uYXJ5IGJvZHkgaGFzIGluZmluaXRlIG1hc3MgYW5kIHplcm8gdmVsb2NpdHkuXG4gKlxuICogQHBhcmFtIHtDb2xsaXNpb259IGNvbGxpc2lvblxuICogQHBhcmFtIHt2ZWMzfSByZWxhdGl2ZVZlbG9jaXR5XG4gKiBAcGFyYW0ge3ZlYzN9IGNvbnRhY3RQb2ludE9mZnNldEFcbiAqIEBwYXJhbSB7dmVjM30gY29udGFjdFBvaW50T2Zmc2V0QlxuICogQHBhcmFtIHtQaHlzaWNzQ29uZmlnfSBwaHlzaWNzUGFyYW1zXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfYXBwbHlJbXB1bHNlRnJvbUNvbGxpc2lvbihjb2xsaXNpb24sIHJlbGF0aXZlVmVsb2NpdHksIGNvbnRhY3RQb2ludE9mZnNldEEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250YWN0UG9pbnRPZmZzZXRCLCBwaHlzaWNzUGFyYW1zKSB7XG4gIGNvbnN0IGNvbGxpZGFibGVBID0gY29sbGlzaW9uLmNvbGxpZGFibGVBO1xuICBjb25zdCBjb2xsaWRhYmxlQiA9IGNvbGxpc2lvbi5jb2xsaWRhYmxlQjtcblxuICBjb25zdCBzdGF0ZUEgPSBjb2xsaWRhYmxlQS5waHlzaWNzSm9iLmN1cnJlbnRTdGF0ZTtcbiAgY29uc3Qgc3RhdGVCID0gY29sbGlkYWJsZUIucGh5c2ljc0pvYi5jdXJyZW50U3RhdGU7XG5cbiAgY29uc3QgY29udGFjdE5vcm1hbCA9IGNvbGxpc2lvbi5jb250YWN0Tm9ybWFsO1xuXG4gIC8vXG4gIC8vIENhbGN1bGF0ZSBhbmQgYXBwbHkgdGhlIG1haW4gY29sbGlzaW9uIGltcHVsc2UuXG4gIC8vXG5cbiAgdmVjMy5zY2FsZSh0bXBWZWMxLCByZWxhdGl2ZVZlbG9jaXR5LCAtKDEgKyBwaHlzaWNzUGFyYW1zLmNvZWZmaWNpZW50T2ZSZXN0aXR1dGlvbikpO1xuICBjb25zdCBudW1lcmF0b3IgPSB2ZWMzLmRvdCh0bXBWZWMxLCBjb250YWN0Tm9ybWFsKTtcblxuICB2ZWMzLmNyb3NzKHRtcFZlYzEsIGNvbnRhY3RQb2ludE9mZnNldEEsIGNvbnRhY3ROb3JtYWwpO1xuICB2ZWMzLnRyYW5zZm9ybU1hdDModG1wVmVjMSwgdG1wVmVjMSwgc3RhdGVBLmludmVyc2VJbmVydGlhVGVuc29yKTtcbiAgdmVjMy5jcm9zcyh0bXBWZWMxLCB0bXBWZWMxLCBjb250YWN0UG9pbnRPZmZzZXRBKTtcblxuICB2ZWMzLmNyb3NzKHRtcFZlYzIsIGNvbnRhY3RQb2ludE9mZnNldEIsIGNvbnRhY3ROb3JtYWwpO1xuICB2ZWMzLnRyYW5zZm9ybU1hdDModG1wVmVjMiwgdG1wVmVjMiwgc3RhdGVCLmludmVyc2VJbmVydGlhVGVuc29yKTtcbiAgdmVjMy5jcm9zcyh0bXBWZWMyLCB0bXBWZWMyLCBjb250YWN0UG9pbnRPZmZzZXRCKTtcblxuICB2ZWMzLmFkZCh0bXBWZWMxLCB0bXBWZWMxLCB0bXBWZWMyKTtcbiAgY29uc3QgZGVub21pbmF0b3IgPSB2ZWMzLmRvdCh0bXBWZWMxLCBjb250YWN0Tm9ybWFsKSArIHN0YXRlQS5pbnZlcnNlTWFzcyArIHN0YXRlQi5pbnZlcnNlTWFzcztcblxuICBjb25zdCBpbXB1bHNlTWFnbml0dWRlID0gbnVtZXJhdG9yIC8gZGVub21pbmF0b3I7XG5cbiAgX2FwcGx5SW1wdWxzZShzdGF0ZUEsIC1pbXB1bHNlTWFnbml0dWRlLCBjb250YWN0Tm9ybWFsLCBjb250YWN0UG9pbnRPZmZzZXRBKTtcbiAgX2FwcGx5SW1wdWxzZShzdGF0ZUIsIGltcHVsc2VNYWduaXR1ZGUsIGNvbnRhY3ROb3JtYWwsIGNvbnRhY3RQb2ludE9mZnNldEIpO1xuXG4gIC8vXG4gIC8vIENhbGN1bGF0ZSBhbmQgYXBwbHkgYSBkeW5hbWljIGZyaWN0aW9uIGltcHVsc2UuXG4gIC8vXG5cbiAgY29uc3QgZnJpY3Rpb25JbXB1bHNlTWFnbml0dWRlID0gaW1wdWxzZU1hZ25pdHVkZSAqIHBoeXNpY3NQYXJhbXMuY29lZmZpY2llbnRPZkZyaWN0aW9uO1xuXG4gIGNvbnN0IHRhbmdlbnQgPSB0bXBWZWMyO1xuICB2ZWMzLnNjYWxlKHRtcFZlYzEsIGNvbnRhY3ROb3JtYWwsIHZlYzMuZG90KHJlbGF0aXZlVmVsb2NpdHksIGNvbnRhY3ROb3JtYWwpKTtcbiAgdmVjMy5zdWJ0cmFjdCh0YW5nZW50LCByZWxhdGl2ZVZlbG9jaXR5LCB0bXBWZWMxKTtcbiAgdmVjMy5ub3JtYWxpemUodGFuZ2VudCwgdGFuZ2VudCk7XG5cbiAgX2FwcGx5SW1wdWxzZShzdGF0ZUEsIGZyaWN0aW9uSW1wdWxzZU1hZ25pdHVkZSwgdGFuZ2VudCwgY29udGFjdFBvaW50T2Zmc2V0QSk7XG4gIF9hcHBseUltcHVsc2Uoc3RhdGVCLCAtZnJpY3Rpb25JbXB1bHNlTWFnbml0dWRlLCB0YW5nZW50LCBjb250YWN0UG9pbnRPZmZzZXRCKTtcbn1cblxuLyoqXG4gKiBUaGlzIGlzIGJhc2VkIG9uIGNvbGxpc2lvbi1yZXNwb25zZSBhbGdvcml0aG1zIGZyb20gV2lraXBlZGlhXG4gKiAoaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29sbGlzaW9uX3Jlc3BvbnNlI0ltcHVsc2UtYmFzZWRfcmVhY3Rpb25fbW9kZWwpLiBUaGlzIGFsZ29yaXRobVxuICogaGFzIGJlZW4gc2ltcGxpZmllZCBieSBhc3N1bWluZyB0aGUgc3RhdGlvbmFyeSBib2R5IGhhcyBpbmZpbml0ZSBtYXNzIGFuZCB6ZXJvIHZlbG9jaXR5LlxuICpcbiAqIEBwYXJhbSB7Q29sbGlkYWJsZX0gcGh5c2ljc0NvbGxpZGFibGVcbiAqIEBwYXJhbSB7Q29sbGlzaW9ufSBjb2xsaXNpb25cbiAqIEBwYXJhbSB7dmVjM30gdmVsb2NpdHlcbiAqIEBwYXJhbSB7dmVjM30gY29udGFjdFBvaW50T2Zmc2V0XG4gKiBAcGFyYW0ge1BoeXNpY3NDb25maWd9IHBoeXNpY3NQYXJhbXNcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIF9hcHBseUltcHVsc2VGcm9tQ29sbGlzaW9uV2l0aFN0YXRpb25hcnlPYmplY3QocGh5c2ljc0NvbGxpZGFibGUsIGNvbGxpc2lvbiwgdmVsb2NpdHksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhY3RQb2ludE9mZnNldCwgcGh5c2ljc1BhcmFtcykge1xuICBjb25zdCBzdGF0ZSA9IHBoeXNpY3NDb2xsaWRhYmxlLnBoeXNpY3NKb2IuY3VycmVudFN0YXRlO1xuICBjb25zdCBjb250YWN0Tm9ybWFsID0gY29sbGlzaW9uLmNvbnRhY3ROb3JtYWw7XG5cbiAgLy9cbiAgLy8gQ2FsY3VsYXRlIGFuZCBhcHBseSB0aGUgbWFpbiBjb2xsaXNpb24gaW1wdWxzZS5cbiAgLy9cblxuICB2ZWMzLnNjYWxlKHRtcFZlYzEsIHZlbG9jaXR5LCAtKDEgKyBwaHlzaWNzUGFyYW1zLmNvZWZmaWNpZW50T2ZSZXN0aXR1dGlvbikpO1xuICBjb25zdCBudW1lcmF0b3IgPSB2ZWMzLmRvdCh0bXBWZWMxLCBjb250YWN0Tm9ybWFsKTtcblxuICB2ZWMzLmNyb3NzKHRtcFZlYzEsIGNvbnRhY3RQb2ludE9mZnNldCwgY29udGFjdE5vcm1hbCk7XG4gIHZlYzMudHJhbnNmb3JtTWF0Myh0bXBWZWMxLCB0bXBWZWMxLCBzdGF0ZS5pbnZlcnNlSW5lcnRpYVRlbnNvcik7XG4gIHZlYzMuY3Jvc3ModG1wVmVjMSwgdG1wVmVjMSwgY29udGFjdFBvaW50T2Zmc2V0KTtcbiAgY29uc3QgZGVub21pbmF0b3IgPSB2ZWMzLmRvdCh0bXBWZWMxLCBjb250YWN0Tm9ybWFsKSArIHN0YXRlLmludmVyc2VNYXNzO1xuXG4gIGNvbnN0IGltcHVsc2VNYWduaXR1ZGUgPSBudW1lcmF0b3IgLyBkZW5vbWluYXRvcjtcblxuICBfYXBwbHlJbXB1bHNlKHN0YXRlLCBpbXB1bHNlTWFnbml0dWRlLCBjb250YWN0Tm9ybWFsLCBjb250YWN0UG9pbnRPZmZzZXQpO1xuXG4gIC8vXG4gIC8vIENhbGN1bGF0ZSBhbmQgYXBwbHkgYSBkeW5hbWljIGZyaWN0aW9uIGltcHVsc2UuXG4gIC8vXG5cbiAgY29uc3QgZnJpY3Rpb25JbXB1bHNlTWFnbml0dWRlID0gaW1wdWxzZU1hZ25pdHVkZSAqIHBoeXNpY3NQYXJhbXMuY29lZmZpY2llbnRPZkZyaWN0aW9uO1xuXG4gIGNvbnN0IHRhbmdlbnQgPSB0bXBWZWMyO1xuICB2ZWMzLnNjYWxlKHRtcFZlYzEsIGNvbnRhY3ROb3JtYWwsIHZlYzMuZG90KHZlbG9jaXR5LCBjb250YWN0Tm9ybWFsKSk7XG4gIHZlYzMuc3VidHJhY3QodGFuZ2VudCwgdmVsb2NpdHksIHRtcFZlYzEpO1xuICB2ZWMzLm5vcm1hbGl6ZSh0YW5nZW50LCB0YW5nZW50KTtcblxuICBfYXBwbHlJbXB1bHNlKHN0YXRlLCBmcmljdGlvbkltcHVsc2VNYWduaXR1ZGUsIHRhbmdlbnQsIGNvbnRhY3RQb2ludE9mZnNldCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtQaHlzaWNzU3RhdGV9IHN0YXRlXG4gKiBAcGFyYW0ge251bWJlcn0gaW1wdWxzZU1hZ25pdHVkZVxuICogQHBhcmFtIHt2ZWMzfSBpbXB1bHNlRGlyZWN0aW9uXG4gKiBAcGFyYW0ge3ZlYzN9IGNvbnRhY3RQb2ludE9mZnNldFxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX2FwcGx5SW1wdWxzZShzdGF0ZSwgaW1wdWxzZU1hZ25pdHVkZSwgaW1wdWxzZURpcmVjdGlvbiwgY29udGFjdFBvaW50T2Zmc2V0KSB7XG4gIC8vIENhbGN1bGF0ZSB0aGUgdXBkYXRlZCBsaW5lYXIgbW9tZW50YS5cbiAgY29uc3QgZmluYWxMaW5lYXJNb21lbnR1bSA9IHZlYzMuY3JlYXRlKCk7XG4gIHZlYzMuc2NhbGVBbmRBZGQoZmluYWxMaW5lYXJNb21lbnR1bSwgc3RhdGUubW9tZW50dW0sIGltcHVsc2VEaXJlY3Rpb24sIGltcHVsc2VNYWduaXR1ZGUpO1xuXG4gIC8vIENhbGN1bGF0ZSB0aGUgdXBkYXRlZCBhbmd1bGFyIG1vbWVudGEuXG4gIGNvbnN0IGZpbmFsQW5ndWxhck1vbWVudHVtID0gdmVjMy5jcmVhdGUoKTtcbiAgdmVjMy5jcm9zcyh0bXBWZWMxLCBjb250YWN0UG9pbnRPZmZzZXQsIGltcHVsc2VEaXJlY3Rpb24pO1xuICB2ZWMzLnNjYWxlQW5kQWRkKGZpbmFsQW5ndWxhck1vbWVudHVtLCBzdGF0ZS5hbmd1bGFyTW9tZW50dW0sIHRtcFZlYzEsIGltcHVsc2VNYWduaXR1ZGUpO1xuXG4gIC8vIEFwcGx5IHRoZSB1cGRhdGVkIG1vbWVudGEuXG4gIHZlYzMuY29weShzdGF0ZS5tb21lbnR1bSwgZmluYWxMaW5lYXJNb21lbnR1bSk7XG4gIHZlYzMuY29weShzdGF0ZS5hbmd1bGFyTW9tZW50dW0sIGZpbmFsQW5ndWxhck1vbWVudHVtKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0NvbGxpZGFibGVQaHlzaWNzSm9ifSBqb2JcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX2lzSm9iQXRSZXN0KGpvYikge1xuICByZXR1cm4gYXJlVmVjM3NDbG9zZShqb2IuY3VycmVudFN0YXRlLnBvc2l0aW9uLCBqb2IucHJldmlvdXNTdGF0ZS5wb3NpdGlvbikgJiZcbiAgICAgIGFyZVZlYzNzQ2xvc2Uoam9iLmN1cnJlbnRTdGF0ZS52ZWxvY2l0eSwgam9iLnByZXZpb3VzU3RhdGUudmVsb2NpdHkpICYmXG4gICAgICBhcmVWZWMzc0Nsb3NlKGpvYi5jdXJyZW50U3RhdGUub3JpZW50YXRpb24sIGpvYi5wcmV2aW91c1N0YXRlLm9yaWVudGF0aW9uKSAmJlxuICAgICAgX2RvQ29sbGlzaW9uc01hdGNoKGpvYi5jb2xsaWRhYmxlLmNvbGxpc2lvbnMsIGpvYi5jb2xsaWRhYmxlLnByZXZpb3VzQ29sbGlzaW9ucyk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheS48Q29sbGlzaW9uPn0gY29sbGlzaW9uc0FcbiAqIEBwYXJhbSB7QXJyYXkuPENvbGxpc2lvbj59IGNvbGxpc2lvbnNCXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIF9kb0NvbGxpc2lvbnNNYXRjaChjb2xsaXNpb25zQSwgY29sbGlzaW9uc0IpIHtcbiAgY29uc3QgY291bnQgPSBjb2xsaXNpb25zQS5sZW5ndGg7XG5cbiAgaWYgKGNvdW50ICE9PSBjb2xsaXNpb25zQi5sZW5ndGgpIHJldHVybiBmYWxzZTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICBjb25zdCBjb2xsaXNpb25BID0gY29sbGlzaW9uc0FbaV07XG4gICAgY29uc3QgY29sbGlzaW9uQiA9IGNvbGxpc2lvbnNCW2ldO1xuICAgIGlmIChjb2xsaXNpb25BLmNvbGxpZGFibGVBICE9PSBjb2xsaXNpb25CLmNvbGxpZGFibGVBIHx8XG4gICAgICAgIGNvbGxpc2lvbkEuY29sbGlkYWJsZUIgIT09IGNvbGxpc2lvbkIuY29sbGlkYWJsZUIgfHxcbiAgICAgICAgIWFyZVZlYzNzQ2xvc2UoY29sbGlzaW9uQS5jb250YWN0UG9pbnQsIGNvbGxpc2lvbkIuY29udGFjdFBvaW50KSB8fFxuICAgICAgICAhYXJlVmVjM3NDbG9zZShjb2xsaXNpb25BLmNvbnRhY3ROb3JtYWwsIGNvbGxpc2lvbkIuY29udGFjdE5vcm1hbCkpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Q29sbGlkYWJsZX0gY29sbGlkYWJsZVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX3JlY29yZE9sZENvbGxpc2lvbnNGb3JEZXZNb2RlRm9yQ29sbGlkYWJsZShjb2xsaWRhYmxlKSB7XG4gIGlmICghY29sbGlkYWJsZS5leHRyYVByZXZpb3VzQ29sbGlzaW9ucykge1xuICAgIGNvbGxpZGFibGUuZXh0cmFQcmV2aW91c0NvbGxpc2lvbnMgPSBbXTtcbiAgfVxuXG4gIGZvciAobGV0IGkgPSAzOyBpID4gMDsgaS0tKSB7XG4gICAgY29sbGlkYWJsZS5leHRyYVByZXZpb3VzQ29sbGlzaW9uc1tpXSA9IGNvbGxpZGFibGUuZXh0cmFQcmV2aW91c0NvbGxpc2lvbnNbaSAtIDFdO1xuICB9XG4gIGNvbGxpZGFibGUuZXh0cmFQcmV2aW91c0NvbGxpc2lvbnNbMF0gPSBjb2xsaWRhYmxlLnByZXZpb3VzQ29sbGlzaW9ucztcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0NvbGxpc2lvbn0gY29sbGlzaW9uXG4gKiBAcGFyYW0ge09iamVjdH0gdGhpc0NvbnRyb2xsZXJcbiAqIEByZXR1cm5zIHtPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIGdldE90aGVyQ29udHJvbGxlckZyb21Db2xsaXNpb24oY29sbGlzaW9uLCB0aGlzQ29udHJvbGxlcikge1xuICBjb25zdCBjb250cm9sbGVyQSA9IGNvbGxpc2lvbi5jb2xsaWRhYmxlQS5waHlzaWNzSm9iLmNvbnRyb2xsZXI7XG4gIGNvbnN0IGNvbnRyb2xsZXJCID0gY29sbGlzaW9uLmNvbGxpZGFibGVCLnBoeXNpY3NKb2IuY29udHJvbGxlcjtcbiAgaWYgKGNvbnRyb2xsZXJBID09PSB0aGlzQ29udHJvbGxlcikge1xuICAgIHJldHVybiBjb250cm9sbGVyQjtcbiAgfSBlbHNlIGlmIChjb250cm9sbGVyQiA9PT0gdGhpc0NvbnRyb2xsZXIpIHtcbiAgICByZXR1cm4gY29udHJvbGxlckE7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdOZWl0aGVyIGNvbGxpZGFibGUgY29ycmVzcG9uZHMgdG8gdGhlIGdpdmVuIGNvbnRyb2xsZXInKTtcbiAgfVxufVxuXG5leHBvcnQge1xuICBoYW5kbGVDb2xsaXNpb25zRm9ySm9iLFxuICBmaW5kSW50ZXJzZWN0aW5nQ29sbGlkYWJsZXNGb3JDb2xsaWRhYmxlLFxuICBkZXRlcm1pbmVKb2JzQXRSZXN0LFxuICByZWNvcmRPbGRDb2xsaXNpb25zRm9yRGV2TW9kZUZvckFsbENvbGxpZGFibGVzLFxuICBjaGVja1RoYXROb09iamVjdHNDb2xsaWRlLFxuICBnZXRPdGhlckNvbnRyb2xsZXJGcm9tQ29sbGlzaW9uLFxufTtcbiIsImltcG9ydCB7XG4gIEFhYmIsXG4gIENhcHN1bGUsXG4gIE9iYixcbiAgU3BoZXJlXG59IGZyb20gJy4uL2NvbGxpZGFibGVzJztcblxuaW1wb3J0IHtcbiAgYWFiYkNvbGxpc2lvbkRldGVjdGlvbixcbiAgY2Fwc3VsZUNvbGxpc2lvbkRldGVjdGlvbixcbiAgb2JiQ29sbGlzaW9uRGV0ZWN0aW9uLFxuICBzcGhlcmVDb2xsaXNpb25EZXRlY3Rpb24sXG59IGZyb20gJy4uL2NvbGxpc2lvbi1kZXRlY3Rpb24nO1xuXG5pbXBvcnQge1xuICBhYWJiQ29udGFjdENhbGN1bGF0aW9uLFxuICBjYXBzdWxlQ29udGFjdENhbGN1bGF0aW9uLFxuICBvYmJDb250YWN0Q2FsY3VsYXRpb24sXG4gIHNwaGVyZUNvbnRhY3RDYWxjdWxhdGlvbixcbn0gZnJvbSAnLi4vY29udGFjdC1jYWxjdWxhdGlvbic7XG5cbi8qKlxuICogVGhpcyBtb2R1bGUgZGVmaW5lcyBhIGNvbGxlY3Rpb24gb2Ygc3RhdGljIHV0aWxpdHkgZnVuY3Rpb25zIGZvciBkZXRlY3RpbmcgYW5kIHJlc3BvbmRpbmcgdG9cbiAqIGNvbGxpc2lvbnMuXG4gKi9cblxuLyoqXG4gKiBAcGFyYW0ge0NvbGxpZGFibGV9IGFcbiAqIEBwYXJhbSB7Q29sbGlkYWJsZX0gYlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGRldGVjdEludGVyc2VjdGlvbihhLCBiKSB7XG4gIGlmIChhIGluc3RhbmNlb2YgU3BoZXJlKSB7XG4gICAgaWYgKGIgaW5zdGFuY2VvZiBTcGhlcmUpIHtcbiAgICAgIHJldHVybiBzcGhlcmVDb2xsaXNpb25EZXRlY3Rpb24uc3BoZXJlVnNTcGhlcmUoYSwgYik7XG4gICAgfSBlbHNlIGlmIChiIGluc3RhbmNlb2YgQWFiYikge1xuICAgICAgcmV0dXJuIHNwaGVyZUNvbGxpc2lvbkRldGVjdGlvbi5zcGhlcmVWc0FhYmIoYSwgYik7XG4gICAgfSBlbHNlIGlmIChiIGluc3RhbmNlb2YgQ2Fwc3VsZSkge1xuICAgICAgcmV0dXJuIHNwaGVyZUNvbGxpc2lvbkRldGVjdGlvbi5zcGhlcmVWc0NhcHN1bGUoYSwgYik7XG4gICAgfSBlbHNlIGlmIChiIGluc3RhbmNlb2YgT2JiKSB7XG4gICAgICByZXR1cm4gc3BoZXJlQ29sbGlzaW9uRGV0ZWN0aW9uLnNwaGVyZVZzT2JiKGEsIGIpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gc3BoZXJlQ29sbGlzaW9uRGV0ZWN0aW9uLnNwaGVyZVZzUG9pbnQoYSwgYik7XG4gICAgfVxuICB9IGVsc2UgaWYgKGEgaW5zdGFuY2VvZiBBYWJiKSB7XG4gICAgaWYgKGIgaW5zdGFuY2VvZiBTcGhlcmUpIHtcbiAgICAgIHJldHVybiBhYWJiQ29sbGlzaW9uRGV0ZWN0aW9uLmFhYmJWc1NwaGVyZShhLCBiKTtcbiAgICB9IGVsc2UgaWYgKGIgaW5zdGFuY2VvZiBBYWJiKSB7XG4gICAgICByZXR1cm4gYWFiYkNvbGxpc2lvbkRldGVjdGlvbi5hYWJiVnNBYWJiKGEsIGIpO1xuICAgIH0gZWxzZSBpZiAoYiBpbnN0YW5jZW9mIENhcHN1bGUpIHtcbiAgICAgIHJldHVybiBhYWJiQ29sbGlzaW9uRGV0ZWN0aW9uLmFhYmJWc0NhcHN1bGUoYSwgYik7XG4gICAgfSBlbHNlIGlmIChiIGluc3RhbmNlb2YgT2JiKSB7XG4gICAgICByZXR1cm4gYWFiYkNvbGxpc2lvbkRldGVjdGlvbi5hYWJiVnNPYmIoYSwgYik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBhYWJiQ29sbGlzaW9uRGV0ZWN0aW9uLmFhYmJWc1BvaW50KGEsIGIpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChhIGluc3RhbmNlb2YgQ2Fwc3VsZSkge1xuICAgIGlmIChiIGluc3RhbmNlb2YgU3BoZXJlKSB7XG4gICAgICByZXR1cm4gY2Fwc3VsZUNvbGxpc2lvbkRldGVjdGlvbi5jYXBzdWxlVnNTcGhlcmUoYSwgYik7XG4gICAgfSBlbHNlIGlmIChiIGluc3RhbmNlb2YgQWFiYikge1xuICAgICAgcmV0dXJuIGNhcHN1bGVDb2xsaXNpb25EZXRlY3Rpb24uY2Fwc3VsZVZzQWFiYihhLCBiKTtcbiAgICB9IGVsc2UgaWYgKGIgaW5zdGFuY2VvZiBDYXBzdWxlKSB7XG4gICAgICByZXR1cm4gY2Fwc3VsZUNvbGxpc2lvbkRldGVjdGlvbi5jYXBzdWxlVnNDYXBzdWxlKGEsIGIpO1xuICAgIH0gZWxzZSBpZiAoYiBpbnN0YW5jZW9mIE9iYikge1xuICAgICAgcmV0dXJuIGNhcHN1bGVDb2xsaXNpb25EZXRlY3Rpb24uY2Fwc3VsZVZzT2JiKGEsIGIpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gY2Fwc3VsZUNvbGxpc2lvbkRldGVjdGlvbi5jYXBzdWxlVnNQb2ludChhLCBiKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoYSBpbnN0YW5jZW9mIE9iYikge1xuICAgIGlmIChiIGluc3RhbmNlb2YgU3BoZXJlKSB7XG4gICAgICByZXR1cm4gb2JiQ29sbGlzaW9uRGV0ZWN0aW9uLm9iYlZzU3BoZXJlKGEsIGIpO1xuICAgIH0gZWxzZSBpZiAoYiBpbnN0YW5jZW9mIEFhYmIpIHtcbiAgICAgIHJldHVybiBvYmJDb2xsaXNpb25EZXRlY3Rpb24ub2JiVnNBYWJiKGEsIGIpO1xuICAgIH0gZWxzZSBpZiAoYiBpbnN0YW5jZW9mIENhcHN1bGUpIHtcbiAgICAgIHJldHVybiBvYmJDb2xsaXNpb25EZXRlY3Rpb24ub2JiVnNDYXBzdWxlKGEsIGIpO1xuICAgIH0gZWxzZSBpZiAoYiBpbnN0YW5jZW9mIE9iYikge1xuICAgICAgcmV0dXJuIG9iYkNvbGxpc2lvbkRldGVjdGlvbi5vYmJWc09iYihhLCBiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG9iYkNvbGxpc2lvbkRldGVjdGlvbi5vYmJWc1BvaW50KGEsIGIpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoYiBpbnN0YW5jZW9mIFNwaGVyZSkge1xuICAgICAgcmV0dXJuIHNwaGVyZUNvbGxpc2lvbkRldGVjdGlvbi5zcGhlcmVWc1BvaW50KGIsIGEpO1xuICAgIH0gZWxzZSBpZiAoYiBpbnN0YW5jZW9mIEFhYmIpIHtcbiAgICAgIHJldHVybiBhYWJiQ29sbGlzaW9uRGV0ZWN0aW9uLmFhYmJWc1BvaW50KGIsIGEpO1xuICAgIH0gZWxzZSBpZiAoYiBpbnN0YW5jZW9mIENhcHN1bGUpIHtcbiAgICAgIHJldHVybiBjYXBzdWxlQ29sbGlzaW9uRGV0ZWN0aW9uLmNhcHN1bGVWc1BvaW50KGIsIGEpO1xuICAgIH0gZWxzZSBpZiAoYiBpbnN0YW5jZW9mIE9iYikge1xuICAgICAgcmV0dXJuIG9iYkNvbGxpc2lvbkRldGVjdGlvbi5vYmJWc1BvaW50KGIsIGEpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtDb2xsaXNpb259IGNvbGxpc2lvblxuICovXG5mdW5jdGlvbiBjYWxjdWxhdGVDb250YWN0KGNvbGxpc2lvbikge1xuICBjb25zdCBhID0gY29sbGlzaW9uLmNvbGxpZGFibGVBO1xuICBjb25zdCBiID0gY29sbGlzaW9uLmNvbGxpZGFibGVCO1xuICBjb25zdCBjb250YWN0UG9pbnQgPSB2ZWMzLmNyZWF0ZSgpO1xuICBjb25zdCBjb250YWN0Tm9ybWFsID0gdmVjMy5jcmVhdGUoKTtcblxuICBpZiAoYSBpbnN0YW5jZW9mIFNwaGVyZSkge1xuICAgIGlmIChiIGluc3RhbmNlb2YgU3BoZXJlKSB7XG4gICAgICBzcGhlcmVDb250YWN0Q2FsY3VsYXRpb24uc3BoZXJlVnNTcGhlcmUoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBhLCBiKTtcbiAgICB9IGVsc2UgaWYgKGIgaW5zdGFuY2VvZiBBYWJiKSB7XG4gICAgICBzcGhlcmVDb250YWN0Q2FsY3VsYXRpb24uc3BoZXJlVnNBYWJiKGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgYSwgYik7XG4gICAgfSBlbHNlIGlmIChiIGluc3RhbmNlb2YgQ2Fwc3VsZSkge1xuICAgICAgc3BoZXJlQ29udGFjdENhbGN1bGF0aW9uLnNwaGVyZVZzQ2Fwc3VsZShjb250YWN0UG9pbnQsIGNvbnRhY3ROb3JtYWwsIGEsIGIpO1xuICAgIH0gZWxzZSBpZiAoYiBpbnN0YW5jZW9mIE9iYikge1xuICAgICAgc3BoZXJlQ29udGFjdENhbGN1bGF0aW9uLnNwaGVyZVZzT2JiKGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgYSwgYik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNwaGVyZUNvbnRhY3RDYWxjdWxhdGlvbi5zcGhlcmVWc1BvaW50KGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgYSwgYik7XG4gICAgfVxuICB9IGVsc2UgaWYgKGEgaW5zdGFuY2VvZiBBYWJiKSB7XG4gICAgaWYgKGIgaW5zdGFuY2VvZiBTcGhlcmUpIHtcbiAgICAgIGFhYmJDb250YWN0Q2FsY3VsYXRpb24uYWFiYlZzU3BoZXJlKGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgYSwgYik7XG4gICAgfSBlbHNlIGlmIChiIGluc3RhbmNlb2YgQWFiYikge1xuICAgICAgYWFiYkNvbnRhY3RDYWxjdWxhdGlvbi5hYWJiVnNBYWJiKGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgYSwgYik7XG4gICAgfSBlbHNlIGlmIChiIGluc3RhbmNlb2YgQ2Fwc3VsZSkge1xuICAgICAgYWFiYkNvbnRhY3RDYWxjdWxhdGlvbi5hYWJiVnNDYXBzdWxlKGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgYSwgYik7XG4gICAgfSBlbHNlIGlmIChiIGluc3RhbmNlb2YgT2JiKSB7XG4gICAgICBhYWJiQ29udGFjdENhbGN1bGF0aW9uLmFhYmJWc09iYihjb250YWN0UG9pbnQsIGNvbnRhY3ROb3JtYWwsIGEsIGIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhYWJiQ29udGFjdENhbGN1bGF0aW9uLmFhYmJWc1BvaW50KGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgYSwgYik7XG4gICAgfVxuICB9IGVsc2UgaWYgKGEgaW5zdGFuY2VvZiBDYXBzdWxlKSB7XG4gICAgaWYgKGIgaW5zdGFuY2VvZiBTcGhlcmUpIHtcbiAgICAgIGNhcHN1bGVDb250YWN0Q2FsY3VsYXRpb24uY2Fwc3VsZVZzU3BoZXJlKGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgYSwgYik7XG4gICAgfSBlbHNlIGlmIChiIGluc3RhbmNlb2YgQWFiYikge1xuICAgICAgY2Fwc3VsZUNvbnRhY3RDYWxjdWxhdGlvbi5jYXBzdWxlVnNBYWJiKGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgYSwgYik7XG4gICAgfSBlbHNlIGlmIChiIGluc3RhbmNlb2YgQ2Fwc3VsZSkge1xuICAgICAgY2Fwc3VsZUNvbnRhY3RDYWxjdWxhdGlvbi5jYXBzdWxlVnNDYXBzdWxlKGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgYSwgYik7XG4gICAgfSBlbHNlIGlmIChiIGluc3RhbmNlb2YgT2JiKSB7XG4gICAgICBjYXBzdWxlQ29udGFjdENhbGN1bGF0aW9uLmNhcHN1bGVWc09iYihjb250YWN0UG9pbnQsIGNvbnRhY3ROb3JtYWwsIGEsIGIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjYXBzdWxlQ29udGFjdENhbGN1bGF0aW9uLmNhcHN1bGVWc1BvaW50KGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgYSwgYik7XG4gICAgfVxuICB9IGVsc2UgaWYgKGEgaW5zdGFuY2VvZiBPYmIpIHtcbiAgICBpZiAoYiBpbnN0YW5jZW9mIFNwaGVyZSkge1xuICAgICAgb2JiQ29udGFjdENhbGN1bGF0aW9uLm9iYlZzU3BoZXJlKGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgYSwgYik7XG4gICAgfSBlbHNlIGlmIChiIGluc3RhbmNlb2YgQWFiYikge1xuICAgICAgb2JiQ29udGFjdENhbGN1bGF0aW9uLm9iYlZzQWFiYihjb250YWN0UG9pbnQsIGNvbnRhY3ROb3JtYWwsIGEsIGIpO1xuICAgIH0gZWxzZSBpZiAoYiBpbnN0YW5jZW9mIENhcHN1bGUpIHtcbiAgICAgIG9iYkNvbnRhY3RDYWxjdWxhdGlvbi5vYmJWc0NhcHN1bGUoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBhLCBiKTtcbiAgICB9IGVsc2UgaWYgKGIgaW5zdGFuY2VvZiBPYmIpIHtcbiAgICAgIG9iYkNvbnRhY3RDYWxjdWxhdGlvbi5vYmJWc09iYihjb250YWN0UG9pbnQsIGNvbnRhY3ROb3JtYWwsIGEsIGIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvYmJDb250YWN0Q2FsY3VsYXRpb24ub2JiVnNQb2ludChjb250YWN0UG9pbnQsIGNvbnRhY3ROb3JtYWwsIGEsIGIpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoYiBpbnN0YW5jZW9mIFNwaGVyZSkge1xuICAgICAgc3BoZXJlQ29udGFjdENhbGN1bGF0aW9uLnNwaGVyZVZzUG9pbnQoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBiLCBhKTtcbiAgICB9IGVsc2UgaWYgKGIgaW5zdGFuY2VvZiBBYWJiKSB7XG4gICAgICBhYWJiQ29udGFjdENhbGN1bGF0aW9uLmFhYmJWc1BvaW50KGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgYiwgYSk7XG4gICAgfSBlbHNlIGlmIChiIGluc3RhbmNlb2YgQ2Fwc3VsZSkge1xuICAgICAgY2Fwc3VsZUNvbnRhY3RDYWxjdWxhdGlvbi5jYXBzdWxlVnNQb2ludChjb250YWN0UG9pbnQsIGNvbnRhY3ROb3JtYWwsIGIsIGEpO1xuICAgIH0gZWxzZSBpZiAoYiBpbnN0YW5jZW9mIE9iYikge1xuICAgICAgb2JiQ29udGFjdENhbGN1bGF0aW9uLm9iYlZzUG9pbnQoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBiLCBhKTtcbiAgICB9IGVsc2Uge31cbiAgICB2ZWMzLm5lZ2F0ZShjb250YWN0Tm9ybWFsLCBjb250YWN0Tm9ybWFsKTtcbiAgfVxuXG4gIGNvbGxpc2lvbi5jb250YWN0UG9pbnQgPSBjb250YWN0UG9pbnQ7XG4gIGNvbGxpc2lvbi5jb250YWN0Tm9ybWFsID0gY29udGFjdE5vcm1hbDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0NvbGxpZGFibGV9IGFcbiAqIEBwYXJhbSB7Q29sbGlkYWJsZX0gYlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGRldGVjdEJvdW5kaW5nVm9sdW1lSW50ZXJzZWN0aW9uKGEsIGIpIHtcbiAgcmV0dXJuIGRldGVjdEludGVyc2VjdGlvbihhLmJvdW5kaW5nVm9sdW1lLCBiLmJvdW5kaW5nVm9sdW1lKTtcbn1cblxuZXhwb3J0IHtcbiAgZGV0ZWN0SW50ZXJzZWN0aW9uLFxuICBjYWxjdWxhdGVDb250YWN0LFxuICBkZXRlY3RCb3VuZGluZ1ZvbHVtZUludGVyc2VjdGlvbixcbn07XG4iLCIvKipcbiAqIFRoaXMgbW9kdWxlIHJlLWV4cG9ydHMgYWxsIG9mIHRoZSBleHBvcnRzIGluIHRoZSBncmFmeCBmcmFtZXdvcmsuIFRoaXMgbWFrZXMgdGhlIGVudGlyZSBmcmFtZXdvcmtcbiAqIGNvbnZlbmllbnRseSBhY2Nlc3NpYmxlIHZpYSB0aGlzIHNpbmdsZSBtb2R1bGUuXG4gKi9cblxuZXhwb3J0ICogZnJvbSAnLi9jb2xsaXNpb25zJztcbmV4cG9ydCAqIGZyb20gJy4vaW50ZWdyYXRvcic7XG5leHBvcnQgKiBmcm9tICcuL3V0aWwnO1xuXG5leHBvcnQgKiBmcm9tICcuL3NyYy9waHlzaWNzLWVuZ2luZSc7XG5leHBvcnQgKiBmcm9tICcuL3NyYy9waHlzaWNzLWpvYic7XG5leHBvcnQgKiBmcm9tICcuL3NyYy9waHlzaWNzLXN0YXRlJztcbiIsImV4cG9ydCAqIGZyb20gJy4vc3JjL2ludGVncmF0b3InO1xuZXhwb3J0ICogZnJvbSAnLi9zcmMvcms0LWludGVncmF0b3InO1xuIiwiLyoqXG4gKiBUaGlzIGNsYXNzIG51bWVyaWNhbGx5IGludGVncmF0ZXMgdGhlIGVxdWF0aW9ucyBvZiBtb3Rpb24uIFRoYXQgaXMsIGFuIGludGVncmF0b3IgaW1wbGVtZW50c1xuICogcGh5c2ljcyBzaW11bGF0aW9ucyBieSB1cGRhdGluZyBwb3NpdGlvbiBhbmQgdmVsb2NpdHkgdmFsdWVzIGZvciBlYWNoIHRpbWUgc3RlcC5cbiAqXG4gKiBAYWJzdHJhY3RcbiAqL1xuY2xhc3MgSW50ZWdyYXRvciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIC8vIEludGVncmF0b3IgaXMgYW4gYWJzdHJhY3QgY2xhc3MuIEl0IHNob3VsZCBub3QgYmUgaW5zdGFudGlhdGVkIGRpcmVjdGx5LlxuICAgIGlmIChuZXcudGFyZ2V0ID09PSBJbnRlZ3JhdG9yKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY29uc3RydWN0IEludGVncmF0b3IgaW5zdGFuY2VzIGRpcmVjdGx5Jyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEludGVncmF0ZSB0aGUgc3RhdGUgZnJvbSB0IHRvIHQgKyBkdC5cbiAgICpcbiAgICogQHBhcmFtIHtQaHlzaWNzSm9ifSBqb2JcbiAgICogQHBhcmFtIHtudW1iZXJ9IHQgVG90YWwgZWxhcHNlZCB0aW1lLlxuICAgKiBAcGFyYW0ge251bWJlcn0gZHQgRHVyYXRpb24gb2YgdGhlIGN1cnJlbnQgdGltZSBzdGVwLlxuICAgKiBAYWJzdHJhY3RcbiAgICovXG4gIGludGVncmF0ZShqb2IsIHQsIGR0KSB7XG4gICAgLy8gRXh0ZW5kaW5nIGNsYXNzZXMgc2hvdWxkIGltcGxlbWVudCB0aGlzIG1ldGhvZC5cbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdNZXRob2Qgbm90IGltcGxlbWVudGVkJyk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge1BoeXNpY3NEZXJpdmF0aXZlfVxuICAgKi9cbiAgc3RhdGljIGNyZWF0ZURlcml2YXRpdmUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHZlbG9jaXR5OiB2ZWMzLmNyZWF0ZSgpLFxuICAgICAgZm9yY2U6IHZlYzMuY3JlYXRlKCksXG4gICAgICBzcGluOiBxdWF0LmNyZWF0ZSgpLFxuICAgICAgdG9ycXVlOiB2ZWMzLmNyZWF0ZSgpXG4gICAgfTtcbiAgfVxufVxuXG5leHBvcnQge0ludGVncmF0b3J9O1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFBoeXNpY3NEZXJpdmF0aXZlXG4gKiBAcHJvcGVydHkge3ZlYzN9IHZlbG9jaXR5IERlcml2YXRpdmUgb2YgcG9zaXRpb24uXG4gKiBAcHJvcGVydHkge3ZlYzN9IGZvcmNlIERlcml2YXRpdmUgb2YgbW9tZW50dW0uXG4gKiBAcHJvcGVydHkge3F1YXR9IHNwaW4gRGVyaXZhdGl2ZSBvZiBvcmllbnRhdGlvbi5cbiAqIEBwcm9wZXJ0eSB7dmVjM30gdG9ycXVlIERlcml2YXRpdmUgb2YgYW5ndWxhciBtb21lbnR1bS5cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEZvcmNlQXBwbGllck91dHB1dFxuICogQHByb3BlcnR5IHt2ZWMzfSBmb3JjZVxuICogQHByb3BlcnR5IHt2ZWMzfSB0b3JxdWVcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEZvcmNlQXBwbGllcklucHV0XG4gKiBAcHJvcGVydHkge1BoeXNpY3NTdGF0ZX0gc3RhdGVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB0XG4gKiBAcHJvcGVydHkge251bWJlcn0gZHRcbiAqL1xuIiwiaW1wb3J0IHtfZ2VvbWV0cnksIF91dGlsfSBmcm9tICcuLi8uLi91dGlsJztcbmltcG9ydCB7SW50ZWdyYXRvcn0gZnJvbSAnLi9pbnRlZ3JhdG9yJztcbmltcG9ydCB7UGh5c2ljc1N0YXRlfSBmcm9tICcuLi8uLi9zcmMvcGh5c2ljcy1zdGF0ZSc7XG5cbi8vIFRPRE86IEFjY291bnQgZm9yIHRoZSBmYWN0IHRoYXQgY29sbGlzaW9ucyB0YWtlIHBsYWNlIGJldHdlZW4gdGltZSBzdGVwczsgaW50ZWdyYXRpb24gc2hvdWxkXG4vLyByZWFsbHkgY29uc2lkZXIgdGhlIHByZXZpb3VzIHN0YXRlIGFzIGJlaW5nIHRoZSB0aW1lIGFuZCBzdGF0ZSBhdCB0aGUgbW9tZW50IG9mIGNvbGxpc2lvbi5cblxuLyoqXG4gKiBUaGlzIGNsYXNzIG51bWVyaWNhbGx5IGludGVncmF0ZXMgdGhlIGVxdWF0aW9ucyBvZiBtb3Rpb24uIFRoYXQgaXMsIHRoaXMgaW1wbGVtZW50cyBwaHlzaWNzXG4gKiBzaW11bGF0aW9ucyBieSB1cGRhdGluZyBwb3NpdGlvbiBhbmQgdmVsb2NpdHkgdmFsdWVzIGZvciBlYWNoIHRpbWUgc3RlcC5cbiAqXG4gKiBUaGlzIGludGVncmF0b3IgaXMgYW4gaW1wbGVtZW50YXRpb24gb2YgdGhlIGNsYXNzaWNhbCBSdW5nZS1LdXR0YSBtZXRob2QgKFJLNClcbiAqIChodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9SdW5nZV9rdXR0YSkuXG4gKlxuICogVGhpcyBpbnRlZ3JhdG9yIGNhdXNlcyBlbmVyZ3kgdG8gYmUgbG9zdCBhdCBhIHNtYWxsIHJhdGUuIFRoaXMgaXMgYSBjb21tb24gcHJvYmxlbSBmb3IgbnVtZXJpY2FsXG4gKiBpbnRlZ3JhdG9ycywgYW5kIGlzIHVzdWFsbHkgbmVnbGlnaWJsZS5cbiAqL1xuY2xhc3MgUks0SW50ZWdyYXRvciBleHRlbmRzIEludGVncmF0b3Ige1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIGlmIChfdXRpbC5pc0luRGV2TW9kZSkge1xuICAgICAgdGhpcy5fd3JhcEZvckRldk1vZGUoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSW50ZWdyYXRlIHRoZSBzdGF0ZSBmcm9tIHQgdG8gdCArIGR0LlxuICAgKlxuICAgKiBAcGFyYW0ge1BoeXNpY3NKb2J9IGpvYlxuICAgKiBAcGFyYW0ge251bWJlcn0gdCBUb3RhbCBlbGFwc2VkIHRpbWUuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBkdCBEdXJhdGlvbiBvZiB0aGUgY3VycmVudCB0aW1lIHN0ZXAuXG4gICAqL1xuICBpbnRlZ3JhdGUoam9iLCB0LCBkdCkge1xuICAgIGNvbnN0IHN0YXRlID0gam9iLmN1cnJlbnRTdGF0ZTtcbiAgICBfdGVtcFN0YXRlLmNvcHkoc3RhdGUpO1xuXG4gICAgX2NhbGN1bGF0ZURlcml2YXRpdmUoX2EsIF90ZW1wU3RhdGUsIGpvYiwgdCwgMCwgX0VNUFRZX0RFUklWQVRJVkUpO1xuICAgIF9jYWxjdWxhdGVEZXJpdmF0aXZlKF9iLCBfdGVtcFN0YXRlLCBqb2IsIHQsIGR0ICogMC41LCBfYSk7XG4gICAgX2NhbGN1bGF0ZURlcml2YXRpdmUoX2MsIF90ZW1wU3RhdGUsIGpvYiwgdCwgZHQgKiAwLjUsIF9iKTtcbiAgICBfY2FsY3VsYXRlRGVyaXZhdGl2ZShfZCwgX3RlbXBTdGF0ZSwgam9iLCB0LCBkdCwgX2MpO1xuXG4gICAgX2NhbGN1bGF0ZVZlYzNEZXJpdmF0aXZlV2VpZ2h0ZWRTdW0oXG4gICAgICAgIF9wb3NpdGlvbkRlcml2YXRpdmUsIF9hLnZlbG9jaXR5LCBfYi52ZWxvY2l0eSwgX2MudmVsb2NpdHksIF9kLnZlbG9jaXR5KTtcbiAgICBfY2FsY3VsYXRlVmVjM0Rlcml2YXRpdmVXZWlnaHRlZFN1bShcbiAgICAgICAgX21vbWVudHVtRGVyaXZhdGl2ZSwgX2EuZm9yY2UsIF9iLmZvcmNlLCBfYy5mb3JjZSwgX2QuZm9yY2UpO1xuICAgIF9jYWxjdWxhdGVRdWF0RGVyaXZhdGl2ZVdlaWdodGVkU3VtKF9vcmllbnRhdGlvbkRlcml2YXRpdmUsIF9hLnNwaW4sIF9iLnNwaW4sIF9jLnNwaW4sIF9kLnNwaW4pO1xuICAgIF9jYWxjdWxhdGVWZWMzRGVyaXZhdGl2ZVdlaWdodGVkU3VtKFxuICAgICAgICBfYW5ndWxhck1vbWVudHVtRGVyaXZhdGl2ZSwgX2EudG9ycXVlLCBfYi50b3JxdWUsIF9jLnRvcnF1ZSwgX2QudG9ycXVlKTtcblxuICAgIHZlYzMuc2NhbGVBbmRBZGQoc3RhdGUucG9zaXRpb24sIHN0YXRlLnBvc2l0aW9uLCBfcG9zaXRpb25EZXJpdmF0aXZlLCBkdCk7XG4gICAgdmVjMy5zY2FsZUFuZEFkZChzdGF0ZS5tb21lbnR1bSwgc3RhdGUubW9tZW50dW0sIF9tb21lbnR1bURlcml2YXRpdmUsIGR0KTtcbiAgICBfZ2VvbWV0cnkuc2NhbGVBbmRBZGRRdWF0KHN0YXRlLm9yaWVudGF0aW9uLCBzdGF0ZS5vcmllbnRhdGlvbiwgX29yaWVudGF0aW9uRGVyaXZhdGl2ZSwgZHQpO1xuICAgIHZlYzMuc2NhbGVBbmRBZGQoc3RhdGUuYW5ndWxhck1vbWVudHVtLCBzdGF0ZS5hbmd1bGFyTW9tZW50dW0sIF9hbmd1bGFyTW9tZW50dW1EZXJpdmF0aXZlLCBkdCk7XG5cbiAgICBzdGF0ZS51cGRhdGVEZXBlbmRlbnRGaWVsZHMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXcmFwcyB0aGUgaW50ZWdyYXRlIG1ldGhvZCBhbmQgY2hlY2sgZm9yIE5hTiB2YWx1ZXMgYWZ0ZXIgZWFjaCBpbnRlZ3JhdGlvbi5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF93cmFwRm9yRGV2TW9kZSgpIHtcbiAgICBjb25zdCB1bmd1YXJkZWRJbnRlZ3JhdGUgPSB0aGlzLmludGVncmF0ZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuaW50ZWdyYXRlID0gKGpvYiwgdCwgZHQpID0+IHtcbiAgICAgIHVuZ3VhcmRlZEludGVncmF0ZShqb2IsIHQsIGR0KTtcbiAgICAgIF9jaGVja0ZvclN0YXRlRXJyb3Ioam9iLmN1cnJlbnRTdGF0ZSk7XG4gICAgfTtcbiAgfVxufVxuXG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgZGVyaXZhdGl2ZSBmcm9tIHRoZSBnaXZlbiBzdGF0ZSB3aXRoIHRoZSBnaXZlbiB0aW1lIHN0ZXAuXG4gKlxuICogQHBhcmFtIHtQaHlzaWNzRGVyaXZhdGl2ZX0gb3V0XG4gKiBAcGFyYW0ge1BoeXNpY3NTdGF0ZX0gc3RhdGVcbiAqIEBwYXJhbSB7UGh5c2ljc0pvYn0gam9iXG4gKiBAcGFyYW0ge251bWJlcn0gdFxuICogQHBhcmFtIHtudW1iZXJ9IGR0XG4gKiBAcGFyYW0ge1BoeXNpY3NEZXJpdmF0aXZlfSBkXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfY2FsY3VsYXRlRGVyaXZhdGl2ZShvdXQsIHN0YXRlLCBqb2IsIHQsIGR0LCBkKSB7XG4gIHZlYzMuc2NhbGVBbmRBZGQoc3RhdGUucG9zaXRpb24sIHN0YXRlLnBvc2l0aW9uLCBkLnZlbG9jaXR5LCBkdCk7XG4gIHZlYzMuc2NhbGVBbmRBZGQoc3RhdGUubW9tZW50dW0sIHN0YXRlLm1vbWVudHVtLCBkLmZvcmNlLCBkdCk7XG4gIF9nZW9tZXRyeS5zY2FsZUFuZEFkZFF1YXQoc3RhdGUub3JpZW50YXRpb24sIHN0YXRlLm9yaWVudGF0aW9uLCBkLnNwaW4sIGR0KTtcbiAgdmVjMy5zY2FsZUFuZEFkZChzdGF0ZS5hbmd1bGFyTW9tZW50dW0sIHN0YXRlLmFuZ3VsYXJNb21lbnR1bSwgZC50b3JxdWUsIGR0KTtcblxuICBzdGF0ZS51cGRhdGVEZXBlbmRlbnRGaWVsZHMoKTtcblxuICBvdXQudmVsb2NpdHkgPSBzdGF0ZS52ZWxvY2l0eTtcbiAgb3V0LnNwaW4gPSBzdGF0ZS5zcGluO1xuICB2ZWMzLnNldChvdXQuZm9yY2UsIDAsIDAsIDApO1xuICB2ZWMzLnNldChvdXQudG9ycXVlLCAwLCAwLCAwKTtcblxuICBfZm9yY2VBcHBsaWVyT3V0cHV0LmZvcmNlID0gb3V0LmZvcmNlO1xuICBfZm9yY2VBcHBsaWVyT3V0cHV0LnRvcnF1ZSA9IG91dC50b3JxdWU7XG4gIF9mb3JjZUFwcGxpZXJJbnB1dC5zdGF0ZSA9IHN0YXRlO1xuICBfZm9yY2VBcHBsaWVySW5wdXQudCA9IHQgKyBkdDtcbiAgX2ZvcmNlQXBwbGllcklucHV0LmR0ID0gZHQ7XG5cbiAgam9iLmFwcGx5Rm9yY2VzKF9mb3JjZUFwcGxpZXJPdXRwdXQsIF9mb3JjZUFwcGxpZXJJbnB1dCk7XG59XG5cbmNvbnN0IF9FTVBUWV9ERVJJVkFUSVZFID0gSW50ZWdyYXRvci5jcmVhdGVEZXJpdmF0aXZlKCk7XG5cbmNvbnN0IF90ZW1wU3RhdGUgPSBuZXcgUGh5c2ljc1N0YXRlKCk7XG5jb25zdCBfYSA9IEludGVncmF0b3IuY3JlYXRlRGVyaXZhdGl2ZSgpO1xuY29uc3QgX2IgPSBJbnRlZ3JhdG9yLmNyZWF0ZURlcml2YXRpdmUoKTtcbmNvbnN0IF9jID0gSW50ZWdyYXRvci5jcmVhdGVEZXJpdmF0aXZlKCk7XG5jb25zdCBfZCA9IEludGVncmF0b3IuY3JlYXRlRGVyaXZhdGl2ZSgpO1xuXG5jb25zdCBfcG9zaXRpb25EZXJpdmF0aXZlID0gdmVjMy5jcmVhdGUoKTtcbmNvbnN0IF9tb21lbnR1bURlcml2YXRpdmUgPSB2ZWMzLmNyZWF0ZSgpO1xuY29uc3QgX29yaWVudGF0aW9uRGVyaXZhdGl2ZSA9IHF1YXQuY3JlYXRlKCk7XG5jb25zdCBfYW5ndWxhck1vbWVudHVtRGVyaXZhdGl2ZSA9IHZlYzMuY3JlYXRlKCk7XG5cbmNvbnN0IF9mb3JjZUFwcGxpZXJPdXRwdXQgPSB7fTtcbmNvbnN0IF9mb3JjZUFwcGxpZXJJbnB1dCA9IHt9O1xuXG4vKipcbiAqIEBwYXJhbSB7dmVjM30gb3V0XG4gKiBAcGFyYW0ge3ZlYzN9IGFcbiAqIEBwYXJhbSB7dmVjM30gYlxuICogQHBhcmFtIHt2ZWMzfSBjXG4gKiBAcGFyYW0ge3ZlYzN9IGRcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIF9jYWxjdWxhdGVWZWMzRGVyaXZhdGl2ZVdlaWdodGVkU3VtKG91dCwgYSwgYiwgYywgZCkge1xuICBvdXRbMF0gPSAxIC8gNiAqIChhWzBdICsgMiAqIChiWzBdICsgY1swXSkgKyBkWzBdKTtcbiAgb3V0WzFdID0gMSAvIDYgKiAoYVsxXSArIDIgKiAoYlsxXSArIGNbMV0pICsgZFsxXSk7XG4gIG91dFsyXSA9IDEgLyA2ICogKGFbMl0gKyAyICogKGJbMl0gKyBjWzJdKSArIGRbMl0pO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7cXVhdH0gb3V0XG4gKiBAcGFyYW0ge3F1YXR9IGFcbiAqIEBwYXJhbSB7cXVhdH0gYlxuICogQHBhcmFtIHtxdWF0fSBjXG4gKiBAcGFyYW0ge3F1YXR9IGRcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIF9jYWxjdWxhdGVRdWF0RGVyaXZhdGl2ZVdlaWdodGVkU3VtKG91dCwgYSwgYiwgYywgZCkge1xuICBvdXRbMF0gPSAxIC8gNiAqIChhWzBdICsgMiAqIChiWzBdICsgY1swXSkgKyBkWzBdKTtcbiAgb3V0WzFdID0gMSAvIDYgKiAoYVsxXSArIDIgKiAoYlsxXSArIGNbMV0pICsgZFsxXSk7XG4gIG91dFsyXSA9IDEgLyA2ICogKGFbMl0gKyAyICogKGJbMl0gKyBjWzJdKSArIGRbMl0pO1xuICBvdXRbM10gPSAxIC8gNiAqIChhWzNdICsgMiAqIChiWzNdICsgY1szXSkgKyBkWzNdKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1BoeXNpY3NTdGF0ZX0gc3RhdGVcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIF9jaGVja0ZvclN0YXRlRXJyb3Ioc3RhdGUpIHtcbiAgY29uc3QgZXJyb3JQcm9wZXJ0aWVzID0gW1xuICAgICdwb3NpdGlvbicsXG4gICAgJ21vbWVudHVtJyxcbiAgICAnb3JpZW50YXRpb24nLFxuICAgICdhbmd1bGFyTW9tZW50dW0nLFxuICBdLmZpbHRlcihwcm9wZXJ0eSA9PiBfY29udGFpbnNOYU4oc3RhdGVbcHJvcGVydHldKSk7XG4gIGNvbnN0IHByb3BlcnR5ID0gZXJyb3JQcm9wZXJ0aWVzWzBdO1xuICBpZiAocHJvcGVydHkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYCR7cHJvcGVydHl9IGNvbnRhaW5zIGEgTmFOIHZhbHVlIGFmdGVyIGludGVncmF0aW5nOiAke3N0YXRlW3Byb3BlcnR5XX1gKTtcbiAgfVxufVxuXG4vKipcbiAqIERldGVybWluZXMgd2hldGhlciB0aGUgZ2l2ZW4gdmVjdG9yIGNvbnRhaW5zIGEgTmFOIHZhbHVlLlxuICpcbiAqIEBwYXJhbSB7dmVjM30gdlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX2NvbnRhaW5zTmFOKHYpIHtcbiAgcmV0dXJuIGlzTmFOKHZbMF0pIHx8IGlzTmFOKHZbMV0pIHx8IGlzTmFOKHZbMl0pO1xufVxuXG5jb25zdCByazRJbnRlZ3JhdG9yID0gbmV3IFJLNEludGVncmF0b3IoKTtcblxuZXhwb3J0IHtyazRJbnRlZ3JhdG9yfTtcbiIsImltcG9ydCB7RnJhbWVMYXRlbmN5UHJvZmlsZXIsIFBlcnNpc3RlbnRBbmltYXRpb25Kb2J9IGZyb20gJ2xzbC1hbmltYXRleCc7XG5pbXBvcnQge191dGlsfSBmcm9tICcuLi91dGlsJztcblxuaW1wb3J0IHtcbiAgY2hlY2tUaGF0Tm9PYmplY3RzQ29sbGlkZSxcbiAgQ29sbGlkYWJsZVBoeXNpY3NKb2IsXG4gIGRldGVybWluZUpvYnNBdFJlc3QsXG4gIGhhbmRsZUNvbGxpc2lvbnNGb3JKb2IsXG4gIHJlY29yZE9sZENvbGxpc2lvbnNGb3JEZXZNb2RlRm9yQWxsQ29sbGlkYWJsZXMsXG59IGZyb20gJy4uL2NvbGxpc2lvbnMnO1xuaW1wb3J0IHtQaHlzaWNzU3RhdGV9IGZyb20gJy4vcGh5c2ljcy1zdGF0ZSc7XG5pbXBvcnQge3JrNEludGVncmF0b3J9IGZyb20gJy4uL2ludGVncmF0b3InO1xuXG5jb25zdCBfRlJBTUVfTEFURU5DWV9MT0dfUEVSSU9EID0gNTAwMDtcbmNvbnN0IF9MQVRFTkNZX0xPR19MQUJFTCA9ICdQaHlzaWNzIGZyYW1lIGR1cmF0aW9uJztcblxuLyoqXG4gKiBUaGlzIHBoeXNpY3MgZW5naW5lIHNpbXVsYXRlcyBoaWdoLXBlcmZvcm1hbmNlLCB0aHJlZS1kaW1lbnNpb25hbCByaWdpZC1ib2R5IGR5bmFtaWNzLlxuICpcbiAqIE5vdGFibGUgZmVhdHVyZXM6XG4gKiAtIEluY2x1ZGVzIGNvbGxpc2lvbiBkZXRlY3Rpb24gd2l0aCBpbXB1bHNlLWJhc2VkIHJlc29sdXRpb24uXG4gKiAtIERlY291cGxlcyB0aGUgcGh5c2ljcyBzaW11bGF0aW9uIGFuZCBhbmltYXRpb24gcmVuZGVyaW5nIHRpbWUgc3RlcHMsIGFuZCB1c2VzIGEgZml4ZWQgdGltZXN0ZXBcbiAqIGZvciB0aGUgcGh5c2ljcyBsb29wLiBUaGlzIGdpdmVzIHVzIG51bWVyaWNhbCBzdGFiaWxpdHkgYW5kIHByZWNpc2UgcmVwcm9kdWNpYmlsaXR5LlxuICogLSBTdXBwcmVzc2VzIGxpbmVhciBhbmQgYW5ndWxhciBtb21lbnRhIGJlbG93IGEgY2VydGFpbiB0aHJlc2hvbGQuXG4gKlxuICogVGhlIGVuZ2luZSBjb25zaXN0cyBwcmltYXJpbHkgb2YgYSBjb2xsZWN0aW9uIG9mIGluZGl2aWR1YWwgcGh5c2ljcyBqb2JzIGFuZCBhbiB1cGRhdGUgbG9vcC4gVGhpc1xuICogdXBkYXRlIGxvb3AgaXMgaW4gdHVybiBjb250cm9sbGVkIGJ5IHRoZSBhbmltYXRpb24gbG9vcC4gSG93ZXZlciwgd2hlcmVhcyB0aGUgYW5pbWF0aW9uIGxvb3BcbiAqIHJlbmRlcnMgZWFjaCBqb2Igb25jZSBwZXIgZnJhbWUgbG9vcC0tcmVnYXJkbGVzcyBvZiBob3cgbXVjaCB0aW1lIGFjdHVhbGx5IGVsYXBzZWQgc2luY2UgdGhlXG4gKiBwcmV2aW91cyBmcmFtZS0tdGhlIHBoeXNpY3MgbG9vcCB1cGRhdGVzIGl0cyBqb2JzIGF0IGEgY29uc3RhbnQgcmF0ZS4gVG8gcmVjb25jaWxlIHRoZXNlIGZyYW1lXG4gKiByYXRlcywgdGhlIHBoeXNpY3MgbG9vcCBydW5zIGFzIG1hbnkgdGltZXMgYXMgaXMgbmVlZGVkIGluIG9yZGVyIHRvIGNhdGNoIHVwIHRvIHRoZSB0aW1lIG9mIHRoZVxuICogY3VycmVudCBhbmltYXRpb24gZnJhbWUuIFRoZSBwaHlzaWNzIGZyYW1lIHJhdGUgc2hvdWxkIGJlIG11Y2ggaGlnaGVyIHRoYW4gdGhlIGFuaW1hdGlvbiBmcmFtZVxuICogcmF0ZS5cbiAqXG4gKiBJdCBpcyBWRVJZIElNUE9SVEFOVCBmb3IgYSBQaHlzaWNzSm9iIHRvIG1pbmltaXplIHRoZSBydW50aW1lIG9mIGl0cyB1cGRhdGUgc3RlcC5cbiAqXG4gKiAjIyBBIG5vdGUgb24gam9iIG9yZGVyXG4gKlxuICogVGhlIGludGVncmF0aW9uK2NvbGxpc2lvbiBwaXBlbGluZSBoYW5kbGUgb25lIGpvYiBhdCBhIHRpbWUuIEEgY29uc2VxdWVuY2Ugb2YgdGhpcyBkZXNpZ25cbiAqIGlzIHRoYXQgaGFsZiBvZiB0aGUgY29sbGlzaW9ucyB0ZWNobmljYWxseSByZXByZXNlbnQgYSBmYWxzZSBpbnRlcmFjdGlvbiBiZXR3ZWVuIHRoZSBzdGF0ZSBvZiB0aGVcbiAqIGZpcnN0IG9iamVjdCBhdCB0aW1lIHQgYW5kIHRoZSBzdGF0ZSBvZiB0aGUgc2Vjb25kIG9iamVjdCBhdCB0aW1lIHQgLSAxLlxuICpcbiAqIFRoaXMgaW1wbGVtZW50YXRpb24gcHJldmVudHMgYSBtb3JlIHByb2JsZW1hdGljIGlzc3VlLiBJZiBhbGwgb2JqZWN0cyB3ZXJlIGZpcnN0IGludGVncmF0ZWQsIHRoZW5cbiAqIGFsbCBvYmplY3RzIHdlcmUgY2hlY2tlZCBmb3IgY29sbGlzaW9ucywgdGhlbiBhbGwgY29sbGlzaW9ucyB3ZXJlIHJlc29sdmVkLCB0aGVuIHRoZSBmb2xsb3dpbmdcbiAqIHNjZW5hcmlvIGNvdWxkIGFyaXNlOlxuICogLSBUaGUgbmV4dCBwb3NpdGlvbiBvZiBvYmplY3QgQSBjb2xsaWRlcyB3aXRoIHRoZSBwcmV2aW91cyBwb3NpdGlvbiBvZiBvYmplY3QgQiwgYnV0IG5vdCB3aXRoIHRoZVxuICogICBuZXh0IHBvc2l0aW9uIG9mIG9iamVjdCBCLCBzbyBvYmplY3QgQSBtb3ZlcyBzdWNjZXNzZnVsbHkgdG8gaXRzIG5ldyBwb3NpdGlvbi5cbiAqIC0gVGhlIG5leHQgcG9zaXRpb24gb2Ygb2JqZWN0IEIgY29sbGlkZXMgd2l0aCB0aGUgbmV4dCBwb3NpdGlvbiBvZiBvYmplY3QgQywgc28gb2JqZWN0cyBCIGFuZCBDXG4gKiAgIGFyZSByZXNldCB0byB0aGVpciBwcmV2aW91cyBwb3NpdGlvbnMuXG4gKiAtIE9iamVjdCBCIGFuZCBDIG5vdyBpbnRlcnNlY3QuXG4gKi9cbmNsYXNzIFBoeXNpY3NFbmdpbmUgZXh0ZW5kcyBQZXJzaXN0ZW50QW5pbWF0aW9uSm9iIHtcbiAgLyoqXG4gICAqIENsaWVudHMgc2hvdWxkIGNhbGwgUGh5c2ljc0VuZ2luZS5jcmVhdGUgaW5zdGVhZCBvZiBpbnN0YW50aWF0aW5nIGEgUGh5c2ljc0VuZ2luZSBkaXJlY3RseS5cbiAgICpcbiAgICogQHBhcmFtIHtQaHlzaWNzQ29uZmlnfSBwaHlzaWNzUGFyYW1zXG4gICAqL1xuICBjb25zdHJ1Y3RvcihwaHlzaWNzUGFyYW1zKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIGlmIChfcGh5c2ljc0VuZ2luZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5cXCd0IGluc3RhbnRpYXRlIG11bHRpcGxlIGluc3RhbmNlcyBvZiBQaHlzaWNzRW5naW5lLicpO1xuICAgIH1cblxuICAgIF9waHlzaWNzRW5naW5lID0gdGhpcztcblxuICAgIHRoaXMuX3BoeXNpY3NQYXJhbXMgPSBwaHlzaWNzUGFyYW1zO1xuICAgIHRoaXMuaW50ZWdyYXRvciA9IHJrNEludGVncmF0b3I7XG4gICAgdGhpcy5fZWxhcHNlZFRpbWUgPSAwLjA7XG4gICAgdGhpcy5fcmVtYWluaW5nVGltZSA9IDAuMDtcbiAgICB0aGlzLl9ub25Db2xsaWRhYmxlSm9icyA9IFtdO1xuICAgIHRoaXMuX2NvbGxpZGFibGVKb2JzID0gW107XG5cbiAgICBpZiAoX3V0aWwuaXNJbkRldk1vZGUpIHtcbiAgICAgIHRoaXMuX3NldFVwRm9ySW5EZXZNb2RlKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7UGh5c2ljc0NvbmZpZ30gcGh5c2ljc1BhcmFtc1xuICAgKi9cbiAgc3RhdGljIGNyZWF0ZShwaHlzaWNzUGFyYW1zKSB7XG4gICAgbmV3IFBoeXNpY3NFbmdpbmUocGh5c2ljc1BhcmFtcyk7XG4gIH1cblxuICByZXNldCgpIHtcbiAgICB0aGlzLl9lbGFwc2VkVGltZSA9IDAuMDtcbiAgICB0aGlzLl9yZW1haW5pbmdUaW1lID0gMC4wO1xuICAgIHRoaXMuX25vbkNvbGxpZGFibGVKb2JzID0gW107XG4gICAgdGhpcy5fY29sbGlkYWJsZUpvYnMgPSBbXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIHRoZSBnaXZlbiBQaHlzaWNzSm9iLlxuICAgKlxuICAgKiBAcGFyYW0ge1BoeXNpY3NKb2J9IGpvYlxuICAgKi9cbiAgYWRkSm9iKGpvYikge1xuICAgIC8vIGNvbnNvbGUuZGVidWcoYFN0YXJ0aW5nIFBoeXNpY3NKb2JgKTtcblxuICAgIGlmIChqb2IgaW5zdGFuY2VvZiBDb2xsaWRhYmxlUGh5c2ljc0pvYikge1xuICAgICAgdGhpcy5fY29sbGlkYWJsZUpvYnMucHVzaChqb2IpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9ub25Db2xsaWRhYmxlSm9icy5wdXNoKGpvYik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgdGhlIGdpdmVuIFBoeXNpY3NKb2IuXG4gICAqXG4gICAqIFRocm93cyBubyBlcnJvciBpZiB0aGUgam9iIGlzIG5vdCByZWdpc3RlcmVkLlxuICAgKlxuICAgKiBAcGFyYW0ge1BoeXNpY3NKb2J9IGpvYlxuICAgKi9cbiAgcmVtb3ZlSm9iKGpvYikge1xuICAgIC8vIGNvbnNvbGUuZGVidWcoYENhbmNlbGxpbmcgUGh5c2ljc0pvYmApO1xuICAgIHRoaXMuX3JlbW92ZUpvYihqb2IpO1xuICB9XG5cbiAgLyoqXG4gICAqIFdyYXBzIHRoZSBkcmF3IGFuZCB1cGRhdGUgbWV0aG9kcyBpbiBhIHByb2ZpbGVyIGZ1bmN0aW9uIHRoYXQgd2lsbCB0cmFjayB0aGUgZnJhbWUgbGF0ZW5jaWVzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3NldFVwRm9ySW5EZXZNb2RlKCkge1xuICAgIGNvbnN0IHVud3JhcHBlZFVwZGF0ZSA9IHRoaXMudXBkYXRlLmJpbmQodGhpcyk7XG4gICAgY29uc3QgbGF0ZW5jeVByb2ZpbGVyID0gbmV3IEZyYW1lTGF0ZW5jeVByb2ZpbGVyKF9GUkFNRV9MQVRFTkNZX0xPR19QRVJJT0QsIFxuICAgICAgICB0aGlzLl9waHlzaWNzUGFyYW1zLnRpbWVTdGVwRHVyYXRpb24sIF9MQVRFTkNZX0xPR19MQUJFTCk7XG4gICAgbGF0ZW5jeVByb2ZpbGVyLnN0YXJ0KCk7XG5cbiAgICB0aGlzLnVwZGF0ZSA9ICguLi5hcmdzKSA9PiB7XG4gICAgICBjb25zdCBiZWZvcmVUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICB1bndyYXBwZWRVcGRhdGUoLi4uYXJncyk7XG4gICAgICBjb25zdCBkZWx0YVRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKSAtIGJlZm9yZVRpbWU7XG4gICAgICBsYXRlbmN5UHJvZmlsZXIucmVjb3JkRnJhbWVMYXRlbmN5KGRlbHRhVGltZSk7XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgdGhlIHBoeXNpY3Mgc3RhdGUgZm9yIHRoZSBjdXJyZW50IGFuaW1hdGlvbiB1cGRhdGUgZnJhbWUuXG4gICAqXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gY3VycmVudFRpbWVcbiAgICogQHBhcmFtIHtET01IaWdoUmVzVGltZVN0YW1wfSBkZWx0YVRpbWVcbiAgICovXG4gIHVwZGF0ZShjdXJyZW50VGltZSwgZGVsdGFUaW1lKSB7XG4gICAgdGhpcy5fcmVtYWluaW5nVGltZSArPSBkZWx0YVRpbWU7XG5cbiAgICAvLyBSdW4gYXMgbWFueSBjb25zdGFudC1pbnRlcnZhbCBwaHlzaWNzIHVwZGF0ZXMgYXMgYXJlIG5lZWRlZCBmb3IgdGhlIGdpdmVuIGFuaW1hdGlvbiBmcmFtZVxuICAgIC8vIGludGVydmFsLlxuICAgIHdoaWxlICh0aGlzLl9yZW1haW5pbmdUaW1lID49IHRoaXMuX3BoeXNpY3NQYXJhbXMudGltZVN0ZXBEdXJhdGlvbikge1xuICAgICAgdGhpcy5fdXBkYXRlVG9OZXh0UGh5c2ljc0ZyYW1lKCk7XG4gICAgICB0aGlzLl9lbGFwc2VkVGltZSArPSB0aGlzLl9waHlzaWNzUGFyYW1zLnRpbWVTdGVwRHVyYXRpb247XG4gICAgICB0aGlzLl9yZW1haW5pbmdUaW1lIC09IHRoaXMuX3BoeXNpY3NQYXJhbXMudGltZVN0ZXBEdXJhdGlvbjtcbiAgICB9XG5cbiAgICAvLyBDYWxjdWxhdGUgdGhlIGludGVybWVkaWF0ZSBwaHlzaWNzIHN0YXRlIHRvIHVzZSBmb3IgcmVuZGVyaW5nIHRoZSBjdXJyZW50IGFuaW1hdGlvbiBmcmFtZS5cbiAgICBjb25zdCBwYXJ0aWFsUmF0aW8gPSB0aGlzLl9yZW1haW5pbmdUaW1lIC8gdGhpcy5fcGh5c2ljc1BhcmFtcy50aW1lU3RlcER1cmF0aW9uO1xuICAgIHRoaXMuX3NldFBhcnRpYWxTdGF0ZUZvclJlbmRlclRpbWVTdGVwRm9yQWxsSm9icyhwYXJ0aWFsUmF0aW8pO1xuICB9XG5cbiAgX3VwZGF0ZVRvTmV4dFBoeXNpY3NGcmFtZSgpIHtcbiAgICBpZiAoX3V0aWwuaXNJbkRldk1vZGUpIHtcbiAgICAgIHRoaXMuX3JlY29yZE9sZFN0YXRlc0ZvckFsbEpvYnNGb3JEZXZNb2RlKCk7XG4gICAgICByZWNvcmRPbGRDb2xsaXNpb25zRm9yRGV2TW9kZUZvckFsbENvbGxpZGFibGVzKCk7XG4gICAgfVxuXG4gICAgdGhpcy5fbm9uQ29sbGlkYWJsZUpvYnMuZm9yRWFjaCh0aGlzLl9pbnRlZ3JhdGVQaHlzaWNzU3RhdGVGb3JKb2IuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5fY29sbGlkYWJsZUpvYnMuZm9yRWFjaChqb2IgPT4ge1xuICAgICAgaWYgKCFqb2IuaXNBdFJlc3QpIHtcbiAgICAgICAgdGhpcy5faW50ZWdyYXRlUGh5c2ljc1N0YXRlRm9yQ29sbGlkYWJsZUpvYihqb2IpO1xuICAgICAgICBoYW5kbGVDb2xsaXNpb25zRm9ySm9iKGpvYiwgdGhpcy5fZWxhcHNlZFRpbWUsIHRoaXMuX3BoeXNpY3NQYXJhbXMpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKF91dGlsLmlzSW5EZXZNb2RlKSB7XG4gICAgICBjaGVja1RoYXROb09iamVjdHNDb2xsaWRlKCk7XG4gICAgfVxuXG4gICAgdGhpcy5fc3VwcHJlc3NMb3dNb21lbnRhRm9yQWxsSm9icygpO1xuXG4gICAgZGV0ZXJtaW5lSm9ic0F0UmVzdCh0aGlzLl9jb2xsaWRhYmxlSm9icyk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyB0aGUgZ2l2ZW4gam9iIGZyb20gdGhlIGNvbGxlY3Rpb24gb2YgYWN0aXZlIGpvYnMgaWYgaXQgZXhpc3RzLlxuICAgKlxuICAgKiBAcGFyYW0ge1BoeXNpY3NKb2J9IGpvYlxuICAgKiBAcGFyYW0ge251bWJlcn0gW2luZGV4PS0xXVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3JlbW92ZUpvYihqb2IsIGluZGV4ID0gLTEpIHtcbiAgICBpZiAoam9iIGluc3RhbmNlb2YgQ29sbGlkYWJsZVBoeXNpY3NKb2IpIHtcbiAgICAgIF9yZW1vdmVKb2JGcm9tQ29sbGVjdGlvbihqb2IsIGluZGV4LCB0aGlzLl9jb2xsaWRhYmxlSm9icyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIF9yZW1vdmVKb2JGcm9tQ29sbGVjdGlvbihqb2IsIGluZGV4LCB0aGlzLl9ub25Db2xsaWRhYmxlSm9icyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGUgY3VycmVudCBwaHlzaWNzIHN0YXRlIGZvciBhIGpvYiBmb3IgdGhlIGN1cnJlbnQgcGh5c2ljcyB1cGRhdGUgZnJhbWUuXG4gICAqXG4gICAqIFRoaXMgaW5jbHVkZXMgYXBwbHlpbmcgYWxsIGZvcmNlcyB0aGF0IGhhdmUgYmVlbiByZWdpc3RlcmVkIHdpdGggdGhlIHBoeXNpY3Mgam9iLlxuICAgKlxuICAgKiBAcGFyYW0ge0NvbGxpZGFibGVQaHlzaWNzSm9ifSBqb2JcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9pbnRlZ3JhdGVQaHlzaWNzU3RhdGVGb3JDb2xsaWRhYmxlSm9iKGpvYikge1xuICAgIHRoaXMuX2ludGVncmF0ZVBoeXNpY3NTdGF0ZUZvckpvYihqb2IpO1xuXG4gICAgLy8gVXBkYXRlIHRoZSBjb2xsaWRhYmxlJ3MgcG9zaXRpb24gYW5kIG9yaWVudGF0aW9uLlxuICAgIGpvYi5jb2xsaWRhYmxlLnBvc2l0aW9uID0gam9iLmN1cnJlbnRTdGF0ZS5wb3NpdGlvbjtcbiAgICBqb2IuY29sbGlkYWJsZS5vcmllbnRhdGlvbiA9IGpvYi5jdXJyZW50U3RhdGUub3JpZW50YXRpb247XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIHRoZSBjdXJyZW50IHBoeXNpY3Mgc3RhdGUgZm9yIGEgam9iIGZvciB0aGUgY3VycmVudCBwaHlzaWNzIHVwZGF0ZSBmcmFtZS5cbiAgICpcbiAgICogVGhpcyBpbmNsdWRlcyBhcHBseWluZyBhbGwgZm9yY2VzIHRoYXQgaGF2ZSBiZWVuIHJlZ2lzdGVyZWQgd2l0aCB0aGUgcGh5c2ljcyBqb2IuXG4gICAqXG4gICAqIEBwYXJhbSB7UGh5c2ljc0pvYn0gam9iXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaW50ZWdyYXRlUGh5c2ljc1N0YXRlRm9ySm9iKGpvYikge1xuICAgIGpvYi5wcmV2aW91c1N0YXRlLmNvcHkoam9iLmN1cnJlbnRTdGF0ZSk7XG4gICAgdGhpcy5pbnRlZ3JhdG9yLmludGVncmF0ZShqb2IsIHRoaXMuX2VsYXBzZWRUaW1lLCB0aGlzLl9waHlzaWNzUGFyYW1zLnRpbWVTdGVwRHVyYXRpb24pO1xuICB9XG5cbiAgX3N1cHByZXNzTG93TW9tZW50YUZvckFsbEpvYnMoKSB7XG4gICAgdGhpcy5fY29sbGlkYWJsZUpvYnMuZm9yRWFjaChqb2IgPT4gX3N1cHByZXNzTG93TW9tZW50YUZvckpvYihqb2IsXG4gICAgICAgIHRoaXMuX3BoeXNpY3NQYXJhbXMubG93TW9tZW50dW1TdXBwcmVzc2lvblRocmVzaG9sZCxcbiAgICAgICAgdGhpcy5fcGh5c2ljc1BhcmFtcy5sb3dBbmd1bGFyTW9tZW50dW1TdXBwcmVzc2lvblRocmVzaG9sZCkpO1xuICAgIHRoaXMuX25vbkNvbGxpZGFibGVKb2JzLmZvckVhY2goam9iID0+IF9zdXBwcmVzc0xvd01vbWVudGFGb3JKb2Ioam9iLFxuICAgICAgICB0aGlzLl9waHlzaWNzUGFyYW1zLmxvd01vbWVudHVtU3VwcHJlc3Npb25UaHJlc2hvbGQsXG4gICAgICAgIHRoaXMuX3BoeXNpY3NQYXJhbXMubG93QW5ndWxhck1vbWVudHVtU3VwcHJlc3Npb25UaHJlc2hvbGQpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgdGhlIGludGVybWVkaWF0ZSBwaHlzaWNzIHN0YXRlIHRvIHVzZSBmb3IgcmVuZGVyaW5nIHRoZSBjdXJyZW50IGFuaW1hdGlvbiBmcmFtZS4gVGhlXG4gICAqIGdpdmVuIHJhdGlvIHNwZWNpZmllcyBob3cgZmFyIHRoZSBjdXJyZW50IHJlbmRlciBmcmFtZSBpcyBiZXR3ZWVuIHRoZSBwcmV2aW91cyBhbmQgY3VycmVudFxuICAgKiBwaHlzaWNzIHVwZGF0ZSBmcmFtZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBwYXJ0aWFsUmF0aW9cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9zZXRQYXJ0aWFsU3RhdGVGb3JSZW5kZXJUaW1lU3RlcEZvckFsbEpvYnMocGFydGlhbFJhdGlvKSB7XG4gICAgdGhpcy5fY29sbGlkYWJsZUpvYnMuZm9yRWFjaChfc2V0UGFydGlhbFN0YXRlRm9yUmVuZGVyVGltZVN0ZXBGb3JKb2IuYmluZChudWxsLCBwYXJ0aWFsUmF0aW8pKTtcbiAgICB0aGlzLl9ub25Db2xsaWRhYmxlSm9icy5mb3JFYWNoKF9zZXRQYXJ0aWFsU3RhdGVGb3JSZW5kZXJUaW1lU3RlcEZvckpvYi5iaW5kKG51bGwsIHBhcnRpYWxSYXRpbykpO1xuICB9XG5cbiAgX3JlY29yZE9sZFN0YXRlc0ZvckFsbEpvYnNGb3JEZXZNb2RlKCkge1xuICAgIHRoaXMuX2NvbGxpZGFibGVKb2JzLmZvckVhY2goX3JlY29yZE9sZFN0YXRlc0ZvckpvYik7XG4gICAgdGhpcy5fbm9uQ29sbGlkYWJsZUpvYnMuZm9yRWFjaChfcmVjb3JkT2xkU3RhdGVzRm9ySm9iKTtcbiAgfVxuXG4gIGRyYXcoKSB7fVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7UGh5c2ljc0VuZ2luZX1cbiAgICovXG4gIHN0YXRpYyBnZXQgaW5zdGFuY2UoKSB7XG4gICAgaWYgKCFfcGh5c2ljc0VuZ2luZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5cXCd0IGFjY2VzcyBQaHlzaWNzRW5naW5lLmluc3RhbmNlIGJlZm9yZSBpdCBoYXMgYmVlbiBpbnN0YW50aWF0ZWQuJyk7XG4gICAgfVxuICAgIHJldHVybiBfcGh5c2ljc0VuZ2luZTtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7UGh5c2ljc0pvYn0gam9iXG4gKiBAcGFyYW0ge251bWJlcn0gbG93TW9tZW50dW1TdXBwcmVzc2lvblRocmVzaG9sZFxuICogQHBhcmFtIHtudW1iZXJ9IGxvd0FuZ3VsYXJNb21lbnR1bVN1cHByZXNzaW9uVGhyZXNob2xkXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfc3VwcHJlc3NMb3dNb21lbnRhRm9ySm9iKGpvYiwgbG93TW9tZW50dW1TdXBwcmVzc2lvblRocmVzaG9sZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG93QW5ndWxhck1vbWVudHVtU3VwcHJlc3Npb25UaHJlc2hvbGQpIHtcbiAgY29uc3QgY3VycmVudFN0YXRlID0gam9iLmN1cnJlbnRTdGF0ZTtcblxuICBpZiAodmVjMy5zcXVhcmVkTGVuZ3RoKGN1cnJlbnRTdGF0ZS5tb21lbnR1bSkgPCBsb3dNb21lbnR1bVN1cHByZXNzaW9uVGhyZXNob2xkKSB7XG4gICAgdmVjMy5zZXQoY3VycmVudFN0YXRlLm1vbWVudHVtLCAwLCAwLCAwKTtcbiAgfVxuXG4gIGlmICh2ZWMzLnNxdWFyZWRMZW5ndGgoY3VycmVudFN0YXRlLmFuZ3VsYXJNb21lbnR1bSkgPCBsb3dBbmd1bGFyTW9tZW50dW1TdXBwcmVzc2lvblRocmVzaG9sZCkge1xuICAgIHZlYzMuc2V0KGN1cnJlbnRTdGF0ZS5hbmd1bGFyTW9tZW50dW0sIDAsIDAsIDApO1xuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtQaHlzaWNzSm9ifSBqb2JcbiAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleFxuICogQHBhcmFtIHtBcnJheS48UGh5c2ljc0pvYj59IGpvYnNcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIF9yZW1vdmVKb2JGcm9tQ29sbGVjdGlvbihqb2IsIGluZGV4LCBqb2JzKSB7XG4gIGlmIChpbmRleCA+PSAwKSB7XG4gICAgam9icy5zcGxpY2UoaW5kZXgsIDEpO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IGNvdW50ID0gam9icy5sZW5ndGg7XG4gICAgZm9yIChpbmRleCA9IDA7IGluZGV4IDwgY291bnQ7IGluZGV4KyspIHtcbiAgICAgIGlmIChqb2JzW2luZGV4XSA9PT0gam9iKSB7XG4gICAgICAgIGpvYnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IHBhcnRpYWxSYXRpb1xuICogQHBhcmFtIHtQaHlzaWNzSm9ifSBqb2JcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIF9zZXRQYXJ0aWFsU3RhdGVGb3JSZW5kZXJUaW1lU3RlcEZvckpvYihwYXJ0aWFsUmF0aW8sIGpvYikge1xuICBqb2IucmVuZGVyU3RhdGUubGVycChqb2IucHJldmlvdXNTdGF0ZSwgam9iLmN1cnJlbnRTdGF0ZSwgcGFydGlhbFJhdGlvKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1BoeXNpY3NKb2J9IGpvYlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX3JlY29yZE9sZFN0YXRlc0ZvckpvYihqb2IpIHtcbiAgaWYgKCFqb2IuZXh0cmFQcmV2aW91c1N0YXRlcykge1xuICAgIGpvYi5leHRyYVByZXZpb3VzU3RhdGVzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCA0OyBpKyspIHtcbiAgICAgIGpvYi5leHRyYVByZXZpb3VzU3RhdGVzW2ldID0gbmV3IFBoeXNpY3NTdGF0ZSgpO1xuICAgIH1cbiAgfVxuXG4gIGZvciAobGV0IGkgPSAzOyBpID4gMDsgaS0tKSB7XG4gICAgam9iLmV4dHJhUHJldmlvdXNTdGF0ZXNbaV0uY29weShqb2IuZXh0cmFQcmV2aW91c1N0YXRlc1tpIC0gMV0pO1xuICB9XG4gIGpvYi5leHRyYVByZXZpb3VzU3RhdGVzWzBdLmNvcHkoam9iLnByZXZpb3VzU3RhdGUpO1xufVxuXG5sZXQgX3BoeXNpY3NFbmdpbmUgPSBudWxsO1xuXG5leHBvcnQge1BoeXNpY3NFbmdpbmV9O1xuIiwiaW1wb3J0IHthbmltYXRvcn0gZnJvbSAnbHNsLWFuaW1hdGV4JztcbmltcG9ydCB7UGh5c2ljc0VuZ2luZX0gZnJvbSAnLi9waHlzaWNzLWVuZ2luZSc7XG5pbXBvcnQge1BoeXNpY3NTdGF0ZX0gZnJvbSAnLi9waHlzaWNzLXN0YXRlJztcbmltcG9ydCB7X3V0aWx9IGZyb20gJy4uL3V0aWwnO1xuXG4vKipcbiAqIEEgUGh5c2ljc0pvYiBtYWludGFpbnMgYSBjdXJyZW50IGZvcmNlL21vbWVudHVtIHN0YXRlIGFuZCBkZWZpbmVzIGEgbWV0aG9kIGZvciBhcHBseWluZyBmb3JjZXMgYXRcbiAqIGEgZ2l2ZW4gcGh5c2ljcyB0aW1lIHN0ZXAuXG4gKi9cbmNsYXNzIFBoeXNpY3NKb2Ige1xuICAvKipcbiAgICogQHBhcmFtIHtBcnJheS48Rm9yY2VBcHBsaWVyPn0gW2ZvcmNlQXBwbGllcnNdXG4gICAqIEBwYXJhbSB7UGh5c2ljc1N0YXRlfSBbc3RhdGVdXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihmb3JjZUFwcGxpZXJzLCBzdGF0ZSkge1xuICAgIGZvcmNlQXBwbGllcnMgPSBmb3JjZUFwcGxpZXJzIHx8IFtdO1xuICAgIHN0YXRlID0gc3RhdGUgfHwgbmV3IFBoeXNpY3NTdGF0ZSgpO1xuXG4gICAgdGhpcy5zdGFydFRpbWUgPSBudWxsO1xuICAgIHRoaXMuY3VycmVudFN0YXRlID0gc3RhdGU7XG4gICAgdGhpcy5wcmV2aW91c1N0YXRlID0gbnVsbDtcbiAgICB0aGlzLnJlbmRlclN0YXRlID0gbnVsbDtcbiAgICB0aGlzLl9mb3JjZUFwcGxpZXJzID0gZm9yY2VBcHBsaWVycztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0ZvcmNlQXBwbGllck91dHB1dH0gb3V0cHV0UGFyYW1zXG4gICAqIEBwYXJhbSB7Rm9yY2VBcHBsaWVySW5wdXR9IGlucHV0UGFyYW1zXG4gICAqL1xuICBhcHBseUZvcmNlcyhvdXRwdXRQYXJhbXMsIGlucHV0UGFyYW1zKSB7XG4gICAgdGhpcy5fZm9yY2VBcHBsaWVycy5mb3JFYWNoKGZvcmNlQXBwbGllciA9PiBmb3JjZUFwcGxpZXIob3V0cHV0UGFyYW1zLCBpbnB1dFBhcmFtcykpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7Rm9yY2VBcHBsaWVyfSBmb3JjZUFwcGxpZXJcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtpbmRleD0wXSBUaGUgaW5kZXggdG8gYWRkIHRoZSBnaXZlbiBmb3JjZSBhcHBsaWVyIGluIHRoZSBjdXJyZW50IGxpc3Qgb2ZcbiAgICogYXBwbGllcnMuXG4gICAqL1xuICBhZGRGb3JjZUFwcGxpZXIoZm9yY2VBcHBsaWVyLCBpbmRleCA9IDApIHtcbiAgICB0aGlzLl9mb3JjZUFwcGxpZXJzLnNwbGljZShpbmRleCwgMCwgZm9yY2VBcHBsaWVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0ZvcmNlQXBwbGllcn0gZm9yY2VBcHBsaWVyXG4gICAqL1xuICByZW1vdmVGb3JjZUFwcGxpZXIoZm9yY2VBcHBsaWVyKSB7XG4gICAgdGhpcy5fZm9yY2VBcHBsaWVycy5zcGxpY2UodGhpcy5fZm9yY2VBcHBsaWVycy5pbmRleE9mKGZvcmNlQXBwbGllciksIDEpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVycyB0aGlzIFBoeXNpY3NKb2IgYW5kIGFsbCBvZiBpdHMgZGVzY2VuZGFudCBjaGlsZCBqb2JzIHdpdGggdGhlIHBoeXNpY3MgZW5naW5lLlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0VGltZV1cbiAgICovXG4gIHN0YXJ0KHN0YXJ0VGltZSkge1xuICAgIHRoaXMuc3RhcnRUaW1lID0gc3RhcnRUaW1lIHx8IGFuaW1hdG9yLmN1cnJlbnRUaW1lO1xuXG4gICAgY29uc3QgcHJldmlvdXNTdGF0ZSA9IG5ldyBQaHlzaWNzU3RhdGUoKTtcbiAgICBwcmV2aW91c1N0YXRlLmNvcHkodGhpcy5jdXJyZW50U3RhdGUpO1xuICAgIGNvbnN0IHJlbmRlclN0YXRlID0gbmV3IFBoeXNpY3NTdGF0ZSgpO1xuICAgIHJlbmRlclN0YXRlLmNvcHkodGhpcy5jdXJyZW50U3RhdGUpO1xuXG4gICAgdGhpcy5wcmV2aW91c1N0YXRlID0gcHJldmlvdXNTdGF0ZTtcbiAgICB0aGlzLnJlbmRlclN0YXRlID0gcmVuZGVyU3RhdGU7XG5cbiAgICBpZiAoX3V0aWwuaXNJbkRldk1vZGUpIHtcbiAgICAgIC8vIEl0IGlzIHVzZWZ1bCBmb3IgZGVidWdnaW5nIHRvIGJlIGFibGUgdG8gdHJhY2UgdGhlIHN0YXRlcyBiYWNrIHRvIHRoZWlyIGpvYnMuXG4gICAgICB0aGlzLmN1cnJlbnRTdGF0ZS5qb2IgPSB0aGlzO1xuICAgICAgdGhpcy5wcmV2aW91c1N0YXRlLmpvYiA9IHRoaXM7XG4gICAgICB0aGlzLnJlbmRlclN0YXRlLmpvYiA9IHRoaXM7XG4gICAgfVxuXG4gICAgUGh5c2ljc0VuZ2luZS5pbnN0YW5jZS5hZGRKb2IodGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogVW5yZWdpc3RlcnMgdGhpcyBQaHlzaWNzSm9iIGFuZCBhbGwgb2YgaXRzIGRlc2NlbmRhbnQgY2hpbGQgam9icyB3aXRoIHRoZSBwaHlzaWNzIGVuZ2luZS5cbiAgICpcbiAgICogVGhyb3dzIG5vIGVycm9yIGlmIHRoZSBqb2IgaXMgbm90IHJlZ2lzdGVyZWQuXG4gICAqL1xuICBmaW5pc2goKSB7XG4gICAgUGh5c2ljc0VuZ2luZS5pbnN0YW5jZS5yZW1vdmVKb2IodGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydFRpbWVdXG4gICAqL1xuICByZXN0YXJ0KHN0YXJ0VGltZSkge1xuICAgIHRoaXMuZmluaXNoKCk7XG4gICAgdGhpcy5zdGFydChzdGFydFRpbWUpO1xuICB9XG59XG5cbmV4cG9ydCB7UGh5c2ljc0pvYn07XG5cbi8qKlxuICogQHR5cGVkZWYge0Z1bmN0aW9ufSBGb3JjZUFwcGxpZXJcbiAqIEBwcm9wZXJ0eSB7dmVjM30gZm9yY2UgT3V0cHV0LlxuICogQHByb3BlcnR5IHt2ZWMzfSB0b3JxdWUgT3V0cHV0LlxuICogQHByb3BlcnR5IHtQaHlzaWNzU3RhdGV9IHN0YXRlIElucHV0LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IHQgSW5wdXQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gZHQgSW5wdXQuXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBQaHlzaWNzQ29uZmlnXG4gKiBAcHJvcGVydHkge251bWJlcn0gdGltZVN0ZXBEdXJhdGlvblxuICogQHByb3BlcnR5IHtudW1iZXJ9IGdyYXZpdHlcbiAqIEBwcm9wZXJ0eSB7dmVjM30gX2dyYXZpdHlWZWNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBsaW5lYXJEcmFnQ29lZmZpY2llbnRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBhbmd1bGFyRHJhZ0NvZWZmaWNpZW50XG4gKiBAcHJvcGVydHkge251bWJlcn0gY29lZmZpY2llbnRPZlJlc3RpdHV0aW9uXG4gKiBAcHJvcGVydHkge251bWJlcn0gY29lZmZpY2llbnRPZkZyaWN0aW9uXG4gKiBAcHJvcGVydHkge251bWJlcn0gbG93TW9tZW50dW1TdXBwcmVzc2lvblRocmVzaG9sZFxuICogQHByb3BlcnR5IHtudW1iZXJ9IGxvd0FuZ3VsYXJNb21lbnR1bVN1cHByZXNzaW9uVGhyZXNob2xkXG4gKi9cbiIsImltcG9ydCB7cm90YXRlVGVuc29yLCBjcmVhdGVCb3hJbmVydGlhVGVuc29yfSBmcm9tICcuLi91dGlsJztcblxuLyoqXG4gKiBUaGlzIGNsYXNzIHJlcHJlc2VudHMgdGhlIHN0YXRlIG9mIGFuIG9iamVjdCB0aGF0IGlzIG5lZWRlZCBmb3IgYSBwaHlzaWNzIHNpbXVsYXRpb24gKHN1Y2ggYXNcbiAqIHBvc2l0aW9uLCBtb21lbnR1bSwgYW5kIG1hc3MpLlxuICovXG5jbGFzcyBQaHlzaWNzU3RhdGUge1xuICAvKipcbiAgICogQHBhcmFtIHtEeW5hbWljc0NvbmZpZ30gW2R5bmFtaWNzUGFyYW1zPXt9XVxuICAgKi9cbiAgY29uc3RydWN0b3IoZHluYW1pY3NQYXJhbXMgPSB7fSkge1xuICAgIGNvbnN0IHBvc2l0aW9uID0gZHluYW1pY3NQYXJhbXMucG9zaXRpb24gfHwgdmVjMy5jcmVhdGUoKTtcbiAgICBjb25zdCBtb21lbnR1bSA9IGR5bmFtaWNzUGFyYW1zLm1vbWVudHVtIHx8IHZlYzMuY3JlYXRlKCk7XG4gICAgY29uc3Qgb3JpZW50YXRpb24gPSBkeW5hbWljc1BhcmFtcy5vcmllbnRhdGlvbiB8fCBxdWF0LmNyZWF0ZSgpO1xuICAgIGNvbnN0IGFuZ3VsYXJNb21lbnR1bSA9IGR5bmFtaWNzUGFyYW1zLmFuZ3VsYXJNb21lbnR1bSB8fCB2ZWMzLmNyZWF0ZSgpO1xuICAgIGNvbnN0IG1hc3MgPSBkeW5hbWljc1BhcmFtcy5tYXNzIHx8IDE7XG4gICAgY29uc3QgdW5yb3RhdGVkSW5lcnRpYVRlbnNvciA9IGR5bmFtaWNzUGFyYW1zLnVucm90YXRlZEluZXJ0aWFUZW5zb3IgfHwgY3JlYXRlQm94SW5lcnRpYVRlbnNvcigxLCAxLCAxLCBtYXNzKTtcblxuICAgIC8vIENvbnN0YW50IGZpZWxkcy5cblxuICAgIHRoaXMubWFzcyA9IG1hc3M7XG4gICAgdGhpcy5pbnZlcnNlTWFzcyA9IDEgLyBtYXNzO1xuICAgIHRoaXMudW5yb3RhdGVkSW5lcnRpYVRlbnNvciA9IHVucm90YXRlZEluZXJ0aWFUZW5zb3I7XG5cbiAgICAvLyBJbmRlcGVuZGVudCBmaWVsZHMuXG5cbiAgICB0aGlzLnBvc2l0aW9uID0gcG9zaXRpb247XG4gICAgdGhpcy5tb21lbnR1bSA9IG1vbWVudHVtO1xuICAgIHRoaXMub3JpZW50YXRpb24gPSBvcmllbnRhdGlvbjtcbiAgICB0aGlzLmFuZ3VsYXJNb21lbnR1bSA9IGFuZ3VsYXJNb21lbnR1bTtcblxuICAgIC8vIERlcGVuZGVudCBmaWVsZHMuXG5cbiAgICAvLyBMaW5lYXIgdmVsb2NpdHkuXG4gICAgdGhpcy52ZWxvY2l0eSA9IHZlYzMuY3JlYXRlKCk7XG4gICAgLy8gUXVhdGVybmlvbi1iYXNlZCByZXByZXNlbnRhdGlvbiBvZiB0aGUgcmF0ZSBvZiBjaGFuZ2UgaW4gb3JpZW50YXRpb24uXG4gICAgdGhpcy5zcGluID0gcXVhdC5jcmVhdGUoKTtcbiAgICAvLyBWZWN0b3ItYmFzZWQgcmVwcmVzZW50YXRpb24gb2YgdGhlIGFuZ3VsYXIgdmVsb2NpdHkuXG4gICAgdGhpcy5hbmd1bGFyVmVsb2NpdHkgPSB2ZWMzLmNyZWF0ZSgpO1xuICAgIC8vIFRoZSBpbnZlcnNlIGluZXJ0aWEgdGVuc29yIHJvdGF0ZWQgdG8gdGhlIHdvcmxkIGNvb3JkaW5hdGUgZnJhbWUuXG4gICAgdGhpcy5pbnZlcnNlSW5lcnRpYVRlbnNvciA9IG1hdDMuY3JlYXRlKCk7XG5cbiAgICB0aGlzLnVwZGF0ZURlcGVuZGVudEZpZWxkcygpO1xuICB9XG5cbiAgdXBkYXRlRGVwZW5kZW50RmllbGRzKCkgey8vIFRPRE86IFRlc3QgdGhpcyBzb21laG93Li4uXG4gICAgLy8gVXBkYXRlIGxpbmVhciB2ZWxvY2l0eS5cbiAgICB2ZWMzLnNjYWxlKHRoaXMudmVsb2NpdHksIHRoaXMubW9tZW50dW0sIHRoaXMuaW52ZXJzZU1hc3MpO1xuXG4gICAgLy8gVXBkYXRlIGFuZ3VsYXIgdmVsb2NpdHkuXG4gICAgcXVhdC5ub3JtYWxpemUodGhpcy5vcmllbnRhdGlvbiwgdGhpcy5vcmllbnRhdGlvbik7XG4gICAgcm90YXRlVGVuc29yKHRoaXMuaW52ZXJzZUluZXJ0aWFUZW5zb3IsIHRoaXMudW5yb3RhdGVkSW5lcnRpYVRlbnNvciwgdGhpcy5vcmllbnRhdGlvbik7XG4gICAgbWF0My5pbnZlcnQodGhpcy5pbnZlcnNlSW5lcnRpYVRlbnNvciwgdGhpcy51bnJvdGF0ZWRJbmVydGlhVGVuc29yKTtcbiAgICB2ZWMzLnRyYW5zZm9ybU1hdDModGhpcy5hbmd1bGFyVmVsb2NpdHksIHRoaXMuYW5ndWxhck1vbWVudHVtLCB0aGlzLmludmVyc2VJbmVydGlhVGVuc29yKTtcbiAgICBxdWF0LnNldCh0aGlzLnNwaW4sIHRoaXMuYW5ndWxhclZlbG9jaXR5WzBdLCB0aGlzLmFuZ3VsYXJWZWxvY2l0eVsxXSxcbiAgICAgICAgdGhpcy5hbmd1bGFyVmVsb2NpdHlbMl0sIDApO1xuICAgIHF1YXQuc2NhbGUodGhpcy5zcGluLCB0aGlzLnNwaW4sIDAuNSk7XG4gICAgcXVhdC5tdWx0aXBseSh0aGlzLnNwaW4sIHRoaXMuc3BpbiwgdGhpcy5vcmllbnRhdGlvbik7XG4gIH1cblxuICAvKipcbiAgICogUGVyZm9ybSBhIGRlZXAgY29weS5cbiAgICpcbiAgICogQHBhcmFtIHtQaHlzaWNzU3RhdGV9IG90aGVyXG4gICAqL1xuICBjb3B5KG90aGVyKSB7XG4gICAgdGhpcy5tYXNzID0gb3RoZXIubWFzcztcbiAgICB0aGlzLmludmVyc2VNYXNzID0gb3RoZXIuaW52ZXJzZU1hc3M7XG4gICAgbWF0My5jb3B5KHRoaXMudW5yb3RhdGVkSW5lcnRpYVRlbnNvciwgb3RoZXIudW5yb3RhdGVkSW5lcnRpYVRlbnNvcik7XG4gICAgbWF0My5jb3B5KHRoaXMuaW52ZXJzZUluZXJ0aWFUZW5zb3IsIG90aGVyLmludmVyc2VJbmVydGlhVGVuc29yKTtcbiAgICB2ZWMzLmNvcHkodGhpcy5wb3NpdGlvbiwgb3RoZXIucG9zaXRpb24pO1xuICAgIHZlYzMuY29weSh0aGlzLm1vbWVudHVtLCBvdGhlci5tb21lbnR1bSk7XG4gICAgcXVhdC5jb3B5KHRoaXMub3JpZW50YXRpb24sIG90aGVyLm9yaWVudGF0aW9uKTtcbiAgICB2ZWMzLmNvcHkodGhpcy5hbmd1bGFyTW9tZW50dW0sIG90aGVyLmFuZ3VsYXJNb21lbnR1bSk7XG4gICAgdmVjMy5jb3B5KHRoaXMudmVsb2NpdHksIG90aGVyLnZlbG9jaXR5KTtcbiAgICBxdWF0LmNvcHkodGhpcy5zcGluLCBvdGhlci5zcGluKTtcbiAgICB2ZWMzLmNvcHkodGhpcy5hbmd1bGFyVmVsb2NpdHksIG90aGVyLmFuZ3VsYXJWZWxvY2l0eSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtQaHlzaWNzU3RhdGV9IGFcbiAgICogQHBhcmFtIHtQaHlzaWNzU3RhdGV9IGJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHBhcnRpYWxSYXRpb1xuICAgKi9cbiAgbGVycChhLCBiLCBwYXJ0aWFsUmF0aW8pIHtcbiAgICB2ZWMzLmxlcnAodGhpcy5wb3NpdGlvbiwgYS5wb3NpdGlvbiwgYi5wb3NpdGlvbiwgcGFydGlhbFJhdGlvKTtcbiAgICB2ZWMzLmxlcnAodGhpcy5tb21lbnR1bSwgYS5tb21lbnR1bSwgYi5tb21lbnR1bSwgcGFydGlhbFJhdGlvKTtcbiAgICBxdWF0LnNsZXJwKHRoaXMub3JpZW50YXRpb24sIGEub3JpZW50YXRpb24sIGIub3JpZW50YXRpb24sIHBhcnRpYWxSYXRpbyk7XG4gICAgcXVhdC5ub3JtYWxpemUodGhpcy5vcmllbnRhdGlvbiwgdGhpcy5vcmllbnRhdGlvbik7XG4gICAgdmVjMy5sZXJwKHRoaXMuYW5ndWxhck1vbWVudHVtLCBhLmFuZ3VsYXJNb21lbnR1bSwgYi5hbmd1bGFyTW9tZW50dW0sIHBhcnRpYWxSYXRpbyk7XG4gICAgdGhpcy51cGRhdGVEZXBlbmRlbnRGaWVsZHMoKTtcbiAgfVxufVxuXG5leHBvcnQge1BoeXNpY3NTdGF0ZX07XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gRHluYW1pY3NDb25maWdcbiAqIEBwcm9wZXJ0eSB7dmVjM30gW3Bvc2l0aW9uXVxuICogQHByb3BlcnR5IHt2ZWMzfSBbbW9tZW50dW1dXG4gKiBAcHJvcGVydHkge3F1YXR9IFtvcmllbnRhdGlvbl1cbiAqIEBwcm9wZXJ0eSB7dmVjM30gW2FuZ3VsYXJNb21lbnR1bV1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWFzc11cbiAqIEBwcm9wZXJ0eSB7bWF0M30gW3Vucm90YXRlZEluZXJ0aWFUZW5zb3JdXG4gKi9cbiIsImV4cG9ydCAqIGZyb20gJy4vc3JjL2ZvcmNlLXV0aWxzJztcbmV4cG9ydCAqIGZyb20gJy4vc3JjL2dlb21ldHJ5JztcbmV4cG9ydCAqIGZyb20gJy4vc3JjL2luZXJ0aWEtdGVuc29yLXV0aWxzJztcbmV4cG9ydCAqIGZyb20gJy4vc3JjL3V0aWwnO1xuIiwiLyoqXG4gKiBUaGlzIG1vZHVsZSBkZWZpbmVzIGEgY29sbGVjdGlvbiBvZiBzdGF0aWMgZ2VuZXJhbCB1dGlsaXR5IGZ1bmN0aW9ucyBmb3IgY2FsY3VsYXRpbmcgZm9yY2VzLlxuICovXG5cbi8qKlxuICogQHBhcmFtIHtHcmF2aXR5QXBwbGllckNvbmZpZ30gY29uZmlnXG4gKiBAcGFyYW0ge0ZvcmNlQXBwbGllck91dHB1dH0gb3V0cHV0XG4gKiBAcGFyYW0ge0ZvcmNlQXBwbGllcklucHV0fSBpbnB1dFxuICovXG5mdW5jdGlvbiBhcHBseUdyYXZpdHkoY29uZmlnLCBvdXRwdXQsIGlucHV0KSB7XG4gIHZlYzMuc2NhbGVBbmRBZGQob3V0cHV0LmZvcmNlLCBvdXRwdXQuZm9yY2UsIGNvbmZpZy5fZ3Jhdml0eVZlYywgaW5wdXQuc3RhdGUubWFzcyk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtMaW5lYXJEcmFnQXBwbGllckNvbmZpZ30gY29uZmlnXG4gKiBAcGFyYW0ge0ZvcmNlQXBwbGllck91dHB1dH0gb3V0cHV0XG4gKiBAcGFyYW0ge0ZvcmNlQXBwbGllcklucHV0fSBpbnB1dFxuICovXG5mdW5jdGlvbiBhcHBseUxpbmVhckRyYWcoY29uZmlnLCBvdXRwdXQsIGlucHV0KSB7XG4gIGNvbnN0IGRyYWdNYWduaXR1ZGUgPSAtdmVjMy5zcXVhcmVkTGVuZ3RoKGlucHV0LnN0YXRlLnZlbG9jaXR5KSAqIGNvbmZpZy5saW5lYXJEcmFnQ29lZmZpY2llbnQ7XG4gIHZlYzMubm9ybWFsaXplKF92ZWMzLCBpbnB1dC5zdGF0ZS52ZWxvY2l0eSk7XG4gIHZlYzMuc2NhbGVBbmRBZGQob3V0cHV0LmZvcmNlLCBvdXRwdXQuZm9yY2UsIF92ZWMzLCBkcmFnTWFnbml0dWRlKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FuZ3VsYXJEcmFnQXBwbGllckNvbmZpZ30gY29uZmlnXG4gKiBAcGFyYW0ge0ZvcmNlQXBwbGllck91dHB1dH0gb3V0cHV0XG4gKiBAcGFyYW0ge0ZvcmNlQXBwbGllcklucHV0fSBpbnB1dFxuICovXG5mdW5jdGlvbiBhcHBseUFuZ3VsYXJEcmFnKGNvbmZpZywgb3V0cHV0LCBpbnB1dCkge1xuICB2ZWMzLnNjYWxlQW5kQWRkKG91dHB1dC50b3JxdWUsIG91dHB1dC50b3JxdWUsIGlucHV0LnN0YXRlLmFuZ3VsYXJWZWxvY2l0eSxcbiAgICAgIGNvbmZpZy5hbmd1bGFyRHJhZ0NvZWZmaWNpZW50KTtcbn1cblxuLyoqXG4gKiBBcHBsaWVzIGEgc2ltcGxlIGxpbmVhciBzcHJpbmcgZm9yY2UgKHVzaW5nIEhvb2tlJ3MgbGF3KS5cbiAqXG4gKiBmb3JjZSA9IGRpc3BsYWNlbWVudCAqIGNvZWZmaWNpZW50XG4gKlxuICogQHBhcmFtIHtMaW5lYXJTcHJpbmdGb3JjZUFwcGxpZXJDb25maWd9IGNvbmZpZ1xuICogQHBhcmFtIHtGb3JjZUFwcGxpZXJPdXRwdXR9IG91dHB1dFxuICogQHBhcmFtIHtGb3JjZUFwcGxpZXJJbnB1dH0gaW5wdXRcbiAqL1xuZnVuY3Rpb24gYXBwbHlMaW5lYXJTcHJpbmdGb3JjZShjb25maWcsIG91dHB1dCwgaW5wdXQpIHtcbiAgdmVjMy5zdWJ0cmFjdChfdmVjMywgY29uZmlnLmdldEludGVuZGVkUG9zaXRpb24oKSwgaW5wdXQuc3RhdGUucG9zaXRpb24pO1xuICB2ZWMzLnNjYWxlQW5kQWRkKG91dHB1dC5mb3JjZSwgb3V0cHV0LmZvcmNlLCBfdmVjMywgY29uZmlnLnNwcmluZ0NvZWZmaWNpZW50KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1NwcmluZ0RhbXBpbmdBcHBsaWVyQ29uZmlnfSBjb25maWdcbiAqIEBwYXJhbSB7Rm9yY2VBcHBsaWVyT3V0cHV0fSBvdXRwdXRcbiAqIEBwYXJhbSB7Rm9yY2VBcHBsaWVySW5wdXR9IGlucHV0XG4gKi9cbmZ1bmN0aW9uIGFwcGx5U3ByaW5nRGFtcGluZyhjb25maWcsIG91dHB1dCwgaW5wdXQpIHtcbiAgdmVjMy5zY2FsZShfdmVjMywgaW5wdXQuc3RhdGUudmVsb2NpdHksIC1jb25maWcuZGFtcGluZ0NvZWZmaWNpZW50KTtcbiAgdmVjMy5hZGQob3V0cHV0LmZvcmNlLCBvdXRwdXQuZm9yY2UsIF92ZWMzKTtcbn1cblxuY29uc3QgX3ZlYzMgPSB2ZWMzLmNyZWF0ZSgpO1xuXG5leHBvcnQge1xuICBhcHBseUFuZ3VsYXJEcmFnLFxuICBhcHBseUdyYXZpdHksXG4gIGFwcGx5TGluZWFyRHJhZyxcbiAgYXBwbHlMaW5lYXJTcHJpbmdGb3JjZSxcbiAgYXBwbHlTcHJpbmdEYW1waW5nLFxufVxuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEdyYXZpdHlBcHBsaWVyQ29uZmlnXG4gKiBAcHJvcGVydHkge3ZlYzN9IF9ncmF2aXR5VmVjXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBMaW5lYXJEcmFnQXBwbGllckNvbmZpZ1xuICogQHByb3BlcnR5IHtudW1iZXJ9IGxpbmVhckRyYWdDb2VmZmljaWVudFxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gQW5ndWxhckRyYWdBcHBsaWVyQ29uZmlnXG4gKiBAcHJvcGVydHkge251bWJlcn0gYW5ndWxhckRyYWdDb2VmZmljaWVudFxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gTGluZWFyU3ByaW5nRm9yY2VBcHBsaWVyQ29uZmlnXG4gKiBAcHJvcGVydHkge251bWJlcn0gc3ByaW5nQ29lZmZpY2llbnRcbiAqIEBwcm9wZXJ0eSB7RnVuY3Rpb24uPHZlYzM+fSBnZXRJbnRlbmRlZFBvc2l0aW9uXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBTcHJpbmdEYW1waW5nQXBwbGllckNvbmZpZ1xuICogQHByb3BlcnR5IHtudW1iZXJ9IGRhbXBpbmdDb2VmZmljaWVudFxuICovXG4iLCIvKipcbiAqIFRoaXMgbW9kdWxlIGRlZmluZXMgYSBjb2xsZWN0aW9uIG9mIHN0YXRpYyBnZW9tZXRyeSB1dGlsaXR5IGZ1bmN0aW9ucy5cbiAqL1xuXG5jb25zdCBFUFNJTE9OID0gMC4wMDAwMDAxO1xuY29uc3QgSEFMRl9QSSA9IE1hdGguUEkgLyAyO1xuY29uc3QgVFdPX1BJID0gTWF0aC5QSSAqIDI7XG5cbi8qKlxuICogRmluZHMgdGhlIG1pbmltdW0gc3F1YXJlZCBkaXN0YW5jZSBiZXR3ZWVuIHR3byBsaW5lIHNlZ21lbnRzLlxuICpcbiAqIEBwYXJhbSB7TGluZVNlZ21lbnR9IHNlZ21lbnRBXG4gKiBAcGFyYW0ge0xpbmVTZWdtZW50fSBzZWdtZW50QlxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZnVuY3Rpb24gZmluZFNxdWFyZWREaXN0YW5jZUJldHdlZW5TZWdtZW50cyhzZWdtZW50QSwgc2VnbWVudEIpIHtcbiAgZmluZENsb3Nlc3RQb2ludHNGcm9tU2VnbWVudFRvU2VnbWVudChfc2VnbWVudERpc3RhbmNlX3RtcFZlY0EsIF9zZWdtZW50RGlzdGFuY2VfdG1wVmVjQixcbiAgICAgIHNlZ21lbnRBLCBzZWdtZW50Qik7XG4gIHJldHVybiB2ZWMzLnNxdWFyZWREaXN0YW5jZShfc2VnbWVudERpc3RhbmNlX3RtcFZlY0EsIF9zZWdtZW50RGlzdGFuY2VfdG1wVmVjQik7XG59XG5cbi8qKlxuICogRmluZHMgdGhlIG1pbmltdW0gc3F1YXJlZCBkaXN0YW5jZSBiZXR3ZWVuIGEgbGluZSBzZWdtZW50IGFuZCBhIHBvaW50LlxuICpcbiAqIEBwYXJhbSB7TGluZVNlZ21lbnR9IHNlZ21lbnRcbiAqIEBwYXJhbSB7dmVjM30gcG9pbnRcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cbmZ1bmN0aW9uIGZpbmRTcXVhcmVkRGlzdGFuY2VGcm9tU2VnbWVudFRvUG9pbnQoc2VnbWVudCwgcG9pbnQpIHtcbiAgZmluZENsb3Nlc3RQb2ludE9uU2VnbWVudFRvUG9pbnQoX3NlZ21lbnREaXN0YW5jZV90bXBWZWNBLCBzZWdtZW50LCBwb2ludCk7XG4gIHJldHVybiB2ZWMzLnNxdWFyZWREaXN0YW5jZShfc2VnbWVudERpc3RhbmNlX3RtcFZlY0EsIHBvaW50KTtcbn1cblxuY29uc3QgX3NlZ21lbnREaXN0YW5jZV90bXBWZWNBID0gdmVjMy5jcmVhdGUoKTtcbmNvbnN0IF9zZWdtZW50RGlzdGFuY2VfdG1wVmVjQiA9IHZlYzMuY3JlYXRlKCk7XG5cbi8qKlxuICogQHBhcmFtIHt2ZWMzfSBvdXRwdXRQb2ludCBPdXRwdXQgcGFyYW1ldGVyLlxuICogQHBhcmFtIHtBYWJifSBhYWJiXG4gKiBAcGFyYW0ge3ZlYzN9IHRhcmdldFBvaW50XG4gKi9cbmZ1bmN0aW9uIGZpbmRDbG9zZXN0UG9pbnRGcm9tQWFiYlRvUG9pbnQob3V0cHV0UG9pbnQsIGFhYmIsIHRhcmdldFBvaW50KSB7XG4gIG91dHB1dFBvaW50WzBdID0gYWFiYi5taW5YID4gdGFyZ2V0UG9pbnRbMF1cbiAgICAgID8gYWFiYi5taW5YXG4gICAgICA6IGFhYmIubWF4WCA8IHRhcmdldFBvaW50WzBdXG4gICAgICAgICAgPyBhYWJiLm1heFhcbiAgICAgICAgICA6IHRhcmdldFBvaW50WzBdO1xuICBvdXRwdXRQb2ludFsxXSA9IGFhYmIubWluWSA+IHRhcmdldFBvaW50WzFdXG4gICAgICA/IGFhYmIubWluWVxuICAgICAgOiBhYWJiLm1heFkgPCB0YXJnZXRQb2ludFsxXVxuICAgICAgICAgID8gYWFiYi5tYXhZXG4gICAgICAgICAgOiB0YXJnZXRQb2ludFsxXTtcbiAgb3V0cHV0UG9pbnRbMl0gPSBhYWJiLm1pblogPiB0YXJnZXRQb2ludFsyXVxuICAgICAgPyBhYWJiLm1pblpcbiAgICAgIDogYWFiYi5tYXhaIDwgdGFyZ2V0UG9pbnRbMl1cbiAgICAgICAgICA/IGFhYmIubWF4WlxuICAgICAgICAgIDogdGFyZ2V0UG9pbnRbMl07XG59XG5cbi8qKlxuICogQHBhcmFtIHt2ZWMzfSBvdXRwdXRQb2ludCBPdXRwdXQgcGFyYW1ldGVyLlxuICogQHBhcmFtIHtBYWJifSBhYWJiXG4gKiBAcGFyYW0ge3ZlYzN9IHRhcmdldFBvaW50XG4gKi9cbmZ1bmN0aW9uIGZpbmRDbG9zZXN0UG9pbnRGcm9tQWFiYlN1cmZhY2VUb1BvaW50KG91dHB1dFBvaW50LCBhYWJiLCB0YXJnZXRQb2ludCkge1xuICBmaW5kQ2xvc2VzdFBvaW50RnJvbUFhYmJUb1BvaW50KG91dHB1dFBvaW50LCBhYWJiLCB0YXJnZXRQb2ludCk7XG5cbiAgLy8gSWYgdGhlIGNhbGN1bGF0ZWQgcG9pbnQgbGllcyB3aXRoaW4gdGhlIEFBQkIsIHRoZW4gd2UgbmVlZCB0byBhZGp1c3Qgb25lIGNvb3JkaW5hdGUgdG8gbGllXG4gIC8vIGFsb25nIHRoZSBlZGdlIG9mIHRoZSBBQUJCLlxuICBpZiAoYWFiYlZzUG9pbnQoYWFiYiwgb3V0cHV0UG9pbnQpKSB7XG4gICAgLy8gQ2FsY3VsYXRlIHRoZSBjbG9zZXN0IHZlcnRleC5cbiAgICBfdG1wVmVjMVswXSA9IHRhcmdldFBvaW50WzBdIC0gYWFiYi5taW5YIDwgYWFiYi5tYXhYIC0gdGFyZ2V0UG9pbnRbMF1cbiAgICAgICAgPyBhYWJiLm1pblhcbiAgICAgICAgOiBhYWJiLm1heFg7XG4gICAgX3RtcFZlYzFbMV0gPSB0YXJnZXRQb2ludFsxXSAtIGFhYmIubWluWSA8IGFhYmIubWF4WSAtIHRhcmdldFBvaW50WzFdXG4gICAgICAgID8gYWFiYi5taW5ZXG4gICAgICAgIDogYWFiYi5tYXhZO1xuICAgIF90bXBWZWMxWzJdID0gdGFyZ2V0UG9pbnRbMl0gLSBhYWJiLm1pblogPCBhYWJiLm1heFogLSB0YXJnZXRQb2ludFsyXVxuICAgICAgICA/IGFhYmIubWluWlxuICAgICAgICA6IGFhYmIubWF4WjtcblxuICAgIC8vIENhbGN1bGF0ZSB0aGUgZGlzdGFuY2UgdG8gdGhlIHZlcnRleCBhbG9uZyBlYWNoIGRpbWVuc2lvbi5cbiAgICBfdG1wVmVjMlswXSA9IF90bXBWZWMxWzBdIC0gb3V0cHV0UG9pbnRbMF07XG4gICAgX3RtcFZlYzJbMF0gPSBfdG1wVmVjMlswXSA8IDAgPyAtX3RtcFZlYzJbMF0gOiBfdG1wVmVjMlswXTtcbiAgICBfdG1wVmVjMlsxXSA9IF90bXBWZWMxWzFdIC0gb3V0cHV0UG9pbnRbMV07XG4gICAgX3RtcFZlYzJbMV0gPSBfdG1wVmVjMlsxXSA8IDEgPyAtX3RtcFZlYzJbMV0gOiBfdG1wVmVjMlsxXTtcbiAgICBfdG1wVmVjMlsyXSA9IF90bXBWZWMxWzJdIC0gb3V0cHV0UG9pbnRbMl07XG4gICAgX3RtcFZlYzJbMl0gPSBfdG1wVmVjMlsyXSA8IDIgPyAtX3RtcFZlYzJbMl0gOiBfdG1wVmVjMlsyXTtcblxuICAgIC8vIERldGVybWluZSBhbG9uZyB3aGljaCBkaW1lbnNpb24gdGhlIHBvaW50IGlzIGNsb3Nlc3QgdG8gdGhlIEFBQkIuXG4gICAgY29uc3QgaW5kZXggPSBfdG1wVmVjMlswXSA8IF90bXBWZWMyWzFdXG4gICAgICAgID8gKF90bXBWZWMyWzBdIDwgX3RtcFZlYzJbMl1cbiAgICAgICAgICAgID8gMFxuICAgICAgICAgICAgOiAyKVxuICAgICAgICA6IChfdG1wVmVjMlsxXSA8IF90bXBWZWMyWzJdXG4gICAgICAgICAgICA/IDFcbiAgICAgICAgICAgIDogMik7XG5cbiAgICBvdXRwdXRQb2ludFtpbmRleF0gPSBfdG1wVmVjMVtpbmRleF07XG4gIH1cbn1cblxuLyoqXG4gKiBGaW5kcyB0aGUgcG9pbnQgb2YgaW50ZXJzZWN0aW9uIGJldHdlZW4gYSBsaW5lIHNlZ21lbnQgYW5kIGEgY29wbGFuYXIgcXVhZHJpbGF0ZXJhbC5cbiAqXG4gKiBUaGlzIGFzc3VtZXMgdGhlIHJlZ2lvbiBpcyBub3QgZGVnZW5lcmF0ZSAoaGFzIG5vbi16ZXJvIHNpZGUgbGVuZ3RocykuXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBwb2kgT3V0cHV0IHBhcmFtLiBOdWxsIGlmIHRoZXJlIGlzIG5vIGludGVyc2VjdGlvbi5cbiAqIEBwYXJhbSB7TGluZVNlZ21lbnR9IHNlZ21lbnRcbiAqIEBwYXJhbSB7dmVjM30gcGxhbmVWZXJ0ZXgxXG4gKiBAcGFyYW0ge3ZlYzN9IHBsYW5lVmVydGV4MlxuICogQHBhcmFtIHt2ZWMzfSBwbGFuZVZlcnRleDNcbiAqIEBwYXJhbSB7dmVjM30gcGxhbmVWZXJ0ZXg0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGVyZSBpcyBhbiBpbnRlcnNlY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGZpbmRQb2lCZXR3ZWVuU2VnbWVudEFuZFBsYW5lUmVnaW9uKHBvaSwgc2VnbWVudCwgcGxhbmVWZXJ0ZXgxLCBwbGFuZVZlcnRleDIsIHBsYW5lVmVydGV4MyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYW5lVmVydGV4NCkge1xuICByZXR1cm4gZmluZFBvaUJldHdlZW5TZWdtZW50QW5kVHJpYW5nbGUocG9pLCBzZWdtZW50LCBwbGFuZVZlcnRleDEsIHBsYW5lVmVydGV4MiwgcGxhbmVWZXJ0ZXgzKSB8fFxuICAgICAgZmluZFBvaUJldHdlZW5TZWdtZW50QW5kVHJpYW5nbGUocG9pLCBzZWdtZW50LCBwbGFuZVZlcnRleDEsIHBsYW5lVmVydGV4MywgcGxhbmVWZXJ0ZXg0KTtcbn1cblxuLyoqXG4gKiBGaW5kcyB0aGUgcG9pbnQgb2YgaW50ZXJzZWN0aW9uIGJldHdlZW4gYSBsaW5lIHNlZ21lbnQgYW5kIGEgdHJpYW5nbGUuXG4gKlxuICogVGhpcyBhc3N1bWVzIHRoZSB0cmlhbmdsZSBpcyBub3QgZGVnZW5lcmF0ZSAoaGFzIG5vbi16ZXJvIHNpZGUgbGVuZ3RocykuXG4gKlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogT3JpZ2luYWxseSBiYXNlZCBvbiBEYW4gU3VuZGF5J3MgYWxnb3JpdGhtcyBhdCBodHRwOi8vZ2VvbWFsZ29yaXRobXMuY29tL2EwNi1faW50ZXJzZWN0LTIuaHRtbC5cbiAqXG4gKiBDb3B5cmlnaHQgMjAwMSBzb2Z0U3VyZmVyLCAyMDEyIERhbiBTdW5kYXlcbiAqIFRoaXMgY29kZSBtYXkgYmUgZnJlZWx5IHVzZWQgYW5kIG1vZGlmaWVkIGZvciBhbnkgcHVycG9zZVxuICogcHJvdmlkaW5nIHRoYXQgdGhpcyBjb3B5cmlnaHQgbm90aWNlIGlzIGluY2x1ZGVkIHdpdGggaXQuXG4gKiBTb2Z0U3VyZmVyIG1ha2VzIG5vIHdhcnJhbnR5IGZvciB0aGlzIGNvZGUsIGFuZCBjYW5ub3QgYmUgaGVsZFxuICogbGlhYmxlIGZvciBhbnkgcmVhbCBvciBpbWFnaW5lZCBkYW1hZ2UgcmVzdWx0aW5nIGZyb20gaXRzIHVzZS5cbiAqIFVzZXJzIG9mIHRoaXMgY29kZSBtdXN0IHZlcmlmeSBjb3JyZWN0bmVzcyBmb3IgdGhlaXIgYXBwbGljYXRpb24uXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBwb2kgT3V0cHV0IHBhcmFtLiBOdWxsIGlmIHRoZXJlIGlzIG5vIGludGVyc2VjdGlvbi5cbiAqIEBwYXJhbSB7TGluZVNlZ21lbnR9IHNlZ21lbnRcbiAqIEBwYXJhbSB7dmVjM30gdHJpYW5nbGVWZXJ0ZXgxXG4gKiBAcGFyYW0ge3ZlYzN9IHRyaWFuZ2xlVmVydGV4MlxuICogQHBhcmFtIHt2ZWMzfSB0cmlhbmdsZVZlcnRleDNcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZXJlIGlzIGFuIGludGVyc2VjdGlvbi5cbiAqL1xuZnVuY3Rpb24gZmluZFBvaUJldHdlZW5TZWdtZW50QW5kVHJpYW5nbGUocG9pLCBzZWdtZW50LCB0cmlhbmdsZVZlcnRleDEsIHRyaWFuZ2xlVmVydGV4MixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyaWFuZ2xlVmVydGV4Mykge1xuICAvL1xuICAvLyBGaW5kIHRoZSBwb2ludCBvZiBpbnRlcnNlY3Rpb24gYmV0d2VlbiB0aGUgc2VnbWVudCBhbmQgdGhlIHRyaWFuZ2xlJ3MgcGxhbmUuXG4gIC8vXG5cbiAgLy8gRmlyc3QgdHJpYW5nbGUgZWRnZS5cbiAgdmVjMy5zdWJ0cmFjdChfdG1wVmVjMSwgdHJpYW5nbGVWZXJ0ZXgyLCB0cmlhbmdsZVZlcnRleDEpO1xuICAvLyBTZWNvbmQgdHJpYW5nbGUgZWRnZS5cbiAgdmVjMy5zdWJ0cmFjdChfdG1wVmVjMiwgdHJpYW5nbGVWZXJ0ZXgzLCB0cmlhbmdsZVZlcnRleDEpO1xuICAvLyBUcmlhbmdsZSBub3JtYWwuXG4gIHZlYzMuY3Jvc3MoX3RtcFZlYzMsIF90bXBWZWMxLCBfdG1wVmVjMik7XG4gIC8vIFRyaWFuZ2xlIHRvIHNlZ21lbnQuXG4gIHZlYzMuc3VidHJhY3QoX3RtcFZlYzQsIHNlZ21lbnQuc3RhcnQsIHRyaWFuZ2xlVmVydGV4MSk7XG5cbiAgY29uc3Qgbm9ybWFsVG9TZWdtZW50UHJvaiA9IHZlYzMuZG90KF90bXBWZWMzLCBzZWdtZW50LmRpcik7XG5cbiAgaWYgKG5vcm1hbFRvU2VnbWVudFByb2ogPCBFUFNJTE9OICYmIG5vcm1hbFRvU2VnbWVudFByb2ogPiAtRVBTSUxPTikge1xuICAgIC8vIFRoZSBsaW5lIHNlZ21lbnQgaXMgcGFyYWxsZWwgdG8gdGhlIHRyaWFuZ2xlLlxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGNvbnN0IG5vcm1hbFRvRGlmZlByb2ogPSAtdmVjMy5kb3QoX3RtcFZlYzMsIF90bXBWZWM0KTtcbiAgY29uc3Qgc2VnbWVudE5vcm1hbGl6ZWREaXN0YW5jZSA9IG5vcm1hbFRvRGlmZlByb2ogLyBub3JtYWxUb1NlZ21lbnRQcm9qO1xuXG4gIGlmIChzZWdtZW50Tm9ybWFsaXplZERpc3RhbmNlIDwgMCB8fCBzZWdtZW50Tm9ybWFsaXplZERpc3RhbmNlID4gMSkge1xuICAgIC8vIFRoZSBsaW5lIHNlZ21lbnQgZW5kcyBiZWZvcmUgaW50ZXJzZWN0aW5nIHRoZSBwbGFuZS5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB2ZWMzLnNjYWxlQW5kQWRkKHBvaSwgc2VnbWVudC5zdGFydCwgc2VnbWVudC5kaXIsIHNlZ21lbnROb3JtYWxpemVkRGlzdGFuY2UpO1xuXG4gIC8vXG4gIC8vIERldGVybWluZSB3aGV0aGVyIHRoZSBwb2ludCBvZiBpbnRlcnNlY3Rpb24gbGllcyB3aXRoaW4gdGhlIHRyaWFuZ2xlLlxuICAvL1xuXG4gIGNvbnN0IGVkZ2UxRG90RWRnZTEgPSB2ZWMzLmRvdChfdG1wVmVjMSwgX3RtcFZlYzEpO1xuICBjb25zdCBlZGdlMURvdEVkZ2UyID0gdmVjMy5kb3QoX3RtcFZlYzEsIF90bXBWZWMyKTtcbiAgY29uc3QgZWRnZTJEb3RFZGdlMiA9IHZlYzMuZG90KF90bXBWZWMyLCBfdG1wVmVjMik7XG4gIC8vIFRyaWFuZ2xlIHRvIHBvaW50IG9mIGludGVyc2VjdGlvbi5cbiAgdmVjMy5zdWJ0cmFjdChfdG1wVmVjMywgcG9pLCB0cmlhbmdsZVZlcnRleDEpO1xuICBjb25zdCBkaWZmRG90RWRnZTEgPSB2ZWMzLmRvdChfdG1wVmVjMywgX3RtcFZlYzEpO1xuICBjb25zdCBkaWZmRG90RWRnZTIgPSB2ZWMzLmRvdChfdG1wVmVjMywgX3RtcFZlYzIpO1xuICBjb25zdCBkZW5vbWluYXRvciA9IGVkZ2UxRG90RWRnZTIgKiBlZGdlMURvdEVkZ2UyIC0gZWRnZTFEb3RFZGdlMSAqIGVkZ2UyRG90RWRnZTI7XG5cbiAgLy8gQ2hlY2sgdGhlIHRyaWFuZ2xlJ3MgcGFyYW1ldHJpYyBjb29yZGluYXRlcy5cbiAgY29uc3QgcyA9IChlZGdlMURvdEVkZ2UyICogZGlmZkRvdEVkZ2UyIC0gZWRnZTJEb3RFZGdlMiAqIGRpZmZEb3RFZGdlMSkgLyBkZW5vbWluYXRvcjtcbiAgaWYgKHMgPCAwIHx8IHMgPiAxKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNvbnN0IHQgPSAoZWRnZTFEb3RFZGdlMiAqIGRpZmZEb3RFZGdlMSAtIGVkZ2UxRG90RWRnZTEgKiBkaWZmRG90RWRnZTIpIC8gZGVub21pbmF0b3I7XG4gIGlmICh0IDwgMCB8fCBzICsgdCA+IDEpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBPcmlnaW5hbGx5IGJhc2VkIG9uIEp1a2thIEp5bMOkbmtpJ3MgYWxnb3JpdGhtIGF0XG4gKiBodHRwczovL2dpdGh1Yi5jb20vanVqL01hdGhHZW9MaWIvYmxvYi8xMDkzZTM5ZDkxZGVmN2ZmNjkwNWZiNzQ4OTg5MzE5MGQ3ZDgxMzUzL3NyYy9HZW9tZXRyeS9PQkIuY3BwLlxuICpcbiAqIENvcHlyaWdodCAyMDExIEp1a2thIEp5bMOkbmtpXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXRwdXRQb2ludCBPdXRwdXQgcGFyYW1ldGVyLlxuICogQHBhcmFtIHtPYmJ9IG9iYlxuICogQHBhcmFtIHt2ZWMzfSB0YXJnZXRQb2ludFxuICovXG5mdW5jdGlvbiBmaW5kQ2xvc2VzdFBvaW50RnJvbU9iYlRvUG9pbnQob3V0cHV0UG9pbnQsIG9iYiwgdGFyZ2V0UG9pbnQpIHtcbiAgdmVjMy5zdWJ0cmFjdChfdG1wVmVjMSwgdGFyZ2V0UG9pbnQsIG9iYi5jZW50ZXJPZlZvbHVtZSk7XG4gIHZlYzMuY29weShvdXRwdXRQb2ludCwgb2JiLmNlbnRlck9mVm9sdW1lKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCAzOyBpKyspIHtcbiAgICAvLyBDb21wdXRlIHRoZSBkaXNwbGFjZW1lbnQgYWxvbmcgdGhpcyBheGlzLlxuICAgIGxldCBwcm9qZWN0aW9uID0gdmVjMy5kb3Qob2JiLmF4ZXNbaV0sIF90bXBWZWMxKTtcbiAgICBwcm9qZWN0aW9uID0gcHJvamVjdGlvbiA+IG9iYi5oYWxmU2lkZUxlbmd0aHNbaV0gPyBvYmIuaGFsZlNpZGVMZW5ndGhzW2ldIDpcbiAgICAgICAgKHByb2plY3Rpb24gPCAtb2JiLmhhbGZTaWRlTGVuZ3Roc1tpXSA/IC1vYmIuaGFsZlNpZGVMZW5ndGhzW2ldIDogcHJvamVjdGlvbik7XG4gICAgdmVjMy5zY2FsZUFuZEFkZChvdXRwdXRQb2ludCwgb3V0cHV0UG9pbnQsIG9iYi5heGVzW2ldLCBwcm9qZWN0aW9uKTtcbiAgfVxufVxuXG4vKipcbiAqIEZpbmRzIHRoZSBjbG9zZXN0IHBvc2l0aW9uIG9uIG9uZSBsaW5lIHNlZ21lbnQgdG8gdGhlIG90aGVyIGxpbmUgc2VnbWVudCwgYW5kIHZpY2UgdmVyc2EuXG4gKlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogT3JpZ2luYWxseSBiYXNlZCBvbiBKdWtrYSBKeWzDpG5raSdzIGFsZ29yaXRobSBhdFxuICogaHR0cHM6Ly9naXRodWIuY29tL2p1ai9NYXRoR2VvTGliL2Jsb2IvZmYyZDM0OGExNjcwMDhjODMxYWUzMDQ0ODNiODI0NjQ3ZjcxZmJmNi9zcmMvR2VvbWV0cnkvTGluZVNlZ21lbnQuY3BwLlxuICpcbiAqIENvcHlyaWdodCAyMDExIEp1a2thIEp5bMOkbmtpXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBjbG9zZXN0QSBPdXRwdXQgcGFyYW0uXG4gKiBAcGFyYW0ge3ZlYzN9IGNsb3Nlc3RCIE91dHB1dCBwYXJhbS5cbiAqIEBwYXJhbSB7TGluZVNlZ21lbnR9IHNlZ21lbnRBXG4gKiBAcGFyYW0ge0xpbmVTZWdtZW50fSBzZWdtZW50QlxuICovXG5mdW5jdGlvbiBmaW5kQ2xvc2VzdFBvaW50c0Zyb21TZWdtZW50VG9TZWdtZW50KGNsb3Nlc3RBLCBjbG9zZXN0Qiwgc2VnbWVudEEsIHNlZ21lbnRCKSB7XG4gIGNvbnN0IHtkaXN0QSwgZGlzdEJ9ID0gZmluZENsb3Nlc3RQb2ludHNGcm9tTGluZVRvTGluZShcbiAgICAgIHNlZ21lbnRBLnN0YXJ0LCBzZWdtZW50QS5kaXIsIHNlZ21lbnRCLnN0YXJ0LCBzZWdtZW50Qi5kaXIpO1xuXG4gIGNvbnN0IGlzRGlzdEFJbkJvdW5kcyA9IGRpc3RBID49IDAgJiYgZGlzdEEgPD0gMTtcbiAgY29uc3QgaXNEaXN0QkluQm91bmRzID0gZGlzdEIgPj0gMCAmJiBkaXN0QiA8PSAxO1xuXG4gIGlmIChpc0Rpc3RBSW5Cb3VuZHMpIHtcbiAgICBpZiAoaXNEaXN0QkluQm91bmRzKSB7XG4gICAgICAvLyBUaGUgZGlzdGFuY2VzIGFsb25nIGJvdGggbGluZSBzZWdtZW50cyBhcmUgd2l0aGluIGJvdW5kcy5cbiAgICAgIHZlYzMuc2NhbGVBbmRBZGQoY2xvc2VzdEEsIHNlZ21lbnRBLnN0YXJ0LCBzZWdtZW50QS5kaXIsIGRpc3RBKTtcbiAgICAgIHZlYzMuc2NhbGVBbmRBZGQoY2xvc2VzdEIsIHNlZ21lbnRCLnN0YXJ0LCBzZWdtZW50Qi5kaXIsIGRpc3RCKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gT25seSB0aGUgZGlzdGFuY2UgYWxvbmcgdGhlIGZpcnN0IGxpbmUgc2VnbWVudCBpcyB3aXRoaW4gYm91bmRzLlxuICAgICAgaWYgKGRpc3RCIDwgMCkge1xuICAgICAgICB2ZWMzLmNvcHkoY2xvc2VzdEIsIHNlZ21lbnRCLnN0YXJ0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZlYzMuY29weShjbG9zZXN0Qiwgc2VnbWVudEIuZW5kKTtcbiAgICAgIH1cbiAgICAgIGZpbmRDbG9zZXN0UG9pbnRPblNlZ21lbnRUb1BvaW50KGNsb3Nlc3RBLCBzZWdtZW50QSwgY2xvc2VzdEIpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoaXNEaXN0QkluQm91bmRzKSB7XG4gICAgICAvLyBPbmx5IHRoZSBkaXN0YW5jZSBhbG9uZyB0aGUgc2Vjb25kIGxpbmUgc2VnbWVudCBpcyB3aXRoaW4gYm91bmRzLlxuICAgICAgaWYgKGRpc3RBIDwgMCkge1xuICAgICAgICB2ZWMzLmNvcHkoY2xvc2VzdEEsIHNlZ21lbnRBLnN0YXJ0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZlYzMuY29weShjbG9zZXN0QSwgc2VnbWVudEEuZW5kKTtcbiAgICAgIH1cbiAgICAgIGZpbmRDbG9zZXN0UG9pbnRPblNlZ21lbnRUb1BvaW50KGNsb3Nlc3RCLCBzZWdtZW50QiwgY2xvc2VzdEEpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBOZWl0aGVyIG9mIHRoZSBkaXN0YW5jZXMgYWxvbmcgZWl0aGVyIGxpbmUgc2VnbWVudCBhcmUgd2l0aGluIGJvdW5kcy5cbiAgICAgIGlmIChkaXN0QSA8IDApIHtcbiAgICAgICAgdmVjMy5jb3B5KGNsb3Nlc3RBLCBzZWdtZW50QS5zdGFydCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2ZWMzLmNvcHkoY2xvc2VzdEEsIHNlZ21lbnRBLmVuZCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChkaXN0QiA8IDApIHtcbiAgICAgICAgdmVjMy5jb3B5KGNsb3Nlc3RCLCBzZWdtZW50Qi5zdGFydCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2ZWMzLmNvcHkoY2xvc2VzdEIsIHNlZ21lbnRCLmVuZCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGFsdENsb3Nlc3RBID0gdmVjMy5jcmVhdGUoKTtcbiAgICAgIGNvbnN0IGFsdENsb3Nlc3RCID0gdmVjMy5jcmVhdGUoKTtcblxuICAgICAgZmluZENsb3Nlc3RQb2ludE9uU2VnbWVudFRvUG9pbnQoYWx0Q2xvc2VzdEEsIHNlZ21lbnRBLCBjbG9zZXN0Qik7XG4gICAgICBmaW5kQ2xvc2VzdFBvaW50T25TZWdtZW50VG9Qb2ludChhbHRDbG9zZXN0Qiwgc2VnbWVudEIsIGNsb3Nlc3RBKTtcblxuICAgICAgaWYgKHZlYzMuc3F1YXJlZERpc3RhbmNlKGFsdENsb3Nlc3RBLCBjbG9zZXN0QikgPFxuICAgICAgICAgIHZlYzMuc3F1YXJlZERpc3RhbmNlKGFsdENsb3Nlc3RCLCBjbG9zZXN0QSkpIHtcbiAgICAgICAgdmVjMy5jb3B5KGNsb3Nlc3RBLCBhbHRDbG9zZXN0QSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2ZWMzLmNvcHkoY2xvc2VzdEIsIGFsdENsb3Nlc3RCKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBGaW5kcyB0aGUgY2xvc2VzdCBwb3NpdGlvbiBvbiBhIGxpbmUgc2VnbWVudCB0byBhIHBvaW50LlxuICpcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIE9yaWdpbmFsbHkgYmFzZWQgb24gSnVra2EgSnlsw6Rua2kncyBhbGdvcml0aG0gYXRcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9qdWovTWF0aEdlb0xpYi9ibG9iL2ZmMmQzNDhhMTY3MDA4YzgzMWFlMzA0NDgzYjgyNDY0N2Y3MWZiZjYvc3JjL0dlb21ldHJ5L0xpbmVTZWdtZW50LmNwcC5cbiAqXG4gKiBDb3B5cmlnaHQgMjAxMSBKdWtrYSBKeWzDpG5raVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICpcbiAqIEBwYXJhbSB7dmVjM30gY2xvc2VzdFBvaW50IE91dHB1dCBwYXJhbS5cbiAqIEBwYXJhbSB7TGluZVNlZ21lbnR9IHNlZ21lbnRcbiAqIEBwYXJhbSB7dmVjM30gcG9pbnRcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGZpbmRDbG9zZXN0UG9pbnRPblNlZ21lbnRUb1BvaW50KGNsb3Nlc3RQb2ludCwgc2VnbWVudCwgcG9pbnQpIHtcbiAgY29uc3QgZGlyU3F1YXJlZExlbmd0aCA9IHZlYzMuc3F1YXJlZExlbmd0aChzZWdtZW50LmRpcik7XG5cbiAgaWYgKCFkaXJTcXVhcmVkTGVuZ3RoKSB7XG4gICAgLy8gVGhlIHBvaW50IGlzIGF0IHRoZSBzZWdtZW50IHN0YXJ0LlxuICAgIHZlYzMuY29weShjbG9zZXN0UG9pbnQsIHNlZ21lbnQuc3RhcnQpO1xuICB9IGVsc2Uge1xuICAgIC8vIENhbGN1bGF0ZSB0aGUgcHJvamVjdGlvbiBvZiB0aGUgcG9pbnQgb250byB0aGUgbGluZSBleHRlbmRpbmcgdGhyb3VnaCB0aGUgc2VnbWVudC5cbiAgICB2ZWMzLnN1YnRyYWN0KF90bXBWZWMxLCBwb2ludCwgc2VnbWVudC5zdGFydCk7XG4gICAgY29uc3QgdCA9IHZlYzMuZG90KF90bXBWZWMxLCBzZWdtZW50LmRpcikgLyBkaXJTcXVhcmVkTGVuZ3RoO1xuXG4gICAgaWYgKHQgPCAwKSB7XG4gICAgICAvLyBUaGUgcG9pbnQgcHJvamVjdHMgYmV5b25kIHRoZSBzZWdtZW50IHN0YXJ0LlxuICAgICAgdmVjMy5jb3B5KGNsb3Nlc3RQb2ludCwgc2VnbWVudC5zdGFydCk7XG4gICAgfSBlbHNlIGlmICh0ID4gMSkge1xuICAgICAgLy8gVGhlIHBvaW50IHByb2plY3RzIGJleW9uZCB0aGUgc2VnbWVudCBlbmQuXG4gICAgICB2ZWMzLmNvcHkoY2xvc2VzdFBvaW50LCBzZWdtZW50LmVuZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRoZSBwb2ludCBwcm9qZWN0cyBiZXR3ZWVuIHRoZSBzdGFydCBhbmQgZW5kIG9mIHRoZSBzZWdtZW50LlxuICAgICAgdmVjMy5zY2FsZUFuZEFkZChjbG9zZXN0UG9pbnQsIHNlZ21lbnQuc3RhcnQsIHNlZ21lbnQuZGlyLCB0KTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBGaW5kcyB0aGUgY2xvc2VzdCBwb3NpdGlvbiBvbiBvbmUgbGluZSB0byB0aGUgb3RoZXIgbGluZSwgYW5kIHZpY2UgdmVyc2EuXG4gKlxuICogVGhlIHBvc2l0aW9ucyBhcmUgcmVwcmVzZW50ZWQgYXMgc2NhbGFyLXZhbHVlIGRpc3RhbmNlcyBmcm9tIHRoZSBcInN0YXJ0XCIgcG9zaXRpb25zIG9mIGVhY2ggbGluZS5cbiAqIFRoZXNlIGFyZSBzY2FsZWQgYWNjb3JkaW5nIHRvIHRoZSBnaXZlbiBkaXJlY3Rpb24gdmVjdG9ycy5cbiAqXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBPcmlnaW5hbGx5IGJhc2VkIG9uIEp1a2thIEp5bMOkbmtpJ3MgYWxnb3JpdGhtIGF0XG4gKiBodHRwczovL2dpdGh1Yi5jb20vanVqL01hdGhHZW9MaWIvYmxvYi9mZjJkMzQ4YTE2NzAwOGM4MzFhZTMwNDQ4M2I4MjQ2NDdmNzFmYmY2L3NyYy9HZW9tZXRyeS9MaW5lLmNwcC5cbiAqXG4gKiBDb3B5cmlnaHQgMjAxMSBKdWtrYSBKeWzDpG5raVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICpcbiAqIEBwYXJhbSB7dmVjM30gc3RhcnRBIFRoZSBzdGFydCBwb3NpdGlvbiBvZiBsaW5lIEEuXG4gKiBAcGFyYW0ge3ZlYzN9IGRpckEgVGhlICh1bm5vcm1hbGl6ZWQpIGRpcmVjdGlvbiBvZiBsaW5lIEEuIENhbm5vdCBiZSB6ZXJvLlxuICogQHBhcmFtIHt2ZWMzfSBzdGFydEIgVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIGxpbmUgQi5cbiAqIEBwYXJhbSB7dmVjM30gZGlyQiBUaGUgKHVubm9ybWFsaXplZCkgZGlyZWN0aW9uIG9mIGxpbmUgQi4gQ2Fubm90IGJlIHplcm8uXG4gKiBAcmV0dXJucyB7e2Rpc3RBOiBOdW1iZXIsIGRpc3RCOiBOdW1iZXJ9fVxuICovXG5mdW5jdGlvbiBmaW5kQ2xvc2VzdFBvaW50c0Zyb21MaW5lVG9MaW5lKHN0YXJ0QSwgZGlyQSwgc3RhcnRCLCBkaXJCKSB7XG4gIHZlYzMuc3VidHJhY3QoX3RtcFZlYzEsIHN0YXJ0QSwgc3RhcnRCKTtcbiAgY29uc3QgZGlyQkRvdERpckFUb0IgPSB2ZWMzLmRvdChkaXJCLCBfdG1wVmVjMSk7XG4gIGNvbnN0IGRpckFEb3REaXJBVG9CID0gdmVjMy5kb3QoZGlyQSwgX3RtcFZlYzEpO1xuXG4gIGNvbnN0IHNxckxlbkRpckIgPSB2ZWMzLnNxdWFyZWRMZW5ndGgoZGlyQik7XG4gIGNvbnN0IHNxckxlbkRpckEgPSB2ZWMzLnNxdWFyZWRMZW5ndGgoZGlyQSk7XG5cbiAgY29uc3QgZGlyQURvdERpckIgPSB2ZWMzLmRvdChkaXJBLCBkaXJCKTtcblxuICBjb25zdCBkZW5vbWluYXRvciA9IHNxckxlbkRpckEgKiBzcXJMZW5EaXJCIC0gZGlyQURvdERpckIgKiBkaXJBRG90RGlyQjtcblxuICBjb25zdCBkaXN0QSA9IGRlbm9taW5hdG9yIDwgRVBTSUxPTlxuICAgICAgPyAwXG4gICAgICA6IChkaXJBRG90RGlyQiAqIGRpckJEb3REaXJBVG9CIC0gc3FyTGVuRGlyQiAqIGRpckFEb3REaXJBVG9CKSAvIGRlbm9taW5hdG9yO1xuICBjb25zdCBkaXN0QiA9IChkaXJCRG90RGlyQVRvQiArIGRpckFEb3REaXJCICogZGlzdEEpIC8gc3FyTGVuRGlyQjtcblxuICByZXR1cm4ge1xuICAgIGRpc3RBOiBkaXN0QSxcbiAgICBkaXN0QjogZGlzdEJcbiAgfTtcbn1cblxuLyoqXG4gKiBBIGdvb2QgZGVzY3JpcHRpb24gb2Ygd2h5IHdlIG5lZWQgdGhlc2Ugc3BlY2lhbCBvcGVyYXRpb25zIGZvciByb3RhdGluZyB0ZW5zb3JzIGNhbiBiZSBmb3VuZFxuICogaGVyZTogaHR0cDovL3d3dy5yYW5keWdhdWwubmV0LzIwMTQvMDQvMDkvdHJhbnNmb3JtYXRpb25zLWNoYW5nZS1vZi1iYXNpcy1tYXRyaXgvLlxuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0cHV0IE91dHB1dCBwYXJhbS5cbiAqIEBwYXJhbSB7bWF0M30gdGVuc29yXG4gKiBAcGFyYW0ge3F1YXR9IHJvdGF0aW9uXG4gKi9cbmZ1bmN0aW9uIHJvdGF0ZVRlbnNvcihvdXRwdXQsIHRlbnNvciwgcm90YXRpb24pIHsvLyBUT0RPOiBUZXN0IHRoaXMgc29tZWhvdy4uLlxuICBtYXQzLmZyb21RdWF0KF90bXBNYXQsIHJvdGF0aW9uKTtcbiAgbWF0My5tdWx0aXBseShvdXRwdXQsIF90bXBNYXQsIHRlbnNvcik7XG4gIG1hdDMuaW52ZXJ0KF90bXBNYXQsIF90bXBNYXQpO1xuICBtYXQzLm11bHRpcGx5KG91dHB1dCwgb3V0cHV0LCBfdG1wTWF0KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FhYmJ9IGFhYmJcbiAqIEBwYXJhbSB7dmVjM30gcG9pbnRcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBhYWJiVnNQb2ludChhYWJiLCBwb2ludCkge1xuICByZXR1cm4gcG9pbnRbMF0gPj0gYWFiYi5taW5YICYmIHBvaW50WzBdIDw9IGFhYmIubWF4WCAmJlxuICAgICAgcG9pbnRbMV0gPj0gYWFiYi5taW5ZICYmIHBvaW50WzFdIDw9IGFhYmIubWF4WSAmJlxuICAgICAgcG9pbnRbMl0gPj0gYWFiYi5taW5aICYmIHBvaW50WzJdIDw9IGFhYmIubWF4WlxufVxuXG4vKipcbiAqIEBwYXJhbSB7cXVhdH0gb3V0XG4gKiBAcGFyYW0ge3F1YXR9IGFcbiAqIEBwYXJhbSB7cXVhdH0gYlxuICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlXG4gKiBAcmV0dXJucyB7cXVhdH1cbiAqL1xuZnVuY3Rpb24gc2NhbGVBbmRBZGRRdWF0KG91dCwgYSwgYiwgc2NhbGUpIHtcbiAgcmV0dXJuIHF1YXQuc2V0KG91dCxcbiAgICAgIGFbMF0gKyBiWzBdICogc2NhbGUsXG4gICAgICBhWzFdICsgYlsxXSAqIHNjYWxlLFxuICAgICAgYVsyXSArIGJbMl0gKiBzY2FsZSxcbiAgICAgIGFbM10gKyBiWzNdICogc2NhbGUpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7dmVjM30gYVxuICogQHBhcmFtIHt2ZWMzfSBiXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gYXJlVmVjM3NDbG9zZShhLCBiKSB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSsrKSB7XG4gICAgaWYgKGFbaV0gLSBiW2ldID4gRVBTSUxPTiB8fCBiW2ldIC0gYVtpXSA+IEVQU0lMT04pIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8vIFJlLXVzZWQgYWNyb3NzIHRoZSBnZW9tZXRyeSB1dGlsaXR5IGZ1bmN0aW9ucywgc28gd2UgZG9uJ3QgaW5zdGFudGlhdGUgYXMgbWFueSB2ZWMzIG9iamVjdHMuXG5jb25zdCBfdG1wVmVjMSA9IHZlYzMuY3JlYXRlKCk7XG5jb25zdCBfdG1wVmVjMiA9IHZlYzMuY3JlYXRlKCk7XG5jb25zdCBfdG1wVmVjMyA9IHZlYzMuY3JlYXRlKCk7XG5jb25zdCBfdG1wVmVjNCA9IHZlYzMuY3JlYXRlKCk7XG5jb25zdCBfdG1wTWF0ID0gbWF0My5jcmVhdGUoKTtcblxuLy8gRXhwb3NlZCB0byBjb25zdW1lcnMsIHNvIHRoZXkgZG9uJ3QgaGF2ZSB0byBpbnN0YW50aWF0ZSBhcyBtYW55IHZlYzMgb2JqZWN0cy5cbmNvbnN0IHRtcFZlYzEgPSB2ZWMzLmNyZWF0ZSgpO1xuY29uc3QgdG1wVmVjMiA9IHZlYzMuY3JlYXRlKCk7XG5jb25zdCB0bXBWZWMzID0gdmVjMy5jcmVhdGUoKTtcbmNvbnN0IHRtcFZlYzQgPSB2ZWMzLmNyZWF0ZSgpO1xuXG5jb25zdCBfZ2VvbWV0cnkgPSB7XG4gIEVQU0lMT04sXG4gIEhBTEZfUEksXG4gIFRXT19QSSxcbiAgc2NhbGVBbmRBZGRRdWF0LFxufTtcblxuZXhwb3J0IHtcbiAgX2dlb21ldHJ5LFxuICB0bXBWZWMxLFxuICB0bXBWZWMyLFxuICB0bXBWZWMzLFxuICB0bXBWZWM0LFxuICBmaW5kU3F1YXJlZERpc3RhbmNlQmV0d2VlblNlZ21lbnRzLFxuICBmaW5kU3F1YXJlZERpc3RhbmNlRnJvbVNlZ21lbnRUb1BvaW50LFxuICBmaW5kQ2xvc2VzdFBvaW50RnJvbUFhYmJUb1BvaW50LFxuICBmaW5kQ2xvc2VzdFBvaW50RnJvbUFhYmJTdXJmYWNlVG9Qb2ludCxcbiAgZmluZFBvaUJldHdlZW5TZWdtZW50QW5kVHJpYW5nbGUsXG4gIGZpbmRQb2lCZXR3ZWVuU2VnbWVudEFuZFBsYW5lUmVnaW9uLFxuICBmaW5kQ2xvc2VzdFBvaW50RnJvbU9iYlRvUG9pbnQsXG4gIGZpbmRDbG9zZXN0UG9pbnRzRnJvbVNlZ21lbnRUb1NlZ21lbnQsXG4gIGZpbmRDbG9zZXN0UG9pbnRPblNlZ21lbnRUb1BvaW50LFxuICBmaW5kQ2xvc2VzdFBvaW50c0Zyb21MaW5lVG9MaW5lLFxuICByb3RhdGVUZW5zb3IsXG4gIGFhYmJWc1BvaW50LFxuICBhcmVWZWMzc0Nsb3NlLFxufTtcbiIsIi8qKlxuICogVGhpcyBtb2R1bGUgZGVmaW5lcyBhIGNvbGxlY3Rpb24gb2Ygc3RhdGljIHV0aWxpdHkgZnVuY3Rpb25zIGZvciBjYWxjdWxhdGluZyBpbmVydGlhIHRlbnNvcnMuXG4gKi9cblxuaW1wb3J0IHtfZ2VvbWV0cnksIHJvdGF0ZVRlbnNvcn0gZnJvbSAnLi9nZW9tZXRyeSc7XG5cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1c1xuICogQHBhcmFtIHtudW1iZXJ9IG1hc3NcbiAqIEByZXR1cm5zIHttYXQzfVxuICovXG5mdW5jdGlvbiBjcmVhdGVTcGhlcmVJbmVydGlhVGVuc29yKHJhZGl1cywgbWFzcykgey8vIFRPRE86IFRlc3QgdGhpcyBzb21laG93Li4uXG4gIGNvbnN0IHRlbnNvciA9IG1hdDMuY3JlYXRlKCk7XG4gIGNvbnN0IG1vbWVudCA9IDIgLyA1ICogbWFzcyAqIHJhZGl1cyAqIHJhZGl1cztcbiAgdGVuc29yWzBdID0gbW9tZW50O1xuICB0ZW5zb3JbNF0gPSBtb21lbnQ7XG4gIHRlbnNvcls4XSA9IG1vbWVudDtcbiAgcmV0dXJuIHRlbnNvcjtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gcmFuZ2VYXG4gKiBAcGFyYW0ge251bWJlcn0gcmFuZ2VZXG4gKiBAcGFyYW0ge251bWJlcn0gcmFuZ2VaXG4gKiBAcGFyYW0ge251bWJlcn0gbWFzc1xuICogQHJldHVybnMge21hdDN9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUJveEluZXJ0aWFUZW5zb3IocmFuZ2VYLCByYW5nZVksIHJhbmdlWiwgbWFzcykgey8vIFRPRE86IFRlc3QgdGhpcyBzb21laG93Li4uXG4gIGNvbnN0IHRlbnNvciA9IG1hdDMuY3JlYXRlKCk7XG4gIGNvbnN0IHRtcCA9IG1hc3MgLyAxMjtcbiAgY29uc3QgeFJhbmdlU3F1YXJlZCA9IHJhbmdlWCAqIHJhbmdlWDtcbiAgY29uc3QgeVJhbmdlU3F1YXJlZCA9IHJhbmdlWSAqIHJhbmdlWTtcbiAgY29uc3QgelJhbmdlU3F1YXJlZCA9IHJhbmdlWiAqIHJhbmdlWjtcbiAgdGVuc29yWzBdID0gdG1wICogKHlSYW5nZVNxdWFyZWQgKyB6UmFuZ2VTcXVhcmVkKTtcbiAgdGVuc29yWzRdID0gdG1wICogKHhSYW5nZVNxdWFyZWQgKyB5UmFuZ2VTcXVhcmVkKTtcbiAgdGVuc29yWzhdID0gdG1wICogKHhSYW5nZVNxdWFyZWQgKyB6UmFuZ2VTcXVhcmVkKTtcbiAgcmV0dXJuIHRlbnNvcjtcbn1cblxuLyoqXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBPcmlnaW5hbGx5IGJhc2VkIG9uIEJvamFuIExvdnJvdmljJ3MgYWxnb3JpdGhtIGF0XG4gKiBodHRwOi8vd3d3LmdhbWVkZXYubmV0L3BhZ2UvcmVzb3VyY2VzL18vdGVjaG5pY2FsL21hdGgtYW5kLXBoeXNpY3MvY2Fwc3VsZS1pbmVydGlhLXRlbnNvci1yMzg1Ni5cbiAqXG4gKiBDb3B5cmlnaHQgMjAxNCBCb2phbiBMb3Zyb3ZpY1xuICpcbiAqIEdhbWVEZXYubmV0IE9wZW4gTGljZW5zZVxuICogKGh0dHA6Ly93d3cuZ2FtZWRldi5uZXQvcGFnZS9yZXNvdXJjZXMvXy9nZG5ldGhlbHAvZ2FtZWRldm5ldC1vcGVuLWxpY2Vuc2UtcjI5NTYpXG4gKlxuICogVEVSTVMgQU5EIENPTkRJVElPTlMgRk9SIFVTRSwgUkVQUk9EVUNUSU9OLCBBTkQgRElTVFJJQlVUSU9OXG4gKlxuICogMS4gRGVmaW5pdGlvbnMuXG4gKlxuICogXCJBcnRpY2xlXCIgc2hhbGwgcmVmZXIgdG8gYW55IGJvZHkgb2YgdGV4dCB3cml0dGVuIGJ5IEF1dGhvciB3aGljaCBkZXNjcmliZXMgYW5kIGRvY3VtZW50cyB0aGUgdXNlXG4gKiBhbmQvb3Igb3BlcmF0aW9uIG9mIFNvdXJjZS4gSXQgc3BlY2lmaWNhbGx5IGRvZXMgbm90IHJlZmVyIHRvIGFueSBhY2NvbXBhbnlpbmcgU291cmNlIGVpdGhlclxuICogZW1iZWRkZWQgd2l0aGluIHRoZSBib2R5IG9mIHRleHQgb3IgYXR0YWNoZWQgdG8gdGhlIGFydGljbGUgYXMgYSBmaWxlLlxuICpcbiAqIFwiQXV0aG9yXCIgbWVhbnMgdGhlIGluZGl2aWR1YWwgb3IgZW50aXR5IHRoYXQgb2ZmZXJzIHRoZSBXb3JrIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGlzIExpY2Vuc2UuXG4gKlxuICogXCJMaWNlbnNlXCIgc2hhbGwgbWVhbiB0aGUgdGVybXMgYW5kIGNvbmRpdGlvbnMgZm9yIHVzZSwgcmVwcm9kdWN0aW9uLCBhbmQgZGlzdHJpYnV0aW9uIGFzIGRlZmluZWRcbiAqIGJ5IFNlY3Rpb25zIDEgdGhyb3VnaCA5IG9mIHRoaXMgZG9jdW1lbnQuXG4gKlxuICogXCJMaWNlbnNvclwiIHNoYWxsIG1lYW4gdGhlIGNvcHlyaWdodCBvd25lciBvciBlbnRpdHkgYXV0aG9yaXplZCBieSB0aGUgY29weXJpZ2h0IG93bmVyIHRoYXQgaXNcbiAqIGdyYW50aW5nIHRoZSBMaWNlbnNlLlxuICpcbiAqIFwiWW91XCIgKG9yIFwiWW91clwiKSBzaGFsbCBtZWFuIGFuIGluZGl2aWR1YWwgb3IgZW50aXR5IGV4ZXJjaXNpbmcgcGVybWlzc2lvbnMgZ3JhbnRlZCBieSB0aGlzXG4gKiBMaWNlbnNlLlxuICpcbiAqIFwiU291cmNlXCIgc2hhbGwgaW5jbHVkZSBhbGwgc29mdHdhcmUgdGV4dCBzb3VyY2UgY29kZSBhbmQgY29uZmlndXJhdGlvbiBmaWxlcyB1c2VkIHRvIGNyZWF0ZVxuICogZXhlY3V0YWJsZSBzb2Z0d2FyZVxuICpcbiAqIFwiT2JqZWN0XCIgc2hhbGwgbWVhbiBhbnkgU291cmNlIHdoaWNoIGhhcyBiZWVuIGNvbnZlcnRlZCBpbnRvIGEgbWFjaGluZSBleGVjdXRhYmxlIHNvZnR3YXJlXG4gKlxuICogXCJXb3JrXCIgY29uc2lzdHMgb2YgYm90aCB0aGUgQXJ0aWNsZSBhbmQgU291cmNlXG4gKlxuICogXCJQdWJsaXNoZXJcIiByZWZlcnMgdG8gR2FtZURldi5uZXQgTExDXG4gKlxuICogVGhpcyBhZ3JlZW1lbnQgaXMgYmV0d2VlbiBZb3UgYW5kIEF1dGhvciwgdGhlIG93bmVyIGFuZCBjcmVhdG9yIG9mIHRoZSBXb3JrIGxvY2F0ZWQgYXRcbiAqIEdhbWVkZXYubmV0LlxuICpcbiAqIDIuIEZhaXIgRGVhbGluZyBSaWdodHMuXG4gKlxuICogTm90aGluZyBpbiB0aGlzIExpY2Vuc2UgaXMgaW50ZW5kZWQgdG8gcmVkdWNlLCBsaW1pdCwgb3IgcmVzdHJpY3QgYW55IHVzZXMgZnJlZSBmcm9tIGNvcHlyaWdodCBvclxuICogcmlnaHRzIGFyaXNpbmcgZnJvbSBsaW1pdGF0aW9ucyBvciBleGNlcHRpb25zIHRoYXQgYXJlIHByb3ZpZGVkIGZvciBpbiBjb25uZWN0aW9uIHdpdGggdGhlXG4gKiBjb3B5cmlnaHQgcHJvdGVjdGlvbiB1bmRlciBjb3B5cmlnaHQgbGF3IG9yIG90aGVyIGFwcGxpY2FibGUgbGF3cy5cbiAqXG4gKiAzLiBHcmFudCBvZiBDb3B5cmlnaHQgTGljZW5zZS5cbiAqXG4gKiBTdWJqZWN0IHRvIHRoZSB0ZXJtcyBhbmQgY29uZGl0aW9ucyBvZiB0aGlzIExpY2Vuc2UsIHRoZSBBdXRob3IgaGVyZWJ5IGdyYW50cyB0byBZb3UgYSBwZXJwZXR1YWwsXG4gKiB3b3JsZHdpZGUsIG5vbi1leGNsdXNpdmUsIG5vLWNoYXJnZSwgcm95YWx0eS1mcmVlLCBpcnJldm9jYWJsZSBjb3B5cmlnaHQgbGljZW5zZSB0byB0aGUgV29ya1xuICogdW5kZXIgdGhlIGZvbGxvd2luZyBzdGF0ZWQgdGVybXM6XG4gKiBZb3UgbWF5IG5vdCByZXByb2R1Y2UgdGhlIEFydGljbGUgb24gYW55IG90aGVyIHdlYnNpdGUgb3V0c2lkZSBvZiBHYW1lZGV2Lm5ldCB3aXRob3V0IGV4cHJlc3NcbiAqIHdyaXR0ZW4gcGVybWlzc2lvbiBmcm9tIHRoZSBBdXRob3JcbiAqIFlvdSBtYXkgdXNlLCBjb3B5LCBsaW5rLCBtb2RpZnkgYW5kIGRpc3RyaWJ1dGUgdW5kZXIgWW91ciBvd24gdGVybXMsIGJpbmFyeSBPYmplY3QgY29kZSB2ZXJzaW9uc1xuICogYmFzZWQgb24gdGhlIFdvcmsgaW4geW91ciBvd24gc29mdHdhcmVcbiAqIFlvdSBtYXkgcmVwcm9kdWNlLCBwcmVwYXJlIGRlcml2YXRpdmUgV29ya3Mgb2YsIHB1YmxpY2x5IGRpc3BsYXksIHB1YmxpY2x5IHBlcmZvcm0sIHN1YmxpY2Vuc2UsXG4gKiBhbmQgZGlzdHJpYnV0ZSB0aGUgU291cmNlIGFuZCBzdWNoIGRlcml2YXRpdmUgU291cmNlIGluIFNvdXJjZSBmb3JtIG9ubHkgYXMgcGFydCBvZiBhIGxhcmdlclxuICogc29mdHdhcmUgZGlzdHJpYnV0aW9uIGFuZCBwcm92aWRlZCB0aGF0IGF0dHJpYnV0aW9uIHRvIHRoZSBvcmlnaW5hbCBBdXRob3IgaXMgZ3JhbnRlZC5cbiAqIFRoZSBvcmlnaW4gb2YgdGhpcyBXb3JrIG11c3Qgbm90IGJlIG1pc3JlcHJlc2VudGVkOyB5b3UgbXVzdCBub3QgY2xhaW0gdGhhdCB5b3Ugd3JvdGUgdGhlXG4gKiBvcmlnaW5hbCBTb3VyY2UuIElmIHlvdSB1c2UgdGhpcyBTb3VyY2UgaW4gYSBwcm9kdWN0LCBhbiBhY2tub3dsZWRnbWVudCBvZiB0aGUgQXV0aG9yIG5hbWUgd291bGRcbiAqIGJlIGFwcHJlY2lhdGVkIGJ1dCBpcyBub3QgcmVxdWlyZWQuXG4gKlxuICogNC4gUmVzdHJpY3Rpb25zLlxuICpcbiAqIFRoZSBsaWNlbnNlIGdyYW50ZWQgaW4gU2VjdGlvbiAzIGFib3ZlIGlzIGV4cHJlc3NseSBtYWRlIHN1YmplY3QgdG8gYW5kIGxpbWl0ZWQgYnkgdGhlIGZvbGxvd2luZ1xuICogcmVzdHJpY3Rpb25zOlxuICogQWx0ZXJlZCBTb3VyY2UgdmVyc2lvbnMgbXVzdCBiZSBwbGFpbmx5IG1hcmtlZCBhcyBzdWNoLCBhbmQgbXVzdCBub3QgYmUgbWlzcmVwcmVzZW50ZWQgYXMgYmVpbmdcbiAqIHRoZSBvcmlnaW5hbCBzb2Z0d2FyZS5cbiAqIFRoaXMgTGljZW5zZSBtdXN0IGJlIHZpc2libHkgbGlua2VkIHRvIGZyb20gYW55IG9ubGluZSBkaXN0cmlidXRpb24gb2YgdGhlIEFydGljbGUgYnkgVVJJIGFuZFxuICogdXNpbmcgdGhlIGRlc2NyaXB0aXZlIHRleHQgXCJMaWNlbnNlZCB1bmRlciB0aGUgR2FtZURldi5uZXQgT3BlbiBMaWNlbnNlXCJcbiAqIE5laXRoZXIgdGhlIG5hbWUgb2YgdGhlIEF1dGhvciBvZiB0aGlzIFdvcmssIG5vciBhbnkgb2YgdGhlaXIgdHJhZGVtYXJrcyBvciBzZXJ2aWNlIG1hcmtzLCBtYXkgYmVcbiAqIHVzZWQgdG8gZW5kb3JzZSBvciBwcm9tb3RlIHByb2R1Y3RzIGRlcml2ZWQgZnJvbSB0aGlzIFdvcmsgd2l0aG91dCBleHByZXNzIHByaW9yIHBlcm1pc3Npb24gb2ZcbiAqIHRoZSBBdXRob3JcbiAqIEV4Y2VwdCBhcyBleHByZXNzbHkgc3RhdGVkIGhlcmVpbiwgbm90aGluZyBpbiB0aGlzIExpY2Vuc2UgZ3JhbnRzIGFueSBsaWNlbnNlIHRvIEF1dGhvcidzXG4gKiB0cmFkZW1hcmtzLCBjb3B5cmlnaHRzLCBwYXRlbnRzLCB0cmFkZSBzZWNyZXRzIG9yIGFueSBvdGhlciBpbnRlbGxlY3R1YWwgcHJvcGVydHkuIE5vIGxpY2Vuc2UgaXNcbiAqIGdyYW50ZWQgdG8gdGhlIHRyYWRlbWFya3Mgb2YgQXV0aG9yIGV2ZW4gaWYgc3VjaCBtYXJrcyBhcmUgaW5jbHVkZWQgaW4gdGhlIFdvcmsuIE5vdGhpbmcgaW4gdGhpc1xuICogTGljZW5zZSBzaGFsbCBiZSBpbnRlcnByZXRlZCB0byBwcm9oaWJpdCBBdXRob3IgZnJvbSBsaWNlbnNpbmcgdW5kZXIgdGVybXMgZGlmZmVyZW50IGZyb20gdGhpc1xuICogTGljZW5zZSBhbnkgV29yayB0aGF0IEF1dGhvciBvdGhlcndpc2Ugd291bGQgaGF2ZSBhIHJpZ2h0IHRvIGxpY2Vuc2UuXG4gKlxuICogNS4gR3JhbnQgb2YgUGF0ZW50IExpY2Vuc2UuXG4gKlxuICogU3ViamVjdCB0byB0aGUgdGVybXMgYW5kIGNvbmRpdGlvbnMgb2YgdGhpcyBMaWNlbnNlLCBlYWNoIENvbnRyaWJ1dG9yIGhlcmVieSBncmFudHMgdG8gWW91IGFcbiAqIHBlcnBldHVhbCwgd29ybGR3aWRlLCBub24tZXhjbHVzaXZlLCBuby1jaGFyZ2UsIHJveWFsdHktZnJlZSwgaXJyZXZvY2FibGUgKGV4Y2VwdCBhcyBzdGF0ZWQgaW5cbiAqIHRoaXMgc2VjdGlvbikgcGF0ZW50IGxpY2Vuc2UgdG8gbWFrZSwgaGF2ZSBtYWRlLCB1c2UsIG9mZmVyIHRvIHNlbGwsIHNlbGwsIGltcG9ydCwgYW5kIG90aGVyd2lzZVxuICogdHJhbnNmZXIgdGhlIFdvcmssIHdoZXJlIHN1Y2ggbGljZW5zZSBhcHBsaWVzIG9ubHkgdG8gdGhvc2UgcGF0ZW50IGNsYWltcyBsaWNlbnNhYmxlIGJ5IHN1Y2hcbiAqIENvbnRyaWJ1dG9yIHRoYXQgYXJlIG5lY2Vzc2FyaWx5IGluZnJpbmdlZCBieSB0aGVpciBDb250cmlidXRpb24ocykgYWxvbmUgb3IgYnkgY29tYmluYXRpb24gb2ZcbiAqIHRoZWlyIENvbnRyaWJ1dGlvbihzKSB3aXRoIHRoZSBXb3JrIHRvIHdoaWNoIHN1Y2ggQ29udHJpYnV0aW9uKHMpIHdhcyBzdWJtaXR0ZWQuIElmIFlvdSBpbnN0aXR1dGVcbiAqIHBhdGVudCBsaXRpZ2F0aW9uIGFnYWluc3QgYW55IGVudGl0eSAoaW5jbHVkaW5nIGEgY3Jvc3MtY2xhaW0gb3IgY291bnRlcmNsYWltIGluIGEgbGF3c3VpdClcbiAqIGFsbGVnaW5nIHRoYXQgdGhlIFdvcmsgb3IgU291cmNlIGluY29ycG9yYXRlZCB3aXRoaW4gdGhlIFdvcmsgY29uc3RpdHV0ZXMgZGlyZWN0IG9yIGNvbnRyaWJ1dG9yeVxuICogcGF0ZW50IGluZnJpbmdlbWVudCwgdGhlbiBhbnkgcGF0ZW50IGxpY2Vuc2VzIGdyYW50ZWQgdG8gWW91IHVuZGVyIHRoaXMgTGljZW5zZSBmb3IgdGhhdCBXb3JrXG4gKiBzaGFsbCB0ZXJtaW5hdGUgYXMgb2YgdGhlIGRhdGUgc3VjaCBsaXRpZ2F0aW9uIGlzIGZpbGVkLlxuICpcbiAqIDYuIExpbWl0YXRpb24gb2YgTGlhYmlsaXR5LlxuICpcbiAqIEluIG5vIGV2ZW50IGFuZCB1bmRlciBubyBsZWdhbCB0aGVvcnksIHdoZXRoZXIgaW4gdG9ydCAoaW5jbHVkaW5nIG5lZ2xpZ2VuY2UpLCBjb250cmFjdCwgb3JcbiAqIG90aGVyd2lzZSwgdW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IChzdWNoIGFzIGRlbGliZXJhdGUgYW5kIGdyb3NzbHkgbmVnbGlnZW50IGFjdHMpIG9yXG4gKiBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc2hhbGwgYW55IEF1dGhvciBvciBQdWJsaXNoZXIgYmUgbGlhYmxlIHRvIFlvdSBmb3IgZGFtYWdlcywgaW5jbHVkaW5nIGFueVxuICogZGlyZWN0LCBpbmRpcmVjdCwgc3BlY2lhbCwgaW5jaWRlbnRhbCwgb3IgY29uc2VxdWVudGlhbCBkYW1hZ2VzIG9mIGFueSBjaGFyYWN0ZXIgYXJpc2luZyBhcyBhXG4gKiByZXN1bHQgb2YgdGhpcyBMaWNlbnNlIG9yIG91dCBvZiB0aGUgdXNlIG9yIGluYWJpbGl0eSB0byB1c2UgdGhlIFdvcmsgKGluY2x1ZGluZyBidXQgbm90IGxpbWl0ZWRcbiAqIHRvIGRhbWFnZXMgZm9yIGxvc3Mgb2YgZ29vZHdpbGwsIHdvcmsgc3RvcHBhZ2UsIGNvbXB1dGVyIGZhaWx1cmUgb3IgbWFsZnVuY3Rpb24sIG9yIGFueSBhbmQgYWxsXG4gKiBvdGhlciBjb21tZXJjaWFsIGRhbWFnZXMgb3IgbG9zc2VzKSwgZXZlbiBpZiBzdWNoIEF1dGhvciBoYXMgYmVlbiBhZHZpc2VkIG9mIHRoZSBwb3NzaWJpbGl0eSBvZlxuICogc3VjaCBkYW1hZ2VzLlxuICpcbiAqIDcuIERJU0NMQUlNRVIgT0YgV0FSUkFOVFlcbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVRcbiAqIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EXG4gKiBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuICogREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG4gKlxuICogOC4gUHVibGlzaGVyLlxuICpcbiAqIFRoZSBwYXJ0aWVzIGhlcmVieSBjb25maXJtIHRoYXQgdGhlIFB1Ymxpc2hlciBzaGFsbCBub3QsIHVuZGVyIGFueSBjaXJjdW1zdGFuY2VzLCBiZSByZXNwb25zaWJsZVxuICogZm9yIGFuZCBzaGFsbCBub3QgaGF2ZSBhbnkgbGlhYmlsaXR5IGluIHJlc3BlY3Qgb2YgdGhlIHN1YmplY3QgbWF0dGVyIG9mIHRoaXMgTGljZW5zZS4gVGhlXG4gKiBQdWJsaXNoZXIgbWFrZXMgbm8gd2FycmFudHkgd2hhdHNvZXZlciBpbiBjb25uZWN0aW9uIHdpdGggdGhlIFdvcmsgYW5kIHNoYWxsIG5vdCBiZSBsaWFibGUgdG8gWW91XG4gKiBvciBhbnkgcGFydHkgb24gYW55IGxlZ2FsIHRoZW9yeSBmb3IgYW55IGRhbWFnZXMgd2hhdHNvZXZlciwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiBhbnlcbiAqIGdlbmVyYWwsIHNwZWNpYWwsIGluY2lkZW50YWwgb3IgY29uc2VxdWVudGlhbCBkYW1hZ2VzIGFyaXNpbmcgaW4gY29ubmVjdGlvbiB0byB0aGlzIGxpY2Vuc2UuIFRoZVxuICogUHVibGlzaGVyIHJlc2VydmVzIHRoZSByaWdodCB0byBjZWFzZSBtYWtpbmcgdGhlIFdvcmsgYXZhaWxhYmxlIHRvIFlvdSBhdCBhbnkgdGltZSB3aXRob3V0IG5vdGljZVxuICpcbiAqIDkuIFRlcm1pbmF0aW9uXG4gKlxuICogVGhpcyBMaWNlbnNlIGFuZCB0aGUgcmlnaHRzIGdyYW50ZWQgaGVyZXVuZGVyIHdpbGwgdGVybWluYXRlIGF1dG9tYXRpY2FsbHkgdXBvbiBhbnkgYnJlYWNoIGJ5IFlvdVxuICogb2YgdGhlIHRlcm1zIG9mIHRoaXMgTGljZW5zZS4gSW5kaXZpZHVhbHMgb3IgZW50aXRpZXMgd2hvIGhhdmUgcmVjZWl2ZWQgRGVyaXZpYXRpdmUgV29ya3MgZnJvbVxuICogWW91IHVuZGVyIHRoaXMgTGljZW5zZSwgaG93ZXZlciwgd2lsbCBub3QgaGF2ZSB0aGVpciBsaWNlbnNlcyB0ZXJtaW5hdGVkIHByb3ZpZGVkIHN1Y2hcbiAqIGluZGl2aWR1YWxzIG9yIGVudGl0aWVzIHJlbWFpbiBpbiBmdWxsIGNvbXBsaWFuY2Ugd2l0aCB0aG9zZSBsaWNlbnNlcy4gU2VjdGlvbnMgMSwgMiwgNiwgNywgOCBhbmRcbiAqIDkgd2lsbCBzdXJ2aXZlIGFueSB0ZXJtaW5hdGlvbiBvZiB0aGlzIExpY2Vuc2UuXG4gKiBTdWJqZWN0IHRvIHRoZSBhYm92ZSB0ZXJtcyBhbmQgY29uZGl0aW9ucywgdGhlIGxpY2Vuc2UgZ3JhbnRlZCBoZXJlIGlzIHBlcnBldHVhbCAoZm9yIHRoZVxuICogZHVyYXRpb24gb2YgdGhlIGFwcGxpY2FibGUgY29weXJpZ2h0IGluIHRoZSBXb3JrKS4gTm90d2l0aHN0YW5kaW5nIHRoZSBhYm92ZSwgTGljZW5zb3IgcmVzZXJ2ZXNcbiAqIHRoZSByaWdodCB0byByZWxlYXNlIHRoZSBXb3JrIHVuZGVyIGRpZmZlcmVudCBsaWNlbnNlIHRlcm1zIG9yIHRvIHN0b3AgZGlzdHJpYnV0aW5nIHRoZSBXb3JrIGF0XG4gKiBhbnkgdGltZTsgcHJvdmlkZWQsIGhvd2V2ZXIgdGhhdCBhbnkgc3VjaCBlbGVjdGlvbiB3aWxsIG5vdCBzZXJ2ZSB0byB3aXRoZHJhdyB0aGlzIExpY2Vuc2UgKG9yXG4gKiBhbnkgb3RoZXIgbGljZW5zZSB0aGF0IGhhcyBiZWVuLCBvciBpcyByZXF1aXJlZCB0byBiZSwgZ3JhbnRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhpcyBMaWNlbnNlKSxcbiAqIGFuZCB0aGlzIExpY2Vuc2Ugd2lsbCBjb250aW51ZSBpbiBmdWxsIGZvcmNlIGFuZCBlZmZlY3QgdW5sZXNzIHRlcm1pbmF0ZWQgYXMgc3RhdGVkIGFib3ZlLlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBoYWxmRGlzdGFuY2VcbiAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXNcbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXNzXG4gKiBAcmV0dXJucyB7bWF0M31cbiAqL1xuZnVuY3Rpb24gY3JlYXRlQ2Fwc3VsZUluZXJ0aWFUZW5zb3IoaGFsZkRpc3RhbmNlLCByYWRpdXMsIG1hc3MpIHsvLyBUT0RPOiBUZXN0IHRoaXMgc29tZWhvdy4uLlxuICBjb25zdCB0ZW5zb3IgPSBtYXQzLmNyZWF0ZSgpO1xuXG4gIGNvbnN0IGN5bGluZGVySGVpZ2h0ID0gaGFsZkRpc3RhbmNlICogMjtcbiAgY29uc3QgcmFkaXVzU3F1YXJlZCA9IHJhZGl1cyAqIHJhZGl1cztcbiAgY29uc3QgY3lsaW5kZXJWb2x1bWUgPSBNYXRoLlBJICogcmFkaXVzU3F1YXJlZCAqIGN5bGluZGVySGVpZ2h0O1xuICBjb25zdCBoZW1pc3BoZXJlQ29tYmluZWRWb2x1bWUgPSA0IC8gMyAqIE1hdGguUEkgKiByYWRpdXNTcXVhcmVkO1xuICBjb25zdCBjeWxpbmRlck1hc3MgPSBjeWxpbmRlclZvbHVtZSAvIChjeWxpbmRlclZvbHVtZSAqIGhlbWlzcGhlcmVDb21iaW5lZFZvbHVtZSkgKiBtYXNzO1xuICBjb25zdCBoZW1pc3BoZXJlTWFzcyA9IChtYXNzIC0gY3lsaW5kZXJNYXNzKSAvIDI7XG5cbiAgLy8gQ29udHJpYnV0aW9uIGZyb20gdGhlIGN5bGluZGVyLlxuICB0ZW5zb3JbNF0gPSByYWRpdXNTcXVhcmVkICogY3lsaW5kZXJNYXNzIC8gMjtcbiAgdGVuc29yWzBdID0gdGVuc29yWzRdIC8gMiArIGN5bGluZGVyTWFzcyAqIGN5bGluZGVySGVpZ2h0ICogY3lsaW5kZXJIZWlnaHQgLyAxMjtcbiAgdGVuc29yWzhdID0gdGVuc29yWzBdO1xuXG4gIC8vIENvbnRyaWJ1dGlvbnMgZnJvbSB0aGUgaGVtaXNwaGVyZXMuXG4gIGNvbnN0IHRtcDEgPSBoZW1pc3BoZXJlTWFzcyAqIDIgKiByYWRpdXNTcXVhcmVkIC8gNTtcbiAgdGVuc29yWzRdICs9IHRtcDEgKiAyO1xuICBjb25zdCB0bXAyID1cbiAgICAgICh0bXAxICsgaGVtaXNwaGVyZU1hc3MgKiAoaGFsZkRpc3RhbmNlICogaGFsZkRpc3RhbmNlICsgMyAvIDggKiBjeWxpbmRlckhlaWdodCAqIHJhZGl1cykpICogMjtcbiAgdGVuc29yWzBdICs9IHRtcDI7XG4gIHRlbnNvcls4XSArPSB0bXAyO1xuXG4gIC8vIFRoZSBhYm92ZSBjYWxjdWxhdGlvbnMgYXNzdW1lIHRoZSBjYXBzdWxlIGlzIGFsaWduZWQgYWxvbmcgdGhlIHktYXhpcy4gSG93ZXZlciwgb3VyIGRlZmF1bHRcbiAgLy8gY2Fwc3VsZSBvcmllbnRhdGlvbiBpcyBhbGlnbmVkIGFsb25nIHRoZSB6LWF4aXMuXG4gIGNvbnN0IHJvdGF0aW9uID0gcXVhdC5jcmVhdGUoKTtcbiAgcXVhdC5yb3RhdGVYKHJvdGF0aW9uLCByb3RhdGlvbiwgX2dlb21ldHJ5LkhBTEZfUEkpO1xuICByb3RhdGVUZW5zb3IodGVuc29yLCB0ZW5zb3IsIHJvdGF0aW9uKTtcblxuICByZXR1cm4gdGVuc29yO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Q29sbGlkYWJsZX0gY29sbGlkYWJsZVxuICogQHBhcmFtIHtudW1iZXJ9IG1hc3NcbiAqIEByZXR1cm5zIHttYXQzfVxuICovXG5mdW5jdGlvbiBjcmVhdGVGb3JDb2xsaWRhYmxlKGNvbGxpZGFibGUsIG1hc3MpIHtcbiAgc3dpdGNoIChjb2xsaWRhYmxlLmNvbnN0cnVjdG9yLm5hbWUpIHtcbiAgICBjYXNlICdTcGhlcmUnOlxuICAgICAgcmV0dXJuIGNyZWF0ZVNwaGVyZUluZXJ0aWFUZW5zb3IoY29sbGlkYWJsZS5yYWRpdXMsIG1hc3MpO1xuICAgIGNhc2UgJ0FhYmInOlxuICAgICAgcmV0dXJuIGNyZWF0ZUJveEluZXJ0aWFUZW5zb3IoY29sbGlkYWJsZS5yYW5nZVgsIGNvbGxpZGFibGUucmFuZ2VZLCBjb2xsaWRhYmxlLnJhbmdlWiwgbWFzcyk7XG4gICAgY2FzZSAnQ2Fwc3VsZSc6XG4gICAgICByZXR1cm4gY3JlYXRlQ2Fwc3VsZUluZXJ0aWFUZW5zb3IoY29sbGlkYWJsZS5oYWxmRGlzdGFuY2UsIGNvbGxpZGFibGUucmFkaXVzLCBtYXNzKTtcbiAgICBjYXNlICdPYmInOlxuICAgICAgcmV0dXJuIGNyZWF0ZUJveEluZXJ0aWFUZW5zb3IoY29sbGlkYWJsZS5oYWxmU2lkZUxlbmd0aHNbMF0gKiAyLFxuICAgICAgICAgIGNvbGxpZGFibGUuaGFsZlNpZGVMZW5ndGhzWzFdICogMiwgY29sbGlkYWJsZS5oYWxmU2lkZUxlbmd0aHNbMl0gKiAyLCBtYXNzKTtcbiAgfVxufVxuXG5leHBvcnQge1xuICBjcmVhdGVTcGhlcmVJbmVydGlhVGVuc29yLFxuICBjcmVhdGVCb3hJbmVydGlhVGVuc29yLFxuICBjcmVhdGVDYXBzdWxlSW5lcnRpYVRlbnNvcixcbiAgY3JlYXRlRm9yQ29sbGlkYWJsZSxcbn07XG4iLCIvKipcbiAqIFRoaXMgbW9kdWxlIGRlZmluZXMgYSBjb2xsZWN0aW9uIG9mIHN0YXRpYyBnZW5lcmFsIHV0aWxpdHkgZnVuY3Rpb25zLlxuICovXG5cbi8vIFRPRE86IFRoaXMgc2hvdWxkIGJlIHNldCBmcm9tIHNvbWV3aGVyZSBlbHNlIChwcm9iYWJseSBhcyBhIHBhcmFtIHRvIGNvbnRyb2xsZXIgbGlrZSBiZWZvcmU7IGJ1dCB0aGVuIEkgbmVlZCB0byBtYWtlIHRoaXMgdXBkYXRhYmxlKVxuY29uc3QgaXNJbkRldk1vZGUgPSB0cnVlO1xuXG5jb25zdCBfdXRpbCA9IHtcbiAgaXNJbkRldk1vZGU6IGlzSW5EZXZNb2RlXG59O1xuXG5leHBvcnQge1xuICBfdXRpbCxcbn07XG4iLCJleHBvcnQgKiBmcm9tICcuL3NyYy9ib3gtY29uZmlnJztcclxuZXhwb3J0ICogZnJvbSAnLi9zcmMvY2FtZXJhLWNvbmZpZyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vc3JjL2NhbWVyYS1mb2xkZXItY29uZmlnJztcclxuZXhwb3J0ICogZnJvbSAnLi9zcmMvY2Fwc3VsZS1jb25maWcnO1xyXG5leHBvcnQgKiBmcm9tICcuL3NyYy9nZW5lcmFsLWNvbmZpZyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vc3JjL3BoeXNpY3MtY29uZmlnJztcclxuZXhwb3J0ICogZnJvbSAnLi9zcmMvcGh5c2ljcy1mb2xkZXItY29uZmlnJztcclxuZXhwb3J0ICogZnJvbSAnLi9zcmMvc3BoZXJlLWNvbmZpZyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vc3JjL3dhbGwtY29uZmlnJztcclxuIiwiLyoqXHJcbiAqIFRoaXMgbW9kdWxlIGhhbmRsZXMgY29uZmlndXJhdGlvbiBwYXJhbWV0ZXJzIHJlbGF0aW5nIHRvIGFuIE9CQi9BQkIgb2JqZWN0LlxyXG4gKi9cclxuXHJcbmNvbnN0IGJveENvbmZpZyA9IHt9O1xyXG5cclxuYm94Q29uZmlnLnNjYWxlID0ge1xyXG4gIHN0YXJ0OiB2ZWMzLmZyb21WYWx1ZXMoMSwgMSwgMSksXHJcbiAgbWluOiB2ZWMzLmZyb21WYWx1ZXMoMC4wMSwgMC4wMSwgMC4wMSksXHJcbiAgbWF4OiB2ZWMzLmZyb21WYWx1ZXMoMTAwLCAxMDAsIDEwMClcclxufTtcclxuXHJcbmNvbnN0IGJveEZvbGRlckNvbmZpZyA9IHtcclxuICBsYWJlbDogJ0JveCcsXHJcbiAgY29uZmlnOiBib3hDb25maWcsXHJcbiAgaXNPcGVuOiB0cnVlXHJcbn07XHJcblxyXG5leHBvcnQge2JveENvbmZpZywgYm94Rm9sZGVyQ29uZmlnfTtcclxuIiwiLyoqXHJcbiAqIFRoaXMgbW9kdWxlIGhhbmRsZXMgY29uZmlndXJhdGlvbiBwYXJhbWV0ZXJzIHJlbGF0aW5nIHRvIHRoZSBjYW1lcmEuIFRoaXMgdXNlcyB0aGUgZGF0LkdVSVxyXG4gKiBwYWNrYWdlLlxyXG4gKi9cclxuXHJcbi8vIFRPRE86IFRpZSB0aGlzIGludG8gdGhlIGZvbGRlci1jb25maWcgc3lzdGVtLlxyXG5cclxuaW1wb3J0IHtkZWdUb1JhZH0gZnJvbSAnZ2FtZXgnO1xyXG5cclxuY29uc3QgY2FtZXJhQ29uZmlnID0ge307XHJcblxyXG5jYW1lcmFDb25maWcuZm92WSA9IHtcclxuICBzdGFydDogZGVnVG9SYWQoNzAuMCksXHJcbiAgbWluOiAwLjAsXHJcbiAgbWF4OiAzLjE0MTVcclxufTtcclxuY2FtZXJhQ29uZmlnLmRlZmF1bHRBc3BlY3RSYXRpbyA9IHtcclxuICBzdGFydDogMTYgLyA5LFxyXG4gIG1pbjogMC4wMSxcclxuICBtYXg6IDguMFxyXG59O1xyXG5jYW1lcmFDb25maWcuX3pOZWFyID0gMC4xO1xyXG5jYW1lcmFDb25maWcuX3pGYXIgPSA0MDAwO1xyXG5jYW1lcmFDb25maWcuX2RlZmF1bHRMb29rQXREaXJlY3Rpb24gPSB2ZWMzLmZyb21WYWx1ZXMoMCwgMCwgLTEpO1xyXG5cclxuY29uc3QgZml4ZWRDYW1lcmFDb25maWcgPSB7fTtcclxuXHJcbmZpeGVkQ2FtZXJhQ29uZmlnLnBvc2l0aW9uID0ge1xyXG4gIHN0YXJ0OiB2ZWMzLmZyb21WYWx1ZXMoMCwgLTQwLCA1KSxcclxuICBtaW46IHZlYzMuZnJvbVZhbHVlcygtMjAwLCAtMjAwLCAtMjAwKSxcclxuICBtYXg6IHZlYzMuZnJvbVZhbHVlcygyMDAsIDIwMCwgMjAwKVxyXG59O1xyXG5maXhlZENhbWVyYUNvbmZpZy52aWV3RGlyZWN0aW9uID0ge1xyXG4gIHN0YXJ0OiB2ZWMzLmZyb21WYWx1ZXMoMCwgMSwgLS41KSxcclxuICBtaW46IHZlYzMuZnJvbVZhbHVlcygtMSwgLTEsIC0xKSxcclxuICBtYXg6IHZlYzMuZnJvbVZhbHVlcygxLCAxLCAxKVxyXG59O1xyXG5maXhlZENhbWVyYUNvbmZpZy5fdXAgPSB2ZWMzLmZyb21WYWx1ZXMoMCwgMCwgMSk7XHJcblxyXG5jb25zdCBmb2xsb3dDYW1lcmFDb25maWcgPSB7fTtcclxuXHJcbmZvbGxvd0NhbWVyYUNvbmZpZy5zcHJpbmdDb2VmZmljaWVudCA9IDAuMDAzO1xyXG5mb2xsb3dDYW1lcmFDb25maWcuZGFtcGluZ0NvZWZmaWNpZW50ID0gMC4wOTtcclxuXHJcbmZvbGxvd0NhbWVyYUNvbmZpZy5pbnRlbmRlZERpc3RhbmNlRnJvbVRhcmdldCA9IHtcclxuICBzdGFydDogNixcclxuICBtaW46IDAsXHJcbiAgbWF4OiAxMDBcclxufTtcclxuZm9sbG93Q2FtZXJhQ29uZmlnLmludGVuZGVkUm90YXRpb25BbmdsZUZyb21UYXJnZXQgPSB7XHJcbiAgc3RhcnQ6IC1NYXRoLlBJICogLjE1LFxyXG4gIG1pbjogMCxcclxuICBtYXg6IDIgKiBNYXRoLlBJXHJcbn07XHJcbmZvbGxvd0NhbWVyYUNvbmZpZy5pbnRlbmRlZFJvdGF0aW9uQXhpc0Zyb21UYXJnZXQgPSB2ZWMzLmZyb21WYWx1ZXMoMSwgMCwgMCk7XHJcbmZvbGxvd0NhbWVyYUNvbmZpZy5faW50ZW5kZWRUcmFuc2xhdGlvbkZyb21UYXJnZXQgPSB2ZWMzLmNyZWF0ZSgpO1xyXG5cclxuZnVuY3Rpb24gdXBkYXRlSW50ZW5kZWRUcmFuc2xhdGlvbkZyb21UYXJnZXQoKSB7XHJcbiAgY29uc3QgdHJhbnNmb3JtYXRpb24gPSBtYXQ0LmNyZWF0ZSgpO1xyXG4gIG1hdDQucm90YXRlKFxyXG4gICAgICB0cmFuc2Zvcm1hdGlvbixcclxuICAgICAgdHJhbnNmb3JtYXRpb24sXHJcbiAgICAgIGZvbGxvd0NhbWVyYUNvbmZpZy5pbnRlbmRlZFJvdGF0aW9uQW5nbGVGcm9tVGFyZ2V0LFxyXG4gICAgICBmb2xsb3dDYW1lcmFDb25maWcuaW50ZW5kZWRSb3RhdGlvbkF4aXNGcm9tVGFyZ2V0KTtcclxuICBtYXQ0LnRyYW5zbGF0ZShcclxuICAgICAgdHJhbnNmb3JtYXRpb24sXHJcbiAgICAgIHRyYW5zZm9ybWF0aW9uLFxyXG4gICAgICB2ZWMzLmZyb21WYWx1ZXMoMCwgMCwgZm9sbG93Q2FtZXJhQ29uZmlnLmludGVuZGVkRGlzdGFuY2VGcm9tVGFyZ2V0KSk7XHJcbiAgdmVjMy50cmFuc2Zvcm1NYXQ0KFxyXG4gICAgICBmb2xsb3dDYW1lcmFDb25maWcuX2ludGVuZGVkVHJhbnNsYXRpb25Gcm9tVGFyZ2V0LFxyXG4gICAgICBmb2xsb3dDYW1lcmFDb25maWcuX2ludGVuZGVkVHJhbnNsYXRpb25Gcm9tVGFyZ2V0LFxyXG4gICAgICB0cmFuc2Zvcm1hdGlvbik7XHJcbn1cclxuXHJcbmNvbnN0IG5vcm1hbGl6ZUZpeGVkVmlld0RpcmVjdGlvbiA9XHJcbiAgICAoKSA9PiB2ZWMzLm5vcm1hbGl6ZShmaXhlZENhbWVyYUNvbmZpZy52aWV3RGlyZWN0aW9uLCBmaXhlZENhbWVyYUNvbmZpZy52aWV3RGlyZWN0aW9uKTtcclxuY29uc3Qgbm9ybWFsaXplRGVmYXVsdExvb2tBdERpcmVjdGlvbiA9XHJcbiAgICAoKSA9PiB2ZWMzLm5vcm1hbGl6ZShjYW1lcmFDb25maWcuX2RlZmF1bHRMb29rQXREaXJlY3Rpb24sXHJcbiAgICAgICAgY2FtZXJhQ29uZmlnLl9kZWZhdWx0TG9va0F0RGlyZWN0aW9uKTtcclxuXHJcbmNvbnN0IGNhbWVyYUNvbmZpZ1VwZGF0ZXJzID0ge1xyXG4gIHVwZGF0ZUludGVuZGVkVHJhbnNsYXRpb25Gcm9tVGFyZ2V0OiB1cGRhdGVJbnRlbmRlZFRyYW5zbGF0aW9uRnJvbVRhcmdldCxcclxuICBub3JtYWxpemVGaXhlZFZpZXdEaXJlY3Rpb246IG5vcm1hbGl6ZUZpeGVkVmlld0RpcmVjdGlvbixcclxuICBub3JtYWxpemVEZWZhdWx0TG9va0F0RGlyZWN0aW9uOiBub3JtYWxpemVEZWZhdWx0TG9va0F0RGlyZWN0aW9uLFxyXG59O1xyXG5cclxubm9ybWFsaXplRGVmYXVsdExvb2tBdERpcmVjdGlvbigpO1xyXG5cclxuZXhwb3J0IHtjYW1lcmFDb25maWcsIGZpeGVkQ2FtZXJhQ29uZmlnLCBmb2xsb3dDYW1lcmFDb25maWcsIGNhbWVyYUNvbmZpZ1VwZGF0ZXJzfTtcclxuIiwiaW1wb3J0IHtcclxuICBjYW1lcmFDb25maWcsXHJcbiAgZml4ZWRDYW1lcmFDb25maWcsXHJcbiAgZm9sbG93Q2FtZXJhQ29uZmlnLFxyXG4gIGNhbWVyYUNvbmZpZ1VwZGF0ZXJzXHJcbn0gZnJvbSAnLi9jYW1lcmEtY29uZmlnJztcclxuaW1wb3J0IHtmaXJzdFBlcnNvbkNhbWVyYUZvbGRlckNvbmZpZ30gZnJvbSBcIi4uLy4uLy4uLy4uL3NwYWNlLWRlYnJpcy9zcmMvY29uZmlnL3NyYy9jYW1lcmEtZm9sZGVyLWNvbmZpZ1wiO1xyXG5cclxuLyoqXHJcbiAqIFRoaXMgbW9kdWxlIGNvbmZpZ3VyZXMgdGhlIGNhbWVyYSBkYXQuR1VJIG1lbnUgZm9sZGVyLlxyXG4gKi9cclxuXHJcbmNvbnN0IGZpeGVkQ2FtZXJhRm9sZGVyQ29uZmlnID0ge1xyXG4gIGxhYmVsOiAnRml4ZWQgQ2FtZXJhJyxcclxuICBjb25maWc6IGZpeGVkQ2FtZXJhQ29uZmlnLFxyXG4gIGlzT3BlbjogdHJ1ZSxcclxuICBvbkNoYW5nZUxpc3RlbmVyczoge1xyXG4gICAgJ3ZpZXdEaXJlY3Rpb24nOiBjYW1lcmFDb25maWdVcGRhdGVycy5ub3JtYWxpemVGaXhlZFZpZXdEaXJlY3Rpb25cclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBmb2xsb3dDYW1lcmFGb2xkZXJDb25maWcgPSB7XHJcbiAgbGFiZWw6ICdGb2xsb3cgQ2FtZXJhJyxcclxuICBjb25maWc6IGZvbGxvd0NhbWVyYUNvbmZpZyxcclxuICBpc09wZW46IGZhbHNlLFxyXG4gIG9uQ2hhbmdlTGlzdGVuZXJzOiB7XHJcbiAgICAnaW50ZW5kZWREaXN0YW5jZUZyb21UYXJnZXQnOiBjYW1lcmFDb25maWdVcGRhdGVycy51cGRhdGVJbnRlbmRlZFRyYW5zbGF0aW9uRnJvbVRhcmdldCxcclxuICAgICdpbnRlbmRlZFJvdGF0aW9uQW5nbGVGcm9tVGFyZ2V0JzogY2FtZXJhQ29uZmlnVXBkYXRlcnMudXBkYXRlSW50ZW5kZWRUcmFuc2xhdGlvbkZyb21UYXJnZXQsXHJcbiAgICAnaW50ZW5kZWRSb3RhdGlvbkF4aXNGcm9tVGFyZ2V0JzogY2FtZXJhQ29uZmlnVXBkYXRlcnMudXBkYXRlSW50ZW5kZWRUcmFuc2xhdGlvbkZyb21UYXJnZXRcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBjYW1lcmFGb2xkZXJDb25maWcgPSB7XHJcbiAgbGFiZWw6ICdDYW1lcmEnLFxyXG4gIGNvbmZpZzogY2FtZXJhQ29uZmlnLFxyXG4gIGlzT3BlbjogdHJ1ZVxyXG59O1xyXG5cclxuZXhwb3J0IHtjYW1lcmFGb2xkZXJDb25maWcsIGZpeGVkQ2FtZXJhRm9sZGVyQ29uZmlnLCBmb2xsb3dDYW1lcmFGb2xkZXJDb25maWd9O1xyXG4iLCIvKipcclxuICogVGhpcyBtb2R1bGUgaGFuZGxlcyBjb25maWd1cmF0aW9uIHBhcmFtZXRlcnMgcmVsYXRpbmcgdG8gYSBjYXBzdWxlIG9iamVjdC5cclxuICovXHJcblxyXG5jb25zdCBjYXBzdWxlQ29uZmlnID0ge307XHJcblxyXG5jYXBzdWxlQ29uZmlnLnNwaGVyaWNhbFRlc3NlbGF0aW9uQ291bnQgPSB7XHJcbiAgc3RhcnQ6IDgsXHJcbiAgbWluOiAwLFxyXG4gIG1heDogMjBcclxufTtcclxuY2Fwc3VsZUNvbmZpZy5yYWRpdXMgPSB7XHJcbiAgc3RhcnQ6IDEsXHJcbiAgbWluOiAwLFxyXG4gIG1heDogMTZcclxufTtcclxuY2Fwc3VsZUNvbmZpZy5jYXBzdWxlRW5kUG9pbnRzRGlzdGFuY2UgPSB7XHJcbiAgc3RhcnQ6IDMsXHJcbiAgbWluOiAwLFxyXG4gIG1heDogMTZcclxufTtcclxuXHJcbmNvbnN0IGNhcHN1bGVGb2xkZXJDb25maWcgPSB7XHJcbiAgbGFiZWw6ICdDYXBzdWxlJyxcclxuICBjb25maWc6IGNhcHN1bGVDb25maWcsXHJcbiAgaXNPcGVuOiB0cnVlXHJcbn07XHJcblxyXG5leHBvcnQge2NhcHN1bGVDb25maWcsIGNhcHN1bGVGb2xkZXJDb25maWd9O1xyXG4iLCIvKipcclxuICogVGhpcyBtb2R1bGUgaGFuZGxlcyBnZW5lcmFsIGNvbmZpZ3VyYXRpb24gcGFyYW1ldGVycy5cclxuICovXHJcblxyXG5jb25zdCBnZW5lcmFsQ29uZmlnID0ge307XHJcblxyXG5nZW5lcmFsQ29uZmlnLnVzZVNtb290aFNoYWRpbmcgPSBmYWxzZTtcclxuZ2VuZXJhbENvbmZpZy50ZXh0dXJlUGF0aCA9IHtcclxuICBzdGFydDogJ2ltYWdlcy90ZXh0dXJlcy90ZXN0LWltYWdlLnBuZycsXHJcbiAgb3B0aW9uczogW1xyXG4gICAgJ2ltYWdlcy90ZXh0dXJlcy90ZXN0LWltYWdlLnBuZycsXHJcbiAgICAnaW1hZ2VzL3RleHR1cmVzL21ldGFsL21ldGFsMS5wbmcnLFxyXG4gICAgJ2ltYWdlcy90ZXh0dXJlcy9tZXRhbC9tZXRhbDIucG5nJyxcclxuICAgICdpbWFnZXMvdGV4dHVyZXMvbWV0YWwvbWV0YWwzLnBuZycsXHJcbiAgICAnaW1hZ2VzL3RleHR1cmVzL21ldGFsL21ldGFsNC5wbmcnLFxyXG4gICAgJ2ltYWdlcy90ZXh0dXJlcy9tZXRhbC9tZXRhbDUucG5nJyxcclxuICAgICdpbWFnZXMvdGV4dHVyZXMvbWV0YWwvbWV0YWw2LnBuZycsXHJcbiAgICAnaW1hZ2VzL3RleHR1cmVzL21ldGFsL21ldGFsNy5wbmcnLFxyXG4gICAgJ2ltYWdlcy90ZXh0dXJlcy9tZXRhbC9tZXRhbDgucG5nJ1xyXG4gIF1cclxufTtcclxuZ2VuZXJhbENvbmZpZy5zaGFkZXJQcm9ncmFtID0ge1xyXG4gIHN0YXJ0OiAnZ2VuZXJhbC1tb2RlbC1wcm9ncmFtJyxcclxuICBvcHRpb25zOiBbXHJcbiAgICAnZ2VuZXJhbC1tb2RlbC1wcm9ncmFtJyxcclxuICAgIC8vIFRPRE86IEFkZCBvdGhlcnNcclxuICBdXHJcbn07XHJcbi8vIFRPRE86IFVzZSB0aGVzZVxyXG4vL2dlbmVyYWxDb25maWcuY29sb3IgPSB7XHJcbi8vICAgaDogLFxyXG4vLyAgIHM6ICxcclxuLy8gICBsOlxyXG4vLyB9O1xyXG4vL2dlbmVyYWxDb25maWcuc2hhZGVyID0gO1xyXG4vL2dlbmVyYWxDb25maWcubGlnaHRzID0gW1xyXG4vLyAgICB7XHJcbi8vICAgICAgICBjb2xvcjogLFxyXG4vLyAgICAgICAgeDogLFxyXG4vLyAgICAgICAgeTogLFxyXG4vLyAgICAgICAgejpcclxuLy8gICAgfSxcclxuLy8gICAge1xyXG4vLyAgICAgICAgY29sb3I6ICxcclxuLy8gICAgICAgIHg6ICxcclxuLy8gICAgICAgIHk6ICxcclxuLy8gICAgICAgIHo6XHJcbi8vICAgIH0sXHJcbi8vICAgIHtcclxuLy8gICAgICAgIGNvbG9yOiAsXHJcbi8vICAgICAgICB4OiAsXHJcbi8vICAgICAgICB5OiAsXHJcbi8vICAgICAgICB6OlxyXG4vLyAgICB9XHJcbi8vXTtcclxuLy9nZW5lcmFsQ29uZmlnLmNhbWVyYVR5cGUgPSA7XHJcbi8vIFRPRE86IEFkZCBvdGhlciBjYW1lcmEgcGFyYW0gY29uZmlnc1xyXG5cclxuZ2VuZXJhbENvbmZpZy5jbGVhck9iamVjdHMgPSAoKSA9PiB7fTtcclxuXHJcbmNvbnN0IGdlbmVyYWxGb2xkZXJDb25maWcgPSB7XHJcbiAgbGFiZWw6ICdHZW5lcmFsJyxcclxuICBjb25maWc6IGdlbmVyYWxDb25maWcsXHJcbiAgaXNPcGVuOiB0cnVlXHJcbn07XHJcblxyXG5leHBvcnQge2dlbmVyYWxDb25maWcsIGdlbmVyYWxGb2xkZXJDb25maWd9O1xyXG4iLCIvKipcclxuICogVGhpcyBtb2R1bGUgaGFuZGxlcyBjb25maWd1cmF0aW9uIHBhcmFtZXRlcnMgcmVsYXRpbmcgdG8gdGhlIHBoeXNpY3MgZW5naW5lLlxyXG4gKi9cclxuXHJcbmNvbnN0IHBoeXNpY3NDb25maWcgPSB7fTtcclxuXHJcbnBoeXNpY3NDb25maWcudGltZVN0ZXBEdXJhdGlvbiA9IHtcclxuICBzdGFydDogMTAsXHJcbiAgbWluOiAxLFxyXG4gIG1heDogMTAwMFxyXG59O1xyXG5waHlzaWNzQ29uZmlnLmdyYXZpdHkgPSB7XHJcbiAgc3RhcnQ6IDAuMDAwMSxcclxuICBtaW46IC0wLjAwMSxcclxuICBtYXg6IDAuMDAxXHJcbn07XHJcbnBoeXNpY3NDb25maWcuX2dyYXZpdHlWZWMgPSB2ZWMzLmNyZWF0ZSgpO1xyXG5cclxucGh5c2ljc0NvbmZpZy5saW5lYXJEcmFnQ29lZmZpY2llbnQgPSB7XHJcbiAgc3RhcnQ6IDAuMDAwMSxcclxuICBtaW46IDAuMCxcclxuICBtYXg6IDEuMFxyXG59O1xyXG5waHlzaWNzQ29uZmlnLmFuZ3VsYXJEcmFnQ29lZmZpY2llbnQgPSB7XHJcbiAgc3RhcnQ6IDAuMDAwMDA1LFxyXG4gIG1pbjogMC4wLFxyXG4gIG1heDogMS4wXHJcbn07XHJcbnBoeXNpY3NDb25maWcuY29lZmZpY2llbnRPZlJlc3RpdHV0aW9uID0ge1xyXG4gIHN0YXJ0OiAwLjgsXHJcbiAgbWluOiAwLjAwMDEsXHJcbiAgbWF4OiAxLjBcclxufTtcclxucGh5c2ljc0NvbmZpZy5jb2VmZmljaWVudE9mRnJpY3Rpb24gPSB7XHJcbiAgc3RhcnQ6IDAuMDMsXHJcbiAgbWluOiAwLjAwMDEsXHJcbiAgbWF4OiAxLjBcclxufTtcclxucGh5c2ljc0NvbmZpZy5sb3dNb21lbnR1bVN1cHByZXNzaW9uVGhyZXNob2xkID0ge1xyXG4gIHN0YXJ0OiAwLjAwMDAwMDAwMixcclxuICBtaW46IDAuMCxcclxuICBtYXg6IDIuMFxyXG59O1xyXG5waHlzaWNzQ29uZmlnLmxvd0FuZ3VsYXJNb21lbnR1bVN1cHByZXNzaW9uVGhyZXNob2xkID0ge1xyXG4gIHN0YXJ0OiAwLjAwMDAwMDAwMSxcclxuICBtaW46IDAuMCxcclxuICBtYXg6IDIuMFxyXG59O1xyXG5cclxuY29uc3QgcGh5c2ljc0NvbmZpZ1VwZGF0ZXJzID0ge1xyXG4gIHVwZGF0ZUdyYXZpdHk6ICgpID0+IHZlYzMuc2V0KHBoeXNpY3NDb25maWcuX2dyYXZpdHlWZWMsIDAsIDAsIC1waHlzaWNzQ29uZmlnLmdyYXZpdHkpXHJcbn07XHJcblxyXG5leHBvcnQge3BoeXNpY3NDb25maWcsIHBoeXNpY3NDb25maWdVcGRhdGVyc307XHJcbiIsImltcG9ydCB7cGh5c2ljc0NvbmZpZywgcGh5c2ljc0NvbmZpZ1VwZGF0ZXJzfSBmcm9tICcuL3BoeXNpY3MtY29uZmlnJztcclxuXHJcbi8qKlxyXG4gKiBUaGlzIG1vZHVsZSBjb25maWd1cmVzIHRoZSBwaHlzaWNzIGRhdC5HVUkgbWVudSBmb2xkZXIuXHJcbiAqL1xyXG5cclxuY29uc3QgcGh5c2ljc0ZvbGRlckNvbmZpZyA9IHtcclxuICBsYWJlbDogJ1BoeXNpY3MgRW5naW5lJyxcclxuICBjb25maWc6IHBoeXNpY3NDb25maWcsXHJcbiAgaXNPcGVuOiBmYWxzZSxcclxuICBvbkNoYW5nZUxpc3RlbmVyczoge1xyXG4gICAgJ2dyYXZpdHknOiBwaHlzaWNzQ29uZmlnVXBkYXRlcnMudXBkYXRlR3Jhdml0eVxyXG4gIH0sXHJcbn07XHJcblxyXG5leHBvcnQge3BoeXNpY3NGb2xkZXJDb25maWd9O1xyXG4iLCIvKipcclxuICogVGhpcyBtb2R1bGUgaGFuZGxlcyBjb25maWd1cmF0aW9uIHBhcmFtZXRlcnMgcmVsYXRpbmcgdG8gYSBzcGhlcmUgb2JqZWN0LlxyXG4gKi9cclxuXHJcbmNvbnN0IHNwaGVyZUNvbmZpZyA9IHt9O1xyXG5cclxuc3BoZXJlQ29uZmlnLnNwaGVyaWNhbFRlc3NlbGF0aW9uQ291bnQgPSB7XHJcbiAgc3RhcnQ6IDgsXHJcbiAgbWluOiAwLFxyXG4gIG1heDogMjBcclxufTtcclxuc3BoZXJlQ29uZmlnLnJhZGl1cyA9IHtcclxuICBzdGFydDogMSxcclxuICBtaW46IDAsXHJcbiAgbWF4OiAxNlxyXG59O1xyXG5cclxuY29uc3Qgc3BoZXJlRm9sZGVyQ29uZmlnID0ge1xyXG4gIGxhYmVsOiAnU3BoZXJlJyxcclxuICBjb25maWc6IHNwaGVyZUNvbmZpZyxcclxuICBpc09wZW46IHRydWVcclxufTtcclxuXHJcbmV4cG9ydCB7c3BoZXJlQ29uZmlnLCBzcGhlcmVGb2xkZXJDb25maWd9O1xyXG4iLCIvKipcclxuICogVGhpcyBtb2R1bGUgaGFuZGxlcyBjb25maWd1cmF0aW9uIHBhcmFtZXRlcnMgcmVsYXRpbmcgdG8gdGhlIGZsb29yLlxyXG4gKi9cclxuXHJcbmNvbnN0IHdhbGxDb25maWcgPSB7fTtcclxuXHJcbndhbGxDb25maWcuaGFsZlNpZGVMZW5ndGggPSA4MDAwO1xyXG53YWxsQ29uZmlnLnRoaWNrbmVzcyA9IDgwMDA7XHJcbndhbGxDb25maWcuelBvc2l0aW9uID0gODAwMDtcclxud2FsbENvbmZpZy51c2VTbW9vdGhTaGFkaW5nID0gZmFsc2U7XHJcbndhbGxDb25maWcudGV4dHVyZVBhdGggPSAnaW1hZ2VzL3RleHR1cmVzL21ldGFsL21ldGFsOC5wbmcnO1xyXG53YWxsQ29uZmlnLnNoYWRlclByb2dyYW0gPSAnZ2VuZXJhbC1tb2RlbC1wcm9ncmFtJztcclxud2FsbENvbmZpZy50ZXh0dXJlU3BhbiA9IHtcclxuICBtaW5YOiAwLFxyXG4gIG1pblk6IDAsXHJcbiAgbWF4WDogNzAwLFxyXG4gIG1heFk6IDcwMFxyXG59O1xyXG5cclxuY29uc3Qgd2FsbEZvbGRlckNvbmZpZyA9IHtcclxuICBsYWJlbDogJ1dhbGwnLFxyXG4gIGNvbmZpZzogd2FsbENvbmZpZ1xyXG59O1xyXG5cclxuZXhwb3J0IHt3YWxsQ29uZmlnLCB3YWxsRm9sZGVyQ29uZmlnfTtcclxuIiwiaW1wb3J0IHtHYW1lQ29udHJvbGxlciwgUGh5c2ljc0VuZ2luZX0gZnJvbSAnZ2FtZXgnO1xyXG5pbXBvcnQge3BoeXNpY3NDb25maWd9IGZyb20gJy4vY29uZmlnJztcclxuaW1wb3J0IHtTY2VuZUltcGx9IGZyb20gJy4vbW9kZWwtY29udHJvbGxlcnMvc2NlbmUvc2NlbmUtaW1wbCc7XHJcbmltcG9ydCB7Z2VuZXJhbE1vZGVsUHJvZ3JhbVdyYXBwZXJDb25maWd9IGZyb20gJy4vcHJvZ3JhbXMnO1xyXG5cclxuLyoqXHJcbiAqIFRoaXMgc2NyaXB0IGRlZmluZXMgdGhlIHRvcC1sZXZlbCBsb2dpYyB0aGF0IGJvb3RzdHJhcHMgdGhlIGFwcGxpY2F0aW9uLlxyXG4gKi9cclxuXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgX2luaXRBcHAsIGZhbHNlKTtcclxuXHJcbi8qKlxyXG4gKiBJbml0aWFsaXplcyB0aGUgYXBwLiBUaGlzIGlzIHRoZSBldmVudCBoYW5kbGVyIGZvciB0aGUgY29tcGxldGlvbiBvZiB0aGUgRE9NIGxvYWRpbmcuXHJcbiAqXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBfaW5pdEFwcCgpIHtcclxuICBjb25zb2xlLmRlYnVnKCdvbkRvY3VtZW50TG9hZCcpO1xyXG5cclxuICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbG9hZCcsIF9pbml0QXBwKTtcclxuXHJcbiAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dhbWUtYXJlYScpO1xyXG4gIGNvbnN0IGNvbnRyb2xsZXIgPSBuZXcgR2FtZUNvbnRyb2xsZXIoKTtcclxuICBjb25zdCBwcm9ncmFtQ29uZmlncyA9IFtnZW5lcmFsTW9kZWxQcm9ncmFtV3JhcHBlckNvbmZpZ107XHJcbiAgY29uc3QgdGV4dHVyZXMgPSBbXHJcbiAgICAnaW1hZ2VzL3RleHR1cmVzL3Rlc3QtaW1hZ2UucG5nJyxcclxuICAgICdpbWFnZXMvdGV4dHVyZXMvbWV0YWwvbWV0YWwxLnBuZycsXHJcbiAgICAnaW1hZ2VzL3RleHR1cmVzL21ldGFsL21ldGFsMi5wbmcnLFxyXG4gICAgJ2ltYWdlcy90ZXh0dXJlcy9tZXRhbC9tZXRhbDMucG5nJyxcclxuICAgICdpbWFnZXMvdGV4dHVyZXMvbWV0YWwvbWV0YWw0LnBuZycsXHJcbiAgICAnaW1hZ2VzL3RleHR1cmVzL21ldGFsL21ldGFsNS5wbmcnLFxyXG4gICAgJ2ltYWdlcy90ZXh0dXJlcy9tZXRhbC9tZXRhbDYucG5nJyxcclxuICAgICdpbWFnZXMvdGV4dHVyZXMvbWV0YWwvbWV0YWw3LnBuZycsXHJcbiAgICAnaW1hZ2VzL3RleHR1cmVzL21ldGFsL21ldGFsOC5wbmcnXHJcbiAgXTtcclxuICBQaHlzaWNzRW5naW5lLmNyZWF0ZShwaHlzaWNzQ29uZmlnKTtcclxuXHJcbiAgY29udHJvbGxlci5pbml0aWFsaXplKGNhbnZhcywgcHJvZ3JhbUNvbmZpZ3MsIHRleHR1cmVzLCBTY2VuZUltcGwpXHJcbiAgICAgIC50aGVuKCgpID0+IGNvbnRyb2xsZXIucnVuKCkpO1xyXG59XHJcbiIsImltcG9ydCB7XHJcbiAgY29uZmlnQ29udHJvbGxlcixcclxuICBmaW5kSW50ZXJzZWN0aW5nQ29sbGlkYWJsZXNGb3JDb2xsaWRhYmxlLFxyXG4gIHJhbmRvbVZlYzNJblJhbmdlLFxyXG59IGZyb20gJ2dhbWV4JztcclxuXHJcbmltcG9ydCB7U2ltdWxhdGlvbkNvbmZpZ0NvbnRyb2xsZXJ9IGZyb20gJy4uL3NpbXVsYXRpb24tY29uZmlnLWNvbnRyb2xsZXInO1xyXG5cclxuaW1wb3J0IHtcclxuICBnZW5lcmFsQ29uZmlnLFxyXG4gIHBoeXNpY3NDb25maWcsXHJcbn0gZnJvbSAnLi4vLi4vY29uZmlnJztcclxuaW1wb3J0IHtTaW5nbGVPYmplY3RDb250cm9sbGVyfSBmcm9tICcuLi9zaW5nbGUtb2JqZWN0L3NpbmdsZS1vYmplY3QtY29udHJvbGxlcic7XHJcbmltcG9ydCB7ZHJvcE9iamVjdENvbmZpZywgZHJvcE9iamVjdEZvbGRlckNvbmZpZ30gZnJvbSAnLi9kcm9wLW9iamVjdC1jb25maWcnO1xyXG5cclxuLyoqXHJcbiAqIFRoaXMgY2xhc3MgdXBkYXRlcyBhIGRyb3Atb2JqZWN0IHNpbXVsYXRpb24gYWNjb3JkaW5nIHRvIGNvbmZpZ3VyYXRpb24tY2hhbmdlIGV2ZW50cyB0cmlnZ2VyZWRcclxuICogdGhyb3VnaCB0aGUgZGF0LkdVSSBtZW51LlxyXG4gKi9cclxuY2xhc3MgRHJvcE9iamVjdENvbmZpZ0NvbnRyb2xsZXIgZXh0ZW5kcyBTaW11bGF0aW9uQ29uZmlnQ29udHJvbGxlciB7XHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtNb2RlbEdyb3VwQ29udHJvbGxlckNvbmZpZ30gcGFyYW1zXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IocGFyYW1zKSB7XHJcbiAgICBzdXBlcihwYXJhbXMpO1xyXG5cclxuICAgIGNvbmZpZ0NvbnRyb2xsZXIuY3JlYXRlRm9sZGVyKGRyb3BPYmplY3RGb2xkZXJDb25maWcsIG51bGwsIHtcclxuICAgICAgJ3RyaWdnZXJEcm9wJzogKCkgPT4gdGhpcy5fdHJpZ2dlck9iamVjdERyb3AoKVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBfdHJpZ2dlck9iamVjdERyb3AoKSB7XHJcbiAgICAvLyBUdXJuIGdyYXZpdHkgYmFjayBvbiAoaW4gY2FzZSBpdCB3YXMgb2ZmIGZyb20gdGhlIGNvbGxpc2lvbiBzaW11bGF0b3IpLlxyXG4gICAgdmVjMy5zZXQocGh5c2ljc0NvbmZpZy5fZ3Jhdml0eVZlYywgMCwgMCwgLXBoeXNpY3NDb25maWcuZ3Jhdml0eSk7XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkcm9wT2JqZWN0Q29uZmlnLmNvdW50OyBpKyspIHtcclxuICAgICAgdGhpcy5fY3JlYXRlTmV3T2JqZWN0KCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIF9jcmVhdGVOZXdPYmplY3QoKSB7XHJcbiAgICBjb25zdCBtb2RlbENvbnRyb2xsZXJQYXJhbXMgPSB7XHJcbiAgICAgIGdsOiB0aGlzLl9nbCxcclxuICAgICAgZ2V0Vmlld01hdHJpeDogdGhpcy5fZ2V0Vmlld01hdHJpeCxcclxuICAgICAgZ2V0UHJvamVjdGlvbk1hdHJpeDogdGhpcy5fZ2V0UHJvamVjdGlvbk1hdHJpeCxcclxuICAgICAgZ2V0UGFyZW50V29ybGRUcmFuc2Zvcm06IHRoaXMuX2dldFBhcmVudFdvcmxkVHJhbnNmb3JtLFxyXG4gICAgICBwcm9ncmFtV3JhcHBlcklkOiBnZW5lcmFsQ29uZmlnLnNoYWRlclByb2dyYW0sXHJcbiAgICAgIHRleHR1cmVQYXRoOiBnZW5lcmFsQ29uZmlnLnRleHR1cmVQYXRoLFxyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBkeW5hbWljc1BhcmFtcyA9IHtcclxuICAgICAgcG9zaXRpb246IHJhbmRvbVZlYzNJblJhbmdlKGRyb3BPYmplY3RDb25maWcuc3RhcnRQb3NpdGlvbkF2ZyxcclxuICAgICAgICAgIGRyb3BPYmplY3RDb25maWcuc3RhcnRQb3NpdGlvblJhbmdlKSxcclxuICAgICAgbWFzczogMSxcclxuICAgIH07XHJcblxyXG4gICAgY29uc3Qgb2JqZWN0ID0gbmV3IFNpbmdsZU9iamVjdENvbnRyb2xsZXIobW9kZWxDb250cm9sbGVyUGFyYW1zLCBkeW5hbWljc1BhcmFtcyxcclxuICAgICAgICBkcm9wT2JqZWN0Q29uZmlnLnNoYXBlKTtcclxuICAgIHRoaXMuX3N0YXJ0TW9kZWxDb250cm9sbGVyKG9iamVjdCkudGhlbihfZW5zdXJlT2JqZWN0SXNOb3RDb2xsaWRpbmcpO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEFkZHMgYSB6IG9mZnNldCB0byB0aGUgbmV3IG9iamVjdCBzbyB0aGF0IGl0IGRvZXMgbm90IGNvbGxpZGUgd2l0aCBhbnkgcHJlLWV4aXN0aW5nIG9iamVjdHMuXHJcbiAqXHJcbiAqIEBwYXJhbSB7U2luZ2xlT2JqZWN0Q29udHJvbGxlcn0gb2JqZWN0XHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBfZW5zdXJlT2JqZWN0SXNOb3RDb2xsaWRpbmcob2JqZWN0KSB7XHJcbiAgY29uc3QgY29sbGlkYWJsZSA9IG9iamVjdC5waHlzaWNzSm9iLmNvbGxpZGFibGU7XHJcbiAgbGV0IHN0YXJ0UG9zaXRpb24gPSBvYmplY3QucG9zaXRpb247XHJcbiAgbGV0IGNvbGxpZGluZ0NvbGxpZGFibGVzID0gZmluZEludGVyc2VjdGluZ0NvbGxpZGFibGVzRm9yQ29sbGlkYWJsZShjb2xsaWRhYmxlKTtcclxuICB3aGlsZSAoY29sbGlkaW5nQ29sbGlkYWJsZXMubGVuZ3RoKSB7XHJcbiAgICBzdGFydFBvc2l0aW9uWzJdICs9IE1hdGgucmFuZG9tKCkgKiAyMDAgKyA0O1xyXG4gICAgb2JqZWN0LnBvc2l0aW9uID0gc3RhcnRQb3NpdGlvbjtcclxuICAgIGNvbGxpZGluZ0NvbGxpZGFibGVzID0gZmluZEludGVyc2VjdGluZ0NvbGxpZGFibGVzRm9yQ29sbGlkYWJsZShjb2xsaWRhYmxlKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7RHJvcE9iamVjdENvbmZpZ0NvbnRyb2xsZXJ9O1xyXG4iLCIvKipcclxuICogVGhpcyBtb2R1bGUgaGFuZGxlcyBjb25maWd1cmF0aW9uIHBhcmFtZXRlcnMgcmVsYXRpbmcgdG8gc2ltdWxhdGlvbnMgdGhhdCBkcm9wIG9iamVjdHMuXHJcbiAqL1xyXG5cclxuY29uc3QgZHJvcE9iamVjdENvbmZpZyA9IHt9O1xyXG5cclxuZHJvcE9iamVjdENvbmZpZy5zaGFwZSA9IHtcclxuICBzdGFydDogJ1JBTkRPTScsXHJcbiAgb3B0aW9uczogW1xyXG4gICAgJ0NVQkUnLFxyXG4gICAgJ0lDT1NBSEVEUk9OJyxcclxuICAgICdJQ09TUEhFUkUnLFxyXG4gICAgJ0xBVF9MT05HX1NQSEVSRScsXHJcbiAgICAnQ0FQU1VMRScsXHJcbiAgICAnVEVUUkFIRURST04nLFxyXG4gICAgJ1JBTkRPTSdcclxuICBdXHJcbn07XHJcbmRyb3BPYmplY3RDb25maWcuc3RhcnRQb3NpdGlvbkF2ZyA9IHtcclxuICBzdGFydDogdmVjMy5mcm9tVmFsdWVzKDAsIDEwLCAwKSxcclxuICBtaW46IHZlYzMuZnJvbVZhbHVlcygtMTAwLCAwLCAtMTAwKSxcclxuICBtYXg6IHZlYzMuZnJvbVZhbHVlcygxMDAsIDMwMCwgMTAwKVxyXG59O1xyXG5kcm9wT2JqZWN0Q29uZmlnLnN0YXJ0UG9zaXRpb25SYW5nZSA9IHtcclxuICBzdGFydDogdmVjMy5mcm9tVmFsdWVzKDMwLCAzMCwgMzApLFxyXG4gIG1pbjogdmVjMy5mcm9tVmFsdWVzKDAsIDAsIDApLFxyXG4gIG1heDogdmVjMy5mcm9tVmFsdWVzKDEwMCwgMTAwLCAxMDApXHJcbn07XHJcbmRyb3BPYmplY3RDb25maWcuY291bnQgPSB7XHJcbiAgc3RhcnQ6IDMwLFxyXG4gIG1pbjogMSxcclxuICBtYXg6IDEwMFxyXG59O1xyXG5kcm9wT2JqZWN0Q29uZmlnLnRyaWdnZXJEcm9wID0gKCkgPT4ge307XHJcblxyXG5jb25zdCBkcm9wT2JqZWN0Rm9sZGVyQ29uZmlnID0ge1xyXG4gIGxhYmVsOiAnRHJvcCBTaW11bGF0aW9uJyxcclxuICBjb25maWc6IGRyb3BPYmplY3RDb25maWcsXHJcbiAgaXNPcGVuOiB0cnVlXHJcbn07XHJcblxyXG5leHBvcnQge2Ryb3BPYmplY3RDb25maWcsIGRyb3BPYmplY3RGb2xkZXJDb25maWd9O1xyXG4iLCJpbXBvcnQge2NhbWVyYUNvbmZpZ30gZnJvbSAnLi4vLi4vY29uZmlnJztcclxuXHJcbi8qKlxyXG4gKiBUaGlzIG1vZHVsZSBoYW5kbGVzIGNvbmZpZ3VyYXRpb24gcGFyYW1ldGVycyByZWxhdGluZyB0byB0aGUgb3ZlcmFsbCBzY2VuZS5cclxuICovXHJcblxyXG5jb25zdCBzY2VuZUNvbmZpZyA9IHt9O1xyXG5cclxuLy8gS2VlcCB0aGlzIHZhbHVlIGNvcnJlbGF0ZWQgd2l0aCBjYW1lcmFDb25maWcuX3pGYXIuXHJcbnNjZW5lQ29uZmlnLnJlbmRlckRpc3RhbmNlID0gNDAwMDtcclxuY2FtZXJhQ29uZmlnLl96RmFyID0gc2NlbmVDb25maWcucmVuZGVyRGlzdGFuY2U7XHJcblxyXG5jb25zdCBzY2VuZUZvbGRlckNvbmZpZyA9IHtcclxuICBsYWJlbDogJ1NjZW5lJyxcclxuICBjb25maWc6IHNjZW5lQ29uZmlnXHJcbn07XHJcblxyXG5leHBvcnQge3NjZW5lQ29uZmlnLCBzY2VuZUZvbGRlckNvbmZpZ307XHJcbiIsImltcG9ydCB7XHJcbiAgY29uZmlnQ29udHJvbGxlcixcclxuICBGaXhlZENhbWVyYSxcclxuICBHYW1lU2NlbmUsXHJcbiAgV2FsbENvbnRyb2xsZXIsXHJcbn1cclxuZnJvbSAnZ2FtZXgnO1xyXG5cclxuaW1wb3J0IHsgc2NlbmVDb25maWcgfSBmcm9tICcuL3NjZW5lLWNvbmZpZyc7XHJcbmltcG9ydCB7XHJcbiAgYm94Rm9sZGVyQ29uZmlnLFxyXG4gIGNhbWVyYUNvbmZpZyxcclxuICBjYW1lcmFGb2xkZXJDb25maWcsXHJcbiAgY2Fwc3VsZUZvbGRlckNvbmZpZyxcclxuICBmaXhlZENhbWVyYUNvbmZpZyxcclxuICBmaXhlZENhbWVyYUZvbGRlckNvbmZpZyxcclxuICBnZW5lcmFsQ29uZmlnLFxyXG4gIGdlbmVyYWxGb2xkZXJDb25maWcsXHJcbiAgcGh5c2ljc0ZvbGRlckNvbmZpZyxcclxuICBzcGhlcmVGb2xkZXJDb25maWcsXHJcbiAgd2FsbENvbmZpZyxcclxufVxyXG5mcm9tICcuLi8uLi9jb25maWcnO1xyXG5pbXBvcnQgeyBUcmlnZ2VyQ29sbGlzaW9uQ29uZmlnQ29udHJvbGxlciB9IGZyb20gJy4uL3RyaWdnZXItY29sbGlzaW9uL3RyaWdnZXItY29sbGlzaW9uLWNvbmZpZy1jb250cm9sbGVyJztcclxuaW1wb3J0IHsgRHJvcE9iamVjdENvbmZpZ0NvbnRyb2xsZXIgfSBmcm9tICcuLi9kcm9wLW9iamVjdC9kcm9wLW9iamVjdC1jb25maWctY29udHJvbGxlcic7XHJcblxyXG4vKipcclxuICogVGhpcyBjbGFzcyBoYW5kbGVzIHRoZSBvdmVyYWxsIHNjZW5lLlxyXG4gKlxyXG4gKiBUaGlzIGluY2x1ZGVzOlxyXG4gKiAtIHRoZSBiYWNrZ3JvdW5kXHJcbiAqIC0gYWxsIG9iamVjdHMgaW4gdGhlIGZvcmVncm91bmRcclxuICogLSBhbGwgbGlnaHQgc291cmNlc1xyXG4gKiAtIHRoZSBjYW1lcmFcclxuICovXHJcbmNsYXNzIFNjZW5lSW1wbCBleHRlbmRzIEdhbWVTY2VuZSB7XHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtNb2RlbEdyb3VwQ29udHJvbGxlckNvbmZpZ30gbW9kZWxDb250cm9sbGVyUGFyYW1zXHJcbiAgICogQHBhcmFtIHtHYW1lQ29udHJvbGxlcn0gZ2FtZUN0cmxcclxuICAgKiBAcGFyYW0ge0lucHV0Q29udHJvbGxlcn0gaW5wdXRDdHJsXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IobW9kZWxDb250cm9sbGVyUGFyYW1zLCBnYW1lQ3RybCwgaW5wdXRDdHJsKSB7XHJcbiAgICBzdXBlcihtb2RlbENvbnRyb2xsZXJQYXJhbXMsIGdhbWVDdHJsLCBpbnB1dEN0cmwsIHNjZW5lQ29uZmlnLnJlbmRlckRpc3RhbmNlKTtcclxuXHJcbiAgICB0aGlzLl93YWxsQ3RybCA9IG51bGw7XHJcbiAgICB0aGlzLl9kcm9wQmFsbEN0cmwgPSBudWxsO1xyXG4gICAgdGhpcy5fdHJpZ2dlckNvbGxpc2lvbkN0cmwgPSBudWxsO1xyXG5cclxuICAgIHRoaXMuX2NyZWF0ZU1vZGVsQ29udHJvbGxlcnMoKTtcclxuICAgIHRoaXMuX2NyZWF0ZUNvbmZpZ0NvbnRyb2xsZXIoKTtcclxuXHJcbiAgICB0aGlzLl9jYW1lcmEgPSBuZXcgRml4ZWRDYW1lcmEoZml4ZWRDYW1lcmFDb25maWcsIGNhbWVyYUNvbmZpZyk7XHJcbiAgfVxyXG5cclxuICBfY3JlYXRlTW9kZWxDb250cm9sbGVycygpIHtcclxuICAgIHRoaXMuX3dhbGxDdHJsID0gbmV3IFdhbGxDb250cm9sbGVyKHtcclxuICAgICAgZ2w6IHRoaXMuX2dsLFxyXG4gICAgICBnZXRWaWV3TWF0cml4OiB0aGlzLl9nZXRWaWV3TWF0cml4LFxyXG4gICAgICBnZXRQcm9qZWN0aW9uTWF0cml4OiB0aGlzLl9nZXRQcm9qZWN0aW9uTWF0cml4LFxyXG4gICAgICBnZXRQYXJlbnRXb3JsZFRyYW5zZm9ybTogdGhpcy5fZ2V0V29ybGRUcmFuc2Zvcm0sXHJcbiAgICAgIHByb2dyYW1XcmFwcGVySWQ6IHdhbGxDb25maWcuc2hhZGVyUHJvZ3JhbSxcclxuICAgICAgdGV4dHVyZVBhdGg6IHdhbGxDb25maWcudGV4dHVyZVBhdGgsXHJcbiAgICB9LCB7XHJcbiAgICAgIHg6IG51bGwsXHJcbiAgICAgIHk6IG51bGwsXHJcbiAgICAgIHo6IC01MCxcclxuICAgICAgaXNPcGVuT25Qb3NpdGl2ZVNpZGU6IHRydWUsXHJcbiAgICAgIHRoaWNrbmVzczogd2FsbENvbmZpZy50aGlja25lc3MsXHJcbiAgICAgIGhhbGZTaWRlTGVuZ3RoOiB3YWxsQ29uZmlnLmhhbGZTaWRlTGVuZ3RoLFxyXG4gICAgICB1c2VTbW9vdGhTaGFkaW5nOiB3YWxsQ29uZmlnLnVzZVNtb290aFNoYWRpbmcsXHJcbiAgICAgIHRleHR1cmVTcGFuOiB3YWxsQ29uZmlnLnRleHR1cmVTcGFuLFxyXG4gICAgfSk7XHJcbiAgICB0aGlzLl9kcm9wQmFsbEN0cmwgPSBuZXcgRHJvcE9iamVjdENvbmZpZ0NvbnRyb2xsZXIoe1xyXG4gICAgICBnbDogdGhpcy5fZ2wsXHJcbiAgICAgIGdldFZpZXdNYXRyaXg6IHRoaXMuX2dldFZpZXdNYXRyaXgsXHJcbiAgICAgIGdldFByb2plY3Rpb25NYXRyaXg6IHRoaXMuX2dldFByb2plY3Rpb25NYXRyaXgsXHJcbiAgICAgIGdldFBhcmVudFdvcmxkVHJhbnNmb3JtOiB0aGlzLl9nZXRXb3JsZFRyYW5zZm9ybSxcclxuICAgIH0pO1xyXG4gICAgdGhpcy5fdHJpZ2dlckNvbGxpc2lvbkN0cmwgPSBuZXcgVHJpZ2dlckNvbGxpc2lvbkNvbmZpZ0NvbnRyb2xsZXIoe1xyXG4gICAgICBnbDogdGhpcy5fZ2wsXHJcbiAgICAgIGdldFZpZXdNYXRyaXg6IHRoaXMuX2dldFZpZXdNYXRyaXgsXHJcbiAgICAgIGdldFByb2plY3Rpb25NYXRyaXg6IHRoaXMuX2dldFByb2plY3Rpb25NYXRyaXgsXHJcbiAgICAgIGdldFBhcmVudFdvcmxkVHJhbnNmb3JtOiB0aGlzLl9nZXRXb3JsZFRyYW5zZm9ybSxcclxuICAgIH0pO1xyXG4gICAgdGhpcy5fbW9kZWxDdHJscyA9IFtcclxuICAgICAgdGhpcy5fd2FsbEN0cmwsXHJcbiAgICAgIHRoaXMuX2Ryb3BCYWxsQ3RybCxcclxuICAgICAgdGhpcy5fdHJpZ2dlckNvbGxpc2lvbkN0cmwsXHJcbiAgICBdO1xyXG4gIH1cclxuXHJcbiAgX2NyZWF0ZUNvbmZpZ0NvbnRyb2xsZXIoKSB7XHJcbiAgICBjb25maWdDb250cm9sbGVyLmNyZWF0ZUZvbGRlcihwaHlzaWNzRm9sZGVyQ29uZmlnKTtcclxuICAgIGNvbmZpZ0NvbnRyb2xsZXIuY3JlYXRlRm9sZGVyKGdlbmVyYWxGb2xkZXJDb25maWcsIG51bGwsIHtcclxuICAgICAgJ3RleHR1cmVQYXRoJzogKCkgPT4gdGhpcy5fdXBkYXRlVGV4dHVyZSgpLFxyXG4gICAgICAnc2hhZGVyUHJvZ3JhbSc6ICgpID0+IHRoaXMuX3VwZGF0ZVByb2dyYW1XcmFwcGVyKCksXHJcbiAgICAgICdjbGVhck9iamVjdHMnOiAoKSA9PiB0aGlzLl9jbGVhck9iamVjdHMoKSxcclxuICAgIH0pO1xyXG4gICAgY29uZmlnQ29udHJvbGxlci5jcmVhdGVGb2xkZXIoYm94Rm9sZGVyQ29uZmlnKTtcclxuICAgIGNvbmZpZ0NvbnRyb2xsZXIuY3JlYXRlRm9sZGVyKGNhcHN1bGVGb2xkZXJDb25maWcpO1xyXG4gICAgY29uZmlnQ29udHJvbGxlci5jcmVhdGVGb2xkZXIoc3BoZXJlRm9sZGVyQ29uZmlnKTtcclxuXHJcbiAgICBjb25zdCBzZXRDYW1lcmFQZXJzcGVjdGl2ZSA9XHJcbiAgICAgICAgKCkgPT4gdGhpcy5fY2FtZXJhLl9zZXRQZXJzcGVjdGl2ZShjYW1lcmFDb25maWcuZm92WSwgY2FtZXJhQ29uZmlnLmRlZmF1bHRBc3BlY3RSYXRpbyxcclxuICAgICAgICAgICAgY2FtZXJhQ29uZmlnLl96TmVhciwgY2FtZXJhQ29uZmlnLl96RmFyKTtcclxuICAgIGNvbmZpZ0NvbnRyb2xsZXIuY3JlYXRlRm9sZGVyKGNhbWVyYUZvbGRlckNvbmZpZywgbnVsbCwge1xyXG4gICAgICAnZm92WSc6IHNldENhbWVyYVBlcnNwZWN0aXZlLFxyXG4gICAgICAnZGVmYXVsdEFzcGVjdFJhdGlvJzogc2V0Q2FtZXJhUGVyc3BlY3RpdmVcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIFRPRE86IFVwZGF0ZSB0aGlzIHRvIHN1cHBvcnQgb3RoZXIgdHlwZXMgb2YgY2FtZXJhcyBiZWluZyBzZWxlY3RlZC5cclxuICAgIGNvbmZpZ0NvbnRyb2xsZXIuY3JlYXRlRm9sZGVyKGZpeGVkQ2FtZXJhRm9sZGVyQ29uZmlnLCBudWxsLCB7XHJcbiAgICAgIC8vIFRoZXNlIHRyaWdnZXIgYW4gdXBkYXRlIHdpdGhpbiB0aGUgY2FtZXJhLlxyXG4gICAgICAndmlld0RpcmVjdGlvbic6ICgpID0+IHRoaXMuX2NhbWVyYS52aWV3RGlyZWN0aW9uID0gdGhpcy5fY2FtZXJhLnZpZXdEaXJlY3Rpb24sXHJcbiAgICAgICdwb3NpdGlvbic6ICgpID0+IHRoaXMuX2NhbWVyYS5wb3NpdGlvbiA9IHRoaXMuX2NhbWVyYS5wb3NpdGlvblxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBfdXBkYXRlVGV4dHVyZSgpIHtcclxuICAgIGlmICh0aGlzLl9kcm9wQmFsbEN0cmwpIHtcclxuICAgICAgdGhpcy5fZHJvcEJhbGxDdHJsLnVwZGF0ZVRleHR1cmUoZ2VuZXJhbENvbmZpZy50ZXh0dXJlUGF0aCk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5fdHJpZ2dlckNvbGxpc2lvbkN0cmwpIHtcclxuICAgICAgdGhpcy5fdHJpZ2dlckNvbGxpc2lvbkN0cmwudXBkYXRlVGV4dHVyZShnZW5lcmFsQ29uZmlnLnRleHR1cmVQYXRoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF91cGRhdGVQcm9ncmFtV3JhcHBlcigpIHtcclxuICAgIGlmICh0aGlzLl9kcm9wQmFsbEN0cmwpIHtcclxuICAgICAgdGhpcy5fZHJvcEJhbGxDdHJsLnVwZGF0ZVByb2dyYW1XcmFwcGVyKGdlbmVyYWxDb25maWcuc2hhZGVyUHJvZ3JhbSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5fdHJpZ2dlckNvbGxpc2lvbkN0cmwpIHtcclxuICAgICAgdGhpcy5fdHJpZ2dlckNvbGxpc2lvbkN0cmwudXBkYXRlUHJvZ3JhbVdyYXBwZXIoZ2VuZXJhbENvbmZpZy5zaGFkZXJQcm9ncmFtKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9jbGVhck9iamVjdHMoKSB7XHJcbiAgICBpZiAodGhpcy5fZHJvcEJhbGxDdHJsKSB7XHJcbiAgICAgIHRoaXMuX2Ryb3BCYWxsQ3RybC5jbGVhck1vZGVsQ29udHJvbGxlcnMoKTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLl90cmlnZ2VyQ29sbGlzaW9uQ3RybCkge1xyXG4gICAgICB0aGlzLl90cmlnZ2VyQ29sbGlzaW9uQ3RybC5jbGVhck1vZGVsQ29udHJvbGxlcnMoKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7IFNjZW5lSW1wbCB9O1xyXG4iLCJpbXBvcnQge01vZGVsR3JvdXBDb250cm9sbGVyfSBmcm9tICdnYW1leCc7XHJcblxyXG4vKipcclxuICogVGhpcyBjbGFzcyBkZWZpbmVzIHNvbWUgc2hhcmVkIHNpbXVsYXRpb24gYmVoYXZpb3IuXHJcbiAqL1xyXG5jbGFzcyBTaW11bGF0aW9uQ29uZmlnQ29udHJvbGxlciBleHRlbmRzIE1vZGVsR3JvdXBDb250cm9sbGVyIHtcclxuICAvKipcclxuICAgKiBAcGFyYW0ge01vZGVsR3JvdXBDb250cm9sbGVyQ29uZmlnfSBtb2RlbEdyb3VwQ29udHJvbGxlclBhcmFtc1xyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKG1vZGVsR3JvdXBDb250cm9sbGVyUGFyYW1zKSB7XHJcbiAgICBzdXBlcihtb2RlbEdyb3VwQ29udHJvbGxlclBhcmFtcyk7XHJcblxyXG4gICAgLy8gQSBzdGF0aW9uYXJ5IG9iamVjdCB0byBkZW1vIHRoZSBwYXJhbWV0ZXJzIGJlZm9yZSBydW5uaW5nIGEgc2ltdWxhdGlvbi5cclxuICAgIC8vdGhpcy5fZGVtb09iamVjdCA9IHRoaXMuX2NyZWF0ZU5ld09iamVjdCh0cnVlKTsvLyBUT0RPOiBBZGQgdGhlIGRlbW8gb2JqZWN0IGJhY2sgaW4uXHJcblxyXG4gICAgLy8gVE9ETzogUmVtb3ZlIHRoZXNlIGFmdGVyIGNoYW5naW5nIHRoZSBjYW1lcmEgdHlwZSBmcm9tIEZvbGxvdy5cclxuICAgIHRoaXMucG9zaXRpb24gPSB2ZWMzLmNyZWF0ZSgpO1xyXG4gICAgdGhpcy5vcmllbnRhdGlvbiA9IHF1YXQuY3JlYXRlKCk7XHJcbiAgfVxyXG5cclxuICByZXNldCgpIHtcclxuICAgIHRoaXMuY2xlYXJNb2RlbENvbnRyb2xsZXJzKCk7XHJcbiAgICAvL3RoaXMuX2RlbW9PYmplY3QucmVzZXQoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0dXJlUGF0aFxyXG4gICAqL1xyXG4gIHVwZGF0ZVRleHR1cmUodGV4dHVyZVBhdGgpIHtcclxuICAgIC8vdGhpcy5fZGVtb09iamVjdC50ZXh0dXJlUGF0aCA9IHRleHR1cmVQYXRoO1xyXG4gICAgdGhpcy5fbW9kZWxDdHJscy5mb3JFYWNoKG9iamVjdCA9PiBvYmplY3QudGV4dHVyZVBhdGggPSB0ZXh0dXJlUGF0aCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWRcclxuICAgKi9cclxuICB1cGRhdGVQcm9ncmFtV3JhcHBlcihpZCkge1xyXG4gICAgLy90aGlzLl9kZW1vT2JqZWN0LmlkID0gaWQ7XHJcbiAgICB0aGlzLl9tb2RlbEN0cmxzLmZvckVhY2gob2JqZWN0ID0+IG9iamVjdC5wcm9ncmFtV3JhcHBlcklkID0gaWQpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IHtTaW11bGF0aW9uQ29uZmlnQ29udHJvbGxlcn07XHJcbiIsImltcG9ydCB7XHJcbiAgYXBwbHlHcmF2aXR5LFxyXG4gIGFwcGx5QW5ndWxhckRyYWcsXHJcbiAgYXBwbHlMaW5lYXJEcmFnLFxyXG4gIENvbGxpZGFibGVQaHlzaWNzTW9kZWxDb250cm9sbGVyLFxyXG4gIHBpY2tSYW5kb20sXHJcbn0gZnJvbSAnZ2FtZXgnO1xyXG5cclxuaW1wb3J0IHtcclxuICBib3hDb25maWcsXHJcbiAgY2Fwc3VsZUNvbmZpZyxcclxuICBnZW5lcmFsQ29uZmlnLFxyXG4gIHBoeXNpY3NDb25maWcsXHJcbiAgc3BoZXJlQ29uZmlnLFxyXG59IGZyb20gJy4uLy4uL2NvbmZpZyc7XHJcblxyXG5jb25zdCBfc2hhcGVDb25maWdzID0ge1xyXG4gICdDVUJFJzogYm94Q29uZmlnLFxyXG4gICdJQ09TQUhFRFJPTic6IHNwaGVyZUNvbmZpZyxcclxuICAnSUNPU1BIRVJFJzogc3BoZXJlQ29uZmlnLFxyXG4gICdMQVRfTE9OR19TUEhFUkUnOiBzcGhlcmVDb25maWcsXHJcbiAgJ0NBUFNVTEUnOiBjYXBzdWxlQ29uZmlnLFxyXG4gICdURVRSQUhFRFJPTic6IHNwaGVyZUNvbmZpZyxcclxufTtcclxuXHJcbmNvbnN0IF9yZW5kZXJhYmxlU2hhcGVzVG9Db2xsaWRhbGVTaGFwZXMgPSB7XHJcbiAgJ0NVQkUnOiAnQ1VCRScsXHJcbiAgJ0lDT1NBSEVEUk9OJzogJ1NQSEVSRV9PUl9DQVBTVUxFJyxcclxuICAnSUNPU1BIRVJFJzogJ1NQSEVSRV9PUl9DQVBTVUxFJyxcclxuICAnTEFUX0xPTkdfU1BIRVJFJzogJ1NQSEVSRV9PUl9DQVBTVUxFJyxcclxuICAnQ0FQU1VMRSc6ICdTUEhFUkVfT1JfQ0FQU1VMRScsXHJcbiAgJ1RFVFJBSEVEUk9OJzogJ1NQSEVSRV9PUl9DQVBTVUxFJyxcclxufTtcclxuXHJcbi8qKlxyXG4gKiBUaGlzIGNsYXNzIHRoYXQgY29udHJvbHMgYSBzaW5nbGUgb2JqZWN0LlxyXG4gKi9cclxuY2xhc3MgU2luZ2xlT2JqZWN0Q29udHJvbGxlciBleHRlbmRzIENvbGxpZGFibGVQaHlzaWNzTW9kZWxDb250cm9sbGVyIHtcclxuICAvKipcclxuICAgKiBAcGFyYW0ge01vZGVsQ29udHJvbGxlckNvbmZpZ30gbW9kZWxDb250cm9sbGVyUGFyYW1zXHJcbiAgICogQHBhcmFtIHtEeW5hbWljc0NvbmZpZ30gZHluYW1pY3NQYXJhbXNcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gc2hhcGVJZFxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKG1vZGVsQ29udHJvbGxlclBhcmFtcywgZHluYW1pY3NQYXJhbXMsIHNoYXBlSWQpIHtcclxuICAgIHNoYXBlSWQgPSBzaGFwZUlkID09PSAnUkFORE9NJyA/IHBpY2tSYW5kb20oT2JqZWN0LmtleXMoX3NoYXBlQ29uZmlncykpIDogc2hhcGVJZDtcclxuICAgIGNvbnN0IGNvbGxpZGFibGVTaGFwZUlkID0gX3JlbmRlcmFibGVTaGFwZXNUb0NvbGxpZGFsZVNoYXBlc1tzaGFwZUlkXTtcclxuICAgIGNvbnN0IHNjYWxlID0gc2hhcGVJZCA9PT0gJ0NVQkUnID8gYm94Q29uZmlnLnNjYWxlIDogdmVjMy5mcm9tVmFsdWVzKDEsIDEsIDEpO1xyXG4gICAgY29uc3QgY29uZmlnID0gX3NoYXBlQ29uZmlnc1tzaGFwZUlkXTtcclxuICAgIGNvbnN0IHNoYXBlUGFyYW1zID0ge1xyXG4gICAgICBzaGFwZUlkOiBzaGFwZUlkLFxyXG4gICAgICBjb2xsaWRhYmxlU2hhcGVJZDogY29sbGlkYWJsZVNoYXBlSWQsXHJcbiAgICAgIGlzVXNpbmdTcGhlcmljYWxOb3JtYWxzOiBnZW5lcmFsQ29uZmlnLnVzZVNtb290aFNoYWRpbmcsXHJcbiAgICAgIGRpdmlzaW9uc0NvdW50OiBjb25maWcuc3BoZXJpY2FsVGVzc2VsYXRpb25Db3VudCxcclxuICAgICAgY2Fwc3VsZUVuZFBvaW50c0Rpc3RhbmNlOiBjb25maWcuY2Fwc3VsZUVuZFBvaW50c0Rpc3RhbmNlLFxyXG4gICAgICByYWRpdXM6IGNvbmZpZy5yYWRpdXMsXHJcbiAgICAgIHNjYWxlOiBzY2FsZSxcclxuICAgICAgaXNTdGF0aW9uYXJ5OiBmYWxzZSxcclxuICAgIH07XHJcbiAgICBjb25zdCBmb3JjZUFwcGxpZXJzID0gW1xyXG4gICAgICBhcHBseUdyYXZpdHkuYmluZChudWxsLCBwaHlzaWNzQ29uZmlnKSxcclxuICAgICAgYXBwbHlMaW5lYXJEcmFnLmJpbmQobnVsbCwgcGh5c2ljc0NvbmZpZyksXHJcbiAgICAgIGFwcGx5QW5ndWxhckRyYWcuYmluZChudWxsLCBwaHlzaWNzQ29uZmlnKSxcclxuICAgIF07XHJcblxyXG4gICAgc3VwZXIobW9kZWxDb250cm9sbGVyUGFyYW1zLCBkeW5hbWljc1BhcmFtcywgc2hhcGVQYXJhbXMsIGZvcmNlQXBwbGllcnMpXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBUaGlzIGNhbGxiYWNrIGlzIHRyaWdnZXJlZCBpbiByZXNwb25zZSB0byBhIGNvbGxpc2lvbi5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7Q29sbGlzaW9ufSBjb2xsaXNpb25cclxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGlzIG5lZWRzIHRoZSBzdGFuZGFyZCBjb2xsaXNpb24gcmVzdGl0dXRpb24gdG8gcHJvY2VlZC5cclxuICAgKi9cclxuICBoYW5kbGVDb2xsaXNpb24oY29sbGlzaW9uKSB7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7U2luZ2xlT2JqZWN0Q29udHJvbGxlcn07XHJcbiIsImltcG9ydCB7XHJcbiAgY29uZmlnQ29udHJvbGxlcixcclxuICBmaW5kSW50ZXJzZWN0aW5nQ29sbGlkYWJsZXNGb3JDb2xsaWRhYmxlLFxyXG59IGZyb20gJ2dhbWV4JztcclxuXHJcbmltcG9ydCB7U2ltdWxhdGlvbkNvbmZpZ0NvbnRyb2xsZXJ9IGZyb20gJy4uL3NpbXVsYXRpb24tY29uZmlnLWNvbnRyb2xsZXInO1xyXG5cclxuaW1wb3J0IHtcclxuICBnZW5lcmFsQ29uZmlnLFxyXG4gIHBoeXNpY3NDb25maWdcclxufSBmcm9tICcuLi8uLi9jb25maWcnO1xyXG5pbXBvcnQge1NpbmdsZU9iamVjdENvbnRyb2xsZXJ9IGZyb20gJy4uL3NpbmdsZS1vYmplY3Qvc2luZ2xlLW9iamVjdC1jb250cm9sbGVyJztcclxuaW1wb3J0IHtcclxuICB0cmlnZ2VyQ29sbGlzaW9uQ29uZmlnLFxyXG4gIG9iamVjdDFDb25maWcsXHJcbiAgb2JqZWN0MkNvbmZpZyxcclxuICB0cmlnZ2VyQ29sbGlzaW9uRm9sZGVyQ29uZmlnXHJcbn0gZnJvbSAnLi90cmlnZ2VyLWNvbGxpc2lvbi1jb25maWcnO1xyXG5cclxuLyoqXHJcbiAqIFRoaXMgY2xhc3MgdXBkYXRlcyBhIGRyb3Atb2JqZWN0IHNpbXVsYXRpb24gYWNjb3JkaW5nIHRvIGNvbmZpZ3VyYXRpb24tY2hhbmdlIGV2ZW50cyB0cmlnZ2VyZWRcclxuICogdGhyb3VnaCB0aGUgZGF0LkdVSSBtZW51LlxyXG4gKi9cclxuY2xhc3MgVHJpZ2dlckNvbGxpc2lvbkNvbmZpZ0NvbnRyb2xsZXIgZXh0ZW5kcyBTaW11bGF0aW9uQ29uZmlnQ29udHJvbGxlciB7XHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtNb2RlbEdyb3VwQ29udHJvbGxlckNvbmZpZ30gcGFyYW1zXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IocGFyYW1zKSB7XHJcbiAgICBzdXBlcihwYXJhbXMpO1xyXG5cclxuICAgIGNvbmZpZ0NvbnRyb2xsZXIuY3JlYXRlRm9sZGVyKHRyaWdnZXJDb2xsaXNpb25Gb2xkZXJDb25maWcsIG51bGwsIHtcclxuICAgICAgJ3RyaWdnZXJDb2xsaXNpb24nOiAoKSA9PiB0aGlzLl90cmlnZ2VyQ29sbGlzaW9uKClcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgX3RyaWdnZXJDb2xsaXNpb24oKSB7XHJcbiAgICAvLyBUdXJuIG9mZiBncmF2aXR5LlxyXG4gICAgdmVjMy5zZXQocGh5c2ljc0NvbmZpZy5fZ3Jhdml0eVZlYywgMCwgMCwgMCk7XHJcblxyXG4gICAgdGhpcy5fY3JlYXRlTmV3T2JqZWN0KHRydWUsIG9iamVjdDFDb25maWcpO1xyXG4gICAgdGhpcy5fY3JlYXRlTmV3T2JqZWN0KGZhbHNlLCBvYmplY3QyQ29uZmlnKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNGaXJzdE9iamVjdFxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RDb25maWdcclxuICAgKiBAcmV0dXJucyB7U2luZ2xlT2JqZWN0Q29udHJvbGxlcn1cclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIF9jcmVhdGVOZXdPYmplY3QoaXNGaXJzdE9iamVjdCwgb2JqZWN0Q29uZmlnKSB7XHJcbiAgICBjb25zdCBtb2RlbENvbnRyb2xsZXJQYXJhbXMgPSB7XHJcbiAgICAgIGdsOiB0aGlzLl9nbCxcclxuICAgICAgZ2V0Vmlld01hdHJpeDogdGhpcy5fZ2V0Vmlld01hdHJpeCxcclxuICAgICAgZ2V0UHJvamVjdGlvbk1hdHJpeDogdGhpcy5fZ2V0UHJvamVjdGlvbk1hdHJpeCxcclxuICAgICAgZ2V0UGFyZW50V29ybGRUcmFuc2Zvcm06IHRoaXMuX2dldFBhcmVudFdvcmxkVHJhbnNmb3JtLFxyXG4gICAgICBwcm9ncmFtV3JhcHBlcklkOiBnZW5lcmFsQ29uZmlnLnNoYWRlclByb2dyYW0sXHJcbiAgICAgIHRleHR1cmVQYXRoOiBnZW5lcmFsQ29uZmlnLnRleHR1cmVQYXRoLFxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBTZXQgdGhlIGluaXRpYWwgb2Zmc2V0LlxyXG4gICAgY29uc3QgeE9mZnNldCA9IGlzRmlyc3RPYmplY3RcclxuICAgICAgICA/IC10cmlnZ2VyQ29sbGlzaW9uQ29uZmlnLmRpc3RhbmNlIC8gMlxyXG4gICAgICAgIDogdHJpZ2dlckNvbGxpc2lvbkNvbmZpZy5kaXN0YW5jZSAvIDI7XHJcbiAgICBjb25zdCBzdGFydFBvc2l0aW9uID0gdmVjMy5mcm9tVmFsdWVzKHhPZmZzZXQsIDAsIDApO1xyXG4gICAgdmVjMy5hZGQoc3RhcnRQb3NpdGlvbiwgc3RhcnRQb3NpdGlvbiwgb2JqZWN0Q29uZmlnLmRpc3BsYWNlbWVudCk7XHJcblxyXG4gICAgY29uc3QgZHluYW1pY3NQYXJhbXMgPSB7XHJcbiAgICAgIHBvc2l0aW9uOiBzdGFydFBvc2l0aW9uLFxyXG4gICAgICBtYXNzOiBvYmplY3RDb25maWcubWFzcyxcclxuICAgIH07XHJcblxyXG4gICAgY29uc3Qgb2JqZWN0ID0gbmV3IFNpbmdsZU9iamVjdENvbnRyb2xsZXIobW9kZWxDb250cm9sbGVyUGFyYW1zLCBkeW5hbWljc1BhcmFtcyxcclxuICAgICAgICBvYmplY3RDb25maWcuc2hhcGUpO1xyXG4gICAgdGhpcy5fc3RhcnRNb2RlbENvbnRyb2xsZXIob2JqZWN0KS50aGVuKCgpID0+IHtcclxuICAgICAgLy8gU2V0IHRoZSBpbml0aWFsIG9yaWVudGF0aW9uLlxyXG4gICAgICBjb25zdCBvcmllbnRhdGlvbiA9IHF1YXQuY3JlYXRlKCk7XHJcbiAgICAgIHF1YXQucm90YXRlWChvcmllbnRhdGlvbiwgb3JpZW50YXRpb24sIG9iamVjdENvbmZpZy5yb3RhdGlvblgpO1xyXG4gICAgICBxdWF0LnJvdGF0ZVgob3JpZW50YXRpb24sIG9yaWVudGF0aW9uLCBvYmplY3RDb25maWcucm90YXRpb25ZKTtcclxuICAgICAgcXVhdC5yb3RhdGVYKG9yaWVudGF0aW9uLCBvcmllbnRhdGlvbiwgb2JqZWN0Q29uZmlnLnJvdGF0aW9uWik7XHJcbiAgICAgIG9iamVjdC5waHlzaWNzSm9iLnByZXZpb3VzU3RhdGUub3JpZW50YXRpb24gPSBvcmllbnRhdGlvbjtcclxuICAgICAgb2JqZWN0LnBoeXNpY3NKb2IuY3VycmVudFN0YXRlLm9yaWVudGF0aW9uID0gcXVhdC5jbG9uZShvcmllbnRhdGlvbik7XHJcblxyXG4gICAgICAvLyBTZXQgdGhlIGluaXRpYWwgdmVsb2NpdHkuXHJcbiAgICAgIGNvbnN0IHhWZWxvY2l0eSA9IGlzRmlyc3RPYmplY3QgPyB0cmlnZ2VyQ29sbGlzaW9uQ29uZmlnLnNwZWVkIDogLXRyaWdnZXJDb2xsaXNpb25Db25maWcuc3BlZWQ7XHJcbiAgICAgIGNvbnN0IHhNb21lbnR1bSA9IHhWZWxvY2l0eSAqIG9iamVjdC5waHlzaWNzSm9iLmN1cnJlbnRTdGF0ZS5tYXNzO1xyXG4gICAgICBvYmplY3QucGh5c2ljc0pvYi5wcmV2aW91c1N0YXRlLm1vbWVudHVtID0gdmVjMy5mcm9tVmFsdWVzKHhNb21lbnR1bSwgMCwgMCk7XHJcbiAgICAgIG9iamVjdC5waHlzaWNzSm9iLmN1cnJlbnRTdGF0ZS5tb21lbnR1bSA9IHZlYzMuZnJvbVZhbHVlcyh4TW9tZW50dW0sIDAsIDApO1xyXG5cclxuICAgICAgX2Vuc3VyZU9iamVjdElzTm90Q29sbGlkaW5nKG9iamVjdCk7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBZGRzIGFuIHggb2Zmc2V0IHRvIHRoZSBuZXcgb2JqZWN0IHNvIHRoYXQgaXQgZG9lcyBub3QgY29sbGlkZSB3aXRoIGFueSBwcmUtZXhpc3Rpbmcgb2JqZWN0cy5cclxuICpcclxuICogQHBhcmFtIHtTaW5nbGVPYmplY3RDb250cm9sbGVyfSBvYmplY3RcclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIF9lbnN1cmVPYmplY3RJc05vdENvbGxpZGluZyhvYmplY3QpIHtcclxuICBjb25zdCBjb2xsaWRhYmxlID0gb2JqZWN0LnBoeXNpY3NKb2IuY29sbGlkYWJsZTtcclxuICBjb25zdCBzdGFydFBvc2l0aW9uID0gb2JqZWN0LnBvc2l0aW9uO1xyXG4gIGxldCBjb2xsaWRpbmdDb2xsaWRhYmxlcyA9IGZpbmRJbnRlcnNlY3RpbmdDb2xsaWRhYmxlc0ZvckNvbGxpZGFibGUoY29sbGlkYWJsZSk7XHJcbiAgd2hpbGUgKGNvbGxpZGluZ0NvbGxpZGFibGVzLmxlbmd0aCkge1xyXG4gICAgc3RhcnRQb3NpdGlvblswXSAqPSBNYXRoLnJhbmRvbSgpICsgMTtcclxuICAgIG9iamVjdC5wb3NpdGlvbiA9IHN0YXJ0UG9zaXRpb247XHJcbiAgICBjb2xsaWRpbmdDb2xsaWRhYmxlcyA9IGZpbmRJbnRlcnNlY3RpbmdDb2xsaWRhYmxlc0ZvckNvbGxpZGFibGUoY29sbGlkYWJsZSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQge1RyaWdnZXJDb2xsaXNpb25Db25maWdDb250cm9sbGVyfTtcclxuIiwiLyoqXHJcbiAqIFRoaXMgbW9kdWxlIGhhbmRsZXMgY29uZmlndXJhdGlvbiBwYXJhbWV0ZXJzIHJlbGF0aW5nIHRvIHNpbXVsYXRpb25zIHRoYXQgY29sbGlkZSB0d28gb2JqZWN0cy5cclxuICovXHJcblxyXG5jb25zdCB0cmlnZ2VyQ29sbGlzaW9uQ29uZmlnID0ge307XHJcblxyXG50cmlnZ2VyQ29sbGlzaW9uQ29uZmlnLmRpc3RhbmNlID0ge1xyXG4gIHN0YXJ0OiA1MCxcclxuICBtaW46IDAsXHJcbiAgbWF4OiAyMDBcclxufTtcclxudHJpZ2dlckNvbGxpc2lvbkNvbmZpZy5zcGVlZCA9IHtcclxuICBzdGFydDogMC4wMixcclxuICBtaW46IDAsXHJcbiAgbWF4OiAxXHJcbn07XHJcbnRyaWdnZXJDb2xsaXNpb25Db25maWcudHJpZ2dlckNvbGxpc2lvbiA9ICgpID0+IHt9O1xyXG5cclxuY29uc3Qgb2JqZWN0MUNvbmZpZyA9IHt9O1xyXG5cclxub2JqZWN0MUNvbmZpZy5zaGFwZSA9IHtcclxuICBzdGFydDogJ0NBUFNVTEUnLFxyXG4gIG9wdGlvbnM6IFtcclxuICAgICdDVUJFJyxcclxuICAgICdJQ09TQUhFRFJPTicsXHJcbiAgICAnSUNPU1BIRVJFJyxcclxuICAgICdMQVRfTE9OR19TUEhFUkUnLFxyXG4gICAgJ0NBUFNVTEUnLFxyXG4gICAgJ1RFVFJBSEVEUk9OJyxcclxuICAgICdSQU5ET00nXHJcbiAgXVxyXG59O1xyXG5vYmplY3QxQ29uZmlnLnJvdGF0aW9uID0ge1xyXG4gIHN0YXJ0OiB2ZWMzLmZyb21WYWx1ZXMoMCwgMCwgMCksXHJcbiAgbWluOiB2ZWMzLmZyb21WYWx1ZXMoLU1hdGguUEksIC1NYXRoLlBJLCAtTWF0aC5QSSksXHJcbiAgbWF4OiB2ZWMzLmZyb21WYWx1ZXMoTWF0aC5QSSwgTWF0aC5QSSwgTWF0aC5QSSlcclxufTtcclxub2JqZWN0MUNvbmZpZy5kaXNwbGFjZW1lbnQgPSB7XHJcbiAgc3RhcnQ6IHZlYzMuZnJvbVZhbHVlcygwLCAwLCAwKSxcclxuICBtaW46IHZlYzMuZnJvbVZhbHVlcygtNTAsIC01MCwgLTUwKSxcclxuICBtYXg6IHZlYzMuZnJvbVZhbHVlcyg1MCwgNTAsIDUwKVxyXG59O1xyXG5vYmplY3QxQ29uZmlnLm1hc3MgPSB7XHJcbiAgc3RhcnQ6IDEsXHJcbiAgbWluOiAwLjEsXHJcbiAgbWF4OiA1MFxyXG59O1xyXG5cclxuY29uc3Qgb2JqZWN0MkNvbmZpZyA9IHt9O1xyXG5cclxub2JqZWN0MkNvbmZpZy5zaGFwZSA9IHtcclxuICBzdGFydDogJ0NBUFNVTEUnLFxyXG4gIG9wdGlvbnM6IFtcclxuICAgICdDVUJFJyxcclxuICAgICdJQ09TQUhFRFJPTicsXHJcbiAgICAnSUNPU1BIRVJFJyxcclxuICAgICdMQVRfTE9OR19TUEhFUkUnLFxyXG4gICAgJ0NBUFNVTEUnLFxyXG4gICAgJ1RFVFJBSEVEUk9OJyxcclxuICAgICdSQU5ET00nXHJcbiAgXVxyXG59O1xyXG5vYmplY3QyQ29uZmlnLnJvdGF0aW9uID0ge1xyXG4gIHN0YXJ0OiB2ZWMzLmZyb21WYWx1ZXMoMCwgMCwgMCksXHJcbiAgbWluOiB2ZWMzLmZyb21WYWx1ZXMoLU1hdGguUEksIC1NYXRoLlBJLCAtTWF0aC5QSSksXHJcbiAgbWF4OiB2ZWMzLmZyb21WYWx1ZXMoTWF0aC5QSSwgTWF0aC5QSSwgTWF0aC5QSSlcclxufTtcclxub2JqZWN0MkNvbmZpZy5kaXNwbGFjZW1lbnQgPSB7XHJcbiAgc3RhcnQ6IHZlYzMuZnJvbVZhbHVlcygwLCAwLCAwLjkpLFxyXG4gIG1pbjogdmVjMy5mcm9tVmFsdWVzKC01MCwgLTUwLCAtNTApLFxyXG4gIG1heDogdmVjMy5mcm9tVmFsdWVzKDUwLCA1MCwgNTApXHJcbn07XHJcbm9iamVjdDJDb25maWcubWFzcyA9IHtcclxuICBzdGFydDogMixcclxuICBtaW46IDAuMSxcclxuICBtYXg6IDUwXHJcbn07XHJcblxyXG5jb25zdCBvYmplY3QxRm9sZGVyQ29uZmlnID0ge1xyXG4gIGxhYmVsOiAnT2JqZWN0IDEnLFxyXG4gIGNvbmZpZzogb2JqZWN0MUNvbmZpZyxcclxuICBpc09wZW46IHRydWVcclxufTtcclxuXHJcbmNvbnN0IG9iamVjdDJGb2xkZXJDb25maWcgPSB7XHJcbiAgbGFiZWw6ICdPYmplY3QgMicsXHJcbiAgY29uZmlnOiBvYmplY3QyQ29uZmlnLFxyXG4gIGlzT3BlbjogdHJ1ZVxyXG59O1xyXG5cclxuY29uc3QgdHJpZ2dlckNvbGxpc2lvbkZvbGRlckNvbmZpZyA9IHtcclxuICBsYWJlbDogJ0NvbGxpc2lvbiBTaW11bGF0aW9uJyxcclxuICBjb25maWc6IHRyaWdnZXJDb2xsaXNpb25Db25maWcsXHJcbiAgaXNPcGVuOiB0cnVlLFxyXG4gIGNoaWxkRm9sZGVyczogW1xyXG4gICAgb2JqZWN0MUZvbGRlckNvbmZpZyxcclxuICAgIG9iamVjdDJGb2xkZXJDb25maWdcclxuICBdXHJcbn07XHJcblxyXG5leHBvcnQge3RyaWdnZXJDb2xsaXNpb25Db25maWcsIG9iamVjdDFDb25maWcsIG9iamVjdDJDb25maWcsIHRyaWdnZXJDb2xsaXNpb25Gb2xkZXJDb25maWd9O1xyXG4iLCIvKipcclxuICogVGhpcyBtb2R1bGUgZGVmaW5lcyB0aGUgY29uZmlndXJhdGlvbiBmb3IgYSBXZWJHTCBwcm9ncmFtIHRoYXQgcmVuZGVycyBhIGdlbmVyYWwgbW9kZWwtLXRoYXQgaXMsXHJcbiAqIHRoaXMgcHJvZ3JhbSByZW5kZXJzIGV2ZXJ5dGhpbmcgYnV0IHRoZSBzdGFycy5cclxuICpcclxuICogVGhpcyBwcm9ncmFtIHJlbmRlcnMgdGhyZWUtZGltZW5zaW9uYWwgc2hhcGVzIHdpdGggdGV4dHVyZXMgYW5kIEJsaW5uLVBob25nIHNoYWRpbmcuXHJcbiAqL1xyXG5cclxuY29uc3QgZ2VuZXJhbE1vZGVsUHJvZ3JhbVdyYXBwZXJDb25maWcgPSB7fTtcclxuXHJcbmdlbmVyYWxNb2RlbFByb2dyYW1XcmFwcGVyQ29uZmlnLmlkID0gJ2dlbmVyYWwtbW9kZWwtcHJvZ3JhbSc7XHJcblxyXG4vLyBUaGUgYnVpbGQgc3lzdGVtIG1vdmVzIHNoYWRlciBmaWxlcyB0byBkaXN0L3NoYWRlcnMvLlxyXG5nZW5lcmFsTW9kZWxQcm9ncmFtV3JhcHBlckNvbmZpZy52ZXJ0ZXhTaGFkZXJQYXRoID0gJ3NoYWRlcnMvZ2VuZXJhbC1tb2RlbC1zaGFkZXIudmVydCc7XHJcbmdlbmVyYWxNb2RlbFByb2dyYW1XcmFwcGVyQ29uZmlnLmZyYWdtZW50U2hhZGVyUGF0aCA9ICdzaGFkZXJzL2dlbmVyYWwtbW9kZWwtc2hhZGVyLmZyYWcnO1xyXG5cclxuZ2VuZXJhbE1vZGVsUHJvZ3JhbVdyYXBwZXJDb25maWcucmVuZGVyUHJpb3JpdHkgPSAxO1xyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbFxyXG4gKi9cclxuZ2VuZXJhbE1vZGVsUHJvZ3JhbVdyYXBwZXJDb25maWcud2ViR0xTdGF0ZVNldHRlciA9IGdsID0+IHtcclxuICAvLyBUdXJuIG9uIGRlcHRoIHRlc3RpbmcuXHJcbiAgZ2wuZW5hYmxlKGdsLkRFUFRIX1RFU1QpO1xyXG4gIGdsLmRlcHRoRnVuYyhnbC5MRVFVQUwpO1xyXG59O1xyXG5cclxuZXhwb3J0IHtnZW5lcmFsTW9kZWxQcm9ncmFtV3JhcHBlckNvbmZpZ307XHJcbiIsImV4cG9ydCAqIGZyb20gJy4vZ2VuZXJhbC1tb2RlbC1wcm9ncmFtL2dlbmVyYWwtbW9kZWwtcHJvZ3JhbS1jb25maWcnO1xyXG4iLCIvKipcclxuICogVGhpcyBtb2R1bGUgaGFuZGxlcyBjb25maWd1cmF0aW9uIHBhcmFtZXRlcnMgcmVsYXRpbmcgdG8gdGhlIGNhbWVyYS4gVGhpcyB1c2VzIHRoZSBkYXQuR1VJXHJcbiAqIHBhY2thZ2UuXHJcbiAqL1xyXG5cclxuLy8gVE9ETzogVGllIHRoaXMgaW50byB0aGUgZm9sZGVyLWNvbmZpZyBzeXN0ZW0uXHJcblxyXG5pbXBvcnQge1xyXG4gIGRlZ1RvUmFkLFxyXG4gIEZpcnN0UGVyc29uQ2FtZXJhLFxyXG4gIEZpeGVkQ2FtZXJhLFxyXG4gIEZpeGVkRm9sbG93Q2FtZXJhLFxyXG4gIFNwcmluZ0ZvbGxvd0NhbWVyYSxcclxufSBmcm9tICdnYW1leCc7XHJcblxyXG5jb25zdCBjYW1lcmFDb25maWcgPSB7fTtcclxuXHJcbmNhbWVyYUNvbmZpZy5mb3ZZID0ge1xyXG4gIHN0YXJ0OiBkZWdUb1JhZCg3MC4wKSxcclxuICBtaW46IDAuMCxcclxuICBtYXg6IDMuMTQxNVxyXG59O1xyXG5jYW1lcmFDb25maWcuZGVmYXVsdEFzcGVjdFJhdGlvID0ge1xyXG4gIHN0YXJ0OiAxNiAvIDksXHJcbiAgbWluOiAwLjAxLFxyXG4gIG1heDogOC4wXHJcbn07XHJcbmNhbWVyYUNvbmZpZy5fek5lYXIgPSAwLjE7XHJcbmNhbWVyYUNvbmZpZy5fekZhciA9IDQwMDA7XHJcbmNhbWVyYUNvbmZpZy5fZGVmYXVsdExvb2tBdERpcmVjdGlvbiA9IHZlYzMuZnJvbVZhbHVlcygwLCAwLCAtMSk7XHJcbmNhbWVyYUNvbmZpZy5jYW1lcmFUeXBlID0ge1xyXG4gIHN0YXJ0OiAndGhpcmRQZXJzb25TcHJpbmcnLFxyXG4gIG9wdGlvbnM6IFtcclxuICAgICdmaXJzdFBlcnNvbicsXHJcbiAgICAndGhpcmRQZXJzb25TcHJpbmcnLFxyXG4gICAgJ3RoaXJkUGVyc29uRml4ZWQnLFxyXG4gICAgJ2ZpeGVkJyxcclxuICBdXHJcbn07XHJcblxyXG5jb25zdCBjYW1lcmFUeXBlTWFwID0ge1xyXG4gICdmaXJzdFBlcnNvbic6IEZpcnN0UGVyc29uQ2FtZXJhLFxyXG4gICd0aGlyZFBlcnNvbkZpeGVkJzogRml4ZWRGb2xsb3dDYW1lcmEsXHJcbiAgJ3RoaXJkUGVyc29uU3ByaW5nJzogU3ByaW5nRm9sbG93Q2FtZXJhLFxyXG4gICdmaXhlZCc6IEZpeGVkQ2FtZXJhLFxyXG59O1xyXG5cclxuY29uc3QgZml4ZWRDYW1lcmFDb25maWcgPSB7fTtcclxuXHJcbmZpeGVkQ2FtZXJhQ29uZmlnLnBvc2l0aW9uID0ge1xyXG4gIHN0YXJ0OiB2ZWMzLmZyb21WYWx1ZXMoMCwgLTQwLCA1KSxcclxuICBtaW46IHZlYzMuZnJvbVZhbHVlcygtMjAwLCAtMjAwLCAtMjAwKSxcclxuICBtYXg6IHZlYzMuZnJvbVZhbHVlcygyMDAsIDIwMCwgMjAwKVxyXG59O1xyXG5maXhlZENhbWVyYUNvbmZpZy52aWV3RGlyZWN0aW9uID0ge1xyXG4gIHN0YXJ0OiB2ZWMzLmZyb21WYWx1ZXMoMCwgMSwgLS41KSxcclxuICBtaW46IHZlYzMuZnJvbVZhbHVlcygtMSwgLTEsIC0xKSxcclxuICBtYXg6IHZlYzMuZnJvbVZhbHVlcygxLCAxLCAxKVxyXG59O1xyXG5maXhlZENhbWVyYUNvbmZpZy5fdXAgPSB2ZWMzLmZyb21WYWx1ZXMoMCwgMCwgMSk7XHJcblxyXG5jb25zdCBmaXJzdFBlcnNvbkNhbWVyYUNvbmZpZyA9IHt9O1xyXG5cclxuZmlyc3RQZXJzb25DYW1lcmFDb25maWcuaW50ZW5kZWREaXNwbGFjZW1lbnRGcm9tVGFyZ2V0ID0gdmVjMy5mcm9tVmFsdWVzKDAsIDAuMywgLTAuOCk7XHJcbmZpcnN0UGVyc29uQ2FtZXJhQ29uZmlnLnZpZXdEaXJlY3Rpb24gPSB2ZWMzLmZyb21WYWx1ZXMoMCwgMCwgLTEpO1xyXG5maXJzdFBlcnNvbkNhbWVyYUNvbmZpZy50YXJnZXREaXN0YW5jZSA9IDEwO1xyXG5cclxuY29uc3QgZm9sbG93Q2FtZXJhQ29uZmlnID0ge307XHJcblxyXG5mb2xsb3dDYW1lcmFDb25maWcuc3ByaW5nQ29lZmZpY2llbnQgPSAwLjAwMDQ7XHJcbmZvbGxvd0NhbWVyYUNvbmZpZy5kYW1waW5nQ29lZmZpY2llbnQgPSAwLjA0O1xyXG5cclxuZm9sbG93Q2FtZXJhQ29uZmlnLmludGVuZGVkRGlzdGFuY2VGcm9tVGFyZ2V0ID0ge1xyXG4gIHN0YXJ0OiA1LFxyXG4gIG1pbjogMCxcclxuICBtYXg6IDEwMFxyXG59O1xyXG5mb2xsb3dDYW1lcmFDb25maWcuaW50ZW5kZWRSb3RhdGlvbkFuZ2xlRnJvbVRhcmdldCA9IHtcclxuICBzdGFydDogLU1hdGguUEkgKiAuMDc1LFxyXG4gIG1pbjogMCxcclxuICBtYXg6IDIgKiBNYXRoLlBJXHJcbn07XHJcbmZvbGxvd0NhbWVyYUNvbmZpZy5pbnRlbmRlZFJvdGF0aW9uQXhpc0Zyb21UYXJnZXQgPSB2ZWMzLmZyb21WYWx1ZXMoMSwgMCwgMCk7XHJcbmZvbGxvd0NhbWVyYUNvbmZpZy5faW50ZW5kZWRUcmFuc2xhdGlvbkZyb21UYXJnZXQgPSB2ZWMzLmNyZWF0ZSgpO1xyXG5cclxuZnVuY3Rpb24gdXBkYXRlSW50ZW5kZWRUcmFuc2xhdGlvbkZyb21UYXJnZXQoKSB7XHJcbiAgY29uc3QgdHJhbnNmb3JtYXRpb24gPSBtYXQ0LmNyZWF0ZSgpO1xyXG4gIG1hdDQucm90YXRlKFxyXG4gICAgICB0cmFuc2Zvcm1hdGlvbixcclxuICAgICAgdHJhbnNmb3JtYXRpb24sXHJcbiAgICAgIGZvbGxvd0NhbWVyYUNvbmZpZy5pbnRlbmRlZFJvdGF0aW9uQW5nbGVGcm9tVGFyZ2V0LFxyXG4gICAgICBmb2xsb3dDYW1lcmFDb25maWcuaW50ZW5kZWRSb3RhdGlvbkF4aXNGcm9tVGFyZ2V0KTtcclxuICBtYXQ0LnRyYW5zbGF0ZShcclxuICAgICAgdHJhbnNmb3JtYXRpb24sXHJcbiAgICAgIHRyYW5zZm9ybWF0aW9uLFxyXG4gICAgICB2ZWMzLmZyb21WYWx1ZXMoMCwgMCwgZm9sbG93Q2FtZXJhQ29uZmlnLmludGVuZGVkRGlzdGFuY2VGcm9tVGFyZ2V0KSk7XHJcbiAgdmVjMy50cmFuc2Zvcm1NYXQ0KFxyXG4gICAgICBmb2xsb3dDYW1lcmFDb25maWcuX2ludGVuZGVkVHJhbnNsYXRpb25Gcm9tVGFyZ2V0LFxyXG4gICAgICBmb2xsb3dDYW1lcmFDb25maWcuX2ludGVuZGVkVHJhbnNsYXRpb25Gcm9tVGFyZ2V0LFxyXG4gICAgICB0cmFuc2Zvcm1hdGlvbik7XHJcbn1cclxuXHJcbmNvbnN0IG5vcm1hbGl6ZUZpcnN0UGVyc29uVmlld0RpcmVjdGlvbiA9XHJcbiAgICAoKSA9PiB2ZWMzLm5vcm1hbGl6ZShmaXJzdFBlcnNvbkNhbWVyYUNvbmZpZy52aWV3RGlyZWN0aW9uLFxyXG4gICAgICAgIGZpcnN0UGVyc29uQ2FtZXJhQ29uZmlnLnZpZXdEaXJlY3Rpb24pO1xyXG5jb25zdCBub3JtYWxpemVGaXhlZFZpZXdEaXJlY3Rpb24gPVxyXG4gICAgKCkgPT4gdmVjMy5ub3JtYWxpemUoZml4ZWRDYW1lcmFDb25maWcudmlld0RpcmVjdGlvbiwgZml4ZWRDYW1lcmFDb25maWcudmlld0RpcmVjdGlvbik7XHJcbmNvbnN0IG5vcm1hbGl6ZURlZmF1bHRMb29rQXREaXJlY3Rpb24gPVxyXG4gICAgKCkgPT4gdmVjMy5ub3JtYWxpemUoY2FtZXJhQ29uZmlnLl9kZWZhdWx0TG9va0F0RGlyZWN0aW9uLFxyXG4gICAgICAgIGNhbWVyYUNvbmZpZy5fZGVmYXVsdExvb2tBdERpcmVjdGlvbik7XHJcblxyXG5jb25zdCBjYW1lcmFDb25maWdVcGRhdGVycyA9IHtcclxuICB1cGRhdGVJbnRlbmRlZFRyYW5zbGF0aW9uRnJvbVRhcmdldDogdXBkYXRlSW50ZW5kZWRUcmFuc2xhdGlvbkZyb21UYXJnZXQsXHJcbiAgbm9ybWFsaXplRmlyc3RQZXJzb25WaWV3RGlyZWN0aW9uOiBub3JtYWxpemVGaXJzdFBlcnNvblZpZXdEaXJlY3Rpb24sXHJcbiAgbm9ybWFsaXplRml4ZWRWaWV3RGlyZWN0aW9uOiBub3JtYWxpemVGaXhlZFZpZXdEaXJlY3Rpb24sXHJcbiAgbm9ybWFsaXplRGVmYXVsdExvb2tBdERpcmVjdGlvbjogbm9ybWFsaXplRGVmYXVsdExvb2tBdERpcmVjdGlvblxyXG59O1xyXG5cclxubm9ybWFsaXplRGVmYXVsdExvb2tBdERpcmVjdGlvbigpO1xyXG5cclxuZXhwb3J0IHtcclxuICBjYW1lcmFDb25maWcsXHJcbiAgZml4ZWRDYW1lcmFDb25maWcsXHJcbiAgZmlyc3RQZXJzb25DYW1lcmFDb25maWcsXHJcbiAgZm9sbG93Q2FtZXJhQ29uZmlnLFxyXG4gIGNhbWVyYUNvbmZpZ1VwZGF0ZXJzLFxyXG4gIGNhbWVyYVR5cGVNYXAsXHJcbn07XHJcbiIsImltcG9ydCB7XHJcbiAgY2FtZXJhQ29uZmlnLFxyXG4gIGZpcnN0UGVyc29uQ2FtZXJhQ29uZmlnLFxyXG4gIGZpeGVkQ2FtZXJhQ29uZmlnLFxyXG4gIGZvbGxvd0NhbWVyYUNvbmZpZyxcclxuICBjYW1lcmFDb25maWdVcGRhdGVyc1xyXG59IGZyb20gJy4vY2FtZXJhLWNvbmZpZyc7XHJcblxyXG4vKipcclxuICogVGhpcyBtb2R1bGUgY29uZmlndXJlcyB0aGUgY2FtZXJhIGRhdC5HVUkgbWVudSBmb2xkZXIuXHJcbiAqL1xyXG5cclxuY29uc3QgZmlyc3RQZXJzb25DYW1lcmFGb2xkZXJDb25maWcgPSB7XHJcbiAgbGFiZWw6ICdGaXJzdC1wZXJzb24gY2FtZXJhJyxcclxuICBjb25maWc6IGZpcnN0UGVyc29uQ2FtZXJhQ29uZmlnLFxyXG4gIGlzT3BlbjogZmFsc2UsXHJcbiAgb25DaGFuZ2VMaXN0ZW5lcnM6IHtcclxuICAgICd2aWV3RGlyZWN0aW9uJzogY2FtZXJhQ29uZmlnVXBkYXRlcnMubm9ybWFsaXplRmlyc3RQZXJzb25WaWV3RGlyZWN0aW9uXHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgZml4ZWRDYW1lcmFGb2xkZXJDb25maWcgPSB7XHJcbiAgbGFiZWw6ICdGaXhlZCBjYW1lcmEnLFxyXG4gIGNvbmZpZzogZml4ZWRDYW1lcmFDb25maWcsXHJcbiAgaXNPcGVuOiBmYWxzZSxcclxuICBvbkNoYW5nZUxpc3RlbmVyczoge1xyXG4gICAgJ3ZpZXdEaXJlY3Rpb24nOiBjYW1lcmFDb25maWdVcGRhdGVycy5ub3JtYWxpemVGaXhlZFZpZXdEaXJlY3Rpb25cclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBmb2xsb3dDYW1lcmFGb2xkZXJDb25maWcgPSB7XHJcbiAgbGFiZWw6ICdGb2xsb3cgY2FtZXJhJyxcclxuICBjb25maWc6IGZvbGxvd0NhbWVyYUNvbmZpZyxcclxuICBpc09wZW46IGZhbHNlLFxyXG4gIG9uQ2hhbmdlTGlzdGVuZXJzOiB7XHJcbiAgICAnaW50ZW5kZWREaXN0YW5jZUZyb21UYXJnZXQnOiBjYW1lcmFDb25maWdVcGRhdGVycy51cGRhdGVJbnRlbmRlZFRyYW5zbGF0aW9uRnJvbVRhcmdldCxcclxuICAgICdpbnRlbmRlZFJvdGF0aW9uQW5nbGVGcm9tVGFyZ2V0JzogY2FtZXJhQ29uZmlnVXBkYXRlcnMudXBkYXRlSW50ZW5kZWRUcmFuc2xhdGlvbkZyb21UYXJnZXQsXHJcbiAgICAnaW50ZW5kZWRSb3RhdGlvbkF4aXNGcm9tVGFyZ2V0JzogY2FtZXJhQ29uZmlnVXBkYXRlcnMudXBkYXRlSW50ZW5kZWRUcmFuc2xhdGlvbkZyb21UYXJnZXRcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBjYW1lcmFGb2xkZXJDb25maWcgPSB7XHJcbiAgbGFiZWw6ICdDYW1lcmEnLFxyXG4gIGNvbmZpZzogY2FtZXJhQ29uZmlnLFxyXG4gIGlzT3BlbjogZmFsc2UsXHJcbiAgY2hpbGRGb2xkZXJzOiBbXHJcbiAgICBmb2xsb3dDYW1lcmFGb2xkZXJDb25maWcsXHJcbiAgICBmaXJzdFBlcnNvbkNhbWVyYUZvbGRlckNvbmZpZyxcclxuICAgIGZpeGVkQ2FtZXJhRm9sZGVyQ29uZmlnXHJcbiAgXVxyXG59O1xyXG5cclxuZXhwb3J0IHtjYW1lcmFGb2xkZXJDb25maWcsIGZpcnN0UGVyc29uQ2FtZXJhRm9sZGVyQ29uZmlnLCBmaXhlZENhbWVyYUZvbGRlckNvbmZpZywgZm9sbG93Q2FtZXJhRm9sZGVyQ29uZmlnfTtcclxuIl19"}