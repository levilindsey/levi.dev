{"version":3,"sources":["node_modules/browser-pack/_prelude.js","node_modules/gamex/index.js","node_modules/gamex/src/index.js","node_modules/gamex/src/src/collidable-physics-model-controller.js","node_modules/gamex/src/src/config-controller.js","node_modules/gamex/src/src/game-controller.js","node_modules/gamex/src/src/game-scene.js","node_modules/gamex/src/src/input-controller.js","node_modules/gamex/src/src/physics-model-controller.js","node_modules/gamex/src/src/spring-follow-camera.js","node_modules/gamex/src/wall/index.js","node_modules/gamex/src/wall/src/wall-collidable.js","node_modules/gamex/src/wall/src/wall-controller.js","node_modules/grafx/src/cameras/index.js","node_modules/grafx/src/cameras/src/camera.js","node_modules/grafx/src/cameras/src/first-person-camera.js","node_modules/grafx/src/cameras/src/fixed-camera.js","node_modules/grafx/src/cameras/src/fixed-follow-camera.js","node_modules/grafx/src/cameras/src/follow-camera.js","node_modules/grafx/src/cameras/src/overhead-camera.js","node_modules/grafx/src/cameras/src/third-person-camera.js","node_modules/grafx/src/index.js","node_modules/grafx/src/models/index.js","node_modules/grafx/src/models/src/default-model.js","node_modules/grafx/src/models/src/invisible-model-controller.js","node_modules/grafx/src/models/src/model-controller.js","node_modules/grafx/src/models/src/model-group-controller.js","node_modules/grafx/src/models/src/model.js","node_modules/grafx/src/models/src/standard-model-controller.js","node_modules/grafx/src/program-wrapper/index.js","node_modules/grafx/src/program-wrapper/src/group-program-wrapper.js","node_modules/grafx/src/program-wrapper/src/program-wrapper-store.js","node_modules/grafx/src/program-wrapper/src/program-wrapper.js","node_modules/grafx/src/program-wrapper/src/texture-store.js","node_modules/grafx/src/program-wrapper/src/uniform-setter.js","node_modules/grafx/src/renderable-shapes/index.js","node_modules/grafx/src/renderable-shapes/src/renderable-shape-factory.js","node_modules/grafx/src/renderable-shapes/src/renderable-shape-store.js","node_modules/grafx/src/renderable-shapes/src/shape-configs/capsule-renderable-shape.js","node_modules/grafx/src/renderable-shapes/src/shape-configs/cube-renderable-shape.js","node_modules/grafx/src/renderable-shapes/src/shape-configs/icosahedron-renderable-shape.js","node_modules/grafx/src/renderable-shapes/src/shape-configs/icosphere-renderable-shape.js","node_modules/grafx/src/renderable-shapes/src/shape-configs/lat-long-sphere-renderable-shape.js","node_modules/grafx/src/renderable-shapes/src/shape-configs/tetrahedron-renderable-shape.js","node_modules/grafx/src/src/grafx-controller.js","node_modules/grafx/src/src/light.js","node_modules/grafx/src/src/scene.js","node_modules/grafx/src/util/index.js","node_modules/grafx/src/util/src/geometry.js","node_modules/grafx/src/util/src/gl-util.js","node_modules/grafx/src/util/src/hash-map.js","node_modules/grafx/src/util/src/util.js","node_modules/lsl-animatex/src/animation-job.js","node_modules/lsl-animatex/src/animator.js","node_modules/lsl-animatex/src/frame-latency-profiler.js","node_modules/lsl-animatex/src/index.js","node_modules/lsl-animatex/src/persistent-animation-job.js","node_modules/lsl-animatex/src/transient-animation-job.js","node_modules/lsl-animatex/src/util.js","node_modules/lsl-physx/src/collisions/collidables/index.js","node_modules/lsl-physx/src/collisions/collidables/src/aabb-collidable.js","node_modules/lsl-physx/src/collisions/collidables/src/capsule-collidable.js","node_modules/lsl-physx/src/collisions/collidables/src/collidable.js","node_modules/lsl-physx/src/collisions/collidables/src/line-segment.js","node_modules/lsl-physx/src/collisions/collidables/src/obb-collidable.js","node_modules/lsl-physx/src/collisions/collidables/src/sphere-collidable.js","node_modules/lsl-physx/src/collisions/collision-detection/index.js","node_modules/lsl-physx/src/collisions/collision-detection/src/aabb-collision-detection.js","node_modules/lsl-physx/src/collisions/collision-detection/src/capsule-collision-detection.js","node_modules/lsl-physx/src/collisions/collision-detection/src/obb-collision-detection.js","node_modules/lsl-physx/src/collisions/collision-detection/src/sphere-collision-detection.js","node_modules/lsl-physx/src/collisions/contact-calculation/index.js","node_modules/lsl-physx/src/collisions/contact-calculation/src/aabb-contact-calculation.js","node_modules/lsl-physx/src/collisions/contact-calculation/src/capsule-contact-calculation.js","node_modules/lsl-physx/src/collisions/contact-calculation/src/obb-contact-calculation.js","node_modules/lsl-physx/src/collisions/contact-calculation/src/sphere-contact-calculation.js","node_modules/lsl-physx/src/collisions/index.js","node_modules/lsl-physx/src/collisions/src/collidable-factories.js","node_modules/lsl-physx/src/collisions/src/collidable-physics-job.js","node_modules/lsl-physx/src/collisions/src/collidable-store.js","node_modules/lsl-physx/src/collisions/src/collision-handler.js","node_modules/lsl-physx/src/collisions/src/collision-utils.js","node_modules/lsl-physx/src/index.js","node_modules/lsl-physx/src/integrator/index.js","node_modules/lsl-physx/src/integrator/src/integrator.js","node_modules/lsl-physx/src/integrator/src/rk4-integrator.js","node_modules/lsl-physx/src/src/physics-engine.js","node_modules/lsl-physx/src/src/physics-job.js","node_modules/lsl-physx/src/src/physics-state.js","node_modules/lsl-physx/src/util/index.js","node_modules/lsl-physx/src/util/src/force-utils.js","node_modules/lsl-physx/src/util/src/geometry.js","node_modules/lsl-physx/src/util/src/inertia-tensor-utils.js","node_modules/lsl-physx/src/util/src/util.js","src/config/index.js","src/config/src/camera-config.js","src/config/src/camera-folder-config.js","src/config/src/input-config.js","src/config/src/physics-config.js","src/config/src/physics-folder-config.js","src/core/chunk-controller.js","src/core/health-controller.js","src/core/score-controller.js","src/core/space-debris-controller.js","src/main.js","src/model-controllers/asteroid/index.js","src/model-controllers/asteroid/src/asteroid-controller.js","src/model-controllers/asteroid/src/asteroid-shape-config.js","src/model-controllers/asteroid/src/asteroids-config.js","src/model-controllers/asteroid/src/asteroids-controller.js","src/model-controllers/scene/index.js","src/model-controllers/scene/src/scene-config.js","src/model-controllers/scene/src/scene-impl.js","src/model-controllers/scene/src/ship-destroyed-camera-target.js","src/model-controllers/ship/index.js","src/model-controllers/ship/src/ship-config.js","src/model-controllers/ship/src/ship-controller.js","src/model-controllers/ship/src/ship-forward-thruster-controller.js","src/model-controllers/ship/src/ship-forward-thruster-shape-config.js","src/model-controllers/ship/src/ship-shape-config.js","src/model-controllers/star/index.js","src/model-controllers/star/src/stars-config.js","src/model-controllers/star/src/stars-controller.js","src/model-controllers/torpedo/index.js","src/model-controllers/torpedo/src/torpedo-controller.js","src/model-controllers/torpedo/src/torpedoes-config.js","src/model-controllers/torpedo/src/torpedoes-controller.js","src/model-controllers/ufo/index.js","src/model-controllers/ufo/src/ufo-controller.js","src/model-controllers/ufo/src/ufos-config.js","src/model-controllers/ufo/src/ufos-controller.js","src/programs/blend-program/blend-program-config.js","src/programs/bloom-program-config.js","src/programs/blur-horizontal-program/blur-horizontal-program-config.js","src/programs/blur-vertical-program/blur-vertical-program-config.js","src/programs/brightness-filter-program/brightness-filter-program-config.js","src/programs/flat-color-program/flat-color-program-config.js","src/programs/general-model-program/general-model-program-config.js","src/programs/index.js","src/programs/star-points-program/star-points-program-config.js","src/util/index.js","src/util/src/geometry.js"],"names":[],"mappings":"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","file":"space-debris.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","export * from './src';\n","/**\n * This module re-exports all of the exports in the grafx framework. This makes the entire framework\n * conveniently accessible via this single module.\n */\n\nexport * from 'lsl-animatex';\nexport * from 'grafx';\nexport * from 'lsl-physx';\n\nexport * from './src/collidable-physics-model-controller';\nexport * from './src/config-controller';\nexport * from './src/game-controller';\nexport * from './src/game-scene';\nexport * from './src/input-controller';\nexport * from './src/physics-model-controller';\nexport * from './src/spring-follow-camera';\n\nexport * from './wall';\n","import {PhysicsModelController} from './physics-model-controller';\nimport {CollidablePhysicsJob, PhysicsJob, PhysicsState} from 'lsl-physx';\n\n/**\n * This class represents a collidable physics-based model-controller.\n *\n * @abstract\n */\nclass CollidablePhysicsModelController extends PhysicsModelController {\n  /**\n   * @param {ModelController|ModelControllerConfig} modelControllerOrParams\n   * @param {CollidablePhysicsJob|DynamicsConfig} physicsJobOrDynamicsParams\n   * @param {RenderableShapeConfig} [shapeParams]\n   * @param {Array.<ForceApplier>} forceAppliers\n   */\n  constructor(modelControllerOrParams, physicsJobOrDynamicsParams, shapeParams, forceAppliers) {\n    super(modelControllerOrParams, physicsJobOrDynamicsParams, shapeParams, forceAppliers);\n\n    if (physicsJobOrDynamicsParams instanceof CollidablePhysicsJob) {\n      this.physicsJob = physicsJobOrDynamicsParams;\n    } else {\n      const state = new PhysicsState(physicsJobOrDynamicsParams);\n      this.physicsJob = new CollidablePhysicsJob(shapeParams, state, forceAppliers, this,\n          collision => this.handleCollision(collision));\n    }\n\n    // CollidablePhysicsModelController is an abstract class. It should not be instantiated directly.\n    if (new.target === CollidablePhysicsModelController) {\n      throw new TypeError('Cannot construct CollidablePhysicsModelController instances directly');\n    }\n  }\n\n  /**\n   * This callback is triggered in response to a collision.\n   *\n   * @param {Collision} collision\n   * @returns {boolean} True if this needs the standard collision restitution to proceed.\n   * @abstract\n   */\n  handleCollision(collision) {\n    // Extending classes should implement this method.\n    throw new TypeError('Method not implemented');\n  }\n}\n\nexport {CollidablePhysicsModelController};\n\n/**\n * @typedef {RenderableShapeConfig&CollidableShapeConfig} RenderableAndCollidableShapeConfig\n */\n","import {\n  createHslColorString,\n  debounce,\n  find,\n  getViewportSize,\n  hslToHsv,\n  hsvToHsl,\n  hslToRgb,\n  isInt,\n} from 'grafx';\n\nconst _SMALL_SCREEN_WIDTH_THRESHOLD = 800;\n\n/**\n * This top-level ConfigController class wraps the dat.GUI library and provides higher-level\n * configuration functionality.\n *\n * ## Configuring Parameters\n *\n * Consumers of this module will need to specify configuration parameters with a certain form. For\n * each property on a config object, an item will be created in the corresponding dat.GUI folder.\n * The type and specifics of the menu item depends on the value assigned to the config property:\n *\n * - Toggle item:\n *   - Created if the config property is a boolean.\n * - Trigger item:\n *   - Created if the config property is a function.\n * - Slider item:\n *   - Created if the config property is an object with 'min', 'max', and 'start' properties.\n *   - When the config object is parsed, this initial config object will be removed and replaced\n *     with only the current actual value.\n *   - The intervals of the slider are automatically determined by the dat.GUI library and depend on\n *     the type of the 'min'/'max'/'value' properties (int vs float). See the dat.GUI documentation\n *     for more info.\n * - Color item:\n *   - Created if the config property is an object with 'h'/'s'/'l' properties.\n *   - When the config object is parsed, this initial config object will be replaced with a new\n *     object that has 'h'/'s'/'v' properties and an 'hsl' property, which is an object containing\n *     'h'/'s'/'l' properties and a 'colorString' property that contains a valid color string to\n *     assign to a CSS property.\n *   - All 'h'/'s'/'l' and 'h'/'s'/'v' values should be in the range of [0,1].\n * - Text item:\n *   - Created if the config property is a String.\n */\nclass ConfigController {\n  constructor() {\n    this._datGuiWidth = 300;\n    this._gui = null;\n  }\n\n  /**\n   * Sets up the dat.GUI controller.\n   */\n  initialize() {\n    // Create the dat.GUI menu.\n    this._createGuiIfNotCreated(true);\n    this._gui.width = this._datGuiWidth;\n\n    // Automatically close the menu on smaller screens.\n    // TODO: Check that the menu is closed initially (with no resize event) if the page loads at too small a width.\n    const debouncedResize = debounce(() => this._onResize(), 300);\n    window.addEventListener('resize', debouncedResize, false);\n  }\n\n  /**\n   * Clears the dat.GUI menu.\n   */\n  destroy() {\n    this._gui.destroy();\n  }\n\n  /**\n   * @param {boolean} isGuiVisible\n   * @private\n   */\n  _createGuiIfNotCreated(isGuiVisible) {\n    if (this._gui) {\n      if (isGuiVisible) {\n        this._gui.domElement.style.display = 'block';\n      }\n    } else {\n      this._gui = new dat.GUI();\n      if (!isGuiVisible) {\n        this._gui.domElement.style.display = 'none';\n      }\n    }\n  }\n\n  /**\n   * Creates a folder with the given configuration underneath the given parent folder.\n   *\n   * @param {MenuFolderConfig} folderConfig\n   * @param {dat.gui.GUI} [parentFolder] If not given, the folder is created at the top level.\n   * @param {Object} [onChangeListeners] A map from labels to on-change handlers.\n   */\n  createFolder(folderConfig, parentFolder, onChangeListeners) {\n    this._createGuiIfNotCreated(false);\n\n    parentFolder = parentFolder || this._gui;\n\n    // TODO: Copy the original config and store it somehow on the dat.GUI menu item? This is important for resetting configs later (from the other controller).\n    const folder = parentFolder.addFolder(folderConfig.label);\n\n    folderConfig.folder = folder;\n\n    this._createItems(folderConfig);\n\n    // Add listeners from the config file.\n    this._addOnChangeListeners(folderConfig, folderConfig.onChangeListeners, true);\n\n    // Add listeners from the caller of this method.\n    this._addOnChangeListeners(folderConfig, onChangeListeners, false);\n\n    if (folderConfig.isOpen) {\n      folder.open();\n    }\n\n    // Recursively create descendant folders.\n    if (folderConfig.childFolders) {\n      this.createFolders(folderConfig.childFolders, folder);\n    }\n  }\n\n  /**\n   * @param {Array.<MenuFolderConfig>} folderConfigs\n   * @param {dat.gui.GUI} parentFolder\n   */\n  createFolders(folderConfigs, parentFolder) {\n    folderConfigs.forEach(folderConfig => this.createFolder(folderConfig, parentFolder));\n  }\n\n  /**\n   * @param {MenuFolderConfig} folderConfig\n   * @param {string} label\n   * @param {Function} callback\n   */\n  addOnChangeListener(folderConfig, label, callback) {\n    if (folderConfig.items[label]) {\n      folderConfig.items[label].onChangeListeners.push(callback);\n    } else {\n      console.warn('Attempting to add on-change listener for a non-existent config', label,\n          folderConfig);\n    }\n  }\n\n  hideMenu() {\n    console.info('Hide Menu clicked');\n    document.querySelector('body > .dg').style.display = 'none';\n  }\n\n  /**\n   * NOTE: This is not idempotent. This modifies the original folderConfig.config object.\n   *\n   * @param {MenuFolderConfig} folderConfig\n   * @private\n   */\n  _createItems(folderConfig) {\n    folderConfig.items = {};\n\n    Object.keys(folderConfig.config).forEach((itemConfigKey) => {\n      // Do not expose internal configurations to the user.\n      if (itemConfigKey.substr(0, 1) === '_') return;\n\n      const itemConfig = folderConfig.config[itemConfigKey];\n\n      // Determine which method to use to create the menu item.\n      const pair = find([\n        [ConfigController.isToggleItem, ConfigController._createToggleItem],\n        [ConfigController.isTriggerItem, ConfigController._createTriggerItem],\n        [ConfigController.isSliderItem, ConfigController._createSliderItem],\n        [ConfigController.isNumberItem, ConfigController._createNumberItem],\n        [ConfigController.isHslColorItem, ConfigController._createHslColorItem],\n        [ConfigController.isTextItem, ConfigController._createTextItem],\n        [ConfigController.isStringSelectorItem, ConfigController._createStringSelectorItem],\n        [ConfigController.isVec3NumberItem, ConfigController._createVec3NumberItems],\n        [ConfigController.isVec3SliderItem, ConfigController._createVec3SliderItems],\n      ], (pair) => pair[0](itemConfig));\n      if (!pair) {\n        console.warn('Unrecognized config type', itemConfig);\n        return;\n      }\n      const menuItemCreator = pair[1];\n\n      // Create the actual dat.GUI menu item and save a reference to it.\n      const menuItemData = menuItemCreator.call(this, folderConfig.config,\n          itemConfigKey, itemConfig, folderConfig.folder);\n      if (menuItemData instanceof Array) {\n        const parentMenuItemData = {onChangeListeners: []};\n\n        // Record the individual sub-items.\n        menuItemData.forEach(data => {\n          folderConfig.items[data.label] = data;\n\n          // Hook up the (parent item's) onChange listeners.\n          data.menuItem.onChange(() => {\n            data.onChangeListeners.forEach(callback => callback());\n            parentMenuItemData.onChangeListeners.forEach(callback => callback());\n          });\n        });\n\n        // Record the parent item.\n        folderConfig.items[itemConfigKey] = parentMenuItemData;\n      } else {\n        folderConfig.items[itemConfigKey] = menuItemData;\n\n        // Hook up the onChange listeners.\n        menuItemData.menuItem.onChange(() =>\n            menuItemData.onChangeListeners.forEach(callback => callback()));\n      }\n    });\n  }\n\n  /**\n   * @param {MenuFolderConfig} folderConfig\n   * @param {Object} onChangeListeners A map from labels to on-change event handlers.\n   * @param {boolean} makeInitialCallToListeners\n   * @private\n   */\n  _addOnChangeListeners(folderConfig, onChangeListeners, makeInitialCallToListeners) {\n    if (onChangeListeners) {\n      Object.keys(onChangeListeners).forEach(key => {\n        const onChangeHandler = onChangeListeners[key];\n        configController.addOnChangeListener(folderConfig, key, onChangeHandler);\n        if (makeInitialCallToListeners) {\n          onChangeHandler();\n        }\n      });\n    }\n  }\n\n  /**\n   * Close the menu on smaller screens.\n   */\n  _onResize() {\n    setTimeout(() => {\n      if (getViewportSize() < _SMALL_SCREEN_WIDTH_THRESHOLD) {\n        this._gui.close();\n      }\n    }, 10);\n  }\n\n  /**\n   * @param {Object} configObject\n   * @param {string} label\n   * @param {ToggleMenuItemConfig} itemConfig\n   * @param {dat.gui.GUI} folder\n   * @returns {MenuItemData}\n   * @private\n   */\n  static _createToggleItem(configObject, label, itemConfig, folder) {\n    return {\n      menuItem: folder.add(configObject, label),\n      onChangeListeners: []\n    };\n  }\n\n  /**\n   * @param {Object} configObject\n   * @param {string} label\n   * @param {TriggerMenuItemConfig} itemConfig\n   * @param {dat.gui.GUI} folder\n   * @returns {MenuItemData}\n   * @private\n   */\n  static _createTriggerItem(configObject, label, itemConfig, folder) {\n    return {\n      menuItem: folder.add(configObject, label),\n      onChangeListeners: []\n    };\n  }\n\n  /**\n   * @param {Object} configObject\n   * @param {string} label\n   * @param {SliderMenuItemConfig} itemConfig\n   * @param {dat.gui.GUI} folder\n   * @returns {MenuItemData}\n   * @private\n   */\n  static _createSliderItem(configObject, label, itemConfig, folder) {\n    // Replace the original itemConfig on the configObject with the actual starting value.\n    configObject[label] = itemConfig.start;\n\n    const listeners = isInt(itemConfig.min) && isInt(itemConfig.max)\n        ? [ConfigController._truncateToInt.bind(null, configObject, label)]\n        : [];\n\n    // Create the menu item.\n    return {\n      menuItem: folder.add(configObject, label, itemConfig.min, itemConfig.max),\n      onChangeListeners: listeners\n    };\n  }\n\n  /**\n   * @param {Object} configObject\n   * @param {string} label\n   * @param {NumberMenuItemConfig} itemConfig\n   * @param {dat.gui.GUI} folder\n   * @returns {MenuItemData}\n   * @private\n   */\n  static _createNumberItem(configObject, label, itemConfig, folder) {\n    // Create the menu item.\n    return {\n      menuItem: folder.add(configObject, label),\n      onChangeListeners: []\n    };\n  }\n\n  /**\n   * This is used to force int sliders to only produce ints.\n   *\n   * This shouldn't be needed, but dat.GUI doesn't seem to be behaving consistently.\n   *\n   * @param configObject\n   * @param label\n   * @private\n   */\n  static _truncateToInt(configObject, label) {\n    configObject[label] = parseInt(configObject[label]);\n  }\n\n  /**\n   * @param {Object} configObject\n   * @param {string} label\n   * @param {HslColorMenuItemConfig} itemConfig\n   * @param {dat.gui.GUI} folder\n   * @returns {MenuItemData}\n   * @private\n   */\n  static _createHslColorItem(configObject, label, itemConfig, folder) {\n    // Create the property that the menu item will use.\n    itemConfig = hslToHsv(itemConfig);\n    configObject[label] = itemConfig;\n\n    // Set up a listener that will keep derived HSL values in sync with the native HSV values used\n    // by the dat.GUI menu item.\n    const calculateHslValues = () => {\n      const hsl = hsvToHsl(configObject[label]);\n      const rgb = hslToRgb(hsl);\n      itemConfig.hsl = hsl;\n      itemConfig.rgb = rgb;\n      itemConfig.rgbVec = vec3.fromValues(rgb.r, rgb.g, rgb.b);\n      itemConfig.hsl.colorString = createHslColorString(hsl);\n    };\n    calculateHslValues();\n\n    // Create the menu item.\n    return {\n      menuItem: folder.addColor(configObject, label),\n      onChangeListeners: [calculateHslValues]\n    };\n  }\n\n  /**\n   * @param {Object} configObject\n   * @param {string} label\n   * @param {TextMenuItemConfig} itemConfig\n   * @param {dat.gui.GUI} folder\n   * @returns {MenuItemData}\n   * @private\n   */\n  static _createTextItem(configObject, label, itemConfig, folder) {\n    return {\n      menuItem: folder.add(configObject, label),\n      onChangeListeners: []\n    };\n  }\n\n  /**\n   * @param {Object} configObject\n   * @param {string} label\n   * @param {Vec3NumberMenuItemConfig} itemConfig\n   * @param {dat.gui.GUI} folder\n   * @returns {Array.<MenuItemData>}\n   * @private\n   */\n  static _createVec3NumberItems(configObject, label, itemConfig, folder) {\n    const xLabel = `${label}X`;\n    const yLabel = `${label}Y`;\n    const zLabel = `${label}Z`;\n\n    // Set up a listener that will keep the derived vec3 in sync with its individual coordinates.\n    const _updateVec3 = () => vec3.set(itemConfig, configObject[xLabel], configObject[yLabel],\n        configObject[zLabel]);\n\n    return [\n      [0, xLabel],\n      [1, yLabel],\n      [2, zLabel]\n    ].map(indexAndLabel => {\n      const index = indexAndLabel[0];\n      const label = indexAndLabel[1];\n\n      // Create the individual vec3 coordinate property and initial value.\n      configObject[label] = itemConfig[index];\n\n      // Create the individual vec3 coordinate menu item.\n      return {\n        menuItem: folder.add(configObject, label),\n        onChangeListeners: [_updateVec3],\n        label: label\n      };\n    });\n  }\n\n  /**\n   * @param {Object} configObject\n   * @param {string} label\n   * @param {Vec3SliderMenuItemConfig} itemConfig\n   * @param {dat.gui.GUI} folder\n   * @returns {Array.<MenuItemData>}\n   * @private\n   */\n  static _createVec3SliderItems(configObject, label, itemConfig, folder) {\n    // Replace the original itemConfig on the configObject with the actual starting value.\n    configObject[label] = itemConfig.start;\n\n    const xLabel = `${label}X`;\n    const yLabel = `${label}Y`;\n    const zLabel = `${label}Z`;\n\n    // Set up a listener that will keep the derived vec3 in sync with its individual coordinates.\n    const _updateVec3 = () => vec3.set(configObject[label], configObject[xLabel],\n        configObject[yLabel], configObject[zLabel]);\n\n    return [\n      [0, xLabel],\n      [1, yLabel],\n      [2, zLabel]\n    ].map(indexAndLabel => {\n      const index = indexAndLabel[0];\n      const label = indexAndLabel[1];\n      const start = itemConfig.start[index];\n      const min = itemConfig.min[index];\n      const max = itemConfig.max[index];\n\n      // Create the individual vec3 coordinate property and initial value.\n      configObject[label] = start;\n\n      // Create the individual vec3 coordinate menu item.\n      return {\n        menuItem: folder.add(configObject, label, min, max),\n        onChangeListeners: [_updateVec3],\n        label: label\n      };\n    });\n  }\n\n  /**\n   * @param {Object} configObject\n   * @param {string} label\n   * @param {StringSelectorMenuItemConfig} itemConfig\n   * @param {dat.gui.GUI} folder\n   * @returns {MenuItemData}\n   * @private\n   */\n  static _createStringSelectorItem(configObject, label, itemConfig, folder) {\n    // Replace the original itemConfig on the configObject with the actual starting value.\n    configObject[label] = itemConfig.start;\n\n    return {\n      menuItem: folder.add(configObject, label, itemConfig.options),\n      onChangeListeners: []\n    };\n  }\n\n  /**\n   * @param {MenuItemConfig} itemConfig\n   * @returns {boolean}\n   */\n  static isToggleItem(itemConfig) {\n    return typeof itemConfig === 'boolean';\n  }\n\n  /**\n   * @param {MenuItemConfig} itemConfig\n   * @returns {boolean}\n   */\n  static isTriggerItem(itemConfig) {\n    return typeof itemConfig === 'function';\n  }\n\n  /**\n   * @param {MenuItemConfig} itemConfig\n   * @returns {boolean}\n   */\n  static isSliderItem(itemConfig) {\n    return typeof itemConfig === 'object' &&\n        typeof itemConfig.start === 'number' &&\n        typeof itemConfig.min === 'number' &&\n        typeof itemConfig.max === 'number';\n  }\n\n  /**\n   * @param {MenuItemConfig} itemConfig\n   * @returns {boolean}\n   */\n  static isNumberItem(itemConfig) {\n    return typeof itemConfig === 'number';\n  }\n\n  /**\n   * @param {MenuItemConfig} itemConfig\n   * @returns {boolean}\n   */\n  static isHslColorItem(itemConfig) {\n    return typeof itemConfig === 'object' &&\n        typeof itemConfig.h === 'number' &&\n        typeof itemConfig.s === 'number' &&\n        typeof itemConfig.l === 'number';\n  }\n\n  /**\n   * @param {MenuItemConfig} itemConfig\n   * @returns {boolean}\n   */\n  static isTextItem(itemConfig) {\n    return typeof itemConfig === 'string';\n  }\n\n  /**\n   * @param {MenuItemConfig} itemConfig\n   * @returns {boolean}\n   */\n  static isStringSelectorItem(itemConfig) {\n    return typeof itemConfig === 'object' &&\n        typeof itemConfig.start === 'string' &&\n        itemConfig.options instanceof Array;\n  }\n\n  /**\n   * @param {MenuItemConfig} itemConfig\n   * @returns {boolean}\n   */\n  static isVec3NumberItem(itemConfig) {\n    return (itemConfig instanceof Float32Array || itemConfig instanceof Array) &&\n        itemConfig.length === 3;\n  }\n\n  /**\n   * @param {MenuItemConfig} itemConfig\n   * @returns {boolean}\n   */\n  static isVec3SliderItem(itemConfig) {\n    return typeof itemConfig === 'object' &&\n        ConfigController.isVec3NumberItem(itemConfig.start) &&\n        ConfigController.isVec3NumberItem(itemConfig.min) &&\n        ConfigController.isVec3NumberItem(itemConfig.max);\n  }\n}\n\nconst configController = new ConfigController();\n\nexport {configController};\n\n/**\n * @typedef {Object} MenuItemData\n * @property {dat.gui.controller} menuItem The actual dat.GUI menu item.\n * @property {Array.<Function>} onChangeListeners onChange listeners for the menu item.\n * @property {string} [label] The label used for the menu item.\n */\n\n/**\n * @typedef {Object} MenuFolderConfig\n * @property {string} label\n * @property {Object} config A map from labels to MenuItemConfigs. Any config item whose label\n * starts with '_' will be treated as internal and will not be exposed to the user.\n * @property {boolean} [isOpen=false]\n * @property {Object} [onChangeListeners] A map from labels to on-change event handlers.\n * @property {Array.<MenuFolderConfig>} [childFolders]\n * @property {Object} [items] A map from labels to MenuItemDatas.\n * @property {dat.gui.GUI} [folder] Created and added by the ConfigController after registering the\n * folder.\n */\n\n/**\n * @typedef {ToggleMenuItemConfig|TriggerMenuItemConfig|SliderMenuItemConfig|NumberMenuItemConfig|HslColorMenuItemConfig|TextMenuItemConfig|StringSelectorMenuItemConfig|Vec3NumberMenuItemConfig|Vec3SliderMenuItemConfig} MenuItemConfig\n */\n\n/**\n * @typedef {boolean} ToggleMenuItemConfig\n */\n\n/**\n * @typedef {Function} TriggerMenuItemConfig\n */\n\n/**\n * @typedef {Object} SliderMenuItemConfig\n * @property {number} start\n * @property {number} min\n * @property {number} max\n */\n\n/**\n * @typedef {number} NumberMenuItemConfig\n */\n\n/**\n * @typedef {Object} HslColorMenuItemConfig\n * @property {number} h A value from 0 to 1.\n * @property {number} s A value from 0 to 1.\n * @property {number} l A value from 0 to 1.\n */\n\n/**\n * @typedef {string} TextMenuItemConfig\n */\n\n/**\n * @typedef {Object} StringSelectorMenuItemConfig\n * @property {string} start\n * @property {Array.<String>} options\n */\n\n/**\n * @typedef {vec3} Vec3NumberMenuItemConfig\n */\n\n/**\n * @typedef {Object} Vec3SliderMenuItemConfig\n * @property {vec3} start\n * @property {vec3} min\n * @property {vec3} max\n */\n","import { animator } from 'lsl-animatex';\nimport {\n  GrafxController,\n  handlePageFocusChange,\n}\nfrom 'grafx';\nimport { configController } from './config-controller';\nimport { InputController } from './input-controller';\n\n/**\n * This top-level Controller class initializes and runs the rest of the app.\n */\nclass GameController extends GrafxController {\n  constructor() {\n    super();\n\n    this.isGameOver = true;\n    this._inputCtrl = null;\n  }\n\n  /**\n   * Initializes the app. After this completes successfully, call run to actually start the app.\n   *\n   * @param {HTMLCanvasElement} canvas\n   * @param {Array.<ProgramWrapperConfig>} programConfigs Configurations for program wrappers that\n   * should be pre-cached before starting the rest of the app.\n   * @param {Array.<String>} texturePaths Texture images that should be pre-cached before\n   * starting the rest of the app.\n   * @param {Function.<Scene>} SceneImpl A class that extends GameScene.\n   * @returns {Promise}\n   */\n  initialize(canvas, programConfigs, texturePaths, SceneImpl) {\n    this._canvas = canvas;\n\n    configController.initialize();\n    this._setUpInput();\n\n    return super.initialize(canvas, programConfigs, texturePaths, SceneImpl);\n  }\n\n  destroy() {\n    this._inputCtrl.destroy();\n  }\n\n  /**\n   * Runs the app. This should be called after initialize.\n   *\n   * A few things happen if this is run in dev mode:\n   * - The draw and update steps of each frame are wrapped in a try/catch block.\n   * - This method returns a Promise that rejects if an error is throw during any update or draw\n   *   step and resolves when this controller has finished (currently never)\n   */\n  run() {\n    handlePageFocusChange(hasFocus => this._onPageFocusChange(hasFocus));\n    super.run();\n  }\n\n  pause() {\n    animator.pause();\n  }\n\n  unpause() {\n    animator.unpause();\n  }\n\n  /**\n   * @returns {boolean}\n   */\n  get isPaused() {\n    return animator.isPaused;\n  }\n\n  /**\n   * @param {boolean} hasFocus\n   * @private\n   */\n  _onPageFocusChange(hasFocus) {\n    if (!hasFocus) {\n      this.pause();\n    }\n  }\n\n  /**\n   * @private\n   */\n  _setUpInput() {\n    this._inputCtrl = new InputController();\n    this._inputCtrl.preventDefaultBrowserBehaviorForKey('SPACE');\n  }\n\n  /**\n   * Initializes the scene.\n   *\n   * @param {Function.<Scene>} SceneImpl A class that extends GameScene.\n   * @returns {Promise}\n   * @protected\n   */\n  _setUpScene(SceneImpl) {\n    this._scene = new SceneImpl({\n      gl: this._gl,\n      getViewMatrix: () => this._getViewMatrix(),\n      getProjectionMatrix: () => this._getProjectionMatrix(),\n    }, this, this._inputCtrl);\n    return this._scene.getIsReady().then(() => {\n      this._scene.reset();\n      this._updateAspectRatio(); // TODO: This should NOT happen here or using the glUtil globals.\n    });\n  }\n}\n\nexport { GameController };\n","import { Scene } from 'grafx';\nimport { Aabb } from 'lsl-physx';\n\n/**\n * This class handles the overall scene.\n *\n * @abstract\n */\nclass GameScene extends Scene {\n  /**\n   * @param {ModelGroupControllerConfig} modelControllerParams\n   * @param {GameController} gameCtrl\n   * @param {InputController} inputCtrl\n   * @param {number} renderDistance\n   */\n  constructor(modelControllerParams, gameCtrl, inputCtrl, renderDistance) {\n    super(modelControllerParams);\n\n    // GameScene is an abstract class. It should not be instantiated directly.\n    if (new.target === GameScene) {\n      throw new TypeError('Cannot construct GameScene instances directly');\n    }\n\n    this._gameCtrl = gameCtrl;\n    this._inputCtrl = inputCtrl;\n    this._renderDistance = renderDistance;\n    this._bounds = Aabb.createAsUniformAroundCenter(\n      vec3.fromValues(0, 0, 0), this._renderDistance);\n  }\n\n  reset() {\n    this.centerOfVolume = vec3.fromValues(0, 0, 0);\n    super.reset();\n  }\n\n  /** @returns {Aabb} */\n  get bounds() {\n    return this._bounds;\n  }\n  /** @returns {vec3} */\n  get centerOfVolume() {\n    return this._bounds.centerOfVolume;\n  }\n  /** @param {vec3} value */\n  set centerOfVolume(value) {\n    this._bounds.setAsUniformAroundCenter(value, this._renderDistance);\n  }\n}\n\nexport { GameScene };\n","import {keyCodes} from 'grafx';\n\n// TODO: Figure out how to capture: tab, space, escape, enter; prevent their default behaviors when\n// listeners have been registered for them.\n\n/**\n * This class handles user input.\n */\nclass InputController {\n  constructor() {\n    this._keyDownListeners = {};\n    this._keyUpListeners = {};\n    this._currentlyPressedKeys = {};\n    this._keysToPreventDefaultBrowserBehaviorFor = {};\n\n    this._mainKeyDownListener = event => this._handleKeyDown(event);\n    this._mainKeyUpListener = event => this._handleKeyUp(event);\n    this._mainKeyPressListener = event => this._handleKeyPress(event);\n\n    window.addEventListener('keydown', this._mainKeyDownListener, false);\n    window.addEventListener('keyup', this._mainKeyUpListener, false);\n    window.addEventListener('keypress', this._mainKeyPressListener, false);\n  }\n\n  destroy() {\n    window.removeEventListener('keydown', this._mainKeyDownListener);\n    window.removeEventListener('keyup', this._mainKeyUpListener);\n    window.removeEventListener('keypress', this._mainKeyPressListener);\n  }\n\n  /**\n   * Registers a callback to be called whenever the given key is pressed.\n   *\n   * @param {string} key\n   * @param {Function} callback\n   */\n  addKeyDownListener(key, callback) {\n    let listenersForKey = this._keyDownListeners[keyCodes[key]];\n\n    // Make sure the listener list is initialized for this key.\n    if (!listenersForKey) {\n      listenersForKey = new Set();\n      this._keyDownListeners[keyCodes[key]] = listenersForKey;\n    }\n\n    listenersForKey.add(callback);\n  }\n\n  /**\n   * Registers a callback to be called whenever the given key is lifted.\n   *\n   * @param {string} key\n   * @param {Function} callback\n   */\n  addKeyUpListener(key, callback) {\n    let listenersForKey = this._keyUpListeners[keyCodes[key]];\n\n    // Make sure the listener list is initialized for this key.\n    if (!listenersForKey) {\n      listenersForKey = new Set();\n      this._keyUpListeners[keyCodes[key]] = listenersForKey;\n    }\n\n    listenersForKey.add(callback);\n  }\n\n  /**\n   * Un-registers a callback to be called whenever the given key is pressed.\n   *\n   * @param {string} key\n   * @param {Function} callback\n   */\n  removeKeyDownListener(key, callback) {\n    this._keyDownListeners[keyCodes[key]].delete(callback);\n  }\n\n  /**\n   * Un-registers a callback to be called whenever the given key is lifted.\n   *\n   * @param {string} key\n   * @param {Function} callback\n   */\n  removeKeyUpListener(key, callback) {\n    this._keyUpListeners[keyCodes[key]].delete(callback);\n  }\n\n  /**\n   * Registers the given key to prevent the default browser behavior when it is pressed.\n   *\n   * @param {string} key\n   */\n  preventDefaultBrowserBehaviorForKey(key) {\n    this._keysToPreventDefaultBrowserBehaviorFor[keyCodes[key]] = true;\n  }\n\n  /**\n   * Un-registers the given key to prevent the default browser behavior when it is pressed.\n   *\n   * @param {string} key\n   */\n  allowDefaultBrowserBehaviorForKey(key) {\n    delete this._keysToPreventDefaultBrowserBehaviorFor[keyCodes[key]];\n  }\n\n  /**\n   * Determines whether the given key is currently pressed down.\n   *\n   * @param {string} key\n   * @returns {boolean}\n   */\n  isKeyCurrentlyPressed(key) {\n    return !!this._currentlyPressedKeys[keyCodes[key]];\n  }\n\n  /**\n   * Saves the given key as being pressed.\n   *\n   * @param {KeyboardEvent} event\n   * @private\n   */\n  _handleKeyDown(event) {\n    // If this key was already being pressed down, then do nothing (when a key is held down, many\n    // keydown events are actually triggered).\n    if (this._currentlyPressedKeys[event.keyCode]) {\n      return;\n    }\n\n    // Mark this key as being pressed down.\n    this._currentlyPressedKeys[event.keyCode] = true;\n\n    // Call any registered key-down listeners for this key.\n    const listeners = this._keyDownListeners[event.keyCode];\n    if (listeners) {\n      listeners.forEach(listener => listener());\n    }\n  }\n\n  /**\n   * Calls all key-up listeners that have been registered for the given key.\n   *\n   * @param {KeyboardEvent} event\n   * @private\n   */\n  _handleKeyUp(event) {\n    // Mark this key as no longer being pressed down.\n    delete this._currentlyPressedKeys[event.keyCode];\n\n    // Call any registered key-up listeners for this key.\n    const listeners = this._keyUpListeners[event.keyCode];\n    if (listeners) {\n      listeners.forEach(listener => listener());\n    }\n  }\n\n  /**\n   * Prevents the default browser behavior for keys that have been registered to prevent.\n   *\n   * @param {KeyboardEvent} event\n   * @private\n   */\n  _handleKeyPress(event) {\n    if (this._keysToPreventDefaultBrowserBehaviorFor[event.keyCode]) {\n      event.preventDefault();\n    }\n  }\n}\n\nexport {InputController};\n","import {isInDevMode, ModelController, StandardModelController, vec3ToString} from 'grafx';\nimport {PhysicsJob, PhysicsState} from 'lsl-physx';\n\n/**\n * This class represents a non-collidable physics-based model-controller.\n *\n * It uses composition to control an instance of a ModelController along with a corresponding\n * instance of a PhysicsJob.\n *\n * @implements {ModelControllerInterface}\n * @abstract\n */\nclass PhysicsModelController {\n  /**\n   * @param {ModelController|ModelControllerConfig} modelControllerOrParams\n   * @param {PhysicsJob|DynamicsConfig} physicsJobOrDynamicsParams\n   * @param {RenderableShapeConfig} [shapeParams]\n   * @param {Array.<ForceApplier>} [forceAppliers]\n   */\n  constructor(modelControllerOrParams, physicsJobOrDynamicsParams, shapeParams, forceAppliers) {\n    // PhysicsModelController is an abstract class. It should not be instantiated directly.\n    if (new.target === PhysicsModelController) {\n      throw new TypeError('Cannot construct PhysicsModelController instances directly');\n    }\n\n    this.modelCtrl = modelControllerOrParams instanceof ModelController\n        ? modelControllerOrParams\n        : new StandardModelController(modelControllerOrParams, shapeParams);\n\n    if (physicsJobOrDynamicsParams instanceof PhysicsJob) {\n      this.physicsJob = physicsJobOrDynamicsParams;\n    } else {\n      const state = new PhysicsState(physicsJobOrDynamicsParams);\n      this.physicsJob = new PhysicsJob(forceAppliers, state);\n    }\n\n    this._originalPosition = vec3.clone(this.physicsJob.currentState.position);\n\n    this._patchModelController({\n      /**\n       * Patches the ModelController's updateTransforms method in order to keep it's local-transform\n       * matrix in-sync with the PhysicsJob's position and orientation.\n       */\n      updateTransforms: (superVersion) => {\n        // Update the ModelController's local-transform matrix according to the PhysicsJob's\n        // current position and orientation.\n        mat4.fromRotationTranslationScale(this.modelCtrl._localTransform,\n            this.renderOrientation, this.renderPosition,\n            this.modelCtrl.scale);\n        superVersion();\n      },\n    });\n\n    if (isInDevMode) {\n      const controllerName = this.constructor.name.replace('Controller', '');\n      console.debug(`${controllerName} created @ ${vec3ToString(this.position)}`);\n    }\n  }\n\n  /**\n   * Patches the given methods on the underlying ModelController.\n   *\n   * The patched methods are passed the original or \"super\" version of the method as the first\n   * argument; the normal method arguments are provided after.\n   *\n   * @protected\n   */\n  _patchModelController(patches) {\n    Object.keys(patches).forEach((methodName) => {\n      const newMethod = patches[methodName];\n      const superVersion = this.modelCtrl[methodName].bind(this.modelCtrl);\n      this.modelCtrl[methodName] = newMethod.bind(this.modelCtrl, superVersion);\n    });\n  }\n\n  /**\n   * Registers this controller's PhysicsJob(s) with the physics engine.\n   */\n  reset() {\n    this.modelCtrl.reset();\n    this.physicsJob.position = this._originalPosition;\n    this.physicsJob.finish();\n    this.physicsJob.start();\n  }\n\n  /**\n   * Unregisters this controller's PhysicsJob(s) with the physics engine.\n   */\n  destroy() {\n    this.modelCtrl.destroy();\n    this.physicsJob.finish();\n    if (isInDevMode) {\n      const controllerName = this.constructor.name.replace('Controller', '');\n      console.debug(`${controllerName} destroyed @ ${vec3ToString(this.position)}`);\n    }\n  }\n\n  /** @param {vec3} value */\n  set position(value) {\n    this.physicsJob.position = value;\n  }\n  /** @returns {vec3} */\n  get position() {\n    return this.physicsJob.currentState.position;\n  }\n  /** @returns {quat} */\n  get orientation() {\n    return this.physicsJob.currentState.orientation;\n  }\n  // FIXME: Can I remove this?\n  /** @returns {vec3} */\n  get velocity() {\n    return this.physicsJob.currentState.velocity;\n  }\n\n  /** @returns {vec3} */\n  get renderPosition() {\n    return this.physicsJob.renderState.position;\n  }\n  /** @returns {quat} */\n  get renderOrientation() {\n    return this.physicsJob.renderState.orientation;\n  }\n  // FIXME: Can I remove this?\n  /** @returns {vec3} */\n  get renderVelocity() {\n    return this.physicsJob.renderState.velocity;\n  }\n\n  /**\n   * @returns {DefaultModel}\n   * @protected\n   */\n  get _model() {\n    return this.modelCtrl._model;\n  }\n  /**\n   * @returns {vec3}\n   */\n  get scale() {\n    return this.modelCtrl.scale;\n  }\n  /**\n   * Returns a promise that resolves when this model controller is ready for the app to run.\n   *\n   * @returns {Promise}\n   */\n  getIsReady() {\n    return this.modelCtrl.getIsReady();\n  }\n  /**\n   * Gets the model transform matrix, in local coordinates.\n   *\n   * @returns {mat4}\n   */\n  get localTransform() {\n    return this.modelCtrl.localTransform;\n  }\n  /**\n   * Gets the model transform matrix, in world coordinates.\n   *\n   * @returns {mat4}\n   */\n  get worldTransform() {\n    return this.modelCtrl.worldTransform;\n  }\n  /**\n   * Calls update, updateTransforms, and updateChildren.\n   *\n   * @param {DOMHighResTimeStamp} currentTime\n   * @param {DOMHighResTimeStamp} deltaTime\n   */\n  updateSelfAndChildren(currentTime, deltaTime) {\n    this.modelCtrl.updateSelfAndChildren(currentTime, deltaTime);\n  }\n}\n\nexport {PhysicsModelController};\n","import {FollowCamera} from 'grafx';\n\n// TODO: Ideally, this would use the built-in physics engine; however, we I tried integrating it\n// before, I noticed some instability when moving at high speeds. This probably had something to do\n// with accessing different versions of the target position (previousState vs currentState vs\n// renderState)for force/position calculations\n\n/**\n * This class defines a spring-based follow camera.\n *\n * This camera is positioned at a relative, flexible distance and rotation from the observed target\n * and follows the target's position and orientation with a spring force tying the camera to the\n * desired position.\n *\n * A follow camera rotates in all three dimensions; it does not have a fixed roll.\n */\nclass SpringFollowCamera extends FollowCamera {\n  /**\n   * If oldCamera is given, then the state of the new camera will be initialized to match that of\n   * the old camera. This enables a smooth transition when changing cameras.\n   *\n   * @param {CameraTarget} cameraTarget\n   * @param {FollowCameraConfig} followCameraParams\n   * @param {CameraConfig} cameraParams\n   * @param {Camera} [oldCamera]\n   */\n  constructor(cameraTarget, followCameraParams, cameraParams, oldCamera) {\n    super(cameraTarget, followCameraParams, cameraParams, oldCamera);\n    // These could have been set in _matchOldCamera.\n    this._velocity = this._velocity || vec3.create();\n    this._acceleration = this._acceleration || vec3.create();\n  }\n\n  reset() {\n    super.reset();\n    vec3.copy(this._position, this._followCameraParams._intendedTranslationFromTarget);\n  }\n\n  /**\n   * @param {DOMHighResTimeStamp} currentTime\n   * @param {DOMHighResTimeStamp} deltaTime\n   */\n  update(currentTime, deltaTime) {\n    this._updateAccelerationVelocityAndPosition(deltaTime);\n    this._updateOrientation();\n  }\n\n  /**\n   * @param {DOMHighResTimeStamp} deltaTime\n   * @private\n   */\n  _updateAccelerationVelocityAndPosition(deltaTime) {\n    this._updateAcceleration();\n    this._updatePosition(deltaTime);\n    this._updateVelocity(deltaTime);\n  }\n\n  /**\n   * Update the camera's acceleration using Hooke's law and drag.\n   *\n   * @private\n   */\n  _updateAcceleration() {\n    this._applySpringAcceleration();\n    this._applySpringDamping();\n  }\n\n  /**\n   * Update the camera's acceleration using Hooke's law.\n   *\n   * acceleration = displacement * coefficient\n   *\n   * @private\n   */\n  _applySpringAcceleration() {\n    const displacement = vec3.create();\n    vec3.subtract(displacement, this._getIntendedPosition(), this._position);\n    vec3.scale(this._acceleration, displacement, this._followCameraParams.springCoefficient);\n  }\n\n  /**\n   * @private\n   */\n  _applySpringDamping() {\n    const damping = vec3.create();\n    vec3.scale(damping, this._velocity, -this._followCameraParams.dampingCoefficient);\n    vec3.add(this._acceleration, this._acceleration, damping);\n  }\n\n  /**\n   * Update the camera's velocity according to its current acceleration.\n   *\n   * @param {DOMHighResTimeStamp} deltaTime\n   * @private\n   */\n  _updateVelocity(deltaTime) {\n    vec3.scaleAndAdd(this._velocity, this._velocity, this._acceleration, deltaTime);\n  }\n\n  /**\n   * Update the camera's position according to its current velocity.\n   *\n   * @param {DOMHighResTimeStamp} deltaTime\n   * @private\n   */\n  _updatePosition(deltaTime) {\n    vec3.scaleAndAdd(this._position, this._position, this._velocity, deltaTime);\n  }\n\n  /**\n   * @param {Camera} oldCamera\n   * @protected\n   */\n  _matchOldCamera(oldCamera) {\n    super._matchOldCamera(oldCamera);\n    if (oldCamera instanceof SpringFollowCamera) {\n      this._velocity = this._velocity || vec3.create();\n      this._acceleration = this._acceleration || vec3.create();\n      vec3.copy(this._velocity, oldCamera._velocity);\n      vec3.copy(this._acceleration, oldCamera._acceleration);\n    }\n  }\n}\n\nexport {SpringFollowCamera};\n","export * from './src/wall-collidable';\nexport * from './src/wall-controller';\n","import { Aabb } from 'lsl-physx';\n\n/**\n * This class represents a wall or floor.\n *\n * This is just a convenience class that extends Aabb.\n */\nclass Wall extends Aabb {\n  /**\n   * - If the x parameter is given, then a wall will be constructed along the y-z plane with its\n   * surface at the x coordinate. The y and z parameters are handled similarly.\n   * - Only one of the x/y/z parameters should be specified.\n   * - If isOpenOnPositiveSide is true, then the wall will be open toward the positive direction.\n   *\n   * @param {WallParams} wallParams\n   */\n  constructor(wallParams) {\n    let minX;\n    let minY;\n    let minZ;\n    let maxX;\n    let maxY;\n    let maxZ;\n\n    let { x, y, z, isOpenOnPositiveSide, thickness, halfSideLength } = wallParams;\n    thickness = thickness || 80000;\n    halfSideLength = halfSideLength || 80000;\n\n    if (typeof x === 'number') {\n      if (isOpenOnPositiveSide) {\n        minX = x - thickness;\n        maxX = x;\n      }\n      else {\n        minX = x;\n        maxX = x + thickness;\n      }\n      minY = -halfSideLength;\n      minZ = -halfSideLength;\n      maxY = halfSideLength;\n      maxZ = halfSideLength;\n    }\n    else if (typeof y === 'number') {\n      if (isOpenOnPositiveSide) {\n        minY = y - thickness;\n        maxY = y;\n      }\n      else {\n        minY = y;\n        maxY = y + thickness;\n      }\n      minX = -halfSideLength;\n      minZ = -halfSideLength;\n      maxX = halfSideLength;\n      maxZ = halfSideLength;\n    }\n    else {\n      if (isOpenOnPositiveSide) {\n        minZ = z - thickness;\n        maxZ = z;\n      }\n      else {\n        minZ = z;\n        maxZ = z + thickness;\n      }\n      minX = -halfSideLength;\n      minY = -halfSideLength;\n      maxX = halfSideLength;\n      maxY = halfSideLength;\n    }\n\n    super(minX, minY, minZ, maxX, maxY, maxZ, true);\n  }\n\n  /**\n   * @returns {vec3}\n   * @override\n   */\n  get scale() {\n    // Reuse the same object when this is called multiple times.\n    this._scale = this._scale || vec3.create();\n    vec3.set(this._scale, this.rangeX, this.rangeY, this.rangeZ);\n    return this._scale;\n  }\n}\n\nexport { Wall };\n","import {StandardModelController} from 'grafx';\nimport {collidableStore} from 'lsl-physx';\n\nimport {Wall} from './wall-collidable';\n\n/**\n * This class defines a wall-controller.\n */\nclass WallController extends StandardModelController {\n  /**\n   * @param {ModelControllerConfig} modelControllerParams\n   * @param {WallParams} wallParams\n   */\n  constructor(modelControllerParams, wallParams) {\n    const shapeParams = {\n      shapeId: 'CUBE',\n      isUsingSphericalNormals: wallParams.useSmoothShading,\n      textureSpan: wallParams.textureSpan\n    };\n\n    super(modelControllerParams, shapeParams);\n\n    this._collidable = new Wall(wallParams);\n    collidableStore.registerCollidable(this._collidable);\n  }\n\n  reset() {\n    // Re-size and re-position the wall.\n    mat4.fromTranslation(this._localTransform, this._collidable.centerOfVolume);\n    mat4.scale(this._localTransform, this._localTransform, this._collidable.scale);\n\n    super.reset();\n  }\n\n  /**\n   * Called when this is done being used, and is being destroyed from memory.\n   */\n  destroy() {\n    super.destroy();\n    collidableStore.unregisterCollidable(this._collidable);\n  }\n\n  /**\n   * @param {DOMHighResTimeStamp} currentTime\n   * @param {DOMHighResTimeStamp} deltaTime\n   * @protected\n   */\n  update(currentTime, deltaTime) {}\n}\n\nexport {WallController};\n\n/**\n * @typedef {Object} WallParams\n * @property {number} x\n * @property {number} y\n * @property {number} z\n * @property {boolean} isOpenOnPositiveSide\n * @property {number} thickness\n * @property {number} halfSideLength\n * @property {boolean} useSmoothShading\n * @property {TextureSpan} textureSpan\n */\n","export * from './src/camera';\nexport * from './src/first-person-camera';\nexport * from './src/fixed-camera';\nexport * from './src/fixed-follow-camera';\nexport * from './src/follow-camera';\nexport * from './src/third-person-camera';\nexport * from './src/overhead-camera';\n","import { PersistentAnimationJob } from 'lsl-animatex';\n\n// TODO: Make the rotation quaternion based with 6DoF.\n\n// TODO: Add support for scripting the camera to follow a curve:\n// (https://msdn.microsoft.com/en-us/library/bb203908(v=xnagamestudio.31).aspx)\n\n/**\n * This class defines common camera logic.\n *\n * @abstract\n */\nclass Camera extends PersistentAnimationJob {\n  /**\n   * If oldCamera is given, then the state of the new camera will be initialized to match that of\n   * the old camera. This enables a smooth transition when changing cameras.\n   *\n   * @param {CameraConfig} cameraParams\n   * @param {Camera} [oldCamera]\n   */\n  constructor(cameraParams, oldCamera) {\n    super();\n\n    // Camera is an abstract class. It should not be instantiated directly.\n    if (new.target === Camera) {\n      throw new TypeError('Cannot construct Camera instances directly');\n    }\n\n    this._cameraParams = cameraParams;\n    this._fovY = null;\n    this._aspectRatio = null;\n    this._zNear = null;\n    this._zFar = null;\n    this._position = vec3.create();\n    this._orientation = quat.create(); // TODO: Use this.\n    this._viewMatrix = mat4.create();\n    this._projectionMatrix = mat4.create();\n    this._viewProjectionMatrix = mat4.create();\n\n    this._matchOldCamera(oldCamera);\n  }\n\n  reset() {\n    this._setPerspective(this._cameraParams.fovY, this._cameraParams.defaultAspectRatio,\n      this._cameraParams._zNear, this._cameraParams._zFar);\n  }\n\n  // TODO: Call this after adding support for dynamically switching cameras.\n  destroy() {}\n\n  /**\n   * Set this camera's orientation and position.\n   *\n   * @param {vec3} eye The camera position.\n   * @param {vec3} target The focal point.\n   * @param {vec3} up The local up direction.\n   * @param {vec3} viewDirection The (normalized) direction the camera is looking.\n   * @protected\n   */\n  _setPositionAndLookAt(eye, target, up, viewDirection) {\n    vec3.copy(this._position, eye);\n    this._setLookAtFromCurrentPosition(target, up, viewDirection);\n  }\n\n  /**\n   * Set this camera's orientation, but do not change its position.\n   *\n   * @param {vec3} target The focal point.\n   * @param {vec3} up The local up direction.\n   * @param {vec3} viewDirection The (normalized) direction the camera is looking.\n   * @protected\n   */\n  _setLookAtFromCurrentPosition(target, up, viewDirection) {\n    mat4.lookAt(this._viewMatrix, this._position, target, up);\n    quat.rotationTo(this._orientation, this._cameraParams._defaultLookAtDirection, viewDirection); // TODO: Check this; might need to swap arguments.\n    this._updateViewProjectionMatrix();\n  }\n\n  /**\n   * Translate this camera by the given amount from its current position.\n   *\n   * @param {vec3} translation\n   * @protected\n   */\n  _translate(translation) {\n    vec3.add(this._position, this._position, translation);\n  }\n\n  /**\n   * Rotate this camera by the given amount from its current orientation.\n   *\n   * @param {quat} rotation\n   * @protected\n   */\n  _rotate(rotation) {\n    // TODO\n  }\n\n  /**\n   * @param {number} fovY In radians.\n   * @param {number} aspectRatio Width / height.\n   * @param {number} zNear\n   * @param {number} zFar\n   * @protected\n   */\n  _setPerspective(fovY, aspectRatio, zNear, zFar) {\n    this._fovY = fovY;\n    this._aspectRatio = aspectRatio;\n    this._zNear = zNear;\n    this._zFar = zFar;\n    this._updateProjectionMatrix();\n  }\n\n  /**\n   * Re-calculates the view-projection matrix. This should be called any time either the view or\n   * projection matrices is updated.\n   *\n   * @protected\n   */\n  _updateProjectionMatrix() {\n    mat4.perspective(\n      this._projectionMatrix, this._fovY, this._aspectRatio, this._zNear, this._zFar);\n    this._updateViewProjectionMatrix();\n  }\n\n  /**\n   * Re-calculates the view-projection matrix. This should be called any time either the view or\n   * projection matrices is updated.\n   *\n   * @protected\n   */\n  _updateViewProjectionMatrix() {\n    mat4.multiply(this._viewProjectionMatrix, this._projectionMatrix, this._viewMatrix);\n  }\n\n  /**\n   * @param {DOMHighResTimeStamp} currentTime\n   * @param {DOMHighResTimeStamp} deltaTime\n   * @abstract\n   */\n  update(currentTime, deltaTime) {\n    // Extending classes should implement this method.\n    throw new TypeError('Method not implemented');\n  }\n\n  draw() {}\n\n  /**\n   * @param {number} fovY The vertical field of view, in radians.\n   * @protected\n   */\n  set fov(fovY) {\n    this._fovY = fovY;\n    this._updateProjectionMatrix();\n  }\n\n  /**\n   * @param {number} aspectRatio Width / height.\n   */\n  set aspectRatio(aspectRatio) {\n    this._setPerspective(this._cameraParams.fovY, aspectRatio, this._cameraParams._zNear,\n      this._cameraParams._zFar);\n  }\n\n  /** @returns {vec3} */\n  get position() {\n    return this._position;\n  }\n  /** @returns {quat} */\n  get orientation() {\n    return this._orientation;\n  }\n  /** @returns {mat4} */\n  get viewMatrix() {\n    return this._viewMatrix;\n  }\n  /** @returns {mat4} */\n  get projectionMatrix() {\n    return this._projectionMatrix;\n  }\n  /** @returns {mat4} */\n  get viewProjectionMatrix() { // TODO: Stop using the above two getters and use this instead?\n    return this._viewProjectionMatrix;\n  }\n\n  /**\n   * Update this camera's state to match the given old camera.\n   *\n   * @param {Camera} oldCamera\n   * @protected\n   */\n  _matchOldCamera(oldCamera) {\n    if (!oldCamera) {\n      return;\n    }\n    this._fovY = oldCamera._fovY;\n    this._aspectRatio = oldCamera._aspectRatio;\n    this._zNear = oldCamera._zNear;\n    this._zFar = oldCamera._zFar;\n    vec3.copy(this._position, oldCamera._position);\n    vec3.copy(this._orientation, oldCamera._orientation);\n    mat4.copy(this._viewMatrix, oldCamera._viewMatrix);\n    mat4.copy(this._projectionMatrix, oldCamera._projectionMatrix);\n    mat4.copy(this._viewProjectionMatrix, oldCamera._viewProjectionMatrix);\n  }\n}\n\nexport { Camera };\n\n/**\n * @typedef {Function} CameraConfig\n * @property {number} fovY\n * @property {number} defaultAspectRatio\n * @property {number} _zNear\n * @property {number} _zFar\n * @property {vec3} _defaultLookAtDirection\n */\n\n/**\n * @typedef {Object} FollowCameraConfig\n * @property {number} springCoefficient\n * @property {number} dampingCoefficient\n * @property {number} intendedDistanceFromTarget\n * @property {number} intendedRotationAngleFromTarget\n * @property {vec3} intendedRotationAxisFromTarget\n * @property {vec3} _intendedTranslationFromTarget\n */\n\n/**\n * @typedef {Object} FirstPersonCameraConfig\n * @property {vec3} intendedDisplacementFromTarget\n * @property {vec3} viewDirection\n * @property {number} targetDistance\n */\n\n/**\n * @typedef {Object} FixedCameraConfig\n * @property {vec3} position\n * @property {vec3} viewDirection\n * @property {vec3} _up\n */\n","import { Camera } from './camera';\n\n/**\n * This class defines a first-person camera.\n *\n * A first-person camera is positioned at a character and moves and rotates with the character.\n */\nclass FirstPersonCamera extends Camera {\n  /**\n   * @param {CameraTarget} cameraTarget\n   * @param {FirstPersonCameraConfig} firstPersonCameraParams\n   * @param {CameraConfig} cameraParams\n   * @param {Camera} [oldCamera]\n   */\n  constructor(cameraTarget, firstPersonCameraParams, cameraParams, oldCamera) {\n    super(cameraParams, oldCamera);\n    this._cameraTarget = cameraTarget;\n    this._firstPersonCameraParams = firstPersonCameraParams;\n    this._cameraTarget = cameraTarget;\n  }\n\n  /**\n   * @param {DOMHighResTimeStamp} currentTime\n   * @param {DOMHighResTimeStamp} deltaTime\n   */\n  update(currentTime, deltaTime) {\n    this._updatePosition();\n    this._updateOrientation();\n  }\n\n  /**\n   * @private\n   */\n  _updatePosition() {\n    const intendedPosition = this._getIntendedPosition();\n    vec3.copy(this._position, intendedPosition);\n  }\n\n  /**\n   * Update the camera's orientation using the \"look at\" method according to its position and the\n   * position of its target.\n   *\n   * @protected\n   */\n  _updateOrientation() {\n    // Get the view direction, and transform it to align with the target's orientation.\n    const viewDirection = vec3.create();\n    vec3.copy(viewDirection, this._firstPersonCameraParams.viewDirection);\n    vec3.transformQuat(viewDirection, viewDirection, this._cameraTarget.orientation);\n\n    const target = vec3.create();\n    vec3.scaleAndAdd(target, this._position, viewDirection,\n      this._firstPersonCameraParams.targetDistance);\n\n    // Initialize \"up\" as the world z-axis.\n    const up = vec3.fromValues(0, 1, 0);\n\n    // Transform \"up\" to align with the camera target's local z-axis.\n    vec3.transformQuat(up, up, this._cameraTarget.orientation);\n\n    const right = vec3.create();\n    vec3.cross(right, viewDirection, up);\n\n    // Transform \"up\" to align with the camera's local z-axis.\n    vec3.cross(up, right, viewDirection);\n\n    this._setPositionAndLookAt(this._position, target, up, viewDirection);\n  }\n\n  /**\n   * The intended position for this camera to be in according to the position and orientation of the\n   * camera target.\n   *\n   * @returns {vec3}\n   * @protected\n   * @abstract\n   */\n  _getIntendedPosition() {\n    const intendedPosition = vec3.create();\n    vec3.transformMat4(\n      intendedPosition,\n      this._firstPersonCameraParams.intendedDisplacementFromTarget,\n      this._cameraTarget.worldTransform);\n    return intendedPosition;\n  }\n}\n\nexport { FirstPersonCamera };\n","import {Camera} from './camera';\n\n/**\n * This class defines a fixed camera.\n *\n * A fixed camera's position and orientation are updated manually and remain fixed until a later\n * update.\n */\nclass FixedCamera extends Camera {\n  /**\n   * If oldCamera is given, then the state of the new camera will be initialized to match that of\n   * the old camera. This enables a smooth transition when changing cameras.\n   *\n   * @param {FixedCameraConfig} fixedCameraParams\n   * @param {CameraConfig} cameraParams\n   * @param {Camera} [oldCamera]\n   */\n  constructor(fixedCameraParams, cameraParams, oldCamera) {\n    super(cameraParams, oldCamera);\n\n    this._position = fixedCameraParams.position;\n    this._viewDirection = fixedCameraParams.viewDirection;\n    this._up = fixedCameraParams._up;\n    this.__target = vec3.create();\n  }\n\n  reset() {\n    super.reset();\n    this._update();\n  }\n\n  /**\n   * @param {DOMHighResTimeStamp} currentTime\n   * @param {DOMHighResTimeStamp} deltaTime\n   */\n  update(currentTime, deltaTime) {}\n\n  _update() {\n    vec3.normalize(this._viewDirection, this._viewDirection);\n    vec3.normalize(this._up, this._up);\n\n    // Transform \"up\" to align with the camera's local z-axis.\n    const right = vec3.create();\n    vec3.cross(right, this._viewDirection, this._up);\n    vec3.cross(this._up, right, this._viewDirection);\n\n    this._setPositionAndLookAt(this._position, this._target, this._up, this._viewDirection);\n  }\n\n  /** @param {vec3} newDirection */\n  set viewDirection(newDirection) {\n    vec3.copy(this._viewDirection, newDirection);\n    this._update();\n  }\n\n  /** @param {vec3} newUp */\n  set up(newUp) {\n    vec3.copy(this._up, newUp);\n    this._update();\n  }\n\n  /** @param {vec3} newPosition */\n  set position(newPosition) {\n    vec3.copy(this._position, newPosition);\n    this._update();\n  }\n\n  /** @returns {vec3} */\n  // TODO: Look into whatever bug prevents the parent-class getter from working.\n  get position() {\n    return this._position;\n  }\n\n  /** @returns {vec3} */\n  get viewDirection() {\n    return this._viewDirection;\n  }\n  /** @returns {vec3} */\n  get up() {\n    return this._up;\n  }\n  /**\n   * @returns {vec3}\n   * @private\n   */\n  get _target() {\n    return vec3.add(this.__target, this._position, this._viewDirection);\n  }\n\n  /**\n   * @param {Camera} oldCamera\n   * @protected\n   */\n  _matchOldCamera(oldCamera) {\n    super._matchOldCamera(oldCamera);\n    if (oldCamera instanceof FixedCamera) {\n      vec3.copy(this._viewDirection, oldCamera._viewDirection);\n      vec3.copy(this._up, oldCamera._up);\n    }\n  }\n}\n\nexport {FixedCamera};\n","import {FollowCamera} from './follow-camera';\n\n/**\n * This class defines a fixed-offset follow camera.\n *\n * This camera is positioned at a relative, fixed distance and rotation from the observed target\n * and follows the target's position and orientation at this fixed distance.\n *\n * A follow camera rotates in all three dimensions; it does not have a fixed roll.\n */\nclass FixedFollowCamera extends FollowCamera {\n  /**\n   * @param {DOMHighResTimeStamp} currentTime\n   * @param {DOMHighResTimeStamp} deltaTime\n   */\n  update(currentTime, deltaTime) {\n    this._updatePosition();\n    this._updateOrientation();\n  }\n\n  /**\n   * @private\n   */\n  _updatePosition() {\n    const intendedPosition = this._getIntendedPosition();\n    vec3.copy(this._position, intendedPosition);\n  }\n}\n\nexport {FixedFollowCamera};\n","import {ThirdPersonCamera} from './third-person-camera';\n\n/**\n * This class defines an abstract follow camera.\n *\n * This is a third-person type of camera whose roll always matches that of the target.\n */\nclass FollowCamera extends ThirdPersonCamera {\n  /**\n   * Update the camera's orientation using the \"look at\" method according to its position and the\n   * position of its target.\n   *\n   * @protected\n   */\n  _updateOrientation() {\n    const target = this._cameraTarget.position;\n\n    const viewDirection = vec3.create();\n    vec3.subtract(viewDirection, target, this._position);\n    vec3.normalize(viewDirection, viewDirection);\n\n    // Initialize \"up\" as the world z-axis.\n    const up = vec3.fromValues(0, 1, 0);\n\n    // Transform \"up\" to align with the camera target's local z-axis.\n    vec3.transformQuat(up, up, this._cameraTarget.orientation);\n\n    const right = vec3.create();\n    vec3.cross(right, viewDirection, up);\n\n    // Transform \"up\" to align with the camera's local z-axis.\n    vec3.cross(up, right, viewDirection);\n\n    this._setPositionAndLookAt(this._position, target, up, viewDirection);\n  }\n}\n\nexport {FollowCamera};\n","import {ThirdPersonCamera} from './third-person-camera';\n\n/**\n * This class defines an overhead camera.\n *\n * An overhead camera sits above the observed character and moves relative to the character without\n * rotating.\n *\n * An overhead camera's rotation with the character includes only yaw; it has a fixed pitch and\n * roll.\n */\nclass OverheadCamera extends ThirdPersonCamera {\n  /**\n   * If oldCamera is given, then the state of the new camera will be initialized to match that of\n   * the old camera. This enables a smooth transition when changing cameras.\n   *\n   * @param {CameraTarget} cameraTarget\n   * @param {FollowCameraConfig} followCameraParams\n   * @param {CameraConfig} cameraParams\n   * @param {Camera} [oldCamera]\n   */\n  constructor(cameraTarget, followCameraParams, cameraParams, oldCamera) {\n    super(cameraTarget, followCameraParams, cameraParams, oldCamera);\n\n    this.reset();\n  }\n\n  reset() {\n    super.reset();\n  }\n\n  // TODO: Implement this!\n}\n\nexport {OverheadCamera};\n","import {Camera} from './camera';\n\n/**\n * This class defines an abstract third-person camera.\n *\n * A third-person camera follows a target from a distance.\n *\n * @abstract\n */\nclass ThirdPersonCamera extends Camera {\n  /**\n   * If oldCamera is given, then the state of the new camera will be initialized to match that of\n   * the old camera. This enables a smooth transition when changing cameras.\n   *\n   * @param {CameraTarget} cameraTarget\n   * @param {FollowCameraConfig} followCameraParams\n   * @param {CameraConfig} cameraParams\n   * @param {Camera} [oldCamera]\n   */\n  constructor(cameraTarget, followCameraParams, cameraParams, oldCamera) {\n    super(cameraParams, oldCamera);\n\n    // ThirdPersonCamera is an abstract class. It should not be instantiated directly.\n    if (new.target === ThirdPersonCamera) {\n      throw new TypeError('Cannot construct ThirdPersonCamera instances directly');\n    }\n\n    this._followCameraParams = followCameraParams;\n    this._cameraTarget = cameraTarget;\n  }\n\n  /**\n   * The intended position for this camera to be in according to the position and orientation of the\n   * camera target.\n   *\n   * @returns {vec3}\n   * @protected\n   * @abstract\n   */\n  _getIntendedPosition() {\n    const intendedPosition = vec3.create();\n    vec3.transformMat4(\n        intendedPosition,\n        this._followCameraParams._intendedTranslationFromTarget,\n        this._cameraTarget.worldTransform);\n    return intendedPosition;\n  }\n\n  /** @param {CameraTarget} cameraTarget */\n  set cameraTarget(cameraTarget) {\n    this._cameraTarget = cameraTarget;\n  }\n}\n\nexport {ThirdPersonCamera};\n\n/**\n * @typedef {Object} CameraTarget\n * @property {vec3} position In world coordinates.\n * @property {quat} orientation Relative to the world axes.\n * @property {mat4} worldTransform The model transform matrix, in world coordinates.\n */\n","/**\n * This module re-exports all of the exports in the grafx framework. This makes the entire framework\n * conveniently accessible via this single module.\n */\n\nexport * from './cameras';\nexport * from './models';\nexport * from './program-wrapper';\nexport * from './renderable-shapes';\nexport * from './util';\n\nexport * from './src/grafx-controller';\nexport * from './src/light';\nexport * from './src/scene';\n","export * from './src/default-model';\nexport * from './src/invisible-model-controller';\nexport * from './src/model';\nexport * from './src/model-controller';\nexport * from './src/model-group-controller';\nexport * from './src/standard-model-controller';\n","import {createBufferFromData} from '../../util';\nimport {Model} from './model';\n\n/**\n * This class defines a default implementation of the rigid model.\n *\n * This implementation accepts a RenderableShape and applies standard OpenGL binding logic on top\n * of it.\n */\nclass DefaultModel extends Model {\n  /**\n   * @param {WebGLRenderingContext} gl\n   * @param {RenderableShape} shapeConfig\n   */\n  constructor(gl, shapeConfig) {\n    super(gl);\n    this._shapeConfig = shapeConfig;\n    this._initializeBuffers();\n    this._initializeConfigs();\n  }\n\n  _initializeBuffers() {\n    // Create, bind, and move data into buffers for the vertex positions, normals, texture\n    // coordinates, and element array.\n    this._vertexPositionsBuffer = createBufferFromData(this._gl, this._shapeConfig.vertexPositions);\n    this._vertexNormalsBuffer = createBufferFromData(this._gl, this._shapeConfig.vertexNormals);\n    this._textureCoordinatesBuffer =\n        createBufferFromData(this._gl, this._shapeConfig.textureCoordinates);\n    if (this._shapeConfig.vertexIndices) {\n      this._vertexIndicesBuffer = createBufferFromData(this._gl, this._shapeConfig.vertexIndices,\n          this._gl.ELEMENT_ARRAY_BUFFER);\n    }\n  }\n\n  _initializeConfigs() {\n    this._vertexPositionsConfig = {\n      buffer: this._vertexPositionsBuffer,\n      size: 3,\n      type: this._gl.FLOAT,\n      normalized: false,\n      stride: 0,\n      offset: 0\n    };\n    this._textureCoordinatesConfig = {\n      buffer: this._textureCoordinatesBuffer,\n      size: 2,\n      type: this._gl.FLOAT,\n      normalized: false,\n      stride: 0,\n      offset: 0\n    };\n    this._vertexNormalsConfig = {\n      buffer: this._vertexNormalsBuffer,\n      size: 3,\n      type: this._gl.FLOAT,\n      normalized: false,\n      stride: 0,\n      offset: 0\n    };\n  }\n\n  /** @returns {number} */\n  get elementCount() {\n    return this._shapeConfig.elementCount;\n  }\n\n  /** @returns {number} */\n  get mode() {\n    return this._gl.TRIANGLES;\n    //return this._gl.LINE_STRIP;// TODO: REMOVE ME\n  }\n}\n\nexport {DefaultModel};\n","import {ModelController} from './model-controller';\n\n/**\n * This class defines an extension of the model-controller class that will maintain state but will\n * never render anything.\n */\nclass InvisibleModelController extends ModelController {\n  /**\n   * @param {ModelControllerConfig} params\n   */\n  constructor(params) {\n    super(params);\n  }\n\n  destroy() {}\n\n  update(currentTime, deltaTime) {}\n\n  draw() {}\n\n  /**\n   * Initializes the program variables configuration.\n   *\n   * @protected\n   */\n  _setUpProgramVariablesConfig() {\n    this._programVariablesConfig = {};\n  }\n\n  /**\n   * Overrides the default method to instead do nothing.\n   *\n   * @param {string} id\n   * @returns {Promise}\n   */\n  _setUpProgramWrapper(id) {\n    this._programWrapperId = id;\n    this._programWrapperPromise = Promise.resolve(null);\n    return this._programWrapperPromise;\n  }\n}\n\nexport {InvisibleModelController};\n","import {PersistentAnimationJob} from 'lsl-animatex';\nimport {\n  programWrapperStore,\n  textureStore,\n} from '../../program-wrapper';\n\n/**\n * This class defines a model-controller class.\n *\n * This should be extended by all components that handle models--i.e., anything that will be\n * rendering shapes.\n *\n * @implements {ModelControllerInterface}\n * @abstract\n */\nclass ModelController extends PersistentAnimationJob {\n  /**\n   * PRECONDITION: The ProgramWrapper referenced by the given params must have already been\n   * registered.\n   *\n   * @param {ModelControllerConfig} params\n   */\n  constructor(params) {\n    super();\n\n    // ModelController is an abstract class. It should not be instantiated directly.\n    if (new.target === ModelController) {\n      throw new TypeError('Cannot construct ModelController instances directly');\n    }\n\n    this._gl = params.gl;\n    this._getViewMatrix = params.getViewMatrix;\n    this._getProjectionMatrix = params.getProjectionMatrix;\n    this._getParentWorldTransform = params.getParentWorldTransform;\n    this._localTransform = mat4.create();\n    this._worldTransform = mat4.create();\n    this._texture = null;\n    this._programWrapper = null;\n    this._programWrapperId = null;\n    this._drawFrameHandler = () => this.draw();\n    this._programVariablesConfig = null;\n\n    this.position = vec3.create();\n    this.scale = vec3.fromValues(1, 1, 1);\n\n    this._setUpTexture(params.texturePath);\n    this._setUpProgramWrapper(params.programWrapperId);\n\n    this._isReadyPromise = Promise.all([\n      this._texturePromise,\n      this._programWrapperPromise,\n    ]);\n  }\n\n  reset() {}\n\n  /**\n   * Called when this is done being used, and is being destroyed from memory.\n   */\n  destroy() {\n    programWrapperStore.unregisterDrawFrameHandler(this._programWrapperId, this._drawFrameHandler);\n  }\n\n  /**\n   * Calls update, updateTransforms, and updateChildren.\n   *\n   * @param {DOMHighResTimeStamp} currentTime\n   * @param {DOMHighResTimeStamp} deltaTime\n   */\n  updateSelfAndChildren(currentTime, deltaTime) {\n    this.update(currentTime, deltaTime);\n    this.updateTransforms();\n    this.updateChildren(currentTime, deltaTime);\n  }\n\n  /**\n   * Updates relevant state for the sub-class.\n   *\n   * - This does not recursively update descendant model controllers; that's handled by\n   *   updateChildren.\n   * - This does not update the local or world-coordinate transforms; that's handled by\n   *   updateTransforms.\n   * - This is called before updateLocalTransform and updateChildren.\n   *\n   * @param {DOMHighResTimeStamp} currentTime\n   * @param {DOMHighResTimeStamp} deltaTime\n   */\n  update(currentTime, deltaTime) {\n    // Extending classes should implement this method.\n    throw new TypeError('Method not implemented');\n  }\n\n  /**\n   * Updates the world-coordinate and local-coordinate model matrices.\n   *\n   * This is called after update and before updateChildren.\n   *\n   * NOTE: All overrides of this method should update [this._localTransform].\n   */\n  updateTransforms() {\n    mat4.multiply(this._worldTransform, this._getParentWorldTransform(), this._localTransform);\n  }\n\n  /**\n   * Updates relevant state for any children model controllers.\n   *\n   * This is called after update and updateLocalTransform.\n   *\n   * @param {DOMHighResTimeStamp} currentTime\n   * @param {DOMHighResTimeStamp} deltaTime\n   */\n  updateChildren(currentTime, deltaTime) {}\n\n  /**\n   * @abstract\n   */\n  draw() {\n    // Extending classes should implement this method.\n    throw new TypeError('Method not implemented');\n  }\n\n  /**\n   * Gets the model transform matrix, in local coordinates.\n   *\n   * @returns {mat4}\n   */\n  get localTransform() {\n    return this._localTransform;\n  }\n\n  /**\n   * Gets the model transform matrix, in world coordinates.\n   *\n   * @returns {mat4}\n   */\n  get worldTransform() {\n    return this._worldTransform;\n  }\n\n  /**\n   * Returns a promise that resolves when this model controller is ready for the app to run.\n   *\n   * @returns {Promise}\n   */\n  getIsReady() {\n    return this._isReadyPromise;\n  }\n\n  /** @param {string} id */\n  set programWrapperId(id) {\n    programWrapperStore.unregisterDrawFrameHandler(this._programWrapperId, this._drawFrameHandler);\n    this._setUpProgramWrapper(id);\n  }\n\n  /** @param {string} value */\n  set texturePath(value) {\n    this._setUpTexture(value);\n  }\n\n  /**\n   * Initializes the program variables configuration.\n   *\n   * @protected\n   * @abstract\n   */\n  _setUpProgramVariablesConfig() {\n    // Extending classes should implement this method.\n    throw new TypeError('Method not implemented');\n  }\n\n  /**\n   * @param {string} [texturePath]\n   * @returns {Promise}\n   * @private\n   */\n  _setUpTexture(texturePath) {\n    this._texturePromise = texturePath\n        ? textureStore.loadTexture(this._gl, texturePath)\n        : Promise.resolve(null);\n\n    // Assign the actual texture.\n    this._texturePromise = this._texturePromise\n        .then(texture => this._texture = texture)\n        .then(() => this._setUpProgramVariablesConfig());\n\n    return this._texturePromise;\n  }\n\n  /**\n   * @param {string} id\n   * @returns {Promise}\n   * @private\n   */\n  _setUpProgramWrapper(id) {\n    this._programWrapperId = id;\n    this._programWrapperPromise = programWrapperStore.getProgramWrapperPromise(id)\n        .then(programWrapper => this._programWrapper = programWrapper);\n    Promise.all([this._programWrapperPromise, this._texturePromise])\n        .then(() => programWrapperStore.registerDrawFrameHandler(id, this._drawFrameHandler));\n    return this._programWrapperPromise;\n  }\n}\n\nexport {ModelController};\n\n/**\n * @typedef {Object} ModelControllerInterface\n * @property {Function.<Promise>} getIsReady\n * @property {Function} reset\n * @property {Function} destroy\n * @property {mat4} localTransform\n * @property {mat4} worldTransform\n * @property {vec3} position\n */\n\n/**\n * @typedef {Object} ModelControllerConfig\n * @property {WebGLRenderingContext} gl\n * @property {Function.<mat4>} getViewMatrix\n * @property {Function.<mat4>} getProjectionMatrix\n * @property {Function.<mat4>} getParentWorldTransform\n * @property {string} programWrapperId\n * @property {string} [texturePath]\n */\n\n/**\n * @typedef {Object} ModelGroupControllerConfig\n * @property {WebGLRenderingContext} gl\n * @property {Function.<mat4>} getViewMatrix\n * @property {Function.<mat4>} getProjectionMatrix\n * @property {Function.<mat4>} getParentWorldTransform\n */\n","import { PersistentAnimationJob } from 'lsl-animatex';\n\n/**\n * This class controls groups of models.\n *\n * This is useful for higher-level controllers that control other models and also transform them.\n *\n * @implements {ModelControllerInterface}\n * @abstract\n */\nclass ModelGroupController extends PersistentAnimationJob {\n  /**\n   * If either of the shader paths are omitted, then this model controller will not create a\n   * rendering program configuration.\n   *\n   * @param {ModelGroupControllerConfig} params\n   */\n  constructor(params) {\n    super();\n\n    // ModelGroupController is an abstract class. It should not be instantiated directly.\n    if (new.target === ModelGroupController) {\n      throw new TypeError('Cannot construct ModelGroupController instances directly');\n    }\n\n    this._gl = params.gl;\n    this._getViewMatrix = params.getViewMatrix;\n    this._getProjectionMatrix = params.getProjectionMatrix;\n    this._getParentWorldTransform = params.getParentWorldTransform || (() => mat4.create());\n    this._localTransform = mat4.create();\n    this._worldTransform = mat4.create();\n    this._modelCtrls = [];\n  }\n\n  destroy() {\n    this.clearModelControllers();\n  }\n\n  reset() {\n    this._triggerOnAllModelControllers('reset');\n  }\n\n  clearModelControllers() {\n    this._triggerOnAllModelControllers('destroy');\n    this._modelCtrls = [];\n  }\n\n  /**\n   * Calls update, updateTransforms, and updateChildren.\n   *\n   * @param {DOMHighResTimeStamp} currentTime\n   * @param {DOMHighResTimeStamp} deltaTime\n   */\n  updateSelfAndChildren(currentTime, deltaTime) {\n    this.update(currentTime, deltaTime);\n    this.updateTransforms();\n    this.updateChildren(currentTime, deltaTime);\n  }\n\n  /**\n   * Updates relevant state for the sub-class.\n   *\n   * - This does not recursively update descendant model controllers; that's handled by\n   *   updateChildren.\n   * - This does not update the local or world-coordinate transforms; that's handled by\n   *   updateTransforms.\n   * - This is called before updateLocalTransform and updateChildren.\n   *\n   * @param {DOMHighResTimeStamp} currentTime\n   * @param {DOMHighResTimeStamp} deltaTime\n   */\n  update(currentTime, deltaTime) {}\n\n  /**\n   * Updates the world-coordinate and local-coordinate model matrices.\n   *\n   * This is called after update and before updateChildren.\n   *\n   * NOTE: All implementations of this method should update [this._localTransform].\n   */\n  updateTransforms() {\n    mat4.multiply(this._worldTransform, this._getParentWorldTransform(), this._localTransform);\n  }\n\n  /**\n   * Updates relevant state for any children model controllers.\n   *\n   * This is called after update and updateLocalTransform.\n   *\n   * @param {DOMHighResTimeStamp} currentTime\n   * @param {DOMHighResTimeStamp} deltaTime\n   */\n  updateChildren(currentTime, deltaTime) {\n    this._triggerOnAllModelControllers('updateSelfAndChildren', [currentTime, deltaTime]);\n  }\n\n  draw() {\n    // We don't call draw on the children model controllers, because they register themselves to be\n    // drawn with their given shader program.\n  }\n\n  /**\n   * @param {ModelControllerInterface} modelCtrl\n   * @returns {Promise.<ModelControllerInterface>}\n   * @protected\n   */\n  _startModelController(modelCtrl) {\n    return modelCtrl.getIsReady().then(() => {\n      modelCtrl.reset();\n      this._modelCtrls.push(modelCtrl);\n      return modelCtrl;\n    });\n  }\n\n  /**\n   * @param {ModelControllerInterface} modelCtrl\n   * @protected\n   */\n  _onModelControllerDestroyed(modelCtrl) {\n    const index = this._modelCtrls.indexOf(modelCtrl);\n    this._modelCtrls.splice(index, 1);\n    modelCtrl.destroy();\n  }\n\n  /**\n   * @param {vec3} targetPosition\n   * @param {number} maxSquaredDistance\n   * @protected\n   */\n  _removeDistantModelControllers(targetPosition, maxSquaredDistance) {\n    this._modelCtrls\n      // Get the ModelControllers that are too far away.\n      .filter(modelCtrl =>\n        vec3.squaredDistance(modelCtrl.position, targetPosition) > maxSquaredDistance)\n      // Remove the far-away ModelControllers.\n      .forEach(modelCtrl => this._onModelControllerDestroyed(modelCtrl));\n  }\n\n  /**\n   * Gets the model transform matrix, in local coordinates.\n   *\n   * @returns {mat4}\n   */\n  get localTransform() {\n    return this._localTransform;\n  }\n\n  /**\n   * Gets the model transform matrix, in world coordinates.\n   *\n   * @returns {mat4}\n   */\n  get worldTransform() {\n    return this._worldTransform;\n  }\n\n  /**\n   * Returns a promise that resolves when this model controller is ready for the app to run.\n   *\n   * @returns {Promise}\n   */\n  getIsReady() {\n    return Promise.all(this._modelCtrls.map(controller => controller.getIsReady()));\n  }\n\n  /**\n   * @param {string} methodName\n   * @param {Array.<*>} [args]\n   * @protected\n   */\n  _triggerOnAllModelControllers(methodName, args = []) {\n    //this._demoObject[methodName](...args);\n    this._modelCtrls.forEach(object => object[methodName](...args));\n  }\n}\n\nexport { ModelGroupController };\n","/**\n * This class defines a top-level model.\n *\n * @abstract\n */\nclass Model {\n  /**\n   * @param {WebGLRenderingContext} gl\n   */\n  constructor(gl) {\n    // Model is an abstract class. It should not be instantiated directly.\n    if (new.target === Model) {\n      throw new TypeError('Cannot construct Model instances directly');\n    }\n\n    this._gl = gl;\n    this.bounds = null;\n\n    this._vertexPositionsBuffer = null;\n    this._vertexNormalsBuffer = null;\n    this._textureCoordinatesBuffer = null;\n\n    this._vertexPositionsConfig = null;\n    this._textureCoordinatesConfig = null;\n    this._vertexNormalsConfig = null;\n\n    // If this is kept null, then gl.drawArrays will be used (with gl.ARRAY_BUFFER) instead of\n    // gl.drawElements (with gl.ELEMENT_ARRAY_BUFFER).\n    this._vertexIndicesBuffer = null;\n  }\n\n  /**\n   * Updates the normals on this shape to either be spherical (point outwards from the center) or\n   * orthogonal to the faces of their triangles.\n   *\n   * @param {boolean} isUsingSphericalNormals\n   * @protected\n   * @abstract\n   */\n  _setNormals(isUsingSphericalNormals) {\n    // Extending classes should implement this method.\n    throw new TypeError('Method not implemented');\n  }\n\n  /** @returns {?AttributeConfig} */\n  get vertexPositionsConfig() {\n    return this._vertexPositionsConfig;\n  }\n\n  /** @returns {?AttributeConfig} */\n  get textureCoordinatesConfig() {\n    return this._textureCoordinatesConfig;\n  }\n\n  /** @returns {?AttributeConfig} */\n  get vertexNormalsConfig() {\n    return this._vertexNormalsConfig;\n  }\n\n  /** @returns {?WebGLBuffer} */\n  get vertexIndicesBuffer() {\n    return this._vertexIndicesBuffer;\n  }\n\n  /**\n   * @returns {number}\n   * @abstract\n   */\n  get elementCount() {\n    // Extending classes should implement this method.\n    throw new TypeError('Method not implemented');\n  }\n\n  /**\n   * @returns {number}\n   * @abstract\n   */\n  get mode() {\n    // Extending classes should implement this method.\n    throw new TypeError('Method not implemented');\n  }\n}\n\nexport {Model};\n","import {renderableShapeFactory} from '../../renderable-shapes';\n\nimport {ModelController} from './model-controller';\n\n/**\n * This class defines an extension of the model-controller class that uses a common set of program\n * variables and transformation matrices.\n */\nclass StandardModelController extends ModelController {\n  /**\n   * @param {ModelControllerConfig} params\n   * @param {RenderableShapeConfig} shapeParams\n   */\n  constructor(params, shapeParams) {\n    super(params);\n\n    this.scale = shapeParams.scale || vec3.fromValues(1, 1, 1);\n    this._mvMatrix = mat4.create();\n    this._normalMatrix = mat4.create();\n    this._model = renderableShapeFactory.createModel(this._gl, shapeParams);\n  }\n\n  update(currentTime, deltaTime) {}\n\n  draw() {\n    // Update the model-view matrix.\n    mat4.multiply(this._mvMatrix, this._getViewMatrix(), this._worldTransform);\n\n    // Update the normal matrix.\n    mat4.invert(this._normalMatrix, this._mvMatrix);\n    mat4.transpose(this._normalMatrix, this._normalMatrix);\n\n    // Update the uniform variables.\n    this._programVariablesConfig.uniforms['uPMatrix'] = this._getProjectionMatrix();\n    this._programVariablesConfig.uniforms['uMVMatrix'] = this._mvMatrix;\n    this._programVariablesConfig.uniforms['uNormalMatrix'] = this._normalMatrix;\n\n    // Draw shapes using the current variables configuration.\n    this._programWrapper.draw(this._gl, this._programVariablesConfig, 0, this._model.elementCount);\n  }\n\n  /**\n   * Initializes the program variables configuration.\n   *\n   * @protected\n   */\n  _setUpProgramVariablesConfig() {\n    this._programVariablesConfig = {\n      attributes: {\n        aVertexPosition: this._model.vertexPositionsConfig,\n        aTextureCoord: this._model.textureCoordinatesConfig,\n        aVertexNormal: this._model.vertexNormalsConfig,\n      },\n      uniforms: {\n        uPMatrix: this._getProjectionMatrix(),\n        uMVMatrix: this._mvMatrix,\n        uNormalMatrix: this._normalMatrix,\n        uSampler: this._texture,\n      },\n      mode: this._model.mode,\n      vertexIndices: this._model.vertexIndicesBuffer,\n      elementCount: this._model.elementCount,\n    };\n  }\n}\n\nexport {StandardModelController};\n","export * from './src/program-wrapper';\nexport * from './src/program-wrapper-store';\nexport * from './src/texture-store';\nexport * from './src/uniform-setter';\n","import {bindFramebuffer} from '../../util';\n\nimport {programWrapperStore} from './program-wrapper-store';\n\n/**\n * This class wraps a collection of ProgramWrappers and supports drawing them as a group.\n */\nclass GroupProgramWrapper {\n  /**\n   * @param {WebGLRenderingContext} gl\n   * @param {ProgramWrapperConfig} config\n   */\n  constructor(gl, config) {\n    this.config = config;\n    this._childrenProgramWrappers = [];\n    this._isReady = null;\n\n    this._loadChildren(gl, config).then(() => {\n      if (config.initialize) config.initialize(gl);\n      if (config.isAPostProcessor) {\n        _createChildrenFramebuffersAndTextures(gl, config);\n      }\n    });\n  }\n\n  /** @returns {string} */\n  get programId() {\n    return this.config.id;\n  }\n\n  /** @returns {Promise} */\n  getIsReady() {\n    return this._isReady;\n  }\n\n  /**\n   * Renders shapes using this program.\n   *\n   * @param {WebGLRenderingContext} gl\n   */\n  draw(gl) {\n    if (this.config.webGLStateSetter) this.config.webGLStateSetter(gl);\n    this.config.childrenFramebufferIds.forEach(_clearFramebuffer.bind(this, gl));\n    this.config.childrenProgramsToDraw.forEach(_drawChildProgramWrapper.bind(this, gl));\n  }\n\n  /**\n   * @param {WebGLRenderingContext} gl\n   * @param {ProgramWrapperConfig} config\n   * @private\n   */\n  _loadChildren(gl, config) {\n    this._isReady = Promise.all(\n        config.childrenProgramConfigs.map(config =>\n            programWrapperStore.loadProgramWrapper(gl, config)\n                .then(programWrapper => this._childrenProgramWrappers.push(programWrapper))));\n    return this._isReady;\n  }\n}\n\n/**\n * @param {WebGLRenderingContext} gl\n * @param {string} id\n * @private\n */\nfunction _clearFramebuffer(gl, id) {\n  const framebuffer = programWrapperStore.getFramebuffer(id);\n  bindFramebuffer(gl, framebuffer);\n  gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n}\n\n/**\n * @param {WebGLRenderingContext} gl\n * @param {ProgramWrapperConfig} config\n * @private\n */\nfunction _createChildrenFramebuffersAndTextures(gl, config) {\n  config.childrenFramebufferIds.forEach(id =>\n      programWrapperStore.createNewFramebufferAndTexture(gl, id, false));\n}\n\n/**\n * @param {WebGLRenderingContext} gl\n * @param {ChildProgramAndFramebufferIds} childProgramAndFramebufferIds\n * @private\n */\nfunction _drawChildProgramWrapper(gl, childProgramAndFramebufferIds) {\n  const {programId, inputFramebufferIds, outputFramebufferId} = childProgramAndFramebufferIds;\n\n  const framebuffer = outputFramebufferId ?\n      programWrapperStore.getFramebuffer(outputFramebufferId) : null;\n  const programWrapper = programWrapperStore.getProgramWrapper(programId);\n  const programVariablesConfig =\n      programWrapper.config.getProgramVariablesConfig(gl, inputFramebufferIds);\n\n  bindFramebuffer(gl, framebuffer);\n  programWrapper.setProgram(gl);\n  programWrapper.draw(gl, programVariablesConfig);\n}\n\nexport {GroupProgramWrapper};\n","import {createFramebuffer, createRenderBuffer, createTextureForRendering} from '../../util';\n\nimport {GroupProgramWrapper} from './group-program-wrapper';\nimport {ProgramWrapper} from './program-wrapper';\n\n/**\n * This class loads, compiles, and stores WebGL rendering programs.\n *\n * Also, this stores draw-frame handlers for a given program. This makes it easy for a top-level\n * controller to group together draw calls for a given program and therefore minimize program\n * switches.\n *\n * Also, this distinguishes between rendering programs that are used for rendering individual models\n * and post-processing programs that are used for manipulating the entire frame after all the models\n * have rendered.\n *\n * This also allows for grouping programs, which consist of multiple child programs that are all\n * rendered in sequence for a related purpose.\n */\nclass ProgramWrapperStore {\n  constructor() {\n    this._modelProgramCache = {};\n    this._sortedModelPrograms = [];\n    this._postProcessingProgramCache = {};\n    this._sortedPostProcessingPrograms = [];\n    this._frambuffers = {};\n    this._textures = {};\n    this._renderBuffers = {};\n  }\n\n  /**\n   * Loads and caches a program wrapper using the given configuration.\n   *\n   * This method is idempotent; a given program will only be cached once.\n   *\n   * @param {WebGLRenderingContext} gl\n   * @param {ProgramWrapperConfig} params\n   * @returns {Promise.<ProgramWrapper|GroupProgramWrapper, Error>}\n   * @private\n   */\n  loadProgramWrapper(gl, params) {\n    let cache;\n    let sortedList;\n    if (params.isAPostProcessor) {\n      cache = this._postProcessingProgramCache;\n      sortedList = this._sortedPostProcessingPrograms;\n    } else {\n      cache = this._modelProgramCache;\n      sortedList = this._sortedModelPrograms;\n    }\n    let cacheInfo = cache[params.id];\n\n    // Cache the program if it has not been previously registered.\n    if (!cacheInfo) {\n      cacheInfo = {};\n\n      cacheInfo.params = params;\n      cacheInfo.renderPriority = params.renderPriority;\n\n      let programWrapper = params.childrenProgramConfigs ?\n          new GroupProgramWrapper(gl, params) : new ProgramWrapper(gl, params);\n\n      cacheInfo.programWrapper = programWrapper;\n      cacheInfo.promise = programWrapper.getIsReady().then(() => cacheInfo.programWrapper);\n\n      if (params.isAPostProcessor) {\n        // As soon as we know we'll use a post-processing program, make sure we create the default\n        // framebuffer/texture for rendering models into.\n        if (!this.modelsFramebuffer) {\n          this.createNewFramebufferAndTexture(gl, MODELS_FRAMEBUFFER_ID, true);\n        }\n      } else {\n        // Post-processing programs are not used for rendering individual models.\n        cacheInfo.drawFrameHandlers = new Set();\n      }\n\n      // Store the program cache info in both a map and a list that is sorted by render priority.\n      cache[params.id] = cacheInfo;\n      sortedList.push(cacheInfo);\n      sortedList.sort(_compareProgramCacheInfo);\n    }\n\n    return cacheInfo.promise;\n  }\n\n  /**\n   * Registers the given draw-frame event handler for the given program.\n   *\n   * This method is idempotent; draw-frame handlers are stored in a set, so duplicate additions will\n   * overwrite previous additions.\n   *\n   * @param {string} id\n   * @param {Function} drawFrameHandler\n   */\n  registerDrawFrameHandler(id, drawFrameHandler) {\n    const programCacheInfo = this._modelProgramCache[id];\n\n    if (!programCacheInfo) {\n      if (this._postProcessingProgramCache[id]) {\n        // The program is not set up for rendering individual models.\n        throw new Error(`Cannot register a draw-frame handler for a program that is not set up for \n                         rendering individual models registered: ${id}`);\n      } else {\n        // The program has not been registered.\n        throw new Error(`Cannot register a draw-frame handler for a program that has not yet been \n                         registered: ${id}`);\n      }\n    }\n\n    // Store the draw-frame handler.\n    programCacheInfo.drawFrameHandlers.add(drawFrameHandler);\n  }\n\n  /**\n   * WARNING: This will remove the program from the store even if there are still other components\n   * depending on this program or its draw-frame handlers.\n   *\n   * @param {string} id\n   */\n  deleteProgramWrapper(id) {\n    // Determine which collections we're removing the program from.\n    let sortedPrograms;\n    let programCache;\n    if (this._modelProgramCache[id]) {\n      sortedPrograms = this._sortedModelPrograms;\n      programCache = this._modelProgramCache;\n    } else {\n      sortedPrograms = this._sortedPostProcessingPrograms;\n      programCache = this._postProcessingProgramCache;\n    }\n    const programCacheInfo = programCache[id];\n\n    // Remove the program.\n    sortedPrograms.splice(sortedPrograms.indexOf(programCacheInfo), 1);\n    delete programCache[id];\n  }\n\n  // TODO: Don't forget to unregister draw-frame handlers when destroying models (asteroids, UFOs,\n  // etc.)\n  /**\n   * @param {string} id\n   * @param {Function} drawFrameHandler\n   */\n  unregisterDrawFrameHandler(id, drawFrameHandler) {\n    this._modelProgramCache[id].drawFrameHandlers.delete(drawFrameHandler);\n  }\n\n  /**\n   * @param {string} id\n   * @returns {Promise}\n   * @throws If there is no program registered with the given ID.\n   */\n  getProgramWrapperPromise(id) {\n    const cacheInfo = this._modelProgramCache[id] || this._postProcessingProgramCache[id];\n    return cacheInfo.promise;\n  }\n\n  /**\n   * @param {string} id\n   * @returns {ProgramWrapper}\n   * @throws If there is no program registered with the given ID.\n   */\n  getProgramWrapper(id) {\n    const cacheInfo = this._modelProgramCache[id] || this._postProcessingProgramCache[id];\n    return cacheInfo.programWrapper;\n  }\n\n  /**\n   * Calls the given callback once for each registered per-model program wrapper.\n   *\n   * The callback is passed two arguments: the program wrapper and the registered draw-frame\n   * handlers.\n   *\n   * @param {Function} callback\n   */\n  forEachModelProgram(callback) {\n    this._sortedModelPrograms.forEach(programCacheInfo =>\n        callback(programCacheInfo.programWrapper, programCacheInfo.drawFrameHandlers));\n  }\n\n  /**\n   * Calls the given callback once for each registered post-processing program wrapper.\n   *\n   * @param {Function} callback\n   */\n  forEachPostProcessingProgram(callback) {\n    this._sortedPostProcessingPrograms.forEach(\n        programCacheInfo => callback(programCacheInfo.programWrapper));\n  }\n\n  /** @returns {boolean} */\n  get isUsingPostProcessingPrograms() {\n    return this._sortedPostProcessingPrograms.length > 0;\n  }\n\n  /**\n   * Creates and stores a framebuffer with a texture.\n   *\n   * Both the framebuffer and texture can be accessed later using the given ID.\n   *\n   * @param {WebGLRenderingContext} gl\n   * @param {string} id\n   * @param {boolean} [shouldStoreDepthInfo=false]\n   */\n  createNewFramebufferAndTexture(gl, id, shouldStoreDepthInfo=false) {\n    let renderBuffer;\n    if (shouldStoreDepthInfo) {\n      renderBuffer = createRenderBuffer(gl);\n      this._renderBuffers[id] = renderBuffer;\n    }\n\n    const texture = createTextureForRendering(gl);\n    this._textures[id] = texture;\n\n    const framebuffer = createFramebuffer(gl, texture, renderBuffer);\n    this._frambuffers[id] = framebuffer;\n  }\n\n  /**\n   * @param {string} id\n   * @returns {?WebGLFramebuffer}\n   */\n  getFramebuffer(id) {\n    return this._frambuffers[id];\n  }\n\n  /**\n   * @param {string} id\n   * @returns {?WebGLTexture}\n   */\n  getTexture(id) {\n    return this._textures[id];\n  }\n\n  /**\n   * If we are using a post-processing program, then this is the default framebuffer for rendering\n   * models into.\n   *\n   * @returns {?WebGLFramebuffer}\n   */\n  get modelsFramebuffer() {\n    return this._frambuffers[MODELS_FRAMEBUFFER_ID];\n  }\n\n  /**\n   * If we are using a post-processing program, then this is the default texture for rendering\n   * models into.\n   *\n   * @returns {?WebGLTexture}\n   */\n  get modelsTexture() {\n    return this._textures[MODELS_FRAMEBUFFER_ID];\n  }\n\n  /**\n   * If we are using a post-processing program, then this is the default depth render buffer for\n   * rendering models.\n   *\n   * @returns {?WebGLRenderBuffer}\n   */\n  get modelsRenderBuffer() {\n    return this._renderBuffers[MODELS_FRAMEBUFFER_ID];\n  }\n}\n\nfunction _compareProgramCacheInfo(a, b) {\n  return a.renderPriority - b.renderPriority;\n}\n\nexport const MODELS_FRAMEBUFFER_ID = 'models';\n\nexport const programWrapperStore = new ProgramWrapperStore();\n\n/**\n * @typedef {Object} ProgramCacheInfo\n * @property {ProgramWrapperConfig} params\n * @property {ProgramWrapper|GroupProgramWrapper} [programWrapper]\n * @property {Set.<Function>} [drawFrameHandlers]\n * @property {Array.<ProgramWrapper>} [childrenProgramWrappers]\n */\n","import {\n  isInDevMode,\n  getViewportHeight,\n  getViewportWidth,\n  loadProgram,\n} from '../../util';\n\nimport {UniformSetter} from './uniform-setter';\n\n/**\n * This class wraps a native WebGLProgram object and provides convenience methods for:\n * - setting the wrapped program for use on the WebGL rendering context,\n * - enabling the attribute variables for the program,\n * - setting the attribute and uniform variables for the program,\n * - drawing shapes with the program and its current configuration.\n */\nclass ProgramWrapper {\n  /**\n   * @param {WebGLRenderingContext} gl\n   * @param {ProgramWrapperConfig} config\n   */\n  constructor(gl, config) {\n    this.config = config;\n    this._program = null;\n    this._uniformSetters = null;\n    this._attributeEnablers = null;\n    this._attributeSetters = null;\n\n    // This is used for assigning different textures to different texture units.\n    this.baseTextureUnitIndex = 0;\n\n    this._buildWebGLProgramPromise = this._buildWebGLProgram(gl, config);\n\n    // TODO: Freeze this object after initializing\n  }\n\n  /** @returns {string} */\n  get programId() {\n    return this.config.id;\n  }\n\n  /** @returns {Promise} */\n  getIsReady() {\n    return this._buildWebGLProgramPromise;\n  }\n\n  /**\n   * Sets this program to use for rendering on the given WebGL context.\n   *\n   * This also enables all relevant attribute variables for this program.\n   *\n   * @param {WebGLRenderingContext} gl\n   */\n  setProgram(gl) {\n    gl.useProgram(this._program);\n    this._enableAttributes();\n    if (this.config.webGLStateSetter) this.config.webGLStateSetter(gl);\n  }\n\n  /**\n   * Renders shapes using this program with the given variables configuration.\n   *\n   * @param {WebGLRenderingContext} gl\n   * @param {ProgramVariablesConfig} [programVariablesConfig]\n   * @param {number} [offset=0] Offset into the element array buffer to render from.\n   * @param {number} [count=programVariablesConfig.elementCount] The number of elements to render.\n   */\n  draw(gl, programVariablesConfig, offset, count) {\n    programVariablesConfig = programVariablesConfig || this.config.getProgramVariablesConfig(gl);\n    this._setVariables(gl, programVariablesConfig);\n    this._draw(gl, programVariablesConfig, offset, count);\n  }\n\n  /**\n   * Sets up this WebGL rendering program to draw shapes with the given program variables\n   * configuration and the attribute/uniform setters that have been set up for this program.\n   *\n   * @param {WebGLRenderingContext} gl\n   * @param {ProgramVariablesConfig} programVariablesConfig\n   * @private\n   */\n  _setVariables(gl, programVariablesConfig) {\n    this._setAttributes(programVariablesConfig.attributes);\n    this._setUniforms(programVariablesConfig.uniforms);\n\n    // Check whether we are set up to draw using gl.drawElements rather than gl.drawArrays.\n    if (programVariablesConfig.vertexIndices) {\n      gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, programVariablesConfig.vertexIndices);\n    }\n  }\n\n  /**\n   * Renders shapes according to this program's current configuration.\n   *\n   * @param {WebGLRenderingContext} gl\n   * @param {ProgramVariablesConfig} programVariablesConfig\n   * @param {number} [offset=0] Offset into the element array buffer to render from.\n   * @param {number} [count=programVariablesConfig.elementCount] The number of elements to render.\n   * @private\n   */\n  _draw(gl, programVariablesConfig, offset, count) {\n    offset = typeof offset === 'number' ? offset : 0;\n    count = typeof count === 'number' ? count : programVariablesConfig.elementCount;\n\n    if (isInDevMode) {\n      this._checkThatGivenVariablesMatchProgram(programVariablesConfig);\n    }\n\n    // Check whether we are set up to draw using gl.drawElements or gl.drawArrays.\n    if (programVariablesConfig.vertexIndices) {\n      gl.drawElements(programVariablesConfig.mode, count, gl.UNSIGNED_SHORT, offset);\n    } else {\n      gl.drawArrays(programVariablesConfig.mode, offset, count);\n    }\n  }\n\n  /**\n   * Checks whether the attribute and uniform variables specified in the given config match those\n   * defined in this program.\n   *\n   * @param {ProgramVariablesConfig} programVariablesConfig\n   * @private\n   */\n  _checkThatGivenVariablesMatchProgram(programVariablesConfig) {\n    if (Object.keys(programVariablesConfig.attributes).length !==\n            Object.keys(this._attributeSetters).length ||\n        Object.keys(programVariablesConfig.uniforms).length !==\n            Object.keys(this._uniformSetters).length) {\n      console.warn('The attribute/uniform variables in the ProgramVariablesConfig do not match ' +\n          'those specified in the shaders.', programVariablesConfig, this);\n    }\n  }\n\n  /**\n   * Sets the uniform values for this program.\n   *\n   * Specifically, this calls `gl.uniform<...>(location, value)` for each\n   * variable-name/variable-value key-value pair in the given map. As part of the setup process, the\n   * uniform variable locations are stored in a map from their corresponding variable names. So only\n   * the variable names are needed in order to call this function at render time.\n   *\n   * @param {Object.<String, UniformData>} uniformValues\n   */\n  _setUniforms(uniformValues) {\n    Object.keys(uniformValues).forEach(uniformName => {\n      const uniformSetter = this._uniformSetters[uniformName];\n      const uniformValue = uniformValues[uniformName];\n      uniformSetter.setUniform(uniformValue);\n    });\n  }\n\n  /**\n   * Sets the attribute buffers for this program.\n   *\n   * Specifically, this calls `gl.bindBuffer(...)` and `gl.vertexAttribPointer(...)` for each\n   * variable-name/variable-value pair in the given attribute-info map. As part of the setup\n   * process, the uniform variable locations are stored in a map from their corresponding variable\n   * names. So only the variable names are needed in order to call this function at render time.\n   *\n   * @param {Object.<String, AttributeConfig>} attributeConfigs\n   */\n  _setAttributes(attributeConfigs) {\n    Object.keys(attributeConfigs).forEach(attributeName => {\n      const attributeSetter = this._attributeSetters[attributeName];\n      const attributeConfig = attributeConfigs[attributeName];\n      attributeSetter(attributeConfig);\n    });\n  }\n\n  /**\n   * @private\n   */\n  _enableAttributes() {\n    this._attributeEnablers.forEach(attributeEnabler => attributeEnabler());\n  }\n\n  /**\n   * Creates uniform setters for this program and saves them in the _uniformSetters property.\n   *\n   * @param {WebGLRenderingContext} gl\n   * @private\n   */\n  _createUniformSetters(gl) {\n    const uniformCount = gl.getProgramParameter(this._program, gl.ACTIVE_UNIFORMS);\n\n    this._uniformSetters = {};\n\n    for (let index = 0; index < uniformCount; index++) {\n      const uniformInfo = gl.getActiveUniform(this._program, index);\n      let uniformName = uniformInfo.name;\n\n      // Remove any array suffix.\n      // TODO: Is this removal redundant with the isArray check below??\n      if (uniformName.substr(-3) === '[0]') {\n        uniformName = uniformName.substr(0, uniformName.length - 3);\n      }\n\n      this._uniformSetters[uniformName] = new UniformSetter(gl, this._program, uniformInfo, this);\n    }\n  }\n\n  /**\n   * Creates attribute enablers and setters for this program and saves them in the\n   * _attributeEnablers and _attributeSetters properties, respectively.\n   *\n   * @param {WebGLRenderingContext} gl\n   * @private\n   */\n  _createAttributeEnablersAndSetters(gl) {\n    this._attributeEnablers = [];\n    this._attributeSetters = {};\n\n    const attributeCount = gl.getProgramParameter(this._program, gl.ACTIVE_ATTRIBUTES);\n\n    for (let index = 0; index < attributeCount; index++) {\n      const attributeName = gl.getActiveAttrib(this._program, index).name;\n      const location = gl.getAttribLocation(this._program, attributeName);\n\n      this._attributeEnablers.push(ProgramWrapper._createAttributeEnabler(gl, location));\n      this._attributeSetters[attributeName] = ProgramWrapper._createAttributeSetter(gl, location);\n    }\n  }\n\n  /**\n   * Loads the shader source code from the given URLs, compiles the shader source code, and creates\n   * a program from the resulting shaders.\n   *\n   * @param {WebGLRenderingContext} gl\n   * @param {ProgramWrapperConfig} config\n   * @returns {Promise}\n   * @private\n   */\n  _buildWebGLProgram(gl, config) {\n    return loadProgram(gl, config.vertexShaderPath, config.fragmentShaderPath)\n        .then(webGLProgram => {\n          this._program = webGLProgram;\n          this._createUniformSetters(gl);\n          this._createAttributeEnablersAndSetters(gl);\n          if (config.initialize) config.initialize(gl);\n        })\n        .then(() => console.info(`Program loaded: ${config.id}`));\n  }\n\n  /**\n   * @param {WebGLRenderingContext} gl\n   * @param {number} location\n   * @returns {Function}\n   * @private\n   */\n  static _createAttributeEnabler(gl, location) {\n    return () => gl.enableVertexAttribArray(location);\n  }\n\n  /**\n   * @param {WebGLRenderingContext} gl\n   * @param {number} location\n   * @returns {Function.<AttributeConfig>}\n   * @private\n   */\n  static _createAttributeSetter(gl, location) {\n    return attributeConfig => {\n      gl.bindBuffer(gl.ARRAY_BUFFER, attributeConfig.buffer);\n      gl.vertexAttribPointer(\n          location,\n          attributeConfig.size,\n          typeof attributeConfig.type !== 'undefined' ? attributeConfig.type : gl.FLOAT,\n          typeof attributeConfig.normalized !== 'undefined' ? attributeConfig.normalized : false,\n          typeof attributeConfig.stride !== 'undefined' ? attributeConfig.stride : 0,\n          typeof attributeConfig.offset !== 'undefined' ? attributeConfig.offset : 0);\n    };\n  }\n}\n\nexport {ProgramWrapper};\n\n/**\n * @typedef {Object} ProgramWrapperConfig\n * @property {string} id\n * @property {Function} [initialize] A method for one-time initialization of the GL state for this\n * program.\n * @property {Function} [webGLStateSetter] A method for setting up the GL state for this program\n * wrapper in preparation for the current draw call.\n * @property {number} [renderPriority] Programs with lower priority will render first. This does not\n * need to be present for ProgramWrappers that are children of a GroupProgramWrapper.\n * @property {string} [vertexShaderPath] This will be present on configs for non-group\n * ProgramWrappers.\n * @property {string} [fragmentShaderPath] This will be present on configs for non-group\n * ProgramWrappers.\n * @property {boolean} [isAPostProcessor=false] A post-processing program is used for manipulating\n * the entire frame after all the models have rendered.\n * @property {boolean} [childrenProgramConfigs] A grouping program consists of multiple child\n * programs that are all rendered in sequence for a related purpose.\n * @property {Array.<ChildProgramAndFramebufferIds>} [childrenProgramsToDraw] The IDs for the\n * sequence of children ProgramWrappers to draw, as well as the IDs for the input and output\n * framebuffers/textures to use. This will be present on configs for GroupProgramWrappers.\n * @property {Array.<string>} [childrenFramebufferIds] The IDs of all the framebuffers/textures that\n * will need to be created for this program. This will be present on configs for\n * GroupProgramWrappers.\n * @property {Function} [getProgramVariablesConfig] A method for getting the variables needed for\n * drawing this program. This will be present on configs of programs that are children of a\n * GroupProgramWrapper.\n */\n\n/**\n * @typedef {Object} ChildProgramAndFramebufferIds\n * @property {string} programId The ID of the program to draw with.\n * @property {Array.<string>} inputFramebufferIds The IDs of framebuffers whose textures will be\n * used as inputs for this program's shaders.\n * @property {string} outputFramebufferId Provide null in order to render to the canvas.\n */\n\n/**\n * @typedef {Object} ProgramVariablesConfig\n * @property {Object.<String, AttributeConfig>} attributes A mapping from attribute names to\n * attribute info.\n * @property {Object.<String, UniformData>} uniforms A mapping from uniform names to uniform info.\n * @property {number} mode Specifies the type of primitives to render; one of:\n *   - gl.POINTS,\n *   - gl.LINES,\n *   - gl.LINE_STRIP,\n *   - gl.LINE_LOOP,\n *   - gl.TRIANGLES,\n *   - gl.TRIANGLE_STRIP,\n *   - gl.TRIANGLE_FAN.\n * @property {WebGLBuffer} [vertexIndices] The indices to use for retrieving the vertex info from\n * each of the other attribute variable buffers. If this property is present, then the rendering\n * pipeline will be set up to use gl.drawElements (with gl.ELEMENT_ARRAY_BUFFER) instead of\n * gl.drawArrays.\n * @property {number} elementCount The number of elements/vertices to render for this variables\n * configuration.\n */\n\n/**\n * @typedef {Object} AttributeConfig\n * @property {WebGLBuffer} buffer The buffer containing this attribute's data.\n * @property {number} index Index of target attribute in the buffer bound to gl.ARRAY_BUFFER.\n * @property {number} size The number of components per attribute. Must be 1,2,3,or 4.\n * @property {number} type Specifies the data type of each component in the array. Use either\n * gl.FLOAT or gl.FIXED.\n * @property {boolean} normalized If true, then values will be normalized to a range of -1 or 0 to\n * 1.\n * @property {number} stride Specifies the offset in bytes between the beginning of consecutive\n * vertex attributes. Default value is 0, maximum is 255. Must be a multiple of type.\n * @property {number} offset Specifies an offset in bytes of the first component of the first\n * vertex attribute in the array. Default is 0 which means that vertex attributes are tightly\n * packed. Must be a multiple of type.\n */\n\n/** @typedef {*} UniformData */\n","import {loadImageSrc} from '../../util';\n\n/**\n * This class loads, sets up, and stores WebGL texture objects.\n *\n * NOTE: Only textures whose side lengths are powers of two are supported.\n */\nclass TextureStore {\n  constructor() {\n    this.textureCache = {};\n  }\n\n  /**\n   * @param {string} texturePath\n   * @returns {WebGLTexture}\n   */\n  getTexture(texturePath) {\n    return this.textureCache[texturePath].texture;\n  }\n\n  /**\n   * Loads the texture image at the given path, creates a texture object from it, caches the\n   * texture, and returns a promise for the texture.\n   *\n   * This method is idempotent; a given texture will only be loaded once.\n   *\n   * @param {WebGLRenderingContext} gl\n   * @param {string} texturePath\n   * @returns {Promise.<WebGLTexture, Error>}\n   */\n  loadTexture(gl, texturePath) {\n    let textureCacheInfo = this.textureCache[texturePath];\n\n    // Load, create, and cache the texture if it has not been previously registered.\n    if (!textureCacheInfo) {\n      textureCacheInfo = {\n        texturePromise: null,\n        texture: null,\n        image: new Image()\n      };\n      this.textureCache[texturePath] = textureCacheInfo;\n      textureCacheInfo.texturePromise = loadImageSrc(textureCacheInfo.image, texturePath)\n          .then(_ => this._createTexture(gl, textureCacheInfo));\n    }\n\n    return textureCacheInfo.texturePromise;\n  }\n\n  // TODO: Make this more general/configurable by creating a new TextureConfig typedef with most of\n  // the gl.xxx params included below (like the AttributeConfig typedef}, passing a textureConfig in\n  // the register method, and saving it on the textureCacheInfo object.\n  /**\n   * @param {WebGLRenderingContext} gl\n   * @param {TextureCacheInfo} textureCacheInfo\n   * @returns {WebGLTexture}\n   * @private\n   */\n  _createTexture(gl, textureCacheInfo) {\n    console.info(`Texture loaded: ${textureCacheInfo.image.src}`);\n\n    textureCacheInfo.texture = gl.createTexture();\n    gl.bindTexture(gl.TEXTURE_2D, textureCacheInfo.texture);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, textureCacheInfo.image);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR_MIPMAP_NEAREST);\n    gl.generateMipmap(gl.TEXTURE_2D);\n    gl.bindTexture(gl.TEXTURE_2D, null);\n\n    return textureCacheInfo.texture;\n  }\n\n  /**\n   * WARNING: This will remove the texture from the store even if there are still other components\n   * depending on this texture.\n   *\n   * @param {string} texturePath\n   */\n  deleteTexture(texturePath) {\n    delete this.textureCache[texturePath];\n  }\n}\n\nexport const textureStore = new TextureStore();\n\n/**\n * @typedef {Object} TextureCacheInfo\n * @property {Promise.<WebGLTexture, Error>} texturePromise\n * @property {WebGLTexture} [texture]\n * @property {HTMLImageElement} [image]\n */\n","/**\n * This class stores a function for setting a value to a WebGL uniform variable.\n *\n * This is intended for use as a helper for the ProgramWrapper class.\n */\n// TODO: Write tests for this class.\nclass UniformSetter {\n  /**\n   * @param {WebGLRenderingContext} gl\n   * @param {WebGLProgram} program\n   * @param {WebGLActiveInfo} uniformInfo\n   * @param {ProgramWrapper} programWrapper\n   * @throws If the given uniformInfo specifies an unexpected uniform-value type.\n   */\n  constructor(gl, program, uniformInfo, programWrapper) {\n    this._location = gl.getUniformLocation(program, uniformInfo.name);\n    this._setter = this._getSetter(gl, uniformInfo, programWrapper);\n\n    // TODO: Freeze this object after initializing\n  }\n\n  /**\n   * @param {UniformData} uniformValue\n   */\n  setUniform(uniformValue) {\n    uniformValue = uniformValue instanceof Array ? new Float32Array(uniformValue) : uniformValue;\n    this._setter(uniformValue);\n  }\n\n  /** @returns {WebGLUniformLocation} */\n  get location() {\n    return this._location;\n  }\n\n  /**\n   * @param {WebGLRenderingContext} gl\n   * @param {WebGLActiveInfo} uniformInfo\n   * @param {ProgramWrapper} programWrapper\n   * @returns {Function.<*>}\n   * @throws If the given uniformInfo specifies an unexpected uniform-value type.\n   * @private\n   */\n  _getSetter(gl, uniformInfo, programWrapper) {\n    const isArray = uniformInfo.size > 1 && uniformInfo.name.substr(-3) === '[0]';\n    const setterMap = isArray ? {\n      [gl.FLOAT]: value => gl.uniform1fv(this._location, value),\n      [gl.INT]: value => gl.uniform1iv(this._location, value),\n      [gl.SAMPLER_2D]: this._getUniformTextureArraySetter(gl, gl.TEXTURE_2D, uniformInfo.size,\n          programWrapper),\n      [gl.SAMPLER_CUBE]: this._getUniformTextureArraySetter(gl, gl.TEXTURE_CUBE_MAP,\n          uniformInfo.size, programWrapper),\n    } : {\n      [gl.FLOAT]: value => gl.uniform1f(this._location, value),\n      [gl.FLOAT_VEC2]: value => gl.uniform2fv(this._location, value),\n      [gl.FLOAT_VEC3]: value => gl.uniform3fv(this._location, value),\n      [gl.FLOAT_VEC4]: value => gl.uniform4fv(this._location, value),\n      [gl.INT]: value => gl.uniform1i(this._location, value),\n      [gl.INT_VEC2]: value => gl.uniform2iv(this._location, value),\n      [gl.INT_VEC3]: value => gl.uniform3iv(this._location, value),\n      [gl.INT_VEC4]: value => gl.uniform4iv(this._location, value),\n      [gl.BOOL]: value => gl.uniform1i(this._location, value),\n      [gl.BOOL_VEC2]: value => gl.uniform2iv(this._location, value),\n      [gl.BOOL_VEC3]: value => gl.uniform3iv(this._location, value),\n      [gl.BOOL_VEC4]: value => gl.uniform4iv(this._location, value),\n      [gl.FLOAT_MAT2]: value => gl.uniformMatrix2fv(this._location, false, value),\n      [gl.FLOAT_MAT3]: value => gl.uniformMatrix3fv(this._location, false, value),\n      [gl.FLOAT_MAT4]: value => gl.uniformMatrix4fv(this._location, false, value),\n      [gl.SAMPLER_2D]: this._getUniformTextureSetter(gl, gl.TEXTURE_2D,\n          programWrapper.baseTextureUnitIndex++),\n      [gl.SAMPLER_CUBE]: this._getUniformTextureSetter(gl, gl.TEXTURE_CUBE_MAP,\n          programWrapper.baseTextureUnitIndex++),\n    };\n    return setterMap[uniformInfo.type];\n  }\n\n  /**\n   * @param {WebGLRenderingContext} gl\n   * @param {number} target An enum describing the type of this buffer; one of:\n   *   - gl.TEXTURE_2D,\n   *   - gl.TEXTURE_CUBE_MAP.\n   * @param {number} uniformSize\n   * @param {ProgramWrapper} programWrapper\n   * @returns {Function.<*>}\n   * @private\n   */\n  _getUniformTextureArraySetter(gl, target, uniformSize, programWrapper) {\n    const textureUnitIndices =\n        Array.from({length: uniformSize}, _ => programWrapper.baseTextureUnitIndex++);\n\n    return textures => {\n      textures.forEach((texture, index) => {\n        gl.activeTexture(gl.TEXTURE0 + textureUnitIndices[index]);\n        gl.bindTexture(target, texture);\n      });\n      gl.uniform1iv(this._location, textureUnitIndices);\n    };\n  }\n\n  /**\n   * @param {WebGLRenderingContext} gl\n   * @param {number} target An enum describing the type of this buffer; one of:\n   *   - gl.TEXTURE_2D,\n   *   - gl.TEXTURE_CUBE_MAP.\n   * @param {number} textureUnitIndex\n   * @returns {Function.<*>}\n   * @private\n   */\n  _getUniformTextureSetter(gl, target, textureUnitIndex) {\n    return texture => {\n      gl.activeTexture(gl.TEXTURE0 + textureUnitIndex);\n      gl.bindTexture(target, texture);\n      gl.uniform1i(this._location, textureUnitIndex);\n    };\n  }\n}\n\nexport {UniformSetter};\n","import {renderableShapeFactory} from './src/renderable-shape-factory';\n\nimport {capsuleRenderableShapeFactory} from './src/shape-configs/capsule-renderable-shape';\nimport {cubeRenderableShapeFactory} from './src/shape-configs/cube-renderable-shape';\nimport {icosahedronRenderableShapeFactory} from './src/shape-configs/icosahedron-renderable-shape';\nimport {icosphereRenderableShapeFactory} from './src/shape-configs/icosphere-renderable-shape';\nimport {latLongSphereRenderableShapeFactory} from './src/shape-configs/lat-long-sphere-renderable-shape';\nimport {tetrahedronRenderableShapeFactory} from './src/shape-configs/tetrahedron-renderable-shape';\n\n[\n  capsuleRenderableShapeFactory,\n  cubeRenderableShapeFactory,\n  icosahedronRenderableShapeFactory,\n  icosphereRenderableShapeFactory,\n  latLongSphereRenderableShapeFactory,\n  tetrahedronRenderableShapeFactory\n].forEach(renderableShapeFactory.registerRenderableShapeFactory);\n\nexport * from './src/shape-configs/capsule-renderable-shape';\nexport * from './src/shape-configs/cube-renderable-shape';\nexport * from './src/shape-configs/icosahedron-renderable-shape';\nexport * from './src/shape-configs/icosphere-renderable-shape';\nexport * from './src/shape-configs/lat-long-sphere-renderable-shape';\nexport * from './src/shape-configs/tetrahedron-renderable-shape';\n\nexport * from './src/renderable-shape-factory';\nexport * from './src/renderable-shape-store';\n","import {DefaultModel} from '../../models';\nimport {renderableShapeStore} from './renderable-shape-store';\n\n/**\n * This module defines a factory for DefaultRigidModal instances that are based on the various\n * pre-defined renderable shapes in this directory.\n */\n\nconst renderableShapeFactory = {\n  /**\n   * @param {WebGLRenderingContext} gl\n   * @param {RenderableShapeConfig} params\n   * @returns {DefaultModel}\n   */\n  createModel: (gl, params) => {\n    const shapeConfig = renderableShapeFactory.getRenderableShape(params);\n    return new DefaultModel(gl, shapeConfig);\n  },\n\n  /**\n   * @param {RenderableShapeConfig} params\n   * @returns {RenderableShape}\n   */\n  getRenderableShape: params => {\n    params.isUsingSphericalNormals = params.isUsingSphericalNormals || false;\n    params.divisionsCount = typeof params.divisionsCount === 'number' ? params.divisionsCount : 0;\n\n    let shapeConfig = renderableShapeStore.getShape(params);\n    if (!shapeConfig) {\n      shapeConfig = _shapeIdsToRenderableShapeFactories[params.shapeId].getRenderableShape(params);\n      _updateTextureCoordinatesSpan(shapeConfig, params.textureSpan);\n      renderableShapeStore.registerShape(shapeConfig, params);\n    }\n    return shapeConfig;\n  },\n\n  /**\n   * @param {RenderableShapeFactory} shapeConfigFactory\n   */\n  registerRenderableShapeFactory: shapeConfigFactory => {\n    _shapeIdsToRenderableShapeFactories[shapeConfigFactory.shapeId] = shapeConfigFactory;\n    renderableShapeStore.registerRenderableShapeFactory(shapeConfigFactory);\n  }\n};\n\nconst _shapeIdsToRenderableShapeFactories = {};\n\n/**\n * @param {RenderableShape} shapeConfig\n * @param {TextureSpan} textureSpan\n * @private\n */\nfunction _updateTextureCoordinatesSpan(shapeConfig, textureSpan) {\n  if (!textureSpan) return;\n\n  const minX = textureSpan.minX;\n  const minY = textureSpan.minY;\n  const rangeX = textureSpan.maxX - textureSpan.minX;\n  const rangeY = textureSpan.maxY - textureSpan.minY;\n\n  const textureCoordinates = shapeConfig.textureCoordinates.slice();\n  shapeConfig.textureCoordinates = textureCoordinates;\n\n  for (let i = 0, count = textureCoordinates.length; i < count; i += 2) {\n    textureCoordinates[i] = minX + rangeX * textureCoordinates[i];\n    textureCoordinates[i + 1] = minY + rangeY * textureCoordinates[i + 1];\n  }\n}\n\nexport {renderableShapeFactory};\n\n/**\n * @typedef {Object} RenderableShapeFactory\n * @property {string} shapeId\n * @property {Function.<RenderableShape>} getRenderableShape\n * @property {Function.<String>} getCacheId\n */\n\n/**\n * @typedef {Object} RenderableShape\n * @property {Array.<Number>} vertexPositions\n * @property {Array.<Number>} vertexNormals\n * @property {Array.<Number>} textureCoordinates\n * @property {Array.<Number>} [vertexIndices]\n * @property {number} elementCount\n */\n\n/**\n * @typedef {Object} TextureSpan\n * @property {number} minX\n * @property {number} minY\n * @property {number} maxX\n * @property {number} maxY\n */\n\n/**\n * @typedef {Object} RenderableShapeConfig\n * @property {string} shapeId The ID of the type of renderable shape.\n * @property {boolean} [isUsingSphericalNormals=false] Whether light reflections should show sharp\n * edges.\n * @property {TextureSpan} [textureSpan] For indicating how much a texture should repeat in both axes.\n * A range of 0-0.5 should show half the texture. A range of 0-2 would show the texture twice. The\n * default is 0-1 in both directions.\n * @property {vec3} [scale]\n */\n\n/**\n * @typedef {RenderableShapeConfig} SphericalRenderableShapeParams\n * @property {number} divisionsCount How many times to sub-divide the sphere.\n */\n","/**\n * This class caches renderable shape data.\n */\nclass RenderableShapeStore {\n  constructor() {\n    this._shapeCache = new Map();\n  }\n\n  /**\n   * @param {RenderableShapeConfig} params\n   * @returns {RenderableShape}\n   */\n  getShape(params) {\n    const key = _shapeIdsToCacheKeyCalculators[params.shapeId](params);\n    return this._shapeCache.get(key);\n  }\n\n  /**\n   * Caches the given shape info.\n   *\n   * @param {RenderableShape} shapeConfig\n   * @param {RenderableShapeConfig} params\n   */\n  registerShape(shapeConfig, params) {\n    const key = _shapeIdsToCacheKeyCalculators[params.shapeId](params);\n    this._shapeCache.set(key, shapeConfig);\n  }\n\n  /**\n   * @param {RenderableShapeFactory} shapeConfigFactory\n   */\n  registerRenderableShapeFactory(shapeConfigFactory) {\n    _shapeIdsToCacheKeyCalculators[shapeConfigFactory.shapeId] = shapeConfigFactory.getCacheId;\n  }\n\n  // TODO: Add support for un-registering shapes.\n}\n\n/**\n * @param {RenderableShapeConfig} params\n * @returns {string}\n */\nfunction getCacheKey(params) {\n  const textureSpanStr = params.textureSpan\n      ? `:${params.textureSpan.minX},${params.textureSpan.minY},${params.textureSpan.maxX},` +\n  `${params.textureSpan.maxY}`\n      : '';\n\n  return `${params.shapeId}:${params.isUsingSphericalNormals}${textureSpanStr}`;\n}\n\nconst _shapeIdsToCacheKeyCalculators = {};\n\nconst renderableShapeStore = new RenderableShapeStore();\nexport {renderableShapeStore, getCacheKey};\n","/**\n * This module defines a configuration factory for a capsule shape.\n *\n * The shape is centered around the origin with the poles aligned with the z-axis.\n */\n\nimport {\n  calculateSphericalSection,\n  calculateOrthogonalVertexNormals,\n  dedupVertexArrayWithPositionsAndIndicesArrays,\n  calculateLatLongTextureCoordinates,\n  calculateCylindricalSection,\n  calculateCylindricalTextureCoordinates,\n  TWO_PI,\n} from '../../../util';\nimport {getCacheKey} from '../renderable-shape-store';\n\n// TODO: Once I have a better camera in place, test that these texture coordinate calculations are\n// correct.\n\n/**\n * @param {CapsuleRenderableShapeParams} params\n * @returns {RenderableShape}\n */\nfunction _calculateCapsuleTopShape(params) {\n  // Calculate the positions.\n  // TODO: This uses lat-long spheres for the ends of the capsule. Use icospheres instead.\n  const individualVertexPositions = calculateSphericalSection(\n      0, params.divisionsCount / 2, Math.PI / params.divisionsCount,\n      0, params.divisionsCount, TWO_PI / params.divisionsCount);\n\n  // Calculate the indices and normals.\n  let vertexPositions;\n  let vertexIndices;\n  let vertexNormals;\n  if (!params.isUsingSphericalNormals) {\n    // If we use orthogonal normals, then we cannot use vertexIndices.\n    vertexPositions = individualVertexPositions;\n    vertexIndices = null;\n    vertexNormals = calculateOrthogonalVertexNormals(vertexPositions);\n  } else {\n    ({vertexPositions, vertexIndices} = dedupVertexArrayWithPositionsAndIndicesArrays(\n        individualVertexPositions));\n    vertexNormals = vertexPositions;\n  }\n\n  const textureCoordinates = calculateLatLongTextureCoordinates(vertexPositions);\n\n  let scale;\n  let translation;\n\n  // Scale and translate the positions.\n  scale = params.radius;\n  translation = params.capsuleEndPointsDistance / 2;\n  for (let i = 0, count = vertexPositions.length; i < count; i += 3) {\n    vertexPositions[i] *= scale;\n    vertexPositions[i + 1] *= scale;\n    vertexPositions[i + 2] = vertexPositions[i + 2] * scale + translation;\n  }\n\n  // Scale and translate the texture coordinates.\n  scale = params.radius / (params.radius + params.capsuleEndPointsDistance);\n  translation = 1 - scale;\n  for (let i = 1, count = textureCoordinates.length; i < count; i += 2) {\n    textureCoordinates[i] = textureCoordinates[i] * scale + translation;\n  }\n\n  const elementCount = vertexIndices ? vertexIndices.length : vertexPositions.length / 3;\n\n  return {\n    vertexPositions: vertexPositions,\n    vertexNormals: vertexNormals,\n    textureCoordinates: textureCoordinates,\n    vertexIndices: vertexIndices,\n    elementCount: elementCount\n  };\n}\n\n/**\n * @param {CapsuleRenderableShapeParams} params\n * @returns {RenderableShape}\n */\nfunction _calculateCapsuleBottomShape(params) {\n  // Calculate the positions.\n  // TODO: This uses lat-long spheres for the ends of the capsule. Use icospheres instead.\n  const individualVertexPositions = calculateSphericalSection(\n      params.divisionsCount / 2, params.divisionsCount, Math.PI / params.divisionsCount,\n      0, params.divisionsCount, TWO_PI / params.divisionsCount);\n\n  // Calculate the indices and normals.\n  let vertexPositions;\n  let vertexIndices;\n  let vertexNormals;\n  if (!params.isUsingSphericalNormals) {\n    // If we use orthogonal normals, then we cannot use vertexIndices.\n    vertexPositions = individualVertexPositions;\n    vertexIndices = null;\n    vertexNormals = calculateOrthogonalVertexNormals(vertexPositions);\n  } else {\n    const positionsAndIndices = dedupVertexArrayWithPositionsAndIndicesArrays(\n        individualVertexPositions);\n    vertexPositions = positionsAndIndices.vertexPositions;\n    vertexIndices = positionsAndIndices.vertexIndices;\n    vertexNormals = vertexPositions;\n  }\n\n  const textureCoordinates = calculateLatLongTextureCoordinates(vertexPositions);\n\n  let scale;\n  let translation;\n\n  // Scale and translate the positions.\n  scale = params.radius;\n  translation = -params.capsuleEndPointsDistance / 2;\n  for (let i = 0, count = vertexPositions.length; i < count; i += 3) {\n    vertexPositions[i] *= scale;\n    vertexPositions[i + 1] *= scale;\n    vertexPositions[i + 2] = vertexPositions[i + 2] * scale + translation;\n  }\n\n  // Scale and translate the texture coordinates.\n  scale = params.radius / (params.radius + params.capsuleEndPointsDistance);\n  translation = 0;\n  for (let i = 1, count = textureCoordinates.length; i < count; i += 2) {\n    textureCoordinates[i] = textureCoordinates[i] * scale + translation;\n  }\n\n  const elementCount = vertexIndices ? vertexIndices.length : vertexPositions.length / 3;\n\n  return {\n    vertexPositions: vertexPositions,\n    vertexNormals: vertexNormals,\n    textureCoordinates: textureCoordinates,\n    vertexIndices: vertexIndices,\n    elementCount: elementCount\n  };\n}\n\n/**\n * @param {CapsuleRenderableShapeParams} params\n * @returns {RenderableShape}\n */\nfunction _calculateCapsuleMiddleShape(params) {\n  let scale;\n  let translation;\n\n  // Calculate the positions.\n  translation = params.capsuleEndPointsDistance / 2;\n  const individualVertexPositions = calculateCylindricalSection(\n      -translation, translation, 0, params.divisionsCount, TWO_PI / params.divisionsCount);\n\n  let vertexPositions;\n  let vertexIndices;\n  let vertexNormals;\n\n  // Calculate the vertex indices and normals.\n  if (!params.isUsingSphericalNormals) {\n    // If we use orthogonal normals, then we cannot use vertexIndices.\n    vertexPositions = individualVertexPositions;\n    vertexIndices = null;\n    vertexNormals = calculateOrthogonalVertexNormals(vertexPositions);\n  } else {\n    const positionsAndIndices = dedupVertexArrayWithPositionsAndIndicesArrays(\n        individualVertexPositions);\n    vertexPositions = positionsAndIndices.vertexPositions;\n    vertexIndices = positionsAndIndices.vertexIndices;\n\n    // Calculate the vertex normals.\n    vertexNormals = vertexPositions.map((coord, index) => index % 3 === 2 ? 0 : coord);\n  }\n\n  // Calculate the texture coordinates.\n  const textureCoordinates = calculateCylindricalTextureCoordinates(vertexPositions);\n\n  // Scale the x and y position coordinates.\n  scale = params.radius;\n  for (let i = 0, count = vertexPositions.length; i < count; i += 3) {\n    vertexPositions[i] *= scale;\n    vertexPositions[i + 1] *= scale;\n  }\n\n  // Scale and translate the texture coordinates.\n  scale = params.capsuleEndPointsDistance / (params.radius + params.capsuleEndPointsDistance);\n  translation = (1 - scale) / 2;\n  for (let i = 1, count = textureCoordinates.length; i < count; i += 2) {\n    textureCoordinates[i] = textureCoordinates[i] * scale + translation;\n  }\n\n  const elementCount = vertexIndices ? vertexIndices.length : vertexPositions.length / 3;\n\n  return {\n    vertexPositions: vertexPositions,\n    vertexNormals: vertexNormals,\n    textureCoordinates: textureCoordinates,\n    vertexIndices: vertexIndices,\n    elementCount: elementCount\n  };\n}\n\nconst capsuleRenderableShapeFactory = {\n  shapeId: 'CAPSULE',\n\n  /**\n   * @param {CapsuleRenderableShapeParams} params\n   * @returns {RenderableShape}\n   */\n  getRenderableShape: (params) => {\n    // Ensure the divisions count is even.\n    if (params.divisionsCount % 2 === 1) {\n      params.divisionsCount++;\n    }\n\n    // The capsule's sub-shapes.\n    const topShape = _calculateCapsuleTopShape(params);\n    const bottomShape = _calculateCapsuleBottomShape(params);\n    const middleShape = _calculateCapsuleMiddleShape(params);\n\n    // Concatenate positions, normals, texture coordinates, and indices.\n    const vertexPositions = topShape.vertexPositions.concat(middleShape.vertexPositions, \n        bottomShape.vertexPositions);\n    const vertexNormals = topShape.vertexNormals.concat(middleShape.vertexNormals,\n        bottomShape.vertexNormals);\n    const textureCoordinates = topShape.textureCoordinates.concat(middleShape.textureCoordinates,\n        bottomShape.textureCoordinates);\n    const vertexIndices = topShape.vertexIndices\n        ? topShape.vertexIndices.concat(middleShape.vertexIndices, bottomShape.vertexIndices)\n        : null;\n    const elementCount = topShape.elementCount + middleShape.elementCount + bottomShape.elementCount;\n\n    return {\n      vertexPositions: vertexPositions,\n      vertexNormals: vertexNormals,\n      textureCoordinates: textureCoordinates,\n      vertexIndices: vertexIndices,\n      elementCount: elementCount\n    };\n  },\n\n  /**\n   * @param {CapsuleRenderableShapeParams} params\n   * @returns {string}\n   */\n  getCacheId(params) {\n    return `${getCacheKey(params)}:${params.divisionsCount}`;\n  }\n};\n\nexport {capsuleRenderableShapeFactory};\n\n/**\n * @typedef {SphericalRenderableShapeParams} CapsuleRenderableShapeParams\n * @property {number} radius\n * @property {number} capsuleEndPointsDistance The distance between the centers of the spheres on\n * either end of the capsule.\n */\n","/**\n * This model defines a shape configuration factory for a cube.\n *\n * This cube is one unit long on each side.\n */\n\nimport {getCacheKey} from '../renderable-shape-store';\n\nconst VERTEX_COORDINATE = 0.5;\n\nconst vertexPositions = [\n  // Front face\n  -VERTEX_COORDINATE, -VERTEX_COORDINATE, VERTEX_COORDINATE,\n  VERTEX_COORDINATE,  -VERTEX_COORDINATE, VERTEX_COORDINATE,\n  VERTEX_COORDINATE,  VERTEX_COORDINATE,  VERTEX_COORDINATE,\n  -VERTEX_COORDINATE, VERTEX_COORDINATE,  VERTEX_COORDINATE,\n  // Back face\n  -VERTEX_COORDINATE, -VERTEX_COORDINATE, -VERTEX_COORDINATE,\n  -VERTEX_COORDINATE, VERTEX_COORDINATE,  -VERTEX_COORDINATE,\n  VERTEX_COORDINATE,  VERTEX_COORDINATE,  -VERTEX_COORDINATE,\n  VERTEX_COORDINATE,  -VERTEX_COORDINATE, -VERTEX_COORDINATE,\n  // Top face\n  -VERTEX_COORDINATE, VERTEX_COORDINATE,  -VERTEX_COORDINATE,\n  -VERTEX_COORDINATE, VERTEX_COORDINATE,  VERTEX_COORDINATE,\n  VERTEX_COORDINATE,  VERTEX_COORDINATE,  VERTEX_COORDINATE,\n  VERTEX_COORDINATE,  VERTEX_COORDINATE,  -VERTEX_COORDINATE,\n  // Bottom face\n  -VERTEX_COORDINATE, -VERTEX_COORDINATE, -VERTEX_COORDINATE,\n  VERTEX_COORDINATE,  -VERTEX_COORDINATE, -VERTEX_COORDINATE,\n  VERTEX_COORDINATE,  -VERTEX_COORDINATE, VERTEX_COORDINATE,\n  -VERTEX_COORDINATE, -VERTEX_COORDINATE, VERTEX_COORDINATE,\n  // Right face\n  VERTEX_COORDINATE,  -VERTEX_COORDINATE, -VERTEX_COORDINATE,\n  VERTEX_COORDINATE,  VERTEX_COORDINATE,  -VERTEX_COORDINATE,\n  VERTEX_COORDINATE,  VERTEX_COORDINATE,  VERTEX_COORDINATE,\n  VERTEX_COORDINATE,  -VERTEX_COORDINATE, VERTEX_COORDINATE,\n  // Left face\n  -VERTEX_COORDINATE, -VERTEX_COORDINATE, -VERTEX_COORDINATE,\n  -VERTEX_COORDINATE, -VERTEX_COORDINATE, VERTEX_COORDINATE,\n  -VERTEX_COORDINATE, VERTEX_COORDINATE,  VERTEX_COORDINATE,\n  -VERTEX_COORDINATE, VERTEX_COORDINATE,  -VERTEX_COORDINATE\n];\n\nconst orthogonalVertexNormals = [\n  // Front face\n  0, 0, 1,\n  0, 0, 1,\n  0, 0, 1,\n  0, 0, 1,\n  // Back face\n  0, 0, -1,\n  0, 0, -1,\n  0, 0, -1,\n  0, 0, -1,\n  // Top face\n  0, 1, 0,\n  0, 1, 0,\n  0, 1, 0,\n  0, 1, 0,\n  // Bottom face\n  0, -1, 0,\n  0, -1, 0,\n  0, -1, 0,\n  0, -1, 0,\n  // Right face\n  1, 0, 0,\n  1, 0, 0,\n  1, 0, 0,\n  1, 0, 0,\n  // Left face\n  -1, 0, 0,\n  -1, 0, 0,\n  -1, 0, 0,\n  -1, 0, 0\n];\n\nconst textureCoordinates = [\n  // Front face\n  1, 0,\n  0, 0,\n  0, 1,\n  1, 1,\n  // Back face\n  1, 0,\n  0, 0,\n  0, 1,\n  1, 1,\n  // Top face\n  1, 0,\n  0, 0,\n  0, 1,\n  1, 1,\n  // Bottom face\n  1, 0,\n  0, 0,\n  0, 1,\n  1, 1,\n  // Right face\n  1, 0,\n  0, 0,\n  0, 1,\n  1, 1,\n  // Left face\n  1, 0,\n  0, 0,\n  0, 1,\n  1, 1\n];\n\n// This array defines each face as two triangles, using the indices into the vertex array\n// to specify each triangle's position.\nconst vertexIndices = [\n  // Front face\n  0,  1,  2,\n  0,  2,  3,\n  // Back face\n  4,  5,  6,\n  4,  6,  7,\n  // Top face\n  8,  9,  10,\n  8,  10, 11,\n  // Bottom face\n  12, 13, 14,\n  12, 14, 15,\n  // Right face\n  16, 17, 18,\n  16, 18, 19,\n  // Left face\n  20, 21, 22,\n  20, 22, 23\n];\n\nconst cubeRenderableShapeFactory = {\n  shapeId: 'CUBE',\n\n  /**\n   * @param {RenderableShapeConfig} params\n   * @returns {RenderableShape}\n   */\n  getRenderableShape: params => {\n    const vertexNormals = params.isUsingSphericalNormals ? vertexPositions : orthogonalVertexNormals;\n\n    return {\n      vertexPositions: vertexPositions,\n      vertexNormals: vertexNormals,\n      textureCoordinates: textureCoordinates,\n      vertexIndices: vertexIndices,\n      elementCount: vertexIndices.length\n    };\n  },\n\n  /**\n   * @param {RenderableShapeConfig} params\n   * @returns {string}\n   */\n  getCacheId(params) {\n    return getCacheKey(params);\n  }\n};\n\nexport {cubeRenderableShapeFactory};\n","/**\n * This model defines a shape configuration factory for a regular icosahedron.\n *\n * The shape is centered around the origin.\n */\n\nimport {\n  calculateLatLongTextureCoordinates,\n  calculateOrthogonalVertexNormals,\n  expandVertexIndicesAroundLongitudeSeam,\n  expandVertexIndicesToDuplicatePositions,\n} from '../../../util';\nimport {getCacheKey} from '../renderable-shape-store';\n\n// The corners of a unit icosahedron with vertices aligned with the y-axis.\nconst individualVertexPositions = [\n  -0.525731086730957, -0.7236068248748779, 0.4472135901451111,\n  0.525731086730957, -0.7236068248748779, 0.4472135901451111,\n  -0.525731086730957, 0.7236068248748779, -0.4472135901451111,\n  0.525731086730957, 0.7236068248748779, -0.4472135901451111,\n  0, 0, 1,\n  0, 0.8944271802902222, 0.44721361994743347,\n  0, -0.8944271802902222, -0.44721361994743347,\n  0, 0, -1,\n  0.8506508469581604, 0.27639320492744446, 0.4472135901451111,\n  -0.8506508469581604, 0.27639320492744446, 0.4472135901451111,\n  0.8506508469581604, -0.27639320492744446, -0.4472135901451111,\n  -0.8506508469581604, -0.27639320492744446, -0.4472135901451111\n];\n\nconst individualVertexIndices = [\n  1,  4,  0,\n  4,  9,  0,\n  4,  5,  9,\n  8,  5,  4,\n  1,  8,  4,\n  1,  10, 8,\n  10, 3,  8,\n  8,  3,  5,\n  3,  2,  5,\n  3,  7,  2,\n  3,  10, 7,\n  10, 6,  7,\n  6,  11, 7,\n  6,  0,  11,\n  6,  1,  0,\n  10, 1,  6,\n  11, 0,  9,\n  2,  11, 9,\n  5,  2,  9,\n  11, 2,  7\n];\n\nlet vertexPositionsExpandedAroundSeam = null;\nlet vertexIndicesExpandedAroundSeam = null;\nlet textureCoordinates = null;\n\nconst icosahedronRenderableShapeFactory = {\n  shapeId: 'ICOSAHEDRON',\n\n  /**\n   * @param {RenderableShapeConfig} params\n   * @returns {RenderableShape}\n   */\n  getRenderableShape: params => {\n    let vertexPositions;\n    let vertexIndices;\n\n    if (!vertexPositionsExpandedAroundSeam) {\n      // Calculate the modified positions and indices.\n      const positionsAndIndices = expandVertexIndicesAroundLongitudeSeam(\n          individualVertexPositions, individualVertexIndices);\n      vertexPositionsExpandedAroundSeam = positionsAndIndices.vertexPositions;\n      vertexIndicesExpandedAroundSeam = positionsAndIndices.vertexIndices;\n    }\n\n    vertexPositions = vertexPositionsExpandedAroundSeam;\n    vertexIndices = vertexIndicesExpandedAroundSeam;\n\n    let vertexNormals;\n    // If we use orthogonal normals, then we cannot use vertexIndices.\n    if (!params.isUsingSphericalNormals) {\n      vertexPositions = expandVertexIndicesToDuplicatePositions(vertexPositions,\n          vertexIndices);\n      vertexIndices = null;\n      vertexNormals = calculateOrthogonalVertexNormals(vertexPositions);\n    } else {\n      vertexNormals = vertexPositions;\n    }\n\n    textureCoordinates = textureCoordinates\n        ? textureCoordinates\n        : calculateLatLongTextureCoordinates(vertexPositions);\n\n    const elementCount = vertexIndices ? vertexIndices.length : vertexPositions.length / 3;\n\n    return {\n      vertexPositions: vertexPositions,\n      vertexNormals: vertexNormals,\n      textureCoordinates: textureCoordinates,\n      vertexIndices: vertexIndices,\n      elementCount: elementCount\n    };\n  },\n\n  /**\n   * @param {RenderableShapeConfig} params\n   * @returns {string}\n   */\n  getCacheId(params) {\n    return getCacheKey(params);\n  }\n};\n\nexport {icosahedronRenderableShapeFactory};\n","/**\n * This module defines logic that creates a spherical shape configuration by taking a shape,\n * sub-dividing each of its triangles, and projecting each new vertex onto the edge of a sphere.\n *\n * This is technically only an \"icosphere\" if the starting shape is an icosahedron.\n *\n * This shape also is known as a \"geosphere\".\n *\n * The shape is centered around the origin.\n */\n\nimport {\n  deepCopy,\n  calculateLatLongTextureCoordinates,\n  calculateOrthogonalVertexNormals,\n  expandVertexIndicesAroundLongitudeSeam,\n  expandVertexIndicesToDuplicatePositions,\n  tesselateSphere,\n} from '../../../util';\nimport {getCacheKey} from '../renderable-shape-store';\nimport {renderableShapeFactory} from '../renderable-shape-factory';\n\nconst icosphereRenderableShapeFactory = {\n  shapeId: 'ICOSPHERE',\n\n  /**\n   * @param {IcosphereRenderableShapeParams} params\n   * @returns {RenderableShape}\n   */\n  getRenderableShape: params => {\n    params.divisionsCount = Math.max(params.divisionsCount, 1);\n\n    const copyParams = deepCopy(params);\n    copyParams.shapeId = params.baseShapeId || 'ICOSAHEDRON';\n    const baseRenderableShape = renderableShapeFactory.getRenderableShape(copyParams);\n\n    // Calculate the positions and indices.\n    let {vertexPositions, vertexIndices} = tesselateSphere(params.divisionsCount,\n        baseRenderableShape.vertexPositions, baseRenderableShape.vertexIndices);\n    ({vertexPositions, vertexIndices} = expandVertexIndicesAroundLongitudeSeam(\n        vertexPositions, vertexIndices));\n\n    let vertexNormals;\n    // If we use orthogonal normals, then we cannot use vertexIndices.\n    if (!params.isUsingSphericalNormals) {\n      vertexPositions = expandVertexIndicesToDuplicatePositions(vertexPositions,\n          vertexIndices);\n      vertexIndices = null;\n      vertexNormals = calculateOrthogonalVertexNormals(vertexPositions);\n    } else {\n      vertexNormals = vertexPositions;\n    }\n\n    const textureCoordinates = calculateLatLongTextureCoordinates(vertexPositions);\n\n    const elementCount = vertexIndices ? vertexIndices.length : vertexPositions.length / 3;\n\n    return {\n      vertexPositions: vertexPositions,\n      vertexNormals: vertexNormals,\n      textureCoordinates: textureCoordinates,\n      vertexIndices: vertexIndices,\n      elementCount: elementCount\n    };\n  },\n\n  /**\n   * @param {IcosphereRenderableShapeParams} params\n   * @returns {string}\n   */\n  getCacheId(params) {\n    return `${getCacheKey(params)}:${params.divisionsCount}`;\n  }\n};\n\nexport {icosphereRenderableShapeFactory};\n\n/**\n * @typedef {SphericalRenderableShapeParams} IcosphereRenderableShapeParams\n * @property {string} baseShapeId The ID of the base renderable shape that will be sub-divided to\n * create this icosphere shape.\n */\n","import {\n  calculateLatLongTextureCoordinates,\n  calculateOrthogonalVertexNormals,\n  calculateSphericalSection,\n  dedupVertexArrayWithPositionsAndIndicesArrays,\n  TWO_PI,\n} from '../../../util';\nimport {getCacheKey} from '../renderable-shape-store';\n\n/**\n * This module defines a configuration factory for a spherical shape whose vertices lie along\n * latitude and longitude lines.\n *\n * This shape also is known as a \"UV sphere\".\n *\n * The shape is centered around the origin with the poles aligned with the z-axis.\n */\n\n/**\n * @param {number} divisionsCount\n * @returns {Array.<Number>}\n * @private\n */\nfunction _calculateLatLongSpherePositions(divisionsCount) {\n  const deltaPitch = Math.PI / divisionsCount;\n  const deltaAzimuth = TWO_PI / divisionsCount;\n\n  return calculateSphericalSection(\n      0, divisionsCount, deltaPitch,\n      0, divisionsCount, deltaAzimuth);\n}\n\nconst latLongSphereRenderableShapeFactory = {\n  shapeId: 'LAT_LONG_SPHERE',\n\n  /**\n   * @param {SphericalRenderableShapeParams} params\n   * @returns {RenderableShape}\n   */\n  getRenderableShape: params => {\n    // Calculate the positions.\n    const individualVertexPositions = _calculateLatLongSpherePositions(params.divisionsCount);\n\n    // Calculate the indices and normals.\n    let vertexPositions;\n    let vertexIndices;\n    let vertexNormals;\n    if (!params.isUsingSphericalNormals) {\n      // If we use orthogonal normals, then we cannot use vertexIndices.\n      vertexPositions = individualVertexPositions;\n      vertexIndices = null;\n      vertexNormals = calculateOrthogonalVertexNormals(vertexPositions);\n    } else {\n      ({vertexPositions, vertexIndices} = dedupVertexArrayWithPositionsAndIndicesArrays(\n          individualVertexPositions));\n      vertexNormals = vertexPositions;\n    }\n\n    const textureCoordinates = calculateLatLongTextureCoordinates(vertexPositions);\n\n    const elementCount = vertexIndices ? vertexIndices.length : vertexPositions.length / 3;\n\n    return {\n      vertexPositions: vertexPositions,\n      vertexNormals: vertexNormals,\n      textureCoordinates: textureCoordinates,\n      vertexIndices: vertexIndices,\n      elementCount: elementCount\n    };\n  },\n\n  /**\n   * @param {SphericalRenderableShapeParams} params\n   * @returns {string}\n   */\n  getCacheId(params) {\n    return `${getCacheKey(params)}:${params.divisionsCount}`;\n  }\n};\n\nexport {latLongSphereRenderableShapeFactory};\n","import {calculateOrthogonalVertexNormals} from '../../../util';\nimport {getCacheKey} from '../renderable-shape-store';\n\n/**\n * This model defines a shape configuration factory for a regular tetrahedron.\n *\n * The shape is centered around the origin.\n */\n\n// ||(VERTEX_COORDINATE, VERTEX_COORDINATE, VERTEX_COORDINATE)|| = 1\nconst VERTEX_COORDINATE = 0.5773502588272095;\n\nconst vertexPositions = [\n  // Left-top-near face\n  VERTEX_COORDINATE,  VERTEX_COORDINATE,  VERTEX_COORDINATE,\n  -VERTEX_COORDINATE, -VERTEX_COORDINATE, VERTEX_COORDINATE,\n  -VERTEX_COORDINATE, VERTEX_COORDINATE,  -VERTEX_COORDINATE,\n\n  // Right-top-far face\n  VERTEX_COORDINATE,  VERTEX_COORDINATE,  VERTEX_COORDINATE,\n  -VERTEX_COORDINATE, VERTEX_COORDINATE,  -VERTEX_COORDINATE,\n  VERTEX_COORDINATE,  -VERTEX_COORDINATE, -VERTEX_COORDINATE,\n\n  // Right-bottom-near face\n  VERTEX_COORDINATE,  VERTEX_COORDINATE,  VERTEX_COORDINATE,\n  VERTEX_COORDINATE,  -VERTEX_COORDINATE, -VERTEX_COORDINATE,\n  -VERTEX_COORDINATE, -VERTEX_COORDINATE, VERTEX_COORDINATE,\n\n  // Left-bottom-far face\n  -VERTEX_COORDINATE, -VERTEX_COORDINATE, VERTEX_COORDINATE,\n  VERTEX_COORDINATE, -VERTEX_COORDINATE, -VERTEX_COORDINATE,\n  -VERTEX_COORDINATE, VERTEX_COORDINATE, -VERTEX_COORDINATE\n];\n\n// 1 - Math.sqrt(3) / 2\nconst TEXTURE_BASE_COORDINATE = 0.13397459621;\n\nconst textureCoordinates = [\n  // Left-top-near face\n  0, TEXTURE_BASE_COORDINATE,\n  0.5, 1,\n  1, TEXTURE_BASE_COORDINATE,\n\n  // Right-top-far face\n  0, TEXTURE_BASE_COORDINATE,\n  0.5, 1,\n  1, TEXTURE_BASE_COORDINATE,\n\n  // Right-bottom-near face\n  0, TEXTURE_BASE_COORDINATE,\n  0.5, 1,\n  1, TEXTURE_BASE_COORDINATE,\n\n  // Left-bottom-far face\n  0, TEXTURE_BASE_COORDINATE,\n  0.5, 1,\n  1, TEXTURE_BASE_COORDINATE\n];\n\nconst tetrahedronRenderableShapeFactory = {\n  shapeId: 'TETRAHEDRON',\n\n  /**\n   * @param {RenderableShapeConfig} params\n   * @returns {RenderableShape}\n   */\n  getRenderableShape: params => {\n    const vertexNormals = params.isUsingSphericalNormals\n        ? vertexPositions\n        : calculateOrthogonalVertexNormals(vertexPositions);\n\n    return {\n      vertexPositions: vertexPositions,\n      vertexNormals: vertexNormals,\n      textureCoordinates: textureCoordinates,\n      vertexIndices: null,\n      elementCount: vertexPositions.length / 3\n    };\n  },\n\n  /**\n   * @param {RenderableShapeConfig} params\n   * @returns {string}\n   */\n  getCacheId(params) {\n    return getCacheKey(params);\n  }\n};\n\nexport {tetrahedronRenderableShapeFactory};\n","import {\n  animator,\n  PersistentAnimationJob\n}\nfrom 'lsl-animatex';\nimport { PhysicsEngine } from 'lsl-physx';\nimport {\n  ProgramWrapper,\n  programWrapperStore,\n  textureStore\n}\nfrom '../program-wrapper';\nimport {\n  bindFramebuffer,\n  bindGLContextToViewportDimensions,\n  getWebGLContext,\n  getViewportHeight,\n  getViewportWidth,\n}\nfrom '../util';\n\n/**\n * This top-level Controller class initializes and runs the rest of the app.\n */\nclass GrafxController extends PersistentAnimationJob {\n  constructor() {\n    super();\n\n    this._canvas = null;\n    this._gl = null;\n    this._scene = null;\n    this._currentProgramWrapper = null;\n  }\n\n  /**\n   * Initializes the app. After this completes successfully, call run to actually start the app.\n   *\n   * @param {HTMLCanvasElement} canvas\n   * @param {Array.<ProgramWrapperConfig>} programConfigs Configurations for program wrappers that\n   * should be pre-cached before starting the rest of the app.\n   * @param {Array.<String>} texturePaths Texture images that should be pre-cached before\n   * starting the rest of the app.\n   * @param {Function.<Scene>} sceneFactory\n   * @returns {Promise}\n   */\n  initialize(canvas, programConfigs, texturePaths, sceneFactory) {\n    this._canvas = canvas;\n\n    return Promise.resolve()\n      .then(() => this._setUpWebGLContext())\n      .then(() => Promise.all([\n        this._preCachePrograms(programConfigs),\n        this._preCacheTextures(texturePaths)\n      ]))\n      .then(() => this._setUpScene(sceneFactory));\n  }\n\n  destroy() {}\n\n  reset() {\n    // FIXME: Will it be easier to replace this with initialize?\n    this._scene.reset();\n  }\n\n  /**\n   * Runs the app. This should be called after initialize.\n   *\n   * A few things happen if this is run in dev mode:\n   * - The draw and update steps of each frame are wrapped in a try/catch block.\n   * - This method returns a Promise that rejects if an error is throw during any update or draw\n   *   step and resolves when this controller has finished (currently never)\n   */\n  run() {\n    this._startAnimator();\n  }\n\n  _startAnimator() { // FIXME: Decouple physx\n    animator.startJob(PhysicsEngine.instance);\n    animator.startJob(this);\n  }\n\n  /**\n   * Updates the scene.\n   *\n   * This updates all of the current parameters for each component in the scene for the current\n   * frame. However, this does not render anything. Rendering is done by a following call to the\n   * draw function.\n   *\n   * @param {DOMHighResTimeStamp} currentTime\n   * @param {DOMHighResTimeStamp} deltaTime\n   */\n  update(currentTime, deltaTime) {\n    this._scene.updateSelfAndChildren(currentTime, deltaTime);\n  }\n\n  /**\n   * Draws the scene.\n   *\n   * This renders the current frame for all components in the scene. This assumes that all relevant\n   * parameter updates for this frame have already been computed by a previous call to _updateScene.\n   */\n  draw() {\n    // Clear the canvas before we start drawing on it.\n    this._gl.clear(this._gl.COLOR_BUFFER_BIT | this._gl.DEPTH_BUFFER_BIT);\n\n    // If we are using a post-processing program, then we need to render models to a framebuffer\n    // rather than directly to the canvas.\n    if (programWrapperStore.isUsingPostProcessingPrograms) {\n      bindFramebuffer(this._gl, programWrapperStore.modelsFramebuffer);\n      this._gl.clear(this._gl.COLOR_BUFFER_BIT | this._gl.DEPTH_BUFFER_BIT);\n    }\n\n    // Draw each program separately. This minimizes how many times we need to switch programs by\n    // grouping all of the draw calls for models that use the same program/shaders.\n    programWrapperStore.forEachModelProgram((programWrapper, drawFrameHandlers) =>\n      this._drawModelProgram(programWrapper, drawFrameHandlers));\n    programWrapperStore.forEachPostProcessingProgram(\n      (programWrapper) => this._drawPostProcessingProgram(programWrapper));\n  }\n\n  /**\n   * For the given program key, this binds the registered shader program to the GL rendering context\n   * and calls each of the registered draw-frame handlers.\n   *\n   * @param {ProgramWrapper|GroupProgramWrapper} programWrapper\n   * @param {Set.<Function>} [drawFrameHandlers]\n   * @private\n   */\n  _drawModelProgram(programWrapper, drawFrameHandlers) {\n    // Check whether we need to switch programs (always true if there is more than one program\n    // registered).\n    if (this._currentProgramWrapper !== programWrapper) {\n      programWrapper.setProgram(this._gl);\n      this._currentProgramWrapper = programWrapper;\n    }\n\n    // Call each of the draw-frame handlers that use the current rendering program.\n    drawFrameHandlers.forEach(drawFrameHandler => drawFrameHandler());\n  }\n\n  /**\n   * For the given program key, this binds the registered shader program to the GL rendering context\n   * and calls each of the registered draw-frame handlers.\n   *\n   * @param {ProgramWrapper|GroupProgramWrapper} programWrapper\n   * @private\n   */\n  _drawPostProcessingProgram(programWrapper) {\n    this._currentProgramWrapper = programWrapper;\n    programWrapper.draw(this._gl);\n  }\n\n  /**\n   * Initializes the WebGL rendering context.\n   *\n   * @private\n   */\n  _setUpWebGLContext() {\n    // Get the WebGL rendering context.\n    try {\n      this._gl = getWebGLContext(this._canvas);\n    }\n    catch (e) {\n      alert('WebGL is not supported by your browser! :(');\n      throw e;\n    }\n\n    // Have the canvas context match the resolution of the window's viewport.\n    bindGLContextToViewportDimensions(this._canvas, this._gl, () => this._updateAspectRatio());\n\n    // Clear everything to black.\n    this._gl.clearColor(0, 0, 0, 1);\n    this._gl.clearDepth(1);\n\n    // Enable depth testing.\n    this._gl.enable(this._gl.DEPTH_TEST);\n    this._gl.depthFunc(this._gl.LEQUAL);\n  }\n\n  /**\n   * Loads, compiles, caches, and initializes some rendering programs.\n   *\n   * @param {Array.<ProgramWrapperConfig>} programConfigs\n   * @returns {Promise}\n   * @private\n   */\n  _preCachePrograms(programConfigs) {\n    const promises =\n      programConfigs.map(config => programWrapperStore.loadProgramWrapper(this._gl, config));\n    return Promise.all(promises);\n  }\n\n  /**\n   * Loads, compiles, and caches some textures.\n   *\n   * @param {Array.<String>} texturePaths\n   * @returns {Promise}\n   * @private\n   */\n  _preCacheTextures(texturePaths) {\n    return Promise.all(texturePaths\n      .map(texturePath => textureStore.loadTexture(this._gl, texturePath)));\n  }\n\n  /**\n   * Initializes the scene.\n   *\n   * @param {Function.<Scene>} sceneFactory\n   * @returns {Promise}\n   * @abstract\n   * @protected\n   */\n  _setUpScene(sceneFactory) {\n    // Extending classes should implement this method.\n    throw new TypeError('Method not implemented');\n  }\n\n  /**\n   * @protected\n   */\n  _updateAspectRatio() {\n    this._scene.camera.aspectRatio = getViewportWidth() / getViewportHeight();\n    _resizeFramebuffersToMatchViewportSize(this._gl);\n  }\n\n  /**\n   * @returns {mat4}\n   * @protected\n   */\n  _getViewMatrix() {\n    return this._scene.camera.viewMatrix;\n  }\n\n  /**\n   * @returns {mat4}\n   * @protected\n   */\n  _getProjectionMatrix() {\n    return this._scene.camera.projectionMatrix;\n  }\n}\n\n/**\n * @param {WebGLRenderingContext} gl\n * @private\n */\nfunction _resizeFramebuffersToMatchViewportSize(gl) {\n  if (programWrapperStore.isUsingPostProcessingPrograms) {\n    const width = getViewportWidth();\n    const height = getViewportHeight();\n\n    // Update the per-model framebuffer texture.\n    const texture = programWrapperStore.modelsTexture;\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, width, height, 0, gl.RGBA, gl.UNSIGNED_BYTE, null);\n\n    // Update the per-model framebuffer depth render buffer.\n    const renderBuffer = programWrapperStore.modelsRenderBuffer;\n    gl.bindRenderbuffer(gl.RENDERBUFFER, renderBuffer);\n    gl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_COMPONENT16, width, height);\n\n    // Update the post-processing framebuffer textures.\n    programWrapperStore.forEachPostProcessingProgram(programWrapper => {\n      programWrapper.config.childrenFramebufferIds.forEach(id => {\n        const texture = programWrapperStore.getTexture(id);\n        gl.bindTexture(gl.TEXTURE_2D, texture);\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, width, height, 0, gl.RGBA, gl.UNSIGNED_BYTE, null);\n      });\n    });\n  }\n}\n\nexport { GrafxController };\n","/**\n * This class defines a light source.\n */\nclass Light {\n  constructor() {\n    // TODO\n  }\n\n  // TODO: Implement this.\n}\n\nexport {Light};\n","import { ModelGroupController } from '../models';\n\n/**\n * This class handles the overall scene.\n */\nclass Scene extends ModelGroupController {\n  /**\n   * @param {ModelGroupControllerConfig} modelControllerParams\n   */\n  constructor(modelControllerParams) {\n    super(modelControllerParams);\n\n    // Scene is an abstract class. It should not be instantiated directly.\n    if (new.target === Scene) {\n      throw new TypeError('Cannot construct Scene instances directly');\n    }\n\n    this._getWorldTransform = () => this.worldTransform;\n    this._lights = [];\n    this._camera = null;\n  }\n\n  reset() {\n    super.reset();\n    this._lights.forEach(light => light.reset());\n    this._camera.reset();\n  }\n\n  /**\n   * @param {DOMHighResTimeStamp} currentTime\n   * @param {DOMHighResTimeStamp} deltaTime\n   */\n  updateChildren(currentTime, deltaTime) {\n    super.updateChildren(currentTime, deltaTime);\n    this._camera.update(currentTime, deltaTime);\n  }\n\n  /** @returns {Camera} */\n  get camera() {\n    return this._camera;\n  }\n}\n\nexport { Scene };\n","export * from './src/geometry';\nexport * from './src/gl-util';\nexport * from './src/hash-map';\nexport * from './src/util';\n","/**\n * This module defines a collection of static geometry utility functions.\n */\n\nimport {randomFloatInRange} from './util';\n\nconst EPSILON = 0.0000001;\nconst DEG_TO_RAD_RATIO = Math.PI / 180;\nconst RAD_TO_DEG_RATIO = 180 / Math.PI;\nconst HALF_PI = Math.PI / 2;\nconst TWO_PI = Math.PI * 2;\n\n/**\n * @param {number} deg\n * @returns {number}\n */\nfunction degToRad(deg) {\n  return deg * DEG_TO_RAD_RATIO;\n}\n\n/**\n * @param {number} rad\n * @returns {number}\n */\nfunction radToDeg(rad) {\n  return rad * RAD_TO_DEG_RATIO;\n}\n\n/**\n * This checks whether two floating-point numbers are close enough that they could be equal if not\n * for round-off errors.\n *\n * @param {number} a\n * @param {number} b\n * @returns {boolean}\n */\nfunction areClose(a, b) {\n  const diff = a - b;\n  return (diff > 0 ? diff : -diff) < EPSILON;\n}\n\n/**\n * @param {vec3} a\n * @param {vec3} b\n * @returns {boolean}\n */\nfunction areVec3sEqual(a, b) {\n  return a[0] === b[0] &&\n      a[1] === b[1] &&\n      a[2] === b[2];\n}\n\n/**\n * @param {vec3} v\n * @returns {string}\n */\nfunction vec3ToString(v) {\n  return `(${v[0]},${v[1]},${v[2]})`;\n}\n\n/**\n * TODO: This finds a random point with uniform probability within a cubic area, which biases the resulting vector toward the corners of this cubic area. Re-write this to produce an unbiased vector.\n *\n * @param {number} [scale=1]\n * @returns {vec3}\n */\nfunction createRandomVec3(scale = 1) {\n  const v = vec3.create();\n  return setRandomVec3(v, scale);\n}\n\n/**\n * TODO: This finds a random point with uniform probability within a cubic area, which biases the resulting vector toward the corners of this cubic area. Re-write this to produce an unbiased vector.\n *\n * @param {vec3} v\n * @param {number} [scale=1]\n * @returns {vec3}\n */\nfunction setRandomVec3(v, scale = 1) {\n  vec3.set(v, Math.random() - 0.5, Math.random() - 0.5, Math.random() - 0.5);\n  vec3.normalize(v, v);\n  vec3.scale(v, v, scale);\n  return v;\n}\n\n/**\n * Calculates a vector that is orthogonal to the given vector.\n *\n * TODO: This finds a random point with uniform probability within a cubic area, which biases the resulting vector toward the corners of this cubic area. Re-write this to produce an unbiased vector.\n *\n * @param {vec3} basis\n * @param {number} [scale=1]\n * @returns {vec3}\n */\nfunction createRandomOrthogonalVec3(basis, scale = 1) {\n  const result = vec3.create();\n  return setRandomOrthogonalVec3(result, basis, scale);\n}\n\n/**\n * Calculates a vector that is orthogonal to the given vector.\n *\n * TODO: This finds a random point with uniform probability within a cubic area, which biases the resulting vector toward the corners of this cubic area. Re-write this to produce an unbiased vector.\n *\n * @param {vec3} result\n * @param {vec3} basis\n * @param {number} [scale=1]\n * @returns {vec3}\n */\nfunction setRandomOrthogonalVec3(result, basis, scale = 1) {\n  setRandomVec3(result);\n  // This is based on the dot and cross products and the fact that the dot product for two\n  // orthogonal vectors is zero.\n  result[2] = -(basis[0] * result[0] + basis[1] * result[1]) / basis[2];\n  vec3.normalize(result, result);\n  vec3.scale(result, result, scale);\n  return result;\n}\n\n/**\n * @param {vec3} avg\n * @param {vec3} range\n * @returns {vec3}\n * @private\n */\nfunction randomVec3InRange(avg, range) {\n  const position = vec3.create();\n  for (let i = 0; i < 3; i++) {\n    const min = avg[i] - range[i] / 2;\n    const max = avg[i] + range[i] / 2;\n    position[i] = randomFloatInRange(min, max);\n  }\n  return position;\n}\n\n/**\n * Rotates the given vector around a random orthogonal axis by a random angle within the given angle\n * bounds.\n *\n * @param {vec3} v\n * @param {number} minRotationAngle\n * @param {number} maxRotationAngle\n */\nfunction addRandomRotationToVector(v, minRotationAngle, maxRotationAngle) {\n  // Create a random orthogonal axis.\n  const rotationAxis = createRandomVec3();\n  vec3.cross(rotationAxis, rotationAxis, v);\n  vec3.normalize(rotationAxis, rotationAxis);\n\n  // Create a random angle.\n  const rotationAngle = randomFloatInRange(minRotationAngle, maxRotationAngle);\n\n  // Create a rotation quaternion.\n  const rotation = quat.create();\n  quat.setAxisAngle(rotation, rotationAxis, rotationAngle);\n\n  // Apply the rotation to the vector.\n  vec3.transformQuat(v, v, rotation);\n}\n\n/**\n * @param {quat} out\n * @param {quat} a\n * @param {quat} b\n * @param {number} scale\n * @returns {quat}\n */\nfunction scaleAndAddQuat(out, a, b, scale) {\n  return quat.set(out,\n      a[0] + b[0] * scale,\n      a[1] + b[1] * scale,\n      a[2] + b[2] * scale,\n      a[3] + b[3] * scale);\n}\n\n/**\n * @param {vec3} v\n * @returns {number}\n */\nfunction getMaxVec3Dimension(v) {\n  let max = v[0] > v[1] ? v[0] : v[1];\n  max = max > v[2] ? max : v[2];\n  return max;\n}\n\nexport {\n  EPSILON,\n  HALF_PI,\n  TWO_PI,\n  degToRad,\n  radToDeg,\n  areClose,\n  areVec3sEqual,\n  vec3ToString,\n  createRandomVec3,\n  setRandomVec3,\n  createRandomOrthogonalVec3,\n  setRandomOrthogonalVec3,\n  randomVec3InRange,\n  addRandomRotationToVector,\n  scaleAndAddQuat,\n  getMaxVec3Dimension,\n};\n","/**\n * This module defines a collection of static general utility functions for WebGL.\n */\n\nimport {HashMap} from './hash-map';\nimport {HALF_PI, TWO_PI} from './geometry';\nimport {debounce, isInDevMode, loadText} from './util';\nimport {programWrapperStore} from '../../program-wrapper/src/program-wrapper-store';\n\nlet viewportWidth = 10;\nlet viewportHeight = 10;\n\n/**\n * @param {HTMLCanvasElement} canvas\n * @returns {?WebGLRenderingContext}\n * @throws If unable to get a WebGL context.\n */\nfunction getWebGLContext(canvas) {\n  const params = {alpha: false};\n  // Try to grab the standard context. If it fails, fallback to the experimental context.\n  return canvas.getContext('webgl', params) || canvas.getContext('experimental-webgl', params);\n}\n\n/**\n * @param {WebGLRenderingContext} gl\n * @returns {?WebGLBuffer}\n * @throws If unable to create a buffer object.\n */\nfunction createBuffer(gl) {\n  const buffer = gl.createBuffer();\n  if (!buffer) {\n    throw new Error('An error occurred creating the buffer object');\n  }\n  return buffer;\n}\n// TODO: use all this helper stuff in the programWrapper logic?\n/**\n * @param {WebGLRenderingContext} gl\n * @param {WebGLProgram} program\n * @param {string} locationName\n * @returns {number}\n * @throws If unable to get an attribute location for the given name.\n */\nfunction getAttribLocation(gl, program, locationName) {\n  const attribLocation = gl.getAttribLocation(program, locationName);\n  if (attribLocation < 0) {\n    throw new Error(`An error occurred getting the attribute location: ${locationName}`);\n  }\n  return attribLocation;\n}\n\n/**\n * @param {WebGLRenderingContext} gl\n * @param {WebGLShader} vertexShader\n * @param {WebGLShader} fragmentShader\n * @returns {WebGLProgram}\n * @throws If unable to link the program.\n */\nfunction buildProgram(gl, vertexShader, fragmentShader) {\n  const program = gl.createProgram();\n  gl.attachShader(program, vertexShader);\n  gl.attachShader(program, fragmentShader);\n  gl.linkProgram(program);\n\n  if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {\n    const infoLog = gl.getProgramInfoLog(program);\n    console.error('An error occurred linking the shader program', infoLog);\n    throw new Error('An error occurred linking the shader program');\n  }\n\n  return program;\n}\n\n/**\n * @param {WebGLRenderingContext} gl\n * @param {string} shaderSource\n * @param {boolean} isFragmentShader\n * @returns {WebGLShader}\n * @throws If unable to compile the shader.\n */\nfunction buildShader(gl, shaderSource, isFragmentShader) {\n  const shaderType = isFragmentShader ? gl.FRAGMENT_SHADER : gl.VERTEX_SHADER;\n  const shader = gl.createShader(shaderType);\n  gl.shaderSource(shader, shaderSource);\n  gl.compileShader(shader);\n\n  if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n    const infoLog = gl.getShaderInfoLog(shader);\n    console.error('An error occurred compiling the shader', infoLog);\n    throw new Error('An error occurred compiling the shader');\n  }\n\n  return shader;\n}\n\n/**\n * Loads a shader program by scouring the current document, looking for a script with the specified\n * ID.\n *\n * @param {WebGLRenderingContext} gl\n * @param {string} url\n * @returns {Promise.<WebGLShader, Error>}\n */\nfunction loadShader(gl, url) {\n  return loadText(url)\n      .then(shaderSource => buildShader(gl, shaderSource, url.endsWith('.frag')));\n}\n\n/**\n * Loads the shader source code from the given URLs, compiles the shader source code, and creates\n * a program from the resulting shaders.\n *\n * @param {WebGLRenderingContext} gl\n * @param {string} vertexShaderUrl\n * @param {string} fragmentShaderUrl\n * @returns {Promise.<WebGLProgram, Error>}\n * @throws If any error occurs while loading and building the shaders and program.\n */\nfunction loadProgram(gl, vertexShaderUrl, fragmentShaderUrl) {\n  return Promise.all([\n        vertexShaderUrl,\n        fragmentShaderUrl\n      ].map(url => loadShader(gl, url)))\n      .then(shaders => {\n        const vertexShader = shaders[0];\n        const fragmentShader = shaders[1];\n\n        return buildProgram(gl, vertexShader, fragmentShader);\n      });\n}\n\n/**\n * Create, bind, and move the given raw data into a WebGL buffer.\n *\n * @param {WebGLRenderingContext} gl\n * @param {Array.<Number>} rawData A plain, flat array containing the data to bind to a buffer.\n * @param {number} [target=gl.ARRAY_BUFFER] An enum describing the type of this buffer; one of:\n *   - gl.ARRAY_BUFFER,\n *   - gl.ELEMENT_ARRAY_BUFFER.\n * @param {number} [usage=gl.STATIC_DRAW] An enum describing how this buffer is going to be used;\n * one of:\n *   - gl.STATIC_DRAW,\n *   - gl.DYNAMIC_DRAW,\n *   - gl.STREAM_DRAW.\n * @returns {WebGLBuffer}\n */\nfunction createBufferFromData(gl, rawData, target, usage) {\n  target = target || gl.ARRAY_BUFFER;\n  usage = usage || gl.STATIC_DRAW;\n  const typedArray = target === gl.ARRAY_BUFFER ? new Float32Array(rawData) : new Uint16Array(rawData);\n\n  const buffer = gl.createBuffer();\n  gl.bindBuffer(target, buffer);\n  gl.bufferData(target, typedArray, usage);\n\n  // Making the original data visible on the buffer object is helpful for debugging.\n  if (isInDevMode) {\n    buffer.rawData = typedArray;\n  }\n\n  return buffer;\n}\n\n/**\n * Adjusts the dimensions of the given element to match those of the viewport. Also, when the\n * viewport is resized, the given element will also be resized to match.\n *\n * @param {HTMLCanvasElement} canvas\n * @param {WebGLRenderingContext} gl\n * @param {Function} onGLResized\n * @param {?Number} [updateInterval=150]\n */\nfunction bindGLContextToViewportDimensions(canvas, gl, onGLResized, updateInterval = 150) {\n  _resizeGLContextToMatchViewportDimensions(canvas, gl);\n  const debouncedResize =\n      debounce(_ => {\n        _resizeGLContextToMatchViewportDimensions(canvas, gl);\n        onGLResized();\n      }, updateInterval);\n  window.addEventListener('resize', debouncedResize);\n}\n\n/**\n * Resizes the given element to match the dimensions of the viewport components.\n *\n * @param {HTMLCanvasElement} canvas\n * @param {WebGLRenderingContext} gl\n * @private\n */\nfunction _resizeGLContextToMatchViewportDimensions(canvas, gl) {\n  // Account for high-definition DPI displays.\n  const devicePixelToCssPixelRatio = window.devicePixelRatio || 1;\n  viewportWidth = Math.floor(canvas.clientWidth * devicePixelToCssPixelRatio);\n  viewportHeight = Math.floor(canvas.clientHeight * devicePixelToCssPixelRatio);\n  canvas.width = viewportWidth;\n  canvas.height = viewportHeight;\n  gl.viewport(0, 0, viewportWidth, viewportHeight);\n}\n\n/**\n * @returns {number}\n */\nfunction getViewportWidth() {\n  return viewportWidth;\n}\n\n/**\n * @returns {number}\n */\nfunction getViewportHeight() {\n  return viewportHeight;\n}\n\n/**\n * Binds a framebuffer to the GL context.\n *\n * @param {WebGLRenderingContext} gl\n * @param {WebGLFramebuffer} framebuffer\n */\nfunction bindFramebuffer(gl, framebuffer, width, height) {\n  // FIXME: Remove or add back in?\n  // width = width || getViewportWidth();\n  // height = height || getViewportHeight();\n\n  gl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);\n  // FIXME: Remove or add back in?\n  // gl.viewport(0, 0, width, height);\n}\n\n/**\n * Creates a framebuffer and attaches a texture to the framebuffer.\n *\n * This means that when we bind to the framebuffer, draw calls will render to the given texture.\n *\n * @param {WebGLRenderingContext} gl\n * @param {WebGLTexture} texture\n * @param {WebGLRenderBuffer} [renderBuffer]\n * @returns {WebGLFramebuffer}\n */\nfunction createFramebuffer(gl, texture, renderBuffer) {\n  const framebuffer = gl.createFramebuffer();\n\n  gl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);\n  gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0);\n\n  if (renderBuffer) {\n    gl.framebufferRenderbuffer(gl.FRAMEBUFFER, gl.DEPTH_ATTACHMENT, gl.RENDERBUFFER, renderBuffer);\n  }\n\n  return framebuffer;\n}\n\n/**\n * Creates a texture for rendering to.\n *\n * @param {WebGLRenderingContext} gl\n * @param {number} [width] Defaults to the viewport width stored in gl-util.\n * @param {number} [height] Defaults to the viewport height stored in gl-util.\n * @returns {WebGLTexture}\n */\nfunction createTextureForRendering(gl, width, height) {\n  width = width || getViewportWidth();\n  height = height || getViewportHeight();\n\n  // TODO: Double-check these params\n  const texture = gl.createTexture();\n  gl.bindTexture(gl.TEXTURE_2D, texture);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n  gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, width, height, 0, gl.RGBA, gl.UNSIGNED_BYTE, null);\n\n  return texture;\n}\n\n/**\n * Creates a render buffer.\n *\n * @param {WebGLRenderingContext} gl\n * @param {number} [width] Defaults to the viewport width stored in gl-util.\n * @param {number} [height] Defaults to the viewport height stored in gl-util.\n * @returns {WebGLRenderBuffer}\n */\nfunction createRenderBuffer(gl, width, height) {\n  width = width || getViewportWidth();\n  height = height || getViewportHeight();\n\n  const renderBuffer = gl.createRenderbuffer();\n  gl.bindRenderbuffer(gl.RENDERBUFFER, renderBuffer);\n  gl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_COMPONENT16, width, height);\n\n  return renderBuffer;\n}\n\nconst _SQUARE_COORDINATES_2D = [\n  0, 0,\n  1, 0,\n  0, 1,\n\n  1, 0,\n  1, 1,\n  0, 1,\n];\n\n/**\n * @param {WebGLRenderingContext} gl\n * @returns {AttributeConfig}\n */\nfunction create2DSquarePositionsConfig(gl) {\n  const positionsBuffer = createBufferFromData(gl, _SQUARE_COORDINATES_2D);\n  return {\n    buffer: positionsBuffer,\n    size: 2,\n    type: gl.FLOAT,\n    normalized: false,\n    stride: 0,\n    offset: 0\n  };\n}\n\n//\n// Geometrical calculations.\n//\n\n/**\n * Given an array of individual vertex positions and an array of vertex indices, creates an expanded\n * array of the positions grouped by the triangles they form.\n *\n * @param {Array.<Number>} individualVertexPositions\n * @param {Array.<Number>} vertexIndices\n * @returns {Array.<Number>}\n */\nfunction expandVertexIndicesToDuplicatePositions(individualVertexPositions, vertexIndices) {\n  const expandedVertexPositions = [];\n\n  for (let i = 0, j = 0, k = 0, count = vertexIndices.length; i < count; i++, k += 3) {\n    j = vertexIndices[i] * 3;\n\n    expandedVertexPositions[k] = individualVertexPositions[j];\n    expandedVertexPositions[k + 1] = individualVertexPositions[j + 1];\n    expandedVertexPositions[k + 2] = individualVertexPositions[j + 2];\n  }\n\n  return expandedVertexPositions;\n}\n\n/**\n * Computes normal vectors that are each orthogonal to the triangles they are a part of.\n *\n * The given vertices should represent individual triangles whose vertices are defined in clockwise\n * order (as seen when looking at the exterior side).\n *\n * @param {Array.<Number>} vertices\n * @returns {Array.<Number>}\n */\nfunction calculateOrthogonalVertexNormals(vertices) {\n  const vertex1 = vec3.create();\n  const vertex2 = vec3.create();\n  const vertex3 = vec3.create();\n  const vectorA = vec3.create();\n  const vectorB = vec3.create();\n  const normal1 = vec3.create();\n  const normal2 = vec3.create();\n  const normal3 = vec3.create();\n\n  const normals = [];\n\n  // Loop over each triangle in the flattened vertex array.\n  for (let i = 0, count = vertices.length; i < count; i += 9) {\n    // Get the vertices of the current triangle from the flattened array.\n    vec3.set(vertex1, vertices[i + 0], vertices[i + 1], vertices[i + 2]);\n    vec3.set(vertex2, vertices[i + 3], vertices[i + 4], vertices[i + 5]);\n    vec3.set(vertex3, vertices[i + 6], vertices[i + 7], vertices[i + 8]);\n\n    // Compute the normals.\n    vec3.subtract(vectorA, vertex3, vertex1);\n    vec3.subtract(vectorB, vertex2, vertex1);\n    vec3.cross(normal1, vectorA, vectorB);\n    vec3.normalize(normal1, normal1);\n\n    vec3.subtract(vectorA, vertex1, vertex2);\n    vec3.subtract(vectorB, vertex3, vertex2);\n    vec3.cross(normal2, vectorA, vectorB);\n    vec3.normalize(normal2, normal2);\n\n    vec3.subtract(vectorA, vertex2, vertex3);\n    vec3.subtract(vectorB, vertex1, vertex3);\n    vec3.cross(normal3, vectorA, vectorB);\n    vec3.normalize(normal3, normal3);\n\n    // Save the normal vectors in a flattened array.\n    normals[i + 0] = normal1[0];\n    normals[i + 1] = normal1[1];\n    normals[i + 2] = normal1[2];\n    normals[i + 3] = normal2[0];\n    normals[i + 4] = normal2[1];\n    normals[i + 5] = normal2[2];\n    normals[i + 6] = normal3[0];\n    normals[i + 7] = normal3[1];\n    normals[i + 8] = normal3[2];\n  }\n\n  return normals;\n}\n\nconst MAX_TEXTURE_V_COORDINATE_DELTA = 0.5;\n\n/**\n * Calculates lat-long texture coordinates for the given vertex positions.\n *\n * @param {Array.<Number>} vertexPositions\n * @returns {Array.<Number>}\n * @private\n */\nfunction calculateLatLongTextureCoordinates(vertexPositions) {\n  const currentVertexPosition = vec3.create();\n  const currentTextureCoordinates = vec2.create();\n  const textureCoordinates = [];\n\n  // Calculate the texture coordinates of each vertex.\n  for (let i = 0, j = 0, count = vertexPositions.length; i < count; i += 3, j += 2) {\n    vec3.set(currentVertexPosition,\n        vertexPositions[i], vertexPositions[i + 1], vertexPositions[i + 2]);\n    _getTextureCoordinatesOfLatLongPosition(currentTextureCoordinates, currentVertexPosition);\n    textureCoordinates[j] = currentTextureCoordinates[0];\n    textureCoordinates[j + 1] = currentTextureCoordinates[1];\n  }\n\n  _correctTextureForTrianglesAroundSeam(textureCoordinates);\n\n  return textureCoordinates;\n}\n\n/**\n * Calculates cylindrical texture coordinates for the given vertex positions.\n *\n * This assumes the cylinder is aligned with the z-axis and centered at the origin.\n *\n * @param {Array.<Number>} vertexPositions\n * @returns {Array.<Number>}\n * @private\n */\nfunction calculateCylindricalTextureCoordinates(vertexPositions) {\n  const currentVertexPosition = vec3.create();\n  const currentTextureCoordinates = vec2.create();\n  const textureCoordinates = [];\n\n  // Calculate the texture coordinates of each vertex.\n  for (let i = 0, j = 0, count = vertexPositions.length; i < count; i += 3, j += 2) {\n    vec3.set(currentVertexPosition,\n        vertexPositions[i], vertexPositions[i + 1], vertexPositions[i + 2]);\n    _getTextureCoordinatesOfCylindricalPosition(currentTextureCoordinates, currentVertexPosition);\n    textureCoordinates[j] = currentTextureCoordinates[0];\n    textureCoordinates[j + 1] = currentTextureCoordinates[1];\n  }\n\n  _correctTextureForTrianglesAroundSeam(textureCoordinates);\n\n  return textureCoordinates;\n}\n\n/**\n * @param {Array.<Number>} textureCoordinates\n */\nfunction _correctTextureForTrianglesAroundSeam(textureCoordinates) {\n  let v1;\n  let v2;\n  let v3;\n\n  // Determine which triangles span the seam across 0/2PI, and correct their textures.\n  for (let i = 0, count = textureCoordinates.length; i < count; i += 6) {\n    v1 = textureCoordinates[i];\n    v2 = textureCoordinates[i + 2];\n    v3 = textureCoordinates[i + 4];\n\n    if (v3 - v1 > MAX_TEXTURE_V_COORDINATE_DELTA || v2 - v1 > MAX_TEXTURE_V_COORDINATE_DELTA) {\n      textureCoordinates[i]++;\n    }\n    if (v3 - v2 > MAX_TEXTURE_V_COORDINATE_DELTA || v1 - v2 > MAX_TEXTURE_V_COORDINATE_DELTA) {\n      textureCoordinates[i + 2]++;\n    }\n    if (v2 - v3 > MAX_TEXTURE_V_COORDINATE_DELTA || v1 - v3 > MAX_TEXTURE_V_COORDINATE_DELTA) {\n      textureCoordinates[i + 4]++;\n    }\n  }\n}\n\n/**\n * Calculate the texture coordinates for a normalized point on a globe.\n *\n * @param {vec2} textureCoordinates Output parameter.\n * @param {vec3} vertexPosition Input parameter.\n * @private\n */\nfunction _getTextureCoordinatesOfLatLongPosition(textureCoordinates, vertexPosition) {\n  const x = vertexPosition[0];\n  const y = vertexPosition[1];\n  const z = vertexPosition[2];\n\n  let longitude;\n  if (y !== 0) {\n    longitude = Math.atan2(x, y);\n  } else if (x > 0) {\n    longitude = HALF_PI;\n  } else {\n    longitude = -HALF_PI;\n  }\n\n  const u = (longitude + Math.PI) / TWO_PI;\n\n  // TODO: Should I instead be calculating the v value from wrapping the texture around the globe\n  // curvature rather than simply projecting it directly?\n\n  // This assumes that the texture has been vertically distorted so that it can be directly\n  // projected onto the curvature of the globe.\n  const v = (z + 1) * 0.5;\n\n  textureCoordinates[0] = u;\n  textureCoordinates[1] = v;\n}\n\n/**\n * Calculate the texture coordinates for a normalized point on a cylinder.\n *\n * This assumes the cylinder is aligned with the z-axis and centered at the origin.\n *\n * @param {vec2} textureCoordinates Output parameter.\n * @param {vec3} vertexPosition Input parameter.\n * @private\n */\nfunction _getTextureCoordinatesOfCylindricalPosition(textureCoordinates, vertexPosition) {\n  const x = vertexPosition[0];\n  const y = vertexPosition[1];\n  const z = vertexPosition[2];\n\n  let longitude;\n  if (y !== 0) {\n    longitude = Math.atan2(x, y);\n  } else if (x > 0) {\n    longitude = HALF_PI;\n  } else {\n    longitude = -HALF_PI;\n  }\n\n  const u = (longitude + Math.PI) / TWO_PI;\n\n  const v = z > 0 ? 1 : 0;\n\n  textureCoordinates[0] = u;\n  textureCoordinates[1] = v;\n}\n\n/**\n * Expands the given vertices around the seam where longitude switches from 0 to 2PI.\n *\n * This is useful because, when applying a spherical texture using lat-long coordinates, any\n * triangle that spans the seam (from longitude 2PI to 0) would otherwise show the wrong result.\n *\n * @param {Array.<Number>} oldVertexPositions\n * @param {Array.<Number>} oldVertexIndices\n * @returns {{vertexPositions: Array.<Number>, vertexIndices: Array.<Number>}}\n */\nfunction expandVertexIndicesAroundLongitudeSeam(oldVertexPositions, oldVertexIndices) {\n  // const newVertexPositions = [];\n  // const newVertexIndices = [];\n  //\n  // ****\n  // // TODO: loop over triangles, use _getTextureCoordinatesOfLatLongPosition on each vertex,\n  // // check if two vertices in a triangle span the seam; to check the span, just check if both are\n  // // within a distance from the seam, but on opposite ends;\n  //\n  // return {\n  //   vertexPositions: newVertexPositions,\n  //   vertexIndices: newVertexIndices\n  // };\n\n  return {\n    vertexPositions: oldVertexPositions,\n    vertexIndices: oldVertexIndices\n  };\n}\n\n/**\n * Subdivides the triangles of a shape and projects all resulting vertices to a radius of one.\n *\n * @param {number} divisionFactor\n * @param {Array.<Number>} oldPositions\n * @param {Array.<Number>} [oldIndices]\n * @returns {{vertexPositions: Array.<Number>, vertexIndices: Array.<Number>}}\n */\nfunction tesselateSphere(divisionFactor, oldPositions, oldIndices) {\n  const newPositions = _expandAndTesselateTriangles(divisionFactor, oldPositions, oldIndices);\n\n  // Convert the expanded positions array into a unique positions array with a corresponding indices\n  // array.\n  const positionsAndIndices = dedupVertexArrayWithPositionsAndIndicesArrays(newPositions);\n\n  // Project the given positions to a distance of one.\n  _normalizePositions(positionsAndIndices.vertexPositions, positionsAndIndices.vertexPositions);\n\n  return positionsAndIndices;\n}\n\n/**\n * Subdivides triangles.\n *\n * This has the side-effect of flattening the given vertices into an expanded list that can contain\n * duplicate positions.\n *\n * @param {number} divisionFactor\n * @param {Array.<Number>} oldPositions\n * @param {Array.<Number>} [oldIndices]\n * @returns {Array.<Number>}\n * @private\n */\nfunction _expandAndTesselateTriangles(divisionFactor, oldPositions, oldIndices) {\n  const expandedOldPositions = oldIndices\n      ? expandVertexIndicesToDuplicatePositions(oldPositions, oldIndices)\n      : oldPositions;\n\n  const newPositions = [];\n  const a = vec3.create();\n  const b = vec3.create();\n  const c = vec3.create();\n  const aToB = vec3.create();\n  const aToC = vec3.create();\n  const bToC = vec3.create();\n  const rowDelta = vec3.create();\n  const columnDelta = vec3.create();\n  const backwardsDelta = vec3.create();\n  const rowStartPoint = vec3.create();\n  const rowColumnStartPoint = vec3.create();\n  const tempVec = vec3.create();\n\n  let oldIndex;\n  let count;\n  let newIndex;\n  let rowIndex;\n  let columnIndex;\n\n  //\n  // The basic tesselation algorithm:\n  // - Iterate across the original triangles that we are sub-dividing.\n  // - A, B, and C are the vertices of the current, original triangle.\n  // - Consider \"rows\" to iterate across the a-to-b direction and \"columns\" to iterate across the\n  //   a-to-c direction.\n  // - First calculate the distance between one row and one column.\n  // - Then loop over the rows and columns and create a the new triangle for each \"cell\".\n  //\n  //                   /\\\n  //                 B   \\--- A \"column\"\n  //                 o    \\\n  //                / \\   /\n  //               /   \\             rowDelta:      columnDelta:     backwardsDelta:\n  //              o-----o                 o             o\n  //             / \\   / \\               /               \\              o-----o\n  //            /   \\ /   \\             /                 \\\n  //           o-----o-----o           o                   o\n  //          / \\   / \\   / \\\n  //         /   \\ /   \\ /   \\\n  //        o-----o-----o-----o\n  //       / \\   / \\   / \\   / \\\n  //      /   \\ /   \\ /   \\ /   \\\n  //  A  o-----o-----o-----o-----o  C\n  //\n  //       \\_____\\\n  //           \\\n  //         A \"row\"\n  //\n\n  // Loop over the old triangles.\n  for (oldIndex = 0, newIndex = 0, count = expandedOldPositions.length;\n       oldIndex < count;\n       oldIndex += 9) {\n    // Pull out the three vertices of the current triangle.\n    vec3.set(a,\n        expandedOldPositions[oldIndex],\n        expandedOldPositions[oldIndex + 1],\n        expandedOldPositions[oldIndex + 2]);\n    vec3.set(b,\n        expandedOldPositions[oldIndex + 3],\n        expandedOldPositions[oldIndex + 4],\n        expandedOldPositions[oldIndex + 5]);\n    vec3.set(c,\n        expandedOldPositions[oldIndex + 6],\n        expandedOldPositions[oldIndex + 7],\n        expandedOldPositions[oldIndex + 8]);\n\n    vec3.subtract(aToB, b, a);\n    vec3.subtract(bToC, c, b);\n    vec3.subtract(aToC, c, a);\n\n    vec3.scale(rowDelta, aToB, 1 / divisionFactor);\n    vec3.scale(columnDelta, bToC, 1 / divisionFactor);\n    vec3.scale(backwardsDelta, aToC, 1 / divisionFactor);\n\n    // Loop over each new division (row) for the current triangle.\n    for (rowIndex = 0; rowIndex < divisionFactor; rowIndex++) {\n      vec3.scaleAndAdd(rowStartPoint, a, rowDelta, rowIndex);\n\n      // Create the first triangle in the row (address the fence-post problem).\n      newPositions[newIndex++] = rowStartPoint[0];\n      newPositions[newIndex++] = rowStartPoint[1];\n      newPositions[newIndex++] = rowStartPoint[2];\n      vec3.add(tempVec, rowStartPoint, rowDelta);\n      newPositions[newIndex++] = tempVec[0];\n      newPositions[newIndex++] = tempVec[1];\n      newPositions[newIndex++] = tempVec[2];\n      vec3.add(tempVec, rowStartPoint, backwardsDelta);\n      newPositions[newIndex++] = tempVec[0];\n      newPositions[newIndex++] = tempVec[1];\n      newPositions[newIndex++] = tempVec[2];\n\n      // Loop over the new triangles in the current division.\n      for (columnIndex = 1; columnIndex <= rowIndex; columnIndex++) {\n        vec3.scaleAndAdd(rowColumnStartPoint, rowStartPoint, columnDelta, columnIndex);\n\n        newPositions[newIndex++] = rowColumnStartPoint[0];\n        newPositions[newIndex++] = rowColumnStartPoint[1];\n        newPositions[newIndex++] = rowColumnStartPoint[2];\n        vec3.subtract(tempVec, rowColumnStartPoint, columnDelta);\n        newPositions[newIndex++] = tempVec[0];\n        newPositions[newIndex++] = tempVec[1];\n        newPositions[newIndex++] = tempVec[2];\n        vec3.add(tempVec, rowColumnStartPoint, rowDelta);\n        newPositions[newIndex++] = tempVec[0];\n        newPositions[newIndex++] = tempVec[1];\n        newPositions[newIndex++] = tempVec[2];\n\n        newPositions[newIndex++] = rowColumnStartPoint[0];\n        newPositions[newIndex++] = rowColumnStartPoint[1];\n        newPositions[newIndex++] = rowColumnStartPoint[2];\n        vec3.add(tempVec, rowColumnStartPoint, rowDelta);\n        newPositions[newIndex++] = tempVec[0];\n        newPositions[newIndex++] = tempVec[1];\n        newPositions[newIndex++] = tempVec[2];\n        vec3.add(tempVec, rowColumnStartPoint, backwardsDelta);\n        newPositions[newIndex++] = tempVec[0];\n        newPositions[newIndex++] = tempVec[1];\n        newPositions[newIndex++] = tempVec[2];\n      }\n    }\n  }\n\n  return newPositions;\n}\n\n/**\n * Projects the given positions to a distance of one.\n *\n * @param {Array.<Number>} out\n * @param {Array.<Number>} positions\n * @private\n */\nfunction _normalizePositions(out, positions) {\n  const tempVec = vec3.create();\n\n  for (let i = 0, count = positions.length; i < count; i += 3) {\n    vec3.set(tempVec, positions[i], positions[i + 1], positions[i + 2]);\n\n    vec3.normalize(tempVec, tempVec);\n\n    out[i] = tempVec[0];\n    out[i + 1] = tempVec[1];\n    out[i + 2] = tempVec[2];\n  }\n}\n\n/**\n * Given a collection of vertices that possibly contains duplicates, creates an array of the unique\n * vertex positions and an array of the indices of the original, duplicated vertices in the unique\n * array.\n *\n * This is useful for rendering using gl.drawElements (with gl.ELEMENT_ARRAY_BUFFER) instead of\n * gl.drawArrays.\n *\n * NOTE: Although this function does partially address floating-point round-off errors within the\n * given positions, it does not guarantee correctness.\n *\n * @param {Array.<Number>} oldVertexPositions\n * @returns {{vertexPositions: Array.<Number>, vertexIndices: Array.<Number>}}\n */\nfunction dedupVertexArrayWithPositionsAndIndicesArrays(oldVertexPositions) {\n  const vertexPositions = [];\n  const vertexIndices = [];\n\n  const vertexToIndexMap = new HashMap(_vertexHashFunction);\n  const vertex = vec3.create();\n  let oldCoordinateIndex;\n  let oldCoordinateCount;\n  let newVertexIndex;\n\n  // Loop over the original, duplicated vertex positions.\n  for (oldCoordinateIndex = 0, oldCoordinateCount = oldVertexPositions.length;\n       oldCoordinateIndex < oldCoordinateCount;\n       oldCoordinateIndex += 3) {\n    vec3.set(vertex,\n        oldVertexPositions[oldCoordinateIndex],\n        oldVertexPositions[oldCoordinateIndex + 1],\n        oldVertexPositions[oldCoordinateIndex + 2]);\n\n    // Has this position already been recorded?\n    if (!vertexToIndexMap.has(vertex)) {\n      // Record the index of the unique vertex position.\n      newVertexIndex = vertexPositions.length / 3;\n      vertexToIndexMap.set(vertex, newVertexIndex);\n\n      // Record the unique vertex position.\n      vertexPositions.push(vertex[0]);\n      vertexPositions.push(vertex[1]);\n      vertexPositions.push(vertex[2]);\n    }\n\n    newVertexIndex = vertexToIndexMap.get(vertex);\n\n    // Record the index of the unique position.\n    vertexIndices.push(newVertexIndex);\n  }\n\n  return {\n    vertexPositions: vertexPositions,\n    vertexIndices: vertexIndices\n  };\n}\n\nconst _VERTEX_COORDINATE_BUCKET_SIZE_DIGITS = 4;\n\n// This offset is important for preventing bucket-aligned numbers from being placed in inconsistent\n// buckets. For example, whole integer values could easily be placed in lower or higher buckets\n// depending on round-off error.\nconst _OFFSET = Math.random();\n\n/**\n * Calculates a hash code for the given vertex.\n *\n * NOTE: This does not guarantee correct results. Due to round-off error, \"equal\" coordinates could\n * be calculated is being in different buckets. Larger bucket sizes might reduce the rate of false\n * negatives, but with the trade-off of potentially introducing false positives.\n *\n * @param {vec3} vertex\n * @returns {string}\n * @private\n */\nfunction _vertexHashFunction(vertex) {\n  return `${(vertex[0] + _OFFSET).toFixed(_VERTEX_COORDINATE_BUCKET_SIZE_DIGITS)},` +\n      `${(vertex[1] + _OFFSET).toFixed(_VERTEX_COORDINATE_BUCKET_SIZE_DIGITS)},` +\n      `${(vertex[2] + _OFFSET).toFixed(_VERTEX_COORDINATE_BUCKET_SIZE_DIGITS)}`;\n}\n\n/**\n * Calculate the vertex positions for a section of a sphere.\n *\n * - These points will lie along latitude-longitude lines.\n * - The shape is centered around the origin with the poles aligned with the z-axis.\n * - The radius of the circle will be one.\n *\n * @param {number} startPitchIndex\n * @param {number} endPitchIndex\n * @param {number} deltaPitch\n * @param {number} startAzimuthIndex\n * @param {number} endAzimuthIndex\n * @param {number} deltaAzimuth\n * @return {Array.<Number>}\n * @private\n */\nfunction calculateSphericalSection(startPitchIndex, endPitchIndex, deltaPitch,\n                                   startAzimuthIndex, endAzimuthIndex, deltaAzimuth) {\n  const vertexPositions = [];\n  let vertexPositionsIndex = 0;\n\n  let pitchIndex;\n  let azimuthIndex;\n  let lowerPitch;\n  let upperPitch;\n  let lowerAzimuth;\n  let upperAzimuth;\n  let x1;\n  let y1;\n  let z1;\n  let x2;\n  let y2;\n  let z2;\n  let x3;\n  let y3;\n  let z3;\n  let x4;\n  let y4;\n  let z4;\n\n  // TODO: This implementation calculates all coordinates multiple times. Refactor it to be more\n  // efficient.\n\n  // Loop over each latitudinal strip.\n  for (pitchIndex = startPitchIndex; pitchIndex < endPitchIndex; pitchIndex++) {\n    lowerPitch = deltaPitch * pitchIndex;\n    upperPitch = deltaPitch + lowerPitch;\n\n    // Create the triangles for the strip at the current pitch.\n    for (azimuthIndex = startAzimuthIndex; azimuthIndex < endAzimuthIndex; azimuthIndex++) {\n      lowerAzimuth = deltaAzimuth * azimuthIndex;\n      upperAzimuth = deltaAzimuth + lowerAzimuth;\n\n      // The corners of the current square.\n\n      x1 = Math.sin(lowerPitch) * Math.cos(lowerAzimuth);\n      y1 = Math.sin(lowerPitch) * Math.sin(lowerAzimuth);\n      z1 = Math.cos(lowerPitch);\n\n      x2 = Math.sin(upperPitch) * Math.cos(lowerAzimuth);\n      y2 = Math.sin(upperPitch) * Math.sin(lowerAzimuth);\n      z2 = Math.cos(upperPitch);\n\n      x3 = Math.sin(lowerPitch) * Math.cos(upperAzimuth);\n      y3 = Math.sin(lowerPitch) * Math.sin(upperAzimuth);\n      z3 = Math.cos(lowerPitch);\n\n      x4 = Math.sin(upperPitch) * Math.cos(upperAzimuth);\n      y4 = Math.sin(upperPitch) * Math.sin(upperAzimuth);\n      z4 = Math.cos(upperPitch);\n\n      // The first triangle.\n\n      vertexPositions[vertexPositionsIndex] = x1;\n      vertexPositions[vertexPositionsIndex + 1] = y1;\n      vertexPositions[vertexPositionsIndex + 2] = z1;\n      vertexPositions[vertexPositionsIndex + 3] = x2;\n      vertexPositions[vertexPositionsIndex + 4] = y2;\n      vertexPositions[vertexPositionsIndex + 5] = z2;\n      vertexPositions[vertexPositionsIndex + 6] = x3;\n      vertexPositions[vertexPositionsIndex + 7] = y3;\n      vertexPositions[vertexPositionsIndex + 8] = z3;\n\n      // The second triangle.\n\n      vertexPositions[vertexPositionsIndex + 9] = x4;\n      vertexPositions[vertexPositionsIndex + 10] = y4;\n      vertexPositions[vertexPositionsIndex + 11] = z4;\n      vertexPositions[vertexPositionsIndex + 12] = x3;\n      vertexPositions[vertexPositionsIndex + 13] = y3;\n      vertexPositions[vertexPositionsIndex + 14] = z3;\n      vertexPositions[vertexPositionsIndex + 15] = x2;\n      vertexPositions[vertexPositionsIndex + 16] = y2;\n      vertexPositions[vertexPositionsIndex + 17] = z2;\n\n      vertexPositionsIndex += 18;\n    }\n  }\n\n  return vertexPositions;\n}\n\n/**\n * Calculate the vertex positions for a section of a cylinder.\n *\n * The shape is centered around the origin with the poles aligned with the z-axis.\n *\n * @param {number} cylinderBottom\n * @param {number} cylinderTop\n * @param {number} startIndex\n * @param {number} endIndex\n * @param {number} delta\n * @returns {Array.<Number>}\n * @private\n */\nfunction calculateCylindricalSection(cylinderBottom, cylinderTop, startIndex, endIndex, delta) {\n  const vertexPositions = [];\n  let vertexPositionsIndex = 0;\n\n  let index;\n  let lowerAzimuth;\n  let upperAzimuth;\n  let x1;\n  let y1;\n  let z1;\n  let x2;\n  let y2;\n  let z2;\n  let x3;\n  let y3;\n  let z3;\n  let x4;\n  let y4;\n  let z4;\n\n  // Create the triangles for the cylindrical strip.\n  for (index = startIndex; index < endIndex; index++) {\n    lowerAzimuth = delta * index;\n    upperAzimuth = delta + lowerAzimuth;\n\n    // The corners of the current square.\n\n    x1 = Math.cos(lowerAzimuth);\n    y1 = Math.sin(lowerAzimuth);\n    z1 = cylinderBottom;\n\n    x2 = Math.cos(lowerAzimuth);\n    y2 = Math.sin(lowerAzimuth);\n    z2 = cylinderTop;\n\n    x3 = Math.cos(upperAzimuth);\n    y3 = Math.sin(upperAzimuth);\n    z3 = cylinderBottom;\n\n    x4 = Math.cos(upperAzimuth);\n    y4 = Math.sin(upperAzimuth);\n    z4 = cylinderTop;\n\n    // The first triangle.\n\n    vertexPositions[vertexPositionsIndex] = x1;\n    vertexPositions[vertexPositionsIndex + 1] = y1;\n    vertexPositions[vertexPositionsIndex + 2] = z1;\n    vertexPositions[vertexPositionsIndex + 3] = x2;\n    vertexPositions[vertexPositionsIndex + 4] = y2;\n    vertexPositions[vertexPositionsIndex + 5] = z2;\n    vertexPositions[vertexPositionsIndex + 6] = x3;\n    vertexPositions[vertexPositionsIndex + 7] = y3;\n    vertexPositions[vertexPositionsIndex + 8] = z3;\n\n    // The second triangle.\n\n    vertexPositions[vertexPositionsIndex + 9] = x4;\n    vertexPositions[vertexPositionsIndex + 10] = y4;\n    vertexPositions[vertexPositionsIndex + 11] = z4;\n    vertexPositions[vertexPositionsIndex + 12] = x3;\n    vertexPositions[vertexPositionsIndex + 13] = y3;\n    vertexPositions[vertexPositionsIndex + 14] = z3;\n    vertexPositions[vertexPositionsIndex + 15] = x2;\n    vertexPositions[vertexPositionsIndex + 16] = y2;\n    vertexPositions[vertexPositionsIndex + 17] = z2;\n\n    vertexPositionsIndex += 18;\n  }\n\n  return vertexPositions;\n}\n\n/**\n * Scale and then translate the 3-dimensional positions in the given flattened array.\n *\n * The shape is centered around the origin with the poles aligned with the z-axis.\n *\n * @param {Array.<Number>} vertexPositions Output.\n * @param {number} startIndex\n * @param {number} endIndex\n * @param {vec3} scale\n * @param {vec3} translate\n * @private\n */\nfunction scaleThenTranslatePositions(vertexPositions, startIndex, endIndex, scale, translate) {\n  const scaleX = scale[0];\n  const scaleY = scale[1];\n  const scaleZ = scale[2];\n  const translateX = translate[0];\n  const translateY = translate[1];\n  const translateZ = translate[2];\n\n  for (let i = startIndex; i < endIndex; i += 3) {\n    vertexPositions[i] = vertexPositions[i] * scaleX + translateX;\n    vertexPositions[i + 1] = vertexPositions[i + 1] * scaleY + translateY;\n    vertexPositions[i + 2] = vertexPositions[i + 2] * scaleZ + translateZ;\n  }\n}\n\n// Export this module's logic\n\nexport {\n  getViewportWidth,\n  getViewportHeight,\n  getWebGLContext,\n  createBuffer,\n  getAttribLocation,\n  buildProgram,\n  buildShader,\n  loadShader,\n  loadProgram,\n  createBufferFromData,\n  bindGLContextToViewportDimensions,\n  bindFramebuffer,\n  createFramebuffer,\n  createTextureForRendering,\n  createRenderBuffer,\n  create2DSquarePositionsConfig,\n\n  expandVertexIndicesToDuplicatePositions,\n  calculateOrthogonalVertexNormals,\n  calculateLatLongTextureCoordinates,\n  calculateCylindricalTextureCoordinates,\n  expandVertexIndicesAroundLongitudeSeam,\n  tesselateSphere,\n  dedupVertexArrayWithPositionsAndIndicesArrays,\n  calculateSphericalSection,\n  calculateCylindricalSection,\n  scaleThenTranslatePositions,\n};\n\n// Some type defs to make my editor's auto-complete happy.\n\n/** @typedef {Object} WebGLProgram */\n/** @typedef {Object} WebGLShader */\n/** @typedef {Object} WebGLBuffer */\n/** @typedef {Object} WebGLTexture */\n/** @typedef {Float32Array|Array.<Number>} mat3 */\n/** @typedef {Float32Array|Array.<Number>} mat4 */\n/** @typedef {Float32Array|Array.<Number>} quat */\n/** @typedef {Float32Array|Array.<Number>} vec2 */\n/** @typedef {Float32Array|Array.<Number>} vec3 */\n/** @typedef {Float32Array|Array.<Number>} vec4 */\n","/**\n * A hash map that uses a custom hash function.\n */\nclass HashMap {\n  /**\n   * @param {Function} hashFunction\n   */\n  constructor(hashFunction) {\n    this._hashFunction = hashFunction;\n    this._map = new Map();\n  }\n\n  /**\n   * @param {Object} key\n   * @param {Object} value\n   */\n  set(key, value) {\n    const hashCode = this._hashFunction(key);\n    this._map.set(hashCode, value);\n  }\n\n  /**\n   * @param {Object} key\n   * @returns {Object}\n   */\n  get(key) {\n    const hashCode = this._hashFunction(key);\n    return this._map.get(hashCode);\n  }\n\n  /**\n   * @param {Object} key\n   * @returns {boolean}\n   */\n  has(key) {\n    const hashCode = this._hashFunction(key);\n    return this._map.has(hashCode);\n  }\n\n  /**\n   * @param {Object} item\n   * @returns {boolean}\n   */\n  remove(item) {\n    return this._map.delete(item);\n  }\n\n  /**\n   * @param {Function} callback\n   */\n  forEach(callback) {\n    this._map.forEach(callback);\n  }\n\n  clear() {\n    this._map.clear();\n  }\n\n  /**\n   * @returns {number}\n   */\n  get size() {\n    return this._map.size;\n  }\n}\n\nexport {HashMap};\n","/**\n * This module defines a collection of static general utility functions.\n */\n\n// TODO: This should be set from somewhere else (probably as a param to controller like before; but then I need to make this updatable)\nconst isInDevMode = true;\n\n/**\n * Adds an event listener for each of the given events to each of the given elements.\n *\n * @param {Array.<HTMLElement>} elements The elements to add event listeners to.\n * @param {Array.<String>} events The event listeners to add to the elements.\n * @param {Function} callback The single callback for handling the events.\n */\nfunction listenToMultipleForMultiple(elements, events, callback) {\n  elements.forEach(element => {\n    events.forEach(event => {\n      element.addEventListener(event, callback, false);\n    });\n  });\n}\n\n/**\n * Creates a DOM element with the given tag name, appends it to the given parent element, and\n * gives it the given id and classes.\n *\n * @param {string} tagName The tag name to give the new element.\n * @param {HTMLElement} [parent] The parent element to append the new element to.\n * @param {string} [id] The id to give the new element.\n * @param {Array.<String>} [classes] The classes to give the new element.\n * @returns {HTMLElement} The new element.\n */\nfunction createElement(tagName, parent, id, classes) {\n  const element = document.createElement(tagName);\n  if (parent) {\n    parent.appendChild(element);\n  }\n  if (id) {\n    element.id = id;\n  }\n  if (classes) {\n    classes.forEach(className => addClass(element, className));\n  }\n  return element;\n}\n\n/**\n * Determines whether the given element contains the given class.\n *\n * @param {HTMLElement} element The element to check.\n * @param {string} className The class to check for.\n * @returns {boolean} True if the element does contain the class.\n */\nfunction containsClass(element, className) {\n  let startIndex;\n  let indexAfterEnd;\n  startIndex = element.className.indexOf(className);\n  if (startIndex >= 0) {\n    if (startIndex === 0 || element.className[startIndex - 1] === ' ') {\n      indexAfterEnd = startIndex + className.length;\n      if (indexAfterEnd === element.className.length ||\n        element.className[indexAfterEnd] === ' ') {\n        return true;\n      }\n    }\n  }\n  return false;\n}\n\n/**\n * Toggles whether the given element has the given class. If the enabled argument is given, then\n * the inclusion of the class will be forced. That is, if enabled=true, then this will ensure the\n * element has the class; if enabled=false, then this will ensure the element does NOT have the\n * class; if enabled=undefined, then this will simply toggle whether the element has the class.\n *\n * @param {HTMLElement} element The element to add the class to or remove the class from.\n * @param {string} className The class to add or remove.\n * @param {boolean} [enabled] If given, then the inclusion of the class will be forced.\n */\nfunction toggleClass(element, className, enabled) {\n  if (typeof enabled === 'undefined') {\n    if (containsClass(element, className)) {\n      removeClass(element, className);\n    }\n    else {\n      addClass(element, className);\n    }\n  }\n  else if (enabled) {\n    addClass(element, className);\n  }\n  else {\n    removeClass(element, className);\n  }\n}\n\n/**\n * Gets the coordinates of the element relative to the top-left corner of the page.\n *\n * @param {HTMLElement} element The element to get the coordinates of.\n * @returns {{x: Number, y: Number}} The coordinates of the element relative to the top-left\n * corner of the page.\n */\nfunction getPageOffset(element) {\n  let x = 0;\n  let y = 0;\n  while (element) {\n    x += element.offsetLeft;\n    y += element.offsetTop;\n    element = element.offsetParent;\n  }\n  x -= document.documentElement.scrollLeft;\n  y -= document.documentElement.scrollTop;\n  return { x: x, y: y };\n}\n\n/**\n * Gets the dimensions of the viewport.\n *\n * @returns {{w: Number, h: Number}} The dimensions of the viewport.\n */\nfunction getViewportSize() {\n  let w;\n  let h;\n  if (typeof window.innerWidth !== 'undefined') {\n    // Good browsers\n    w = window.innerWidth;\n    h = window.innerHeight;\n  }\n  else if (typeof document.documentElement !== 'undefined' &&\n    typeof document.documentElement.clientWidth !== 'undefined' &&\n    document.documentElement.clientWidth !== 0) {\n    // IE6 in standards compliant mode\n    w = document.documentElement.clientWidth;\n    h = document.documentElement.clientHeight;\n  }\n  else {\n    // Older versions of IE\n    w = document.getElementsByTagName('body')[0].clientWidth;\n    h = document.getElementsByTagName('body')[0].clientHeight;\n  }\n  return { w: w, h: h };\n}\n\n/**\n * Removes the given child element from the given parent element if the child does indeed belong\n * to the parent.\n *\n * @param {HTMLElement} parent The parent to remove the child from.\n * @param {HTMLElement} child The child to remove.\n * @returns {boolean} True if the child did indeed belong to the parent.\n */\nfunction removeChildIfPresent(parent, child) {\n  if (child && child.parentNode === parent) {\n    parent.removeChild(child);\n    return true;\n  }\n  return false;\n}\n\n/**\n * Adds the given class to the given element.\n *\n * @param {HTMLElement} element The element to add the class to.\n * @param {string} className The class to add.\n */\nfunction addClass(element, className) {\n  element.setAttribute('class', element.className + ' ' + className);\n}\n\n/**\n * Removes the given class from the given element.\n *\n * @param {HTMLElement} element The element to remove the class from.\n * @param {string} className The class to remove.\n */\nfunction removeClass(element, className) {\n  element.setAttribute('class',\n    element.className\n    .split(' ')\n    .filter(value => value !== className)\n    .join(' '));\n}\n\n/**\n * Removes all classes from the given element.\n *\n * @param {HTMLElement} element The element to remove all classes from.\n */\nfunction clearClasses(element) {\n  element.className = '';\n}\n\n/**\n * Calculates the width that the DOM would give to a div with the given text. The given tag\n * name, parent, id, and classes allow the width to be affected by various CSS rules.\n *\n * @param {string} text The text to determine the width of.\n * @param {string} tagName The tag name this text would supposedly have.\n * @param {HTMLElement} [parent] The parent this text would supposedly be a child of; defaults\n * to the document body.\n * @param {string} [id] The id this text would supposedly have.\n * @param {Array.<String>} [classes] The classes this text would supposedly have.\n * @returns {number} The width of the text under these conditions.\n */\nfunction getTextWidth(text, tagName, parent, id, classes) {\n  let tmpElement;\n  let width;\n  parent = parent || document.getElementsByTagName('body')[0];\n  tmpElement = createElement(tagName, null, id, classes);\n  tmpElement.style.position = 'absolute';\n  tmpElement.style.visibility = 'hidden';\n  tmpElement.style.whiteSpace = 'nowrap';\n  parent.appendChild(tmpElement);\n  tmpElement.innerHTML = text;\n  width = tmpElement.clientWidth;\n  parent.removeChild(tmpElement);\n  return width;\n}\n\n/**\n * Encodes and concatenates the given URL parameters into a single query string.\n *\n * @param {Object} rawParams An object whose properties represent the URL query string\n * parameters.\n * @returns {string} The query string.\n */\nfunction encodeQueryString(rawParams) {\n  let parameter;\n  let encodedParams;\n  encodedParams = [];\n  for (parameter in rawParams) {\n    if (rawParams.hasOwnProperty(parameter)) {\n      encodedParams.push(encodeURIComponent(parameter) + '=' +\n        encodeURIComponent(rawParams[parameter]));\n    }\n  }\n  return '?' + encodedParams.join('&');\n}\n\n/**\n * Retrieves the value corresponding to the given name from the given query string.\n *\n * (borrowed from http://stackoverflow.com/questions/901115/how-can-i-get-query-string-values-in-javascript)\n *\n * @param {string} queryString The query string containing the parameter.\n * @param {string} name The (non-encoded) name of the parameter value to retrieve.\n * @returns {string} The query string parameter value, or null if the parameter was not found.\n */\nfunction getQueryStringParameterValue(queryString, name) {\n  let regex;\n  let results;\n  name = encodeURIComponent(name);\n  name = name.replace(/[\\[]/, '\\\\[').replace(/[\\]]/, '\\\\]');\n  regex = new RegExp('[\\\\?&]' + name + '=([^&#]*)', 'i');\n  results = regex.exec(queryString);\n  return results === null ? null : decodeURIComponent(results[1].replace(/\\+/g, ' '));\n}\n\n/**\n * Sets the CSS transition style of the given element.\n *\n * @param {HTMLElement} element The element.\n * @param {number} value The transition string.\n */\nfunction setTransition(element, value) {\n  element.style.transition = value;\n  element.style.WebkitTransition = value;\n  element.style.MozTransition = value;\n  element.style.msTransition = value;\n  element.style.OTransition = value;\n}\n\n/**\n * Sets the CSS transition duration style of the given element.\n *\n * @param {HTMLElement} element The element.\n * @param {number} value The duration.\n */\nfunction setTransitionDurationSeconds(element, value) {\n  element.style.transitionDuration = value + 's';\n  element.style.WebkitTransitionDuration = value + 's';\n  element.style.MozTransitionDuration = value + 's';\n  element.style.msTransitionDuration = value + 's';\n  element.style.OTransitionDuration = value + 's';\n}\n\n/**\n * Sets the CSS transition delay style of the given element.\n *\n * @param {HTMLElement} element The element.\n * @param {number} value The delay.\n */\nfunction setTransitionDelaySeconds(element, value) {\n  element.style.transitionDelay = value + 's';\n  element.style.WebkitTransitionDelay = value + 's';\n  element.style.MozTransitionDelay = value + 's';\n  element.style.msTransitionDelay = value + 's';\n  element.style.OTransitionDelay = value + 's';\n}\n\n/**\n * Sets the userSelect style of the given element to 'none'.\n *\n * @param {HTMLElement} element\n */\nfunction setUserSelectNone(element) {\n  element.style.userSelect = 'none';\n  element.style.webkitUserSelect = 'none';\n  element.style.MozUserSelect = 'none';\n  element.style.msUserSelect = 'none';\n}\n\n/**\n * Removes any children elements from the given parent that have the given class.\n *\n * @param {HTMLElement} parent The parent to remove children from.\n * @param {string} className The class to match.\n */\nfunction removeChildrenWithClass(parent, className) {\n  let matchingChildren = parent.querySelectorAll('.' + className);\n\n  for (let i = 0, count = matchingChildren.length; i < count; i++) {\n    parent.removeChild(matchingChildren[i]);\n  }\n}\n\n/**\n * Sets the CSS transition-timing-function style of the given element with the given cubic-\n * bezier points.\n *\n * @param {HTMLElement} element The element.\n * @param {{p1x: Number, p1y: Number, p2x: Number, p2y: Number}} bezierPts The cubic-bezier\n * points to use for this timing function.\n */\nfunction setTransitionCubicBezierTimingFunction(element, bezierPts) {\n  const value = 'cubic-bezier(' + bezierPts.p1x + ',' + bezierPts.p1y + ',' + bezierPts.p2x + ',' +\n    bezierPts.p2y + ')';\n  element.style.transitionTimingFunction = value;\n  element.style.WebkitTransitionTimingFunction = value;\n  element.style.MozTransitionTimingFunction = value;\n  element.style.msTransitionTimingFunction = value;\n  element.style.OTransitionTimingFunction = value;\n}\n\n// A collection of different types of easing functions.\nconst easingFunctions = {\n  linear: t => t,\n  easeInQuad: t => t * t,\n  easeOutQuad: t => t * (2 - t),\n  easeInOutQuad: t => t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t,\n  easeInCubic: t => t * t * t,\n  easeOutCubic: t => 1 + --t * t * t,\n  easeInOutCubic: t => t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1,\n  easeInQuart: t => t * t * t * t,\n  easeOutQuart: t => 1 - --t * t * t * t,\n  easeInOutQuart: t => t < 0.5 ? 8 * t * t * t * t : 1 - 8 * --t * t * t * t,\n  easeInQuint: t => t * t * t * t * t,\n  easeOutQuint: t => 1 + --t * t * t * t * t,\n  easeInOutQuint: t => t < 0.5 ? 16 * t * t * t * t * t : 1 + 16 * --t * t * t * t * t\n};\n\n// A collection of the inverses of different types of easing functions.\nconst inverseEasingFunctions = {\n  linear: t => t,\n  easeInQuad: t => Math.sqrt(t),\n  easeOutQuad: t => 1 - Math.sqrt(1 - t),\n  easeInOutQuad: t => t < 0.5 ? Math.sqrt(t * 0.5) : 1 - 0.70710678 * Math.sqrt(1 - t)\n};\n\n/**\n * Calculates the x and y coordinates represented by the given Bezier curve at the given\n * percentage.\n *\n * @param {number} percent Expressed as a number between 0 and 1.\n * @param {Array.<{x:Number,y:Number}>} controlPoints\n * @returns {{x:Number,y:Number}}\n */\nfunction getXYFromPercentWithBezier(percent, controlPoints) {\n  let x;\n  let y;\n  let oneMinusPercent;\n  let tmp1;\n  let tmp2;\n  let tmp3;\n  let tmp4;\n\n  oneMinusPercent = 1 - percent;\n  tmp1 = oneMinusPercent * oneMinusPercent * oneMinusPercent;\n  tmp2 = 3 * percent * oneMinusPercent * oneMinusPercent;\n  tmp3 = 3 * percent * percent * oneMinusPercent;\n  tmp4 = percent * percent * percent;\n\n  x = controlPoints[0].x * tmp1 +\n    controlPoints[1].x * tmp2 +\n    controlPoints[2].x * tmp3 +\n    controlPoints[3].x * tmp4;\n  y = controlPoints[0].y * tmp1 +\n    controlPoints[1].y * tmp2 +\n    controlPoints[2].y * tmp3 +\n    controlPoints[3].y * tmp4;\n\n  return { x: x, y: y };\n}\n\n/**\n * Applies the given transform to the given element as a CSS style in a cross-browser compatible\n * manner.\n *\n * @param {HTMLElement} element\n * @param {string} transform\n */\nfunction setTransform(element, transform) {\n  element.style.webkitTransform = transform;\n  element.style.MozTransform = transform;\n  element.style.msTransform = transform;\n  element.style.OTransform = transform;\n  element.style.transform = transform;\n}\n\n/**\n * Returns a copy of the given array with its contents re-arranged in a random order.\n *\n * The original array is left in its original order.\n *\n * @param {Array} array\n * @returns {Array}\n */\nfunction shuffle(array) {\n  let i;\n  let j;\n  let count;\n  let temp;\n\n  for (i = 0, count = array.length; i < count; i++) {\n    j = parseInt(Math.random() * count);\n    temp = array[j];\n    array[j] = array[i];\n    array[i] = temp;\n  }\n\n  return array;\n}\n\n/**\n * Performs a shallow copy of the given object.\n *\n * This only copies enumerable properties.\n *\n * @param {Object} object\n * @returns {Object}\n */\nfunction shallowCopy(object) {\n  if (typeof object === 'object') {\n    const cloneObject = {};\n\n    Object.keys(object)\n      .forEach(key => cloneObject[key] = object[key]);\n\n    return cloneObject;\n  }\n  else {\n    return object;\n  }\n}\n\n/**\n * Performs a deep copy of the given object.\n *\n * This only copies enumerable properties.\n *\n * @param {Object} object\n * @returns {Object}\n */\nfunction deepCopy(object) {\n  if (typeof object === 'object') {\n    // Hack: Not a robust copy policy\n    let cloneObject;\n    if (object instanceof Array) {\n      cloneObject = [];\n    }\n    else {\n      cloneObject = {};\n    }\n\n    Object.keys(object)\n      .forEach(key => cloneObject[key] = deepCopy(object[key]));\n\n    return cloneObject;\n  }\n  else {\n    return object;\n  }\n}\n\n/**\n * Converts the given HSL color values to HSV color values.\n *\n * Given and returned values will be in the range of [0, 1].\n *\n * @param {HslColor} hsl\n * @returns {{h:Number,s:Number,v:Number}}\n */\nfunction hslToHsv(hsl) {\n  const temp = hsl.s * (hsl.l < 0.5 ? hsl.l : 1 - hsl.l);\n  return {\n    h: hsl.h,\n    s: 2 * temp / (hsl.l + temp),\n    v: hsl.l + temp\n  };\n}\n\n/**\n * Converts the given HSV color values to HSL color values.\n *\n * Given and returned values will be in the range of [0, 1].\n *\n * @param {{h:Number,s:Number,v:Number}} hsv\n * @returns {HslColor}\n */\nfunction hsvToHsl(hsv) {\n  const temp = (2 - hsv.s) * hsv.v;\n  return {\n    h: hsv.h,\n    s: hsv.s * hsv.v / (temp < 1 ? temp : 2.00000001 - temp),\n    l: temp * 0.5\n  };\n}\n\n/**\n * Converts the given HSL color values to RGB color values.\n *\n * Given and returned values will be in the range of [0, 1].\n *\n * Originally adapted from http://en.wikipedia.org/wiki/HSL_color_space.\n *\n * @param {HslColor} hsl\n * @returns {RgbColor} rgb\n */\nfunction hslToRgb(hsl) {\n  let r;\n  let g;\n  let b;\n\n  if (hsl.s === 0) {\n    // Achromatic.\n    r = hsl.l;\n    g = hsl.l;\n    b = hsl.l;\n  }\n  else {\n    const q = hsl.l < 0.5 ?\n      hsl.l * (1 + hsl.s) :\n      hsl.l + hsl.s - hsl.l * hsl.s;\n    const p = 2 * hsl.l - q;\n\n    r = _hue2Rgb(p, q, hsl.h + 1 / 3);\n    g = _hue2Rgb(p, q, hsl.h);\n    b = _hue2Rgb(p, q, hsl.h - 1 / 3);\n  }\n\n  return {\n    r: r,\n    g: g,\n    b: b\n  };\n}\n\nfunction _hue2Rgb(p, q, t) {\n  if (t < 0) {\n    t++;\n  }\n  else if (t > 1) {\n    t--;\n  }\n\n  if (t < 1 / 6) {\n    return p + (q - p) * 6 * t;\n  }\n  else if (t < 1 / 2) {\n    return q;\n  }\n  else if (t < 2 / 3) {\n    return p + (q - p) * (2 / 3 - t) * 6;\n  }\n  else {\n    return p;\n  }\n}\n\n/**\n * Converts the given RGB color values to HSL color values.\n *\n * Given and returned values will be in the range of [0, 1].\n *\n * Originally adapted from http://en.wikipedia.org/wiki/HSL_color_space.\n *\n * @param {{r:Number,g:Number,b:Number}} rgb\n * @returns {HslColor} hsl\n */\nfunction rgbToHsl(rgb) {\n  const max = Math.max(rgb.r, rgb.g, rgb.b);\n  const min = Math.min(rgb.r, rgb.g, rgb.b);\n  let h;\n  let s;\n  const l = (max + min) / 2;\n\n  if (max === min) {\n    // Achromatic.\n    h = 0;\n    s = 0;\n  }\n  else {\n    const d = max - min;\n    s = l > 0.5 ?\n      d / (2 - max - min) :\n      d / (max + min);\n\n    switch (max) {\n      case rgb.r:\n        h = (rgb.g - rgb.b) / d + (rgb.g < rgb.b ? 6 : 0);\n        break;\n      case rgb.g:\n        h = (rgb.b - rgb.r) / d + 2;\n        break;\n      case rgb.b:\n        h = (rgb.r - rgb.g) / d + 4;\n        break;\n    }\n\n    h /= 6;\n  }\n\n  return {\n    h: h,\n    s: s,\n    l: l\n  };\n}\n\n/**\n * Creates a valid color string to assign to a CSS property from the given h/s/l color values.\n *\n * Given values should be in the range of [0,1].\n *\n * @param {HslColor} hsl\n * @returns {string}\n */\nfunction createHslColorString(hsl) {\n  return typeof hsl.a !== 'undefined' ?\n    `hsla(${hsl.h * 360},${hsl.s * 100}%,${hsl.l * 100}%,${hsl.a})` :\n    `hsl(${hsl.h * 360},${hsl.s * 100}%,${hsl.l * 100}%)`;\n}\n\n/**\n * Checks the given element and all of its ancestors, and returns the first that contains the\n * given class.\n *\n * @param {?HTMLElement} element\n * @param {string} className\n * @returns {?HTMLElement}\n */\nfunction findClassInSelfOrAncestors(element, className) {\n  while (element) {\n    if (containsClass(element, className)) {\n      return element;\n    }\n  }\n\n  return null;\n}\n\nlet utilStyleSheet;\n\n/**\n * Adds the given style rule to a style sheet for the current document.\n *\n * @param {string} styleRule\n */\nfunction addRuleToStyleSheet(styleRule) {\n  // Create the custom style sheet if it doesn't already exist\n  if (!utilStyleSheet) {\n    utilStyleSheet = document.createElement('style');\n    document.getElementsByTagName('head')[0].appendChild(utilStyleSheet);\n  }\n\n  // Add the given rule to the custom style sheet\n  if (utilStyleSheet.styleSheet) {\n    utilStyleSheet.styleSheet.cssText = styleRule;\n  }\n  else {\n    utilStyleSheet.appendChild(document.createTextNode(styleRule));\n  }\n}\n\nfunction checkForSafari() {\n  return /Safari/i.test(window.navigator.userAgent) && !/Chrome/i.test(window.navigator.userAgent);\n}\n\nfunction checkForIos() {\n  return /iPhone|iPod|iPad/i.test(window.navigator.userAgent);\n}\n\n/**\n * Returns a debounced version of the given function.\n *\n * Even if the debounced function is invoked many times, the wrapped function will only be invoked\n * after the given delay has ellapsed since the last invocation.\n *\n * If isInvokedImmediately is true, then the wrapped function will be triggered at the start of the\n * invocation group rather than at the end.\n *\n * @param {Function} wrappedFunction\n * @param {number} delay In milliseconds.\n * @param {boolean} [isInvokedImmediately=false]\n * @returns {Function}\n */\nfunction debounce(wrappedFunction, delay, isInvokedImmediately = false) {\n  let timeoutId;\n\n  return () => {\n    // Save the context and arguments passed from the client (this will use the values from the\n    // first invocation of the invocation group.\n    const context = this;\n    const args = arguments;\n\n    // Invoke immediately only if this is the first invocation of a group.\n    if (isInvokedImmediately && !timeoutId) {\n      wrappedFunction.apply(context, args);\n    }\n\n    // Reset the delay.\n    clearTimeout(timeoutId);\n    timeoutId = setTimeout(() => {\n      // The invocation group has ended.\n      timeoutId = null;\n      if (!isInvokedImmediately) {\n        wrappedFunction.apply(context, args);\n      }\n    }, delay);\n  };\n}\n\n/**\n * Returns a throttled version of the given function.\n *\n * Even if the throttled function is invoked many times, the wrapped function will only be invoked\n * at each interval of the given delay. After the throttled function stops being invoked, then\n * wrapped function will also stop being invoked.\n *\n * If isInvokedImmediately is true, then the wrapped function will be triggered at the start of the\n * invocation delay rather than at the end.\n *\n * @param {Function} wrappedFunction\n * @param {number} delay In milliseconds.\n * @param {boolean} [isInvokedImmediately=false]\n * @returns {Function}\n */\nfunction throttle(wrappedFunction, delay, isInvokedImmediately = false) {\n  let timeoutId;\n\n  return () => {\n    // Save the context and arguments passed from the client (this will use the values from the\n    // first invocation of the invocation group.\n    const context = this;\n    const args = arguments;\n\n    // Only trigger a new invocation group if we are not already/still waiting on the delay from a\n    // previous invocation.\n    if (!timeoutId) {\n      if (isInvokedImmediately) {\n        wrappedFunction.apply(context, args);\n      }\n\n      // Start the delay.\n      timeoutId = setTimeout(() => {\n        // The invocation group has ended.\n        timeoutId = null;\n        if (!isInvokedImmediately) {\n          wrappedFunction.apply(context, args);\n        }\n      }, delay);\n    }\n  };\n}\n\n/**\n * @param {Array.<*>|String} array\n * @param {*} delimiter\n * @returns {Array.<*>}\n * @private\n */\nfunction _interleave(array, delimiter) {\n  const result = new Array(array.length * 2 - 1);\n  if (array.length) {\n    result.push(array[0]);\n  }\n  for (let i = 1, count = array.length; i < count; i++) {\n    result.push(delimiter);\n    result.push(array[i]);\n  }\n  return result;\n}\n\n/**\n * Loads the given src for the given image.\n *\n * @param {HTMLImageElement} image\n * @param {string} src\n * @returns {Promise.<HTMLImageElement, Error>}\n */\nfunction loadImageSrc(image, src) {\n  return new Promise((resolve, reject) => {\n    console.debug(`Loading image: ${src}`);\n\n    image.addEventListener('load', _ => resolve(image));\n    image.addEventListener('error', reject);\n    image.addEventListener('abort', reject);\n\n    image.src = src;\n  });\n}\n\n/**\n * Loads text from the given URL.\n *\n * @param {string} url\n * @returns {Promise.<String, Error>}\n */\nfunction loadText(url) {\n  return new Promise((resolve, reject) => {\n    const xhr = new XMLHttpRequest();\n\n    xhr.addEventListener('load', _ => resolve(xhr.response));\n    xhr.addEventListener('error', reject);\n    xhr.addEventListener('abort', reject);\n\n    console.debug(`Loading text: ${url}`);\n\n    xhr.open('GET', url);\n    xhr.send();\n  });\n}\n\n/**\n * Loads a JSON object from the given URL.\n *\n * @param {string} url\n * @returns {Promise.<Object, Error>}\n */\nfunction loadJson(url) {\n  return loadText(url).then(jsonText => JSON.parse(jsonText));\n}\n\n/**\n * Gets the current stack trace.\n *\n * @returns {string}\n */\nfunction getStackTrace() {\n  return new Error().stack;\n}\n\n/**\n * Freezes the given object and recursively freezes all of its properties.\n *\n * @param {Object} object\n */\nfunction deepFreeze(object) {\n  if (typeof object === 'object') {\n    Object.freeze(object);\n    Object.keys(object).forEach(key => deepFreeze(object[key]));\n  }\n}\n\n/**\n * Creates a GUID.\n *\n * GUID specification: http://www.ietf.org/rfc/rfc4122.txt\n *\n * Logic adopted from http://stackoverflow.com/a/2117523/489568.\n *\n * @returns {string}\n */\nfunction createGuid() {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {\n    const r = Math.random() * 16 | 0;\n    const v = c === 'x' ? r : (r & 0x3 | 0x8);\n    return v.toString(16);\n  });\n}\n\n/**\n * -11 % 3 === -2\n * mod(-11, 3) === 1\n *\n * @param {number} n\n * @param {number} m\n * @returns {number}\n */\nfunction mod(n, m) {\n  return ((n % m) + m) % m;\n}\n\n/**\n * @param {number} min\n * @param {number} max\n * @returns {number}\n */\nfunction randomFloatInRange(min, max) {\n  return Math.random() * (max - min) + min;\n}\n\n/**\n * @param {number} min Inclusive\n * @param {number} max Exclusive\n * @returns {number}\n */\nfunction randomIntInRange(min, max) {\n  return parseInt(Math.random() * (max - min) + min);\n}\n\n/**\n * @param {Array} list\n * @returns {*}\n */\nfunction pickRandom(list) {\n  return list[randomIntInRange(0, list.length)];\n}\n\n/**\n * Triggers the given callback when either the current tab or the browser window loses/gains focus.\n *\n * @param {Function} focusChangeHandler\n */\nfunction handlePageFocusChange(focusChangeHandler) {\n  // Pause/unpause the app when the tab loses/gains focus.\n  document.addEventListener('visibilitychange', () => focusChangeHandler(!document.hidden));\n  // Pause/unpause the app when the browser window loses/gains focus.\n  window.addEventListener('blur', () => focusChangeHandler(false));\n  window.addEventListener('focus', () => focusChangeHandler(true));\n}\n\n/**\n * Creates an array with all the consecutive numbers from start (inclusive) to end (exclusive).\n *\n * @param {number} start\n * @param {number} end\n * @returns {Array.<Number>}\n */\nfunction range(start, end) {\n  const r = [];\n  for (let i = 0, j = start; j < end; i++, j++) {\n    r[i] = j;\n  }\n  return r;\n}\n\n/**\n * @param {*} value\n * @returns {boolean}\n */\nfunction isInt(value) {\n  return typeof value === 'number' &&\n    isFinite(value) &&\n    parseInt(value) === value;\n}\n\n/**\n * Find the first value in a list that satisfies a predicate.\n *\n * @param {Array} list\n * @param {Function} predicate\n * @returns {*}\n */\nfunction find(list, predicate) {\n  for (var i = 0, count = list.length; i < count; i++) {\n    const value = list[i];\n    if (predicate.call(null, value, i, list)) {\n      return value;\n    }\n  }\n  return null;\n}\n\nconst keyCodes = {\n  'a': 65,\n  'b': 66,\n  'c': 67,\n  'd': 68,\n  'e': 69,\n  'f': 70,\n  'g': 71,\n  'h': 72,\n  'i': 73,\n  'j': 74,\n  'k': 75,\n  'l': 76,\n  'm': 77,\n  'n': 78,\n  'o': 79,\n  'p': 80,\n  'q': 81,\n  'r': 82,\n  's': 83,\n  't': 84,\n  'u': 85,\n  'v': 86,\n  'w': 87,\n  'x': 88,\n  'y': 89,\n  'z': 90,\n  '0': 48,\n  '1': 49,\n  '2': 50,\n  '3': 51,\n  '4': 52,\n  '5': 53,\n  '6': 54,\n  '7': 55,\n  '8': 56,\n  '9': 57,\n  'SPACE': 32,\n  'ENTER': 13,\n  'ESCAPE': 27,\n  'LEFT': 37,\n  'UP': 38,\n  'RIGHT': 39,\n  'DOWN': 40\n};\n\nconst svgNamespace = 'http://www.w3.org/2000/svg';\nconst xlinkNamespace = 'http://www.w3.org/1999/xlink';\n\nexport {\n  isInDevMode,\n  listenToMultipleForMultiple,\n  createElement,\n  containsClass,\n  toggleClass,\n  getPageOffset,\n  getViewportSize,\n  removeChildIfPresent,\n  addClass,\n  removeClass,\n  clearClasses,\n  getTextWidth,\n  encodeQueryString,\n  getQueryStringParameterValue,\n  setTransition,\n  setTransitionDurationSeconds,\n  setTransitionDelaySeconds,\n  setUserSelectNone,\n  removeChildrenWithClass,\n  setTransitionCubicBezierTimingFunction,\n  easingFunctions,\n  inverseEasingFunctions,\n  getXYFromPercentWithBezier,\n  setTransform,\n  shuffle,\n  shallowCopy,\n  deepCopy,\n  hsvToHsl,\n  hslToHsv,\n  hslToRgb,\n  rgbToHsl,\n  createHslColorString,\n  findClassInSelfOrAncestors,\n  addRuleToStyleSheet,\n  checkForSafari,\n  checkForIos,\n  debounce,\n  throttle,\n  loadImageSrc,\n  loadText,\n  loadJson,\n  getStackTrace,\n  deepFreeze,\n  createGuid,\n  mod,\n  randomFloatInRange,\n  randomIntInRange,\n  pickRandom,\n  handlePageFocusChange,\n  range,\n  isInt,\n  find,\n  keyCodes,\n  svgNamespace,\n  xlinkNamespace,\n};\n\n/**\n * @typedef {Object} HslColor\n * @property {Number} h In the range of [0, 1].\n * @property {Number} s In the range of [0, 1].\n * @property {Number} l In the range of [0, 1].\n * @property {Number} [a] In the range of [0, 1].\n */\n\n/**\n * @typedef {Object} RgbColor\n * @property {Number} r In the range of [0, 1].\n * @property {Number} g In the range of [0, 1].\n * @property {Number} b In the range of [0, 1].\n * @property {Number} [a] In the range of [0, 1].\n */\n","/**\n * An AnimationJob is used with the animator controller to update and re-draw something each frame.\n *\n * @abstract\n */\nclass AnimationJob {\n  /**\n   * @param {Function} [onComplete] A callback to be called when this AnimationJob is finished.\n   */\n  constructor(onComplete) {\n    // AnimationJob is an abstract class. It should not be instantiated directly.\n    if (new.target === AnimationJob) {\n      throw new TypeError('Cannot construct AnimationJob instances directly');\n    }\n\n    this._startTime = 0;\n    this._isComplete = true;\n    this._onComplete = onComplete;\n  }\n\n  /**\n   * Indicates whether this AnimationJob is complete.\n   *\n   * @return {boolean}\n   */\n  get isComplete() {\n    return this._isComplete;\n  }\n\n  /**\n   * Sets this AnimationJob as started.\n   *\n   * @param {DOMHighResTimeStamp} startTime\n   */\n  start(startTime) {\n    this._startTime = startTime;\n    this._isComplete = false;\n  }\n\n  /**\n   * Updates the animation progress of this AnimationJob to match the given time.\n   *\n   * This is called from the overall animation loop.\n   *\n   * @param {DOMHighResTimeStamp} currentTime\n   * @param {DOMHighResTimeStamp} deltaTime\n   * @abstract\n   */\n  update(currentTime, deltaTime) {\n    // Extending classes should implement this method.\n    throw new TypeError('Method not implemented');\n  }\n\n  /**\n   * Draws the current state of this AnimationJob.\n   *\n   * This is called from the overall animation loop.\n   *\n   * @abstract\n   */\n  draw() {\n    // Extending classes should implement this method.\n    throw new TypeError('Method not implemented');\n  }\n\n  /**\n   * Handles any necessary state for this AnimationJob being finished.\n   *\n   * @param {boolean} isCancelled\n   */\n  finish(isCancelled) {\n    console.log(`${this.constructor.name} ${isCancelled ? 'cancelled' : 'completed'}`);\n\n    this._isComplete = true;\n\n    if (this._onComplete) {\n      this._onComplete();\n    }\n  }\n}\n\nexport {AnimationJob};\n","import {FrameLatencyProfiler} from './frame-latency-profiler';\nimport {PersistentAnimationJob} from './persistent-animation-job';\nimport {TransientAnimationJob} from './transient-animation-job';\n\nconst _DELTA_TIME_UPPER_THRESHOLD = 200;\nconst _FRAME_DURATION_WARNING_THRESHOLD = 1000 / 30;\nconst _FRAME_LATENCY_LOG_PERIOD = 5000;\nconst _LATENCY_LOG_LABEL = 'Animation frame period';\n\n/**\n * This class handles the animation loop.\n *\n * This class's responsibilities include:\n * - updating modules for the current frame,\n * - drawing renderables for the current frame,\n * - starting and stopping transient animation jobs,\n * - capping time step durations at a max threshold.\n */\nclass Animator {\n  constructor() {\n    this._jobs = [];\n    this._previousTime = null;\n    this._isPaused = true;\n    this._requestAnimationFrameId = null;\n    this._totalUnpausedRunTime = 0;\n    this._lastUnpauseTime = null;\n    this._latencyProfiler = new FrameLatencyProfiler(_FRAME_LATENCY_LOG_PERIOD,\n        _FRAME_DURATION_WARNING_THRESHOLD, _LATENCY_LOG_LABEL);\n  }\n\n  /**\n   * Starts the given AnimationJob.\n   *\n   * @param {AnimationJob} job\n   */\n  startJob(job) {\n    // Is this a restart?\n    if (!job.isComplete) {\n      console.debug(`Restarting AnimationJob: ${job.constructor.name}`);\n\n      if (job instanceof PersistentAnimationJob) {\n        job.reset();\n      } else {\n        job.finish(true);\n        job.start(window.performance.now());\n      }\n    } else {\n      console.debug(`Starting AnimationJob: ${job.constructor.name}`);\n\n      job.start(this._previousTime);\n      this._jobs.push(job);\n    }\n\n    this._startAnimationLoop();\n  }\n\n  /**\n   * Cancels the given AnimationJob.\n   *\n   * @param {AnimationJob} job\n   */\n  cancelJob(job) {\n    console.debug(`Cancelling AnimationJob: ${job.constructor.name}`);\n    job.finish(true);\n  }\n\n  /**\n   * Cancels all running AnimationJobs.\n   */\n  cancelAll() {\n    while (this._jobs.length) {\n      this.cancelJob(this._jobs[0]);\n    }\n  }\n\n  /** @returns {DOMHighResTimeStamp} */\n  get currentTime() {\n    return this._previousTime;\n  }\n\n  /** @returns {boolean} */\n  get isPaused() {\n    return this._isPaused;\n  }\n\n  pause() {\n    this._stopAnimationLoop();\n    console.debug('Animator paused');\n  }\n\n  unpause() {\n    this._startAnimationLoop();\n    console.debug('Animator unpaused');\n  }\n\n  /**\n   * This is the animation loop that drives all of the animation.\n   *\n   * @param {DOMHighResTimeStamp} currentTime\n   * @private\n   */\n  _animationLoop(currentTime) {\n    // When pausing and restarting, it's possible for the previous time to be slightly inconsistent\n    // with the animationFrame time.\n    if (currentTime < this._previousTime) {\n      this._previousTime = currentTime - 1;\n    }\n\n    let deltaTime = currentTime - this._previousTime;\n    this._previousTime = currentTime;\n\n    this._latencyProfiler.recordFrameLatency(deltaTime);\n\n    // Large delays between frames can cause lead to instability in the system, so this caps them to\n    // a max threshold.\n    deltaTime = deltaTime > _DELTA_TIME_UPPER_THRESHOLD ?\n        _DELTA_TIME_UPPER_THRESHOLD : deltaTime;\n\n    if (!this._isPaused) {\n      this._requestAnimationFrameId =\n          window.requestAnimationFrame(currentTime => this._animationLoop(currentTime));\n      this._updateJobs(currentTime, deltaTime);\n      this._drawJobs();\n    }\n  }\n\n  /**\n   * Updates all of the active AnimationJobs.\n   *\n   * @param {DOMHighResTimeStamp} currentTime\n   * @param {DOMHighResTimeStamp} deltaTime\n   * @private\n   */\n  _updateJobs(currentTime, deltaTime) {\n    for (let i = 0, count = this._jobs.length; i < count; i++) {\n      let job = this._jobs[i];\n\n      // Remove jobs from the list after they are complete.\n      if (job.isComplete) {\n        this._removeJob(job, i);\n        i--;\n        count--;\n        continue;\n      }\n\n      // Check whether the job is transient and has reached its end.\n      if (job instanceof TransientAnimationJob && job.endTime < currentTime) {\n        job.finish(false);\n      } else {\n        job.update(currentTime, deltaTime);\n      }\n    }\n  }\n\n  /**\n   * Removes the given job from the collection of active, animating jobs.\n   *\n   * @param {AnimationJob} job\n   * @param {number} [index=-1]\n   * @private\n   */\n  _removeJob(job, index = -1) {\n    console.debug(`Removing AnimationJob: ${job.constructor.name}`);\n\n    if (index >= 0) {\n      this._jobs.splice(index, 1);\n    } else {\n      const count = this._jobs.length;\n      for (index = 0; index < count; index++) {\n        if (this._jobs[index] === job) {\n          this._jobs.splice(index, 1);\n          break;\n        }\n      }\n    }\n\n    // Stop the animation loop when there are no more jobs to animate.\n    if (this._jobs.length === 0) {\n      this._stopAnimationLoop();\n    }\n  }\n\n  /**\n   * Draws all of the active AnimationJobs.\n   *\n   * @private\n   */\n  _drawJobs() {\n    for (let i = 0, count = this._jobs.length; i < count; i++) {\n      this._jobs[i].draw();\n    }\n  }\n\n  /**\n   * Starts the animation loop if it is not already running.\n   *\n   * This method is idempotent.\n   *\n   * @private\n   */\n  _startAnimationLoop() {\n    if (this._isPaused) {\n      this._lastUnpauseTime = window.performance.now();\n    }\n    this._isPaused = false;\n\n    // Only actually start the loop if it isn't already running and the page has focus.\n    if (!this._requestAnimationFrameId && !document.hidden) {\n      this._latencyProfiler.start();\n      this._previousTime = window.performance.now();\n      this._requestAnimationFrameId =\n          window.requestAnimationFrame(time => this._animationLoop(time));\n    }\n  }\n\n  /**\n   * Stops the animation loop.\n   *\n   * @private\n   */\n  _stopAnimationLoop() {\n    if (!this._isPaused) {\n      this._totalUnpausedRunTime += this._timeSinceLastPaused;\n    }\n    this._isPaused = true;\n    window.cancelAnimationFrame(this._requestAnimationFrameId);\n    this._requestAnimationFrameId = null;\n    this._latencyProfiler.stop();\n  }\n\n  /**\n   * Creates a promise that will resolve on the next animation loop.\n   *\n   * @returns {Promise}\n   */\n  resolveOnNextFrame() {\n    return new Promise(window.requestAnimationFrame);\n  }\n\n  /**\n   * Gets the total amount of time the animator has been running while not paused.\n   *\n   * @returns {DOMHighResTimeStamp}\n   */\n  get totalRunTime() {\n    return this._isPaused\n        ? this._totalUnpausedRunTime\n        : this._totalUnpausedRunTime + this._timeSinceLastPaused;\n  }\n\n  /**\n   * @returns {DOMHighResTimeStamp}\n   */\n  get _timeSinceLastPaused() {\n    return window.performance.now() - this._lastUnpauseTime;\n  }\n}\n\nconst animator = new Animator();\n\nexport {animator};\n\n/**\n * @typedef {number} DOMHighResTimeStamp A number of milliseconds, accurate to one thousandth of a\n * millisecond.\n */\n\n","/**\n * This class keeps track of avg/min/max frame latencies over the last logging time period and\n * periodically logs these values.\n */\nclass FrameLatencyProfiler {\n  /**\n   * @param {number} logPeriod The period at which to print latency log messages. In milliseconds.\n   * @param {number} latencyWarningThreshold If the average latency exceeds this threshold, then the\n   * log message is shown as a warning. In milliseconds.\n   * @param {string} logLabel A label to show for each latency log message.\n   */\n  constructor(logPeriod, latencyWarningThreshold, logLabel) {\n    this._logPeriod = logPeriod;\n    this._latencyWarningThreshold = latencyWarningThreshold;\n    this._logLabel = logLabel;\n\n    this._frameCount = null;\n    this._maxFrameLatency = null;\n    this._minFrameLatency = null;\n    this._avgFrameLatency = null;\n\n    this._intervalId = null;\n  }\n\n  start() {\n    this.stop();\n    this.reset();\n\n    this._intervalId = setInterval(() => {\n      this.logFrameLatency();\n      this.reset();\n    }, this._logPeriod);\n  }\n\n  stop() {\n    clearInterval(this._intervalId);\n  }\n\n  reset() {\n    this._frameCount = 0;\n    this._maxFrameLatency = Number.MIN_VALUE;\n    this._minFrameLatency = Number.MAX_VALUE;\n    this._avgFrameLatency = 0;\n  }\n\n  /**\n   * Keeps track of a running average, min value, and max value for the frame latencies.\n   *\n   * @param {DOMHighResTimeStamp} frameLatency\n   */\n  recordFrameLatency(frameLatency) {\n    this._frameCount++;\n    this._maxFrameLatency =\n        this._maxFrameLatency < frameLatency ? frameLatency : this._maxFrameLatency;\n    this._minFrameLatency =\n        this._minFrameLatency > frameLatency ? frameLatency : this._minFrameLatency;\n    this._avgFrameLatency =\n        this._avgFrameLatency + (frameLatency - this._avgFrameLatency) / this._frameCount;\n  }\n\n  logFrameLatency() {\n    if (this._frameCount > 0) {\n      const message = `${this._logLabel}:  AVG=${this._avgFrameLatency.toFixed(3)}  ` +\n          `(MAX=${this._maxFrameLatency.toFixed(3)}; MIN=${this._minFrameLatency.toFixed(3)})`;\n      if (this._maxFrameLatency >= this._latencyWarningThreshold) {\n        console.warn(message);\n      } else {\n        console.debug(message);\n      }\n    }\n  }\n}\n\nexport {FrameLatencyProfiler};\n","export * from './animation-job';\nexport * from './animator';\nexport * from './frame-latency-profiler';\nexport * from './persistent-animation-job';\nexport * from './transient-animation-job';\n","import {AnimationJob} from './animation-job';\n\n/**\n * A PersistentAnimationJob recurs or has an indefinite duration.\n *\n * @abstract\n */\nclass PersistentAnimationJob extends AnimationJob {\n  /**\n   * @param {Function} [onComplete] A callback to be called when this AnimationJob is finished.\n   */\n  constructor(onComplete) {\n    super(onComplete);\n\n    // PersistentAnimationJob is an abstract class. It should not be instantiated directly.\n    if (new.target === PersistentAnimationJob) {\n      throw new TypeError('Cannot construct PersistentAnimationJob instances directly');\n    }\n  }\n\n  /**\n   * @abstract\n   */\n  reset() {\n    // Extending classes should implement this method.\n    throw new TypeError('Method not implemented');\n  }\n}\n\nexport {PersistentAnimationJob};\n","import {_util} from './util';\n\nimport {AnimationJob} from './animation-job';\n\n/**\n * A TransientAnimationJob is temporary and has a definite beginning and end.\n *\n * @abstract\n */\nclass TransientAnimationJob extends AnimationJob {\n  /**\n   * @param {number} duration\n   * @param {number} delay\n   * @param {Function|String} easingFunction\n   * @param {Function} [onComplete] A callback to be called when this AnimationJob is finished.\n   */\n  constructor(duration, delay, easingFunction, onComplete) {\n    super(onComplete);\n\n    // TransientAnimationJob is an abstract class. It should not be instantiated directly.\n    if (new.target === TransientAnimationJob) {\n      throw new TypeError('Cannot construct TransientAnimationJob instances directly');\n    }\n\n    this._duration = duration;\n    this._delay = delay;\n    this._easingFunction = typeof easingFunction === 'function'\n        ? easingFunction\n        : _util.easingFunctions[easingFunction];\n  }\n\n  /**\n   * @returns {number}\n   */\n  get endTime() {\n    return this._startTime + this._duration + this._delay;\n  }\n}\n\nexport {TransientAnimationJob};\n","/**\n * This module defines a collection of static utility functions.\n */\n\n// A collection of different types of easing functions.\nconst easingFunctions = {\n  linear: t => t,\n  easeInQuad: t => t * t,\n  easeOutQuad: t => t * (2 - t),\n  easeInOutQuad: t => t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t,\n  easeInCubic: t => t * t * t,\n  easeOutCubic: t => 1 + --t * t * t,\n  easeInOutCubic: t => t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1,\n  easeInQuart: t => t * t * t * t,\n  easeOutQuart: t => 1 - --t * t * t * t,\n  easeInOutQuart: t => t < 0.5 ? 8 * t * t * t * t : 1 - 8 * --t * t * t * t,\n  easeInQuint: t => t * t * t * t * t,\n  easeOutQuint: t => 1 + --t * t * t * t * t,\n  easeInOutQuint: t => t < 0.5 ? 16 * t * t * t * t * t : 1 + 16 * --t * t * t * t * t\n};\n\nconst _util = {\n  easingFunctions,\n};\n\nexport {\n  _util,\n};\n","export * from './src/aabb-collidable';\nexport * from './src/capsule-collidable';\nexport * from './src/collidable';\nexport * from './src/line-segment';\nexport * from './src/obb-collidable';\nexport * from './src/sphere-collidable';\n","import {Collidable} from './collidable';\nimport {LineSegment} from './line-segment';\nimport {tmpVec1, tmpVec2} from '../../../util';\n\n/**\n * This class represents an axially-aligned bounding box (AABB).\n *\n * This is primarily useful for collision detection. An AABB is only appropriate for some\n * geometries. For other geometries, an oriented bounding box (OBB) or a bounding sphere may be more\n * appropriate.\n */\nclass Aabb extends Collidable {\n  /**\n   * @param {number} minX\n   * @param {number} minY\n   * @param {number} minZ\n   * @param {number} maxX\n   * @param {number} maxY\n   * @param {number} maxZ\n   * @param {boolean} [isStationary=false]\n   * @param {CollidablePhysicsJob} [physicsJob]\n   */\n  constructor(minX, minY, minZ, maxX, maxY, maxZ, isStationary = false, physicsJob) {\n    super(isStationary, physicsJob);\n    this.minX = minX;\n    this.minY = minY;\n    this.minZ = minZ;\n    this.maxX = maxX;\n    this.maxY = maxY;\n    this.maxZ = maxZ;\n  }\n\n  /**\n   * Creates a new bounding box with the dimensions of an axially-aligned cube centered around the \n   * given center and with the given half-side length.\n   *\n   * @param {vec3} center\n   * @param {number} halfSideLength\n   */\n  static createAsUniformAroundCenter(center, halfSideLength) {\n    const bounds = new Aabb(0, 0, 0, 0, 0, 0);\n    bounds.setAsUniformAroundCenter(center, halfSideLength);\n    return bounds;\n  }\n\n  /**\n   * Updates the dimensions of this bounding box to represent an axially-aligned cube centered\n   * around the given center and with the given half-side length.\n   *\n   * @param {vec3} center\n   * @param {number} halfSideLength\n   */\n  setAsUniformAroundCenter(center, halfSideLength) {\n    this.minX = center[0] - halfSideLength;\n    this.minY = center[1] - halfSideLength;\n    this.minZ = center[2] - halfSideLength;\n    this.maxX = center[0] + halfSideLength;\n    this.maxY = center[1] + halfSideLength;\n    this.maxZ = center[2] + halfSideLength;\n  }\n\n  /** @returns {number} */\n  get rangeX() {\n    return this.maxX - this.minX;\n  }\n  /** @returns {number} */\n  get rangeY() {\n    return this.maxY - this.minY;\n  }\n  /** @returns {number} */\n  get rangeZ() {\n    return this.maxZ - this.minZ;\n  }\n\n  /** @returns {number} */\n  get centerX() {\n    return this.minX + this.rangeX / 2;\n  }\n  /** @returns {number} */\n  get centerY() {\n    return this.minY + this.rangeY / 2;\n  }\n  /** @returns {number} */\n  get centerZ() {\n    return this.minZ + this.rangeZ / 2;\n  }\n\n  /** @returns {number} */\n  get surfaceArea() {\n    const rangeX = this.rangeX;\n    const rangeY = this.rangeY;\n    const rangeZ = this.rangeZ;\n    return 2 * (rangeX * rangeY + rangeX * rangeZ + rangeY * rangeZ);\n  }\n\n  /**\n   * @returns {vec3}\n   * @override\n   */\n  get centerOfVolume() {\n    // Reuse the same object when this is called multiple times.\n    this._centerOfVolume = this._centerOfVolume || vec3.create();\n    vec3.set(this._centerOfVolume, this.centerX, this.centerY, this.centerZ);\n    return this._centerOfVolume;\n  }\n\n  /**\n   * @returns {Collidable}\n   * @override\n   */\n  get boundingVolume() {\n    return this;\n  }\n\n  /**\n   * @param {vec3} value\n   * @override\n   */\n  set position(value) {\n    const rangeX = this.rangeX;\n    const rangeY = this.rangeY;\n    const rangeZ = this.rangeZ;\n    this.minX = value[0] - rangeX / 2;\n    this.minY = value[1] - rangeY / 2;\n    this.minZ = value[2] - rangeZ / 2;\n    this.maxX = value[0] + rangeX / 2;\n    this.maxY = value[1] + rangeY / 2;\n    this.maxZ = value[2] + rangeZ / 2;\n  }\n\n  /**\n   * @param {quat} value\n   * @override\n   */\n  set orientation(value) {\n    // Do nothing.\n  }\n\n  /**\n   * Calls the given callback once for each vertex.\n   *\n   * Stops as soon as the callback returns true for a vertex.\n   *\n   * @param {VertexCallback} callback\n   * @param {vec3} [vertex] Output param.\n   * @returns {boolean} True if one of the callbacks returned true.\n   */\n  someVertex(callback, vertex) {\n    vertex = vertex || tmpVec1;\n\n    vec3.set(vertex, this.minX, this.minY, this.minZ);\n    if (callback(vertex)) return true;\n\n    vec3.set(vertex, this.maxX, this.minY, this.minZ);\n    if (callback(vertex)) return true;\n\n    vec3.set(vertex, this.minX, this.maxY, this.minZ);\n    if (callback(vertex)) return true;\n\n    vec3.set(vertex, this.maxX, this.maxY, this.minZ);\n    if (callback(vertex)) return true;\n\n    vec3.set(vertex, this.minX, this.minY, this.maxZ);\n    if (callback(vertex)) return true;\n\n    vec3.set(vertex, this.maxX, this.minY, this.maxZ);\n    if (callback(vertex)) return true;\n\n    vec3.set(vertex, this.minX, this.maxY, this.maxZ);\n    if (callback(vertex)) return true;\n\n    vec3.set(vertex, this.maxX, this.maxY, this.maxZ);\n    if (callback(vertex)) return true;\n\n    return false;\n  }\n\n  /**\n   * Calls the given callback once for each edge.\n   *\n   * @param {EdgeCallback} callback\n   * @param {LineSegment} [edge] Output param.\n   * @returns {boolean} True if one of the callbacks returned true.\n   */\n  someEdge(callback, edge) {\n    edge = edge || _segment;\n\n    //\n    // Edges along front face.\n    //\n\n    vec3.set(tmpVec1, this.minX, this.minY, this.minZ);\n    vec3.set(tmpVec2, this.maxX, this.minY, this.minZ);\n    edge.reset(tmpVec1, tmpVec2);\n    if (callback(edge)) return true;\n\n    vec3.set(tmpVec1, this.minX, this.maxY, this.minZ);\n    vec3.set(tmpVec2, this.maxX, this.maxY, this.minZ);\n    edge.reset(tmpVec1, tmpVec2);\n    if (callback(edge)) return true;\n\n    vec3.set(tmpVec1, this.minX, this.minY, this.minZ);\n    vec3.set(tmpVec2, this.minX, this.maxY, this.minZ);\n    edge.reset(tmpVec1, tmpVec2);\n    if (callback(edge)) return true;\n\n    vec3.set(tmpVec1, this.maxX, this.minY, this.minZ);\n    vec3.set(tmpVec2, this.maxX, this.maxY, this.minZ);\n    edge.reset(tmpVec1, tmpVec2);\n    if (callback(edge)) return true;\n\n    //\n    // Edges along back face.\n    //\n\n    vec3.set(tmpVec1, this.minX, this.minY, this.maxZ);\n    vec3.set(tmpVec2, this.maxX, this.minY, this.maxZ);\n    edge.reset(tmpVec1, tmpVec2);\n    if (callback(edge)) return true;\n\n    vec3.set(tmpVec1, this.minX, this.maxY, this.maxZ);\n    vec3.set(tmpVec2, this.maxX, this.maxY, this.maxZ);\n    edge.reset(tmpVec1, tmpVec2);\n    if (callback(edge)) return true;\n\n    vec3.set(tmpVec1, this.minX, this.minY, this.maxZ);\n    vec3.set(tmpVec2, this.minX, this.maxY, this.maxZ);\n    edge.reset(tmpVec1, tmpVec2);\n    if (callback(edge)) return true;\n\n    vec3.set(tmpVec1, this.maxX, this.minY, this.maxZ);\n    vec3.set(tmpVec2, this.maxX, this.maxY, this.maxZ);\n    edge.reset(tmpVec1, tmpVec2);\n    if (callback(edge)) return true;\n\n    //\n    // Edges between front and back faces.\n    //\n\n    vec3.set(tmpVec1, this.minX, this.minY, this.minZ);\n    vec3.set(tmpVec2, this.minX, this.minY, this.maxZ);\n    edge.reset(tmpVec1, tmpVec2);\n    if (callback(edge)) return true;\n\n    vec3.set(tmpVec1, this.maxX, this.minY, this.minZ);\n    vec3.set(tmpVec2, this.maxX, this.minY, this.maxZ);\n    edge.reset(tmpVec1, tmpVec2);\n    if (callback(edge)) return true;\n\n    vec3.set(tmpVec1, this.minX, this.maxY, this.minZ);\n    vec3.set(tmpVec2, this.minX, this.maxY, this.maxZ);\n    edge.reset(tmpVec1, tmpVec2);\n    if (callback(edge)) return true;\n\n    vec3.set(tmpVec1, this.maxX, this.maxY, this.minZ);\n    vec3.set(tmpVec2, this.maxX, this.maxY, this.maxZ);\n    edge.reset(tmpVec1, tmpVec2);\n    if (callback(edge)) return true;\n\n    return false;\n  }\n}\n\nconst _segment = new LineSegment(vec3.create(), vec3.create());\n\nexport {Aabb};\n","import {Collidable} from './collidable';\nimport {LineSegment} from './line-segment';\n\n/**\n * This class represents a capsule.\n *\n * - A capsule is a cylinder with semi-spheres on either end.\n * - A capsule can represent a rough approximation of many useful shapes.\n * - A capsule can be used for relatively efficient collision detection.\n */\nclass Capsule extends Collidable {\n  /**\n   * The default orientation of the capsule is along the z-axis.\n   *\n   * @param {number} halfDistance Half the distance from the centers of the capsule end spheres.\n   * @param {number} radius\n   * @param {boolean} [isStationary=false]\n   * @param {CollidablePhysicsJob} [physicsJob]\n   */\n  constructor(halfDistance, radius, isStationary = false, physicsJob) {\n    super(isStationary, physicsJob);\n    this.halfDistance = halfDistance;\n    this.segment = new LineSegment(vec3.fromValues(0, 0, -halfDistance),\n        vec3.fromValues(0, 0, halfDistance));\n    this.radius = radius;\n  }\n\n  /**\n   * @returns {vec3}\n   * @override\n   */\n  get centerOfVolume() {\n    return this.segment.center;\n  }\n\n  /**\n   * @returns {Collidable}\n   * @override\n   */\n  get boundingVolume() {\n    return this;\n  }\n\n  /**\n   * @param {vec3} value\n   * @override\n   */\n  set position(value) {\n    this.segment.center = value;\n  }\n\n  /**\n   * @param {quat} value\n   * @override\n   */\n  set orientation(value) {\n    this.segment.orientation = value;\n  }\n}\n\nexport {Capsule};\n","/**\n * This class represents a 3D collidable rigid object.\n *\n * This is useful for collision detection and response.\n *\n * @abstract\n */\nclass Collidable {\n  /**\n   * @param {boolean} isStationary\n   * @param {CollidablePhysicsJob} [physicsJob]\n   */\n  constructor(isStationary, physicsJob) {\n    // Collidable is an abstract class. It should not be instantiated directly.\n    if (new.target === Collidable) {\n      throw new TypeError('Cannot construct Collidable instances directly');\n    }\n\n    this.isStationary = isStationary;\n    this.physicsJob = physicsJob;\n    this.collisions = [];\n    this.previousCollisions = [];\n  }\n\n  /**\n   * Implementing classes can override this to provide a center of mass that is different than the\n   * center of volume.\n   *\n   * @returns {vec3}\n   */\n  get centerOfMass() {\n    return this.centerOfVolume;\n  }\n\n  /**\n   * @returns {vec3}\n   * @abstract\n   */\n  get centerOfVolume() {\n    // Extending classes should implement this method.\n    throw new TypeError('Method not implemented');\n  }\n\n  /**\n   * @returns {Collidable}\n   * @abstract\n   */\n  get boundingVolume() {\n    // Extending classes should implement this method.\n    throw new TypeError('Method not implemented');\n  }\n\n  /**\n   * @param {vec3} value\n   * @abstract\n   */\n  set position(value) {\n    // Extending classes should implement this method.\n    throw new TypeError('Method not implemented');\n  }\n\n  /**\n   * @param {quat} value\n   * @abstract\n   */\n  set orientation(value) {\n    // Extending classes should implement this method.\n    throw new TypeError('Method not implemented');\n  }\n}\n\nexport {Collidable};\n","import {tmpVec1, tmpVec2} from '../../../util';\n\n/**\n * This class represents a line segment.\n */\nclass LineSegment {\n  /**\n   * @param {vec3} start\n   * @param {vec3} end\n   */\n  constructor(start, end) {\n    this.start = vec3.create();\n    this.end = vec3.create();\n    this._center = vec3.create();\n    this._originalOrientationStart = vec3.create();\n    this._originalOrientationEnd = vec3.create();\n    this.reset(start, end);\n  }\n\n  /**\n   * @param {vec3} start\n   * @param {vec3} end\n   */\n  reset(start, end) {\n    vec3.copy(this.start, start);\n    vec3.copy(this.end, end);\n    vec3.subtract(this._originalOrientationStart, this.start, this.center);\n    vec3.subtract(this._originalOrientationEnd, this.end, this.center);\n  }\n\n  /** @returns {LineSegment} */\n  clone() {\n    const segment = new LineSegment(this.start, this.end);\n    segment._originalOrientationStart = this._originalOrientationStart;\n    segment._originalOrientationEnd = this._originalOrientationEnd;\n    return segment;\n  }\n\n  /**\n   * The UN-NORMALIZED direction of this segment.\n   *\n   * @returns {vec3}\n   */\n  get dir() {\n    // Reuse the same object when this is called multiple times.\n    this._dir = this._dir || vec3.create();\n    return vec3.subtract(this._dir, this.end, this.start);\n  }\n\n  /** @returns {vec3} */\n  get center() {\n    vec3.lerp(this._center, this.start, this.end, 0.5);\n    return this._center;\n  }\n\n  /** @param {vec3} value */\n  set center(value) {\n    // Reuse the same object when this is called multiple times.\n    this._displacement = this._displacement || vec3.create();\n    vec3.subtract(this._displacement, value, this.center);\n\n    vec3.add(this.start, this.start, this._displacement);\n    vec3.add(this.end, this.end, this._displacement);\n  }\n\n  /** @param {quat} value */\n  set orientation(value) {\n    vec3.transformQuat(tmpVec1, this._originalOrientationStart, value);\n    vec3.transformQuat(tmpVec2, this._originalOrientationEnd, value);\n\n    // We don't want this to be re-calculated between start/end updates.\n    const center = this.center;\n\n    vec3.add(this.start, center, tmpVec1);\n    vec3.add(this.end, center, tmpVec2);\n  }\n}\n\nexport {LineSegment};\n","import {Collidable} from './collidable';\nimport {Sphere} from './sphere-collidable';\nimport {LineSegment} from './line-segment';\n\n/**\n * This class represents an oriented bounding box (OBB).\n *\n * This is useful both for collision detection and for representing any rotated rectangular cuboid.\n * An OBB is only appropriate for some geometries. For other geometries, an axially-aligned bounding\n * box (AABB) or a bounding sphere may be more appropriate.\n */\nclass Obb extends Collidable {\n  /**\n   * Defaults to being centered at the origin with its local axes aligned with the world axes.\n   *\n   * @param {number} halfSideLengthX\n   * @param {number} halfSideLengthY\n   * @param {number} halfSideLengthZ\n   * @param {boolean} [isStationary=false]\n   * @param {CollidablePhysicsJob} [physicsJob]\n   */\n  constructor(halfSideLengthX, halfSideLengthY, halfSideLengthZ, isStationary = false, physicsJob) {\n    super(isStationary, physicsJob);\n    this.extents = [\n      vec3.fromValues(halfSideLengthX, 0, 0),\n      vec3.fromValues(0, halfSideLengthY, 0),\n      vec3.fromValues(0, 0, halfSideLengthZ)\n    ];\n    this.axes = [\n      vec3.fromValues(1, 0, 0),\n      vec3.fromValues(0, 1, 0),\n      vec3.fromValues(0, 0, 1)\n    ];\n    this.halfSideLengths = [\n      halfSideLengthX,\n      halfSideLengthY,\n      halfSideLengthZ\n    ];\n    this._center = vec3.create();\n    this._orientation = quat.create();\n  }\n\n  /**\n   * @returns {vec3}\n   * @override\n   */\n  get centerOfVolume() {\n    return this._center;\n  }\n\n  /**\n   * @returns {Collidable}\n   * @override\n   */\n  get boundingVolume() {\n    // Reuse the same value when this is called multiple times.\n    if (!this._boundingSphere) {\n      const radius = Math.sqrt(this.halfSideLengthX * this.halfSideLengthX +\n          this.halfSideLengthY * this.halfSideLengthY +\n          this.halfSideLengthZ * this.halfSideLengthZ);\n      this._boundingSphere = new Sphere(0, 0, 0, radius, this.isStationary);\n    }\n    this._boundingSphere.position = this._center;\n    return this._boundingSphere;\n  }\n\n  /**\n   * @param {vec3} value\n   * @override\n   */\n  set position(value) {\n    vec3.copy(this._center, value);\n  }\n\n  /**\n   * @param {quat} value\n   * @override\n   */\n  set orientation(value) {\n    quat.copy(this._orientation, value);\n    this._updateExtents();\n  }\n  /** @returns {quat} */\n  get orientation() {\n    return this._orientation;\n  }\n\n  /** @returns {number} */\n  get halfSideLengthX() {\n    return this.halfSideLengths[0];\n  }\n  /** @param {number} value */\n  set halfSideLengthX(value) {\n    this.halfSideLengths[0] = value;\n    this._updateExtents();\n  }\n\n  /** @returns {number} */\n  get halfSideLengthY() {\n    return this.halfSideLengths[1];\n  }\n  /** @param {number} value */\n  set halfSideLengthY(value) {\n    this.halfSideLengths[1] = value;\n    this._updateExtents();\n  }\n\n  /** @returns {number} */\n  get halfSideLengthZ() {\n    return this.halfSideLengths[2];\n  }\n  /** @param {number} value */\n  set halfSideLengthZ(value) {\n    this.halfSideLengths[2] = value;\n    this._updateExtents();\n  }\n\n  /**\n   * Calls the given callback once for each vertex.\n   *\n   * Stops as soon as the callback returns true for a vertex.\n   *\n   * @param {VertexCallback} callback\n   * @param {vec3} [vertex] Output param.\n   * @returns {boolean} True if one of the callbacks returned true.\n   */\n  someVertex(callback, vertex) {\n    vertex = vertex || _vertex1;\n\n    for (let xScale = -1; xScale <= 1; xScale += 2) {\n      for (let yScale = -1; yScale <= 1; yScale += 2) {\n        for (let zScale = -1; zScale <= 1; zScale += 2) {\n          vec3.copy(vertex, this._center);\n          vec3.scaleAndAdd(vertex, vertex, this.extents[0], xScale);\n          vec3.scaleAndAdd(vertex, vertex, this.extents[1], yScale);\n          vec3.scaleAndAdd(vertex, vertex, this.extents[2], zScale);\n          if (callback(vertex)) {\n            return true;\n          }\n        }\n      }\n    }\n    return false;\n  }\n\n  /**\n   * Calls the given callback once for each edge.\n   *\n   * @param {EdgeCallback} callback\n   * @param {LineSegment} [edge] Output param.\n   * @returns {boolean} True if one of the callbacks returned true.\n   */\n  someEdge(callback, edge) {\n    edge = edge || _segment;\n\n    return _edgeExtentScales.some(edgeExtentScalePair => {\n      const vertex1ExtentScales = edgeExtentScalePair[0];\n      const vertex2ExtentScales = edgeExtentScalePair[1];\n\n      // Calculate the edge's first and second vertex.\n      vec3.copy(_vertex1, this._center);\n      vec3.copy(_vertex2, this._center);\n      for (let i = 0; i < 3; i++) {\n        vec3.scaleAndAdd(_vertex1, _vertex1, this.extents[i], vertex1ExtentScales[i]);\n        vec3.scaleAndAdd(_vertex2, _vertex2, this.extents[i], vertex2ExtentScales[i]);\n      }\n\n      // Call back with the edge.\n      edge.reset(_vertex1, _vertex2);\n      return callback(edge);\n    });\n  }\n\n  /**\n   * Calls the given callback once for each face.\n   *\n   * @param {FaceCallback} callback\n   * @param {Array.<vec3>} [face] Output param.\n   * @returns {boolean} True if one of the callbacks returned true.\n   */\n  someFace(callback, face) {\n    face = face || [];\n\n    return _faceExtentScales.some(faceExtentScales => {\n      const vertex1ExtentScales = faceExtentScales[0];\n      const vertex2ExtentScales = faceExtentScales[1];\n      const vertex3ExtentScales = faceExtentScales[2];\n      const vertex4ExtentScales = faceExtentScales[3];\n\n      // Calculate the face's vertices.\n      vec3.copy(_vertex1, this._center);\n      vec3.copy(_vertex2, this._center);\n      vec3.copy(_vertex3, this._center);\n      vec3.copy(_vertex4, this._center);\n      for (let i = 0; i < 3; i++) {\n        vec3.scaleAndAdd(_vertex1, _vertex1, this.extents[i], vertex1ExtentScales[i]);\n        vec3.scaleAndAdd(_vertex2, _vertex2, this.extents[i], vertex2ExtentScales[i]);\n        vec3.scaleAndAdd(_vertex3, _vertex3, this.extents[i], vertex3ExtentScales[i]);\n        vec3.scaleAndAdd(_vertex4, _vertex4, this.extents[i], vertex4ExtentScales[i]);\n      }\n\n      // Call back with the face.\n      face.splice(0, 4, _vertex1, _vertex2, _vertex3, _vertex4);\n      return callback(face);\n    });\n  }\n\n  /**\n   * Calls the given callback once for each face with a given additional offset from the center\n   * applied to each face.\n   *\n   * @param {FaceCallback} callback\n   * @param {number} radiusOffset\n   * @param {Array.<vec3>} [face] Output param.\n   * @returns {boolean} True if one of the callbacks returned true.\n   */\n  somePushedOutFace(callback, radiusOffset, face) {\n    face = face || [];\n\n    return _faceExtentScales.some((faceExtentScales, index) => {\n      const vertex1ExtentScales = faceExtentScales[0];\n      const vertex2ExtentScales = faceExtentScales[1];\n      const vertex3ExtentScales = faceExtentScales[2];\n      const vertex4ExtentScales = faceExtentScales[3];\n      const directionOffsets = _pushedOutFaceOffsetDirections[index];\n\n      // Calculate the face's vertices.\n      vec3.copy(_vertex1, this._center);\n      vec3.copy(_vertex2, this._center);\n      vec3.copy(_vertex3, this._center);\n      vec3.copy(_vertex4, this._center);\n      for (let i = 0; i < 3; i++) {\n        // Add the offset for the normal vertex position.\n        vec3.scaleAndAdd(_vertex1, _vertex1, this.extents[i], vertex1ExtentScales[i]);\n        vec3.scaleAndAdd(_vertex2, _vertex2, this.extents[i], vertex2ExtentScales[i]);\n        vec3.scaleAndAdd(_vertex3, _vertex3, this.extents[i], vertex3ExtentScales[i]);\n        vec3.scaleAndAdd(_vertex4, _vertex4, this.extents[i], vertex4ExtentScales[i]);\n        // Add the pushed-out offset.\n        vec3.scaleAndAdd(_vertex1, _vertex1, this.extents[i],\n            radiusOffset / this.halfSideLengths[i] * directionOffsets[i]);\n        vec3.scaleAndAdd(_vertex2, _vertex2, this.extents[i],\n            radiusOffset / this.halfSideLengths[i] * directionOffsets[i]);\n        vec3.scaleAndAdd(_vertex3, _vertex3, this.extents[i],\n            radiusOffset / this.halfSideLengths[i] * directionOffsets[i]);\n        vec3.scaleAndAdd(_vertex4, _vertex4, this.extents[i],\n            radiusOffset / this.halfSideLengths[i] * directionOffsets[i]);\n      }\n\n      // Call back with the face.\n      face.splice(0, 4, _vertex1, _vertex2, _vertex3, _vertex4);\n      return callback(face);\n    });\n  }\n\n  _updateExtents() {\n    vec3.set(_vertex1, this.halfSideLengths[0], 0, 0);\n    vec3.transformQuat(this.extents[0], _vertex1, this._orientation);\n    vec3.set(_vertex1, 0, this.halfSideLengths[1], 0);\n    vec3.transformQuat(this.extents[1], _vertex1, this._orientation);\n    vec3.set(_vertex1, 0, 0, this.halfSideLengths[2]);\n    vec3.transformQuat(this.extents[2], _vertex1, this._orientation);\n\n    vec3.set(_vertex1, 1, 0, 0);\n    vec3.transformQuat(this.axes[0], _vertex1, this._orientation);\n    vec3.set(_vertex1, 0, 1, 0);\n    vec3.transformQuat(this.axes[1], _vertex1, this._orientation);\n    vec3.set(_vertex1, 0, 0, 1);\n    vec3.transformQuat(this.axes[2], _vertex1, this._orientation);\n  }\n}\n\nconst _vertex1 = vec3.create();\nconst _vertex2 = vec3.create();\nconst _vertex3 = vec3.create();\nconst _vertex4 = vec3.create();\nconst _segment = new LineSegment(vec3.create(), vec3.create());\n\nconst _edgeExtentScales = [\n  // Front-face edges.\n  [[1, -1, -1], [1, -1, 1]],\n  [[1, -1, -1], [1, 1, -1]],\n  [[1, 1, 1], [1, -1, 1]],\n  [[1, 1, 1], [1, 1, -1]],\n  // Back-face edges.\n  [[-1, -1, -1], [-1, -1, 1]],\n  [[-1, -1, -1], [-1, 1, -1]],\n  [[-1, 1, 1], [-1, -1, 1]],\n  [[-1, 1, 1], [-1, 1, -1]],\n  // Front-to-back edges.\n  [[1, -1, 1], [-1, -1, 1]],\n  [[1, 1, -1], [-1, 1, -1]],\n  [[1, 1, 1], [-1, 1, 1]],\n  [[1, -1, -1], [-1, -1, -1]],\n];\n\nconst _faceExtentScales = [\n  [[1, -1, -1], [1, -1, 1], [1, 1, 1], [1, 1, -1]],\n  [[-1, -1, -1], [-1, -1, 1], [-1, 1, 1], [-1, 1, -1]],\n  [[-1, 1, -1], [1, 1, -1], [1, 1, 1], [-1, 1, 1]],\n  [[-1, -1, -1], [1, -1, -1], [1, -1, 1], [-1, -1, 1]],\n  [[-1, -1, 1], [1, -1, 1], [1, 1, 1], [-1, 1, 1]],\n  [[-1, -1, -1], [1, -1, -1], [1, 1, -1], [-1, 1, -1]],\n];\n\nconst _pushedOutFaceOffsetDirections = [\n  vec3.fromValues(1, 0, 0),\n  vec3.fromValues(-1, 0, 0),\n  vec3.fromValues(0, 1, 0),\n  vec3.fromValues(0, -1, 0),\n  vec3.fromValues(0, 0, 1),\n  vec3.fromValues(0, 0, -1),\n];\n\nexport {Obb};\n\n/**\n * @callback VertexCallback\n * @param {vec3}\n * @returns {boolean} If true, iteration will stop.\n */\n\n/**\n * @callback EdgeCallback\n * @param {LineSegment}\n * @returns {boolean} If true, iteration will stop.\n */\n\n/**\n * @callback FaceCallback\n * @param {Array.<vec3>}\n * @returns {boolean} If true, iteration will stop.\n */\n","import {Collidable} from './collidable';\n\n/**\n * This class represents a bounding sphere.\n *\n * This is primarily useful for collision detection. A bounding sphere is only appropriate for some\n * geometries. For other geometries, an axially-aligned bounding box may be more appropriate. For\n * others still, an oriented bounding box or a more complicated hierarchical model may be more\n * appropriate.\n */\nclass Sphere extends Collidable {\n  /**\n   * @param {number} centerX\n   * @param {number} centerY\n   * @param {number} centerZ\n   * @param {number} radius\n   * @param {boolean} [isStationary=false]\n   * @param {CollidablePhysicsJob} [physicsJob]\n   */\n  constructor(centerX, centerY, centerZ, radius, isStationary = false, physicsJob) {\n    super(isStationary, physicsJob);\n    this.centerX = centerX;\n    this.centerY = centerY;\n    this.centerZ = centerZ;\n    this.radius = radius;\n  }\n\n  /**\n   * @returns {vec3}\n   * @override\n   */\n  get centerOfVolume() {\n    // Reuse the same object when this is called multiple times.\n    this._center = this._center || vec3.create();\n    vec3.set(this._center, this.centerX, this.centerY, this.centerZ);\n    return this._center;\n  }\n\n  /**\n   * @returns {Collidable}\n   * @override\n   */\n  get boundingVolume() {\n    return this;\n  }\n\n  /**\n   * @param {vec3} value\n   * @override\n   */\n  set position(value) {\n    this.centerX = value[0];\n    this.centerY = value[1];\n    this.centerZ = value[2];\n  }\n\n  /**\n   * @param {quat} value\n   * @override\n   */\n  set orientation(value) {\n    // Do nothing.\n  }\n}\n\nexport {Sphere};\n","import * as aabbCollisionDetection from './src/aabb-collision-detection';\nimport * as capsuleCollisionDetection from './src/capsule-collision-detection';\nimport * as obbCollisionDetection from './src/obb-collision-detection';\nimport * as sphereCollisionDetection from './src/sphere-collision-detection';\n\nexport {\n  aabbCollisionDetection,\n  capsuleCollisionDetection,\n  obbCollisionDetection,\n  sphereCollisionDetection,\n};\n","import * as sphereCollisionDetection from './sphere-collision-detection';\nimport * as obbCollisionDetection from './obb-collision-detection';\nimport * as capsuleCollisionDetection from './capsule-collision-detection';\nimport {aabbVsPoint as geometryAabbVsPoint} from '../../../util';\n\n/**\n * This module defines utility methods for detecting whether intersection has occurred between\n * axially-aligned bounding boxes and other shapes.\n */\n\n/**\n * @param {Aabb} aabb\n * @param {vec3} point\n * @returns {boolean}\n */\nfunction aabbVsPoint(aabb, point) {\n  return geometryAabbVsPoint(aabb, point);\n}\n\n/**\n * @param {Aabb} aabb\n * @param {Sphere} sphere\n * @returns {boolean}\n */\nfunction aabbVsSphere(aabb, sphere) {\n  return sphereCollisionDetection.sphereVsAabb(sphere, aabb);\n}\n\n/**\n * @param {Aabb} aabbA\n * @param {Aabb} aabbB\n * @returns {boolean}\n */\nfunction aabbVsAabb(aabbA, aabbB) {\n  return aabbA.maxX >= aabbB.minX && aabbA.minX <= aabbB.maxX &&\n      aabbA.maxY >= aabbB.minY && aabbA.minY <= aabbB.maxY &&\n      aabbA.maxZ >= aabbB.minZ && aabbA.minZ <= aabbB.maxZ;\n}\n\n/**\n * @param {Aabb} aabb\n * @param {Obb} obb\n * @returns {boolean}\n */\nfunction aabbVsObb(aabb, obb) {\n  return obbCollisionDetection.obbVsAabb(obb, aabb);\n}\n\n/**\n * @param {Aabb} aabb\n * @param {Capsule} capsule\n * @returns {boolean}\n */\nfunction aabbVsCapsule(aabb, capsule) {\n  return capsuleCollisionDetection.capsuleVsAabb(capsule, aabb);\n}\n\nexport {\n  aabbVsPoint,\n  aabbVsSphere,\n  aabbVsAabb,\n  aabbVsObb,\n  aabbVsCapsule,\n};\n","/**\n * This module defines utility methods for detecting whether intersection has occurred between\n * capsules and other shapes.\n */\n\nimport {\n  findClosestPointFromAabbToPoint,\n  findSquaredDistanceBetweenSegments,\n  findSquaredDistanceFromSegmentToPoint,\n  tmpVec1\n} from '../../../util';\nimport * as obbCollisionDetection from './obb-collision-detection';\n\n/**\n * @param {Capsule} capsule\n * @param {vec3} point\n * @returns {boolean}\n */\nfunction capsuleVsPoint(capsule, point) {\n  return findSquaredDistanceFromSegmentToPoint(capsule.segment, point) <=\n      capsule.radius * capsule.radius;\n}\n\n/**\n * @param {Capsule} capsule\n * @param {Sphere} sphere\n * @returns {boolean}\n */\nfunction capsuleVsSphere(capsule, sphere) {\n  const sumOfRadii = capsule.radius + sphere.radius;\n  return findSquaredDistanceFromSegmentToPoint(capsule.segment, sphere.centerOfVolume) <=\n      sumOfRadii * sumOfRadii;\n}\n\n/**\n * NOTE: This implementation cheats by checking whether vertices from one shape lie within the\n * other. Due to the tunnelling problem, it is possible that intersection occurs without any\n * vertices lying within the other shape. However, (A) this is unlikely, and (B) we are ignoring the\n * tunnelling problem for the rest of this collision system anyway.\n *\n * @param {Capsule} capsule\n * @param {Aabb} aabb\n * @returns {boolean}\n */\nfunction capsuleVsAabb(capsule, aabb) {\n  const squaredRadius = capsule.radius * capsule.radius;\n\n  // Check whether the two capsule ends intersect the AABB (sphere vs AABB) (addresses the\n  // capsule-vs-AABB-face case).\n  findClosestPointFromAabbToPoint(tmpVec1, aabb, capsule.segment.start);\n  if (vec3.squaredDistance(tmpVec1, capsule.segment.start) <= squaredRadius) {\n    return true;\n  }\n  findClosestPointFromAabbToPoint(tmpVec1, aabb, capsule.segment.end);\n  if (vec3.squaredDistance(tmpVec1, capsule.segment.end) <= squaredRadius) {\n    return true;\n  }\n\n  // Check whether the capsule intersects with any AABB edge (addresses the capsule-vs-AABB-edge\n  // case).\n  return aabb.someEdge(edge =>\n      findSquaredDistanceBetweenSegments(capsule.segment, edge) <= squaredRadius);\n\n  // (The capsule-vs-AABB-vertex case is covered by the capsule-vs-AABB-edge case).\n}\n\n/**\n * @param {Capsule} capsule\n * @param {Obb} obb\n * @returns {boolean}\n */\nfunction capsuleVsObb(capsule, obb) {\n  return obbCollisionDetection.obbVsCapsule(obb, capsule);\n}\n\n/**\n * @param {Capsule} capsuleA\n * @param {Capsule} capsuleB\n * @returns {boolean}\n */\nfunction capsuleVsCapsule(capsuleA, capsuleB) {\n  const sumOfRadii = capsuleA.radius + capsuleB.radius;\n  return findSquaredDistanceBetweenSegments(capsuleA.segment, capsuleB.segment) <=\n      sumOfRadii * sumOfRadii;\n}\n\nexport {\n  capsuleVsPoint,\n  capsuleVsSphere,\n  capsuleVsAabb,\n  capsuleVsObb,\n  capsuleVsCapsule,\n};\n","/**\n * This module defines utility methods for detecting whether intersection has occurred between\n * oriented bounding boxes and other shapes.\n */\n\nimport {\n  findClosestPointFromObbToPoint,\n  findPoiBetweenSegmentAndPlaneRegion,\n  findSquaredDistanceBetweenSegments,\n  tmpVec1,\n  tmpVec2,\n  tmpVec3,\n  tmpVec4\n} from '../../../util';\nimport * as aabbCollisionDetection from './aabb-collision-detection';\nimport * as capsuleCollisionDetection from './capsule-collision-detection';\n\n// TODO: Refactor these to not actually calculate the point of intersection. These checks can\n// instead be done more efficiently using SAT.\n\n/**\n * @param {Obb} obb\n * @param {vec3} point\n * @returns {boolean}\n */\nfunction obbVsPoint(obb, point) {\n  vec3.subtract(tmpVec4, point, obb.centerOfVolume);\n\n  vec3.set(tmpVec1, 1, 0, 0);\n  vec3.transformQuat(tmpVec1, tmpVec1, obb.orientation);\n  const axis1Distance = vec3.dot(tmpVec4, tmpVec1);\n\n  if (axis1Distance >= -obb.halfSideLengthX && axis1Distance <= obb.halfSideLengthX) {\n    vec3.set(tmpVec2, 0, 1, 0);\n    vec3.transformQuat(tmpVec2, tmpVec2, obb.orientation);\n    const axis2Distance = vec3.dot(tmpVec4, tmpVec2);\n\n    if (axis2Distance >= -obb.halfSideLengthY && axis2Distance <= obb.halfSideLengthY) {\n      vec3.set(tmpVec3, 0, 0, 1);\n      vec3.transformQuat(tmpVec3, tmpVec3, obb.orientation);\n      const axis3Distance = vec3.dot(tmpVec4, tmpVec3);\n\n      return axis3Distance >= -obb.halfSideLengthZ && axis3Distance <= obb.halfSideLengthZ;\n    }\n  }\n\n  return false;\n}\n\n/**\n * @param {Obb} obb\n * @param {Sphere} sphere\n * @returns {boolean}\n */\nfunction obbVsSphere(obb, sphere) {\n  findClosestPointFromObbToPoint(tmpVec1, obb, sphere.centerOfVolume);\n  return vec3.squaredDistance(tmpVec1, sphere.centerOfVolume) <=\n      sphere.radius * sphere.radius;\n}\n\n/**\n * NOTE: This implementation cheats by checking whether vertices from one shape lie within the\n * other. Due to the tunnelling problem, it is possible that intersection occurs without any\n * vertices lying within the other shape. However, (A) this is unlikely, and (B) we are ignoring the\n * tunnelling problem for the rest of this collision system anyway.\n *\n * @param {Obb} obb\n * @param {Aabb} aabb\n * @returns {boolean}\n */\nfunction obbVsAabb(obb, aabb) {\n  return _obbVsBoxHelper(obb, aabb, aabbCollisionDetection.aabbVsPoint);\n}\n\n/**\n * NOTE: This implementation cheats by checking whether vertices from one shape lie within the\n * other. Due to the tunnelling problem, it is possible that intersection occurs without any\n * vertices lying within the other shape. However, (A) this is unlikely, and (B) we are ignoring the\n * tunnelling problem for the rest of this collision system anyway.\n *\n * @param {Obb} obbA\n * @param {Obb} obbB\n * @returns {boolean}\n */\nfunction obbVsObb(obbA, obbB) {\n  return _obbVsBoxHelper(obbA, obbB, obbVsPoint);\n}\n\n/**\n * @param {Obb} obb\n * @param {Obb|Aabb} other\n * @param {Function} otherVsPointCallback\n * @returns {boolean}\n * @private\n */\nfunction _obbVsBoxHelper(obb, other, otherVsPointCallback) {\n  // Check whether any vertices from A lie within B's bounds.\n  if (obb.someVertex(vertex => otherVsPointCallback(other, vertex))) return true;\n\n  // Check whether any vertices from B lie within A's bounds.\n  if (other.someVertex(vertex => obbVsPoint(obb, vertex))) return true;\n\n  // We assume that a vertex-to-face collision would have been detected by one of the two above\n  // checks. Any edge-to-edge collision must involve both an edge from A through a face of B and\n  // vice versa. So it is sufficient to only check the edges of one and the faces of the other.\n  if (other.someEdge(edge =>\n          obb.someFace(face =>\n              findPoiBetweenSegmentAndPlaneRegion(tmpVec1, edge, ...face))))\n    return true;\n\n  return false;\n}\n\n/**\n * @param {Obb} obb\n * @param {Capsule} capsule\n * @returns {boolean}\n */\nfunction obbVsCapsule(obb, capsule) {\n  // Check the edges.\n  const squaredRadius = capsule.radius * capsule.radius;\n  let areIntersecting = obb.someEdge(edge =>\n      findSquaredDistanceBetweenSegments(capsule.segment, edge) < squaredRadius);\n\n  if (areIntersecting) return true;\n\n  // Check the faces.\n  areIntersecting = obb.somePushedOutFace(face =>\n          findPoiBetweenSegmentAndPlaneRegion(tmpVec1, capsule.segment, ...face), capsule.radius);\n\n  // Check for inclusion of one shape inside the other.\n  areIntersecting = areIntersecting || obbVsPoint(obb, capsule.centerOfVolume);\n  areIntersecting = areIntersecting || capsuleCollisionDetection.capsuleVsPoint(capsule,\n      obb.centerOfVolume);\n\n  return areIntersecting;\n}\n\nexport {\n  obbVsPoint,\n  obbVsSphere,\n  obbVsAabb,\n  obbVsObb,\n  obbVsCapsule,\n};\n","import {findClosestPointFromAabbToPoint, tmpVec1} from '../../../util';\nimport * as obbCollisionDetection from './obb-collision-detection';\nimport * as capsuleCollisionDetection from './capsule-collision-detection';\n\n/**\n * This module defines utility methods for detecting whether intersection has occurred between\n * spheres and other shapes.\n */\n\n/**\n * @param {Sphere} sphere\n * @param {vec3} point\n * @returns {boolean}\n */\nfunction sphereVsPoint(sphere, point) {\n  return vec3.squaredDistance(point, sphere.centerOfVolume) <= sphere.radius * sphere.radius;\n}\n\n/**\n * @param {Sphere} sphereA\n * @param {Sphere} sphereB\n * @returns {boolean}\n */\nfunction sphereVsSphere(sphereA, sphereB) {\n  const sumOfRadii = sphereA.radius + sphereB.radius;\n  return vec3.squaredDistance(sphereA.centerOfVolume, sphereB.centerOfVolume) <=\n      sumOfRadii * sumOfRadii;\n}\n\n/**\n * @param {Sphere} sphere\n * @param {Aabb} aabb\n * @returns {boolean}\n */\nfunction sphereVsAabb(sphere, aabb) {\n  findClosestPointFromAabbToPoint(tmpVec1, aabb, sphere.centerOfVolume);\n  return vec3.squaredDistance(tmpVec1, sphere.centerOfVolume) <= sphere.radius * sphere.radius;\n}\n\n/**\n * @param {Sphere} sphere\n * @param {Obb} obb\n * @returns {boolean}\n */\nfunction sphereVsObb(sphere, obb) {\n  return obbCollisionDetection.obbVsSphere(obb, sphere);\n}\n\n/**\n * @param {Sphere} sphere\n * @param {Capsule} capsule\n * @returns {boolean}\n */\nfunction sphereVsCapsule(sphere, capsule) {\n  return capsuleCollisionDetection.capsuleVsSphere(capsule, sphere);\n}\n\nexport {\n  sphereVsPoint,\n  sphereVsSphere,\n  sphereVsAabb,\n  sphereVsObb,\n  sphereVsCapsule,\n};\n","import * as aabbContactCalculation from './src/aabb-contact-calculation';\nimport * as capsuleContactCalculation from './src/capsule-contact-calculation';\nimport * as obbContactCalculation from './src/obb-contact-calculation';\nimport * as sphereContactCalculation from './src/sphere-contact-calculation';\n\nexport {\n  aabbContactCalculation,\n  capsuleContactCalculation,\n  obbContactCalculation,\n  sphereContactCalculation,\n};\n","/**\n * This module defines utility methods for calculating a contact point between axially-aligned \n * bounding boxes and other shapes.\n *\n * - Each of these functions assumes that the objects are actually colliding.\n * - The resulting contact point may be anywhere within the intersection of the two objects.\n */\n\nimport * as sphereContactCalculation from './sphere-contact-calculation';\nimport * as obbContactCalculation from './obb-contact-calculation';\nimport * as capsuleContactCalculation from './capsule-contact-calculation';\nimport {tmpVec1} from '../../../util';\nimport {aabbCollisionDetection} from '../../collision-detection';\n\n/**\n * @param {vec3} contactPoint Output param.\n * @param {vec3} contactNormal Output param.\n * @param {Aabb} aabb\n * @param {vec3} point\n */\nfunction aabbVsPoint(contactPoint, contactNormal, aabb, point) {\n  vec3.copy(contactPoint, point);\n  findAabbNormalFromContactPoint(contactNormal, contactPoint, aabb);\n}\n\n/**\n * @param {vec3} contactPoint Output param.\n * @param {vec3} contactNormal Output param.\n * @param {Aabb} aabb\n * @param {Sphere} sphere\n */\nfunction aabbVsSphere(contactPoint, contactNormal, aabb, sphere) {\n  sphereContactCalculation.sphereVsAabb(contactPoint, contactNormal, sphere, aabb);\n  vec3.negate(contactNormal, contactNormal);\n}\n\n/**\n * @param {vec3} contactPoint Output param.\n * @param {vec3} contactNormal Output param.\n * @param {Aabb} aabbA\n * @param {Aabb} aabbB\n */\nfunction aabbVsAabb(contactPoint, contactNormal, aabbA, aabbB) {\n  // Compute the contact normal.\n  vec3.set(contactNormal, 0, 0, 0);\n  const xIntersectionDepth = Math.min(aabbA.maxX - aabbB.minX, aabbB.maxX - aabbA.minX);\n  const yIntersectionDepth = Math.min(aabbA.maxY - aabbB.minY, aabbB.maxY - aabbA.minY);\n  const zIntersectionDepth = Math.min(aabbA.maxZ - aabbB.minZ, aabbB.maxZ - aabbA.minZ);\n  // Assume that the direction of intersection corresponds to whichever axis has the shallowest\n  // intersection.\n  if (xIntersectionDepth <= yIntersectionDepth) {\n    if (xIntersectionDepth <= zIntersectionDepth) {\n      contactNormal[0] = aabbA.maxX - aabbB.minX <= aabbB.maxX - aabbA.minX ? 1 : -1;\n    } else {\n      contactNormal[2] = aabbA.maxZ - aabbB.minZ <= aabbB.maxZ - aabbA.minZ ? 1 : -1;\n    }\n  } else {\n    if (yIntersectionDepth <= zIntersectionDepth) {\n      contactNormal[1] = aabbA.maxY - aabbB.minY <= aabbB.maxY - aabbA.minY ? 1 : -1;\n    } else {\n      contactNormal[2] = aabbA.maxZ - aabbB.minZ <= aabbB.maxZ - aabbA.minZ ? 1 : -1;\n    }\n  }\n\n  // TODO: The two AABBs form a square intersection cross-section region along the direction of the\n  // normal. Calculate the center of that square to use as the point of contact.\n  if (!aabbA.someVertex(vertex => aabbCollisionDetection.aabbVsPoint(aabbB, vertex),\n          contactPoint)) {\n    aabbB.someVertex(vertex => aabbCollisionDetection.aabbVsPoint(aabbA, vertex), contactPoint);\n  }\n}\n\n/**\n * @param {vec3} contactPoint Output param.\n * @param {vec3} contactNormal Output param.\n * @param {Aabb} aabb\n * @param {Obb} obb\n */\nfunction aabbVsObb(contactPoint, contactNormal, aabb, obb) {\n  obbContactCalculation.obbVsAabb(contactPoint, contactNormal, obb, aabb);\n  vec3.negate(contactNormal, contactNormal);\n}\n\n/**\n * @param {vec3} contactPoint Output param.\n * @param {vec3} contactNormal Output param.\n * @param {Aabb} aabb\n * @param {Capsule} capsule\n */\nfunction aabbVsCapsule(contactPoint, contactNormal, aabb, capsule) {\n  capsuleContactCalculation.capsuleVsAabb(contactPoint, contactNormal, capsule, aabb);\n  vec3.negate(contactNormal, contactNormal);\n}\n\n/**\n * @param {vec3} contactNormal Output param.\n * @param {vec3} contactPoint\n * @param {Aabb} aabb\n * @private\n */\nfunction findAabbNormalFromContactPoint(contactNormal, contactPoint, aabb) {\n  vec3.set(contactNormal, 0, 0, 0);\n  vec3.subtract(tmpVec1, contactPoint, aabb.centerOfVolume);\n  const xDistanceFromFace = aabb.rangeX / 2 - Math.abs(tmpVec1[0]);\n  const yDistanceFromFace = aabb.rangeY / 2 - Math.abs(tmpVec1[1]);\n  const zDistanceFromFace = aabb.rangeZ / 2 - Math.abs(tmpVec1[2]);\n  // Assume that the point is contacting whichever face it's closest to.\n  if (xDistanceFromFace <= yDistanceFromFace) {\n    if (xDistanceFromFace <= zDistanceFromFace) {\n      contactNormal[0] = tmpVec1[0] > 0 ? 1 : -1;\n    } else {\n      contactNormal[2] = tmpVec1[2] > 0 ? 1 : -1;\n    }\n  } else {\n    if (yDistanceFromFace <= zDistanceFromFace) {\n      contactNormal[1] = tmpVec1[1] > 0 ? 1 : -1;\n    } else {\n      contactNormal[2] = tmpVec1[2] > 0 ? 1 : -1;\n    }\n  }\n}\n\nexport {\n  aabbVsPoint,\n  aabbVsSphere,\n  aabbVsAabb,\n  aabbVsObb,\n  aabbVsCapsule,\n  findAabbNormalFromContactPoint,\n};\n","/**\n * This module defines utility methods for calculating a contact point between capsules and other \n * shapes.\n *\n * - Each of these functions assumes that the objects are actually colliding.\n * - The resulting contact point may be anywhere within the intersection of the two objects.\n */\n\nimport {\n  findClosestPointFromAabbToPoint,\n  findClosestPointOnSegmentToPoint,\n  findClosestPointsFromSegmentToSegment,\n  tmpVec1,\n  tmpVec2\n} from '../../../util';\nimport * as obbContactCalculation from './obb-contact-calculation';\n\n/**\n * @param {vec3} contactPoint Output param.\n * @param {vec3} contactNormal Output param.\n * @param {Capsule} capsule\n * @param {vec3} point\n */\nfunction capsuleVsPoint(contactPoint, contactNormal, capsule, point) {\n  vec3.copy(contactPoint, point);\n  findClosestPointOnSegmentToPoint(contactNormal, capsule.segment, point);\n  vec3.subtract(contactNormal, contactPoint, contactNormal);\n  vec3.normalize(contactNormal, contactNormal);\n}\n\n/**\n * Finds the closest point on the surface of the capsule to the sphere center.\n *\n * @param {vec3} contactPoint Output param.\n * @param {vec3} contactNormal Output param.\n * @param {Capsule} capsule\n * @param {Sphere} sphere\n */\nfunction capsuleVsSphere(contactPoint, contactNormal, capsule, sphere) {\n  const sphereCenter = sphere.centerOfVolume;\n  findClosestPointOnSegmentToPoint(contactPoint, capsule.segment, sphereCenter);\n  vec3.subtract(contactNormal, sphereCenter, contactPoint);\n  vec3.normalize(contactNormal, contactNormal);\n  vec3.scaleAndAdd(contactPoint, contactPoint, contactNormal, capsule.radius);\n}\n\n/**\n * Finds the closest point on the surface of the capsule to the AABB.\n *\n * NOTE: This implementation cheats by checking whether vertices from one shape lie within the\n * other. Due to the tunnelling problem, it is possible that intersection occurs without any\n * vertices lying within the other shape. However, (A) this is unlikely, and (B) we are ignoring the\n * tunnelling problem for the rest of this collision system anyway.\n *\n * @param {vec3} contactPoint Output param.\n * @param {vec3} contactNormal Output param.\n * @param {Capsule} capsule\n * @param {Aabb} aabb\n */\nfunction capsuleVsAabb(contactPoint, contactNormal, capsule, aabb) {\n  // tmpVec1 represents the closest point on the capsule to the AABB. tmpVec2\n  // represents the closest point on the AABB to the capsule.\n\n  //\n  // Check whether the two capsule ends intersect the AABB (sphere vs AABB) (addresses the\n  // capsule-vs-AABB-face case).\n  //\n\n  const squaredRadius = capsule.radius * capsule.radius;\n  let doesAabbIntersectAnEndPoint = false;\n\n  let endPoint = capsule.segment.start;\n  findClosestPointFromAabbToPoint(tmpVec2, aabb, endPoint);\n  if (vec3.squaredDistance(tmpVec2, endPoint) <= squaredRadius) {\n    doesAabbIntersectAnEndPoint = true;\n  } else {\n    endPoint = capsule.segment.end;\n    findClosestPointFromAabbToPoint(tmpVec2, aabb, endPoint);\n    if (vec3.squaredDistance(tmpVec2, endPoint) <= squaredRadius) {\n      doesAabbIntersectAnEndPoint = true;\n    }\n  }\n\n  if (!doesAabbIntersectAnEndPoint) {\n    //\n    // Check whether the capsule intersects with any AABB edge (addresses the capsule-vs-AABB-edge\n    // case).\n    //\n    aabb.someEdge(edge => {\n      findClosestPointsFromSegmentToSegment(tmpVec1, tmpVec2,\n          capsule.segment, edge);\n      const distance = vec3.squaredDistance(tmpVec1, tmpVec2);\n      return distance <= squaredRadius;\n    });\n  }\n\n  // (The capsule-vs-AABB-vertex case is covered by the capsule-vs-AABB-edge case).\n\n  findClosestPointOnSegmentToPoint(tmpVec1, capsule.segment, tmpVec2);\n  vec3.subtract(contactNormal, tmpVec2, tmpVec1);\n  vec3.normalize(contactNormal, contactNormal);\n  vec3.scaleAndAdd(contactPoint, tmpVec1, contactNormal, capsule.radius);\n}\n\n/**\n * @param {vec3} contactPoint Output param.\n * @param {vec3} contactNormal Output param.\n * @param {Capsule} capsule\n * @param {Obb} obb\n */\nfunction capsuleVsObb(contactPoint, contactNormal, capsule, obb) {\n  obbContactCalculation.obbVsCapsule(contactPoint, contactNormal, obb, capsule);\n  vec3.negate(contactNormal, contactNormal);\n}\n\n/**\n * Finds the closest point on the surface of capsule A to capsule B.\n *\n * @param {vec3} contactPoint Output param.\n * @param {vec3} contactNormal Output param.\n * @param {Capsule} capsuleA\n * @param {Capsule} capsuleB\n */\nfunction capsuleVsCapsule(contactPoint, contactNormal, capsuleA, capsuleB) {\n  findClosestPointsFromSegmentToSegment(tmpVec1, tmpVec2,\n      capsuleA.segment, capsuleB.segment);\n  vec3.subtract(contactNormal, tmpVec2, tmpVec1);\n  vec3.normalize(contactNormal, contactNormal);\n  vec3.scaleAndAdd(contactPoint, tmpVec1, contactNormal, capsuleA.radius);\n}\n\nexport {\n  capsuleVsPoint,\n  capsuleVsSphere,\n  capsuleVsAabb,\n  capsuleVsObb,\n  capsuleVsCapsule,\n};\n","/**\n * This module defines utility methods for calculating a contact point between oriented bounding\n * boxes and other shapes.\n *\n * - Each of these functions assumes that the objects are actually colliding.\n * - The resulting contact point may be anywhere within the intersection of the two objects.\n */\n\nimport {\n  findPoiBetweenSegmentAndPlaneRegion,\n  findClosestPointFromObbToPoint,\n  findSquaredDistanceBetweenSegments,\n  findClosestPointsFromSegmentToSegment,\n  tmpVec1\n} from '../../../util';\nimport {aabbCollisionDetection, obbCollisionDetection} from '../../collision-detection';\nimport {LineSegment} from '../../collidables';\nimport * as aabbContactCalculation from './aabb-contact-calculation';\n\n// TODO: There are more efficient (but far more complicated) algorithms for finding the point of\n// intersection with OBBs. Port over some other pre-existing solutions for these.\n\n/**\n * @param {vec3} contactPoint Output param.\n * @param {vec3} contactNormal Output param.\n * @param {Obb} obb\n * @param {vec3} point\n */\nfunction obbVsPoint(contactPoint, contactNormal, obb, point) {\n  vec3.copy(contactPoint, point);\n  findObbNormalFromContactPoint(contactNormal, contactPoint, obb);\n}\n\n/**\n * Finds the closest point anywhere inside the OBB to the center of the sphere.\n *\n * @param {vec3} contactPoint Output param.\n * @param {vec3} contactNormal Output param.\n * @param {Obb} obb\n * @param {Sphere} sphere\n */\nfunction obbVsSphere(contactPoint, contactNormal, obb, sphere) {\n  findClosestPointFromObbToPoint(contactPoint, obb, sphere.centerOfVolume);\n  vec3.subtract(contactNormal, sphere.centerOfVolume, contactPoint);\n  vec3.normalize(contactNormal, contactNormal);\n}\n\n/**\n * NOTE: This implementation cheats by checking whether vertices from one shape lie within the\n * other. Due to the tunnelling problem, it is possible that intersection occurs without any\n * vertices lying within the other shape. However, (A) this is unlikely, and (B) we are ignoring the\n * tunnelling problem for the rest of this collision system anyway.\n *\n * @param {vec3} contactPoint Output param.\n * @param {vec3} contactNormal Output param.\n * @param {Obb} obb\n * @param {Aabb} aabb\n */\nfunction obbVsAabb(contactPoint, contactNormal, obb, aabb) {\n  return _obbVsBoxHelper(contactPoint, contactNormal, obb, aabb, aabbCollisionDetection.aabbVsPoint,\n      aabbContactCalculation.findAabbNormalFromContactPoint);\n}\n\n/**\n * NOTE: This implementation cheats by checking whether vertices from one shape lie within the\n * other. Due to the tunnelling problem, it is possible that intersection occurs without any\n * vertices lying within the other shape. However, (A) this is unlikely, and (B) we are ignoring the\n * tunnelling problem for the rest of this collision system anyway.\n *\n * @param {vec3} contactPoint Output param.\n * @param {vec3} contactNormal Output param.\n * @param {Obb} obbA\n * @param {Obb} obbB\n */\nfunction obbVsObb(contactPoint, contactNormal, obbA, obbB) {\n  return _obbVsBoxHelper(contactPoint, contactNormal, obbA, obbB, obbCollisionDetection.obbVsPoint,\n      findObbNormalFromContactPoint);\n}\n\n/**\n * @param {vec3} contactPoint Output param.\n * @param {vec3} contactNormal Output param.\n * @param {Obb} obb\n * @param {Obb|Aabb} other\n * @param {Function} otherVsPointCollisionDetectionCallback\n * @param {Function} findOtherNormalFromContactPoint\n * @private\n */\nfunction _obbVsBoxHelper(contactPoint, contactNormal, obb, other,\n                         otherVsPointCollisionDetectionCallback,\n                         findOtherNormalFromContactPoint) {\n  // Check whether any vertices from A lie within B's bounds.\n  if (obb.someVertex(vertex => otherVsPointCollisionDetectionCallback(other, vertex),\n          contactPoint)) {\n    findOtherNormalFromContactPoint(contactNormal, contactPoint, other);\n    vec3.negate(contactNormal, contactNormal);\n    return;\n  }\n\n  // Check whether any vertices from B lie within A's bounds.\n  if (other.someVertex(vertex => obbCollisionDetection.obbVsPoint(obb, vertex), contactPoint)) {\n    findObbNormalFromContactPoint(contactNormal, contactPoint, obb);\n    return;\n  }\n\n  // We assume that a vertex-to-face collision would have been detected by one of the two above\n  // checks. Any edge-to-edge collision must involve both an edge from A through a face of B and\n  // vice versa. So it is sufficient to only check the edges of one and the faces of the other.\n  other.someEdge(edge =>\n      obb.someFace(face => findPoiBetweenSegmentAndPlaneRegion(contactPoint, edge, ...face)));\n  findObbNormalFromContactPoint(contactNormal, contactPoint, obb);\n}\n\n/**\n * @param {vec3} contactPoint Output param.\n * @param {vec3} contactNormal Output param.\n * @param {Obb} obb\n * @param {Capsule} capsule\n */\nfunction obbVsCapsule(contactPoint, contactNormal, obb, capsule) {\n  // tmpVec1 is the point on the capsule segment that is closest to the OBB.\n\n  //\n  // Check the edges.\n  //\n\n  const segment = new LineSegment(vec3.create(), vec3.create());\n  const squaredRadius = capsule.radius * capsule.radius;\n  const areIntersecting = obb.someEdge(edge =>\n      findSquaredDistanceBetweenSegments(capsule.segment, edge) < squaredRadius, segment);\n\n  if (areIntersecting) {\n    findClosestPointsFromSegmentToSegment(tmpVec1, contactPoint, capsule.segment, segment);\n    vec3.subtract(contactNormal, tmpVec1, contactPoint);\n    vec3.normalize(contactNormal, contactNormal);\n    return;\n  }\n\n  //\n  // Check the faces.\n  //\n\n  obb.somePushedOutFace(face =>\n      findPoiBetweenSegmentAndPlaneRegion(tmpVec1, capsule.segment, ...face), capsule.radius);\n\n  findObbNormalFromContactPoint(contactNormal, tmpVec1, obb);\n\n  // NOTE: This assumes that the angle between the capsule segment and the face plane is not oblique\n  // and that the depth of penetration is shallow. When both of these conditions are not true, the\n  // contact point will be offset from the intersection point on the pushed-out face.\n  vec3.scaleAndAdd(contactPoint, tmpVec1, contactNormal, -capsule.radius);\n}\n\n/**\n * @param {vec3} contactNormal Output param.\n * @param {vec3} contactPoint\n * @param {Obb} obb\n * @private\n */\nfunction findObbNormalFromContactPoint(contactNormal, contactPoint, obb) {\n  // Calculate the displacement along each axis.\n  const projections = [];\n  vec3.subtract(tmpVec1, contactPoint, obb.centerOfVolume);\n  for (let i = 0; i < 3; i++) {\n    projections[i] = vec3.dot(obb.axes[i], tmpVec1);\n  }\n\n  // Determine which face the normal is pointing away from.\n  vec3.set(contactNormal, 0, 0, 0);\n  const xDistanceFromFace = obb.halfSideLengths[0] - Math.abs(projections[0]);\n  const yDistanceFromFace = obb.halfSideLengths[1] - Math.abs(projections[1]);\n  const zDistanceFromFace = obb.halfSideLengths[2] - Math.abs(projections[2]);\n  // Assume that the point is contacting whichever face it's closest to.\n  if (xDistanceFromFace <= yDistanceFromFace) {\n    if (xDistanceFromFace <= zDistanceFromFace) {\n      contactNormal[0] = projections[0] > 0 ? 1 : -1;\n    } else {\n      contactNormal[2] = projections[2] > 0 ? 1 : -1;\n    }\n  } else {\n    if (yDistanceFromFace <= zDistanceFromFace) {\n      contactNormal[1] = projections[1] > 0 ? 1 : -1;\n    } else {\n      contactNormal[2] = projections[2] > 0 ? 1 : -1;\n    }\n  }\n\n  // Apply the OBB's orientation to the normal.\n  vec3.transformQuat(contactNormal, contactNormal, obb.orientation);\n}\n\nexport {\n  obbVsPoint,\n  obbVsSphere,\n  obbVsAabb,\n  obbVsObb,\n  obbVsCapsule,\n  findObbNormalFromContactPoint,\n};\n","/**\n * This module defines utility methods for calculating a contact point between spheres and other\n * shapes.\n *\n * - Each of these functions assumes that the objects are actually colliding.\n * - The resulting contact point may be anywhere within the intersection of the two objects.\n */\n\nimport {findClosestPointFromAabbSurfaceToPoint} from '../../../util';\nimport {findAabbNormalFromContactPoint} from './aabb-contact-calculation';\nimport * as obbContactCalculation from './obb-contact-calculation';\nimport * as capsuleContactCalculation from './capsule-contact-calculation';\n\n/**\n * @param {vec3} contactPoint Output param.\n * @param {vec3} contactNormal Output param.\n * @param {Sphere} sphere\n * @param {vec3} point\n */\nfunction sphereVsPoint(contactPoint, contactNormal, sphere, point) {\n  vec3.copy(contactPoint, point);\n  // Assume that the point is contacting the closest point on the surface of the sphere.\n  vec3.subtract(contactNormal, point, sphere.centerOfVolume);\n  vec3.normalize(contactNormal, contactNormal);\n}\n\n/**\n * @param {vec3} contactPoint Output param.\n * @param {vec3} contactNormal Output param.\n * @param {Sphere} sphereA\n * @param {Sphere} sphereB\n */\nfunction sphereVsSphere(contactPoint, contactNormal, sphereA, sphereB) {\n  vec3.subtract(contactNormal, sphereB.centerOfVolume, sphereA.centerOfVolume);\n  vec3.normalize(contactNormal, contactNormal);\n  // The point on the surface of sphere A that is closest to the center of sphere B.\n  vec3.scaleAndAdd(contactPoint, sphereA.centerOfVolume, contactNormal, sphereA.radius);\n}\n\n/**\n * Finds the closest point on the surface of the AABB to the sphere center.\n *\n * @param {vec3} contactPoint Output param.\n * @param {vec3} contactNormal Output param.\n * @param {Sphere} sphere\n * @param {Aabb} aabb\n */\nfunction sphereVsAabb(contactPoint, contactNormal, sphere, aabb) {\n  findClosestPointFromAabbSurfaceToPoint(contactPoint, aabb, sphere.centerOfVolume);\n  findAabbNormalFromContactPoint(contactNormal, contactPoint, aabb);\n  vec3.negate(contactNormal, contactNormal);\n}\n\n/**\n * @param {vec3} contactPoint Output param.\n * @param {vec3} contactNormal Output param.\n * @param {Sphere} sphere\n * @param {Obb} obb\n */\nfunction sphereVsObb(contactPoint, contactNormal, sphere, obb) {\n  obbContactCalculation.obbVsSphere(contactPoint, contactNormal, obb, sphere);\n  vec3.negate(contactNormal, contactNormal);\n}\n\n/**\n * @param {vec3} contactPoint Output param.\n * @param {vec3} contactNormal Output param.\n * @param {Sphere} sphere\n * @param {Capsule} capsule\n */\nfunction sphereVsCapsule(contactPoint, contactNormal, sphere, capsule) {\n  capsuleContactCalculation.capsuleVsSphere(contactPoint, contactNormal, capsule, sphere);\n  vec3.negate(contactNormal, contactNormal);\n}\n\nexport {\n  sphereVsPoint,\n  sphereVsSphere,\n  sphereVsAabb,\n  sphereVsObb,\n  sphereVsCapsule,\n};\n","export * from './collidables';\nexport * from './collision-detection';\nexport * from './contact-calculation';\n\nexport * from './src/collidable-factories';\nexport * from './src/collidable-physics-job';\nexport * from './src/collidable-store';\nexport * from './src/collision-handler';\nexport * from './src/collision-utils';\n","/**\n * This module defines a set of factory functions for creating Collidable instances.\n */\n\nimport {\n  Capsule,\n  Obb,\n  Sphere\n} from '../collidables';\nimport {_geometry} from '../../util';\n\n/**\n * @param {CollidableShapeConfig} params\n * @param {CollidablePhysicsJob} [physicsJob]\n * @returns {Collidable}\n */\nfunction createCollidableFromRenderableShape(params, physicsJob) {\n  return _collidableCreators[params.collidableShapeId](params, physicsJob);\n}\n\n/**\n * This assumes the base RenderableShape has a side length of one unit.\n *\n * @param {CollidableShapeConfig} params\n * @param {CollidablePhysicsJob} [physicsJob]\n * @returns {Collidable}\n */\nfunction createObbFromRenderableShape(params, physicsJob) {\n  const halfRangeX = params.scale[0] / 2;\n  const halfRangeY = params.scale[1] / 2;\n  const halfRangeZ = params.scale[2] / 2;\n  return new Obb(halfRangeX, halfRangeY, halfRangeZ, params.isStationary, physicsJob);\n}\n\n/**\n * This assumes the base RenderableShape has a \"radius\" of one unit.\n *\n * @param {CollidableShapeConfig} params\n * @param {CollidablePhysicsJob} [physicsJob]\n * @returns {Collidable}\n */\nfunction createSphereFromRenderableShape(params, physicsJob) {\n  const radius = params.radius || vec3.length(params.scale) / Math.sqrt(3);\n  return new Sphere(0, 0, 0, radius, params.isStationary, physicsJob);\n}\n\n/**\n * The radius of the created capsule will be an average from the two shortest sides.\n *\n * There are two modes: either we use scale, or we use radius and capsuleEndPointsDistance.\n *\n * @param {CollidableShapeConfig} params\n * @param {CollidablePhysicsJob} [physicsJob]\n * @returns {Collidable}\n */\nfunction createCapsuleFromRenderableShape(params, physicsJob) {\n  const scale = params.scale;\n  const capsuleEndPointsDistance = params.capsuleEndPointsDistance;\n  const isStationary = params.isStationary;\n  let radius = params.radius;\n\n  let halfDistance;\n\n  // There are two modes: either we use scale, or we use radius and capsuleEndPointsDistance.\n  if (typeof radius === 'number' && typeof capsuleEndPointsDistance === 'number') {\n    halfDistance = capsuleEndPointsDistance / 2;\n  } else {\n    const copy = vec3.clone(scale);\n    copy.sort();\n\n    const length = copy[2];\n    radius = (copy[0] + copy[1]) / 2;\n    halfDistance = length / 2 - radius;\n  }\n\n  const orientation = quat.create();\n  if (scale[0] > scale[1]) {\n    if (scale[0] > scale[2]) {\n      vec3.rotateY(orientation, orientation, _geometry.HALF_PI);\n    } else {\n      // Do nothing; the capsule defaults to being aligned with the z-axis.\n    }\n  } else {\n    if (scale[1] > scale[2]) {\n      vec3.rotateX(orientation, orientation, -_geometry.HALF_PI);\n    } else {\n      // Do nothing; the capsule defaults to being aligned with the z-axis.\n    }\n  }\n\n  const capsule = new Capsule(halfDistance, radius, isStationary, physicsJob);\n  capsule.orientation = orientation;\n\n  return capsule;\n}\n\n/**\n * @param {CollidableShapeConfig} params\n * @param {CollidablePhysicsJob} [physicsJob]\n * @returns {Collidable}\n */\nfunction createSphereOrCapsuleFromRenderableShape(params, physicsJob) {\n  const scale = params.scale;\n  const radius = params.radius;\n  const capsuleEndPointsDistance = params.capsuleEndPointsDistance;\n\n  const halfLengthX = scale[0] * radius;\n  const halfLengthY = scale[1] * radius;\n  const halfLengthZ = scale[2] * (radius + capsuleEndPointsDistance) / 2;\n\n  const minLength = Math.min(Math.min(halfLengthX, halfLengthY), halfLengthZ);\n  const maxLength = Math.max(Math.max(halfLengthX, halfLengthY), halfLengthZ);\n\n  if (maxLength / minLength >= _SPHERE_VS_CAPSULE_ASPECT_RATIO_THRESHOLD) {\n    return createCapsuleFromRenderableShape(params, physicsJob);\n  } else {\n    return createSphereFromRenderableShape(params, physicsJob);\n  }\n}\n\nconst _SPHERE_VS_CAPSULE_ASPECT_RATIO_THRESHOLD = 2;\n\nconst _collidableCreators = {\n  'CUBE': createObbFromRenderableShape,\n  'SPHERE_OR_CAPSULE': createSphereOrCapsuleFromRenderableShape,\n  'SPHERE': createSphereFromRenderableShape,\n  'CAPSULE': createCapsuleFromRenderableShape,\n};\n\nexport {\n  createCapsuleFromRenderableShape,\n  createCollidableFromRenderableShape,\n  createObbFromRenderableShape,\n  createSphereFromRenderableShape,\n  createSphereOrCapsuleFromRenderableShape,\n};\n\n/**\n * @typedef {Object} CollidableShapeConfig\n * @property {string} collidableShapeId The ID of the type of collidable shape.\n * @property {vec3} [scale]\n * @property {boolean} [isStationary=false] Whether the collidable is fixed in place.\n */\n\n/**\n * @typedef {CollidableShapeConfig} SphericalCollidableShapeParams\n * @property {number} radius\n */\n\n/**\n * @typedef {SphericalCollidableShapeParams} CapsuleCollidableShapeParams\n * @property {number} capsuleEndPointsDistance The distance between the centers of the spheres on either end\n * of the capsule.\n */\n","import {createCollidableFromRenderableShape} from './collidable-factories';\nimport {collidableStore} from './collidable-store';\nimport {PhysicsJob} from '../../src/physics-job';\nimport {createForCollidable} from '../../util';\n\n/**\n * A CollidablePhysicsJob extends the standard PhysicsJob with a collidable geometry.\n */\nclass CollidablePhysicsJob extends PhysicsJob {\n  /**\n   * @param {CollidableShapeConfig} collidableParams\n   * @param {PhysicsState} state\n   * @param {Array.<ForceApplier>} forceAppliers\n   * @param {Object} controller\n   * @param {CollisionHandler} collisionHandler\n   */\n  constructor(collidableParams, state, forceAppliers, controller, collisionHandler) {\n    super(forceAppliers, state);\n\n    collidableParams.scale = collidableParams.scale || vec3.fromValues(1, 1, 1);\n    this.collidable = createCollidableFromRenderableShape(collidableParams, this);\n    this.currentState.unrotatedInertiaTensor =\n        createForCollidable(this.collidable, this.currentState.mass);\n    this.currentState.updateDependentFields();\n    this.isAtRest = false;\n    this.controller = controller;\n    this._collisionHandler = collisionHandler;\n  }\n\n  /**\n   * @param {ForceApplier} forceApplier\n   */\n  addForceApplier(forceApplier) {\n    super.addForceApplier(forceApplier);\n    this.isAtRest = false;\n  }\n\n  /**\n   * @param {ForceApplier} forceApplier\n   */\n  removeForceApplier(forceApplier) {\n    super.removeForceApplier(forceApplier);\n    this.isAtRest = false;\n  }\n\n  /**\n   * This callback is triggered in response to a collision.\n   *\n   * @param {Collision} collision\n   * @returns {boolean} True if this needs the standard collision restitution to proceed.\n   */\n  handleCollision(collision) {\n    return this._collisionHandler(collision);\n  }\n\n  /**\n   * @param {number} [startTime]\n   * @override\n   */\n  start(startTime) {\n    super.start(startTime);\n    collidableStore.registerCollidable(this.collidable);\n  }\n\n  /**\n   * @override\n   */\n  finish() {\n    super.finish();\n    collidableStore.unregisterCollidable(this.collidable);\n  }\n\n  /** @returns {vec3} */\n  get position() {\n    return this.currentState.position;\n  }\n\n  /** @param {vec3} value */\n  set position(value) {\n    this.currentState.position = vec3.clone(value);\n    this.collidable.position = vec3.clone(value);\n  }\n}\n\nexport {CollidablePhysicsJob};\n\n/**\n * @typedef {Function} CollisionHandler\n * @param {Collision} collision\n * @returns {boolean} True if this needs the standard collision restitution to proceed.\n */\n","import {detectBoundingVolumeIntersection} from './collision-utils';\n\n// TODO: Implement some form of bounding volume hierarchy to make searching for potential collisions\n// more efficient.\n\n/**\n * This class registers and retrieves all Collidables within a scene.\n */\nclass CollidableStore {\n  constructor() {\n    this._collidables = [];\n  }\n\n  /**\n   * Caches the given program wrapper.\n   *\n   * This method is idempotent; a given program will only be cached once.\n   *\n   * @param {Collidable} collidable\n   */\n  registerCollidable(collidable) {\n    this._collidables.push(collidable);\n  }\n\n  /**\n   * @param {Collidable} collidable\n   */\n  unregisterCollidable(collidable) {\n    const index = this._collidables.indexOf(collidable);\n    if (index >= 0) {\n      this._collidables.splice(index, 1);\n    }\n  }\n\n  /**\n   * @param {Collidable} collidable\n   * @returns {Array.<Collidable>}\n   */\n  getPossibleCollisionsForCollidable(collidable) {\n    return this._collidables.filter(other =>\n      collidable !== other &&\n      detectBoundingVolumeIntersection(collidable, other));\n  }\n\n  /**\n   * @returns {Array.<Collision>}\n   */\n  getPossibleCollisionsForAllCollidables() {\n    const result = [];\n    for (let i = 0, count = this._collidables.length; i < count; i++) {\n      const collidableA = this._collidables[i];\n      for (let j = i + 1; j < count; j++) {\n        const collidableB = this._collidables[j];\n        if (detectBoundingVolumeIntersection(collidableA, collidableB)) {\n          result.push({collidableA: collidableA, collidableB: collidableB});\n        }\n      }\n    }\n    return result;\n  }\n\n  /**\n   * @param {Function} callback\n   */\n  forEach(callback) {\n    this._collidables.forEach(callback);\n  }\n}\n\nconst collidableStore = new CollidableStore();\nexport {collidableStore};\n\n/**\n * @typedef {Object} Collision\n * @property {Collidable} collidableA\n * @property {Collidable} collidableB\n * @property {vec3} [contactPoint] In world coordinates.\n * @property {vec3} [contactNormal] Points away from body A and toward body B.\n * @property {number} [time]\n */\n","import {\n  areVec3sClose,\n  tmpVec1,\n  tmpVec2,\n  tmpVec3,\n  tmpVec4,\n} from '../../util';\n\nimport {collidableStore} from './collidable-store';\nimport {detectIntersection, calculateContact} from './collision-utils';\n\n/**\n * This module defines a collision pipeline.\n *\n * These functions will detect collisions between collidable bodies and update their momenta in\n * response to the collisions.\n *\n * - Consists of an efficient broad-phase collision detection step followed by a precise\n *   narrow-phase step.\n * - Calculates the position, surface normal, and time of each contact.\n * - Calculates the impulse of a collision and updates the bodies' linear and angular momenta in\n *   response.\n * - Applies Coulomb friction to colliding bodies.\n * - Sub-divides the time step to more precisely determine when and where a collision occurs.\n * - Supports multiple collisions with a single body in a single time step.\n * - Efficiently supports bodies coming to rest against each other.\n * - Bodies will never penetrate one another.\n * - This does not address the tunnelling problem. That is, it is possible for two fast-moving\n *   bodies to pass through each other as long as they did not intersect each other during any time\n *   step.\n * - This only supports collisions between certain types of shapes. Fortunately, this set provides\n *   reasonable approximations for most other shapes. The supported types of shapes are: spheres,\n *   capsules, AABBs, and OBBs.\n *\n * ## Objects that come to rest\n *\n * An important efficiency improvement is to not process objects through the physics engine pipeline\n * after they have come to rest. The isAtRest field indicates when a body has come to rest.\n *\n * isAtRest is set to true after a physics frame is finished if the collisions, forces, position,\n * and orientation of a job have not changed from the previous to the current state.\n *\n * isAtRest is set to false from two possible events: after a physics frame is finished if the\n * collisions have changed from the previous to the current state, or when a force is added to\n * removed from the job.\n *\n * ## Collision calculations do not consider velocity\n *\n * Collision detection works by waiting until two bodies intersect. However, because time frames are\n * not infinitely small, when an intersection is detected, it's already past the exact instance of\n * collision. To alleviate problems from this, the velocity of each body can be considered when\n * calculating the collision time, position, and contact normal. However, taking velocity into\n * account makes the contact calculations much more complex, so we do not consider velocity in our\n * calculations.\n *\n * A notable consequence of this is that the calculated contact normals can be incorrect. Consider\n * the following moving squares. At time t2 they are found to have collided. The calculated contact\n * point will be somewhere within the intersection of the corners. But the calculated contact normal\n * will point upwards, while the true contact normal should point to the right. This is because the\n * contact calculations do not consider velocity and instead only consider the shallowest direction\n * of overlap.\n *\n * // Time t1\n *                    +------------+\n *                    |            |\n *                    |            |\n *                <-- |      B     |\n *                    |            |\n *  +------------+    |            |\n *  |            |    +------------+\n *  |            |\n *  |      A     | -->\n *  |            |\n *  |            |\n *  +------------+\n *\n * // Time t2\n *         +------------+\n *         |            |\n *         |            |\n *         |      B     |\n *         |            |\n *  +------------+      |\n *  |      +-----|------+\n *  |            |\n *  |      A     |\n *  |            |\n *  |            |\n *  +------------+\n */\n\n/**\n * Detect and handle any collisions between a given job and all other collidable bodies.\n *\n * @param {CollidablePhysicsJob} job\n * @param {DOMHighResTimeStamp} elapsedTime\n * @param {PhysicsConfig} physicsParams\n */\nfunction handleCollisionsForJob(job, elapsedTime, physicsParams) {\n  const collidable = job.collidable;\n\n  // Clear any previous collision info.\n  collidable.previousCollisions = collidable.collisions;\n  collidable.collisions = [];\n\n  // Find all colliding collidables.\n  const collidingCollidables = findIntersectingCollidablesForCollidable(collidable);\n\n  // Store the time of collision for each collision.\n  const collisions = _recordCollisions(collidable, collidingCollidables, elapsedTime);\n\n  // Calculate the points of contact for each collision.\n  _calculatePointsOfContact(collisions);\n\n  // Collision resolution.\n  _resolveCollisions(collisions, physicsParams);\n}\n\n/**\n * Finds all other collidables that intersect with the given collidable.\n *\n * @param {Collidable} collidable\n * @returns {Array.<Collidable>}\n */\nfunction findIntersectingCollidablesForCollidable(collidable) {\n  // Broad-phase collision detection (pairs whose bounding volumes intersect).\n  const collidingCollidables = collidableStore.getPossibleCollisionsForCollidable(collidable);\n\n  // Narrow-phase collision detection (pairs that actually intersect).\n  return _detectPreciseCollisionsFromCollidingCollidables(collidable, collidingCollidables);\n}\n\n/**\n * @param {Array.<CollidablePhysicsJob>} jobs\n */\nfunction determineJobsAtRest(jobs) {\n  jobs.forEach(job => job.isAtRest = _isJobAtRest(job));\n}\n\nfunction recordOldCollisionsForDevModeForAllCollidables() {\n  collidableStore.forEach(_recordOldCollisionsForDevModeForCollidable);\n}\n\n/**\n * Logs a warning message for any pair of objects that intersect.\n */\nfunction checkThatNoObjectsCollide() {\n  // Broad-phase collision detection (pairs whose bounding volumes intersect).\n  let collisions = collidableStore.getPossibleCollisionsForAllCollidables();\n\n  // Narrow-phase collision detection (pairs that actually intersect).\n  collisions = _detectPreciseCollisionsFromCollisions(collisions);\n\n  collisions.forEach(collision => {\n    console.warn('Objects still intersect after collision resolution', collision);\n  });\n}\n\n/**\n * Create collision objects that record the time of collision and the collidables in the collision.\n *\n * Also record references to these collisions on the collidables.\n *\n * @param {Collidable} collidable\n * @param {Array.<Collidable>} collidingCollidables\n * @param {DOMHighResTimeStamp} elapsedTime\n * @returns {Array.<Collision>}\n * @private\n */\nfunction _recordCollisions(collidable, collidingCollidables, elapsedTime) {\n  return collidingCollidables.map(other => {\n    const collision = {\n      collidableA: collidable,\n      collidableB: other,\n      time: elapsedTime\n    };\n\n    // Record the fact that these objects collided (the ModelController may want to handle this).\n    collision.collidableA.collisions.push(collision);\n    collision.collidableB.collisions.push(collision);\n\n    return collision;\n  });\n}\n\n/**\n * Narrow-phase collision detection.\n *\n * Given a list of possible collision pairs, filter out which pairs are actually colliding.\n *\n * @param {Array.<Collision>} collisions\n * @returns {Array.<Collision>}\n * @private\n */\nfunction _detectPreciseCollisionsFromCollisions(collisions) {\n  return collisions.filter(collision => {\n    // TODO:\n    // - Use temporal bisection with discrete sub-time steps to find time of collision (use\n    //       x-vs-y-specific intersection detection methods).\n    // - Make sure the collision object is set up with the \"previousState\" from the sub-step\n    //   before collision and the time from the sub-step after collision (determined from the\n    //   previous temporal bisection search...)\n\n    return detectIntersection(collision.collidableA, collision.collidableB);\n  });\n}\n\n/**\n * Narrow-phase collision detection.\n *\n * Given a list of possible collision pairs, filter out which pairs are actually colliding.\n *\n * @param {Collidable} collidable\n * @param {Array.<Collidable>} collidingCollidables\n * @returns {Array.<Collidable>}\n * @private\n */\nfunction _detectPreciseCollisionsFromCollidingCollidables(collidable, collidingCollidables) {\n  return collidingCollidables.filter(other => {\n    // TODO:\n    // - Use temporal bisection with discrete sub-time steps to find time of collision (use\n    //       x-vs-y-specific intersection detection methods).\n    // - Make sure the collision object is set up with the \"previousState\" from the sub-step\n    //   before collision and the time from the sub-step after collision (determined from the\n    //   previous temporal bisection search...)\n\n    return detectIntersection(collidable, other);\n  });\n}\n\n/**\n * Calculate the intersection position and contact normal of each collision.\n *\n * @param {Array.<Collision>} collisions\n * @private\n */\nfunction _calculatePointsOfContact(collisions) {\n  collisions.forEach(calculateContact);\n}\n\n/**\n * Updates the linear and angular momenta of each body in response to its collision.\n *\n * @param {Array.<Collision>} collisions\n * @param {PhysicsConfig} physicsParams\n * @private\n */\nfunction _resolveCollisions(collisions, physicsParams) {\n  collisions.forEach(collision => {\n    // If neither physics job needs the standard collision restitution, then don't do it.\n    if (_notifyPhysicsJobsOfCollision(collision)) {\n      if (collision.collidableA.physicsJob && collision.collidableB.physicsJob) {\n        // Neither of the collidables is stationary.\n        _resolveCollision(collision, physicsParams);\n      } else {\n        // One of the two collidables is stationary.\n        _resolveCollisionWithStationaryObject(collision, physicsParams);\n      }\n    }\n  });\n}\n\n/**\n * @param {Collision} collision\n * @returns {boolean} True if one of the PhysicsJobs need the standard collision restitution to\n * proceed.\n * @private\n */\nfunction _notifyPhysicsJobsOfCollision(collision) {\n  return collision.collidableA.physicsJob.handleCollision(collision) ||\n      collision.collidableB.physicsJob.handleCollision(collision)\n}\n\n/**\n * Resolve a collision between two moving, physics-based objects.\n *\n * This is based on collision-response algorithms from Wikipedia\n * (https://en.wikipedia.org/wiki/Collision_response#Impulse-based_reaction_model).\n *\n * @param {Collision} collision\n * @param {PhysicsConfig} physicsParams\n * @private\n */\nfunction _resolveCollision(collision, physicsParams) {\n  const collidableA = collision.collidableA;\n  const collidableB = collision.collidableB;\n  const previousStateA = collidableA.physicsJob.previousState;\n  const previousStateB = collidableB.physicsJob.previousState;\n  const nextStateA = collidableA.physicsJob.currentState;\n  const nextStateB = collidableB.physicsJob.currentState;\n  const centerA = collidableA.centerOfMass;\n  const centerB = collidableB.centerOfMass;\n  const contactPoint = collision.contactPoint;\n\n  const contactPointOffsetA = tmpVec3;\n  vec3.subtract(contactPointOffsetA, contactPoint, centerA);\n  const contactPointOffsetB = tmpVec4;\n  vec3.subtract(contactPointOffsetB, contactPoint, centerB);\n\n  //\n  // Calculate the relative velocity of the bodies at the point of contact.\n  //\n  // We use the velocity from the previous state, since it is the velocity that led to the\n  // collision.\n  //\n\n  const velocityA = tmpVec1;\n  vec3.cross(tmpVec1, previousStateA.angularVelocity, contactPointOffsetA);\n  vec3.add(velocityA, previousStateA.velocity, tmpVec1);\n\n  const velocityB = tmpVec2;\n  vec3.cross(tmpVec2, previousStateB.angularVelocity, contactPointOffsetB);\n  vec3.add(velocityB, previousStateB.velocity, tmpVec2);\n\n  const relativeVelocity = vec3.create();\n  vec3.subtract(relativeVelocity, velocityB, velocityA);\n\n  if (vec3.dot(relativeVelocity, collision.contactNormal) >= 0) {\n    // If the relative velocity is not pointing against the normal, then the normal was calculated\n    // incorrectly (this is likely due to the time step being too large and the fact that our\n    // contact calculations don't consider velocity). So update the contact normal to be in the\n    // direction of the relative velocity.\n\n    // TODO: Check that this works as expected.\n\n    // console.warn('Non-collision because objects are moving away from each other.');\n\n    vec3.copy(collision.contactNormal, relativeVelocity);\n    vec3.normalize(collision.contactNormal, collision.contactNormal);\n    vec3.negate(collision.contactNormal, collision.contactNormal);\n  }\n\n  _applyImpulseFromCollision(collision, relativeVelocity, contactPointOffsetA,\n      contactPointOffsetB, physicsParams);\n\n  // NOTE: This state reversion is only applied to collidableA. This assumes that only A is moving\n  // during this iteration of the collision pipeline.\n\n  // Revert to the position and orientation from immediately before the collision.\n  vec3.copy(nextStateA.position, previousStateA.position);\n  quat.copy(nextStateA.orientation, previousStateA.orientation);\n\n  // Also revert the collidables' position and orientation.\n  collidableA.position = previousStateA.position;\n  collidableA.orientation = previousStateA.orientation;\n\n  nextStateA.updateDependentFields();\n  nextStateB.updateDependentFields();\n}\n\n/**\n * Resolve a collision between one moving, physics-based object and one stationary object.\n *\n * @param {Collision} collision\n * @param {PhysicsConfig} physicsParams\n * @private\n */\nfunction _resolveCollisionWithStationaryObject(collision, physicsParams) {\n  const contactNormal = collision.contactNormal;\n\n  let physicsCollidable;\n  if (collision.collidableA.physicsJob) {\n    physicsCollidable = collision.collidableA;\n  } else {\n    physicsCollidable = collision.collidableB;\n    vec3.negate(contactNormal, contactNormal);\n  }\n\n  const previousState = physicsCollidable.physicsJob.previousState;\n  const nextState = physicsCollidable.physicsJob.currentState;\n  const center = physicsCollidable.centerOfMass;\n  const contactPoint = collision.contactPoint;\n\n  const contactPointOffset = tmpVec3;\n  vec3.subtract(contactPointOffset, contactPoint, center);\n\n  // Calculate the relative velocity of the bodies at the point of contact. We use the velocity from\n  // the previous state, since it is the velocity that led to the collision.\n  const velocity = vec3.create();\n  vec3.cross(tmpVec1, previousState.angularVelocity, contactPointOffset);\n  vec3.add(velocity, previousState.velocity, tmpVec1);\n\n  if (vec3.dot(velocity, contactNormal) <= 0) {\n    // If the relative velocity is not pointing against the normal, then the normal was calculated\n    // incorrectly (this is likely due to the time step being too large and the fact that our\n    // contact calculations don't consider velocity). So update the contact normal to be in the\n    // direction of the relative velocity.\n\n    // TODO: Check that this works as expected.\n\n    console.warn('Non-collision because object is moving away from stationary object.');\n\n    vec3.copy(collision.contactNormal, velocity);\n    vec3.normalize(collision.contactNormal, collision.contactNormal);\n    vec3.negate(collision.contactNormal, collision.contactNormal);\n  }\n\n  _applyImpulseFromCollisionWithStationaryObject(physicsCollidable, collision, velocity,\n      contactPointOffset, physicsParams);\n\n  // Revert to the position and orientation from immediately before the collision.\n  vec3.copy(nextState.position, previousState.position);\n  quat.copy(nextState.orientation, previousState.orientation);\n\n  // Also revert the collidable's position and orientation.\n  physicsCollidable.position = previousState.position;\n  physicsCollidable.orientation = previousState.orientation;\n\n  nextState.updateDependentFields();\n}\n\n/**\n * This is based on collision-response algorithms from Wikipedia\n * (https://en.wikipedia.org/wiki/Collision_response#Impulse-based_reaction_model). This algorithm\n * has been simplified by assuming the stationary body has infinite mass and zero velocity.\n *\n * @param {Collision} collision\n * @param {vec3} relativeVelocity\n * @param {vec3} contactPointOffsetA\n * @param {vec3} contactPointOffsetB\n * @param {PhysicsConfig} physicsParams\n * @private\n */\nfunction _applyImpulseFromCollision(collision, relativeVelocity, contactPointOffsetA,\n                                    contactPointOffsetB, physicsParams) {\n  const collidableA = collision.collidableA;\n  const collidableB = collision.collidableB;\n\n  const stateA = collidableA.physicsJob.currentState;\n  const stateB = collidableB.physicsJob.currentState;\n\n  const contactNormal = collision.contactNormal;\n\n  //\n  // Calculate and apply the main collision impulse.\n  //\n\n  vec3.scale(tmpVec1, relativeVelocity, -(1 + physicsParams.coefficientOfRestitution));\n  const numerator = vec3.dot(tmpVec1, contactNormal);\n\n  vec3.cross(tmpVec1, contactPointOffsetA, contactNormal);\n  vec3.transformMat3(tmpVec1, tmpVec1, stateA.inverseInertiaTensor);\n  vec3.cross(tmpVec1, tmpVec1, contactPointOffsetA);\n\n  vec3.cross(tmpVec2, contactPointOffsetB, contactNormal);\n  vec3.transformMat3(tmpVec2, tmpVec2, stateB.inverseInertiaTensor);\n  vec3.cross(tmpVec2, tmpVec2, contactPointOffsetB);\n\n  vec3.add(tmpVec1, tmpVec1, tmpVec2);\n  const denominator = vec3.dot(tmpVec1, contactNormal) + stateA.inverseMass + stateB.inverseMass;\n\n  const impulseMagnitude = numerator / denominator;\n\n  _applyImpulse(stateA, -impulseMagnitude, contactNormal, contactPointOffsetA);\n  _applyImpulse(stateB, impulseMagnitude, contactNormal, contactPointOffsetB);\n\n  //\n  // Calculate and apply a dynamic friction impulse.\n  //\n\n  const frictionImpulseMagnitude = impulseMagnitude * physicsParams.coefficientOfFriction;\n\n  const tangent = tmpVec2;\n  vec3.scale(tmpVec1, contactNormal, vec3.dot(relativeVelocity, contactNormal));\n  vec3.subtract(tangent, relativeVelocity, tmpVec1);\n  vec3.normalize(tangent, tangent);\n\n  _applyImpulse(stateA, frictionImpulseMagnitude, tangent, contactPointOffsetA);\n  _applyImpulse(stateB, -frictionImpulseMagnitude, tangent, contactPointOffsetB);\n}\n\n/**\n * This is based on collision-response algorithms from Wikipedia\n * (https://en.wikipedia.org/wiki/Collision_response#Impulse-based_reaction_model). This algorithm\n * has been simplified by assuming the stationary body has infinite mass and zero velocity.\n *\n * @param {Collidable} physicsCollidable\n * @param {Collision} collision\n * @param {vec3} velocity\n * @param {vec3} contactPointOffset\n * @param {PhysicsConfig} physicsParams\n * @private\n */\nfunction _applyImpulseFromCollisionWithStationaryObject(physicsCollidable, collision, velocity,\n                                                        contactPointOffset, physicsParams) {\n  const state = physicsCollidable.physicsJob.currentState;\n  const contactNormal = collision.contactNormal;\n\n  //\n  // Calculate and apply the main collision impulse.\n  //\n\n  vec3.scale(tmpVec1, velocity, -(1 + physicsParams.coefficientOfRestitution));\n  const numerator = vec3.dot(tmpVec1, contactNormal);\n\n  vec3.cross(tmpVec1, contactPointOffset, contactNormal);\n  vec3.transformMat3(tmpVec1, tmpVec1, state.inverseInertiaTensor);\n  vec3.cross(tmpVec1, tmpVec1, contactPointOffset);\n  const denominator = vec3.dot(tmpVec1, contactNormal) + state.inverseMass;\n\n  const impulseMagnitude = numerator / denominator;\n\n  _applyImpulse(state, impulseMagnitude, contactNormal, contactPointOffset);\n\n  //\n  // Calculate and apply a dynamic friction impulse.\n  //\n\n  const frictionImpulseMagnitude = impulseMagnitude * physicsParams.coefficientOfFriction;\n\n  const tangent = tmpVec2;\n  vec3.scale(tmpVec1, contactNormal, vec3.dot(velocity, contactNormal));\n  vec3.subtract(tangent, velocity, tmpVec1);\n  vec3.normalize(tangent, tangent);\n\n  _applyImpulse(state, frictionImpulseMagnitude, tangent, contactPointOffset);\n}\n\n/**\n * @param {PhysicsState} state\n * @param {number} impulseMagnitude\n * @param {vec3} impulseDirection\n * @param {vec3} contactPointOffset\n * @private\n */\nfunction _applyImpulse(state, impulseMagnitude, impulseDirection, contactPointOffset) {\n  // Calculate the updated linear momenta.\n  const finalLinearMomentum = vec3.create();\n  vec3.scaleAndAdd(finalLinearMomentum, state.momentum, impulseDirection, impulseMagnitude);\n\n  // Calculate the updated angular momenta.\n  const finalAngularMomentum = vec3.create();\n  vec3.cross(tmpVec1, contactPointOffset, impulseDirection);\n  vec3.scaleAndAdd(finalAngularMomentum, state.angularMomentum, tmpVec1, impulseMagnitude);\n\n  // Apply the updated momenta.\n  vec3.copy(state.momentum, finalLinearMomentum);\n  vec3.copy(state.angularMomentum, finalAngularMomentum);\n}\n\n/**\n * @param {CollidablePhysicsJob} job\n * @returns {boolean}\n * @private\n */\nfunction _isJobAtRest(job) {\n  return areVec3sClose(job.currentState.position, job.previousState.position) &&\n      areVec3sClose(job.currentState.velocity, job.previousState.velocity) &&\n      areVec3sClose(job.currentState.orientation, job.previousState.orientation) &&\n      _doCollisionsMatch(job.collidable.collisions, job.collidable.previousCollisions);\n}\n\n/**\n * @param {Array.<Collision>} collisionsA\n * @param {Array.<Collision>} collisionsB\n * @returns {boolean}\n * @private\n */\nfunction _doCollisionsMatch(collisionsA, collisionsB) {\n  const count = collisionsA.length;\n\n  if (count !== collisionsB.length) return false;\n\n  for (let i = 0; i < count; i++) {\n    const collisionA = collisionsA[i];\n    const collisionB = collisionsB[i];\n    if (collisionA.collidableA !== collisionB.collidableA ||\n        collisionA.collidableB !== collisionB.collidableB ||\n        !areVec3sClose(collisionA.contactPoint, collisionB.contactPoint) ||\n        !areVec3sClose(collisionA.contactNormal, collisionB.contactNormal)) {\n      return false\n    }\n  }\n\n  return true;\n}\n\n/**\n * @param {Collidable} collidable\n * @private\n */\nfunction _recordOldCollisionsForDevModeForCollidable(collidable) {\n  if (!collidable.extraPreviousCollisions) {\n    collidable.extraPreviousCollisions = [];\n  }\n\n  for (let i = 3; i > 0; i--) {\n    collidable.extraPreviousCollisions[i] = collidable.extraPreviousCollisions[i - 1];\n  }\n  collidable.extraPreviousCollisions[0] = collidable.previousCollisions;\n}\n\n/**\n * @param {Collision} collision\n * @param {Object} thisController\n * @returns {Object}\n */\nfunction getOtherControllerFromCollision(collision, thisController) {\n  const controllerA = collision.collidableA.physicsJob.controller;\n  const controllerB = collision.collidableB.physicsJob.controller;\n  if (controllerA === thisController) {\n    return controllerB;\n  } else if (controllerB === thisController) {\n    return controllerA;\n  } else {\n    throw new Error('Neither collidable corresponds to the given controller');\n  }\n}\n\nexport {\n  handleCollisionsForJob,\n  findIntersectingCollidablesForCollidable,\n  determineJobsAtRest,\n  recordOldCollisionsForDevModeForAllCollidables,\n  checkThatNoObjectsCollide,\n  getOtherControllerFromCollision,\n};\n","import {\n  Aabb,\n  Capsule,\n  Obb,\n  Sphere\n} from '../collidables';\n\nimport {\n  aabbCollisionDetection,\n  capsuleCollisionDetection,\n  obbCollisionDetection,\n  sphereCollisionDetection,\n} from '../collision-detection';\n\nimport {\n  aabbContactCalculation,\n  capsuleContactCalculation,\n  obbContactCalculation,\n  sphereContactCalculation,\n} from '../contact-calculation';\n\n/**\n * This module defines a collection of static utility functions for detecting and responding to\n * collisions.\n */\n\n/**\n * @param {Collidable} a\n * @param {Collidable} b\n * @returns {boolean}\n */\nfunction detectIntersection(a, b) {\n  if (a instanceof Sphere) {\n    if (b instanceof Sphere) {\n      return sphereCollisionDetection.sphereVsSphere(a, b);\n    } else if (b instanceof Aabb) {\n      return sphereCollisionDetection.sphereVsAabb(a, b);\n    } else if (b instanceof Capsule) {\n      return sphereCollisionDetection.sphereVsCapsule(a, b);\n    } else if (b instanceof Obb) {\n      return sphereCollisionDetection.sphereVsObb(a, b);\n    } else {\n      return sphereCollisionDetection.sphereVsPoint(a, b);\n    }\n  } else if (a instanceof Aabb) {\n    if (b instanceof Sphere) {\n      return aabbCollisionDetection.aabbVsSphere(a, b);\n    } else if (b instanceof Aabb) {\n      return aabbCollisionDetection.aabbVsAabb(a, b);\n    } else if (b instanceof Capsule) {\n      return aabbCollisionDetection.aabbVsCapsule(a, b);\n    } else if (b instanceof Obb) {\n      return aabbCollisionDetection.aabbVsObb(a, b);\n    } else {\n      return aabbCollisionDetection.aabbVsPoint(a, b);\n    }\n  } else if (a instanceof Capsule) {\n    if (b instanceof Sphere) {\n      return capsuleCollisionDetection.capsuleVsSphere(a, b);\n    } else if (b instanceof Aabb) {\n      return capsuleCollisionDetection.capsuleVsAabb(a, b);\n    } else if (b instanceof Capsule) {\n      return capsuleCollisionDetection.capsuleVsCapsule(a, b);\n    } else if (b instanceof Obb) {\n      return capsuleCollisionDetection.capsuleVsObb(a, b);\n    } else {\n      return capsuleCollisionDetection.capsuleVsPoint(a, b);\n    }\n  } else if (a instanceof Obb) {\n    if (b instanceof Sphere) {\n      return obbCollisionDetection.obbVsSphere(a, b);\n    } else if (b instanceof Aabb) {\n      return obbCollisionDetection.obbVsAabb(a, b);\n    } else if (b instanceof Capsule) {\n      return obbCollisionDetection.obbVsCapsule(a, b);\n    } else if (b instanceof Obb) {\n      return obbCollisionDetection.obbVsObb(a, b);\n    } else {\n      return obbCollisionDetection.obbVsPoint(a, b);\n    }\n  } else {\n    if (b instanceof Sphere) {\n      return sphereCollisionDetection.sphereVsPoint(b, a);\n    } else if (b instanceof Aabb) {\n      return aabbCollisionDetection.aabbVsPoint(b, a);\n    } else if (b instanceof Capsule) {\n      return capsuleCollisionDetection.capsuleVsPoint(b, a);\n    } else if (b instanceof Obb) {\n      return obbCollisionDetection.obbVsPoint(b, a);\n    } else {\n      return false;\n    }\n  }\n}\n\n/**\n * @param {Collision} collision\n */\nfunction calculateContact(collision) {\n  const a = collision.collidableA;\n  const b = collision.collidableB;\n  const contactPoint = vec3.create();\n  const contactNormal = vec3.create();\n\n  if (a instanceof Sphere) {\n    if (b instanceof Sphere) {\n      sphereContactCalculation.sphereVsSphere(contactPoint, contactNormal, a, b);\n    } else if (b instanceof Aabb) {\n      sphereContactCalculation.sphereVsAabb(contactPoint, contactNormal, a, b);\n    } else if (b instanceof Capsule) {\n      sphereContactCalculation.sphereVsCapsule(contactPoint, contactNormal, a, b);\n    } else if (b instanceof Obb) {\n      sphereContactCalculation.sphereVsObb(contactPoint, contactNormal, a, b);\n    } else {\n      sphereContactCalculation.sphereVsPoint(contactPoint, contactNormal, a, b);\n    }\n  } else if (a instanceof Aabb) {\n    if (b instanceof Sphere) {\n      aabbContactCalculation.aabbVsSphere(contactPoint, contactNormal, a, b);\n    } else if (b instanceof Aabb) {\n      aabbContactCalculation.aabbVsAabb(contactPoint, contactNormal, a, b);\n    } else if (b instanceof Capsule) {\n      aabbContactCalculation.aabbVsCapsule(contactPoint, contactNormal, a, b);\n    } else if (b instanceof Obb) {\n      aabbContactCalculation.aabbVsObb(contactPoint, contactNormal, a, b);\n    } else {\n      aabbContactCalculation.aabbVsPoint(contactPoint, contactNormal, a, b);\n    }\n  } else if (a instanceof Capsule) {\n    if (b instanceof Sphere) {\n      capsuleContactCalculation.capsuleVsSphere(contactPoint, contactNormal, a, b);\n    } else if (b instanceof Aabb) {\n      capsuleContactCalculation.capsuleVsAabb(contactPoint, contactNormal, a, b);\n    } else if (b instanceof Capsule) {\n      capsuleContactCalculation.capsuleVsCapsule(contactPoint, contactNormal, a, b);\n    } else if (b instanceof Obb) {\n      capsuleContactCalculation.capsuleVsObb(contactPoint, contactNormal, a, b);\n    } else {\n      capsuleContactCalculation.capsuleVsPoint(contactPoint, contactNormal, a, b);\n    }\n  } else if (a instanceof Obb) {\n    if (b instanceof Sphere) {\n      obbContactCalculation.obbVsSphere(contactPoint, contactNormal, a, b);\n    } else if (b instanceof Aabb) {\n      obbContactCalculation.obbVsAabb(contactPoint, contactNormal, a, b);\n    } else if (b instanceof Capsule) {\n      obbContactCalculation.obbVsCapsule(contactPoint, contactNormal, a, b);\n    } else if (b instanceof Obb) {\n      obbContactCalculation.obbVsObb(contactPoint, contactNormal, a, b);\n    } else {\n      obbContactCalculation.obbVsPoint(contactPoint, contactNormal, a, b);\n    }\n  } else {\n    if (b instanceof Sphere) {\n      sphereContactCalculation.sphereVsPoint(contactPoint, contactNormal, b, a);\n    } else if (b instanceof Aabb) {\n      aabbContactCalculation.aabbVsPoint(contactPoint, contactNormal, b, a);\n    } else if (b instanceof Capsule) {\n      capsuleContactCalculation.capsuleVsPoint(contactPoint, contactNormal, b, a);\n    } else if (b instanceof Obb) {\n      obbContactCalculation.obbVsPoint(contactPoint, contactNormal, b, a);\n    } else {}\n    vec3.negate(contactNormal, contactNormal);\n  }\n\n  collision.contactPoint = contactPoint;\n  collision.contactNormal = contactNormal;\n}\n\n/**\n * @param {Collidable} a\n * @param {Collidable} b\n * @returns {boolean}\n */\nfunction detectBoundingVolumeIntersection(a, b) {\n  return detectIntersection(a.boundingVolume, b.boundingVolume);\n}\n\nexport {\n  detectIntersection,\n  calculateContact,\n  detectBoundingVolumeIntersection,\n};\n","/**\n * This module re-exports all of the exports in the grafx framework. This makes the entire framework\n * conveniently accessible via this single module.\n */\n\nexport * from './collisions';\nexport * from './integrator';\nexport * from './util';\n\nexport * from './src/physics-engine';\nexport * from './src/physics-job';\nexport * from './src/physics-state';\n","export * from './src/integrator';\nexport * from './src/rk4-integrator';\n","/**\n * This class numerically integrates the equations of motion. That is, an integrator implements\n * physics simulations by updating position and velocity values for each time step.\n *\n * @abstract\n */\nclass Integrator {\n  constructor() {\n    // Integrator is an abstract class. It should not be instantiated directly.\n    if (new.target === Integrator) {\n      throw new TypeError('Cannot construct Integrator instances directly');\n    }\n  }\n\n  /**\n   * Integrate the state from t to t + dt.\n   *\n   * @param {PhysicsJob} job\n   * @param {number} t Total elapsed time.\n   * @param {number} dt Duration of the current time step.\n   * @abstract\n   */\n  integrate(job, t, dt) {\n    // Extending classes should implement this method.\n    throw new TypeError('Method not implemented');\n  }\n\n  /**\n   * @returns {PhysicsDerivative}\n   */\n  static createDerivative() {\n    return {\n      velocity: vec3.create(),\n      force: vec3.create(),\n      spin: quat.create(),\n      torque: vec3.create()\n    };\n  }\n}\n\nexport {Integrator};\n\n/**\n * @typedef {Object} PhysicsDerivative\n * @property {vec3} velocity Derivative of position.\n * @property {vec3} force Derivative of momentum.\n * @property {quat} spin Derivative of orientation.\n * @property {vec3} torque Derivative of angular momentum.\n */\n\n/**\n * @typedef {Object} ForceApplierOutput\n * @property {vec3} force\n * @property {vec3} torque\n */\n\n/**\n * @typedef {Object} ForceApplierInput\n * @property {PhysicsState} state\n * @property {number} t\n * @property {number} dt\n */\n","import {_geometry, _util} from '../../util';\nimport {Integrator} from './integrator';\nimport {PhysicsState} from '../../src/physics-state';\n\n// TODO: Account for the fact that collisions take place between time steps; integration should\n// really consider the previous state as being the time and state at the moment of collision.\n\n/**\n * This class numerically integrates the equations of motion. That is, this implements physics\n * simulations by updating position and velocity values for each time step.\n *\n * This integrator is an implementation of the classical Runge-Kutta method (RK4)\n * (https://en.wikipedia.org/wiki/Runge_kutta).\n *\n * This integrator causes energy to be lost at a small rate. This is a common problem for numerical\n * integrators, and is usually negligible.\n */\nclass RK4Integrator extends Integrator {\n  constructor() {\n    super();\n    if (_util.isInDevMode) {\n      this._wrapForDevMode();\n    }\n  }\n\n  /**\n   * Integrate the state from t to t + dt.\n   *\n   * @param {PhysicsJob} job\n   * @param {number} t Total elapsed time.\n   * @param {number} dt Duration of the current time step.\n   */\n  integrate(job, t, dt) {\n    const state = job.currentState;\n    _tempState.copy(state);\n\n    _calculateDerivative(_a, _tempState, job, t, 0, _EMPTY_DERIVATIVE);\n    _calculateDerivative(_b, _tempState, job, t, dt * 0.5, _a);\n    _calculateDerivative(_c, _tempState, job, t, dt * 0.5, _b);\n    _calculateDerivative(_d, _tempState, job, t, dt, _c);\n\n    _calculateVec3DerivativeWeightedSum(\n        _positionDerivative, _a.velocity, _b.velocity, _c.velocity, _d.velocity);\n    _calculateVec3DerivativeWeightedSum(\n        _momentumDerivative, _a.force, _b.force, _c.force, _d.force);\n    _calculateQuatDerivativeWeightedSum(_orientationDerivative, _a.spin, _b.spin, _c.spin, _d.spin);\n    _calculateVec3DerivativeWeightedSum(\n        _angularMomentumDerivative, _a.torque, _b.torque, _c.torque, _d.torque);\n\n    vec3.scaleAndAdd(state.position, state.position, _positionDerivative, dt);\n    vec3.scaleAndAdd(state.momentum, state.momentum, _momentumDerivative, dt);\n    _geometry.scaleAndAddQuat(state.orientation, state.orientation, _orientationDerivative, dt);\n    vec3.scaleAndAdd(state.angularMomentum, state.angularMomentum, _angularMomentumDerivative, dt);\n\n    state.updateDependentFields();\n  }\n\n  /**\n   * Wraps the integrate method and check for NaN values after each integration.\n   *\n   * @private\n   */\n  _wrapForDevMode() {\n    const unguardedIntegrate = this.integrate.bind(this);\n    this.integrate = (job, t, dt) => {\n      unguardedIntegrate(job, t, dt);\n      _checkForStateError(job.currentState);\n    };\n  }\n}\n\n/**\n * Calculate the derivative from the given state with the given time step.\n *\n * @param {PhysicsDerivative} out\n * @param {PhysicsState} state\n * @param {PhysicsJob} job\n * @param {number} t\n * @param {number} dt\n * @param {PhysicsDerivative} d\n * @private\n */\nfunction _calculateDerivative(out, state, job, t, dt, d) {\n  vec3.scaleAndAdd(state.position, state.position, d.velocity, dt);\n  vec3.scaleAndAdd(state.momentum, state.momentum, d.force, dt);\n  _geometry.scaleAndAddQuat(state.orientation, state.orientation, d.spin, dt);\n  vec3.scaleAndAdd(state.angularMomentum, state.angularMomentum, d.torque, dt);\n\n  state.updateDependentFields();\n\n  out.velocity = state.velocity;\n  out.spin = state.spin;\n  vec3.set(out.force, 0, 0, 0);\n  vec3.set(out.torque, 0, 0, 0);\n\n  _forceApplierOutput.force = out.force;\n  _forceApplierOutput.torque = out.torque;\n  _forceApplierInput.state = state;\n  _forceApplierInput.t = t + dt;\n  _forceApplierInput.dt = dt;\n\n  job.applyForces(_forceApplierOutput, _forceApplierInput);\n}\n\nconst _EMPTY_DERIVATIVE = Integrator.createDerivative();\n\nconst _tempState = new PhysicsState();\nconst _a = Integrator.createDerivative();\nconst _b = Integrator.createDerivative();\nconst _c = Integrator.createDerivative();\nconst _d = Integrator.createDerivative();\n\nconst _positionDerivative = vec3.create();\nconst _momentumDerivative = vec3.create();\nconst _orientationDerivative = quat.create();\nconst _angularMomentumDerivative = vec3.create();\n\nconst _forceApplierOutput = {};\nconst _forceApplierInput = {};\n\n/**\n * @param {vec3} out\n * @param {vec3} a\n * @param {vec3} b\n * @param {vec3} c\n * @param {vec3} d\n * @private\n */\nfunction _calculateVec3DerivativeWeightedSum(out, a, b, c, d) {\n  out[0] = 1 / 6 * (a[0] + 2 * (b[0] + c[0]) + d[0]);\n  out[1] = 1 / 6 * (a[1] + 2 * (b[1] + c[1]) + d[1]);\n  out[2] = 1 / 6 * (a[2] + 2 * (b[2] + c[2]) + d[2]);\n}\n\n/**\n * @param {quat} out\n * @param {quat} a\n * @param {quat} b\n * @param {quat} c\n * @param {quat} d\n * @private\n */\nfunction _calculateQuatDerivativeWeightedSum(out, a, b, c, d) {\n  out[0] = 1 / 6 * (a[0] + 2 * (b[0] + c[0]) + d[0]);\n  out[1] = 1 / 6 * (a[1] + 2 * (b[1] + c[1]) + d[1]);\n  out[2] = 1 / 6 * (a[2] + 2 * (b[2] + c[2]) + d[2]);\n  out[3] = 1 / 6 * (a[3] + 2 * (b[3] + c[3]) + d[3]);\n}\n\n/**\n * @param {PhysicsState} state\n * @private\n */\nfunction _checkForStateError(state) {\n  const errorProperties = [\n    'position',\n    'momentum',\n    'orientation',\n    'angularMomentum',\n  ].filter(property => _containsNaN(state[property]));\n  const property = errorProperties[0];\n  if (property) {\n    throw new Error(`${property} contains a NaN value after integrating: ${state[property]}`);\n  }\n}\n\n/**\n * Determines whether the given vector contains a NaN value.\n *\n * @param {vec3} v\n * @private\n */\nfunction _containsNaN(v) {\n  return isNaN(v[0]) || isNaN(v[1]) || isNaN(v[2]);\n}\n\nconst rk4Integrator = new RK4Integrator();\n\nexport {rk4Integrator};\n","import {FrameLatencyProfiler, PersistentAnimationJob} from 'lsl-animatex';\nimport {_util} from '../util';\n\nimport {\n  checkThatNoObjectsCollide,\n  CollidablePhysicsJob,\n  determineJobsAtRest,\n  handleCollisionsForJob,\n  recordOldCollisionsForDevModeForAllCollidables,\n} from '../collisions';\nimport {PhysicsState} from './physics-state';\nimport {rk4Integrator} from '../integrator';\n\nconst _FRAME_LATENCY_LOG_PERIOD = 5000;\nconst _LATENCY_LOG_LABEL = 'Physics frame duration';\n\n/**\n * This physics engine simulates high-performance, three-dimensional rigid-body dynamics.\n *\n * Notable features:\n * - Includes collision detection with impulse-based resolution.\n * - Decouples the physics simulation and animation rendering time steps, and uses a fixed timestep\n * for the physics loop. This gives us numerical stability and precise reproducibility.\n * - Suppresses linear and angular momenta below a certain threshold.\n *\n * The engine consists primarily of a collection of individual physics jobs and an update loop. This\n * update loop is in turn controlled by the animation loop. However, whereas the animation loop\n * renders each job once per frame loop--regardless of how much time actually elapsed since the\n * previous frame--the physics loop updates its jobs at a constant rate. To reconcile these frame\n * rates, the physics loop runs as many times as is needed in order to catch up to the time of the\n * current animation frame. The physics frame rate should be much higher than the animation frame\n * rate.\n *\n * It is VERY IMPORTANT for a PhysicsJob to minimize the runtime of its update step.\n *\n * ## A note on job order\n *\n * The integration+collision pipeline handle one job at a time. A consequence of this design\n * is that half of the collisions technically represent a false interaction between the state of the\n * first object at time t and the state of the second object at time t - 1.\n *\n * This implementation prevents a more problematic issue. If all objects were first integrated, then\n * all objects were checked for collisions, then all collisions were resolved, then the following\n * scenario could arise:\n * - The next position of object A collides with the previous position of object B, but not with the\n *   next position of object B, so object A moves successfully to its new position.\n * - The next position of object B collides with the next position of object C, so objects B and C\n *   are reset to their previous positions.\n * - Object B and C now intersect.\n */\nclass PhysicsEngine extends PersistentAnimationJob {\n  /**\n   * Clients should call PhysicsEngine.create instead of instantiating a PhysicsEngine directly.\n   *\n   * @param {PhysicsConfig} physicsParams\n   */\n  constructor(physicsParams) {\n    super();\n\n    if (_physicsEngine) {\n      throw new Error('Can\\'t instantiate multiple instances of PhysicsEngine.');\n    }\n\n    _physicsEngine = this;\n\n    this._physicsParams = physicsParams;\n    this.integrator = rk4Integrator;\n    this._elapsedTime = 0.0;\n    this._remainingTime = 0.0;\n    this._nonCollidableJobs = [];\n    this._collidableJobs = [];\n\n    if (_util.isInDevMode) {\n      this._setUpForInDevMode();\n    }\n  }\n\n  /**\n   * @param {PhysicsConfig} physicsParams\n   */\n  static create(physicsParams) {\n    new PhysicsEngine(physicsParams);\n  }\n\n  reset() {\n    this._elapsedTime = 0.0;\n    this._remainingTime = 0.0;\n    this._nonCollidableJobs = [];\n    this._collidableJobs = [];\n  }\n\n  /**\n   * Adds the given PhysicsJob.\n   *\n   * @param {PhysicsJob} job\n   */\n  addJob(job) {\n    // console.debug(`Starting PhysicsJob`);\n\n    if (job instanceof CollidablePhysicsJob) {\n      this._collidableJobs.push(job);\n    } else {\n      this._nonCollidableJobs.push(job);\n    }\n  }\n\n  /**\n   * Removes the given PhysicsJob.\n   *\n   * Throws no error if the job is not registered.\n   *\n   * @param {PhysicsJob} job\n   */\n  removeJob(job) {\n    // console.debug(`Cancelling PhysicsJob`);\n    this._removeJob(job);\n  }\n\n  /**\n   * Wraps the draw and update methods in a profiler function that will track the frame latencies.\n   *\n   * @private\n   */\n  _setUpForInDevMode() {\n    const unwrappedUpdate = this.update.bind(this);\n    const latencyProfiler = new FrameLatencyProfiler(_FRAME_LATENCY_LOG_PERIOD, \n        this._physicsParams.timeStepDuration, _LATENCY_LOG_LABEL);\n    latencyProfiler.start();\n\n    this.update = (...args) => {\n      const beforeTime = performance.now();\n      unwrappedUpdate(...args);\n      const deltaTime = performance.now() - beforeTime;\n      latencyProfiler.recordFrameLatency(deltaTime);\n    };\n  }\n\n  /**\n   * Update the physics state for the current animation update frame.\n   *\n   * @param {DOMHighResTimeStamp} currentTime\n   * @param {DOMHighResTimeStamp} deltaTime\n   */\n  update(currentTime, deltaTime) {\n    this._remainingTime += deltaTime;\n\n    // Run as many constant-interval physics updates as are needed for the given animation frame\n    // interval.\n    while (this._remainingTime >= this._physicsParams.timeStepDuration) {\n      this._updateToNextPhysicsFrame();\n      this._elapsedTime += this._physicsParams.timeStepDuration;\n      this._remainingTime -= this._physicsParams.timeStepDuration;\n    }\n\n    // Calculate the intermediate physics state to use for rendering the current animation frame.\n    const partialRatio = this._remainingTime / this._physicsParams.timeStepDuration;\n    this._setPartialStateForRenderTimeStepForAllJobs(partialRatio);\n  }\n\n  _updateToNextPhysicsFrame() {\n    if (_util.isInDevMode) {\n      this._recordOldStatesForAllJobsForDevMode();\n      recordOldCollisionsForDevModeForAllCollidables();\n    }\n\n    this._nonCollidableJobs.forEach(this._integratePhysicsStateForJob.bind(this));\n    this._collidableJobs.forEach(job => {\n      if (!job.isAtRest) {\n        this._integratePhysicsStateForCollidableJob(job);\n        handleCollisionsForJob(job, this._elapsedTime, this._physicsParams);\n      }\n    });\n\n    if (_util.isInDevMode) {\n      checkThatNoObjectsCollide();\n    }\n\n    this._suppressLowMomentaForAllJobs();\n\n    determineJobsAtRest(this._collidableJobs);\n  }\n\n  /**\n   * Removes the given job from the collection of active jobs if it exists.\n   *\n   * @param {PhysicsJob} job\n   * @param {number} [index=-1]\n   * @private\n   */\n  _removeJob(job, index = -1) {\n    if (job instanceof CollidablePhysicsJob) {\n      _removeJobFromCollection(job, index, this._collidableJobs);\n    } else {\n      _removeJobFromCollection(job, index, this._nonCollidableJobs);\n    }\n  }\n\n  /**\n   * Update the current physics state for a job for the current physics update frame.\n   *\n   * This includes applying all forces that have been registered with the physics job.\n   *\n   * @param {CollidablePhysicsJob} job\n   * @private\n   */\n  _integratePhysicsStateForCollidableJob(job) {\n    this._integratePhysicsStateForJob(job);\n\n    // Update the collidable's position and orientation.\n    job.collidable.position = job.currentState.position;\n    job.collidable.orientation = job.currentState.orientation;\n  }\n\n  /**\n   * Update the current physics state for a job for the current physics update frame.\n   *\n   * This includes applying all forces that have been registered with the physics job.\n   *\n   * @param {PhysicsJob} job\n   * @private\n   */\n  _integratePhysicsStateForJob(job) {\n    job.previousState.copy(job.currentState);\n    this.integrator.integrate(job, this._elapsedTime, this._physicsParams.timeStepDuration);\n  }\n\n  _suppressLowMomentaForAllJobs() {\n    this._collidableJobs.forEach(job => _suppressLowMomentaForJob(job,\n        this._physicsParams.lowMomentumSuppressionThreshold,\n        this._physicsParams.lowAngularMomentumSuppressionThreshold));\n    this._nonCollidableJobs.forEach(job => _suppressLowMomentaForJob(job,\n        this._physicsParams.lowMomentumSuppressionThreshold,\n        this._physicsParams.lowAngularMomentumSuppressionThreshold));\n  }\n\n  /**\n   * Calculate the intermediate physics state to use for rendering the current animation frame. The\n   * given ratio specifies how far the current render frame is between the previous and current\n   * physics update frames.\n   *\n   * @param {number} partialRatio\n   * @private\n   */\n  _setPartialStateForRenderTimeStepForAllJobs(partialRatio) {\n    this._collidableJobs.forEach(_setPartialStateForRenderTimeStepForJob.bind(null, partialRatio));\n    this._nonCollidableJobs.forEach(_setPartialStateForRenderTimeStepForJob.bind(null, partialRatio));\n  }\n\n  _recordOldStatesForAllJobsForDevMode() {\n    this._collidableJobs.forEach(_recordOldStatesForJob);\n    this._nonCollidableJobs.forEach(_recordOldStatesForJob);\n  }\n\n  draw() {}\n\n  /**\n   * @returns {PhysicsEngine}\n   */\n  static get instance() {\n    if (!_physicsEngine) {\n      throw new Error('Can\\'t access PhysicsEngine.instance before it has been instantiated.');\n    }\n    return _physicsEngine;\n  }\n}\n\n/**\n * @param {PhysicsJob} job\n * @param {number} lowMomentumSuppressionThreshold\n * @param {number} lowAngularMomentumSuppressionThreshold\n * @private\n */\nfunction _suppressLowMomentaForJob(job, lowMomentumSuppressionThreshold,\n                                   lowAngularMomentumSuppressionThreshold) {\n  const currentState = job.currentState;\n\n  if (vec3.squaredLength(currentState.momentum) < lowMomentumSuppressionThreshold) {\n    vec3.set(currentState.momentum, 0, 0, 0);\n  }\n\n  if (vec3.squaredLength(currentState.angularMomentum) < lowAngularMomentumSuppressionThreshold) {\n    vec3.set(currentState.angularMomentum, 0, 0, 0);\n  }\n}\n\n/**\n * @param {PhysicsJob} job\n * @param {number} index\n * @param {Array.<PhysicsJob>} jobs\n * @private\n */\nfunction _removeJobFromCollection(job, index, jobs) {\n  if (index >= 0) {\n    jobs.splice(index, 1);\n  } else {\n    const count = jobs.length;\n    for (index = 0; index < count; index++) {\n      if (jobs[index] === job) {\n        jobs.splice(index, 1);\n        break;\n      }\n    }\n  }\n}\n\n/**\n * @param {number} partialRatio\n * @param {PhysicsJob} job\n * @private\n */\nfunction _setPartialStateForRenderTimeStepForJob(partialRatio, job) {\n  job.renderState.lerp(job.previousState, job.currentState, partialRatio);\n}\n\n/**\n * @param {PhysicsJob} job\n * @private\n */\nfunction _recordOldStatesForJob(job) {\n  if (!job.extraPreviousStates) {\n    job.extraPreviousStates = [];\n    for (let i = 0; i < 4; i++) {\n      job.extraPreviousStates[i] = new PhysicsState();\n    }\n  }\n\n  for (let i = 3; i > 0; i--) {\n    job.extraPreviousStates[i].copy(job.extraPreviousStates[i - 1]);\n  }\n  job.extraPreviousStates[0].copy(job.previousState);\n}\n\nlet _physicsEngine = null;\n\nexport {PhysicsEngine};\n","import {animator} from 'lsl-animatex';\nimport {PhysicsEngine} from './physics-engine';\nimport {PhysicsState} from './physics-state';\nimport {_util} from '../util';\n\n/**\n * A PhysicsJob maintains a current force/momentum state and defines a method for applying forces at\n * a given physics time step.\n */\nclass PhysicsJob {\n  /**\n   * @param {Array.<ForceApplier>} [forceAppliers]\n   * @param {PhysicsState} [state]\n   */\n  constructor(forceAppliers, state) {\n    forceAppliers = forceAppliers || [];\n    state = state || new PhysicsState();\n\n    this.startTime = null;\n    this.currentState = state;\n    this.previousState = null;\n    this.renderState = null;\n    this._forceAppliers = forceAppliers;\n  }\n\n  /**\n   * @param {ForceApplierOutput} outputParams\n   * @param {ForceApplierInput} inputParams\n   */\n  applyForces(outputParams, inputParams) {\n    this._forceAppliers.forEach(forceApplier => forceApplier(outputParams, inputParams));\n  }\n\n  /**\n   * @param {ForceApplier} forceApplier\n   * @param {number} [index=0] The index to add the given force applier in the current list of\n   * appliers.\n   */\n  addForceApplier(forceApplier, index = 0) {\n    this._forceAppliers.splice(index, 0, forceApplier);\n  }\n\n  /**\n   * @param {ForceApplier} forceApplier\n   */\n  removeForceApplier(forceApplier) {\n    this._forceAppliers.splice(this._forceAppliers.indexOf(forceApplier), 1);\n  }\n\n  /**\n   * Registers this PhysicsJob and all of its descendant child jobs with the physics engine.\n   *\n   * @param {number} [startTime]\n   */\n  start(startTime) {\n    this.startTime = startTime || animator.currentTime;\n\n    const previousState = new PhysicsState();\n    previousState.copy(this.currentState);\n    const renderState = new PhysicsState();\n    renderState.copy(this.currentState);\n\n    this.previousState = previousState;\n    this.renderState = renderState;\n\n    if (_util.isInDevMode) {\n      // It is useful for debugging to be able to trace the states back to their jobs.\n      this.currentState.job = this;\n      this.previousState.job = this;\n      this.renderState.job = this;\n    }\n\n    PhysicsEngine.instance.addJob(this);\n  }\n\n  /**\n   * Unregisters this PhysicsJob and all of its descendant child jobs with the physics engine.\n   *\n   * Throws no error if the job is not registered.\n   */\n  finish() {\n    PhysicsEngine.instance.removeJob(this);\n  }\n\n  /**\n   * @param {number} [startTime]\n   */\n  restart(startTime) {\n    this.finish();\n    this.start(startTime);\n  }\n}\n\nexport {PhysicsJob};\n\n/**\n * @typedef {Function} ForceApplier\n * @property {vec3} force Output.\n * @property {vec3} torque Output.\n * @property {PhysicsState} state Input.\n * @property {number} t Input.\n * @property {number} dt Input.\n */\n\n/**\n * @typedef {Object} PhysicsConfig\n * @property {number} timeStepDuration\n * @property {number} gravity\n * @property {vec3} _gravityVec\n * @property {number} linearDragCoefficient\n * @property {number} angularDragCoefficient\n * @property {number} coefficientOfRestitution\n * @property {number} coefficientOfFriction\n * @property {number} lowMomentumSuppressionThreshold\n * @property {number} lowAngularMomentumSuppressionThreshold\n */\n","import {rotateTensor, createBoxInertiaTensor} from '../util';\n\n/**\n * This class represents the state of an object that is needed for a physics simulation (such as\n * position, momentum, and mass).\n */\nclass PhysicsState {\n  /**\n   * @param {DynamicsConfig} [dynamicsParams={}]\n   */\n  constructor(dynamicsParams = {}) {\n    const position = dynamicsParams.position || vec3.create();\n    const momentum = dynamicsParams.momentum || vec3.create();\n    const orientation = dynamicsParams.orientation || quat.create();\n    const angularMomentum = dynamicsParams.angularMomentum || vec3.create();\n    const mass = dynamicsParams.mass || 1;\n    const unrotatedInertiaTensor = dynamicsParams.unrotatedInertiaTensor || createBoxInertiaTensor(1, 1, 1, mass);\n\n    // Constant fields.\n\n    this.mass = mass;\n    this.inverseMass = 1 / mass;\n    this.unrotatedInertiaTensor = unrotatedInertiaTensor;\n\n    // Independent fields.\n\n    this.position = position;\n    this.momentum = momentum;\n    this.orientation = orientation;\n    this.angularMomentum = angularMomentum;\n\n    // Dependent fields.\n\n    // Linear velocity.\n    this.velocity = vec3.create();\n    // Quaternion-based representation of the rate of change in orientation.\n    this.spin = quat.create();\n    // Vector-based representation of the angular velocity.\n    this.angularVelocity = vec3.create();\n    // The inverse inertia tensor rotated to the world coordinate frame.\n    this.inverseInertiaTensor = mat3.create();\n\n    this.updateDependentFields();\n  }\n\n  updateDependentFields() {// TODO: Test this somehow...\n    // Update linear velocity.\n    vec3.scale(this.velocity, this.momentum, this.inverseMass);\n\n    // Update angular velocity.\n    quat.normalize(this.orientation, this.orientation);\n    rotateTensor(this.inverseInertiaTensor, this.unrotatedInertiaTensor, this.orientation);\n    mat3.invert(this.inverseInertiaTensor, this.unrotatedInertiaTensor);\n    vec3.transformMat3(this.angularVelocity, this.angularMomentum, this.inverseInertiaTensor);\n    quat.set(this.spin, this.angularVelocity[0], this.angularVelocity[1],\n        this.angularVelocity[2], 0);\n    quat.scale(this.spin, this.spin, 0.5);\n    quat.multiply(this.spin, this.spin, this.orientation);\n  }\n\n  /**\n   * Perform a deep copy.\n   *\n   * @param {PhysicsState} other\n   */\n  copy(other) {\n    this.mass = other.mass;\n    this.inverseMass = other.inverseMass;\n    mat3.copy(this.unrotatedInertiaTensor, other.unrotatedInertiaTensor);\n    mat3.copy(this.inverseInertiaTensor, other.inverseInertiaTensor);\n    vec3.copy(this.position, other.position);\n    vec3.copy(this.momentum, other.momentum);\n    quat.copy(this.orientation, other.orientation);\n    vec3.copy(this.angularMomentum, other.angularMomentum);\n    vec3.copy(this.velocity, other.velocity);\n    quat.copy(this.spin, other.spin);\n    vec3.copy(this.angularVelocity, other.angularVelocity);\n  }\n\n  /**\n   * @param {PhysicsState} a\n   * @param {PhysicsState} b\n   * @param {number} partialRatio\n   */\n  lerp(a, b, partialRatio) {\n    vec3.lerp(this.position, a.position, b.position, partialRatio);\n    vec3.lerp(this.momentum, a.momentum, b.momentum, partialRatio);\n    quat.slerp(this.orientation, a.orientation, b.orientation, partialRatio);\n    quat.normalize(this.orientation, this.orientation);\n    vec3.lerp(this.angularMomentum, a.angularMomentum, b.angularMomentum, partialRatio);\n    this.updateDependentFields();\n  }\n}\n\nexport {PhysicsState};\n\n/**\n * @typedef {Object} DynamicsConfig\n * @property {vec3} [position]\n * @property {vec3} [momentum]\n * @property {quat} [orientation]\n * @property {vec3} [angularMomentum]\n * @property {number} [mass]\n * @property {mat3} [unrotatedInertiaTensor]\n */\n","export * from './src/force-utils';\nexport * from './src/geometry';\nexport * from './src/inertia-tensor-utils';\nexport * from './src/util';\n","/**\n * This module defines a collection of static general utility functions for calculating forces.\n */\n\n/**\n * @param {GravityApplierConfig} config\n * @param {ForceApplierOutput} output\n * @param {ForceApplierInput} input\n */\nfunction applyGravity(config, output, input) {\n  vec3.scaleAndAdd(output.force, output.force, config._gravityVec, input.state.mass);\n}\n\n/**\n * @param {LinearDragApplierConfig} config\n * @param {ForceApplierOutput} output\n * @param {ForceApplierInput} input\n */\nfunction applyLinearDrag(config, output, input) {\n  const dragMagnitude = -vec3.squaredLength(input.state.velocity) * config.linearDragCoefficient;\n  vec3.normalize(_vec3, input.state.velocity);\n  vec3.scaleAndAdd(output.force, output.force, _vec3, dragMagnitude);\n}\n\n/**\n * @param {AngularDragApplierConfig} config\n * @param {ForceApplierOutput} output\n * @param {ForceApplierInput} input\n */\nfunction applyAngularDrag(config, output, input) {\n  vec3.scaleAndAdd(output.torque, output.torque, input.state.angularVelocity,\n      config.angularDragCoefficient);\n}\n\n/**\n * Applies a simple linear spring force (using Hooke's law).\n *\n * force = displacement * coefficient\n *\n * @param {LinearSpringForceApplierConfig} config\n * @param {ForceApplierOutput} output\n * @param {ForceApplierInput} input\n */\nfunction applyLinearSpringForce(config, output, input) {\n  vec3.subtract(_vec3, config.getIntendedPosition(), input.state.position);\n  vec3.scaleAndAdd(output.force, output.force, _vec3, config.springCoefficient);\n}\n\n/**\n * @param {SpringDampingApplierConfig} config\n * @param {ForceApplierOutput} output\n * @param {ForceApplierInput} input\n */\nfunction applySpringDamping(config, output, input) {\n  vec3.scale(_vec3, input.state.velocity, -config.dampingCoefficient);\n  vec3.add(output.force, output.force, _vec3);\n}\n\nconst _vec3 = vec3.create();\n\nexport {\n  applyAngularDrag,\n  applyGravity,\n  applyLinearDrag,\n  applyLinearSpringForce,\n  applySpringDamping,\n}\n\n/**\n * @typedef {Object} GravityApplierConfig\n * @property {vec3} _gravityVec\n */\n\n/**\n * @typedef {Object} LinearDragApplierConfig\n * @property {number} linearDragCoefficient\n */\n\n/**\n * @typedef {Object} AngularDragApplierConfig\n * @property {number} angularDragCoefficient\n */\n\n/**\n * @typedef {Object} LinearSpringForceApplierConfig\n * @property {number} springCoefficient\n * @property {Function.<vec3>} getIntendedPosition\n */\n\n/**\n * @typedef {Object} SpringDampingApplierConfig\n * @property {number} dampingCoefficient\n */\n","/**\n * This module defines a collection of static geometry utility functions.\n */\n\nconst EPSILON = 0.0000001;\nconst HALF_PI = Math.PI / 2;\nconst TWO_PI = Math.PI * 2;\n\n/**\n * Finds the minimum squared distance between two line segments.\n *\n * @param {LineSegment} segmentA\n * @param {LineSegment} segmentB\n * @returns {number}\n */\nfunction findSquaredDistanceBetweenSegments(segmentA, segmentB) {\n  findClosestPointsFromSegmentToSegment(_segmentDistance_tmpVecA, _segmentDistance_tmpVecB,\n      segmentA, segmentB);\n  return vec3.squaredDistance(_segmentDistance_tmpVecA, _segmentDistance_tmpVecB);\n}\n\n/**\n * Finds the minimum squared distance between a line segment and a point.\n *\n * @param {LineSegment} segment\n * @param {vec3} point\n * @returns {number}\n */\nfunction findSquaredDistanceFromSegmentToPoint(segment, point) {\n  findClosestPointOnSegmentToPoint(_segmentDistance_tmpVecA, segment, point);\n  return vec3.squaredDistance(_segmentDistance_tmpVecA, point);\n}\n\nconst _segmentDistance_tmpVecA = vec3.create();\nconst _segmentDistance_tmpVecB = vec3.create();\n\n/**\n * @param {vec3} outputPoint Output parameter.\n * @param {Aabb} aabb\n * @param {vec3} targetPoint\n */\nfunction findClosestPointFromAabbToPoint(outputPoint, aabb, targetPoint) {\n  outputPoint[0] = aabb.minX > targetPoint[0]\n      ? aabb.minX\n      : aabb.maxX < targetPoint[0]\n          ? aabb.maxX\n          : targetPoint[0];\n  outputPoint[1] = aabb.minY > targetPoint[1]\n      ? aabb.minY\n      : aabb.maxY < targetPoint[1]\n          ? aabb.maxY\n          : targetPoint[1];\n  outputPoint[2] = aabb.minZ > targetPoint[2]\n      ? aabb.minZ\n      : aabb.maxZ < targetPoint[2]\n          ? aabb.maxZ\n          : targetPoint[2];\n}\n\n/**\n * @param {vec3} outputPoint Output parameter.\n * @param {Aabb} aabb\n * @param {vec3} targetPoint\n */\nfunction findClosestPointFromAabbSurfaceToPoint(outputPoint, aabb, targetPoint) {\n  findClosestPointFromAabbToPoint(outputPoint, aabb, targetPoint);\n\n  // If the calculated point lies within the AABB, then we need to adjust one coordinate to lie\n  // along the edge of the AABB.\n  if (aabbVsPoint(aabb, outputPoint)) {\n    // Calculate the closest vertex.\n    _tmpVec1[0] = targetPoint[0] - aabb.minX < aabb.maxX - targetPoint[0]\n        ? aabb.minX\n        : aabb.maxX;\n    _tmpVec1[1] = targetPoint[1] - aabb.minY < aabb.maxY - targetPoint[1]\n        ? aabb.minY\n        : aabb.maxY;\n    _tmpVec1[2] = targetPoint[2] - aabb.minZ < aabb.maxZ - targetPoint[2]\n        ? aabb.minZ\n        : aabb.maxZ;\n\n    // Calculate the distance to the vertex along each dimension.\n    _tmpVec2[0] = _tmpVec1[0] - outputPoint[0];\n    _tmpVec2[0] = _tmpVec2[0] < 0 ? -_tmpVec2[0] : _tmpVec2[0];\n    _tmpVec2[1] = _tmpVec1[1] - outputPoint[1];\n    _tmpVec2[1] = _tmpVec2[1] < 1 ? -_tmpVec2[1] : _tmpVec2[1];\n    _tmpVec2[2] = _tmpVec1[2] - outputPoint[2];\n    _tmpVec2[2] = _tmpVec2[2] < 2 ? -_tmpVec2[2] : _tmpVec2[2];\n\n    // Determine along which dimension the point is closest to the AABB.\n    const index = _tmpVec2[0] < _tmpVec2[1]\n        ? (_tmpVec2[0] < _tmpVec2[2]\n            ? 0\n            : 2)\n        : (_tmpVec2[1] < _tmpVec2[2]\n            ? 1\n            : 2);\n\n    outputPoint[index] = _tmpVec1[index];\n  }\n}\n\n/**\n * Finds the point of intersection between a line segment and a coplanar quadrilateral.\n *\n * This assumes the region is not degenerate (has non-zero side lengths).\n *\n * @param {vec3} poi Output param. Null if there is no intersection.\n * @param {LineSegment} segment\n * @param {vec3} planeVertex1\n * @param {vec3} planeVertex2\n * @param {vec3} planeVertex3\n * @param {vec3} planeVertex4\n * @returns {boolean} True if there is an intersection.\n */\nfunction findPoiBetweenSegmentAndPlaneRegion(poi, segment, planeVertex1, planeVertex2, planeVertex3,\n                                             planeVertex4) {\n  return findPoiBetweenSegmentAndTriangle(poi, segment, planeVertex1, planeVertex2, planeVertex3) ||\n      findPoiBetweenSegmentAndTriangle(poi, segment, planeVertex1, planeVertex3, planeVertex4);\n}\n\n/**\n * Finds the point of intersection between a line segment and a triangle.\n *\n * This assumes the triangle is not degenerate (has non-zero side lengths).\n *\n * ----------------------------------------------------------------------------\n * Originally based on Dan Sunday's algorithms at http://geomalgorithms.com/a06-_intersect-2.html.\n *\n * Copyright 2001 softSurfer, 2012 Dan Sunday\n * This code may be freely used and modified for any purpose\n * providing that this copyright notice is included with it.\n * SoftSurfer makes no warranty for this code, and cannot be held\n * liable for any real or imagined damage resulting from its use.\n * Users of this code must verify correctness for their application.\n * ----------------------------------------------------------------------------\n *\n * @param {vec3} poi Output param. Null if there is no intersection.\n * @param {LineSegment} segment\n * @param {vec3} triangleVertex1\n * @param {vec3} triangleVertex2\n * @param {vec3} triangleVertex3\n * @returns {boolean} True if there is an intersection.\n */\nfunction findPoiBetweenSegmentAndTriangle(poi, segment, triangleVertex1, triangleVertex2,\n                                          triangleVertex3) {\n  //\n  // Find the point of intersection between the segment and the triangle's plane.\n  //\n\n  // First triangle edge.\n  vec3.subtract(_tmpVec1, triangleVertex2, triangleVertex1);\n  // Second triangle edge.\n  vec3.subtract(_tmpVec2, triangleVertex3, triangleVertex1);\n  // Triangle normal.\n  vec3.cross(_tmpVec3, _tmpVec1, _tmpVec2);\n  // Triangle to segment.\n  vec3.subtract(_tmpVec4, segment.start, triangleVertex1);\n\n  const normalToSegmentProj = vec3.dot(_tmpVec3, segment.dir);\n\n  if (normalToSegmentProj < EPSILON && normalToSegmentProj > -EPSILON) {\n    // The line segment is parallel to the triangle.\n    return false;\n  }\n\n  const normalToDiffProj = -vec3.dot(_tmpVec3, _tmpVec4);\n  const segmentNormalizedDistance = normalToDiffProj / normalToSegmentProj;\n\n  if (segmentNormalizedDistance < 0 || segmentNormalizedDistance > 1) {\n    // The line segment ends before intersecting the plane.\n    return false;\n  }\n\n  vec3.scaleAndAdd(poi, segment.start, segment.dir, segmentNormalizedDistance);\n\n  //\n  // Determine whether the point of intersection lies within the triangle.\n  //\n\n  const edge1DotEdge1 = vec3.dot(_tmpVec1, _tmpVec1);\n  const edge1DotEdge2 = vec3.dot(_tmpVec1, _tmpVec2);\n  const edge2DotEdge2 = vec3.dot(_tmpVec2, _tmpVec2);\n  // Triangle to point of intersection.\n  vec3.subtract(_tmpVec3, poi, triangleVertex1);\n  const diffDotEdge1 = vec3.dot(_tmpVec3, _tmpVec1);\n  const diffDotEdge2 = vec3.dot(_tmpVec3, _tmpVec2);\n  const denominator = edge1DotEdge2 * edge1DotEdge2 - edge1DotEdge1 * edge2DotEdge2;\n\n  // Check the triangle's parametric coordinates.\n  const s = (edge1DotEdge2 * diffDotEdge2 - edge2DotEdge2 * diffDotEdge1) / denominator;\n  if (s < 0 || s > 1) {\n    return false;\n  }\n  const t = (edge1DotEdge2 * diffDotEdge1 - edge1DotEdge1 * diffDotEdge2) / denominator;\n  if (t < 0 || s + t > 1) {\n    return false;\n  }\n\n  return true;\n}\n\n/**\n * ----------------------------------------------------------------------------\n * Originally based on Jukka Jylänki's algorithm at\n * https://github.com/juj/MathGeoLib/blob/1093e39d91def7ff6905fb7489893190d7d81353/src/Geometry/OBB.cpp.\n *\n * Copyright 2011 Jukka Jylänki\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * ----------------------------------------------------------------------------\n *\n * @param {vec3} outputPoint Output parameter.\n * @param {Obb} obb\n * @param {vec3} targetPoint\n */\nfunction findClosestPointFromObbToPoint(outputPoint, obb, targetPoint) {\n  vec3.subtract(_tmpVec1, targetPoint, obb.centerOfVolume);\n  vec3.copy(outputPoint, obb.centerOfVolume);\n  for (let i = 0; i < 3; i++) {\n    // Compute the displacement along this axis.\n    let projection = vec3.dot(obb.axes[i], _tmpVec1);\n    projection = projection > obb.halfSideLengths[i] ? obb.halfSideLengths[i] :\n        (projection < -obb.halfSideLengths[i] ? -obb.halfSideLengths[i] : projection);\n    vec3.scaleAndAdd(outputPoint, outputPoint, obb.axes[i], projection);\n  }\n}\n\n/**\n * Finds the closest position on one line segment to the other line segment, and vice versa.\n *\n * ----------------------------------------------------------------------------\n * Originally based on Jukka Jylänki's algorithm at\n * https://github.com/juj/MathGeoLib/blob/ff2d348a167008c831ae304483b824647f71fbf6/src/Geometry/LineSegment.cpp.\n *\n * Copyright 2011 Jukka Jylänki\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * ----------------------------------------------------------------------------\n *\n * @param {vec3} closestA Output param.\n * @param {vec3} closestB Output param.\n * @param {LineSegment} segmentA\n * @param {LineSegment} segmentB\n */\nfunction findClosestPointsFromSegmentToSegment(closestA, closestB, segmentA, segmentB) {\n  const {distA, distB} = findClosestPointsFromLineToLine(\n      segmentA.start, segmentA.dir, segmentB.start, segmentB.dir);\n\n  const isDistAInBounds = distA >= 0 && distA <= 1;\n  const isDistBInBounds = distB >= 0 && distB <= 1;\n\n  if (isDistAInBounds) {\n    if (isDistBInBounds) {\n      // The distances along both line segments are within bounds.\n      vec3.scaleAndAdd(closestA, segmentA.start, segmentA.dir, distA);\n      vec3.scaleAndAdd(closestB, segmentB.start, segmentB.dir, distB);\n    } else {\n      // Only the distance along the first line segment is within bounds.\n      if (distB < 0) {\n        vec3.copy(closestB, segmentB.start);\n      } else {\n        vec3.copy(closestB, segmentB.end);\n      }\n      findClosestPointOnSegmentToPoint(closestA, segmentA, closestB);\n    }\n  } else {\n    if (isDistBInBounds) {\n      // Only the distance along the second line segment is within bounds.\n      if (distA < 0) {\n        vec3.copy(closestA, segmentA.start);\n      } else {\n        vec3.copy(closestA, segmentA.end);\n      }\n      findClosestPointOnSegmentToPoint(closestB, segmentB, closestA);\n    } else {\n      // Neither of the distances along either line segment are within bounds.\n      if (distA < 0) {\n        vec3.copy(closestA, segmentA.start);\n      } else {\n        vec3.copy(closestA, segmentA.end);\n      }\n\n      if (distB < 0) {\n        vec3.copy(closestB, segmentB.start);\n      } else {\n        vec3.copy(closestB, segmentB.end);\n      }\n\n      const altClosestA = vec3.create();\n      const altClosestB = vec3.create();\n\n      findClosestPointOnSegmentToPoint(altClosestA, segmentA, closestB);\n      findClosestPointOnSegmentToPoint(altClosestB, segmentB, closestA);\n\n      if (vec3.squaredDistance(altClosestA, closestB) <\n          vec3.squaredDistance(altClosestB, closestA)) {\n        vec3.copy(closestA, altClosestA);\n      } else {\n        vec3.copy(closestB, altClosestB);\n      }\n    }\n  }\n}\n\n/**\n * Finds the closest position on a line segment to a point.\n *\n * ----------------------------------------------------------------------------\n * Originally based on Jukka Jylänki's algorithm at\n * https://github.com/juj/MathGeoLib/blob/ff2d348a167008c831ae304483b824647f71fbf6/src/Geometry/LineSegment.cpp.\n *\n * Copyright 2011 Jukka Jylänki\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * ----------------------------------------------------------------------------\n *\n * @param {vec3} closestPoint Output param.\n * @param {LineSegment} segment\n * @param {vec3} point\n * @private\n */\nfunction findClosestPointOnSegmentToPoint(closestPoint, segment, point) {\n  const dirSquaredLength = vec3.squaredLength(segment.dir);\n\n  if (!dirSquaredLength) {\n    // The point is at the segment start.\n    vec3.copy(closestPoint, segment.start);\n  } else {\n    // Calculate the projection of the point onto the line extending through the segment.\n    vec3.subtract(_tmpVec1, point, segment.start);\n    const t = vec3.dot(_tmpVec1, segment.dir) / dirSquaredLength;\n\n    if (t < 0) {\n      // The point projects beyond the segment start.\n      vec3.copy(closestPoint, segment.start);\n    } else if (t > 1) {\n      // The point projects beyond the segment end.\n      vec3.copy(closestPoint, segment.end);\n    } else {\n      // The point projects between the start and end of the segment.\n      vec3.scaleAndAdd(closestPoint, segment.start, segment.dir, t);\n    }\n  }\n}\n\n/**\n * Finds the closest position on one line to the other line, and vice versa.\n *\n * The positions are represented as scalar-value distances from the \"start\" positions of each line.\n * These are scaled according to the given direction vectors.\n *\n * ----------------------------------------------------------------------------\n * Originally based on Jukka Jylänki's algorithm at\n * https://github.com/juj/MathGeoLib/blob/ff2d348a167008c831ae304483b824647f71fbf6/src/Geometry/Line.cpp.\n *\n * Copyright 2011 Jukka Jylänki\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * ----------------------------------------------------------------------------\n *\n * @param {vec3} startA The start position of line A.\n * @param {vec3} dirA The (unnormalized) direction of line A. Cannot be zero.\n * @param {vec3} startB The start position of line B.\n * @param {vec3} dirB The (unnormalized) direction of line B. Cannot be zero.\n * @returns {{distA: Number, distB: Number}}\n */\nfunction findClosestPointsFromLineToLine(startA, dirA, startB, dirB) {\n  vec3.subtract(_tmpVec1, startA, startB);\n  const dirBDotDirAToB = vec3.dot(dirB, _tmpVec1);\n  const dirADotDirAToB = vec3.dot(dirA, _tmpVec1);\n\n  const sqrLenDirB = vec3.squaredLength(dirB);\n  const sqrLenDirA = vec3.squaredLength(dirA);\n\n  const dirADotDirB = vec3.dot(dirA, dirB);\n\n  const denominator = sqrLenDirA * sqrLenDirB - dirADotDirB * dirADotDirB;\n\n  const distA = denominator < EPSILON\n      ? 0\n      : (dirADotDirB * dirBDotDirAToB - sqrLenDirB * dirADotDirAToB) / denominator;\n  const distB = (dirBDotDirAToB + dirADotDirB * distA) / sqrLenDirB;\n\n  return {\n    distA: distA,\n    distB: distB\n  };\n}\n\n/**\n * A good description of why we need these special operations for rotating tensors can be found\n * here: http://www.randygaul.net/2014/04/09/transformations-change-of-basis-matrix/.\n *\n * @param {mat3} output Output param.\n * @param {mat3} tensor\n * @param {quat} rotation\n */\nfunction rotateTensor(output, tensor, rotation) {// TODO: Test this somehow...\n  mat3.fromQuat(_tmpMat, rotation);\n  mat3.multiply(output, _tmpMat, tensor);\n  mat3.invert(_tmpMat, _tmpMat);\n  mat3.multiply(output, output, _tmpMat);\n}\n\n/**\n * @param {Aabb} aabb\n * @param {vec3} point\n * @returns {boolean}\n */\nfunction aabbVsPoint(aabb, point) {\n  return point[0] >= aabb.minX && point[0] <= aabb.maxX &&\n      point[1] >= aabb.minY && point[1] <= aabb.maxY &&\n      point[2] >= aabb.minZ && point[2] <= aabb.maxZ\n}\n\n/**\n * @param {quat} out\n * @param {quat} a\n * @param {quat} b\n * @param {number} scale\n * @returns {quat}\n */\nfunction scaleAndAddQuat(out, a, b, scale) {\n  return quat.set(out,\n      a[0] + b[0] * scale,\n      a[1] + b[1] * scale,\n      a[2] + b[2] * scale,\n      a[3] + b[3] * scale);\n}\n\n/**\n * @param {vec3} a\n * @param {vec3} b\n * @returns {boolean}\n */\nfunction areVec3sClose(a, b) {\n  for (let i = 0; i < 3; i++) {\n    if (a[i] - b[i] > EPSILON || b[i] - a[i] > EPSILON) {\n      return false;\n    }\n  }\n  return true;\n}\n\n// Re-used across the geometry utility functions, so we don't instantiate as many vec3 objects.\nconst _tmpVec1 = vec3.create();\nconst _tmpVec2 = vec3.create();\nconst _tmpVec3 = vec3.create();\nconst _tmpVec4 = vec3.create();\nconst _tmpMat = mat3.create();\n\n// Exposed to consumers, so they don't have to instantiate as many vec3 objects.\nconst tmpVec1 = vec3.create();\nconst tmpVec2 = vec3.create();\nconst tmpVec3 = vec3.create();\nconst tmpVec4 = vec3.create();\n\nconst _geometry = {\n  EPSILON,\n  HALF_PI,\n  TWO_PI,\n  scaleAndAddQuat,\n};\n\nexport {\n  _geometry,\n  tmpVec1,\n  tmpVec2,\n  tmpVec3,\n  tmpVec4,\n  findSquaredDistanceBetweenSegments,\n  findSquaredDistanceFromSegmentToPoint,\n  findClosestPointFromAabbToPoint,\n  findClosestPointFromAabbSurfaceToPoint,\n  findPoiBetweenSegmentAndTriangle,\n  findPoiBetweenSegmentAndPlaneRegion,\n  findClosestPointFromObbToPoint,\n  findClosestPointsFromSegmentToSegment,\n  findClosestPointOnSegmentToPoint,\n  findClosestPointsFromLineToLine,\n  rotateTensor,\n  aabbVsPoint,\n  areVec3sClose,\n};\n","/**\n * This module defines a collection of static utility functions for calculating inertia tensors.\n */\n\nimport {_geometry, rotateTensor} from './geometry';\n\n/**\n * @param {number} radius\n * @param {number} mass\n * @returns {mat3}\n */\nfunction createSphereInertiaTensor(radius, mass) {// TODO: Test this somehow...\n  const tensor = mat3.create();\n  const moment = 2 / 5 * mass * radius * radius;\n  tensor[0] = moment;\n  tensor[4] = moment;\n  tensor[8] = moment;\n  return tensor;\n}\n\n/**\n * @param {number} rangeX\n * @param {number} rangeY\n * @param {number} rangeZ\n * @param {number} mass\n * @returns {mat3}\n */\nfunction createBoxInertiaTensor(rangeX, rangeY, rangeZ, mass) {// TODO: Test this somehow...\n  const tensor = mat3.create();\n  const tmp = mass / 12;\n  const xRangeSquared = rangeX * rangeX;\n  const yRangeSquared = rangeY * rangeY;\n  const zRangeSquared = rangeZ * rangeZ;\n  tensor[0] = tmp * (yRangeSquared + zRangeSquared);\n  tensor[4] = tmp * (xRangeSquared + yRangeSquared);\n  tensor[8] = tmp * (xRangeSquared + zRangeSquared);\n  return tensor;\n}\n\n/**\n * ----------------------------------------------------------------------------\n * Originally based on Bojan Lovrovic's algorithm at\n * http://www.gamedev.net/page/resources/_/technical/math-and-physics/capsule-inertia-tensor-r3856.\n *\n * Copyright 2014 Bojan Lovrovic\n *\n * GameDev.net Open License\n * (http://www.gamedev.net/page/resources/_/gdnethelp/gamedevnet-open-license-r2956)\n *\n * TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION\n *\n * 1. Definitions.\n *\n * \"Article\" shall refer to any body of text written by Author which describes and documents the use\n * and/or operation of Source. It specifically does not refer to any accompanying Source either\n * embedded within the body of text or attached to the article as a file.\n *\n * \"Author\" means the individual or entity that offers the Work under the terms of this License.\n *\n * \"License\" shall mean the terms and conditions for use, reproduction, and distribution as defined\n * by Sections 1 through 9 of this document.\n *\n * \"Licensor\" shall mean the copyright owner or entity authorized by the copyright owner that is\n * granting the License.\n *\n * \"You\" (or \"Your\") shall mean an individual or entity exercising permissions granted by this\n * License.\n *\n * \"Source\" shall include all software text source code and configuration files used to create\n * executable software\n *\n * \"Object\" shall mean any Source which has been converted into a machine executable software\n *\n * \"Work\" consists of both the Article and Source\n *\n * \"Publisher\" refers to GameDev.net LLC\n *\n * This agreement is between You and Author, the owner and creator of the Work located at\n * Gamedev.net.\n *\n * 2. Fair Dealing Rights.\n *\n * Nothing in this License is intended to reduce, limit, or restrict any uses free from copyright or\n * rights arising from limitations or exceptions that are provided for in connection with the\n * copyright protection under copyright law or other applicable laws.\n *\n * 3. Grant of Copyright License.\n *\n * Subject to the terms and conditions of this License, the Author hereby grants to You a perpetual,\n * worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to the Work\n * under the following stated terms:\n * You may not reproduce the Article on any other website outside of Gamedev.net without express\n * written permission from the Author\n * You may use, copy, link, modify and distribute under Your own terms, binary Object code versions\n * based on the Work in your own software\n * You may reproduce, prepare derivative Works of, publicly display, publicly perform, sublicense,\n * and distribute the Source and such derivative Source in Source form only as part of a larger\n * software distribution and provided that attribution to the original Author is granted.\n * The origin of this Work must not be misrepresented; you must not claim that you wrote the\n * original Source. If you use this Source in a product, an acknowledgment of the Author name would\n * be appreciated but is not required.\n *\n * 4. Restrictions.\n *\n * The license granted in Section 3 above is expressly made subject to and limited by the following\n * restrictions:\n * Altered Source versions must be plainly marked as such, and must not be misrepresented as being\n * the original software.\n * This License must be visibly linked to from any online distribution of the Article by URI and\n * using the descriptive text \"Licensed under the GameDev.net Open License\"\n * Neither the name of the Author of this Work, nor any of their trademarks or service marks, may be\n * used to endorse or promote products derived from this Work without express prior permission of\n * the Author\n * Except as expressly stated herein, nothing in this License grants any license to Author's\n * trademarks, copyrights, patents, trade secrets or any other intellectual property. No license is\n * granted to the trademarks of Author even if such marks are included in the Work. Nothing in this\n * License shall be interpreted to prohibit Author from licensing under terms different from this\n * License any Work that Author otherwise would have a right to license.\n *\n * 5. Grant of Patent License.\n *\n * Subject to the terms and conditions of this License, each Contributor hereby grants to You a\n * perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable (except as stated in\n * this section) patent license to make, have made, use, offer to sell, sell, import, and otherwise\n * transfer the Work, where such license applies only to those patent claims licensable by such\n * Contributor that are necessarily infringed by their Contribution(s) alone or by combination of\n * their Contribution(s) with the Work to which such Contribution(s) was submitted. If You institute\n * patent litigation against any entity (including a cross-claim or counterclaim in a lawsuit)\n * alleging that the Work or Source incorporated within the Work constitutes direct or contributory\n * patent infringement, then any patent licenses granted to You under this License for that Work\n * shall terminate as of the date such litigation is filed.\n *\n * 6. Limitation of Liability.\n *\n * In no event and under no legal theory, whether in tort (including negligence), contract, or\n * otherwise, unless required by applicable law (such as deliberate and grossly negligent acts) or\n * agreed to in writing, shall any Author or Publisher be liable to You for damages, including any\n * direct, indirect, special, incidental, or consequential damages of any character arising as a\n * result of this License or out of the use or inability to use the Work (including but not limited\n * to damages for loss of goodwill, work stoppage, computer failure or malfunction, or any and all\n * other commercial damages or losses), even if such Author has been advised of the possibility of\n * such damages.\n *\n * 7. DISCLAIMER OF WARRANTY\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT\n * NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n * DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n *\n * 8. Publisher.\n *\n * The parties hereby confirm that the Publisher shall not, under any circumstances, be responsible\n * for and shall not have any liability in respect of the subject matter of this License. The\n * Publisher makes no warranty whatsoever in connection with the Work and shall not be liable to You\n * or any party on any legal theory for any damages whatsoever, including without limitation any\n * general, special, incidental or consequential damages arising in connection to this license. The\n * Publisher reserves the right to cease making the Work available to You at any time without notice\n *\n * 9. Termination\n *\n * This License and the rights granted hereunder will terminate automatically upon any breach by You\n * of the terms of this License. Individuals or entities who have received Deriviative Works from\n * You under this License, however, will not have their licenses terminated provided such\n * individuals or entities remain in full compliance with those licenses. Sections 1, 2, 6, 7, 8 and\n * 9 will survive any termination of this License.\n * Subject to the above terms and conditions, the license granted here is perpetual (for the\n * duration of the applicable copyright in the Work). Notwithstanding the above, Licensor reserves\n * the right to release the Work under different license terms or to stop distributing the Work at\n * any time; provided, however that any such election will not serve to withdraw this License (or\n * any other license that has been, or is required to be, granted under the terms of this License),\n * and this License will continue in full force and effect unless terminated as stated above.\n * ----------------------------------------------------------------------------\n *\n * @param {number} halfDistance\n * @param {number} radius\n * @param {number} mass\n * @returns {mat3}\n */\nfunction createCapsuleInertiaTensor(halfDistance, radius, mass) {// TODO: Test this somehow...\n  const tensor = mat3.create();\n\n  const cylinderHeight = halfDistance * 2;\n  const radiusSquared = radius * radius;\n  const cylinderVolume = Math.PI * radiusSquared * cylinderHeight;\n  const hemisphereCombinedVolume = 4 / 3 * Math.PI * radiusSquared;\n  const cylinderMass = cylinderVolume / (cylinderVolume * hemisphereCombinedVolume) * mass;\n  const hemisphereMass = (mass - cylinderMass) / 2;\n\n  // Contribution from the cylinder.\n  tensor[4] = radiusSquared * cylinderMass / 2;\n  tensor[0] = tensor[4] / 2 + cylinderMass * cylinderHeight * cylinderHeight / 12;\n  tensor[8] = tensor[0];\n\n  // Contributions from the hemispheres.\n  const tmp1 = hemisphereMass * 2 * radiusSquared / 5;\n  tensor[4] += tmp1 * 2;\n  const tmp2 =\n      (tmp1 + hemisphereMass * (halfDistance * halfDistance + 3 / 8 * cylinderHeight * radius)) * 2;\n  tensor[0] += tmp2;\n  tensor[8] += tmp2;\n\n  // The above calculations assume the capsule is aligned along the y-axis. However, our default\n  // capsule orientation is aligned along the z-axis.\n  const rotation = quat.create();\n  quat.rotateX(rotation, rotation, _geometry.HALF_PI);\n  rotateTensor(tensor, tensor, rotation);\n\n  return tensor;\n}\n\n/**\n * @param {Collidable} collidable\n * @param {number} mass\n * @returns {mat3}\n */\nfunction createForCollidable(collidable, mass) {\n  switch (collidable.constructor.name) {\n    case 'Sphere':\n      return createSphereInertiaTensor(collidable.radius, mass);\n    case 'Aabb':\n      return createBoxInertiaTensor(collidable.rangeX, collidable.rangeY, collidable.rangeZ, mass);\n    case 'Capsule':\n      return createCapsuleInertiaTensor(collidable.halfDistance, collidable.radius, mass);\n    case 'Obb':\n      return createBoxInertiaTensor(collidable.halfSideLengths[0] * 2,\n          collidable.halfSideLengths[1] * 2, collidable.halfSideLengths[2] * 2, mass);\n  }\n}\n\nexport {\n  createSphereInertiaTensor,\n  createBoxInertiaTensor,\n  createCapsuleInertiaTensor,\n  createForCollidable,\n};\n","/**\n * This module defines a collection of static general utility functions.\n */\n\n// TODO: This should be set from somewhere else (probably as a param to controller like before; but then I need to make this updatable)\nconst isInDevMode = true;\n\nconst _util = {\n  isInDevMode: isInDevMode\n};\n\nexport {\n  _util,\n};\n","export * from './src/camera-config';\r\nexport * from './src/camera-folder-config';\r\nexport * from './src/input-config';\r\nexport * from './src/physics-config';\r\nexport * from './src/physics-folder-config';\r\n","/**\r\n * This module handles configuration parameters relating to the camera. This uses the dat.GUI\r\n * package.\r\n */\r\n\r\n// TODO: Tie this into the folder-config system.\r\n\r\nimport {\r\n  degToRad,\r\n  FirstPersonCamera,\r\n  FixedCamera,\r\n  FixedFollowCamera,\r\n  SpringFollowCamera,\r\n} from 'gamex';\r\n\r\nconst cameraConfig = {};\r\n\r\ncameraConfig.fovY = {\r\n  start: degToRad(70.0),\r\n  min: 0.0,\r\n  max: 3.1415\r\n};\r\ncameraConfig.defaultAspectRatio = {\r\n  start: 16 / 9,\r\n  min: 0.01,\r\n  max: 8.0\r\n};\r\ncameraConfig._zNear = 0.1;\r\ncameraConfig._zFar = 4000;\r\ncameraConfig._defaultLookAtDirection = vec3.fromValues(0, 0, -1);\r\ncameraConfig.cameraType = {\r\n  start: 'thirdPersonSpring',\r\n  options: [\r\n    'firstPerson',\r\n    'thirdPersonSpring',\r\n    'thirdPersonFixed',\r\n    'fixed',\r\n  ]\r\n};\r\n\r\nconst cameraTypeMap = {\r\n  'firstPerson': FirstPersonCamera,\r\n  'thirdPersonFixed': FixedFollowCamera,\r\n  'thirdPersonSpring': SpringFollowCamera,\r\n  'fixed': FixedCamera,\r\n};\r\n\r\nconst fixedCameraConfig = {};\r\n\r\nfixedCameraConfig.position = {\r\n  start: vec3.fromValues(0, -40, 5),\r\n  min: vec3.fromValues(-200, -200, -200),\r\n  max: vec3.fromValues(200, 200, 200)\r\n};\r\nfixedCameraConfig.viewDirection = {\r\n  start: vec3.fromValues(0, 1, -.5),\r\n  min: vec3.fromValues(-1, -1, -1),\r\n  max: vec3.fromValues(1, 1, 1)\r\n};\r\nfixedCameraConfig._up = vec3.fromValues(0, 0, 1);\r\n\r\nconst firstPersonCameraConfig = {};\r\n\r\nfirstPersonCameraConfig.intendedDisplacementFromTarget = vec3.fromValues(0, 0.3, -0.8);\r\nfirstPersonCameraConfig.viewDirection = vec3.fromValues(0, 0, -1);\r\nfirstPersonCameraConfig.targetDistance = 10;\r\n\r\nconst followCameraConfig = {};\r\n\r\nfollowCameraConfig.springCoefficient = 0.0004;\r\nfollowCameraConfig.dampingCoefficient = 0.04;\r\n\r\nfollowCameraConfig.intendedDistanceFromTarget = {\r\n  start: 5,\r\n  min: 0,\r\n  max: 100\r\n};\r\nfollowCameraConfig.intendedRotationAngleFromTarget = {\r\n  start: -Math.PI * .075,\r\n  min: 0,\r\n  max: 2 * Math.PI\r\n};\r\nfollowCameraConfig.intendedRotationAxisFromTarget = vec3.fromValues(1, 0, 0);\r\nfollowCameraConfig._intendedTranslationFromTarget = vec3.create();\r\n\r\nfunction updateIntendedTranslationFromTarget() {\r\n  const transformation = mat4.create();\r\n  mat4.rotate(\r\n      transformation,\r\n      transformation,\r\n      followCameraConfig.intendedRotationAngleFromTarget,\r\n      followCameraConfig.intendedRotationAxisFromTarget);\r\n  mat4.translate(\r\n      transformation,\r\n      transformation,\r\n      vec3.fromValues(0, 0, followCameraConfig.intendedDistanceFromTarget));\r\n  vec3.transformMat4(\r\n      followCameraConfig._intendedTranslationFromTarget,\r\n      followCameraConfig._intendedTranslationFromTarget,\r\n      transformation);\r\n}\r\n\r\nconst normalizeFirstPersonViewDirection =\r\n    () => vec3.normalize(firstPersonCameraConfig.viewDirection,\r\n        firstPersonCameraConfig.viewDirection);\r\nconst normalizeFixedViewDirection =\r\n    () => vec3.normalize(fixedCameraConfig.viewDirection, fixedCameraConfig.viewDirection);\r\nconst normalizeDefaultLookAtDirection =\r\n    () => vec3.normalize(cameraConfig._defaultLookAtDirection,\r\n        cameraConfig._defaultLookAtDirection);\r\n\r\nconst cameraConfigUpdaters = {\r\n  updateIntendedTranslationFromTarget: updateIntendedTranslationFromTarget,\r\n  normalizeFirstPersonViewDirection: normalizeFirstPersonViewDirection,\r\n  normalizeFixedViewDirection: normalizeFixedViewDirection,\r\n  normalizeDefaultLookAtDirection: normalizeDefaultLookAtDirection\r\n};\r\n\r\nnormalizeDefaultLookAtDirection();\r\n\r\nexport {\r\n  cameraConfig,\r\n  fixedCameraConfig,\r\n  firstPersonCameraConfig,\r\n  followCameraConfig,\r\n  cameraConfigUpdaters,\r\n  cameraTypeMap,\r\n};\r\n","import {\r\n  cameraConfig,\r\n  firstPersonCameraConfig,\r\n  fixedCameraConfig,\r\n  followCameraConfig,\r\n  cameraConfigUpdaters\r\n} from './camera-config';\r\n\r\n/**\r\n * This module configures the camera dat.GUI menu folder.\r\n */\r\n\r\nconst firstPersonCameraFolderConfig = {\r\n  label: 'First-person camera',\r\n  config: firstPersonCameraConfig,\r\n  isOpen: false,\r\n  onChangeListeners: {\r\n    'viewDirection': cameraConfigUpdaters.normalizeFirstPersonViewDirection\r\n  }\r\n};\r\n\r\nconst fixedCameraFolderConfig = {\r\n  label: 'Fixed camera',\r\n  config: fixedCameraConfig,\r\n  isOpen: false,\r\n  onChangeListeners: {\r\n    'viewDirection': cameraConfigUpdaters.normalizeFixedViewDirection\r\n  }\r\n};\r\n\r\nconst followCameraFolderConfig = {\r\n  label: 'Follow camera',\r\n  config: followCameraConfig,\r\n  isOpen: false,\r\n  onChangeListeners: {\r\n    'intendedDistanceFromTarget': cameraConfigUpdaters.updateIntendedTranslationFromTarget,\r\n    'intendedRotationAngleFromTarget': cameraConfigUpdaters.updateIntendedTranslationFromTarget,\r\n    'intendedRotationAxisFromTarget': cameraConfigUpdaters.updateIntendedTranslationFromTarget\r\n  }\r\n};\r\n\r\nconst cameraFolderConfig = {\r\n  label: 'Camera',\r\n  config: cameraConfig,\r\n  isOpen: false,\r\n  childFolders: [\r\n    followCameraFolderConfig,\r\n    firstPersonCameraFolderConfig,\r\n    fixedCameraFolderConfig\r\n  ]\r\n};\r\n\r\nexport {cameraFolderConfig, firstPersonCameraFolderConfig, fixedCameraFolderConfig, followCameraFolderConfig};\r\n","/**\r\n * This module handles configuration parameters relating to input controls.\r\n */\r\n\r\nconst inputConfig = {};\r\n\r\n// TODO: Change these to not be Dvorak-based.\r\n\r\ninputConfig.shipShootTorpedoKey = 'u';\r\ninputConfig.shipForwardThrusterKey = 'e';\r\ninputConfig.shipStabilizerKey = 'o';\r\ninputConfig.shipPitchThrusterUpKey = 'UP';\r\ninputConfig.shipPitchThrusterDownKey = 'DOWN';\r\ninputConfig.shipYawThrusterLeftKey = 'LEFT';\r\ninputConfig.shipYawThrusterRightKey = 'RIGHT';\r\ninputConfig.pauseKeys = ['SPACE', 'ESCAPE'];\r\n\r\ninputConfig.allKeys = [\r\n  inputConfig.shipShootTorpedoKey,\r\n  inputConfig.shipForwardThrusterKey,\r\n  inputConfig.shipStabilizerKey,\r\n  inputConfig.shipPitchThrusterUpKey,\r\n  inputConfig.shipPitchThrusterDownKey,\r\n  inputConfig.shipYawThrusterLeftKey,\r\n  inputConfig.shipYawThrusterRightKey,\r\n  ...inputConfig.pauseKeys,\r\n];\r\n\r\nexport {inputConfig};\r\n","/**\r\n * This module handles configuration parameters relating to the physics engine.\r\n */\r\n\r\nconst physicsConfig = {};\r\n\r\nphysicsConfig.timeStepDuration = {\r\n  start: 10,\r\n  min: 1,\r\n  max: 1000\r\n};\r\n\r\nphysicsConfig.linearDragCoefficient = {\r\n  start: 0.00001,\r\n  min: 0.0,\r\n  max: 0.0001\r\n};\r\nphysicsConfig.angularDragCoefficient = {\r\n  start: 0.000001,\r\n  min: 0.0,\r\n  max: 0.00005\r\n};\r\nphysicsConfig.coefficientOfRestitution = {\r\n  start: 0.8,\r\n  min: 0.0001,\r\n  max: 1.0\r\n};\r\nphysicsConfig.coefficientOfFriction = {\r\n  start: 0.03,\r\n  min: 0.0001,\r\n  max: 1.0\r\n};\r\nphysicsConfig.lowMomentumSuppressionThreshold = {\r\n  start: 0.000000002,\r\n  min: 0.0,\r\n  max: 0.00000002\r\n};\r\nphysicsConfig.lowAngularMomentumSuppressionThreshold = {\r\n  start: 0.000000001,\r\n  min: 0.0,\r\n  max: 0.00000001\r\n};\r\n\r\nexport {physicsConfig};\r\n","import {physicsConfig} from './physics-config';\r\n\r\n/**\r\n * This module configures the physics dat.GUI menu folder.\r\n */\r\n\r\nconst physicsFolderConfig = {\r\n  label: 'Physics Engine',\r\n  config: physicsConfig,\r\n  isOpen: false,\r\n  onChangeListeners: {}\r\n};\r\n\r\nexport {physicsFolderConfig};\r\n","import {\r\n  Aabb,\r\n  areVec3sEqual,\r\n  vec3ToString,\r\n} from 'gamex';\r\n\r\n/**\r\n * This class helps to render enough of the world around the current scene position, but not too\r\n * much. It does this by sub-dividing the scene space into three-dimensional cells called chunks.\r\n * When the scene center position moves into a new chunk, then some old chunks (that are being moved\r\n * away from) are destroyed and some new chunks (that are being moved towords) are created.\r\n *\r\n * Much of the documentation in this class mentions \"chunk coordinates\". (0,0,0) in chunk\r\n * coordinates is the same point as (0,0,0) in scene coordinates. However, chunk coordinates are\r\n * essentially indices into the three-dimensional grid of all possible chunk positions. Chunk\r\n * coordinates should always be integers\r\n */\r\nclass ChunkController {\r\n  /**\r\n   * Registers callbacks for creating and destroying chunks as the scene position changes.\r\n   *\r\n   * A new collection of chunks is rendered (and destroyed) every time the scene moves a distance of\r\n   * chunkSideLength along any axis. A collection is all of the chunks along one face of the overall\r\n   * scene bounding box.\r\n   *\r\n   * The add or delete handlers are called once for every chunk in the collection that's being added\r\n   * or removed, respectively.\r\n   *\r\n   * The handlers are invoked with the following arguments:\r\n   * - chunk: The chunk being added/removed.\r\n   *\r\n   * @param {vec3} sceneCenter The current scene center.\r\n   * @param {number} chunkSideLength The axially-aligned length of one chunk (chunks are cubic).\r\n   * @param {number} chunkCountOnASide The number of chunks to render along an axis. That is,\r\n   * chunkCountOnASide^3 is the total number of chunks that will be rendered at a time.\r\n   * @param {Array.<ChunkListener>} chunkListeners A collection of entities which will be informed\r\n   * of all chunk events.\r\n   */\r\n  constructor(sceneCenter, chunkSideLength, chunkCountOnASide, chunkListeners) {\r\n    this._chunkSideLength = chunkSideLength;\r\n    this._chunkHalfSideLength = chunkSideLength / 2;\r\n    // Ensure this is an even number.\r\n    this._chunkCountOnASide =\r\n        chunkCountOnASide % 2 === 0 ? chunkCountOnASide : chunkCountOnASide + 1;\r\n    this._chunkListeners = chunkListeners;\r\n    this._prevRenderSceneCenter = vec3.create();\r\n    this._setChunkCoordinatePositionFromScenePosition(sceneCenter);\r\n    this._chunks = new Map();\r\n  }\r\n\r\n  /**\r\n   * Sets the scene center, destroys all old chunks, and creates all of the new chunks.\r\n   *\r\n   * @param {vec3} sceneCenter\r\n   */\r\n  reset(sceneCenter) {\r\n    this._setChunkCoordinatePositionFromScenePosition(sceneCenter);\r\n    this._destroyAllChunks();\r\n    this._createAllChunks();\r\n    this._chunkListeners.forEach(listener => listener.onAllChunksUpdated());\r\n  }\r\n\r\n  /**\r\n   * Keeps track of when the scene center has moved to a new chunk. When it has, then destroy and\r\n   * create new chunks according to the new scene position.\r\n   *\r\n   * @param {vec3} sceneCenter In scene coordinates.\r\n   */\r\n  update(sceneCenter) {\r\n    // Convert the scene center to chunk coordinates.\r\n    const centerInChunkCoords =\r\n        this._getChunkCoordinatePositionFromScenePosition(sceneCenter);\r\n\r\n    // Has the scene center moved to a new chunk?\r\n    if (!areVec3sEqual(this._prevRenderSceneCenter, centerInChunkCoords)) {\r\n      this._handleSceneMovedToNewChunk(sceneCenter, centerInChunkCoords);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Destroy and create new chunks according to the new scene position.\r\n   *\r\n   * @param {vec3} centerInSceneCoords\r\n   * @param {vec3} centerInChunkCoords\r\n   * @private\r\n   */\r\n  _handleSceneMovedToNewChunk(centerInSceneCoords, centerInChunkCoords) {\r\n    // Get the difference from the new center to the old one.\r\n    const diff = vec3.create();\r\n    vec3.subtract(diff, centerInChunkCoords, this._prevRenderSceneCenter);\r\n\r\n    const isDiffGreaterThanCountOnASide =\r\n        diff[0] > this._chunkCountOnASide ||\r\n        diff[1] > this._chunkCountOnASide ||\r\n        diff[2] > this._chunkCountOnASide;\r\n\r\n    // With really large differences, it's more efficient to just reset all chunks.\r\n    if (isDiffGreaterThanCountOnASide) {\r\n      this.reset(centerInSceneCoords);\r\n    } else {\r\n      this._updateChunksForNewCenter(diff);\r\n    }\r\n\r\n    vec3.copy(this._prevRenderSceneCenter, centerInChunkCoords);\r\n\r\n    this._chunkListeners.forEach(listener => listener.onAllChunksUpdated());\r\n\r\n    const positionString = vec3ToString(centerInChunkCoords);\r\n    console.debug(`Entered new chunk: ${positionString}`);\r\n  }\r\n\r\n  /**\r\n   * Creates and destroys chunks to update to the new center position.\r\n   *\r\n   * @param {vec3} centerDiff The difference from the old center to the new one, in chunk\r\n   * coordinates.\r\n   * @private\r\n   */\r\n  _updateChunksForNewCenter(centerDiff) {\r\n    let xDiff = centerDiff[0];\r\n    let yDiff = centerDiff[1];\r\n    let zDiff = centerDiff[2];\r\n\r\n    const chunkHalfCountOnASide = this._chunkCountOnASide / 2;\r\n\r\n    let lowestXCoordinateToDelete = this._prevRenderSceneCenter[0] - chunkHalfCountOnASide;\r\n    let lowestYCoordinateToDelete = this._prevRenderSceneCenter[1] - chunkHalfCountOnASide;\r\n    let lowestZCoordinateToDelete = this._prevRenderSceneCenter[2] - chunkHalfCountOnASide;\r\n\r\n    let lowestXCoordinateToAdd = this._prevRenderSceneCenter[0] + chunkHalfCountOnASide;\r\n    let lowestYCoordinateToAdd = this._prevRenderSceneCenter[1] + chunkHalfCountOnASide;\r\n    let lowestZCoordinateToAdd = this._prevRenderSceneCenter[2] + chunkHalfCountOnASide;\r\n\r\n    if (xDiff < 0) {\r\n      lowestXCoordinateToDelete += this._chunkCountOnASide + xDiff;\r\n      lowestXCoordinateToAdd -= this._chunkCountOnASide - xDiff;\r\n      xDiff = -xDiff;\r\n    }\r\n    if (yDiff < 0) {\r\n      lowestYCoordinateToDelete += this._chunkCountOnASide + yDiff;\r\n      lowestYCoordinateToAdd -= this._chunkCountOnASide - yDiff;\r\n      yDiff = -yDiff;\r\n    }\r\n    if (zDiff < 0) {\r\n      lowestZCoordinateToDelete += this._chunkCountOnASide + zDiff;\r\n      lowestZCoordinateToAdd -= this._chunkCountOnASide - zDiff;\r\n      zDiff = -zDiff;\r\n    }\r\n\r\n    //\r\n    // Remove old chunks.\r\n    //\r\n\r\n    // Remove old chunks from the delta-x face (and from the x-y and x-z corners).\r\n    for (let x = 0; x < xDiff; x++) {\r\n      for (let y = 0; y < this._chunkCountOnASide; y++) {\r\n        for (let z = 0; z < this._chunkCountOnASide; z++) {\r\n          const chunk = this._getChunkFromPosition(\r\n              x + lowestXCoordinateToDelete,\r\n              y + lowestYCoordinateToDelete,\r\n              z + lowestZCoordinateToDelete);\r\n          if (chunk) {\r\n            this._destroyChunk(chunk);\r\n            this._chunks.delete(chunk.id);\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    // Remove old chunks from the delta-y face (and from the y-z corner, but not from the x-y\r\n    // corner).\r\n    for (let x = xDiff; x < this._chunkCountOnASide; x++) {\r\n      for (let y = 0; y < yDiff; y++) {\r\n        for (let z = 0; z < this._chunkCountOnASide; z++) {\r\n          const chunk = this._getChunkFromPosition(\r\n              x + lowestXCoordinateToDelete,\r\n              y + lowestYCoordinateToDelete,\r\n              z + lowestZCoordinateToDelete);\r\n          if (chunk) {\r\n            this._destroyChunk(chunk);\r\n            this._chunks.delete(chunk.id);\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    // Remove old chunks from the delta-z face (but not from the x-z or y-z corners).\r\n    for (let x = xDiff; x < this._chunkCountOnASide; x++) {\r\n      for (let y = yDiff; y < this._chunkCountOnASide; y++) {\r\n        for (let z = 0; z < zDiff; z++) {\r\n          const chunk = this._getChunkFromPosition(\r\n              x + lowestXCoordinateToDelete,\r\n              y + lowestYCoordinateToDelete,\r\n              z + lowestZCoordinateToDelete);\r\n          if (chunk) {\r\n            this._destroyChunk(chunk);\r\n            this._chunks.delete(chunk.id);\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    //\r\n    // Add new chunks.\r\n    //\r\n\r\n    const chunkPosition = vec3.create();\r\n\r\n    // Add new chunks to the delta-x face (and to the x-y and x-z corners).\r\n    for (let x = 0; x < xDiff; x++) {\r\n      for (let y = 0; y < this._chunkCountOnASide; y++) {\r\n        for (let z = 0; z < this._chunkCountOnASide; z++) {\r\n          vec3.set(chunkPosition,\r\n              x + lowestXCoordinateToAdd,\r\n              y + lowestYCoordinateToDelete,\r\n              z + lowestZCoordinateToDelete);\r\n          const chunk = this._createChunk(chunkPosition);\r\n          this._chunks.set(chunk.id, chunk);\r\n        }\r\n      }\r\n    }\r\n\r\n    // Add new chunks to the delta-y face (and to the y-z corner, but not to the x-y corner).\r\n    for (let x = xDiff; x < this._chunkCountOnASide; x++) {\r\n      for (let y = 0; y < yDiff; y++) {\r\n        for (let z = 0; z < this._chunkCountOnASide; z++) {\r\n          vec3.set(chunkPosition,\r\n              x + lowestXCoordinateToDelete,\r\n              y + lowestYCoordinateToAdd,\r\n              z + lowestZCoordinateToDelete);\r\n          const chunk = this._createChunk(chunkPosition);\r\n          this._chunks.set(chunk.id, chunk);\r\n        }\r\n      }\r\n    }\r\n\r\n    // Add new chunks to the delta-z face (but not to the x-z or y-z corners).\r\n    for (let x = xDiff; x < this._chunkCountOnASide; x++) {\r\n      for (let y = yDiff; y < this._chunkCountOnASide; y++) {\r\n        for (let z = 0; z < zDiff; z++) {\r\n          vec3.set(chunkPosition,\r\n              x + lowestXCoordinateToDelete,\r\n              y + lowestYCoordinateToDelete,\r\n              z + lowestZCoordinateToAdd);\r\n          const chunk = this._createChunk(chunkPosition);\r\n          this._chunks.set(chunk.id, chunk);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   */\r\n  _destroyAllChunks() {\r\n    this._chunks.forEach(chunk => this._destroyChunk(chunk));\r\n    this._chunks.clear();\r\n  }\r\n\r\n  /**\r\n   * Creates all chunks to fill the initial span of the global bounding box, which is calculated\r\n   * from chunkCountOnASide.\r\n   *\r\n   * Assumes this._chunkCountOnASide is an even number.\r\n   *\r\n   * @private\r\n   */\r\n  _createAllChunks() {\r\n    const chunkPosition = vec3.create();\r\n\r\n    const lowestChuckOffsetFromCenter = -this._chunkCountOnASide / 2;\r\n    const lowestChunkXCoordinate = this._prevRenderSceneCenter[0] + lowestChuckOffsetFromCenter;\r\n    const lowestChunkYCoordinate = this._prevRenderSceneCenter[1] + lowestChuckOffsetFromCenter;\r\n    const lowestChunkZCoordinate = this._prevRenderSceneCenter[2] + lowestChuckOffsetFromCenter;\r\n\r\n    for (let x = 0; x < this._chunkCountOnASide; x++) {\r\n      for (let y = 0; y < this._chunkCountOnASide; y++) {\r\n        for (let z = 0; z < this._chunkCountOnASide; z++) {\r\n          vec3.set(chunkPosition,\r\n              lowestChunkXCoordinate + x,\r\n              lowestChunkYCoordinate + y,\r\n              lowestChunkZCoordinate + z);\r\n          const chunk = this._createChunk(chunkPosition);\r\n          this._chunks.set(chunk.id, chunk);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @param {vec3} chunkPosition The lowest corner of the chunk, in chunk coordinates.\r\n   * @returns {Chunk}\r\n   * @private\r\n   */\r\n  _createChunk(chunkPosition) {\r\n    const centerInSceneCoords =\r\n        this._getSceneCoordinateChunkCenterPositionFromChunkPosition(chunkPosition);\r\n    const chunk = {\r\n      id: ChunkController._getIdFromChunkPosition(\r\n          chunkPosition[0], chunkPosition[1], chunkPosition[2]),\r\n      bounds:\r\n          Aabb.createAsUniformAroundCenter(centerInSceneCoords, this._chunkHalfSideLength)\r\n    };\r\n    this._chunkListeners.forEach(listener => listener.onChunkCreated(chunk));\r\n    return chunk;\r\n  }\r\n\r\n  /**\r\n   * @param {Chunk} chunk\r\n   * @private\r\n   */\r\n  _destroyChunk(chunk) {\r\n    this._chunkListeners.forEach(listener => listener.onChunkDestroyed(chunk));\r\n  }\r\n\r\n  /**\r\n   * Translates the given the lowest-corner position of a chunk in chunk coordinates to the\r\n   * center position of the chunk in scene coordinates.\r\n   *\r\n   * @param {vec3} chunkPosition\r\n   * @returns {vec3}\r\n   * @private\r\n   */\r\n  _getSceneCoordinateChunkCenterPositionFromChunkPosition(chunkPosition) {\r\n    return vec3.fromValues(\r\n        Math.floor(chunkPosition[0] * this._chunkSideLength + this._chunkHalfSideLength),\r\n        Math.floor(chunkPosition[1] * this._chunkSideLength + this._chunkHalfSideLength),\r\n        Math.floor(chunkPosition[2] * this._chunkSideLength + this._chunkHalfSideLength));\r\n  }\r\n\r\n  /**\r\n   * Translates the given position from scene coordinates to chunk coordinates.\r\n   *\r\n   * @param {vec3} sceneCenter\r\n   * @returns {vec3}\r\n   * @private\r\n   */\r\n  _getChunkCoordinatePositionFromScenePosition(sceneCenter) {\r\n    return vec3.fromValues(\r\n        Math.floor(sceneCenter[0] / this._chunkSideLength),\r\n        Math.floor(sceneCenter[1] / this._chunkSideLength),\r\n        Math.floor(sceneCenter[2] / this._chunkSideLength));\r\n  }\r\n\r\n  /**\r\n   * Translates the given scene-center position from scene coordinates to chunk coordinates, then\r\n   * saves the chunk center.\r\n   *\r\n   * @param {vec3} sceneCenter\r\n   * @private\r\n   */\r\n  _setChunkCoordinatePositionFromScenePosition(sceneCenter) {\r\n    vec3.copy(this._prevRenderSceneCenter,\r\n        this._getChunkCoordinatePositionFromScenePosition(sceneCenter));\r\n  }\r\n\r\n  /**\r\n   * @param {number} x\r\n   * @param {number} y\r\n   * @param {number} z\r\n   * @returns {?Chunk}\r\n   * @private\r\n   */\r\n  _getChunkFromPosition(x, y, z) {\r\n    return this._chunks.get(ChunkController._getIdFromChunkPosition(x, y, z));\r\n  }\r\n\r\n  /**\r\n   * Two chunk positions with the same coordinates will always have the same ID.\r\n   *\r\n   * @param {number} x\r\n   * @param {number} y\r\n   * @param {number} z\r\n   * @returns {string}\r\n   * @private\r\n   */\r\n  static _getIdFromChunkPosition(x, y, z) {\r\n    return `${x},${y},${z}`;\r\n  }\r\n}\r\n\r\nexport {ChunkController};\r\n\r\n/**\r\n * @typedef {Object} Chunk\r\n * @property {string} id\r\n * @property {Aabb} bounds\r\n */\r\n\r\n/**\r\n * @typedef {Object} ChunkListener\r\n * @property {Function} onChunkCreated An event handler that is called upon the creation of each\r\n * individual new chunk.\r\n * @property {Function} onChunkDestroyed An event handler that is called upon the destruction of\r\n * each individual.\r\n * @property {Function} onAllChunksUpdated An event handler that is called after all chunks have been\r\n * created and destroyed for a given chunk positioning update.\r\n */\r\n","import { createHslColorString } from 'gamex';\r\n\r\nconst INITIAL_HEALTH_COUNT = 3;\r\nconst HUE_EMPTY = 0.0;\r\nconst HUE_FULL = 0.33;\r\nconst SATURATION = 0.94;\r\nconst LIGHTNESS = 0.50;\r\nconst ALPHA = 0.8;\r\n\r\nclass HealthController {\r\n  /**\r\n   * @param {HTMLElement} healthMeter\r\n   * @param {Function} onHealthDepleted\r\n   */\r\n  constructor(healthMeter, onHealthDepleted) {\r\n    this._healthMeter = healthMeter;\r\n    this._onHealthDepleted = onHealthDepleted;\r\n    this._capacityWidth = this._healthMeter.offsetWidth;\r\n    this._healthCount = INITIAL_HEALTH_COUNT;\r\n    this._updateHealthMeter(1);\r\n  }\r\n\r\n  /**\r\n   * @returns {number} The ratio of the current health to the original health capacity.\r\n   */\r\n  decrement() {\r\n    this._healthCount--;\r\n    const ratio = this._healthCount * 1.0 / INITIAL_HEALTH_COUNT;\r\n    this._updateHealthMeter(ratio);\r\n\r\n    if (this._healthCount <= 0) {\r\n      this._onHealthDepleted();\r\n    }\r\n\r\n    return ratio;\r\n  }\r\n\r\n  /**\r\n   * @param {number} ratio From 0 to 1.\r\n   */\r\n  _updateHealthMeter(ratio) {\r\n    this._healthMeter.style.width = `${ratio * this._capacityWidth}px`;\r\n    this._healthMeter.style.backgroundColor = createHslColorString({\r\n      h: HUE_EMPTY + (HUE_FULL - HUE_EMPTY) * ratio,\r\n      s: SATURATION,\r\n      l: LIGHTNESS,\r\n      a: ALPHA,\r\n    });\r\n  }\r\n}\r\n\r\nexport { HealthController };\r\n","const POINTS_FOR_ASTEROID = 100;\r\n\r\nclass ScoreController {\r\n  /**\r\n   * @param {HTMLElement} scorePanel\r\n   */\r\n  constructor(scorePanel) {\r\n    this._scorePanel = scorePanel;\r\n    this._score = 0;\r\n    this._updateScorePanel();\r\n    this._bestScore = window.localStorage.getItem('best-score') || 0;\r\n  }\r\n\r\n  onAsteroidShot() {\r\n    this._score += POINTS_FOR_ASTEROID;\r\n    this._updateScorePanel();\r\n  }\r\n\r\n  _updateScorePanel() {\r\n    this._scorePanel.textContent = this._score;\r\n  }\r\n\r\n  /**\r\n   * @returns {number}\r\n   */\r\n  get score() {\r\n    return this._score;\r\n  }\r\n\r\n  /**\r\n   * @returns {number}\r\n   */\r\n  get bestScore() {\r\n    return this._bestScore;\r\n  }\r\n\r\n  /**\r\n   * Updates the best score with the current score, if the current score is higher.\r\n   *\r\n   * @returns {boolean} True if the current score was higher.\r\n   */\r\n  updateBestScore() {\r\n    if (this._score > this._bestScore) {\r\n      this._bestScore = this._score;\r\n      window.localStorage.setItem('best-score', this._score);\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n}\r\n\r\nexport { ScoreController };\r\n","import {\r\n  animator,\r\n  configController,\r\n  GameController,\r\n}\r\nfrom 'gamex';\r\n\r\nimport { inputConfig } from '../config';\r\nimport { HealthController } from './health-controller';\r\nimport { ScoreController } from './score-controller';\r\n\r\n/**\r\n * This top-level Controller class initializes and runs the rest of the app.\r\n */\r\nclass SpaceDebrisController extends GameController {\r\n  constructor() {\r\n    super();\r\n\r\n    this._pauseScreen = document.querySelector('.pause-screen');\r\n    this._title = document.querySelector('.title');\r\n    this._playButton = document.querySelector('button.play');\r\n    this._newRecordField = document.querySelector('.new-record');\r\n    this._toastPanel = document.querySelector('.toast');\r\n\r\n    this.healthCtrl = null;\r\n    this.scoreCtrl = null;\r\n\r\n    this._setElementListeners();\r\n  }\r\n\r\n  /**\r\n   * @param {HTMLCanvasElement} canvas\r\n   * @param {Array.<ProgramWrapperConfig>} programConfigs Configurations for program wrappers that\r\n   * should be pre-cached before starting the rest of the app.\r\n   * @param {Array.<String>} texturePaths Texture images that should be pre-cached before\r\n   * starting the rest of the app.\r\n   * @param {Function.<Scene>} SceneImpl A class that extends GameScene.\r\n   * @returns {Promise}\r\n   */\r\n  initialize(canvas, programConfigs, texturePaths, SceneImpl) {\r\n    const healthMeter = document.querySelector('.health .current');\r\n    const scorePanel = document.querySelector('.score');\r\n\r\n    this.healthCtrl = new HealthController(healthMeter, this.endGame.bind(this));\r\n    this.scoreCtrl = new ScoreController(scorePanel);\r\n\r\n    return super.initialize(canvas, programConfigs, texturePaths, SceneImpl)\r\n      .then(() => {\r\n        this._setPauseKeyListeners();\r\n        this._setHideToastListeners();\r\n      });\r\n  }\r\n\r\n  run() {\r\n    super.run();\r\n    this.isGameOver = false;\r\n    this._title.innerHTML = 'Paused';\r\n    this._toastPanel.style.opacity = '1';\r\n  }\r\n\r\n  endGame() {\r\n    this._scene.destroyShip();\r\n    this.isGameOver = true;\r\n    const isNewRecord = this.scoreCtrl.updateBestScore();\r\n    this._updatePauseMenu();\r\n\r\n    this._title.innerHTML = 'Game over';\r\n    this._playButton.innerHTML = 'Play again';\r\n    this._pauseScreen.style.display = 'block';\r\n\r\n    this._newRecordField.style.display = isNewRecord ? 'block' : 'none';\r\n  }\r\n\r\n  togglePause() {\r\n    if (this.isPaused) {\r\n      this.unpause();\r\n    } else {\r\n      this.pause();\r\n    }\r\n  }\r\n\r\n  pause() {\r\n    super.pause();\r\n    this._updatePauseMenu();\r\n    this._pauseScreen.style.display = 'block';\r\n  }\r\n\r\n  unpause() {\r\n    super.unpause();\r\n    this._pauseScreen.style.display = 'none';\r\n\r\n    if (this.isGameOver) {\r\n      this._restart();\r\n    }\r\n  }\r\n\r\n  _updatePauseMenu() {\r\n    const scoreField = document.querySelector('.pause-menu-score');\r\n    const highestScoreField = document.querySelector('.pause-menu-highest-score');\r\n    const runTimeField = document.querySelector('.pause-menu-total-run-time');\r\n\r\n    const scoreText = `${this.scoreCtrl.score} points`;\r\n    const highestScoreText = `${this.scoreCtrl.bestScore} points`;\r\n    const runTimeText = millisecondsToString(animator.totalRunTime);\r\n\r\n    scoreField.innerHTML = scoreText;\r\n    highestScoreField.innerHTML = highestScoreText;\r\n    runTimeField.innerHTML = runTimeText;\r\n  }\r\n\r\n  _setPauseKeyListeners() {\r\n    inputConfig.pauseKeys.forEach(key =>\r\n      this._inputCtrl.addKeyDownListener(key, () => this.togglePause()));\r\n  }\r\n\r\n  /**\r\n   * Hide the toast overlay once the user is actually playing (after two key presses on relevant\r\n   * keys).\r\n   * @private\r\n   */\r\n  _setHideToastListeners() {\r\n    let gameKeyPressCount = 0;\r\n    const handleGameKeyPress = () => {\r\n      gameKeyPressCount++;\r\n      if (gameKeyPressCount >= 2) {\r\n        this._toastPanel.style.opacity = '0';\r\n\r\n        // Remove listeners.\r\n        inputConfig.allKeys.forEach(key =>\r\n            this._inputCtrl.removeKeyDownListener(key, handleGameKeyPress));\r\n      }\r\n    };\r\n\r\n    // Add listeners.\r\n    inputConfig.allKeys.forEach(key =>\r\n        this._inputCtrl.addKeyDownListener(key, handleGameKeyPress));\r\n  }\r\n\r\n  _setElementListeners() {\r\n    this._playButton.addEventListener('click', () => this.unpause(), false);\r\n    this._pauseScreen.addEventListener('click', event => this._onScreenClicked(event), false);\r\n  }\r\n\r\n  _onScreenClicked(event) {\r\n    // If the user clicks outside the pause menu, then we unpause.\r\n    if (event.target === this._pauseScreen && !this.isGameOver) {\r\n      this.unpause();\r\n    }\r\n  }\r\n\r\n  // TODO: Remove this. This is needed, because right now, `reset` won't return the app to its\r\n  //     starting state. Instead, we have to recreate everything.\r\n  _restart() {\r\n    window.location.reload(false);\r\n  }\r\n}\r\n\r\nfunction millisecondsToString(totalMilliseconds) {\r\n  const milliseconds = totalMilliseconds % 1000;\r\n  let tmp = (totalMilliseconds - milliseconds) / 1000;\r\n  const seconds = tmp % 60;\r\n  tmp = (tmp - seconds) / 60;\r\n  const minutes = tmp % 60;\r\n  const hours = (tmp - minutes) / 60;\r\n  return `${pad(hours)}:${pad(minutes)}:${pad(seconds)}.${pad(milliseconds, 3)}`;\r\n\r\n  function pad(number, digits=2) {\r\n    return `00${number}`.slice(-digits);\r\n  }\r\n}\r\n\r\nexport { SpaceDebrisController };\r\n","import { PhysicsEngine } from 'gamex';\r\n\r\nimport { physicsConfig } from './config';\r\nimport { SpaceDebrisController } from './core/space-debris-controller';\r\nimport { SceneImpl } from './model-controllers/scene';\r\nimport {\r\n  bloomProgramWrapperConfig,\r\n  flatColorProgramWrapperConfig,\r\n  generalModelProgramWrapperConfig,\r\n  starPointsProgramWrapperConfig,\r\n}\r\nfrom './programs';\r\n\r\n/**\r\n * This script defines the top-level logic that bootstraps the application.\r\n */\r\n\r\nwindow.addEventListener('load', _initApp, false);\r\n\r\n/**\r\n * Initializes the app. This is the event handler for the completion of the DOM loading.\r\n *\r\n * @private\r\n */\r\nfunction _initApp() {\r\n  console.debug('onDocumentLoad');\r\n\r\n  window.removeEventListener('load', _initApp);\r\n\r\n  const controller = new SpaceDebrisController();\r\n\r\n  PhysicsEngine.create(physicsConfig);\r\n\r\n  const canvas = document.getElementById('game-area');\r\n  const programConfigs = [\r\n    bloomProgramWrapperConfig,\r\n    flatColorProgramWrapperConfig,\r\n    generalModelProgramWrapperConfig,\r\n    starPointsProgramWrapperConfig,\r\n  ];\r\n  const textures = [];\r\n  controller.initialize(canvas, programConfigs, textures, SceneImpl)\r\n    .then(() => {\r\n      const body = document.querySelector('body');\r\n      body.style.visibility = 'visible';\r\n\r\n      controller.run();\r\n    });\r\n}\r\n","import {renderableShapeFactory} from 'gamex';\r\nimport {asteroidRenderableShapeFactory} from './src/asteroid-shape-config';\r\n\r\nexport * from './src/asteroid-controller';\r\nexport * from './src/asteroid-shape-config';\r\nexport * from './src/asteroids-config';\r\nexport * from './src/asteroids-controller';\r\n\r\nrenderableShapeFactory.registerRenderableShapeFactory(asteroidRenderableShapeFactory);\r\n","import {\r\n  getOtherControllerFromCollision,\r\n  CollidablePhysicsModelController,\r\n}\r\nfrom 'gamex';\r\n\r\nimport { asteroidsConfig } from './asteroids-config';\r\n\r\n/**\r\n * This class controls an asteroid.\r\n */\r\nclass AsteroidController extends CollidablePhysicsModelController {\r\n  /**\r\n   * @param {ModelControllerConfig} modelControllerParams\r\n   * @param {DynamicsConfig} dynamicsParams\r\n   * @param {vec3} scale\r\n   * @param {number} divisionsCount\r\n   * @param {ScoreController} scoreCtrl\r\n   * @param {Function} onDestroyedCallback\r\n   */\r\n  constructor(modelControllerParams, dynamicsParams, scale, divisionsCount, scoreCtrl,\r\n    onDestroyedCallback) {\r\n    modelControllerParams.programWrapperId = asteroidsConfig.shaderProgram;\r\n    modelControllerParams.texturePath = asteroidsConfig.texturePath;\r\n\r\n    const shapeParams = {\r\n      shapeId: 'ASTEROID',\r\n      collidableShapeId: 'SPHERE',\r\n      isUsingSphericalNormals: true,\r\n      divisionsCount: divisionsCount,\r\n      scale: scale,\r\n      isStationary: false,\r\n    };\r\n    const forceAppliers = [];\r\n\r\n    super(modelControllerParams, dynamicsParams, shapeParams, forceAppliers);\r\n\r\n    this._scoreCtrl = scoreCtrl;\r\n    this._onDestroyedCallback = onDestroyedCallback;\r\n  }\r\n\r\n  /**\r\n   * This callback is triggered in response to a collision.\r\n   *\r\n   * @param {Collision} collision\r\n   * @returns {boolean} True if this needs the standard collision restitution to proceed.\r\n   */\r\n  handleCollision(collision) {\r\n    const collidableType = getOtherControllerFromCollision(collision, this).constructor.name;\r\n    if (collidableType === 'TorpedoController') {\r\n      this._scoreCtrl.onAsteroidShot();\r\n      this._onDestroyedCallback(this);\r\n      return false;\r\n    }\r\n    else {\r\n      return true;\r\n    }\r\n  }\r\n}\r\n\r\nexport { AsteroidController };\r\n","/**\r\n * This module defines the asteroid shape configuration.\r\n *\r\n * The asteroid shape is formed from giving random offsets to the vertices of a icosphere.\r\n *\r\n * The shape is centered around the origin.\r\n */\r\n\r\nimport {\r\n  deepCopy,\r\n  getCacheKey,\r\n  randomFloatInRange,\r\n  renderableShapeFactory,\r\n} from 'gamex';\r\nimport {asteroidsConfig} from './asteroids-config';\r\n\r\nconst asteroidRenderableShapeFactory = {\r\n  shapeId: 'ASTEROID',\r\n\r\n  /**\r\n   * @param {RenderableShapeConfig} params\r\n   * @returns {RenderableShape}\r\n   */\r\n  getRenderableShape: (params) => {\r\n    const copyParams = deepCopy(params);\r\n    copyParams.shapeId = 'ICOSPHERE';\r\n    const icosphereRenderableShape = renderableShapeFactory.getRenderableShape(copyParams);\r\n\r\n    // Copy the normals array, because it may have been referencing the same instance as the\r\n    // positions array, which we're about to modify.\r\n    icosphereRenderableShape.vertexNormals = [...icosphereRenderableShape.vertexNormals];\r\n\r\n    _addRandomOffsetsToPositions(icosphereRenderableShape.vertexPositions);\r\n\r\n    return icosphereRenderableShape;\r\n  },\r\n\r\n  /**\r\n   * @param {RenderableShapeConfig} params\r\n   * @returns {string}\r\n   */\r\n  getCacheId(params) {\r\n    return getCacheKey(params);\r\n  }\r\n};\r\n\r\n/**\r\n * Adds a random orthogonal offset to each of the given positions.\r\n *\r\n * @param {Array.<Number>} vertexPositions\r\n * @private\r\n */\r\nfunction _addRandomOffsetsToPositions(vertexPositions) {\r\n  const vertexPosition = vec3.create();\r\n  const orthogonalOffsetVector = vec3.create();\r\n\r\n  let i;\r\n  let count;\r\n  let orthogonalOffset;\r\n\r\n  for (i = 0, count = vertexPositions.length; i < count; i += 3) {\r\n    vec3.set(vertexPosition, vertexPositions[i], vertexPositions[i + 1], vertexPositions[i + 2]);\r\n\r\n    // Orthogonal offset.\r\n    orthogonalOffset = randomFloatInRange(asteroidsConfig.minVertexOrthogonalDeviation,\r\n        asteroidsConfig.maxVertexOrthogonalDeviation);\r\n    vec3.copy(orthogonalOffsetVector, vertexPosition);\r\n    vec3.scale(orthogonalOffsetVector, orthogonalOffsetVector, orthogonalOffset);\r\n\r\n    vec3.add(vertexPosition, vertexPosition, orthogonalOffsetVector);\r\n\r\n    vertexPositions[i] = vertexPosition[0];\r\n    vertexPositions[i + 1] = vertexPosition[1];\r\n    vertexPositions[i + 2] = vertexPosition[2];\r\n  }\r\n}\r\n\r\nexport {asteroidRenderableShapeFactory};\r\n","/**\r\n * This module handles configuration parameters relating to the asteroids model.\r\n */\r\n\r\nconst asteroidsConfig = {};\r\n\r\nasteroidsConfig.shaderProgram = 'general-model-program';\r\nasteroidsConfig.texturePath = 'images/textures/astronomical/rhea.png';\r\nasteroidsConfig.initialAsteroidCount = 17;\r\n\r\nasteroidsConfig._initialAsteroidMinDistanceFromShip = 100;\r\nasteroidsConfig._initialAsteroidMaxDistanceFromShip = 400;\r\nasteroidsConfig.minDistanceFromShip = 150;\r\nasteroidsConfig.maxDistanceFromShip = 460;\r\n\r\n// TODO: Add params back, and check all these\r\n\r\n// Scene coordinates per millisecond.\r\nasteroidsConfig._initialMinSpeed = 0.1;\r\nasteroidsConfig._initialMaxSpeed = 0.2;\r\nasteroidsConfig.minSpeed = 0.25;\r\nasteroidsConfig.maxSpeed = 0.45;\r\n\r\nasteroidsConfig.minScale = 38;\r\nasteroidsConfig.maxScale = 78;\r\n\r\nasteroidsConfig.minDivisionsCount = 2;\r\nasteroidsConfig.maxDivisionsCount = 5;\r\n\r\nasteroidsConfig.minVertexOrthogonalDeviation = -0.2;\r\nasteroidsConfig.maxVertexOrthogonalDeviation = 0.2;\r\n\r\n// Radians per millisecond.\r\nconst _oneRevolutionPerSecond = Math.PI / 500;\r\nasteroidsConfig.minRotationRate = _oneRevolutionPerSecond * 0.001;\r\nasteroidsConfig.maxRotationRate = _oneRevolutionPerSecond * 0.2;\r\n\r\nasteroidsConfig.minInterceptVelocityDeviationAngle = 0;\r\nasteroidsConfig.maxInterceptVelocityDeviationAngle = Math.PI * 0.04;\r\n\r\nasteroidsConfig.density = 0.000003;\r\n\r\nasteroidsConfig.positionMaxAngleFromShipTrajectory = Math.PI * 0.25;\r\n\r\nasteroidsConfig.minAsteroidCount = 10;\r\nasteroidsConfig.maxAsteroidCount = 40;\r\n\r\n// New asteroids spawn at a rate that is inversely proportional to the ship's speed. This defines\r\n// that ratio.\r\nasteroidsConfig._spawnPeriodShipSpeedMultiplier = 50;\r\n\r\n// Should probably try to keep this in-sync with sceneConfig.chunkSideLength.\r\nasteroidsConfig.removalDistance = 600;\r\n\r\nasteroidsConfig._removalCheckThrottleDelay = 300;\r\nasteroidsConfig._removalSquaredDistance = null;\r\n\r\nfunction _updateRemovalSquaredDistance() {\r\n  asteroidsConfig._removalSquaredDistance =\r\n      asteroidsConfig.removalDistance * asteroidsConfig.removalDistance;\r\n}\r\n\r\n_updateRemovalSquaredDistance();\r\n\r\nconst asteroidsFolderConfig = {\r\n  label: 'Asteroids',\r\n  config: asteroidsConfig,\r\n  isOpen: false,\r\n  onChangeListeners: {\r\n    'removalDistance': _updateRemovalSquaredDistance,\r\n  },\r\n};\r\n\r\nexport {asteroidsConfig, asteroidsFolderConfig};\r\n","import {\r\n  addRandomRotationToVector,\r\n  animator,\r\n  createRandomVec3,\r\n  createSphereInertiaTensor,\r\n  findIntersectingCollidablesForCollidable,\r\n  getMaxVec3Dimension,\r\n  ModelGroupController,\r\n  randomFloatInRange,\r\n  randomIntInRange,\r\n  throttle,\r\n  TWO_PI,\r\n}\r\nfrom 'gamex';\r\n\r\nimport { calculateInterceptVelocity } from '../../../util';\r\nimport { AsteroidController } from './asteroid-controller';\r\nimport { asteroidsConfig } from './asteroids-config';\r\n\r\n/**\r\n * This class controls the collection of asteroids.\r\n *\r\n * - New asteroids are added at a regular time interval.\r\n *   - New asteroids are created within a wide cone region around the ship's current trajectory.\r\n *   - New asteroids are given a trajectory that is slightly offset from what would cause them to\r\n *     intercept the ship at its current trajectory.\r\n *   - The asteroid count will always be within a configured min and max.\r\n * - Old asteroids are removed when they move too far from the ship.\r\n */\r\nclass AsteroidsController extends ModelGroupController {\r\n  /**\r\n   * @param {ModelGroupControllerConfig} modelControllerParams\r\n   * @param {Function.<vec3>} getShipPosition\r\n   * @param {Function.<vec3>} getShipVelocity\r\n   */\r\n  constructor(modelControllerParams, scoreCtrl, getShipPosition, getShipVelocity) {\r\n    super(modelControllerParams);\r\n    this._scoreCtrl = scoreCtrl;\r\n    this._getShipPosition = getShipPosition;\r\n    this._getShipVelocity = getShipVelocity;\r\n    this._throttledRemoveDistantAsteroids =\r\n      throttle(() => this._removeDistantAsteroids(), asteroidsConfig._removalCheckThrottleDelay);\r\n    this._lastAsteroidSpawnTime = null;\r\n  }\r\n\r\n  reset() {\r\n    this.clearModelControllers();\r\n    this._createInitialAsteroids();\r\n    this._lastAsteroidSpawnTime = animator.currentTime;\r\n  }\r\n\r\n  /**\r\n   * @param {DOMHighResTimeStamp} currentTime\r\n   * @param {DOMHighResTimeStamp} deltaTime\r\n   */\r\n  update(currentTime, deltaTime) {\r\n    this._throttledRemoveDistantAsteroids();\r\n    this._handleInFlightAsteroidCreation(currentTime);\r\n  }\r\n\r\n  /**\r\n   * @param {number} currentTime\r\n   * @private\r\n   */\r\n  _handleInFlightAsteroidCreation(currentTime) {\r\n    const elapsedTime = currentTime - this._lastAsteroidSpawnTime;\r\n    const spawnPeriod = asteroidsConfig._spawnPeriodShipSpeedMultiplier /\r\n      vec3.length(this._getShipVelocity());\r\n    if (elapsedTime > spawnPeriod) {\r\n      this._lastAsteroidSpawnTime = currentTime;\r\n      this._createInFlightAsteroid().then(asteroid => this._ensureAsteroidIsNotColliding(asteroid));\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   */\r\n  _createInitialAsteroids() {\r\n    const promises = [];\r\n    for (let i = 0; i < asteroidsConfig.initialAsteroidCount; i++) {\r\n      promises.push(this._createInitialAsteroid());\r\n    }\r\n    Promise.all(promises).then(() => this._ensureNoAsteroidsCollide());\r\n  }\r\n\r\n  /**\r\n   * @returns {Promise.<ModelController>}\r\n   * @private\r\n   */\r\n  _createInitialAsteroid() {\r\n    const position = this._createRandomInitialAsteroidPosition();\r\n    const velocity = this._createRandomAsteroidVelocity(position,\r\n      asteroidsConfig._initialMinSpeed, asteroidsConfig._initialMaxSpeed);\r\n    return this._createAsteroid(position, velocity);\r\n  }\r\n\r\n  /**\r\n   * @returns {Promise.<ModelController>}\r\n   * @private\r\n   */\r\n  _createInFlightAsteroid() {\r\n    // Make sure we don't create too many asteroids.\r\n    if (this._modelCtrls.length >= asteroidsConfig.maxAsteroidCount) return Promise.reject();\r\n\r\n    const position = this._createRandomInFlightAsteroidPosition();\r\n    const velocity = this._createRandomAsteroidVelocity(position, asteroidsConfig.minSpeed,\r\n      asteroidsConfig.maxSpeed);\r\n    return this._createAsteroid(position, velocity);\r\n  }\r\n\r\n  /**\r\n   * @param {vec3} position\r\n   * @param {vec3} velocity\r\n   * @returns {Promise.<ModelController>}\r\n   * @private\r\n   */\r\n  _createAsteroid(position, velocity) {\r\n    const scale = this._createRandomAsteroidScale();\r\n    const rotationRate = this._createRandomAsteroidRotationRate();\r\n    const divisionsCount = this._createRandomAsteroidDivisionsCount();\r\n\r\n    const modelControllerParams = {\r\n      gl: this._gl,\r\n      getViewMatrix: this._getViewMatrix,\r\n      getProjectionMatrix: this._getProjectionMatrix,\r\n      getParentWorldTransform: this._getParentWorldTransform,\r\n    };\r\n\r\n    const dynamicsParams = _calculateAsteroidDynamicsConfig(asteroidsConfig.density, position,\r\n      velocity, rotationRate, scale);\r\n\r\n    const asteroid = new AsteroidController(\r\n      modelControllerParams,\r\n      dynamicsParams,\r\n      scale,\r\n      divisionsCount,\r\n      this._scoreCtrl,\r\n      asteroid => this._onModelControllerDestroyed(asteroid));\r\n    return this._startModelController(asteroid);\r\n  }\r\n\r\n  /**\r\n   * @returns {vec3}\r\n   * @private\r\n   */\r\n  _createRandomInitialAsteroidPosition() {\r\n    const distanceFromShip = randomFloatInRange(asteroidsConfig._initialAsteroidMinDistanceFromShip,\r\n      asteroidsConfig._initialAsteroidMaxDistanceFromShip);\r\n    const shipPosition = this._getShipPosition();\r\n\r\n    // Direction from ship.\r\n    const asteroidPosition = createRandomVec3();\r\n    // Displacement from ship.\r\n    vec3.scale(asteroidPosition, asteroidPosition, distanceFromShip);\r\n    // Asteroid position.\r\n    vec3.add(asteroidPosition, asteroidPosition, shipPosition);\r\n\r\n    return asteroidPosition;\r\n  }\r\n\r\n  /**\r\n   * Creates a random position within a wide cone region around the ship's current trajectory.\r\n   *\r\n   * @returns {vec3}\r\n   * @private\r\n   */\r\n  _createRandomInFlightAsteroidPosition() {\r\n    // Calculate some parameters for the position within a virtual cone.\r\n    let r = randomFloatInRange(0, 1);\r\n    // Weight the angle to be further toward the outside of the the virtual cone.\r\n    let ratio = 1 - r * r;\r\n    const lateralAngle = ratio * asteroidsConfig.positionMaxAngleFromShipTrajectory;\r\n    r = randomFloatInRange(0, 1);\r\n    // Weight the distance to favor being further away.\r\n    ratio = 1 - r * r;\r\n    const distance = asteroidsConfig.minDistanceFromShip +\r\n      (asteroidsConfig.maxDistanceFromShip - asteroidsConfig.minDistanceFromShip) * ratio;\r\n    const axialAngle = randomFloatInRange(0, TWO_PI);\r\n    const origin = vec3.create();\r\n\r\n    // Start with a position at the given distance.\r\n    const position = vec3.fromValues(0, 0, -distance);\r\n\r\n    // Rotate the position within the virtual cone.\r\n    vec3.rotateX(position, position, origin, lateralAngle);\r\n    vec3.rotateZ(position, position, origin, axialAngle);\r\n\r\n    // Rotate to match the direction of the ship's velocity.\r\n    const shipVelocity = this._getShipVelocity();\r\n    vec3.normalize(shipVelocity, shipVelocity);\r\n    const rotationX = Math.asin(shipVelocity[1]);\r\n    const rotationY = -Math.atan2(shipVelocity[0], -shipVelocity[2]);\r\n    vec3.rotateX(position, position, origin, rotationX);\r\n    vec3.rotateY(position, position, origin, rotationY);\r\n\r\n    vec3.add(position, position, this._getShipPosition());\r\n\r\n    return position;\r\n  }\r\n\r\n  /**\r\n   * Adds any needed offset to any asteroid so that it does not collide with any pre-existing\r\n   * objects.\r\n   *\r\n   * @private\r\n   */\r\n  _ensureNoAsteroidsCollide() {\r\n    // Loop in reverse order so we only move the asteroids that are added later.\r\n    for (let i = this._modelCtrls.length - 1; i >= 0; i--) {\r\n      this._ensureAsteroidIsNotColliding(this._modelCtrls[i]);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Adds any needed offset to the new asteroid so that it does not collide with any pre-existing\r\n   * objects.\r\n   *\r\n   * @param {AsteroidController} asteroid\r\n   * @private\r\n   */\r\n  _ensureAsteroidIsNotColliding(asteroid) {\r\n    const collidable = asteroid.physicsJob.collidable;\r\n    const radius = getMaxVec3Dimension(asteroid.scale);\r\n    const asteroidPosition = asteroid.position;\r\n\r\n    const shipToAsteroidOffset = vec3.create();\r\n    vec3.subtract(shipToAsteroidOffset, asteroidPosition, this._getShipPosition());\r\n    vec3.normalize(shipToAsteroidOffset, shipToAsteroidOffset);\r\n    vec3.scale(shipToAsteroidOffset, shipToAsteroidOffset, radius);\r\n\r\n    let collidingCollidables = findIntersectingCollidablesForCollidable(collidable);\r\n    while (collidingCollidables.length) {\r\n      vec3.add(asteroidPosition, asteroidPosition, shipToAsteroidOffset);\r\n      asteroid.position = asteroidPosition;\r\n      collidingCollidables = findIntersectingCollidablesForCollidable(collidable);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Calculates a random velocity that moves the asteroid close to the ship.\r\n   *\r\n   * @param {vec3} asteroidPosition\r\n   * @param {number} minSpeed\r\n   * @param {number} maxSpeed\r\n   * @returns {vec3}\r\n   * @private\r\n   */\r\n  _createRandomAsteroidVelocity(asteroidPosition, minSpeed, maxSpeed) {\r\n    const shipPosition = this._getShipPosition();\r\n    const shipVelocity = this._getShipVelocity();\r\n\r\n    // Calculate a random speed for the asteroid.\r\n    const asteroidSpeed = randomFloatInRange(minSpeed, maxSpeed);\r\n\r\n    // Calculate in what direction the asteroid needs to travel in order to collide with the ship if\r\n    // the ship were to maintain it's current velocity.\r\n    const interceptVelocity = vec3.create();\r\n    calculateInterceptVelocity(\r\n      interceptVelocity, asteroidPosition, asteroidSpeed, shipPosition, shipVelocity);\r\n\r\n    // TODO: The calculation for intercept velocity seems broken; the resulting speeds are too fast.\r\n    // This hack slows them down.\r\n    vec3.normalize(interceptVelocity, interceptVelocity);\r\n    vec3.scale(interceptVelocity, interceptVelocity, asteroidSpeed / 12);\r\n\r\n    // Add a random deviation to the velocity calculated above.\r\n    addRandomRotationToVector(interceptVelocity,\r\n      asteroidsConfig.minInterceptVelocityDeviationAngle,\r\n      asteroidsConfig.maxInterceptVelocityDeviationAngle);\r\n\r\n    return interceptVelocity;\r\n  }\r\n\r\n  /**\r\n   * @returns {vec3}\r\n   * @private\r\n   */\r\n  _createRandomAsteroidScale() {\r\n    const value = randomFloatInRange(asteroidsConfig.minScale, asteroidsConfig.maxScale);\r\n    return vec3.fromValues(value, value, value);\r\n  }\r\n\r\n  /**\r\n   * @returns {number}\r\n   * @private\r\n   */\r\n  _createRandomAsteroidRotationRate() {\r\n    return randomFloatInRange(asteroidsConfig.minRotationRate,\r\n      asteroidsConfig.maxRotationRate);\r\n  }\r\n\r\n  /**\r\n   * @returns {number}\r\n   * @private\r\n   */\r\n  _createRandomAsteroidDivisionsCount() {\r\n    return randomIntInRange(asteroidsConfig.minDivisionsCount,\r\n      asteroidsConfig.maxDivisionsCount);\r\n  }\r\n\r\n  _removeDistantAsteroids() {\r\n    this._removeDistantModelControllers(this._getShipPosition(),\r\n      asteroidsConfig._removalSquaredDistance);\r\n\r\n    // Make sure we don't have too few asteroids.\r\n    const asteroidDeficit = asteroidsConfig.minAsteroidCount - this._modelCtrls.length;\r\n    if (asteroidDeficit > 0) {\r\n      const promises = [];\r\n      for (let i = 0; i < asteroidDeficit; i++) {\r\n        promises.push(this._createInFlightAsteroid());\r\n      }\r\n      Promise.all(promises).then(() => this._ensureNoAsteroidsCollide());\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @param {string} texturePath\r\n   */\r\n  // TODO: Call this from dat.GUI trigger.\r\n  updateTexture(texturePath) {\r\n    this._modelCtrls.forEach(object => object.texturePath = texturePath);\r\n  }\r\n\r\n  /**\r\n   * @param {string} id\r\n   */\r\n  // TODO: Call this from dat.GUI trigger.\r\n  updateProgramWrapper(id) {\r\n    this._modelCtrls.forEach(object => object.programWrapperId = id);\r\n  }\r\n}\r\n\r\n/**\r\n * @param {number} density\r\n * @param {vec3} startPosition\r\n * @param {vec3} velocity\r\n * @param {number} rotationRate\r\n * @param {vec3} scale\r\n * @returns {DynamicsConfig}\r\n * @private\r\n */\r\nfunction _calculateAsteroidDynamicsConfig(density, startPosition, velocity, rotationRate, scale) {\r\n  const radius = (scale[0] + scale[1] + scale[2]) / 3;\r\n  const mass = density * 4 / 3 * Math.PI * radius * radius * radius;\r\n\r\n  const momentum = vec3.create();\r\n  vec3.scale(momentum, velocity, mass);\r\n  const startOrientation = quat.create();\r\n  const angularMomentum = _calculateAngularMomentumFromRotationRate(rotationRate, radius, mass);\r\n\r\n  return {\r\n    mass: mass,\r\n    position: startPosition,\r\n    momentum: momentum,\r\n    orientation: startOrientation,\r\n    angularMomentum: angularMomentum,\r\n  };\r\n}\r\n\r\n/**\r\n * @param {number} rotationRate\r\n * @param {number} radius\r\n * @param {number} mass\r\n * @returns {vec3}\r\n * @private\r\n */\r\nfunction _calculateAngularMomentumFromRotationRate(rotationRate, radius, mass) {\r\n  const inertiaTensor = createSphereInertiaTensor(radius, mass);\r\n  const angularMomentum = createRandomVec3(rotationRate);\r\n  vec3.transformMat3(angularMomentum, angularMomentum, inertiaTensor);\r\n  return angularMomentum;\r\n}\r\n\r\nexport { AsteroidsController };\r\n","export * from './src/scene-config';\r\nexport * from './src/scene-impl';\r\nexport * from './src/ship-destroyed-camera-target';\r\n","import {cameraConfig} from '../../../config';\r\n\r\n/**\r\n * This module handles configuration parameters relating to the overall scene.\r\n */\r\n\r\nconst sceneConfig = {};\r\n\r\n// Should probably try to keep this in-sync with asteroidsConfig.removalDistance.\r\nsceneConfig.chunkSideLength = 700;\r\nsceneConfig.chunkCountOnASide = 8;\r\n\r\n// Keep this value correlated with cameraConfig._zFar and star-shader.MAX_DISTANCE_FROM_CAMERA.\r\nsceneConfig.renderDistance = sceneConfig.chunkSideLength * (sceneConfig.chunkCountOnASide - 1) / 2;\r\ncameraConfig._zFar = sceneConfig.renderDistance;\r\n\r\nexport {sceneConfig};\r\n","import {\r\n  configController,\r\n  GameScene,\r\n  shallowCopy,\r\n}\r\nfrom 'gamex';\r\n\r\nimport {\r\n  cameraConfig,\r\n  cameraFolderConfig,\r\n  cameraTypeMap,\r\n  firstPersonCameraConfig,\r\n  fixedCameraConfig,\r\n  followCameraConfig,\r\n  physicsFolderConfig,\r\n}\r\nfrom '../../../config';\r\n\r\nimport { sceneConfig } from './scene-config';\r\n\r\nimport { ChunkController } from '../../../core/chunk-controller';\r\n\r\nimport {\r\n  TorpedoesController,\r\n  torpedoesConfig,\r\n  torpedoesFolderConfig,\r\n}\r\nfrom '../../torpedo';\r\nimport {\r\n  AsteroidsController,\r\n  asteroidsConfig,\r\n  asteroidsFolderConfig,\r\n}\r\nfrom '../../asteroid';\r\nimport {\r\n  ShipController,\r\n  shipConfig,\r\n  shipFolderConfig,\r\n}\r\nfrom '../../ship';\r\nimport {\r\n  StarsController,\r\n  starsFolderConfig,\r\n}\r\nfrom '../../star';\r\nimport {\r\n  // UfosController,\r\n  ufosConfig,\r\n  ufosFolderConfig,\r\n}\r\nfrom '../../ufo';\r\n\r\nimport { ShipDestroyedCameraTarget } from './ship-destroyed-camera-target';\r\n\r\n/**\r\n * This class handles the overall scene.\r\n *\r\n * This includes:\r\n * - the background,\r\n * - all objects in the foreground,\r\n * - all light sources.\r\n */\r\nclass SceneImpl extends GameScene {\r\n  /**\r\n   * @param {ModelGroupControllerConfig} modelControllerParams\r\n   * @param {GameController} gameCtrl\r\n   * @param {InputController} inputCtrl\r\n   */\r\n  constructor(modelControllerParams, gameCtrl, inputCtrl) {\r\n    super(modelControllerParams, gameCtrl, inputCtrl, sceneConfig.renderDistance);\r\n\r\n    this._asteroidsCtrl = null;\r\n    this._torpedoesCtrl = null;\r\n    this._shipCtrl = null;\r\n    this._starsCtrl = null;\r\n    this._ufosCtrl = null;\r\n    this._chunkCtrl = null;\r\n    // This is either _shipCtrl or _shipDestroyedCameraTarget depending on whether the game is over.\r\n    this._shipProxy = null;\r\n    this._shipDestroyedCameraTarget = null;\r\n    this._camera = null;\r\n    this._chunkListeners = [];\r\n\r\n    this._createConfigController();\r\n    this._createChunkController();\r\n    this._isReadyPromise = this._createModelControllers(inputCtrl);\r\n    this._createCamera();\r\n  }\r\n\r\n  reset() {\r\n    super.reset();\r\n\r\n    this._shipDestroyedCameraTarget = null;\r\n  }\r\n\r\n  /**\r\n   * @param {DOMHighResTimeStamp} currentTime\r\n   * @param {DOMHighResTimeStamp} deltaTime\r\n   */\r\n  updateChildren(currentTime, deltaTime) {\r\n    super.updateChildren(currentTime, deltaTime);\r\n    // The scene position follows the ship position.\r\n    this.centerOfVolume = this._shipProxy.position;\r\n    this._chunkCtrl.update(this.centerOfVolume);\r\n  }\r\n\r\n  destroyShip() {\r\n    // Update the camera target, since we're removing the ship.\r\n    this._shipDestroyedCameraTarget = new ShipDestroyedCameraTarget(this._shipCtrl);\r\n    this._startModelController(this._shipDestroyedCameraTarget).then(() => {\r\n      this._shipProxy = this._shipDestroyedCameraTarget;\r\n      this._createCamera();\r\n      this._onModelControllerDestroyed(this._shipCtrl);\r\n    });\r\n\r\n    // TODO: Trigger explosion animation.\r\n  }\r\n\r\n  /**\r\n   * @param {InputController} inputCtrl\r\n   * @returns {Promise}\r\n   */\r\n  _createModelControllers(inputCtrl) {\r\n    const getWorldTransform = () => this.worldTransform;\r\n    const getCameraPosition = () => this._camera.position;\r\n    const getShipPosition = () => this._shipProxy.position;\r\n    const getShipVelocity = () => this._shipProxy.velocity;\r\n    const modelControllerParams = {\r\n      gl: this._gl,\r\n      getViewMatrix: this._getViewMatrix,\r\n      getProjectionMatrix: this._getProjectionMatrix,\r\n      getParentWorldTransform: getWorldTransform,\r\n    };\r\n\r\n    this._asteroidsCtrl = new AsteroidsController(shallowCopy(modelControllerParams),\r\n      this._gameCtrl.scoreCtrl, getShipPosition, getShipVelocity);\r\n    this._torpedoesCtrl = new TorpedoesController(shallowCopy(modelControllerParams),\r\n      getShipPosition);\r\n    this._shipCtrl =\r\n      new ShipController(shallowCopy(modelControllerParams), inputCtrl, this._gameCtrl.healthCtrl,\r\n        this._torpedoesCtrl);\r\n    this._shipProxy = this._shipCtrl;\r\n    this._starsCtrl = new StarsController(shallowCopy(modelControllerParams), getCameraPosition);\r\n    // TODO\r\n    // this._ufosCtrl = new UfosController(modelControllerParams, getShipPosition, getShipVelocity,\r\n    //     this._torpedoesCtrl);\r\n\r\n    return this._startModelControllers();\r\n  }\r\n\r\n  /**\r\n   * @returns {Promise}\r\n   * @private\r\n   */\r\n  _startModelControllers() {\r\n    const modelCtrls = [\r\n      this._asteroidsCtrl,\r\n      this._torpedoesCtrl,\r\n      this._shipCtrl,\r\n      this._starsCtrl,\r\n      // this._ufosCtrl,\r\n    ];\r\n\r\n    return Promise.all(modelCtrls.map(modelCtrl => this._startModelController(modelCtrl)))\r\n      .then(() => {\r\n        this._chunkListeners.push(this._starsCtrl);\r\n        this._chunkCtrl.reset(this.centerOfVolume);\r\n      });\r\n  }\r\n\r\n  _createChunkController() {\r\n    this._chunkCtrl = new ChunkController(\r\n      this.centerOfVolume,\r\n      sceneConfig.chunkSideLength,\r\n      sceneConfig.chunkCountOnASide,\r\n      this._chunkListeners);\r\n  }\r\n\r\n  _createCamera() {\r\n    // Get the class for the currently selected camera type.\r\n    const cameraType = cameraConfig.cameraType instanceof Object ?\r\n      cameraConfig.cameraType.start : cameraConfig.cameraType;\r\n    const cameraClass = cameraTypeMap[cameraType];\r\n    const cameraTarget = this._createCameraTarget();\r\n\r\n    const cameraTypeToFactory = {\r\n      'firstPerson': () =>\r\n        new cameraClass(cameraTarget, firstPersonCameraConfig, cameraConfig,\r\n          this._camera),\r\n      'thirdPersonSpring': () =>\r\n        new cameraClass(cameraTarget, followCameraConfig, cameraConfig, this._camera),\r\n      'thirdPersonFixed': () =>\r\n        new cameraClass(cameraTarget, followCameraConfig, cameraConfig, this._camera),\r\n      'fixed': () => new cameraClass(fixedCameraConfig, cameraConfig, this._camera),\r\n    };\r\n\r\n    this._camera = cameraTypeToFactory[cameraType]();\r\n  }\r\n\r\n  /**\r\n   * @returns {Promise}\r\n   */\r\n  getIsReady() {\r\n    return this._isReadyPromise;\r\n  }\r\n\r\n  /**\r\n   * @returns {CameraTarget}\r\n   * @private\r\n   */\r\n  _createCameraTarget() {\r\n    const shipProxy = this._shipProxy;\r\n\r\n    // Create a proxy object to translate \"position\" to \"renderPosition\" and \"orientation\" to\r\n    // \"renderOrientation\".\r\n    return {\r\n      get position() {\r\n        return shipProxy.renderPosition;\r\n      },\r\n      get orientation() {\r\n        return shipProxy.renderOrientation;\r\n      },\r\n      get worldTransform() {\r\n        return shipProxy.worldTransform;\r\n      },\r\n    };\r\n  }\r\n\r\n  // TODO: Add configs\r\n\r\n  _createConfigController() {\r\n    configController.createFolder(asteroidsFolderConfig, null, {\r\n      'texturePath': () => this._updateAsteroidsTexture(),\r\n      'shaderProgram': () => this._updateAsteroidsProgramWrapper(),\r\n    });\r\n    configController.createFolder(torpedoesFolderConfig, null, {\r\n      'shaderProgram': () => this._updateTorpedoesProgramWrapper(),\r\n    });\r\n    configController.createFolder(shipFolderConfig, null, {\r\n      'texturePath': () => this._updateShipTexture(),\r\n      'shaderProgram': () => this._updateShipProgramWrapper(),\r\n    });\r\n    // configController.createFolder(ufosFolderConfig, null,\r\n    //   'texturePath': () => this._updateUfosTexture(),\r\n    //   'shaderProgram': () => this._updateUfosProgramWrapper(),\r\n    // });\r\n    configController.createFolder(starsFolderConfig);\r\n    configController.createFolder(physicsFolderConfig);\r\n\r\n    const setCameraPerspective =\r\n        () => this._camera._setPerspective(cameraConfig.fovY, cameraConfig.defaultAspectRatio,\r\n            cameraConfig._zNear, cameraConfig._zFar);\r\n    configController.createFolder(cameraFolderConfig, null, {\r\n      'fovY': setCameraPerspective,\r\n      'defaultAspectRatio': setCameraPerspective,\r\n      'cameraType': () => this._createCamera(),\r\n    });\r\n  }\r\n\r\n  _updateAsteroidsTexture() {\r\n    if (this._asteroidsCtrl) {\r\n      this._asteroidsCtrl.updateTexture(asteroidsConfig.texturePath);\r\n    }\r\n  }\r\n\r\n  _updateShipTexture() {\r\n    if (this._shipCtrl) {\r\n      this._shipCtrl.updateTexture(shipConfig.texturePath);\r\n    }\r\n  }\r\n\r\n  _updateUfosTexture() {\r\n    if (this._ufosCtrl) {\r\n      this._ufosCtrl.updateTexture(ufosConfig.texturePath);\r\n    }\r\n  }\r\n\r\n  _updateAsteroidsProgramWrapper() {\r\n    if (this._asteroidsCtrl) {\r\n      this._asteroidsCtrl.updateProgramWrapper(asteroidsConfig.shaderProgram);\r\n    }\r\n  }\r\n\r\n  _updateShipProgramWrapper() {\r\n    if (this._shipCtrl) {\r\n      this._shipCtrl.updateProgramWrapper(shipConfig.shaderProgram);\r\n    }\r\n  }\r\n\r\n  _updateTorpedoesProgramWrapper() {\r\n    if (this._torpedoesCtrl) {\r\n      this._torpedoesCtrl.updateProgramWrapper(torpedoesConfig.shaderProgram);\r\n    }\r\n  }\r\n\r\n  _updateUfosProgramWrapper() {\r\n    if (this._ufosCtrl) {\r\n      this._ufosCtrl.updateProgramWrapper(ufosConfig.shaderProgram);\r\n    }\r\n  }\r\n}\r\n\r\nexport { SceneImpl };\r\n","import {\r\n  applyAngularDrag,\r\n  InvisibleModelController,\r\n  PhysicsJob,\r\n  PhysicsModelController,\r\n  PhysicsState,\r\n} from 'gamex';\r\nimport {physicsConfig} from '../../../config';\r\n\r\n/**\r\n * This controller renders nothing but does continue to update its state, so that it can serve as a\r\n * camera target after the ship has been destroyed.\r\n *\r\n * It's initial state is based on the ship's last state.\r\n */\r\nclass ShipDestroyedCameraTarget extends PhysicsModelController {\r\n  /**\r\n   * @param {ShipController} shipCtrl\r\n   */\r\n  constructor(shipCtrl) {\r\n    // Use an invisible model controller that maintains state, but renders nothing.\r\n    const modelCtrlParams = {\r\n      gl: shipCtrl.modelCtrl._gl,\r\n      getViewMatrix: shipCtrl.modelCtrl._getViewMatrix,\r\n      getProjectionMatrix: shipCtrl.modelCtrl._getProjectionMatrix,\r\n      getParentWorldTransform: shipCtrl.modelCtrl._getParentWorldTransform,\r\n    };\r\n    const modelCtrl = new InvisibleModelController(modelCtrlParams);\r\n\r\n    // Copy the ship's last state.\r\n    const physicsJob = new PhysicsJob();\r\n    physicsJob.currentState = new PhysicsState(shipCtrl.physicsJob.currentState);\r\n    physicsJob.previousState = new PhysicsState(shipCtrl.physicsJob.previousState);\r\n    physicsJob.renderState = new PhysicsState(shipCtrl.physicsJob.renderState);\r\n\r\n    const forceAppliers = [\r\n      applyAngularDrag.bind(null, physicsConfig),\r\n    ];\r\n\r\n    super(modelCtrl, physicsJob, undefined, forceAppliers);\r\n  }\r\n}\r\n\r\nexport { ShipDestroyedCameraTarget };\r\n","import {renderableShapeFactory} from 'gamex';\r\nimport {shipRenderableShapeFactory} from './src/ship-shape-config';\r\nimport {shipForwardThrusterRenderableShapeFactory} from './src/ship-forward-thruster-shape-config';\r\n\r\nexport * from './src/ship-config';\r\nexport * from './src/ship-controller';\r\nexport * from './src/ship-shape-config';\r\n\r\nrenderableShapeFactory.registerRenderableShapeFactory(shipRenderableShapeFactory);\r\nrenderableShapeFactory.registerRenderableShapeFactory(shipForwardThrusterRenderableShapeFactory);\r\n","/**\r\n * This module handles configuration parameters relating to the ship model.\r\n */\r\n\r\nconst shipConfig = {};\r\n\r\nshipConfig.shaderProgram = 'general-model-program';\r\nshipConfig.texturePath = 'images/textures/metal/metal4.png';\r\n\r\nshipConfig.shipWidth = {\r\n  start: 1.2,\r\n  min: 0.1,\r\n  max: 10,\r\n};\r\nshipConfig.shipLength = {\r\n  start: 1.7,\r\n  min: 0.1,\r\n  max: 10,\r\n};\r\nshipConfig.shipDepth = {\r\n  start: 0.4,\r\n  min: 0.1,\r\n  max: 10,\r\n};\r\nshipConfig.shipRearWingExtensionLength = {\r\n  start: 0.5,\r\n  min: -4,\r\n  max: 4,\r\n};\r\n\r\nshipConfig.forwardThrustAccelerationMagnitude = {\r\n  start: 0.000025,\r\n  min: 0.000001,\r\n  max: 0.0005,\r\n};\r\nshipConfig.pitchAngularAcceleration = {\r\n  start: 0.000008,\r\n  min: 0.000001,\r\n  max: 0.0001,\r\n};\r\nshipConfig.yawAngularAcceleration = {\r\n  start: 0.000008,\r\n  min: 0.000001,\r\n  max: 0.0001,\r\n};\r\n\r\nshipConfig.slowdownAcceleration = {\r\n  start: 0.00008,\r\n  min: 0.0,\r\n  max: 0.005,\r\n};\r\nshipConfig.angularSlowdownAcceleration = {\r\n  start: 0.000008,\r\n  min: 0.0,\r\n  max: 0.0005,\r\n};\r\n\r\nshipConfig.maxSpeed = {\r\n  start: 0.095,\r\n  min: 0.001,\r\n  max: 1.0,\r\n};\r\nshipConfig.maxAngularSpeed = {\r\n  start: 0.0095,\r\n  min: 0.0001,\r\n  max: 0.1,\r\n};\r\n\r\nshipConfig.mass = {\r\n  start: 1,\r\n  min: 0,\r\n  max: 100,\r\n};\r\n\r\nshipConfig.torpedoSpeed = {\r\n  start: 0.3,\r\n  min: 0.03,\r\n  max: 3.0,\r\n};\r\nshipConfig.torpedoLength = {\r\n  start: 6.0,\r\n  min: 0.01,\r\n  max: 30.0,\r\n};\r\nshipConfig.torpedoWidth = {\r\n  start: 0.8,\r\n  min: 0.01,\r\n  max: 5.0,\r\n};\r\nshipConfig.torpedoColor = {\r\n  h: 0.29,\r\n  s: 0.99,\r\n  l: 0.6,\r\n};\r\n\r\nshipConfig.forwardThrusterShaderProgram = 'flat-color-program';\r\n\r\nshipConfig.forwardThrusterColor = {\r\n  h: 0.55,\r\n  s: 0.99,\r\n  l: 0.9,\r\n};\r\nshipConfig.forwardThrusterColorAlpha = {\r\n  start: 0.95,\r\n  min: 0.01,\r\n  max: 1,\r\n};\r\n\r\nshipConfig.forwardThrusterMarginRatio = {\r\n  start: 0.7,\r\n  min: 0.01,\r\n  max: 2,\r\n};\r\nshipConfig.forwardThrusterLength = {\r\n  start: 0.5,\r\n  min: 0,\r\n  max: 10,\r\n};\r\n\r\nshipConfig._shootTorpedoThrottleDelay = 150;\r\n\r\nconst shipFolderConfig = {\r\n  label: 'Ship',\r\n  config: shipConfig,\r\n  isOpen: false\r\n};\r\n\r\nexport {shipConfig, shipFolderConfig};\r\n","import {\r\n  applyAngularDrag,\r\n  applyLinearDrag,\r\n  createBoxInertiaTensor,\r\n  EPSILON,\r\n  getOtherControllerFromCollision,\r\n  shallowCopy,\r\n  CollidablePhysicsModelController,\r\n  throttle,\r\n}\r\nfrom 'gamex';\r\n\r\nimport {\r\n  inputConfig,\r\n  physicsConfig,\r\n}\r\nfrom '../../../config';\r\n\r\nimport { shipConfig } from './ship-config';\r\nimport { ShipForwardThrusterController } from './ship-forward-thruster-controller';\r\n\r\n/**\r\n * This class controls the ship.\r\n */\r\nclass ShipController extends CollidablePhysicsModelController {\r\n  /**\r\n   * @param {ModelControllerConfig} modelControllerParams\r\n   * @param {InputController} inputCtrl\r\n   * @param {HealthController} healthCtrl\r\n   * @param {TorpedoesController} torpedoesCtrl\r\n   */\r\n  constructor(modelControllerParams, inputCtrl, healthCtrl, torpedoesCtrl) {\r\n    modelControllerParams.programWrapperId = shipConfig.shaderProgram;\r\n    modelControllerParams.texturePath = shipConfig.texturePath;\r\n\r\n    const shapeParams = {\r\n      shapeId: 'SHIP',\r\n      collidableShapeId: 'SPHERE',\r\n      shipWidth: shipConfig.shipWidth,\r\n      shipLength: shipConfig.shipLength,\r\n      shipDepth: shipConfig.shipDepth,\r\n      shipRearWingExtensionLength: shipConfig.shipRearWingExtensionLength,\r\n      shipForwardThrusterMarginRatio: shipConfig.forwardThrusterMarginRatio,\r\n      shipForwardThrusterLength: shipConfig.forwardThrusterLength,\r\n      isStationary: false,\r\n      scale: vec3.fromValues(1, 1, 1),\r\n    };\r\n    const dynamicsParams = {\r\n      mass: shipConfig.mass,\r\n      position: vec3.create(),\r\n      momentum: _getInitialMomentum(),\r\n      orientation: quat.create(),\r\n      angularMomentum: vec3.create(),\r\n      unrotatedInertiaTensor: _createInertiaTensor(shapeParams),\r\n    };\r\n    const forceAppliers = [\r\n      (output, input) => this._applySpinSlowdown(output, input),\r\n      applyLinearDrag.bind(null, physicsConfig),\r\n      applyAngularDrag.bind(null, physicsConfig),\r\n    ];\r\n\r\n    super(modelControllerParams, dynamicsParams, shapeParams, forceAppliers);\r\n\r\n    this._inputCtrl = inputCtrl;\r\n    this._healthCtrl = healthCtrl;\r\n    this._torpedoesCtrl = torpedoesCtrl;\r\n    this._forwardThrusterCtrl = null;\r\n    this._activeThrusters = null;\r\n    this._thrusterConfig = null;\r\n    this._isShipSpinningOutOfControl = false;\r\n\r\n    this._setUpThrusterModelControllers(shallowCopy(modelControllerParams));\r\n    this._setUpInputListeners();\r\n\r\n    this._patchModelController({\r\n      updateChildren: (currentTime, deltaTime) => {\r\n        this._forwardThrusterCtrl.updateSelfAndChildren(currentTime, deltaTime);\r\n      },\r\n      getIsReady: (superVersion) => {\r\n        return Promise.all([\r\n          superVersion(),\r\n          this._forwardThrusterCtrl.getIsReady(),\r\n        ]);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @param {ModelControllerConfig} modelControllerParams\r\n   * @private\r\n   */\r\n  _setUpThrusterModelControllers(modelControllerParams) {\r\n    modelControllerParams.getParentWorldTransform = () => this.modelCtrl._worldTransform;\r\n\r\n    const getIsForwardThrusterActive = () => this._activeThrusters.has('forward');\r\n    this._forwardThrusterCtrl =\r\n      new ShipForwardThrusterController(modelControllerParams, getIsForwardThrusterActive);\r\n\r\n    // TODO: Create the pitch and azimuth thruster models\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   */\r\n  _setUpInputListeners() {\r\n    this._setUpThrusters();\r\n    const throttledShootTorpedo =\r\n      throttle(() => this._shootTorpedo(), shipConfig._shootTorpedoThrottleDelay, true);\r\n    this._inputCtrl.addKeyDownListener(inputConfig.shipShootTorpedoKey,\r\n      throttledShootTorpedo);\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   */\r\n  _shootTorpedo() {\r\n    const state = this.physicsJob.currentState;\r\n    const sphere = this.physicsJob.collidable;\r\n\r\n    const orientation = quat.clone(state.orientation);\r\n\r\n    // Calculate the velocity.\r\n    const velocity = vec3.fromValues(0, 0, -shipConfig.torpedoSpeed);\r\n    vec3.transformQuat(velocity, velocity, orientation);\r\n    vec3.add(velocity, velocity, state.velocity);\r\n\r\n    // Calculate the position.\r\n    const shipSpeed = vec3.length(state.velocity);\r\n    const shipDistanceNextFrame = shipSpeed * physicsConfig.timeStepDuration *\r\n      _torpedoDistanceMultiplier;\r\n    const torpedoDistance =\r\n      sphere.radius + shipConfig.torpedoLength / 2 + shipDistanceNextFrame + EPSILON;\r\n    const position = vec3.fromValues(0, 0, -torpedoDistance);\r\n    vec3.transformQuat(position, position, orientation);\r\n    vec3.add(position, position, sphere.centerOfVolume);\r\n\r\n    const torpedoParams = {\r\n      position: position,\r\n      velocity: velocity,\r\n      orientation: orientation,\r\n      length: shipConfig.torpedoLength,\r\n      width: shipConfig.torpedoWidth,\r\n      color: shipConfig.torpedoColor.rgbVec,\r\n      source: this,\r\n    };\r\n    this._torpedoesCtrl.createTorpedo(torpedoParams);\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   */\r\n  _setUpThrusters() {\r\n    this._activeThrusters = new Set();\r\n\r\n    this._thrusterConfig = {\r\n      'forward': {\r\n        key: inputConfig.shipForwardThrusterKey,\r\n        forceApplier: _applyForwardThrust\r\n      },\r\n      'stabilizer': {\r\n        key: inputConfig.shipStabilizerKey,\r\n        forceApplier: _applyStabilizerThrust\r\n      },\r\n      'leftwardYaw': {\r\n        key: inputConfig.shipYawThrusterLeftKey,\r\n        forceApplier: _applyYawThrust.bind(this, true)\r\n      },\r\n      'rightwardYaw': {\r\n        key: inputConfig.shipYawThrusterRightKey,\r\n        forceApplier: _applyYawThrust.bind(this, false)\r\n      },\r\n      'upwardPitch': {\r\n        key: inputConfig.shipPitchThrusterUpKey,\r\n        forceApplier: _applyPitchThrust.bind(this, true)\r\n      },\r\n      'downwardPitch': {\r\n        key: inputConfig.shipPitchThrusterDownKey,\r\n        forceApplier: _applyPitchThrust.bind(this, false)\r\n      },\r\n    };\r\n\r\n    Object.keys(this._thrusterConfig)\r\n      .forEach(thrusterName => this.registerThrusterInputListeners(thrusterName));\r\n  }\r\n\r\n  /**\r\n   * @param {string} thrusterName\r\n   */\r\n  registerThrusterInputListeners(thrusterName) {\r\n    const key = this._thrusterConfig[thrusterName].key;\r\n    this._inputCtrl.addKeyDownListener(key, () => this._activateThruster(thrusterName));\r\n    this._inputCtrl.addKeyUpListener(key, () => this._deactivateThruster(thrusterName));\r\n  }\r\n\r\n  /**\r\n   * @param {string} thrusterName\r\n   * @private\r\n   */\r\n  _activateThruster(thrusterName) {\r\n    this.physicsJob.addForceApplier(this._thrusterConfig[thrusterName].forceApplier);\r\n    this._activeThrusters.add(thrusterName);\r\n    if (thrusterName !== 'forward') {\r\n      this._isShipSpinningOutOfControl = false;\r\n    }\r\n    // console.debug(`Started applying ${thrusterName} thrust`);\r\n  }\r\n\r\n  /**\r\n   * @param {string} thrusterName\r\n   * @private\r\n   */\r\n  _deactivateThruster(thrusterName) {\r\n    this.physicsJob.removeForceApplier(this._thrusterConfig[thrusterName].forceApplier);\r\n    this._activeThrusters.delete(thrusterName);\r\n    // console.debug(`Stopped applying ${thrusterName} thrust`);\r\n  }\r\n\r\n  /**\r\n   * @param {ForceApplierOutput} output\r\n   * @param {ForceApplierInput} input\r\n   * @private\r\n   */\r\n  _applySpinSlowdown(output, input) {\r\n    // If the user is currently telling the ship to rotate, then don't slow the spin.\r\n    if (this._isShipSpinningOutOfControl || this._isSomeShipRotationThrusterActive()) {\r\n      return;\r\n    }\r\n\r\n    _applySpinSlowdown(output, input);\r\n  }\r\n\r\n  /**\r\n   * @returns {boolean}\r\n   * @private\r\n   */\r\n  _isSomeShipRotationThrusterActive() {\r\n    return ![\r\n      'leftwardYaw',\r\n      'rightwardYaw',\r\n      'upwardPitch',\r\n      'downwardPitch',\r\n    ].every(thruster => !this._activeThrusters.has(thruster));\r\n  }\r\n\r\n  /**\r\n   * This callback is triggered in response to a collision.\r\n   *\r\n   * @param {Collision} collision\r\n   * @returns {boolean} True if this needs the standard collision restitution to proceed.\r\n   */\r\n  handleCollision(collision) {\r\n    const other = getOtherControllerFromCollision(collision, this);\r\n\r\n    // Ignore collisions with torpedoes that this ship created (this shouldn't happen, but there's\r\n    // a bug somewhere).\r\n    if (other.source === this) return false;\r\n\r\n    this._isShipSpinningOutOfControl = true;\r\n\r\n    console.debug('Ship collided');\r\n\r\n    // TODO: trigger a camera jitter crash animation\r\n\r\n    this._healthCtrl.decrement();\r\n\r\n    return true;\r\n  }\r\n}\r\n\r\n/**\r\n * @param {ShipShapeConfig} shapeParams\r\n * @returns {mat3}\r\n * @private\r\n */\r\nfunction _createInertiaTensor(shapeParams) {\r\n  // This inertia tensor assumes the origin is at the center of the shape, but the ship shape\r\n  // calculates its origin on the back side. However, this should have the effect of slightly\r\n  // exaggerating the spin response of the ship when it collides, which I think is desirable.\r\n  return createBoxInertiaTensor(shapeParams.shipWidth, shapeParams.shipLength,\r\n    shapeParams.shipDepth, shipConfig.mass);\r\n}\r\n\r\n/**\r\n * Applies a forward thrust force in response to user input.\r\n *\r\n * @param {ForceApplierOutput} output\r\n * @param {ForceApplierInput} input\r\n * @private\r\n */\r\nfunction _applyForwardThrust(output, input) {\r\n  // Create an acceleration vector.\r\n  const acceleration = vec3.fromValues(0, 0, -shipConfig.forwardThrustAccelerationMagnitude);\r\n\r\n  // Rotate the acceleration to apply from the ship's current orientation.\r\n  vec3.transformQuat(acceleration, acceleration, input.state.orientation);\r\n\r\n  // Apply the force.\r\n  vec3.scaleAndAdd(output.force, output.force, acceleration, input.state.mass);\r\n\r\n  _applyMaxSpeedLimiter(output, input);\r\n}\r\n\r\n/**\r\n * @param {boolean} isLeftward\r\n * @param {ForceApplierOutput} output\r\n * @param {ForceApplierInput} input\r\n * @private\r\n */\r\nfunction _applyYawThrust(isLeftward, output, input) {\r\n  // Create an angular acceleration vector.\r\n  const accelerationMagnitude = shipConfig.yawAngularAcceleration * (isLeftward ? 1 : -1);\r\n  const acceleration = vec3.fromValues(0, accelerationMagnitude, 0);\r\n\r\n  _applyLocalAngularAcceleration(output, input, acceleration);\r\n  _applyMaxSpinLimiter(output, input);\r\n}\r\n\r\n/**\r\n * @param {boolean} isUpward\r\n * @param {ForceApplierOutput} output\r\n * @param {ForceApplierInput} input\r\n * @private\r\n */\r\nfunction _applyPitchThrust(isUpward, output, input) {\r\n  // Create an angular acceleration vector.\r\n  const accelerationMagnitude = shipConfig.yawAngularAcceleration * (isUpward ? -1 : 1);\r\n  const acceleration = vec3.fromValues(accelerationMagnitude, 0, 0);\r\n\r\n  _applyLocalAngularAcceleration(output, input, acceleration);\r\n  _applyMaxSpinLimiter(output, input);\r\n}\r\n\r\n/**\r\n * @param {ForceApplierOutput} output\r\n * @param {ForceApplierInput} input\r\n * @private\r\n */\r\nfunction _applyMaxSpeedLimiter(output, input) {\r\n  const speed = vec3.length(input.state.velocity);\r\n\r\n  // If the ship isn't moving too fast, then we don't need to slow it down.\r\n  if (speed < shipConfig.maxSpeed) {\r\n    return;\r\n  }\r\n\r\n  // Calculate how far over the max speed the ship is moving.\r\n  const speedDiff = speed - shipConfig.maxSpeed;\r\n\r\n  // Calculate the change in velocity that is needed to reduce speed to the limit.\r\n  const counterAcceleration = vec3.create();\r\n  vec3.negate(counterAcceleration, input.state.velocity);\r\n  vec3.normalize(counterAcceleration, counterAcceleration);\r\n\r\n  // Calculate the slow-down acceleration.\r\n  vec3.scale(counterAcceleration, counterAcceleration, speedDiff);\r\n\r\n  // Apply the slow-down force.\r\n  vec3.scaleAndAdd(output.force, output.force, counterAcceleration, input.state.mass);\r\n}\r\n\r\n/**\r\n * @param {ForceApplierOutput} output\r\n * @param {ForceApplierInput} input\r\n * @private\r\n */\r\nfunction _applyMaxSpinLimiter(output, input) {\r\n  const angularSpeed = vec3.length(input.state.angularVelocity);\r\n\r\n  // If the ship isn't rotating too fast, then we don't need to slow it down.\r\n  if (angularSpeed < shipConfig.maxAngularSpeed) {\r\n    return;\r\n  }\r\n\r\n  // Calculate how far over the max angular speed the ship is rotating.\r\n  const angularSpeedDiff = angularSpeed - shipConfig.maxAngularSpeed;\r\n\r\n  // Calculate the change in angular velocity that is needed to reduce rotation to the limit.\r\n  const counterAcceleration = vec3.create();\r\n  vec3.negate(counterAcceleration, input.state.angularVelocity);\r\n  vec3.normalize(counterAcceleration, counterAcceleration);\r\n\r\n  // Calculate the slow-down angular acceleration.\r\n  vec3.scale(counterAcceleration, counterAcceleration, angularSpeedDiff);\r\n\r\n  _applyWorldAngularAcceleration(output, input, counterAcceleration);\r\n}\r\n\r\n/**\r\n * Applies stabilizing thrust force (aka brakes) in response to user input.\r\n *\r\n * @param {ForceApplierOutput} output\r\n * @param {ForceApplierInput} input\r\n * @private\r\n */\r\nfunction _applyStabilizerThrust(output, input) {\r\n  _applySpeedSlowdown(output, input);\r\n  _applySpinSlowdown(output, input);\r\n}\r\n\r\n/**\r\n * @param {ForceApplierOutput} output\r\n * @param {ForceApplierInput} input\r\n * @private\r\n */\r\nfunction _applySpeedSlowdown(output, input) {\r\n  const speed = vec3.length(input.state.velocity);\r\n\r\n  // If the ship isn't moving, we don't need to slow it.\r\n  if (speed === 0) {\r\n    return;\r\n  }\r\n\r\n  // Determine the direction to apply the slowdown in.\r\n  const acceleration = vec3.create();\r\n  vec3.normalize(acceleration, input.state.velocity);\r\n\r\n  // Slow down by configured acceleration, unless it exceeds the current speed.\r\n  const slowDownMagnitude = speed > shipConfig.slowdownAcceleration ?\r\n    shipConfig.slowdownAcceleration : speed;\r\n  vec3.scale(acceleration, acceleration, -slowDownMagnitude);\r\n\r\n  // Apply the slowdown force.\r\n  vec3.scaleAndAdd(output.force, output.force, acceleration, input.state.mass);\r\n}\r\n\r\n/**\r\n * @param {ForceApplierOutput} output\r\n * @param {ForceApplierInput} input\r\n * @private\r\n */\r\nfunction _applySpinSlowdown(output, input) {\r\n  const angularSpeed = vec3.length(input.state.angularVelocity);\r\n\r\n  // If the ship isn't rotating, we don't need to slow the spin.\r\n  if (angularSpeed === 0) {\r\n    return;\r\n  }\r\n\r\n  // Determine the direction to apply the slowdown in.\r\n  const acceleration = vec3.create();\r\n  vec3.normalize(acceleration, input.state.angularVelocity);\r\n\r\n  // Slow down by configured acceleration, unless it exceeds the current spin.\r\n  const slowDownMagnitude = angularSpeed > shipConfig.angularSlowdownAcceleration ?\r\n    shipConfig.angularSlowdownAcceleration : angularSpeed;\r\n  vec3.scale(acceleration, acceleration, -slowDownMagnitude);\r\n\r\n  _applyWorldAngularAcceleration(output, input, acceleration);\r\n}\r\n\r\n/**\r\n * @param {ForceApplierOutput} output\r\n * @param {ForceApplierInput} input\r\n * @param {vec3} acceleration\r\n * @private\r\n */\r\nfunction _applyWorldAngularAcceleration(output, input, acceleration) {\r\n  // Convert the acceleration to local ship coordinates (so we can re-use\r\n  // _applyLocalAngularAcceleration).\r\n  const reverseRotation = quat.create();\r\n  quat.invert(reverseRotation, input.state.orientation);\r\n  vec3.transformQuat(acceleration, acceleration, reverseRotation);\r\n\r\n  _applyLocalAngularAcceleration(output, input, acceleration);\r\n}\r\n\r\n/**\r\n * @param {ForceApplierOutput} output\r\n * @param {ForceApplierInput} input\r\n * @param {vec3} acceleration\r\n * @private\r\n */\r\nfunction _applyLocalAngularAcceleration(output, input, acceleration) {\r\n  // Get torque from acceleration and mass moment of inertia.\r\n  vec3.transformMat3(acceleration, acceleration, input.state.unrotatedInertiaTensor);\r\n\r\n  // Rotate the torque to apply from the ship's current orientation.\r\n  vec3.transformQuat(acceleration, acceleration, input.state.orientation);\r\n\r\n  // Apply the torque.\r\n  vec3.add(output.torque, output.torque, acceleration);\r\n}\r\n\r\n/**\r\n * Gives the ship a little initial momentum, which causes the far stars to glitter right at the\r\n * start.\r\n *\r\n * @returns {vec3}\r\n * @private\r\n */\r\nfunction _getInitialMomentum() {\r\n  return vec3.fromValues(0, 0, -_initialSpeed * shipConfig.mass);\r\n}\r\nconst _initialSpeed = 0.002;\r\n\r\n// For some unknown reason, a newly created torpedo sometimes collides with the ship. This\r\n// multiplier helps to decrease the likelihood of that happening.\r\nconst _torpedoDistanceMultiplier = 1.1;\r\n\r\nexport { ShipController };\r\n","import {StandardModelController} from 'gamex';\r\n\r\nimport {flatColorProgramWrapperConfig} from '../../../programs';\r\nimport {shipConfig} from './ship-config';\r\n\r\n/**\r\n * This class controls the ship's forward thruster.\r\n */\r\nclass ShipForwardThrusterController extends StandardModelController {\r\n  /**\r\n   * @param {ModelControllerConfig} modelControllerParams\r\n   * @param {Function.<boolean>} getIsThrusterActive\r\n   */\r\n  constructor(modelControllerParams, getIsThrusterActive) {\r\n    modelControllerParams.programWrapperId = shipConfig.forwardThrusterShaderProgram;\r\n    delete modelControllerParams.texturePath;\r\n\r\n    const shapeParams = {\r\n      shapeId: 'SHIP_FORWARD_THRUSTER',\r\n      shipWidth: shipConfig.shipWidth,\r\n      shipLength: shipConfig.shipLength,\r\n      shipDepth: shipConfig.shipDepth,\r\n      shipRearWingExtensionLength: shipConfig.shipRearWingExtensionLength,\r\n      shipForwardThrusterMarginRatio: shipConfig.forwardThrusterMarginRatio,\r\n      shipForwardThrusterLength: shipConfig.forwardThrusterLength,\r\n    };\r\n\r\n    super(modelControllerParams, shapeParams);\r\n\r\n    this._color = vec4.fromValues(\r\n        shipConfig.forwardThrusterColor.rgbVec[0],\r\n        shipConfig.forwardThrusterColor.rgbVec[1],\r\n        shipConfig.forwardThrusterColor.rgbVec[2],\r\n        shipConfig.forwardThrusterColorAlpha,\r\n    );\r\n    this._getIsThrusterActive = getIsThrusterActive;\r\n  }\r\n\r\n  update(currentTime, deltaTime) {}\r\n\r\n  draw() {\r\n    if (this._getIsThrusterActive()) {\r\n      flatColorProgramWrapperConfig.draw.call(this);\r\n    }\r\n  }\r\n}\r\n\r\n// Re-use methods that are common for the flat-color program.\r\nShipForwardThrusterController.prototype._setUpProgramVariablesConfig =\r\n    flatColorProgramWrapperConfig.setUpProgramVariablesConfig;\r\n\r\nexport {ShipForwardThrusterController};\r\n","/**\r\n * This module defines the shape configuration for the ship's forward-thruster.\r\n *\r\n * The forward thruster follows the shape of the back side of the ship, but with a margin around the\r\n * edges. Also, the thruster sticks out slightly from the ship.\r\n */\r\n\r\nimport {calculateOrthogonalVertexNormals} from 'gamex';\r\n\r\nconst shipForwardThrusterRenderableShapeFactory = {\r\n  shapeId: 'SHIP_FORWARD_THRUSTER',\r\n\r\n  /**\r\n   * @param {ShipShapeConfig} params\r\n   * @returns {RenderableShape}\r\n   */\r\n  getRenderableShape: (params) => {\r\n    const facelessVertexPositions = _calculateFacelessVertexPositions(params);\r\n    const vertexPositions = _calculateVertexPositions(facelessVertexPositions);\r\n    const vertexNormals = _calculateVertexNormals(vertexPositions);\r\n    const textureCoordinates = _calculateTextureCoordinates(params);\r\n\r\n    return {\r\n      vertexPositions: vertexPositions,\r\n      vertexNormals: vertexNormals,\r\n      textureCoordinates: textureCoordinates,\r\n      vertexIndices: null,\r\n      elementCount: vertexPositions.length / 3,\r\n    };\r\n  },\r\n\r\n  /**\r\n   * @param {ShipShapeConfig} params\r\n   * @returns {string}\r\n   */\r\n  getCacheId(params) {\r\n    return `${params.shapeId}:${params.shipWidth}:${params.shipLength}` +\r\n        `:${params.shipDepth}:${params.shipRearWingExtensionLength}`;\r\n  }\r\n};\r\n\r\n// For the calculation of the vertex normals, it is important to specify the vertices for a face in\r\n// clockwise order (as seen when looking at the exterior side).\r\nconst _faceVertexPositionIndices = [\r\n  // Top-left face\r\n  vec3.fromValues(4, 1, 0),\r\n  // Top-right face\r\n  vec3.fromValues(4, 3, 1),\r\n  // Bottom-left face\r\n  vec3.fromValues(4, 0, 2),\r\n  // Bottom-right face\r\n  vec3.fromValues(4, 2, 3),\r\n  // Front-left face\r\n  vec3.fromValues(0, 1, 2),\r\n  // Front-right face\r\n  vec3.fromValues(2, 1, 3),\r\n];\r\n\r\n/**\r\n * @param {ShipShapeConfig} params\r\n * @returns {Array.<vec3>}\r\n * @private\r\n */\r\nfunction _calculateFacelessVertexPositions(params) {\r\n  const halfWidth = params.shipWidth / 2 * params.shipForwardThrusterMarginRatio;\r\n  const halfDepth = params.shipDepth / 2 * params.shipForwardThrusterMarginRatio;\r\n  const halfShipLength = params.shipLength / 2;\r\n  const marginDepthOffset =\r\n      params.shipRearWingExtensionLength * (1 - params.shipForwardThrusterMarginRatio);\r\n  const epsilon = 0.001;\r\n  const middleZ = halfShipLength - params.shipRearWingExtensionLength + epsilon;\r\n  const outerZ = halfShipLength - marginDepthOffset + epsilon;\r\n\r\n  return [\r\n    // Front-left corner\r\n    vec3.fromValues(-halfWidth, 0, outerZ),\r\n    // Front-middle-top corner\r\n    vec3.fromValues(0, halfDepth, middleZ),\r\n    // Front-middle-bottom corner\r\n    vec3.fromValues(0, -halfDepth, middleZ),\r\n    // Front-right corner\r\n    vec3.fromValues(halfWidth, 0, outerZ),\r\n    // Back corner\r\n    vec3.fromValues(0, 0, middleZ + params.shipForwardThrusterLength),\r\n  ];\r\n}\r\n\r\n/**\r\n * @param {Array.<vec3>} facelessVertexPositions\r\n * @returns {Array.<Number>}\r\n * @private\r\n */\r\nfunction _calculateVertexPositions(facelessVertexPositions) {\r\n  const vertexPositions = [];\r\n  // TODO: Consolidate with the duplicated logic in ship-shape-config.js.\r\n  // TODO: find a better way of flattening this.\r\n  // Create the flat array that is needed for the rendering pipeline.\r\n  for (let i = 0, count = _faceVertexPositionIndices.length; i < count; i++) {\r\n    const currentFaceVertexPositionIndices = _faceVertexPositionIndices[i];\r\n    for (let j = 0; j < 3; j++) {\r\n      const currentPosition = facelessVertexPositions[currentFaceVertexPositionIndices[j]];\r\n      for (let k = 0; k < 3; k++) {\r\n        vertexPositions[i * 9 + j * 3 + k] = currentPosition[k];\r\n      }\r\n    }\r\n  }\r\n  return vertexPositions;\r\n}\r\n\r\n/**\r\n * @param {Array.<Number>} vertexPositions\r\n * @returns {Array.<Number>}\r\n * @private\r\n */\r\nfunction _calculateVertexNormals(vertexPositions) {\r\n  return calculateOrthogonalVertexNormals(vertexPositions);\r\n}\r\n\r\n/**\r\n * @param {ShipShapeConfig} params\r\n * @returns {Array.<vec3>}\r\n * @private\r\n */\r\nfunction _calculateTextureCoordinates(params) {\r\n  return [\r\n    // TODO\r\n  ];\r\n}\r\n\r\nexport {shipForwardThrusterRenderableShapeFactory};\r\n","/**\r\n * This module defines the ship shape configuration.\r\n */\r\n\r\nimport {\r\n  calculateOrthogonalVertexNormals\r\n} from 'gamex';\r\n\r\nconst shipRenderableShapeFactory = {\r\n  shapeId: 'SHIP',\r\n\r\n  /**\r\n   * @param {ShipShapeConfig} params\r\n   * @returns {RenderableShape}\r\n   */\r\n  getRenderableShape: (params) => {\r\n    const facelessVertexPositions = _calculateFacelessVertexPositions(params);\r\n    const vertexPositions = _calculateVertexPositions(facelessVertexPositions);\r\n    const vertexNormals = _calculateVertexNormals(vertexPositions);\r\n    const textureCoordinates = _calculateTextureCoordinates(params);\r\n\r\n    return {\r\n      vertexPositions: vertexPositions,\r\n      vertexNormals: vertexNormals,\r\n      textureCoordinates: textureCoordinates,\r\n      vertexIndices: null,\r\n      elementCount: vertexPositions.length / 3,\r\n    };\r\n  },\r\n\r\n  /**\r\n   * @param {ShipShapeConfig} params\r\n   * @returns {string}\r\n   */\r\n  getCacheId(params) {\r\n    return `${params.shapeId}:${params.shipWidth}:${params.shipLength}` +\r\n        `:${params.shipDepth}:${params.shipRearWingExtensionLength}`;\r\n  }\r\n};\r\n\r\n//             4:(0,0,5)\r\n//                  |\r\n//                  |\r\n//\r\n//                  ^\r\n//                 /|\\\r\n//                / | \\\r\n//               /  |  \\\r\n//              /   |   \\\r\n//             /    |    \\\r\n//            /     o     \\  ------- Local origin\r\n//           /      |      \\\r\n//          /       |       \\\r\n//         /        |        \\\r\n//        /       __^__       \\\r\n//       /   __---     ---__   \\\r\n//      /_---               ---_\\\r\n//\r\n//      |           |           |\r\n//      |           |           |\r\n// 0:(-2,0,0)       |           |\r\n//                  |           |\r\n//          1,2:(0,.5,.5)       |\r\n//                              |\r\n//                         3:(2,0,0)\r\n\r\n// For the calculation of the vertex normals, it is important to specify the vertices for a face in\r\n// clockwise order (as seen when looking at the exterior side).\r\nconst _faceVertexPositionIndices = [\r\n  // Top-left face\r\n  vec3.fromValues(1, 0, 4),\r\n  // Top-right face\r\n  vec3.fromValues(3, 1, 4),\r\n  // Bottom-left face\r\n  vec3.fromValues(0, 2, 4),\r\n  // Bottom-right face\r\n  vec3.fromValues(2, 3, 4),\r\n  // Back-left face\r\n  vec3.fromValues(0, 1, 2),\r\n  // Back-right face\r\n  vec3.fromValues(2, 1, 3),\r\n];\r\n\r\n/**\r\n * @param {ShipShapeConfig} params\r\n * @returns {Array.<vec3>}\r\n * @private\r\n */\r\nfunction _calculateFacelessVertexPositions(params) {\r\n  const halfWidth = params.shipWidth / 2;\r\n  const halfDepth = params.shipDepth / 2;\r\n  const halfLength = params.shipLength / 2;\r\n\r\n  return [\r\n    // Back-left corner\r\n    vec3.fromValues(-halfWidth, 0, halfLength),\r\n    // Back-middle-top corner\r\n    vec3.fromValues(0, halfDepth, halfLength - params.shipRearWingExtensionLength),\r\n    // Back-middle-bottom corner\r\n    vec3.fromValues(0, -halfDepth, halfLength - params.shipRearWingExtensionLength),\r\n    // Back-right corner\r\n    vec3.fromValues(halfWidth, 0, halfLength),\r\n    // Front corner\r\n    vec3.fromValues(0, 0, -halfLength),\r\n  ];\r\n}\r\n\r\n/**\r\n * @param {Array.<vec3>} facelessVertexPositions\r\n * @returns {Array.<Number>}\r\n * @private\r\n */\r\nfunction _calculateVertexPositions(facelessVertexPositions) {\r\n  const vertexPositions = [];\r\n  // TODO: find a better way of flattening this.\r\n  // Create the flat array that is needed for the rendering pipeline.\r\n  for (let i = 0, count = _faceVertexPositionIndices.length; i < count; i++) {\r\n    const currentFaceVertexPositionIndices = _faceVertexPositionIndices[i];\r\n    for (let j = 0; j < 3; j++) {\r\n      const currentPosition = facelessVertexPositions[currentFaceVertexPositionIndices[j]];\r\n      for (let k = 0; k < 3; k++) {\r\n        vertexPositions[i * 9 + j * 3 + k] = currentPosition[k];\r\n      }\r\n    }\r\n  }\r\n  return vertexPositions;\r\n}\r\n\r\n/**\r\n * @param {Array.<Number>} vertexPositions\r\n * @returns {Array.<Number>}\r\n * @private\r\n */\r\nfunction _calculateVertexNormals(vertexPositions) {\r\n  return calculateOrthogonalVertexNormals(vertexPositions);\r\n}\r\n\r\n/**\r\n * @param {ShipShapeConfig} params\r\n * @returns {Array.<vec3>}\r\n * @private\r\n */\r\nfunction _calculateTextureCoordinates(params) {\r\n  const shipRearWingExtensionRatio = params.shipRearWingExtensionLength / params.shipLength;\r\n  const oneMinusShipRearWingExtensionRatio = 1 - shipRearWingExtensionRatio;\r\n\r\n  return [\r\n    // Top-left face\r\n    .5, oneMinusShipRearWingExtensionRatio,\r\n    0, 1,\r\n    .5, 0,\r\n    // Top-right face\r\n    1, 1,\r\n    .5, oneMinusShipRearWingExtensionRatio,\r\n    .5, 0,\r\n    // Bottom-left face\r\n    1, 1,\r\n    .5, oneMinusShipRearWingExtensionRatio,\r\n    .5, 0,\r\n    // Bottom-right face\r\n    .5, oneMinusShipRearWingExtensionRatio,\r\n    0, 1,\r\n    .5, 0,\r\n    // Back-left face\r\n    0, .5,\r\n    .5, 0,\r\n    .5, 1,\r\n    // Back-right face\r\n    .5, 1,\r\n    .5, 0,\r\n    1, .5\r\n  ];\r\n}\r\n\r\nexport {\r\n  shipRenderableShapeFactory,\r\n  _faceVertexPositionIndices,\r\n  _calculateFacelessVertexPositions,\r\n};\r\n\r\n/**\r\n * @typedef {RenderableShapeConfig} ShipShapeConfig\r\n * @property {number} shipWidth\r\n * @property {number} shipLength\r\n * @property {number} shipDepth\r\n * @property {number} shipRearWingExtensionLength\r\n * @property {number} shipForwardThrusterMarginRatio\r\n * @property {number} shipForwardThrusterLength\r\n */\r\n","export * from './src/stars-config';\r\nexport * from './src/stars-controller';\r\n","/**\r\n * This module handles configuration parameters relating to the stars model.\r\n */\r\n\r\nconst starsConfig = {};\r\n\r\nstarsConfig.shaderProgram = 'star-points-program';\r\n\r\nstarsConfig.starCountPerChunk = 8;\r\n\r\nstarsConfig.minSize = 6;\r\nstarsConfig.maxSize = 12;\r\n\r\nstarsConfig.minHue = 0.0;\r\nstarsConfig.maxHue = 1.0;\r\n\r\nstarsConfig.minSaturation = 0.0;\r\nstarsConfig.maxSaturation = 0.95;\r\n\r\nstarsConfig.minLightness = 0.75;\r\nstarsConfig.maxLightness = 0.9;\r\n\r\nconst starsFolderConfig = {\r\n  label: 'Stars',\r\n  config: starsConfig,\r\n  isOpen: false\r\n};\r\n\r\nexport {starsConfig, starsFolderConfig};\r\n","import {\r\n  createBufferFromData,\r\n  hslToRgb,\r\n  ModelController,\r\n  randomFloatInRange,\r\n} from 'gamex';\r\nimport {starsConfig} from './stars-config';\r\n\r\n/**\r\n * This class controls the stars.\r\n */\r\nclass StarsController extends ModelController {\r\n  /**\r\n   * @param {ModelControllerConfig} params\r\n   * @param {Function.<vec3>} getCameraPosition\r\n   */\r\n  constructor(params, getCameraPosition) {\r\n    params.programWrapperId = starsConfig.shaderProgram;\r\n\r\n    super(params);\r\n\r\n    this._getCameraPosition = getCameraPosition;\r\n    this._programVariablesConfig = null;\r\n    this._positionsConfig = null;\r\n    this._sizesConfig = null;\r\n    this._colorsConfig = null;\r\n    this._mvMatrix = mat4.create();\r\n    this._starsPerChunk = new Map();\r\n  }\r\n\r\n  /**\r\n   * @param {DOMHighResTimeStamp} currentTime\r\n   * @param {DOMHighResTimeStamp} deltaTime\r\n   * @protected\r\n   */\r\n  update(currentTime, deltaTime) {\r\n    // Do nothing here. Star updates occur when new chunks are created.\r\n  }\r\n\r\n  updateChildren(currentTime, deltaTime) {}\r\n\r\n  draw() {\r\n    // Update the model-view matrix.\r\n    mat4.multiply(this._mvMatrix, this._getViewMatrix(), this._worldTransform);\r\n\r\n    // Update the uniform variables.\r\n    this._programVariablesConfig.uniforms['uCameraPosition'] = this._getCameraPosition();\r\n    this._programVariablesConfig.uniforms['uPMatrix'] = this._getProjectionMatrix();\r\n    this._programVariablesConfig.uniforms['uMVMatrix'] = this._mvMatrix;\r\n\r\n    // Draw shapes using the current variables configuration.\r\n    this._programWrapper.draw(this._gl, this._programVariablesConfig);\r\n  }\r\n\r\n  /**\r\n   * Create new stars within the given chunk.\r\n   *\r\n   * @param {Chunk} chunk\r\n   */\r\n  onChunkCreated(chunk) {\r\n    const starsForChunk = [];\r\n    for (let i = 0; i < starsConfig.starCountPerChunk; i++) {\r\n      starsForChunk.push({\r\n        position: StarsController._getRandomPosition(chunk.bounds),\r\n        size: StarsController._getRandomSize(),\r\n        color: StarsController._getRandomColor()\r\n      });\r\n    }\r\n    this._starsPerChunk.set(chunk.id, starsForChunk);\r\n  }\r\n\r\n  /**\r\n   * Remove all stars from the given chunk.\r\n   *\r\n   * @param {Chunk} chunk\r\n   */\r\n  onChunkDestroyed(chunk) {\r\n    this._starsPerChunk.delete(chunk.id);\r\n  }\r\n\r\n  onAllChunksUpdated() {\r\n    this._updateBuffers();\r\n  }\r\n\r\n  /**\r\n   * Initializes the program variables configuration.\r\n   *\r\n   * @protected\r\n   */\r\n  _setUpProgramVariablesConfig() {\r\n    this._positionsConfig = {\r\n      buffer: null,\r\n      size: 3,\r\n      type: this._gl.FLOAT,\r\n      normalized: false,\r\n      stride: 0,\r\n      offset: 0\r\n    };\r\n\r\n    this._sizesConfig = {\r\n      buffer: null,\r\n      size: 1,\r\n      type: this._gl.FLOAT,\r\n      normalized: false,\r\n      stride: 0,\r\n      offset: 0\r\n    };\r\n\r\n    this._colorsConfig = {\r\n      buffer: null,\r\n      size: 3,\r\n      type: this._gl.FLOAT,\r\n      normalized: false,\r\n      stride: 0,\r\n      offset: 0\r\n    };\r\n\r\n    this._programVariablesConfig = {\r\n      attributes: {\r\n        aPosition: this._positionsConfig,\r\n        aSize: this._sizesConfig,\r\n        aColor: this._colorsConfig\r\n      },\r\n      uniforms: {\r\n        uCameraPosition: this._getCameraPosition(),\r\n        uPMatrix: this._getProjectionMatrix(),\r\n        uMVMatrix: this._mvMatrix\r\n      },\r\n      mode: this._gl.POINTS,\r\n      elementCount: null\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Creates flattened arroys of the star positions, sizes, and colors and updates the WebGL buffers\r\n   * with these arrays.\r\n   *\r\n   * @private\r\n   */\r\n  _updateBuffers() {\r\n    const flattenedPositions = [];\r\n    const flattenedSizes = [];\r\n    const flattenedColors = [];\r\n    let elementCount = 0;\r\n\r\n    this._starsPerChunk.forEach(starsForChunk => {\r\n      for (let i = 0, count = starsForChunk.length; i < count; i++, elementCount++) {\r\n        const currentStar = starsForChunk[i];\r\n\r\n        flattenedSizes[elementCount] = currentStar.size;\r\n\r\n        for (let j = 0; j < 3; j++) {\r\n          flattenedPositions[elementCount * 3 + j] = currentStar.position[j];\r\n          flattenedColors[elementCount * 3 + j] = currentStar.color[j];\r\n        }\r\n      }\r\n    });\r\n\r\n    this._positionsConfig.buffer = createBufferFromData(this._gl, flattenedPositions,\r\n        this._gl.ARRAY_BUFFER, this._gl.DYNAMIC_DRAW);\r\n    this._sizesConfig.buffer = createBufferFromData(this._gl, flattenedSizes,\r\n        this._gl.ARRAY_BUFFER, this._gl.DYNAMIC_DRAW);\r\n    this._colorsConfig.buffer = createBufferFromData(this._gl, flattenedColors,\r\n        this._gl.ARRAY_BUFFER, this._gl.DYNAMIC_DRAW);\r\n\r\n    this._programVariablesConfig.elementCount = elementCount;\r\n  }\r\n\r\n  /**\r\n   * @param {Aabb} bounds\r\n   * @returns {vec3}\r\n   * @private\r\n   */\r\n  static _getRandomPosition(bounds) {\r\n    return vec3.fromValues(\r\n        randomFloatInRange(bounds.minX, bounds.maxX),\r\n        randomFloatInRange(bounds.minY, bounds.maxY),\r\n        randomFloatInRange(bounds.minZ, bounds.maxZ));\r\n  }\r\n\r\n  /**\r\n   * @returns {number}\r\n   * @private\r\n   */\r\n  static _getRandomSize() {\r\n    return randomFloatInRange(starsConfig.minSize, starsConfig.maxSize);\r\n  }\r\n\r\n  /**\r\n   * @returns {vec3}\r\n   * @private\r\n   */\r\n  static _getRandomColor() {\r\n    const hsl = {\r\n      h: randomFloatInRange(starsConfig.minHue, starsConfig.maxHue),\r\n      s: randomFloatInRange(starsConfig.minSaturation, starsConfig.maxSaturation),\r\n      l: randomFloatInRange(starsConfig.minLightness, starsConfig.maxLightness)\r\n    };\r\n    const rgb = hslToRgb(hsl);\r\n    return vec3.fromValues(rgb.r, rgb.g, rgb.b);\r\n  }\r\n}\r\n\r\nexport {StarsController};\r\n\r\n/**\r\n * @typedef {Object} Star\r\n * @property {vec3} position\r\n * @property {number} size\r\n * @property {vec3} color\r\n */\r\n","export * from './src/torpedo-controller';\r\nexport * from './src/torpedoes-config';\r\nexport * from './src/torpedoes-controller';\r\n","import {\r\n  getOtherControllerFromCollision,\r\n  CollidablePhysicsModelController,\r\n} from 'gamex';\r\n\r\nimport {flatColorProgramWrapperConfig} from '../../../programs';\r\nimport {torpedoesConfig} from './torpedoes-config';\r\n\r\n/**\r\n * This class controls a torpedo.\r\n */\r\nclass TorpedoController extends CollidablePhysicsModelController {\r\n  /**\r\n   * @param {ModelControllerConfig} modelControllerParams\r\n   * @param {TorpedoConfig} torpedoParams\r\n   * @param {Function} onDestroyedCallback\r\n   */\r\n  constructor(modelControllerParams, torpedoParams, onDestroyedCallback) {\r\n    modelControllerParams.programWrapperId = torpedoesConfig.shaderProgram;\r\n\r\n    const shapeParams = _createShapeParams(torpedoParams);\r\n    const dynamicsParams = _createDynamicsParams(torpedoParams);\r\n    const forceAppliers = [];\r\n\r\n    super(modelControllerParams, dynamicsParams, shapeParams, forceAppliers);\r\n\r\n    this.source = torpedoParams.source;\r\n    this._onDestroyedCallback = onDestroyedCallback;\r\n\r\n    this.modelCtrl._color = vec4.fromValues(torpedoParams.color[0], torpedoParams.color[1],\r\n        torpedoParams.color[2], torpedoesConfig.alpha);\r\n\r\n    // Re-use some methods that are common for the flat-color program.\r\n    this._patchModelController({\r\n      draw: flatColorProgramWrapperConfig.draw,\r\n      _setUpProgramVariablesConfig: flatColorProgramWrapperConfig.setUpProgramVariablesConfig,\r\n    });\r\n  }\r\n\r\n  reset() {\r\n    super.reset();\r\n\r\n    // Clear some unused inherited properties.\r\n    delete this.modelCtrl._normalMatrix;\r\n    delete this._model._vertexNormalsBuffer;\r\n    delete this._model._textureCoordinatesBuffer;\r\n    delete this._model._textureCoordinatesConfig;\r\n    delete this._model._vertexNormalsConfig;\r\n  }\r\n\r\n  /**\r\n   * @param {Collision} collision\r\n   * @returns {boolean} True if this needs the standard collision restitution to proceed.\r\n   */\r\n  handleCollision(collision) {\r\n    const other = getOtherControllerFromCollision(collision, this);\r\n\r\n    // Ignore collisions with the object that created this torpedo (this shouldn't happen, but\r\n    // there's a bug somewhere).\r\n    if (other === this.source) return false;\r\n\r\n    this._onDestroyedCallback(this);\r\n\r\n    const collidableType = getOtherControllerFromCollision(collision, this).constructor.name;\r\n    return collidableType === 'AsteroidController' ? false : true;\r\n  }\r\n}\r\n\r\n/**\r\n * @param {TorpedoConfig} torpedoParams\r\n * @returns {RenderableAndCollidableShapeConfig}\r\n * @private\r\n */\r\nfunction _createShapeParams(torpedoParams) {\r\n  return {\r\n    shapeId: 'CAPSULE',\r\n    collidableShapeId: 'CAPSULE',\r\n    isStationary: false,\r\n    isUsingSphericalNormals: false,\r\n    divisionsCount: 4,\r\n    capsuleEndPointsDistance: torpedoParams.length - torpedoParams.width,\r\n    radius: torpedoParams.width / 2,\r\n    scale: vec3.fromValues(1, 1, 1),\r\n  };\r\n}\r\n\r\n/**\r\n * @param {TorpedoConfig} torpedoParams\r\n * @returns {DynamicsConfig}\r\n * @private\r\n */\r\nfunction _createDynamicsParams(torpedoParams) {\r\n  const momentum = vec3.create();\r\n  vec3.scale(momentum, torpedoParams.velocity, torpedoesConfig.mass);\r\n  return {\r\n    mass: torpedoesConfig.mass,\r\n    position: torpedoParams.position,\r\n    momentum: momentum,\r\n    orientation: torpedoParams.orientation,\r\n  };\r\n}\r\n\r\nexport {TorpedoController};\r\n\r\n/**\r\n * @typedef {Object} TorpedoConfig\r\n * @property {vec3} position\r\n * @property {vec3} velocity\r\n * @property {vec3} orientation\r\n * @property {number} length\r\n * @property {number} width\r\n * @property {vec3} color\r\n * @property {ModelController} source\r\n */\r\n","/**\r\n * This module handles configuration parameters relating to the torpedo model.\r\n */\r\n\r\nconst torpedoesConfig = {};\r\n\r\ntorpedoesConfig.shaderProgram = 'flat-color-program';\r\n\r\ntorpedoesConfig.mass = 10;\r\n\r\ntorpedoesConfig.alpha = {\r\n  start: 0.9,\r\n  min: 0,\r\n  max: 1,\r\n};\r\n\r\n// Should probably try to keep this in-sync with sceneConfig.chunkSideLength.\r\ntorpedoesConfig.removalDistance = 300;\r\n\r\ntorpedoesConfig._removalCheckThrottleDelay = 300;\r\ntorpedoesConfig._removalSquaredDistance = null;\r\n\r\nfunction _updateRemovalSquaredDistance() {\r\n  torpedoesConfig._removalSquaredDistance =\r\n      torpedoesConfig.removalDistance * torpedoesConfig.removalDistance;\r\n}\r\n\r\n_updateRemovalSquaredDistance();\r\n\r\nconst torpedoesFolderConfig = {\r\n  label: 'Torpedoes',\r\n  config: torpedoesConfig,\r\n  isOpen: false,\r\n  onChangeListeners: {\r\n    'removalDistance': _updateRemovalSquaredDistance,\r\n  },\r\n};\r\n\r\nexport {torpedoesConfig, torpedoesFolderConfig};\r\n","import {\r\n  ModelGroupController,\r\n  throttle,\r\n} from 'gamex';\r\n\r\nimport {TorpedoController} from './torpedo-controller';\r\nimport {torpedoesConfig} from './torpedoes-config';\r\n\r\n/**\r\n * This class controls all torpedoes in the scene.\r\n *\r\n * - New torpedoes are added from either the ship or a UFO.\r\n * - Old torpedoes are removed when they move too far from the ship.\r\n */\r\nclass TorpedoesController extends ModelGroupController {\r\n  /**\r\n   * @param {ModelGroupControllerConfig} modelControllerParams\r\n   * @param {Function.<vec3>} getShipPosition\r\n   */\r\n  constructor(modelControllerParams, getShipPosition) {\r\n    super(modelControllerParams);\r\n    this._getShipPosition = getShipPosition;\r\n    this._throttledRemoveDistantTorpedoes =\r\n        throttle(() => this._removeDistantTorpedoes(), torpedoesConfig._removalCheckThrottleDelay);\r\n  }\r\n\r\n  reset() {\r\n    this.clearModelControllers();\r\n  }\r\n\r\n  /**\r\n   * @param {TorpedoConfig} torpedoParams\r\n   */\r\n  createTorpedo(torpedoParams) {\r\n    const modelControllerParams = {\r\n      gl: this._gl,\r\n      getViewMatrix: this._getViewMatrix,\r\n      getProjectionMatrix: this._getProjectionMatrix,\r\n      getParentWorldTransform: this._getParentWorldTransform,\r\n    };\r\n    const torpedo = new TorpedoController(modelControllerParams, torpedoParams,\r\n        torpedo => this._onModelControllerDestroyed(torpedo));\r\n    this._startModelController(torpedo);\r\n  }\r\n\r\n  _removeDistantTorpedoes() {\r\n    this._removeDistantModelControllers(this._getShipPosition(),\r\n        torpedoesConfig._removalSquaredDistance);\r\n  }\r\n\r\n  /**\r\n   * @param {DOMHighResTimeStamp} currentTime\r\n   * @param {DOMHighResTimeStamp} deltaTime\r\n   */\r\n  update(currentTime, deltaTime) {\r\n    this._throttledRemoveDistantTorpedoes();\r\n  }\r\n\r\n  /**\r\n   * @param {string} id\r\n   */\r\n  // TODO: Call this from dat.GUI trigger.\r\n  updateProgramWrapper(id) {\r\n    this._modelCtrls.forEach(object => object.programWrapperId = id);\r\n  }\r\n}\r\n\r\nexport {TorpedoesController};\r\n","export * from './src/ufo-controller';\r\nexport * from './src/ufos-config';\r\nexport * from './src/ufos-controller';\r\n","import {\r\n  CollidablePhysicsModelController,\r\n} from 'gamex';\r\n\r\n/**\r\n * This class controls an ufo.\r\n */\r\nclass UfoController extends CollidablePhysicsModelController {\r\n  // TODO\r\n\r\n  // TODO: This old logic from AsteroidsController should be useful for calculating intercept courses\r\n  //       for the UFOs to start off with.\r\n  // /**\r\n  //  * Calculates a random velocity that moves the asteroid close to the ship.\r\n  //  *\r\n  //  * @param {vec3} asteroidPosition\r\n  //  * @returns {vec3}\r\n  //  * @private\r\n  //  */\r\n  // _createRandomAsteroidVelocity(asteroidPosition) {\r\n  //   const shipPosition = this._getShipPosition();\r\n  //   const shipVelocity = this._getShipVelocity();\r\n  //\r\n  //   // Calculate a random speed for the asteroid.\r\n  //   const asteroidSpeed = randomFloatInRange(asteroidsConfig.minSpeed, asteroidsConfig.maxSpeed);\r\n  //\r\n  //   // Calculate in what direction the asteroid needs to travel in order to collide with the ship if\r\n  //   // the ship were to maintain it's current velocity.\r\n  //   const interceptVelocity = vec3.create();\r\n  //   calculateInterceptVelocity(\r\n  //       interceptVelocity, asteroidPosition, asteroidSpeed, shipPosition, shipVelocity);\r\n  //\r\n  //   // Add a random deviation to the velocity calculated above.\r\n  //   addRandomRotationToVector(interceptVelocity,\r\n  //       asteroidsConfig.minInterceptVelocityDeviationAngle,\r\n  //       asteroidsConfig.maxInterceptVelocityDeviationAngle);\r\n  //\r\n  //   return interceptVelocity;\r\n  // }\r\n}\r\n","/**\r\n * This module handles configuration parameters relating to the ufos model.\r\n */\r\n\r\nconst ufosConfig = {};\r\n\r\nufosConfig.texturePath = 'images/textures/metal/metal1.png';\r\nufosConfig.initialUfoCount = 10;\r\nufosConfig.initialUfoDistanceFromShip = 40;\r\n\r\n// Scene coordinates per millisecond.\r\nufosConfig.minSpeed = 0.0001;\r\nufosConfig.maxSpeed = 0.001;\r\n\r\nufosConfig.minInterceptVelocityDeviationAngle = Math.PI * 0.1;\r\nufosConfig.maxInterceptVelocityDeviationAngle = Math.PI * 0.3;\r\n\r\nconst ufosFolderConfig = {\r\n  label: 'UFOs',\r\n  config: ufosConfig,\r\n  isOpen: false\r\n};\r\n\r\nexport {ufosConfig, ufosFolderConfig};\r\n","import {\r\n  ModelGroupController,\r\n} from 'gamex';\r\n\r\n/**\r\n * This class controls the collection of UFOs..\r\n */\r\nclass UfosController extends ModelGroupController {\r\n  // TODO\r\n}\r\n","/**\r\n * This module defines the configuration for a WebGL program that combines two images together.\r\n */\r\n\r\nimport {programWrapperStore, create2DSquarePositionsConfig} from 'gamex';\r\n\r\nconst blendProgramWrapperConfig = {};\r\n\r\nblendProgramWrapperConfig.id = 'blend-program';\r\n\r\n// The build system moves shader files to dist/shaders/.\r\nblendProgramWrapperConfig.vertexShaderPath = 'shaders/post-processor-shader.vert';\r\nblendProgramWrapperConfig.fragmentShaderPath = 'shaders/blend-shader.frag';\r\n\r\nlet _positionsConfig = null;\r\nlet _programVariablesConfig = null;\r\n\r\n/** @param {WebGLRenderingContext} gl */\r\nblendProgramWrapperConfig.initialize = gl => {\r\n  _positionsConfig = create2DSquarePositionsConfig(gl);\r\n  _programVariablesConfig = {\r\n    attributes: {\r\n      aVertexPosition: _positionsConfig,\r\n    },\r\n    uniforms: {\r\n      uModelsSampler: null,\r\n      uBrightnessSampler: null,\r\n    },\r\n    mode: gl.TRIANGLES,\r\n    elementCount: 6,\r\n  };\r\n};\r\n\r\n/**\r\n * @param {WebGLRenderingContext} gl\r\n * @param {Array.<string>} inputFramebufferIds\r\n * @returns {ProgramVariablesConfig}\r\n */\r\nblendProgramWrapperConfig.getProgramVariablesConfig = (gl, inputFramebufferIds) => {\r\n  _programVariablesConfig.uniforms.uModelsSampler =\r\n      programWrapperStore.getTexture(inputFramebufferIds[0]);\r\n  _programVariablesConfig.uniforms.uBrightnessSampler =\r\n      programWrapperStore.getTexture(inputFramebufferIds[1]);\r\n  return _programVariablesConfig;\r\n};\r\n\r\nexport {blendProgramWrapperConfig};\r\n","/**\r\n * This module defines the configuration for a WebGL program that processes an image in order to\r\n * render bloom for the bright areas.\r\n */\r\n\r\nimport {\r\n  getViewportHeight,\r\n  getViewportWidth,\r\n  MODELS_FRAMEBUFFER_ID,\r\n  programWrapperStore,\r\n} from 'gamex';\r\n\r\nimport {blendProgramWrapperConfig}  from './blend-program/blend-program-config';\r\nimport {blurHorizontalProgramWrapperConfig}  from './blur-horizontal-program/blur-horizontal-program-config';\r\nimport {blurVerticalProgramWrapperConfig}  from './blur-vertical-program/blur-vertical-program-config';\r\nimport {brightnessProgramWrapperConfig}  from './brightness-filter-program/brightness-filter-program-config';\r\n\r\nconst _BLOOM_FRAMEBUFFER_1_ID = 'bloom-framebuffer-1';\r\nconst _BLOOM_FRAMEBUFFER_2_ID = 'bloom-framebuffer-2';\r\n\r\nconst bloomProgramWrapperConfig = {};\r\n\r\nbloomProgramWrapperConfig.id = 'bloom-program';\r\n\r\nbloomProgramWrapperConfig.renderPriority = 1;\r\n\r\nbloomProgramWrapperConfig.isAPostProcessor = true;\r\n\r\nbloomProgramWrapperConfig.childrenProgramConfigs = [\r\n  brightnessProgramWrapperConfig,\r\n  blurHorizontalProgramWrapperConfig,\r\n  blurVerticalProgramWrapperConfig,\r\n  blendProgramWrapperConfig,\r\n];\r\n\r\nbloomProgramWrapperConfig.childrenProgramsToDraw = [\r\n  {\r\n    programId: brightnessProgramWrapperConfig.id,\r\n    inputFramebufferIds: [MODELS_FRAMEBUFFER_ID],\r\n    outputFramebufferId: _BLOOM_FRAMEBUFFER_1_ID,\r\n  },\r\n  {\r\n    programId: blurHorizontalProgramWrapperConfig.id,\r\n    inputFramebufferIds: [_BLOOM_FRAMEBUFFER_1_ID],\r\n    outputFramebufferId: _BLOOM_FRAMEBUFFER_2_ID,\r\n  },\r\n  {\r\n    programId: blurVerticalProgramWrapperConfig.id,\r\n    inputFramebufferIds: [_BLOOM_FRAMEBUFFER_2_ID],\r\n    outputFramebufferId: _BLOOM_FRAMEBUFFER_1_ID,\r\n  },\r\n  {\r\n    programId: blurHorizontalProgramWrapperConfig.id,\r\n    inputFramebufferIds: [_BLOOM_FRAMEBUFFER_1_ID],\r\n    outputFramebufferId: _BLOOM_FRAMEBUFFER_2_ID,\r\n  },\r\n  {\r\n    programId: blurVerticalProgramWrapperConfig.id,\r\n    inputFramebufferIds: [_BLOOM_FRAMEBUFFER_2_ID],\r\n    outputFramebufferId: _BLOOM_FRAMEBUFFER_1_ID,\r\n  },\r\n  {\r\n    programId: blurHorizontalProgramWrapperConfig.id,\r\n    inputFramebufferIds: [_BLOOM_FRAMEBUFFER_1_ID],\r\n    outputFramebufferId: _BLOOM_FRAMEBUFFER_2_ID,\r\n  },\r\n  {\r\n    programId: blurVerticalProgramWrapperConfig.id,\r\n    inputFramebufferIds: [_BLOOM_FRAMEBUFFER_2_ID],\r\n    outputFramebufferId: _BLOOM_FRAMEBUFFER_1_ID,\r\n  },\r\n  {\r\n    programId: blurHorizontalProgramWrapperConfig.id,\r\n    inputFramebufferIds: [_BLOOM_FRAMEBUFFER_1_ID],\r\n    outputFramebufferId: _BLOOM_FRAMEBUFFER_2_ID,\r\n  },\r\n  {\r\n    programId: blurVerticalProgramWrapperConfig.id,\r\n    inputFramebufferIds: [_BLOOM_FRAMEBUFFER_2_ID],\r\n    outputFramebufferId: _BLOOM_FRAMEBUFFER_1_ID,\r\n  },\r\n  {\r\n    programId: blendProgramWrapperConfig.id,\r\n    inputFramebufferIds: [MODELS_FRAMEBUFFER_ID, _BLOOM_FRAMEBUFFER_1_ID],\r\n    // TODO: Add support for not rendering the last sub-program directly to the canvas if we ever\r\n    // add a second post-processing program.\r\n    outputFramebufferId: null,\r\n  },\r\n];\r\n\r\n// Ping-pong framebuffers.\r\nbloomProgramWrapperConfig.childrenFramebufferIds =\r\n    [_BLOOM_FRAMEBUFFER_1_ID, _BLOOM_FRAMEBUFFER_2_ID];\r\n\r\n/** @param {WebGLRenderingContext} gl */\r\nbloomProgramWrapperConfig.webGLStateSetter = gl => {\r\n  gl.disable(gl.DEPTH_TEST);\r\n  gl.disable(gl.BLEND);\r\n};\r\n\r\nexport {bloomProgramWrapperConfig};\r\n","/**\r\n * This module defines the configuration for a WebGL program that processes an image to blur pixels\r\n * horizontally.\r\n */\r\n\r\nimport {\r\n  programWrapperStore,\r\n  create2DSquarePositionsConfig,\r\n  getViewportHeight,\r\n  getViewportWidth,\r\n} from 'gamex';\r\n\r\nconst blurHorizontalProgramWrapperConfig = {};\r\n\r\nblurHorizontalProgramWrapperConfig.id = 'blur-horizontal-program';\r\n\r\n// The build system moves shader files to dist/shaders/.\r\nblurHorizontalProgramWrapperConfig.vertexShaderPath = 'shaders/post-processor-shader.vert';\r\nblurHorizontalProgramWrapperConfig.fragmentShaderPath = 'shaders/blur-horizontal-shader.frag';\r\n\r\nlet _positionsConfig = null;\r\nlet _programVariablesConfig = null;\r\n\r\n/** @param {WebGLRenderingContext} gl */\r\nblurHorizontalProgramWrapperConfig.initialize = gl => {\r\n  _positionsConfig = create2DSquarePositionsConfig(gl);\r\n  _programVariablesConfig = {\r\n    attributes: {\r\n      aVertexPosition: _positionsConfig,\r\n    },\r\n    uniforms: {\r\n      uSamplerSize: vec2.fromValues(getViewportWidth(), getViewportHeight()),\r\n      uSampler: null,\r\n    },\r\n    mode: gl.TRIANGLES,\r\n    elementCount: 6,\r\n  };\r\n};\r\n\r\n/**\r\n * @param {WebGLRenderingContext} gl\r\n * @param {Array.<string>} inputFramebufferIds\r\n * @returns {ProgramVariablesConfig}\r\n */\r\nblurHorizontalProgramWrapperConfig.getProgramVariablesConfig = (gl, inputFramebufferIds) => {\r\n  _programVariablesConfig.uniforms.uSampler =\r\n      programWrapperStore.getTexture(inputFramebufferIds[0]);\r\n  vec2.set(_programVariablesConfig.uniforms.uSamplerSize, getViewportWidth(), getViewportHeight());\r\n  return _programVariablesConfig;\r\n};\r\n\r\nexport {blurHorizontalProgramWrapperConfig};\r\n","/**\r\n * This module defines the configuration for a WebGL program that processes an image to blur pixels\r\n * vertically.\r\n */\r\n\r\nimport {\r\n  programWrapperStore,\r\n  create2DSquarePositionsConfig,\r\n  getViewportHeight,\r\n  getViewportWidth,\r\n} from 'gamex';\r\n\r\nconst blurVerticalProgramWrapperConfig = {};\r\n\r\nblurVerticalProgramWrapperConfig.id = 'blur-vertical-program';\r\n\r\n// The build system moves shader files to dist/shaders/.\r\nblurVerticalProgramWrapperConfig.vertexShaderPath = 'shaders/post-processor-shader.vert';\r\nblurVerticalProgramWrapperConfig.fragmentShaderPath = 'shaders/blur-vertical-shader.frag';\r\n\r\nlet _positionsConfig = null;\r\nlet _programVariablesConfig = null;\r\n\r\n/** @param {WebGLRenderingContext} gl */\r\nblurVerticalProgramWrapperConfig.initialize = gl => {\r\n  _positionsConfig = create2DSquarePositionsConfig(gl);\r\n  _programVariablesConfig = {\r\n    attributes: {\r\n      aVertexPosition: _positionsConfig,\r\n    },\r\n    uniforms: {\r\n      uSamplerSize: vec2.fromValues(getViewportWidth(), getViewportHeight()),\r\n      uSampler: null,\r\n    },\r\n    mode: gl.TRIANGLES,\r\n    elementCount: 6,\r\n  };\r\n};\r\n\r\n/**\r\n * @param {WebGLRenderingContext} gl\r\n * @param {Array.<string>} inputFramebufferIds\r\n * @returns {ProgramVariablesConfig}\r\n */\r\nblurVerticalProgramWrapperConfig.getProgramVariablesConfig = (gl, inputFramebufferIds) => {\r\n  _programVariablesConfig.uniforms.uSampler =\r\n      programWrapperStore.getTexture(inputFramebufferIds[0]);\r\n  vec2.set(_programVariablesConfig.uniforms.uSamplerSize, getViewportWidth(), getViewportHeight());\r\n  return _programVariablesConfig;\r\n};\r\n\r\nexport {blurVerticalProgramWrapperConfig};\r\n","/**\r\n * This module defines the configuration for a WebGL program that processes an image to render only\r\n * the bright areas.\r\n */\r\n\r\nimport {programWrapperStore, create2DSquarePositionsConfig} from 'gamex';\r\n\r\nconst brightnessProgramWrapperConfig = {};\r\n\r\nbrightnessProgramWrapperConfig.id = 'brightness-program';\r\n\r\n// The build system moves shader files to dist/shaders/.\r\nbrightnessProgramWrapperConfig.vertexShaderPath = 'shaders/post-processor-shader.vert';\r\nbrightnessProgramWrapperConfig.fragmentShaderPath = 'shaders/brightness-filter-shader.frag';\r\n\r\nlet _positionsConfig = null;\r\nlet _programVariablesConfig = null;\r\n\r\n/** @param {WebGLRenderingContext} gl */\r\nbrightnessProgramWrapperConfig.initialize = gl => {\r\n  _positionsConfig = create2DSquarePositionsConfig(gl);\r\n  _programVariablesConfig = {\r\n    attributes: {\r\n      aVertexPosition: _positionsConfig,\r\n    },\r\n    uniforms: {\r\n      uSampler: null,\r\n    },\r\n    mode: gl.TRIANGLES,\r\n    elementCount: 6,\r\n  };\r\n};\r\n\r\n/**\r\n * @param {WebGLRenderingContext} gl\r\n * @param {Array.<string>} inputFramebufferIds\r\n * @returns {ProgramVariablesConfig}\r\n */\r\nbrightnessProgramWrapperConfig.getProgramVariablesConfig = (gl, inputFramebufferIds) => {\r\n  _programVariablesConfig.uniforms.uSampler =\r\n      programWrapperStore.getTexture(inputFramebufferIds[0]);\r\n  return _programVariablesConfig;\r\n};\r\n\r\nexport {brightnessProgramWrapperConfig};\r\n","/**\r\n * This module defines the configuration for a WebGL program that renders objects with just a plain,\r\n * flat color.\r\n */\r\n\r\nconst flatColorProgramWrapperConfig = {};\r\n\r\nflatColorProgramWrapperConfig.id = 'flat-color-program';\r\n\r\n// The build system moves shader files to dist/shaders/.\r\nflatColorProgramWrapperConfig.vertexShaderPath = 'shaders/flat-color-shader.vert';\r\nflatColorProgramWrapperConfig.fragmentShaderPath = 'shaders/flat-color-shader.frag';\r\n\r\n// This should render after the stars; all stars should appear behind the other objects.\r\nflatColorProgramWrapperConfig.renderPriority = 3;\r\n\r\n/**\r\n * @param {WebGLRenderingContext} gl\r\n */\r\nflatColorProgramWrapperConfig.webGLStateSetter = gl => {\r\n  // Turn on depth testing.\r\n  gl.enable(gl.DEPTH_TEST);\r\n  gl.depthFunc(gl.LEQUAL);\r\n\r\n  // Turn on alpha blending.\r\n  gl.enable(gl.BLEND);\r\n  gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\r\n};\r\n\r\n/**\r\n * This can be assigned as the draw method for a class that extends StandardModelController and uses\r\n * the flat-color program.\r\n *\r\n * @this StandardModelController\r\n */\r\nflatColorProgramWrapperConfig.draw = function() {\r\n  // Update the model-view matrix.\r\n  mat4.multiply(this._mvMatrix, this._getViewMatrix(), this._worldTransform);\r\n\r\n  // Update the uniform variables.\r\n  this._programVariablesConfig.uniforms['uPMatrix'] = this._getProjectionMatrix();\r\n  this._programVariablesConfig.uniforms['uMVMatrix'] = this._mvMatrix;\r\n\r\n  // Draw shapes using the current variables configuration.\r\n  this._programWrapper.draw(this._gl, this._programVariablesConfig, 0, this._model.elementCount);\r\n};\r\n\r\n/**\r\n * This can be assigned as the _setUpProgramVariablesConfig method for a class that extends\r\n * StandardModelController and uses the flat-color program.\r\n *\r\n * @this StandardModelController\r\n */\r\nflatColorProgramWrapperConfig.setUpProgramVariablesConfig = function() {\r\n  this._programVariablesConfig = {\r\n    attributes: {\r\n      aVertexPosition: this._model.vertexPositionsConfig,\r\n    },\r\n    uniforms: {\r\n      uPMatrix: this._getProjectionMatrix(),\r\n      uMVMatrix: this._mvMatrix,\r\n      uColor: this._color,\r\n    },\r\n    mode: this._model.mode,\r\n    vertexIndices: this._model.vertexIndicesBuffer,\r\n    elementCount: this._model.elementCount\r\n  };\r\n};\r\n\r\nexport {flatColorProgramWrapperConfig};\r\n","/**\r\n * This module defines the configuration for a WebGL program that renders a general model--that is,\r\n * this program renders everything but the stars.\r\n *\r\n * This program renders three-dimensional shapes with textures and Blinn-Phong shading.\r\n */\r\n\r\nconst generalModelProgramWrapperConfig = {};\r\n\r\ngeneralModelProgramWrapperConfig.id = 'general-model-program';\r\n\r\n// The build system moves shader files to dist/shaders/.\r\ngeneralModelProgramWrapperConfig.vertexShaderPath = 'shaders/general-model-shader.vert';\r\ngeneralModelProgramWrapperConfig.fragmentShaderPath = 'shaders/general-model-shader.frag';\r\n\r\n// This should render after the stars; all stars should appear behind the other objects.\r\ngeneralModelProgramWrapperConfig.renderPriority = 2;\r\n\r\n/**\r\n * @param {WebGLRenderingContext} gl\r\n */\r\ngeneralModelProgramWrapperConfig.webGLStateSetter = gl => {\r\n  // Turn off alpha blending.\r\n  gl.disable(gl.BLEND);\r\n\r\n  // Turn on depth testing.\r\n  gl.enable(gl.DEPTH_TEST);\r\n  gl.depthFunc(gl.LEQUAL);\r\n};\r\n\r\nexport {generalModelProgramWrapperConfig};\r\n","export * from './blend-program/blend-program-config';\r\nexport * from './blur-horizontal-program/blur-horizontal-program-config';\r\nexport * from './blur-vertical-program/blur-vertical-program-config';\r\nexport * from './brightness-filter-program/brightness-filter-program-config';\r\nexport * from './flat-color-program/flat-color-program-config';\r\nexport * from './general-model-program/general-model-program-config';\r\nexport * from './star-points-program/star-points-program-config';\r\n\r\nexport * from './bloom-program-config';\r\n","/**\r\n * This module defines the configuration for a WebGL program that renders the stars.\r\n *\r\n * This program renders points with transparent radial gradients.\r\n */\r\n\r\nconst starPointsProgramWrapperConfig = {};\r\n\r\nstarPointsProgramWrapperConfig.id = 'star-points-program';\r\n\r\n// The build system moves shader files to dist/shaders/.\r\nstarPointsProgramWrapperConfig.vertexShaderPath = 'shaders/star-points-shader.vert';\r\nstarPointsProgramWrapperConfig.fragmentShaderPath = 'shaders/star-points-shader.frag';\r\n\r\n// This should render before the other objects; all stars should appear behind the other objects.\r\nstarPointsProgramWrapperConfig.renderPriority = 1;\r\n\r\n/**\r\n * @param {WebGLRenderingContext} gl\r\n */\r\nstarPointsProgramWrapperConfig.webGLStateSetter = gl => {\r\n  // Turn off depth testing.\r\n  gl.disable(gl.DEPTH_TEST);\r\n\r\n  // Turn on alpha blending.\r\n  gl.enable(gl.BLEND);\r\n  gl.blendFunc(gl.SRC_ALPHA, gl.ONE);\r\n};\r\n\r\nexport {starPointsProgramWrapperConfig};\r\n","export * from './src/geometry';\r\n","/**\r\n * This module defines a collection of static geometry utility functions.\r\n */\r\n\r\n/**\r\n * Calculates the velocity needed for an object from sourcePosition moving with sourceSpeed to\r\n * intercept with an object moving from targetPosition with targetVelocity.\r\n *\r\n * The resulting velocity is assigned to the given interceptVelocity output parameter.\r\n *\r\n * If sourceSpeed is not fast enough to intercept the target, then interceptVelocity will be\r\n * assigned a value parallel to targetVelocity.\r\n *\r\n * @param {vec3} interceptVelocity (Output parameter)\r\n * @param {vec3} sourcePosition\r\n * @param {number} sourceSpeed\r\n * @param {vec3} targetPosition\r\n * @param {vec3} targetVelocity\r\n * @returns {boolean} True if sourceSpeed was fast enough to intercept the target.\r\n */\r\nfunction calculateInterceptVelocity(interceptVelocity, sourcePosition, sourceSpeed, targetPosition,\r\n                                    targetVelocity) {\r\n  // Calculate the direction from the source to the target.\r\n  const directionToTarget = vec3.create();\r\n  vec3.subtract(directionToTarget, targetPosition, sourcePosition);\r\n  vec3.normalize(directionToTarget, directionToTarget);\r\n\r\n  // Decompose the target's velocity into two parts:\r\n  // - the part parallel to directionToTarget,\r\n  // - the part orthogonal to directionToTarget.\r\n\r\n  // The parallel component.\r\n  const targetVelocityParallelComponent = vec3.create();\r\n  const parallelComponentScale = vec3.dot(targetVelocity, directionToTarget);\r\n  vec3.scale(targetVelocityParallelComponent, directionToTarget, parallelComponentScale);\r\n\r\n  // The orthogonal component.\r\n  const targetVelocityOrthogonalComponent = vec3.create();\r\n  vec3.subtract(targetVelocityOrthogonalComponent, targetVelocity, targetVelocityParallelComponent);\r\n\r\n  const orthogonalSpeed = vec3.length(targetVelocityOrthogonalComponent);\r\n\r\n  const isSourceFastEnoughToInterceptTarget = orthogonalSpeed < sourceSpeed;\r\n\r\n  if (!isSourceFastEnoughToInterceptTarget) {\r\n    // Since source is not fast enough to intercept the target, give it a velocity that is parallel\r\n    // to targetVelocity.\r\n    vec3.normalize(interceptVelocity, targetVelocity);\r\n    vec3.scale(interceptVelocity, interceptVelocity, sourceSpeed);\r\n  } else {\r\n    const parallelSpeed = Math.sqrt(sourceSpeed * sourceSpeed - orthogonalSpeed * orthogonalSpeed);\r\n    const sourceVelocityParallelComponent = vec3.create();\r\n    vec3.scale(sourceVelocityParallelComponent, directionToTarget, parallelSpeed);\r\n    vec3.add(interceptVelocity, sourceVelocityParallelComponent, targetVelocityOrthogonalComponent);\r\n  }\r\n\r\n  return isSourceFastEnoughToInterceptTarget;\r\n}\r\n\r\nexport {\r\n  calculateInterceptVelocity,\r\n};\r\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvZ2FtZXgvaW5kZXguanMiLCJub2RlX21vZHVsZXMvZ2FtZXgvc3JjL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2dhbWV4L3NyYy9zcmMvY29sbGlkYWJsZS1waHlzaWNzLW1vZGVsLWNvbnRyb2xsZXIuanMiLCJub2RlX21vZHVsZXMvZ2FtZXgvc3JjL3NyYy9jb25maWctY29udHJvbGxlci5qcyIsIm5vZGVfbW9kdWxlcy9nYW1leC9zcmMvc3JjL2dhbWUtY29udHJvbGxlci5qcyIsIm5vZGVfbW9kdWxlcy9nYW1leC9zcmMvc3JjL2dhbWUtc2NlbmUuanMiLCJub2RlX21vZHVsZXMvZ2FtZXgvc3JjL3NyYy9pbnB1dC1jb250cm9sbGVyLmpzIiwibm9kZV9tb2R1bGVzL2dhbWV4L3NyYy9zcmMvcGh5c2ljcy1tb2RlbC1jb250cm9sbGVyLmpzIiwibm9kZV9tb2R1bGVzL2dhbWV4L3NyYy9zcmMvc3ByaW5nLWZvbGxvdy1jYW1lcmEuanMiLCJub2RlX21vZHVsZXMvZ2FtZXgvc3JjL3dhbGwvaW5kZXguanMiLCJub2RlX21vZHVsZXMvZ2FtZXgvc3JjL3dhbGwvc3JjL3dhbGwtY29sbGlkYWJsZS5qcyIsIm5vZGVfbW9kdWxlcy9nYW1leC9zcmMvd2FsbC9zcmMvd2FsbC1jb250cm9sbGVyLmpzIiwibm9kZV9tb2R1bGVzL2dyYWZ4L3NyYy9jYW1lcmFzL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2dyYWZ4L3NyYy9jYW1lcmFzL3NyYy9jYW1lcmEuanMiLCJub2RlX21vZHVsZXMvZ3JhZngvc3JjL2NhbWVyYXMvc3JjL2ZpcnN0LXBlcnNvbi1jYW1lcmEuanMiLCJub2RlX21vZHVsZXMvZ3JhZngvc3JjL2NhbWVyYXMvc3JjL2ZpeGVkLWNhbWVyYS5qcyIsIm5vZGVfbW9kdWxlcy9ncmFmeC9zcmMvY2FtZXJhcy9zcmMvZml4ZWQtZm9sbG93LWNhbWVyYS5qcyIsIm5vZGVfbW9kdWxlcy9ncmFmeC9zcmMvY2FtZXJhcy9zcmMvZm9sbG93LWNhbWVyYS5qcyIsIm5vZGVfbW9kdWxlcy9ncmFmeC9zcmMvY2FtZXJhcy9zcmMvb3ZlcmhlYWQtY2FtZXJhLmpzIiwibm9kZV9tb2R1bGVzL2dyYWZ4L3NyYy9jYW1lcmFzL3NyYy90aGlyZC1wZXJzb24tY2FtZXJhLmpzIiwibm9kZV9tb2R1bGVzL2dyYWZ4L3NyYy9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9ncmFmeC9zcmMvbW9kZWxzL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2dyYWZ4L3NyYy9tb2RlbHMvc3JjL2RlZmF1bHQtbW9kZWwuanMiLCJub2RlX21vZHVsZXMvZ3JhZngvc3JjL21vZGVscy9zcmMvaW52aXNpYmxlLW1vZGVsLWNvbnRyb2xsZXIuanMiLCJub2RlX21vZHVsZXMvZ3JhZngvc3JjL21vZGVscy9zcmMvbW9kZWwtY29udHJvbGxlci5qcyIsIm5vZGVfbW9kdWxlcy9ncmFmeC9zcmMvbW9kZWxzL3NyYy9tb2RlbC1ncm91cC1jb250cm9sbGVyLmpzIiwibm9kZV9tb2R1bGVzL2dyYWZ4L3NyYy9tb2RlbHMvc3JjL21vZGVsLmpzIiwibm9kZV9tb2R1bGVzL2dyYWZ4L3NyYy9tb2RlbHMvc3JjL3N0YW5kYXJkLW1vZGVsLWNvbnRyb2xsZXIuanMiLCJub2RlX21vZHVsZXMvZ3JhZngvc3JjL3Byb2dyYW0td3JhcHBlci9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9ncmFmeC9zcmMvcHJvZ3JhbS13cmFwcGVyL3NyYy9ncm91cC1wcm9ncmFtLXdyYXBwZXIuanMiLCJub2RlX21vZHVsZXMvZ3JhZngvc3JjL3Byb2dyYW0td3JhcHBlci9zcmMvcHJvZ3JhbS13cmFwcGVyLXN0b3JlLmpzIiwibm9kZV9tb2R1bGVzL2dyYWZ4L3NyYy9wcm9ncmFtLXdyYXBwZXIvc3JjL3Byb2dyYW0td3JhcHBlci5qcyIsIm5vZGVfbW9kdWxlcy9ncmFmeC9zcmMvcHJvZ3JhbS13cmFwcGVyL3NyYy90ZXh0dXJlLXN0b3JlLmpzIiwibm9kZV9tb2R1bGVzL2dyYWZ4L3NyYy9wcm9ncmFtLXdyYXBwZXIvc3JjL3VuaWZvcm0tc2V0dGVyLmpzIiwibm9kZV9tb2R1bGVzL2dyYWZ4L3NyYy9yZW5kZXJhYmxlLXNoYXBlcy9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9ncmFmeC9zcmMvcmVuZGVyYWJsZS1zaGFwZXMvc3JjL3JlbmRlcmFibGUtc2hhcGUtZmFjdG9yeS5qcyIsIm5vZGVfbW9kdWxlcy9ncmFmeC9zcmMvcmVuZGVyYWJsZS1zaGFwZXMvc3JjL3JlbmRlcmFibGUtc2hhcGUtc3RvcmUuanMiLCJub2RlX21vZHVsZXMvZ3JhZngvc3JjL3JlbmRlcmFibGUtc2hhcGVzL3NyYy9zaGFwZS1jb25maWdzL2NhcHN1bGUtcmVuZGVyYWJsZS1zaGFwZS5qcyIsIm5vZGVfbW9kdWxlcy9ncmFmeC9zcmMvcmVuZGVyYWJsZS1zaGFwZXMvc3JjL3NoYXBlLWNvbmZpZ3MvY3ViZS1yZW5kZXJhYmxlLXNoYXBlLmpzIiwibm9kZV9tb2R1bGVzL2dyYWZ4L3NyYy9yZW5kZXJhYmxlLXNoYXBlcy9zcmMvc2hhcGUtY29uZmlncy9pY29zYWhlZHJvbi1yZW5kZXJhYmxlLXNoYXBlLmpzIiwibm9kZV9tb2R1bGVzL2dyYWZ4L3NyYy9yZW5kZXJhYmxlLXNoYXBlcy9zcmMvc2hhcGUtY29uZmlncy9pY29zcGhlcmUtcmVuZGVyYWJsZS1zaGFwZS5qcyIsIm5vZGVfbW9kdWxlcy9ncmFmeC9zcmMvcmVuZGVyYWJsZS1zaGFwZXMvc3JjL3NoYXBlLWNvbmZpZ3MvbGF0LWxvbmctc3BoZXJlLXJlbmRlcmFibGUtc2hhcGUuanMiLCJub2RlX21vZHVsZXMvZ3JhZngvc3JjL3JlbmRlcmFibGUtc2hhcGVzL3NyYy9zaGFwZS1jb25maWdzL3RldHJhaGVkcm9uLXJlbmRlcmFibGUtc2hhcGUuanMiLCJub2RlX21vZHVsZXMvZ3JhZngvc3JjL3NyYy9ncmFmeC1jb250cm9sbGVyLmpzIiwibm9kZV9tb2R1bGVzL2dyYWZ4L3NyYy9zcmMvbGlnaHQuanMiLCJub2RlX21vZHVsZXMvZ3JhZngvc3JjL3NyYy9zY2VuZS5qcyIsIm5vZGVfbW9kdWxlcy9ncmFmeC9zcmMvdXRpbC9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9ncmFmeC9zcmMvdXRpbC9zcmMvZ2VvbWV0cnkuanMiLCJub2RlX21vZHVsZXMvZ3JhZngvc3JjL3V0aWwvc3JjL2dsLXV0aWwuanMiLCJub2RlX21vZHVsZXMvZ3JhZngvc3JjL3V0aWwvc3JjL2hhc2gtbWFwLmpzIiwibm9kZV9tb2R1bGVzL2dyYWZ4L3NyYy91dGlsL3NyYy91dGlsLmpzIiwibm9kZV9tb2R1bGVzL2xzbC1hbmltYXRleC9zcmMvYW5pbWF0aW9uLWpvYi5qcyIsIm5vZGVfbW9kdWxlcy9sc2wtYW5pbWF0ZXgvc3JjL2FuaW1hdG9yLmpzIiwibm9kZV9tb2R1bGVzL2xzbC1hbmltYXRleC9zcmMvZnJhbWUtbGF0ZW5jeS1wcm9maWxlci5qcyIsIm5vZGVfbW9kdWxlcy9sc2wtYW5pbWF0ZXgvc3JjL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2xzbC1hbmltYXRleC9zcmMvcGVyc2lzdGVudC1hbmltYXRpb24tam9iLmpzIiwibm9kZV9tb2R1bGVzL2xzbC1hbmltYXRleC9zcmMvdHJhbnNpZW50LWFuaW1hdGlvbi1qb2IuanMiLCJub2RlX21vZHVsZXMvbHNsLWFuaW1hdGV4L3NyYy91dGlsLmpzIiwibm9kZV9tb2R1bGVzL2xzbC1waHlzeC9zcmMvY29sbGlzaW9ucy9jb2xsaWRhYmxlcy9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9sc2wtcGh5c3gvc3JjL2NvbGxpc2lvbnMvY29sbGlkYWJsZXMvc3JjL2FhYmItY29sbGlkYWJsZS5qcyIsIm5vZGVfbW9kdWxlcy9sc2wtcGh5c3gvc3JjL2NvbGxpc2lvbnMvY29sbGlkYWJsZXMvc3JjL2NhcHN1bGUtY29sbGlkYWJsZS5qcyIsIm5vZGVfbW9kdWxlcy9sc2wtcGh5c3gvc3JjL2NvbGxpc2lvbnMvY29sbGlkYWJsZXMvc3JjL2NvbGxpZGFibGUuanMiLCJub2RlX21vZHVsZXMvbHNsLXBoeXN4L3NyYy9jb2xsaXNpb25zL2NvbGxpZGFibGVzL3NyYy9saW5lLXNlZ21lbnQuanMiLCJub2RlX21vZHVsZXMvbHNsLXBoeXN4L3NyYy9jb2xsaXNpb25zL2NvbGxpZGFibGVzL3NyYy9vYmItY29sbGlkYWJsZS5qcyIsIm5vZGVfbW9kdWxlcy9sc2wtcGh5c3gvc3JjL2NvbGxpc2lvbnMvY29sbGlkYWJsZXMvc3JjL3NwaGVyZS1jb2xsaWRhYmxlLmpzIiwibm9kZV9tb2R1bGVzL2xzbC1waHlzeC9zcmMvY29sbGlzaW9ucy9jb2xsaXNpb24tZGV0ZWN0aW9uL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2xzbC1waHlzeC9zcmMvY29sbGlzaW9ucy9jb2xsaXNpb24tZGV0ZWN0aW9uL3NyYy9hYWJiLWNvbGxpc2lvbi1kZXRlY3Rpb24uanMiLCJub2RlX21vZHVsZXMvbHNsLXBoeXN4L3NyYy9jb2xsaXNpb25zL2NvbGxpc2lvbi1kZXRlY3Rpb24vc3JjL2NhcHN1bGUtY29sbGlzaW9uLWRldGVjdGlvbi5qcyIsIm5vZGVfbW9kdWxlcy9sc2wtcGh5c3gvc3JjL2NvbGxpc2lvbnMvY29sbGlzaW9uLWRldGVjdGlvbi9zcmMvb2JiLWNvbGxpc2lvbi1kZXRlY3Rpb24uanMiLCJub2RlX21vZHVsZXMvbHNsLXBoeXN4L3NyYy9jb2xsaXNpb25zL2NvbGxpc2lvbi1kZXRlY3Rpb24vc3JjL3NwaGVyZS1jb2xsaXNpb24tZGV0ZWN0aW9uLmpzIiwibm9kZV9tb2R1bGVzL2xzbC1waHlzeC9zcmMvY29sbGlzaW9ucy9jb250YWN0LWNhbGN1bGF0aW9uL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2xzbC1waHlzeC9zcmMvY29sbGlzaW9ucy9jb250YWN0LWNhbGN1bGF0aW9uL3NyYy9hYWJiLWNvbnRhY3QtY2FsY3VsYXRpb24uanMiLCJub2RlX21vZHVsZXMvbHNsLXBoeXN4L3NyYy9jb2xsaXNpb25zL2NvbnRhY3QtY2FsY3VsYXRpb24vc3JjL2NhcHN1bGUtY29udGFjdC1jYWxjdWxhdGlvbi5qcyIsIm5vZGVfbW9kdWxlcy9sc2wtcGh5c3gvc3JjL2NvbGxpc2lvbnMvY29udGFjdC1jYWxjdWxhdGlvbi9zcmMvb2JiLWNvbnRhY3QtY2FsY3VsYXRpb24uanMiLCJub2RlX21vZHVsZXMvbHNsLXBoeXN4L3NyYy9jb2xsaXNpb25zL2NvbnRhY3QtY2FsY3VsYXRpb24vc3JjL3NwaGVyZS1jb250YWN0LWNhbGN1bGF0aW9uLmpzIiwibm9kZV9tb2R1bGVzL2xzbC1waHlzeC9zcmMvY29sbGlzaW9ucy9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9sc2wtcGh5c3gvc3JjL2NvbGxpc2lvbnMvc3JjL2NvbGxpZGFibGUtZmFjdG9yaWVzLmpzIiwibm9kZV9tb2R1bGVzL2xzbC1waHlzeC9zcmMvY29sbGlzaW9ucy9zcmMvY29sbGlkYWJsZS1waHlzaWNzLWpvYi5qcyIsIm5vZGVfbW9kdWxlcy9sc2wtcGh5c3gvc3JjL2NvbGxpc2lvbnMvc3JjL2NvbGxpZGFibGUtc3RvcmUuanMiLCJub2RlX21vZHVsZXMvbHNsLXBoeXN4L3NyYy9jb2xsaXNpb25zL3NyYy9jb2xsaXNpb24taGFuZGxlci5qcyIsIm5vZGVfbW9kdWxlcy9sc2wtcGh5c3gvc3JjL2NvbGxpc2lvbnMvc3JjL2NvbGxpc2lvbi11dGlscy5qcyIsIm5vZGVfbW9kdWxlcy9sc2wtcGh5c3gvc3JjL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2xzbC1waHlzeC9zcmMvaW50ZWdyYXRvci9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9sc2wtcGh5c3gvc3JjL2ludGVncmF0b3Ivc3JjL2ludGVncmF0b3IuanMiLCJub2RlX21vZHVsZXMvbHNsLXBoeXN4L3NyYy9pbnRlZ3JhdG9yL3NyYy9yazQtaW50ZWdyYXRvci5qcyIsIm5vZGVfbW9kdWxlcy9sc2wtcGh5c3gvc3JjL3NyYy9waHlzaWNzLWVuZ2luZS5qcyIsIm5vZGVfbW9kdWxlcy9sc2wtcGh5c3gvc3JjL3NyYy9waHlzaWNzLWpvYi5qcyIsIm5vZGVfbW9kdWxlcy9sc2wtcGh5c3gvc3JjL3NyYy9waHlzaWNzLXN0YXRlLmpzIiwibm9kZV9tb2R1bGVzL2xzbC1waHlzeC9zcmMvdXRpbC9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9sc2wtcGh5c3gvc3JjL3V0aWwvc3JjL2ZvcmNlLXV0aWxzLmpzIiwibm9kZV9tb2R1bGVzL2xzbC1waHlzeC9zcmMvdXRpbC9zcmMvZ2VvbWV0cnkuanMiLCJub2RlX21vZHVsZXMvbHNsLXBoeXN4L3NyYy91dGlsL3NyYy9pbmVydGlhLXRlbnNvci11dGlscy5qcyIsIm5vZGVfbW9kdWxlcy9sc2wtcGh5c3gvc3JjL3V0aWwvc3JjL3V0aWwuanMiLCJzcmMvY29uZmlnL2luZGV4LmpzIiwic3JjL2NvbmZpZy9zcmMvY2FtZXJhLWNvbmZpZy5qcyIsInNyYy9jb25maWcvc3JjL2NhbWVyYS1mb2xkZXItY29uZmlnLmpzIiwic3JjL2NvbmZpZy9zcmMvaW5wdXQtY29uZmlnLmpzIiwic3JjL2NvbmZpZy9zcmMvcGh5c2ljcy1jb25maWcuanMiLCJzcmMvY29uZmlnL3NyYy9waHlzaWNzLWZvbGRlci1jb25maWcuanMiLCJzcmMvY29yZS9jaHVuay1jb250cm9sbGVyLmpzIiwic3JjL2NvcmUvaGVhbHRoLWNvbnRyb2xsZXIuanMiLCJzcmMvY29yZS9zY29yZS1jb250cm9sbGVyLmpzIiwic3JjL2NvcmUvc3BhY2UtZGVicmlzLWNvbnRyb2xsZXIuanMiLCJzcmMvbWFpbi5qcyIsInNyYy9tb2RlbC1jb250cm9sbGVycy9hc3Rlcm9pZC9pbmRleC5qcyIsInNyYy9tb2RlbC1jb250cm9sbGVycy9hc3Rlcm9pZC9zcmMvYXN0ZXJvaWQtY29udHJvbGxlci5qcyIsInNyYy9tb2RlbC1jb250cm9sbGVycy9hc3Rlcm9pZC9zcmMvYXN0ZXJvaWQtc2hhcGUtY29uZmlnLmpzIiwic3JjL21vZGVsLWNvbnRyb2xsZXJzL2FzdGVyb2lkL3NyYy9hc3Rlcm9pZHMtY29uZmlnLmpzIiwic3JjL21vZGVsLWNvbnRyb2xsZXJzL2FzdGVyb2lkL3NyYy9hc3Rlcm9pZHMtY29udHJvbGxlci5qcyIsInNyYy9tb2RlbC1jb250cm9sbGVycy9zY2VuZS9pbmRleC5qcyIsInNyYy9tb2RlbC1jb250cm9sbGVycy9zY2VuZS9zcmMvc2NlbmUtY29uZmlnLmpzIiwic3JjL21vZGVsLWNvbnRyb2xsZXJzL3NjZW5lL3NyYy9zY2VuZS1pbXBsLmpzIiwic3JjL21vZGVsLWNvbnRyb2xsZXJzL3NjZW5lL3NyYy9zaGlwLWRlc3Ryb3llZC1jYW1lcmEtdGFyZ2V0LmpzIiwic3JjL21vZGVsLWNvbnRyb2xsZXJzL3NoaXAvaW5kZXguanMiLCJzcmMvbW9kZWwtY29udHJvbGxlcnMvc2hpcC9zcmMvc2hpcC1jb25maWcuanMiLCJzcmMvbW9kZWwtY29udHJvbGxlcnMvc2hpcC9zcmMvc2hpcC1jb250cm9sbGVyLmpzIiwic3JjL21vZGVsLWNvbnRyb2xsZXJzL3NoaXAvc3JjL3NoaXAtZm9yd2FyZC10aHJ1c3Rlci1jb250cm9sbGVyLmpzIiwic3JjL21vZGVsLWNvbnRyb2xsZXJzL3NoaXAvc3JjL3NoaXAtZm9yd2FyZC10aHJ1c3Rlci1zaGFwZS1jb25maWcuanMiLCJzcmMvbW9kZWwtY29udHJvbGxlcnMvc2hpcC9zcmMvc2hpcC1zaGFwZS1jb25maWcuanMiLCJzcmMvbW9kZWwtY29udHJvbGxlcnMvc3Rhci9pbmRleC5qcyIsInNyYy9tb2RlbC1jb250cm9sbGVycy9zdGFyL3NyYy9zdGFycy1jb25maWcuanMiLCJzcmMvbW9kZWwtY29udHJvbGxlcnMvc3Rhci9zcmMvc3RhcnMtY29udHJvbGxlci5qcyIsInNyYy9tb2RlbC1jb250cm9sbGVycy90b3JwZWRvL2luZGV4LmpzIiwic3JjL21vZGVsLWNvbnRyb2xsZXJzL3RvcnBlZG8vc3JjL3RvcnBlZG8tY29udHJvbGxlci5qcyIsInNyYy9tb2RlbC1jb250cm9sbGVycy90b3JwZWRvL3NyYy90b3JwZWRvZXMtY29uZmlnLmpzIiwic3JjL21vZGVsLWNvbnRyb2xsZXJzL3RvcnBlZG8vc3JjL3RvcnBlZG9lcy1jb250cm9sbGVyLmpzIiwic3JjL21vZGVsLWNvbnRyb2xsZXJzL3Vmby9pbmRleC5qcyIsInNyYy9tb2RlbC1jb250cm9sbGVycy91Zm8vc3JjL3Vmby1jb250cm9sbGVyLmpzIiwic3JjL21vZGVsLWNvbnRyb2xsZXJzL3Vmby9zcmMvdWZvcy1jb25maWcuanMiLCJzcmMvbW9kZWwtY29udHJvbGxlcnMvdWZvL3NyYy91Zm9zLWNvbnRyb2xsZXIuanMiLCJzcmMvcHJvZ3JhbXMvYmxlbmQtcHJvZ3JhbS9ibGVuZC1wcm9ncmFtLWNvbmZpZy5qcyIsInNyYy9wcm9ncmFtcy9ibG9vbS1wcm9ncmFtLWNvbmZpZy5qcyIsInNyYy9wcm9ncmFtcy9ibHVyLWhvcml6b250YWwtcHJvZ3JhbS9ibHVyLWhvcml6b250YWwtcHJvZ3JhbS1jb25maWcuanMiLCJzcmMvcHJvZ3JhbXMvYmx1ci12ZXJ0aWNhbC1wcm9ncmFtL2JsdXItdmVydGljYWwtcHJvZ3JhbS1jb25maWcuanMiLCJzcmMvcHJvZ3JhbXMvYnJpZ2h0bmVzcy1maWx0ZXItcHJvZ3JhbS9icmlnaHRuZXNzLWZpbHRlci1wcm9ncmFtLWNvbmZpZy5qcyIsInNyYy9wcm9ncmFtcy9mbGF0LWNvbG9yLXByb2dyYW0vZmxhdC1jb2xvci1wcm9ncmFtLWNvbmZpZy5qcyIsInNyYy9wcm9ncmFtcy9nZW5lcmFsLW1vZGVsLXByb2dyYW0vZ2VuZXJhbC1tb2RlbC1wcm9ncmFtLWNvbmZpZy5qcyIsInNyYy9wcm9ncmFtcy9pbmRleC5qcyIsInNyYy9wcm9ncmFtcy9zdGFyLXBvaW50cy1wcm9ncmFtL3N0YXItcG9pbnRzLXByb2dyYW0tY29uZmlnLmpzIiwic3JjL3V0aWwvaW5kZXguanMiLCJzcmMvdXRpbC9zcmMvZ2VvbWV0cnkuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7OztBQ0FBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7Ozs7Ozs7Ozs7QUNLQTtBQUFBO0FBQUE7QUFBQTtBQUFB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VUFBQSxHQUFBLEVBQUE7QUFBQSxNQUFBLFFBQUEsU0FBQSxJQUFBLFFBQUEsWUFBQSxFQUFBO0FBQUEsU0FBQSxjQUFBLENBQUEsT0FBQSxFQUFBLEdBQUEsRUFBQTtBQUFBLGdCQUFBLElBQUE7QUFBQSxTQUFBLFNBQUEsR0FBQSxHQUFBO0FBQUEsYUFBQSwyQkFBQSxHQUFBLENBQUE7QUFBQTtBQUFBLEdBQUE7QUFBQSxDQUFBOzs7O0FBQ0EsT0FBQSxJQUFBLENBQUEsOEJBQUEsRUFBQSxPQUFBLENBQUEsVUFBQSxHQUFBLEVBQUE7QUFBQSxNQUFBLFFBQUEsU0FBQSxJQUFBLFFBQUEsWUFBQSxFQUFBO0FBQUEsU0FBQSxjQUFBLENBQUEsT0FBQSxFQUFBLEdBQUEsRUFBQTtBQUFBLGdCQUFBLElBQUE7QUFBQSxTQUFBLFNBQUEsR0FBQSxHQUFBO0FBQUEsYUFBQSwrQkFBQSxHQUFBLENBQUE7QUFBQTtBQUFBLEdBQUE7QUFBQSxDQUFBOzs7O0FBQ0EsT0FBQSxJQUFBLENBQUEsdUJBQUEsRUFBQSxPQUFBLENBQUEsVUFBQSxHQUFBLEVBQUE7QUFBQSxNQUFBLFFBQUEsU0FBQSxJQUFBLFFBQUEsWUFBQSxFQUFBO0FBQUEsU0FBQSxjQUFBLENBQUEsT0FBQSxFQUFBLEdBQUEsRUFBQTtBQUFBLGdCQUFBLElBQUE7QUFBQSxTQUFBLFNBQUEsR0FBQSxHQUFBO0FBQUEsYUFBQSx3QkFBQSxHQUFBLENBQUE7QUFBQTtBQUFBLEdBQUE7QUFBQSxDQUFBOzs7O0FBQ0EsT0FBQSxJQUFBLENBQUEsMEJBQUEsRUFBQSxPQUFBLENBQUEsVUFBQSxHQUFBLEVBQUE7QUFBQSxNQUFBLFFBQUEsU0FBQSxJQUFBLFFBQUEsWUFBQSxFQUFBO0FBQUEsU0FBQSxjQUFBLENBQUEsT0FBQSxFQUFBLEdBQUEsRUFBQTtBQUFBLGdCQUFBLElBQUE7QUFBQSxTQUFBLFNBQUEsR0FBQSxHQUFBO0FBQUEsYUFBQSwyQkFBQSxHQUFBLENBQUE7QUFBQTtBQUFBLEdBQUE7QUFBQSxDQUFBOzs7O0FBQ0EsT0FBQSxJQUFBLENB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QUFNLGtDQUFrQyxLQUF4QyxNQUF3QyxFQUF4QztBQUNBLFNBQUEsS0FBQSxDQUFBLCtCQUFBLEVBQUEsaUJBQUEsRUFBQSxhQUFBO0FBQ0EsU0FBQSxHQUFBLENBQUEsaUJBQUEsRUFBQSwrQkFBQSxFQUFBLGlDQUFBO0FBQ0Q7O0FBRUQsU0FBQSxtQ0FBQTtBQUNEOztRQUdDLDBCLEdBQUEsMEIiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCJleHBvcnQgKiBmcm9tICcuL3NyYyc7XG4iLCIvKipcbiAqIFRoaXMgbW9kdWxlIHJlLWV4cG9ydHMgYWxsIG9mIHRoZSBleHBvcnRzIGluIHRoZSBncmFmeCBmcmFtZXdvcmsuIFRoaXMgbWFrZXMgdGhlIGVudGlyZSBmcmFtZXdvcmtcbiAqIGNvbnZlbmllbnRseSBhY2Nlc3NpYmxlIHZpYSB0aGlzIHNpbmdsZSBtb2R1bGUuXG4gKi9cblxuZXhwb3J0ICogZnJvbSAnbHNsLWFuaW1hdGV4JztcbmV4cG9ydCAqIGZyb20gJ2dyYWZ4JztcbmV4cG9ydCAqIGZyb20gJ2xzbC1waHlzeCc7XG5cbmV4cG9ydCAqIGZyb20gJy4vc3JjL2NvbGxpZGFibGUtcGh5c2ljcy1tb2RlbC1jb250cm9sbGVyJztcbmV4cG9ydCAqIGZyb20gJy4vc3JjL2NvbmZpZy1jb250cm9sbGVyJztcbmV4cG9ydCAqIGZyb20gJy4vc3JjL2dhbWUtY29udHJvbGxlcic7XG5leHBvcnQgKiBmcm9tICcuL3NyYy9nYW1lLXNjZW5lJztcbmV4cG9ydCAqIGZyb20gJy4vc3JjL2lucHV0LWNvbnRyb2xsZXInO1xuZXhwb3J0ICogZnJvbSAnLi9zcmMvcGh5c2ljcy1tb2RlbC1jb250cm9sbGVyJztcbmV4cG9ydCAqIGZyb20gJy4vc3JjL3NwcmluZy1mb2xsb3ctY2FtZXJhJztcblxuZXhwb3J0ICogZnJvbSAnLi93YWxsJztcbiIsImltcG9ydCB7UGh5c2ljc01vZGVsQ29udHJvbGxlcn0gZnJvbSAnLi9waHlzaWNzLW1vZGVsLWNvbnRyb2xsZXInO1xuaW1wb3J0IHtDb2xsaWRhYmxlUGh5c2ljc0pvYiwgUGh5c2ljc0pvYiwgUGh5c2ljc1N0YXRlfSBmcm9tICdsc2wtcGh5c3gnO1xuXG4vKipcbiAqIFRoaXMgY2xhc3MgcmVwcmVzZW50cyBhIGNvbGxpZGFibGUgcGh5c2ljcy1iYXNlZCBtb2RlbC1jb250cm9sbGVyLlxuICpcbiAqIEBhYnN0cmFjdFxuICovXG5jbGFzcyBDb2xsaWRhYmxlUGh5c2ljc01vZGVsQ29udHJvbGxlciBleHRlbmRzIFBoeXNpY3NNb2RlbENvbnRyb2xsZXIge1xuICAvKipcbiAgICogQHBhcmFtIHtNb2RlbENvbnRyb2xsZXJ8TW9kZWxDb250cm9sbGVyQ29uZmlnfSBtb2RlbENvbnRyb2xsZXJPclBhcmFtc1xuICAgKiBAcGFyYW0ge0NvbGxpZGFibGVQaHlzaWNzSm9ifER5bmFtaWNzQ29uZmlnfSBwaHlzaWNzSm9iT3JEeW5hbWljc1BhcmFtc1xuICAgKiBAcGFyYW0ge1JlbmRlcmFibGVTaGFwZUNvbmZpZ30gW3NoYXBlUGFyYW1zXVxuICAgKiBAcGFyYW0ge0FycmF5LjxGb3JjZUFwcGxpZXI+fSBmb3JjZUFwcGxpZXJzXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihtb2RlbENvbnRyb2xsZXJPclBhcmFtcywgcGh5c2ljc0pvYk9yRHluYW1pY3NQYXJhbXMsIHNoYXBlUGFyYW1zLCBmb3JjZUFwcGxpZXJzKSB7XG4gICAgc3VwZXIobW9kZWxDb250cm9sbGVyT3JQYXJhbXMsIHBoeXNpY3NKb2JPckR5bmFtaWNzUGFyYW1zLCBzaGFwZVBhcmFtcywgZm9yY2VBcHBsaWVycyk7XG5cbiAgICBpZiAocGh5c2ljc0pvYk9yRHluYW1pY3NQYXJhbXMgaW5zdGFuY2VvZiBDb2xsaWRhYmxlUGh5c2ljc0pvYikge1xuICAgICAgdGhpcy5waHlzaWNzSm9iID0gcGh5c2ljc0pvYk9yRHluYW1pY3NQYXJhbXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHN0YXRlID0gbmV3IFBoeXNpY3NTdGF0ZShwaHlzaWNzSm9iT3JEeW5hbWljc1BhcmFtcyk7XG4gICAgICB0aGlzLnBoeXNpY3NKb2IgPSBuZXcgQ29sbGlkYWJsZVBoeXNpY3NKb2Ioc2hhcGVQYXJhbXMsIHN0YXRlLCBmb3JjZUFwcGxpZXJzLCB0aGlzLFxuICAgICAgICAgIGNvbGxpc2lvbiA9PiB0aGlzLmhhbmRsZUNvbGxpc2lvbihjb2xsaXNpb24pKTtcbiAgICB9XG5cbiAgICAvLyBDb2xsaWRhYmxlUGh5c2ljc01vZGVsQ29udHJvbGxlciBpcyBhbiBhYnN0cmFjdCBjbGFzcy4gSXQgc2hvdWxkIG5vdCBiZSBpbnN0YW50aWF0ZWQgZGlyZWN0bHkuXG4gICAgaWYgKG5ldy50YXJnZXQgPT09IENvbGxpZGFibGVQaHlzaWNzTW9kZWxDb250cm9sbGVyKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY29uc3RydWN0IENvbGxpZGFibGVQaHlzaWNzTW9kZWxDb250cm9sbGVyIGluc3RhbmNlcyBkaXJlY3RseScpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIGNhbGxiYWNrIGlzIHRyaWdnZXJlZCBpbiByZXNwb25zZSB0byBhIGNvbGxpc2lvbi5cbiAgICpcbiAgICogQHBhcmFtIHtDb2xsaXNpb259IGNvbGxpc2lvblxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGlzIG5lZWRzIHRoZSBzdGFuZGFyZCBjb2xsaXNpb24gcmVzdGl0dXRpb24gdG8gcHJvY2VlZC5cbiAgICogQGFic3RyYWN0XG4gICAqL1xuICBoYW5kbGVDb2xsaXNpb24oY29sbGlzaW9uKSB7XG4gICAgLy8gRXh0ZW5kaW5nIGNsYXNzZXMgc2hvdWxkIGltcGxlbWVudCB0aGlzIG1ldGhvZC5cbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdNZXRob2Qgbm90IGltcGxlbWVudGVkJyk7XG4gIH1cbn1cblxuZXhwb3J0IHtDb2xsaWRhYmxlUGh5c2ljc01vZGVsQ29udHJvbGxlcn07XG5cbi8qKlxuICogQHR5cGVkZWYge1JlbmRlcmFibGVTaGFwZUNvbmZpZyZDb2xsaWRhYmxlU2hhcGVDb25maWd9IFJlbmRlcmFibGVBbmRDb2xsaWRhYmxlU2hhcGVDb25maWdcbiAqL1xuIiwiaW1wb3J0IHtcbiAgY3JlYXRlSHNsQ29sb3JTdHJpbmcsXG4gIGRlYm91bmNlLFxuICBmaW5kLFxuICBnZXRWaWV3cG9ydFNpemUsXG4gIGhzbFRvSHN2LFxuICBoc3ZUb0hzbCxcbiAgaHNsVG9SZ2IsXG4gIGlzSW50LFxufSBmcm9tICdncmFmeCc7XG5cbmNvbnN0IF9TTUFMTF9TQ1JFRU5fV0lEVEhfVEhSRVNIT0xEID0gODAwO1xuXG4vKipcbiAqIFRoaXMgdG9wLWxldmVsIENvbmZpZ0NvbnRyb2xsZXIgY2xhc3Mgd3JhcHMgdGhlIGRhdC5HVUkgbGlicmFyeSBhbmQgcHJvdmlkZXMgaGlnaGVyLWxldmVsXG4gKiBjb25maWd1cmF0aW9uIGZ1bmN0aW9uYWxpdHkuXG4gKlxuICogIyMgQ29uZmlndXJpbmcgUGFyYW1ldGVyc1xuICpcbiAqIENvbnN1bWVycyBvZiB0aGlzIG1vZHVsZSB3aWxsIG5lZWQgdG8gc3BlY2lmeSBjb25maWd1cmF0aW9uIHBhcmFtZXRlcnMgd2l0aCBhIGNlcnRhaW4gZm9ybS4gRm9yXG4gKiBlYWNoIHByb3BlcnR5IG9uIGEgY29uZmlnIG9iamVjdCwgYW4gaXRlbSB3aWxsIGJlIGNyZWF0ZWQgaW4gdGhlIGNvcnJlc3BvbmRpbmcgZGF0LkdVSSBmb2xkZXIuXG4gKiBUaGUgdHlwZSBhbmQgc3BlY2lmaWNzIG9mIHRoZSBtZW51IGl0ZW0gZGVwZW5kcyBvbiB0aGUgdmFsdWUgYXNzaWduZWQgdG8gdGhlIGNvbmZpZyBwcm9wZXJ0eTpcbiAqXG4gKiAtIFRvZ2dsZSBpdGVtOlxuICogICAtIENyZWF0ZWQgaWYgdGhlIGNvbmZpZyBwcm9wZXJ0eSBpcyBhIGJvb2xlYW4uXG4gKiAtIFRyaWdnZXIgaXRlbTpcbiAqICAgLSBDcmVhdGVkIGlmIHRoZSBjb25maWcgcHJvcGVydHkgaXMgYSBmdW5jdGlvbi5cbiAqIC0gU2xpZGVyIGl0ZW06XG4gKiAgIC0gQ3JlYXRlZCBpZiB0aGUgY29uZmlnIHByb3BlcnR5IGlzIGFuIG9iamVjdCB3aXRoICdtaW4nLCAnbWF4JywgYW5kICdzdGFydCcgcHJvcGVydGllcy5cbiAqICAgLSBXaGVuIHRoZSBjb25maWcgb2JqZWN0IGlzIHBhcnNlZCwgdGhpcyBpbml0aWFsIGNvbmZpZyBvYmplY3Qgd2lsbCBiZSByZW1vdmVkIGFuZCByZXBsYWNlZFxuICogICAgIHdpdGggb25seSB0aGUgY3VycmVudCBhY3R1YWwgdmFsdWUuXG4gKiAgIC0gVGhlIGludGVydmFscyBvZiB0aGUgc2xpZGVyIGFyZSBhdXRvbWF0aWNhbGx5IGRldGVybWluZWQgYnkgdGhlIGRhdC5HVUkgbGlicmFyeSBhbmQgZGVwZW5kIG9uXG4gKiAgICAgdGhlIHR5cGUgb2YgdGhlICdtaW4nLydtYXgnLyd2YWx1ZScgcHJvcGVydGllcyAoaW50IHZzIGZsb2F0KS4gU2VlIHRoZSBkYXQuR1VJIGRvY3VtZW50YXRpb25cbiAqICAgICBmb3IgbW9yZSBpbmZvLlxuICogLSBDb2xvciBpdGVtOlxuICogICAtIENyZWF0ZWQgaWYgdGhlIGNvbmZpZyBwcm9wZXJ0eSBpcyBhbiBvYmplY3Qgd2l0aCAnaCcvJ3MnLydsJyBwcm9wZXJ0aWVzLlxuICogICAtIFdoZW4gdGhlIGNvbmZpZyBvYmplY3QgaXMgcGFyc2VkLCB0aGlzIGluaXRpYWwgY29uZmlnIG9iamVjdCB3aWxsIGJlIHJlcGxhY2VkIHdpdGggYSBuZXdcbiAqICAgICBvYmplY3QgdGhhdCBoYXMgJ2gnLydzJy8ndicgcHJvcGVydGllcyBhbmQgYW4gJ2hzbCcgcHJvcGVydHksIHdoaWNoIGlzIGFuIG9iamVjdCBjb250YWluaW5nXG4gKiAgICAgJ2gnLydzJy8nbCcgcHJvcGVydGllcyBhbmQgYSAnY29sb3JTdHJpbmcnIHByb3BlcnR5IHRoYXQgY29udGFpbnMgYSB2YWxpZCBjb2xvciBzdHJpbmcgdG9cbiAqICAgICBhc3NpZ24gdG8gYSBDU1MgcHJvcGVydHkuXG4gKiAgIC0gQWxsICdoJy8ncycvJ2wnIGFuZCAnaCcvJ3MnLyd2JyB2YWx1ZXMgc2hvdWxkIGJlIGluIHRoZSByYW5nZSBvZiBbMCwxXS5cbiAqIC0gVGV4dCBpdGVtOlxuICogICAtIENyZWF0ZWQgaWYgdGhlIGNvbmZpZyBwcm9wZXJ0eSBpcyBhIFN0cmluZy5cbiAqL1xuY2xhc3MgQ29uZmlnQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuX2RhdEd1aVdpZHRoID0gMzAwO1xuICAgIHRoaXMuX2d1aSA9IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB1cCB0aGUgZGF0LkdVSSBjb250cm9sbGVyLlxuICAgKi9cbiAgaW5pdGlhbGl6ZSgpIHtcbiAgICAvLyBDcmVhdGUgdGhlIGRhdC5HVUkgbWVudS5cbiAgICB0aGlzLl9jcmVhdGVHdWlJZk5vdENyZWF0ZWQodHJ1ZSk7XG4gICAgdGhpcy5fZ3VpLndpZHRoID0gdGhpcy5fZGF0R3VpV2lkdGg7XG5cbiAgICAvLyBBdXRvbWF0aWNhbGx5IGNsb3NlIHRoZSBtZW51IG9uIHNtYWxsZXIgc2NyZWVucy5cbiAgICAvLyBUT0RPOiBDaGVjayB0aGF0IHRoZSBtZW51IGlzIGNsb3NlZCBpbml0aWFsbHkgKHdpdGggbm8gcmVzaXplIGV2ZW50KSBpZiB0aGUgcGFnZSBsb2FkcyBhdCB0b28gc21hbGwgYSB3aWR0aC5cbiAgICBjb25zdCBkZWJvdW5jZWRSZXNpemUgPSBkZWJvdW5jZSgoKSA9PiB0aGlzLl9vblJlc2l6ZSgpLCAzMDApO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBkZWJvdW5jZWRSZXNpemUsIGZhbHNlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhcnMgdGhlIGRhdC5HVUkgbWVudS5cbiAgICovXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5fZ3VpLmRlc3Ryb3koKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzR3VpVmlzaWJsZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2NyZWF0ZUd1aUlmTm90Q3JlYXRlZChpc0d1aVZpc2libGUpIHtcbiAgICBpZiAodGhpcy5fZ3VpKSB7XG4gICAgICBpZiAoaXNHdWlWaXNpYmxlKSB7XG4gICAgICAgIHRoaXMuX2d1aS5kb21FbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9ndWkgPSBuZXcgZGF0LkdVSSgpO1xuICAgICAgaWYgKCFpc0d1aVZpc2libGUpIHtcbiAgICAgICAgdGhpcy5fZ3VpLmRvbUVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIGZvbGRlciB3aXRoIHRoZSBnaXZlbiBjb25maWd1cmF0aW9uIHVuZGVybmVhdGggdGhlIGdpdmVuIHBhcmVudCBmb2xkZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7TWVudUZvbGRlckNvbmZpZ30gZm9sZGVyQ29uZmlnXG4gICAqIEBwYXJhbSB7ZGF0Lmd1aS5HVUl9IFtwYXJlbnRGb2xkZXJdIElmIG5vdCBnaXZlbiwgdGhlIGZvbGRlciBpcyBjcmVhdGVkIGF0IHRoZSB0b3AgbGV2ZWwuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb25DaGFuZ2VMaXN0ZW5lcnNdIEEgbWFwIGZyb20gbGFiZWxzIHRvIG9uLWNoYW5nZSBoYW5kbGVycy5cbiAgICovXG4gIGNyZWF0ZUZvbGRlcihmb2xkZXJDb25maWcsIHBhcmVudEZvbGRlciwgb25DaGFuZ2VMaXN0ZW5lcnMpIHtcbiAgICB0aGlzLl9jcmVhdGVHdWlJZk5vdENyZWF0ZWQoZmFsc2UpO1xuXG4gICAgcGFyZW50Rm9sZGVyID0gcGFyZW50Rm9sZGVyIHx8IHRoaXMuX2d1aTtcblxuICAgIC8vIFRPRE86IENvcHkgdGhlIG9yaWdpbmFsIGNvbmZpZyBhbmQgc3RvcmUgaXQgc29tZWhvdyBvbiB0aGUgZGF0LkdVSSBtZW51IGl0ZW0/IFRoaXMgaXMgaW1wb3J0YW50IGZvciByZXNldHRpbmcgY29uZmlncyBsYXRlciAoZnJvbSB0aGUgb3RoZXIgY29udHJvbGxlcikuXG4gICAgY29uc3QgZm9sZGVyID0gcGFyZW50Rm9sZGVyLmFkZEZvbGRlcihmb2xkZXJDb25maWcubGFiZWwpO1xuXG4gICAgZm9sZGVyQ29uZmlnLmZvbGRlciA9IGZvbGRlcjtcblxuICAgIHRoaXMuX2NyZWF0ZUl0ZW1zKGZvbGRlckNvbmZpZyk7XG5cbiAgICAvLyBBZGQgbGlzdGVuZXJzIGZyb20gdGhlIGNvbmZpZyBmaWxlLlxuICAgIHRoaXMuX2FkZE9uQ2hhbmdlTGlzdGVuZXJzKGZvbGRlckNvbmZpZywgZm9sZGVyQ29uZmlnLm9uQ2hhbmdlTGlzdGVuZXJzLCB0cnVlKTtcblxuICAgIC8vIEFkZCBsaXN0ZW5lcnMgZnJvbSB0aGUgY2FsbGVyIG9mIHRoaXMgbWV0aG9kLlxuICAgIHRoaXMuX2FkZE9uQ2hhbmdlTGlzdGVuZXJzKGZvbGRlckNvbmZpZywgb25DaGFuZ2VMaXN0ZW5lcnMsIGZhbHNlKTtcblxuICAgIGlmIChmb2xkZXJDb25maWcuaXNPcGVuKSB7XG4gICAgICBmb2xkZXIub3BlbigpO1xuICAgIH1cblxuICAgIC8vIFJlY3Vyc2l2ZWx5IGNyZWF0ZSBkZXNjZW5kYW50IGZvbGRlcnMuXG4gICAgaWYgKGZvbGRlckNvbmZpZy5jaGlsZEZvbGRlcnMpIHtcbiAgICAgIHRoaXMuY3JlYXRlRm9sZGVycyhmb2xkZXJDb25maWcuY2hpbGRGb2xkZXJzLCBmb2xkZXIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0FycmF5LjxNZW51Rm9sZGVyQ29uZmlnPn0gZm9sZGVyQ29uZmlnc1xuICAgKiBAcGFyYW0ge2RhdC5ndWkuR1VJfSBwYXJlbnRGb2xkZXJcbiAgICovXG4gIGNyZWF0ZUZvbGRlcnMoZm9sZGVyQ29uZmlncywgcGFyZW50Rm9sZGVyKSB7XG4gICAgZm9sZGVyQ29uZmlncy5mb3JFYWNoKGZvbGRlckNvbmZpZyA9PiB0aGlzLmNyZWF0ZUZvbGRlcihmb2xkZXJDb25maWcsIHBhcmVudEZvbGRlcikpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7TWVudUZvbGRlckNvbmZpZ30gZm9sZGVyQ29uZmlnXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBsYWJlbFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgKi9cbiAgYWRkT25DaGFuZ2VMaXN0ZW5lcihmb2xkZXJDb25maWcsIGxhYmVsLCBjYWxsYmFjaykge1xuICAgIGlmIChmb2xkZXJDb25maWcuaXRlbXNbbGFiZWxdKSB7XG4gICAgICBmb2xkZXJDb25maWcuaXRlbXNbbGFiZWxdLm9uQ2hhbmdlTGlzdGVuZXJzLnB1c2goY2FsbGJhY2spO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLndhcm4oJ0F0dGVtcHRpbmcgdG8gYWRkIG9uLWNoYW5nZSBsaXN0ZW5lciBmb3IgYSBub24tZXhpc3RlbnQgY29uZmlnJywgbGFiZWwsXG4gICAgICAgICAgZm9sZGVyQ29uZmlnKTtcbiAgICB9XG4gIH1cblxuICBoaWRlTWVudSgpIHtcbiAgICBjb25zb2xlLmluZm8oJ0hpZGUgTWVudSBjbGlja2VkJyk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keSA+IC5kZycpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gIH1cblxuICAvKipcbiAgICogTk9URTogVGhpcyBpcyBub3QgaWRlbXBvdGVudC4gVGhpcyBtb2RpZmllcyB0aGUgb3JpZ2luYWwgZm9sZGVyQ29uZmlnLmNvbmZpZyBvYmplY3QuXG4gICAqXG4gICAqIEBwYXJhbSB7TWVudUZvbGRlckNvbmZpZ30gZm9sZGVyQ29uZmlnXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfY3JlYXRlSXRlbXMoZm9sZGVyQ29uZmlnKSB7XG4gICAgZm9sZGVyQ29uZmlnLml0ZW1zID0ge307XG5cbiAgICBPYmplY3Qua2V5cyhmb2xkZXJDb25maWcuY29uZmlnKS5mb3JFYWNoKChpdGVtQ29uZmlnS2V5KSA9PiB7XG4gICAgICAvLyBEbyBub3QgZXhwb3NlIGludGVybmFsIGNvbmZpZ3VyYXRpb25zIHRvIHRoZSB1c2VyLlxuICAgICAgaWYgKGl0ZW1Db25maWdLZXkuc3Vic3RyKDAsIDEpID09PSAnXycpIHJldHVybjtcblxuICAgICAgY29uc3QgaXRlbUNvbmZpZyA9IGZvbGRlckNvbmZpZy5jb25maWdbaXRlbUNvbmZpZ0tleV07XG5cbiAgICAgIC8vIERldGVybWluZSB3aGljaCBtZXRob2QgdG8gdXNlIHRvIGNyZWF0ZSB0aGUgbWVudSBpdGVtLlxuICAgICAgY29uc3QgcGFpciA9IGZpbmQoW1xuICAgICAgICBbQ29uZmlnQ29udHJvbGxlci5pc1RvZ2dsZUl0ZW0sIENvbmZpZ0NvbnRyb2xsZXIuX2NyZWF0ZVRvZ2dsZUl0ZW1dLFxuICAgICAgICBbQ29uZmlnQ29udHJvbGxlci5pc1RyaWdnZXJJdGVtLCBDb25maWdDb250cm9sbGVyLl9jcmVhdGVUcmlnZ2VySXRlbV0sXG4gICAgICAgIFtDb25maWdDb250cm9sbGVyLmlzU2xpZGVySXRlbSwgQ29uZmlnQ29udHJvbGxlci5fY3JlYXRlU2xpZGVySXRlbV0sXG4gICAgICAgIFtDb25maWdDb250cm9sbGVyLmlzTnVtYmVySXRlbSwgQ29uZmlnQ29udHJvbGxlci5fY3JlYXRlTnVtYmVySXRlbV0sXG4gICAgICAgIFtDb25maWdDb250cm9sbGVyLmlzSHNsQ29sb3JJdGVtLCBDb25maWdDb250cm9sbGVyLl9jcmVhdGVIc2xDb2xvckl0ZW1dLFxuICAgICAgICBbQ29uZmlnQ29udHJvbGxlci5pc1RleHRJdGVtLCBDb25maWdDb250cm9sbGVyLl9jcmVhdGVUZXh0SXRlbV0sXG4gICAgICAgIFtDb25maWdDb250cm9sbGVyLmlzU3RyaW5nU2VsZWN0b3JJdGVtLCBDb25maWdDb250cm9sbGVyLl9jcmVhdGVTdHJpbmdTZWxlY3Rvckl0ZW1dLFxuICAgICAgICBbQ29uZmlnQ29udHJvbGxlci5pc1ZlYzNOdW1iZXJJdGVtLCBDb25maWdDb250cm9sbGVyLl9jcmVhdGVWZWMzTnVtYmVySXRlbXNdLFxuICAgICAgICBbQ29uZmlnQ29udHJvbGxlci5pc1ZlYzNTbGlkZXJJdGVtLCBDb25maWdDb250cm9sbGVyLl9jcmVhdGVWZWMzU2xpZGVySXRlbXNdLFxuICAgICAgXSwgKHBhaXIpID0+IHBhaXJbMF0oaXRlbUNvbmZpZykpO1xuICAgICAgaWYgKCFwYWlyKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignVW5yZWNvZ25pemVkIGNvbmZpZyB0eXBlJywgaXRlbUNvbmZpZyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG1lbnVJdGVtQ3JlYXRvciA9IHBhaXJbMV07XG5cbiAgICAgIC8vIENyZWF0ZSB0aGUgYWN0dWFsIGRhdC5HVUkgbWVudSBpdGVtIGFuZCBzYXZlIGEgcmVmZXJlbmNlIHRvIGl0LlxuICAgICAgY29uc3QgbWVudUl0ZW1EYXRhID0gbWVudUl0ZW1DcmVhdG9yLmNhbGwodGhpcywgZm9sZGVyQ29uZmlnLmNvbmZpZyxcbiAgICAgICAgICBpdGVtQ29uZmlnS2V5LCBpdGVtQ29uZmlnLCBmb2xkZXJDb25maWcuZm9sZGVyKTtcbiAgICAgIGlmIChtZW51SXRlbURhdGEgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICBjb25zdCBwYXJlbnRNZW51SXRlbURhdGEgPSB7b25DaGFuZ2VMaXN0ZW5lcnM6IFtdfTtcblxuICAgICAgICAvLyBSZWNvcmQgdGhlIGluZGl2aWR1YWwgc3ViLWl0ZW1zLlxuICAgICAgICBtZW51SXRlbURhdGEuZm9yRWFjaChkYXRhID0+IHtcbiAgICAgICAgICBmb2xkZXJDb25maWcuaXRlbXNbZGF0YS5sYWJlbF0gPSBkYXRhO1xuXG4gICAgICAgICAgLy8gSG9vayB1cCB0aGUgKHBhcmVudCBpdGVtJ3MpIG9uQ2hhbmdlIGxpc3RlbmVycy5cbiAgICAgICAgICBkYXRhLm1lbnVJdGVtLm9uQ2hhbmdlKCgpID0+IHtcbiAgICAgICAgICAgIGRhdGEub25DaGFuZ2VMaXN0ZW5lcnMuZm9yRWFjaChjYWxsYmFjayA9PiBjYWxsYmFjaygpKTtcbiAgICAgICAgICAgIHBhcmVudE1lbnVJdGVtRGF0YS5vbkNoYW5nZUxpc3RlbmVycy5mb3JFYWNoKGNhbGxiYWNrID0+IGNhbGxiYWNrKCkpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBSZWNvcmQgdGhlIHBhcmVudCBpdGVtLlxuICAgICAgICBmb2xkZXJDb25maWcuaXRlbXNbaXRlbUNvbmZpZ0tleV0gPSBwYXJlbnRNZW51SXRlbURhdGE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb2xkZXJDb25maWcuaXRlbXNbaXRlbUNvbmZpZ0tleV0gPSBtZW51SXRlbURhdGE7XG5cbiAgICAgICAgLy8gSG9vayB1cCB0aGUgb25DaGFuZ2UgbGlzdGVuZXJzLlxuICAgICAgICBtZW51SXRlbURhdGEubWVudUl0ZW0ub25DaGFuZ2UoKCkgPT5cbiAgICAgICAgICAgIG1lbnVJdGVtRGF0YS5vbkNoYW5nZUxpc3RlbmVycy5mb3JFYWNoKGNhbGxiYWNrID0+IGNhbGxiYWNrKCkpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge01lbnVGb2xkZXJDb25maWd9IGZvbGRlckNvbmZpZ1xuICAgKiBAcGFyYW0ge09iamVjdH0gb25DaGFuZ2VMaXN0ZW5lcnMgQSBtYXAgZnJvbSBsYWJlbHMgdG8gb24tY2hhbmdlIGV2ZW50IGhhbmRsZXJzLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IG1ha2VJbml0aWFsQ2FsbFRvTGlzdGVuZXJzXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfYWRkT25DaGFuZ2VMaXN0ZW5lcnMoZm9sZGVyQ29uZmlnLCBvbkNoYW5nZUxpc3RlbmVycywgbWFrZUluaXRpYWxDYWxsVG9MaXN0ZW5lcnMpIHtcbiAgICBpZiAob25DaGFuZ2VMaXN0ZW5lcnMpIHtcbiAgICAgIE9iamVjdC5rZXlzKG9uQ2hhbmdlTGlzdGVuZXJzKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgIGNvbnN0IG9uQ2hhbmdlSGFuZGxlciA9IG9uQ2hhbmdlTGlzdGVuZXJzW2tleV07XG4gICAgICAgIGNvbmZpZ0NvbnRyb2xsZXIuYWRkT25DaGFuZ2VMaXN0ZW5lcihmb2xkZXJDb25maWcsIGtleSwgb25DaGFuZ2VIYW5kbGVyKTtcbiAgICAgICAgaWYgKG1ha2VJbml0aWFsQ2FsbFRvTGlzdGVuZXJzKSB7XG4gICAgICAgICAgb25DaGFuZ2VIYW5kbGVyKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDbG9zZSB0aGUgbWVudSBvbiBzbWFsbGVyIHNjcmVlbnMuXG4gICAqL1xuICBfb25SZXNpemUoKSB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBpZiAoZ2V0Vmlld3BvcnRTaXplKCkgPCBfU01BTExfU0NSRUVOX1dJRFRIX1RIUkVTSE9MRCkge1xuICAgICAgICB0aGlzLl9ndWkuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9LCAxMCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZ09iamVjdFxuICAgKiBAcGFyYW0ge3N0cmluZ30gbGFiZWxcbiAgICogQHBhcmFtIHtUb2dnbGVNZW51SXRlbUNvbmZpZ30gaXRlbUNvbmZpZ1xuICAgKiBAcGFyYW0ge2RhdC5ndWkuR1VJfSBmb2xkZXJcbiAgICogQHJldHVybnMge01lbnVJdGVtRGF0YX1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHN0YXRpYyBfY3JlYXRlVG9nZ2xlSXRlbShjb25maWdPYmplY3QsIGxhYmVsLCBpdGVtQ29uZmlnLCBmb2xkZXIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWVudUl0ZW06IGZvbGRlci5hZGQoY29uZmlnT2JqZWN0LCBsYWJlbCksXG4gICAgICBvbkNoYW5nZUxpc3RlbmVyczogW11cbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdPYmplY3RcbiAgICogQHBhcmFtIHtzdHJpbmd9IGxhYmVsXG4gICAqIEBwYXJhbSB7VHJpZ2dlck1lbnVJdGVtQ29uZmlnfSBpdGVtQ29uZmlnXG4gICAqIEBwYXJhbSB7ZGF0Lmd1aS5HVUl9IGZvbGRlclxuICAgKiBAcmV0dXJucyB7TWVudUl0ZW1EYXRhfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc3RhdGljIF9jcmVhdGVUcmlnZ2VySXRlbShjb25maWdPYmplY3QsIGxhYmVsLCBpdGVtQ29uZmlnLCBmb2xkZXIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWVudUl0ZW06IGZvbGRlci5hZGQoY29uZmlnT2JqZWN0LCBsYWJlbCksXG4gICAgICBvbkNoYW5nZUxpc3RlbmVyczogW11cbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdPYmplY3RcbiAgICogQHBhcmFtIHtzdHJpbmd9IGxhYmVsXG4gICAqIEBwYXJhbSB7U2xpZGVyTWVudUl0ZW1Db25maWd9IGl0ZW1Db25maWdcbiAgICogQHBhcmFtIHtkYXQuZ3VpLkdVSX0gZm9sZGVyXG4gICAqIEByZXR1cm5zIHtNZW51SXRlbURhdGF9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBzdGF0aWMgX2NyZWF0ZVNsaWRlckl0ZW0oY29uZmlnT2JqZWN0LCBsYWJlbCwgaXRlbUNvbmZpZywgZm9sZGVyKSB7XG4gICAgLy8gUmVwbGFjZSB0aGUgb3JpZ2luYWwgaXRlbUNvbmZpZyBvbiB0aGUgY29uZmlnT2JqZWN0IHdpdGggdGhlIGFjdHVhbCBzdGFydGluZyB2YWx1ZS5cbiAgICBjb25maWdPYmplY3RbbGFiZWxdID0gaXRlbUNvbmZpZy5zdGFydDtcblxuICAgIGNvbnN0IGxpc3RlbmVycyA9IGlzSW50KGl0ZW1Db25maWcubWluKSAmJiBpc0ludChpdGVtQ29uZmlnLm1heClcbiAgICAgICAgPyBbQ29uZmlnQ29udHJvbGxlci5fdHJ1bmNhdGVUb0ludC5iaW5kKG51bGwsIGNvbmZpZ09iamVjdCwgbGFiZWwpXVxuICAgICAgICA6IFtdO1xuXG4gICAgLy8gQ3JlYXRlIHRoZSBtZW51IGl0ZW0uXG4gICAgcmV0dXJuIHtcbiAgICAgIG1lbnVJdGVtOiBmb2xkZXIuYWRkKGNvbmZpZ09iamVjdCwgbGFiZWwsIGl0ZW1Db25maWcubWluLCBpdGVtQ29uZmlnLm1heCksXG4gICAgICBvbkNoYW5nZUxpc3RlbmVyczogbGlzdGVuZXJzXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnT2JqZWN0XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBsYWJlbFxuICAgKiBAcGFyYW0ge051bWJlck1lbnVJdGVtQ29uZmlnfSBpdGVtQ29uZmlnXG4gICAqIEBwYXJhbSB7ZGF0Lmd1aS5HVUl9IGZvbGRlclxuICAgKiBAcmV0dXJucyB7TWVudUl0ZW1EYXRhfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc3RhdGljIF9jcmVhdGVOdW1iZXJJdGVtKGNvbmZpZ09iamVjdCwgbGFiZWwsIGl0ZW1Db25maWcsIGZvbGRlcikge1xuICAgIC8vIENyZWF0ZSB0aGUgbWVudSBpdGVtLlxuICAgIHJldHVybiB7XG4gICAgICBtZW51SXRlbTogZm9sZGVyLmFkZChjb25maWdPYmplY3QsIGxhYmVsKSxcbiAgICAgIG9uQ2hhbmdlTGlzdGVuZXJzOiBbXVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBpcyB1c2VkIHRvIGZvcmNlIGludCBzbGlkZXJzIHRvIG9ubHkgcHJvZHVjZSBpbnRzLlxuICAgKlxuICAgKiBUaGlzIHNob3VsZG4ndCBiZSBuZWVkZWQsIGJ1dCBkYXQuR1VJIGRvZXNuJ3Qgc2VlbSB0byBiZSBiZWhhdmluZyBjb25zaXN0ZW50bHkuXG4gICAqXG4gICAqIEBwYXJhbSBjb25maWdPYmplY3RcbiAgICogQHBhcmFtIGxhYmVsXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBzdGF0aWMgX3RydW5jYXRlVG9JbnQoY29uZmlnT2JqZWN0LCBsYWJlbCkge1xuICAgIGNvbmZpZ09iamVjdFtsYWJlbF0gPSBwYXJzZUludChjb25maWdPYmplY3RbbGFiZWxdKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnT2JqZWN0XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBsYWJlbFxuICAgKiBAcGFyYW0ge0hzbENvbG9yTWVudUl0ZW1Db25maWd9IGl0ZW1Db25maWdcbiAgICogQHBhcmFtIHtkYXQuZ3VpLkdVSX0gZm9sZGVyXG4gICAqIEByZXR1cm5zIHtNZW51SXRlbURhdGF9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBzdGF0aWMgX2NyZWF0ZUhzbENvbG9ySXRlbShjb25maWdPYmplY3QsIGxhYmVsLCBpdGVtQ29uZmlnLCBmb2xkZXIpIHtcbiAgICAvLyBDcmVhdGUgdGhlIHByb3BlcnR5IHRoYXQgdGhlIG1lbnUgaXRlbSB3aWxsIHVzZS5cbiAgICBpdGVtQ29uZmlnID0gaHNsVG9Ic3YoaXRlbUNvbmZpZyk7XG4gICAgY29uZmlnT2JqZWN0W2xhYmVsXSA9IGl0ZW1Db25maWc7XG5cbiAgICAvLyBTZXQgdXAgYSBsaXN0ZW5lciB0aGF0IHdpbGwga2VlcCBkZXJpdmVkIEhTTCB2YWx1ZXMgaW4gc3luYyB3aXRoIHRoZSBuYXRpdmUgSFNWIHZhbHVlcyB1c2VkXG4gICAgLy8gYnkgdGhlIGRhdC5HVUkgbWVudSBpdGVtLlxuICAgIGNvbnN0IGNhbGN1bGF0ZUhzbFZhbHVlcyA9ICgpID0+IHtcbiAgICAgIGNvbnN0IGhzbCA9IGhzdlRvSHNsKGNvbmZpZ09iamVjdFtsYWJlbF0pO1xuICAgICAgY29uc3QgcmdiID0gaHNsVG9SZ2IoaHNsKTtcbiAgICAgIGl0ZW1Db25maWcuaHNsID0gaHNsO1xuICAgICAgaXRlbUNvbmZpZy5yZ2IgPSByZ2I7XG4gICAgICBpdGVtQ29uZmlnLnJnYlZlYyA9IHZlYzMuZnJvbVZhbHVlcyhyZ2IuciwgcmdiLmcsIHJnYi5iKTtcbiAgICAgIGl0ZW1Db25maWcuaHNsLmNvbG9yU3RyaW5nID0gY3JlYXRlSHNsQ29sb3JTdHJpbmcoaHNsKTtcbiAgICB9O1xuICAgIGNhbGN1bGF0ZUhzbFZhbHVlcygpO1xuXG4gICAgLy8gQ3JlYXRlIHRoZSBtZW51IGl0ZW0uXG4gICAgcmV0dXJuIHtcbiAgICAgIG1lbnVJdGVtOiBmb2xkZXIuYWRkQ29sb3IoY29uZmlnT2JqZWN0LCBsYWJlbCksXG4gICAgICBvbkNoYW5nZUxpc3RlbmVyczogW2NhbGN1bGF0ZUhzbFZhbHVlc11cbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdPYmplY3RcbiAgICogQHBhcmFtIHtzdHJpbmd9IGxhYmVsXG4gICAqIEBwYXJhbSB7VGV4dE1lbnVJdGVtQ29uZmlnfSBpdGVtQ29uZmlnXG4gICAqIEBwYXJhbSB7ZGF0Lmd1aS5HVUl9IGZvbGRlclxuICAgKiBAcmV0dXJucyB7TWVudUl0ZW1EYXRhfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc3RhdGljIF9jcmVhdGVUZXh0SXRlbShjb25maWdPYmplY3QsIGxhYmVsLCBpdGVtQ29uZmlnLCBmb2xkZXIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWVudUl0ZW06IGZvbGRlci5hZGQoY29uZmlnT2JqZWN0LCBsYWJlbCksXG4gICAgICBvbkNoYW5nZUxpc3RlbmVyczogW11cbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdPYmplY3RcbiAgICogQHBhcmFtIHtzdHJpbmd9IGxhYmVsXG4gICAqIEBwYXJhbSB7VmVjM051bWJlck1lbnVJdGVtQ29uZmlnfSBpdGVtQ29uZmlnXG4gICAqIEBwYXJhbSB7ZGF0Lmd1aS5HVUl9IGZvbGRlclxuICAgKiBAcmV0dXJucyB7QXJyYXkuPE1lbnVJdGVtRGF0YT59XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBzdGF0aWMgX2NyZWF0ZVZlYzNOdW1iZXJJdGVtcyhjb25maWdPYmplY3QsIGxhYmVsLCBpdGVtQ29uZmlnLCBmb2xkZXIpIHtcbiAgICBjb25zdCB4TGFiZWwgPSBgJHtsYWJlbH1YYDtcbiAgICBjb25zdCB5TGFiZWwgPSBgJHtsYWJlbH1ZYDtcbiAgICBjb25zdCB6TGFiZWwgPSBgJHtsYWJlbH1aYDtcblxuICAgIC8vIFNldCB1cCBhIGxpc3RlbmVyIHRoYXQgd2lsbCBrZWVwIHRoZSBkZXJpdmVkIHZlYzMgaW4gc3luYyB3aXRoIGl0cyBpbmRpdmlkdWFsIGNvb3JkaW5hdGVzLlxuICAgIGNvbnN0IF91cGRhdGVWZWMzID0gKCkgPT4gdmVjMy5zZXQoaXRlbUNvbmZpZywgY29uZmlnT2JqZWN0W3hMYWJlbF0sIGNvbmZpZ09iamVjdFt5TGFiZWxdLFxuICAgICAgICBjb25maWdPYmplY3RbekxhYmVsXSk7XG5cbiAgICByZXR1cm4gW1xuICAgICAgWzAsIHhMYWJlbF0sXG4gICAgICBbMSwgeUxhYmVsXSxcbiAgICAgIFsyLCB6TGFiZWxdXG4gICAgXS5tYXAoaW5kZXhBbmRMYWJlbCA9PiB7XG4gICAgICBjb25zdCBpbmRleCA9IGluZGV4QW5kTGFiZWxbMF07XG4gICAgICBjb25zdCBsYWJlbCA9IGluZGV4QW5kTGFiZWxbMV07XG5cbiAgICAgIC8vIENyZWF0ZSB0aGUgaW5kaXZpZHVhbCB2ZWMzIGNvb3JkaW5hdGUgcHJvcGVydHkgYW5kIGluaXRpYWwgdmFsdWUuXG4gICAgICBjb25maWdPYmplY3RbbGFiZWxdID0gaXRlbUNvbmZpZ1tpbmRleF07XG5cbiAgICAgIC8vIENyZWF0ZSB0aGUgaW5kaXZpZHVhbCB2ZWMzIGNvb3JkaW5hdGUgbWVudSBpdGVtLlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbWVudUl0ZW06IGZvbGRlci5hZGQoY29uZmlnT2JqZWN0LCBsYWJlbCksXG4gICAgICAgIG9uQ2hhbmdlTGlzdGVuZXJzOiBbX3VwZGF0ZVZlYzNdLFxuICAgICAgICBsYWJlbDogbGFiZWxcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZ09iamVjdFxuICAgKiBAcGFyYW0ge3N0cmluZ30gbGFiZWxcbiAgICogQHBhcmFtIHtWZWMzU2xpZGVyTWVudUl0ZW1Db25maWd9IGl0ZW1Db25maWdcbiAgICogQHBhcmFtIHtkYXQuZ3VpLkdVSX0gZm9sZGVyXG4gICAqIEByZXR1cm5zIHtBcnJheS48TWVudUl0ZW1EYXRhPn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHN0YXRpYyBfY3JlYXRlVmVjM1NsaWRlckl0ZW1zKGNvbmZpZ09iamVjdCwgbGFiZWwsIGl0ZW1Db25maWcsIGZvbGRlcikge1xuICAgIC8vIFJlcGxhY2UgdGhlIG9yaWdpbmFsIGl0ZW1Db25maWcgb24gdGhlIGNvbmZpZ09iamVjdCB3aXRoIHRoZSBhY3R1YWwgc3RhcnRpbmcgdmFsdWUuXG4gICAgY29uZmlnT2JqZWN0W2xhYmVsXSA9IGl0ZW1Db25maWcuc3RhcnQ7XG5cbiAgICBjb25zdCB4TGFiZWwgPSBgJHtsYWJlbH1YYDtcbiAgICBjb25zdCB5TGFiZWwgPSBgJHtsYWJlbH1ZYDtcbiAgICBjb25zdCB6TGFiZWwgPSBgJHtsYWJlbH1aYDtcblxuICAgIC8vIFNldCB1cCBhIGxpc3RlbmVyIHRoYXQgd2lsbCBrZWVwIHRoZSBkZXJpdmVkIHZlYzMgaW4gc3luYyB3aXRoIGl0cyBpbmRpdmlkdWFsIGNvb3JkaW5hdGVzLlxuICAgIGNvbnN0IF91cGRhdGVWZWMzID0gKCkgPT4gdmVjMy5zZXQoY29uZmlnT2JqZWN0W2xhYmVsXSwgY29uZmlnT2JqZWN0W3hMYWJlbF0sXG4gICAgICAgIGNvbmZpZ09iamVjdFt5TGFiZWxdLCBjb25maWdPYmplY3RbekxhYmVsXSk7XG5cbiAgICByZXR1cm4gW1xuICAgICAgWzAsIHhMYWJlbF0sXG4gICAgICBbMSwgeUxhYmVsXSxcbiAgICAgIFsyLCB6TGFiZWxdXG4gICAgXS5tYXAoaW5kZXhBbmRMYWJlbCA9PiB7XG4gICAgICBjb25zdCBpbmRleCA9IGluZGV4QW5kTGFiZWxbMF07XG4gICAgICBjb25zdCBsYWJlbCA9IGluZGV4QW5kTGFiZWxbMV07XG4gICAgICBjb25zdCBzdGFydCA9IGl0ZW1Db25maWcuc3RhcnRbaW5kZXhdO1xuICAgICAgY29uc3QgbWluID0gaXRlbUNvbmZpZy5taW5baW5kZXhdO1xuICAgICAgY29uc3QgbWF4ID0gaXRlbUNvbmZpZy5tYXhbaW5kZXhdO1xuXG4gICAgICAvLyBDcmVhdGUgdGhlIGluZGl2aWR1YWwgdmVjMyBjb29yZGluYXRlIHByb3BlcnR5IGFuZCBpbml0aWFsIHZhbHVlLlxuICAgICAgY29uZmlnT2JqZWN0W2xhYmVsXSA9IHN0YXJ0O1xuXG4gICAgICAvLyBDcmVhdGUgdGhlIGluZGl2aWR1YWwgdmVjMyBjb29yZGluYXRlIG1lbnUgaXRlbS5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIG1lbnVJdGVtOiBmb2xkZXIuYWRkKGNvbmZpZ09iamVjdCwgbGFiZWwsIG1pbiwgbWF4KSxcbiAgICAgICAgb25DaGFuZ2VMaXN0ZW5lcnM6IFtfdXBkYXRlVmVjM10sXG4gICAgICAgIGxhYmVsOiBsYWJlbFxuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnT2JqZWN0XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBsYWJlbFxuICAgKiBAcGFyYW0ge1N0cmluZ1NlbGVjdG9yTWVudUl0ZW1Db25maWd9IGl0ZW1Db25maWdcbiAgICogQHBhcmFtIHtkYXQuZ3VpLkdVSX0gZm9sZGVyXG4gICAqIEByZXR1cm5zIHtNZW51SXRlbURhdGF9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBzdGF0aWMgX2NyZWF0ZVN0cmluZ1NlbGVjdG9ySXRlbShjb25maWdPYmplY3QsIGxhYmVsLCBpdGVtQ29uZmlnLCBmb2xkZXIpIHtcbiAgICAvLyBSZXBsYWNlIHRoZSBvcmlnaW5hbCBpdGVtQ29uZmlnIG9uIHRoZSBjb25maWdPYmplY3Qgd2l0aCB0aGUgYWN0dWFsIHN0YXJ0aW5nIHZhbHVlLlxuICAgIGNvbmZpZ09iamVjdFtsYWJlbF0gPSBpdGVtQ29uZmlnLnN0YXJ0O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIG1lbnVJdGVtOiBmb2xkZXIuYWRkKGNvbmZpZ09iamVjdCwgbGFiZWwsIGl0ZW1Db25maWcub3B0aW9ucyksXG4gICAgICBvbkNoYW5nZUxpc3RlbmVyczogW11cbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7TWVudUl0ZW1Db25maWd9IGl0ZW1Db25maWdcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBzdGF0aWMgaXNUb2dnbGVJdGVtKGl0ZW1Db25maWcpIHtcbiAgICByZXR1cm4gdHlwZW9mIGl0ZW1Db25maWcgPT09ICdib29sZWFuJztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge01lbnVJdGVtQ29uZmlnfSBpdGVtQ29uZmlnXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgc3RhdGljIGlzVHJpZ2dlckl0ZW0oaXRlbUNvbmZpZykge1xuICAgIHJldHVybiB0eXBlb2YgaXRlbUNvbmZpZyA9PT0gJ2Z1bmN0aW9uJztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge01lbnVJdGVtQ29uZmlnfSBpdGVtQ29uZmlnXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgc3RhdGljIGlzU2xpZGVySXRlbShpdGVtQ29uZmlnKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBpdGVtQ29uZmlnID09PSAnb2JqZWN0JyAmJlxuICAgICAgICB0eXBlb2YgaXRlbUNvbmZpZy5zdGFydCA9PT0gJ251bWJlcicgJiZcbiAgICAgICAgdHlwZW9mIGl0ZW1Db25maWcubWluID09PSAnbnVtYmVyJyAmJlxuICAgICAgICB0eXBlb2YgaXRlbUNvbmZpZy5tYXggPT09ICdudW1iZXInO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7TWVudUl0ZW1Db25maWd9IGl0ZW1Db25maWdcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBzdGF0aWMgaXNOdW1iZXJJdGVtKGl0ZW1Db25maWcpIHtcbiAgICByZXR1cm4gdHlwZW9mIGl0ZW1Db25maWcgPT09ICdudW1iZXInO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7TWVudUl0ZW1Db25maWd9IGl0ZW1Db25maWdcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBzdGF0aWMgaXNIc2xDb2xvckl0ZW0oaXRlbUNvbmZpZykge1xuICAgIHJldHVybiB0eXBlb2YgaXRlbUNvbmZpZyA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgdHlwZW9mIGl0ZW1Db25maWcuaCA9PT0gJ251bWJlcicgJiZcbiAgICAgICAgdHlwZW9mIGl0ZW1Db25maWcucyA9PT0gJ251bWJlcicgJiZcbiAgICAgICAgdHlwZW9mIGl0ZW1Db25maWcubCA9PT0gJ251bWJlcic7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtNZW51SXRlbUNvbmZpZ30gaXRlbUNvbmZpZ1xuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIHN0YXRpYyBpc1RleHRJdGVtKGl0ZW1Db25maWcpIHtcbiAgICByZXR1cm4gdHlwZW9mIGl0ZW1Db25maWcgPT09ICdzdHJpbmcnO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7TWVudUl0ZW1Db25maWd9IGl0ZW1Db25maWdcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBzdGF0aWMgaXNTdHJpbmdTZWxlY3Rvckl0ZW0oaXRlbUNvbmZpZykge1xuICAgIHJldHVybiB0eXBlb2YgaXRlbUNvbmZpZyA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgdHlwZW9mIGl0ZW1Db25maWcuc3RhcnQgPT09ICdzdHJpbmcnICYmXG4gICAgICAgIGl0ZW1Db25maWcub3B0aW9ucyBpbnN0YW5jZW9mIEFycmF5O1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7TWVudUl0ZW1Db25maWd9IGl0ZW1Db25maWdcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBzdGF0aWMgaXNWZWMzTnVtYmVySXRlbShpdGVtQ29uZmlnKSB7XG4gICAgcmV0dXJuIChpdGVtQ29uZmlnIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5IHx8IGl0ZW1Db25maWcgaW5zdGFuY2VvZiBBcnJheSkgJiZcbiAgICAgICAgaXRlbUNvbmZpZy5sZW5ndGggPT09IDM7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtNZW51SXRlbUNvbmZpZ30gaXRlbUNvbmZpZ1xuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIHN0YXRpYyBpc1ZlYzNTbGlkZXJJdGVtKGl0ZW1Db25maWcpIHtcbiAgICByZXR1cm4gdHlwZW9mIGl0ZW1Db25maWcgPT09ICdvYmplY3QnICYmXG4gICAgICAgIENvbmZpZ0NvbnRyb2xsZXIuaXNWZWMzTnVtYmVySXRlbShpdGVtQ29uZmlnLnN0YXJ0KSAmJlxuICAgICAgICBDb25maWdDb250cm9sbGVyLmlzVmVjM051bWJlckl0ZW0oaXRlbUNvbmZpZy5taW4pICYmXG4gICAgICAgIENvbmZpZ0NvbnRyb2xsZXIuaXNWZWMzTnVtYmVySXRlbShpdGVtQ29uZmlnLm1heCk7XG4gIH1cbn1cblxuY29uc3QgY29uZmlnQ29udHJvbGxlciA9IG5ldyBDb25maWdDb250cm9sbGVyKCk7XG5cbmV4cG9ydCB7Y29uZmlnQ29udHJvbGxlcn07XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gTWVudUl0ZW1EYXRhXG4gKiBAcHJvcGVydHkge2RhdC5ndWkuY29udHJvbGxlcn0gbWVudUl0ZW0gVGhlIGFjdHVhbCBkYXQuR1VJIG1lbnUgaXRlbS5cbiAqIEBwcm9wZXJ0eSB7QXJyYXkuPEZ1bmN0aW9uPn0gb25DaGFuZ2VMaXN0ZW5lcnMgb25DaGFuZ2UgbGlzdGVuZXJzIGZvciB0aGUgbWVudSBpdGVtLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtsYWJlbF0gVGhlIGxhYmVsIHVzZWQgZm9yIHRoZSBtZW51IGl0ZW0uXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBNZW51Rm9sZGVyQ29uZmlnXG4gKiBAcHJvcGVydHkge3N0cmluZ30gbGFiZWxcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBjb25maWcgQSBtYXAgZnJvbSBsYWJlbHMgdG8gTWVudUl0ZW1Db25maWdzLiBBbnkgY29uZmlnIGl0ZW0gd2hvc2UgbGFiZWxcbiAqIHN0YXJ0cyB3aXRoICdfJyB3aWxsIGJlIHRyZWF0ZWQgYXMgaW50ZXJuYWwgYW5kIHdpbGwgbm90IGJlIGV4cG9zZWQgdG8gdGhlIHVzZXIuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtpc09wZW49ZmFsc2VdXG4gKiBAcHJvcGVydHkge09iamVjdH0gW29uQ2hhbmdlTGlzdGVuZXJzXSBBIG1hcCBmcm9tIGxhYmVscyB0byBvbi1jaGFuZ2UgZXZlbnQgaGFuZGxlcnMuXG4gKiBAcHJvcGVydHkge0FycmF5LjxNZW51Rm9sZGVyQ29uZmlnPn0gW2NoaWxkRm9sZGVyc11cbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBbaXRlbXNdIEEgbWFwIGZyb20gbGFiZWxzIHRvIE1lbnVJdGVtRGF0YXMuXG4gKiBAcHJvcGVydHkge2RhdC5ndWkuR1VJfSBbZm9sZGVyXSBDcmVhdGVkIGFuZCBhZGRlZCBieSB0aGUgQ29uZmlnQ29udHJvbGxlciBhZnRlciByZWdpc3RlcmluZyB0aGVcbiAqIGZvbGRlci5cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtUb2dnbGVNZW51SXRlbUNvbmZpZ3xUcmlnZ2VyTWVudUl0ZW1Db25maWd8U2xpZGVyTWVudUl0ZW1Db25maWd8TnVtYmVyTWVudUl0ZW1Db25maWd8SHNsQ29sb3JNZW51SXRlbUNvbmZpZ3xUZXh0TWVudUl0ZW1Db25maWd8U3RyaW5nU2VsZWN0b3JNZW51SXRlbUNvbmZpZ3xWZWMzTnVtYmVyTWVudUl0ZW1Db25maWd8VmVjM1NsaWRlck1lbnVJdGVtQ29uZmlnfSBNZW51SXRlbUNvbmZpZ1xuICovXG5cbi8qKlxuICogQHR5cGVkZWYge2Jvb2xlYW59IFRvZ2dsZU1lbnVJdGVtQ29uZmlnXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7RnVuY3Rpb259IFRyaWdnZXJNZW51SXRlbUNvbmZpZ1xuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gU2xpZGVyTWVudUl0ZW1Db25maWdcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBzdGFydFxuICogQHByb3BlcnR5IHtudW1iZXJ9IG1pblxuICogQHByb3BlcnR5IHtudW1iZXJ9IG1heFxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge251bWJlcn0gTnVtYmVyTWVudUl0ZW1Db25maWdcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEhzbENvbG9yTWVudUl0ZW1Db25maWdcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBoIEEgdmFsdWUgZnJvbSAwIHRvIDEuXG4gKiBAcHJvcGVydHkge251bWJlcn0gcyBBIHZhbHVlIGZyb20gMCB0byAxLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IGwgQSB2YWx1ZSBmcm9tIDAgdG8gMS5cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtzdHJpbmd9IFRleHRNZW51SXRlbUNvbmZpZ1xuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gU3RyaW5nU2VsZWN0b3JNZW51SXRlbUNvbmZpZ1xuICogQHByb3BlcnR5IHtzdHJpbmd9IHN0YXJ0XG4gKiBAcHJvcGVydHkge0FycmF5LjxTdHJpbmc+fSBvcHRpb25zXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7dmVjM30gVmVjM051bWJlck1lbnVJdGVtQ29uZmlnXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBWZWMzU2xpZGVyTWVudUl0ZW1Db25maWdcbiAqIEBwcm9wZXJ0eSB7dmVjM30gc3RhcnRcbiAqIEBwcm9wZXJ0eSB7dmVjM30gbWluXG4gKiBAcHJvcGVydHkge3ZlYzN9IG1heFxuICovXG4iLCJpbXBvcnQgeyBhbmltYXRvciB9IGZyb20gJ2xzbC1hbmltYXRleCc7XG5pbXBvcnQge1xuICBHcmFmeENvbnRyb2xsZXIsXG4gIGhhbmRsZVBhZ2VGb2N1c0NoYW5nZSxcbn1cbmZyb20gJ2dyYWZ4JztcbmltcG9ydCB7IGNvbmZpZ0NvbnRyb2xsZXIgfSBmcm9tICcuL2NvbmZpZy1jb250cm9sbGVyJztcbmltcG9ydCB7IElucHV0Q29udHJvbGxlciB9IGZyb20gJy4vaW5wdXQtY29udHJvbGxlcic7XG5cbi8qKlxuICogVGhpcyB0b3AtbGV2ZWwgQ29udHJvbGxlciBjbGFzcyBpbml0aWFsaXplcyBhbmQgcnVucyB0aGUgcmVzdCBvZiB0aGUgYXBwLlxuICovXG5jbGFzcyBHYW1lQ29udHJvbGxlciBleHRlbmRzIEdyYWZ4Q29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG5cbiAgICB0aGlzLmlzR2FtZU92ZXIgPSB0cnVlO1xuICAgIHRoaXMuX2lucHV0Q3RybCA9IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgdGhlIGFwcC4gQWZ0ZXIgdGhpcyBjb21wbGV0ZXMgc3VjY2Vzc2Z1bGx5LCBjYWxsIHJ1biB0byBhY3R1YWxseSBzdGFydCB0aGUgYXBwLlxuICAgKlxuICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBjYW52YXNcbiAgICogQHBhcmFtIHtBcnJheS48UHJvZ3JhbVdyYXBwZXJDb25maWc+fSBwcm9ncmFtQ29uZmlncyBDb25maWd1cmF0aW9ucyBmb3IgcHJvZ3JhbSB3cmFwcGVycyB0aGF0XG4gICAqIHNob3VsZCBiZSBwcmUtY2FjaGVkIGJlZm9yZSBzdGFydGluZyB0aGUgcmVzdCBvZiB0aGUgYXBwLlxuICAgKiBAcGFyYW0ge0FycmF5LjxTdHJpbmc+fSB0ZXh0dXJlUGF0aHMgVGV4dHVyZSBpbWFnZXMgdGhhdCBzaG91bGQgYmUgcHJlLWNhY2hlZCBiZWZvcmVcbiAgICogc3RhcnRpbmcgdGhlIHJlc3Qgb2YgdGhlIGFwcC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbi48U2NlbmU+fSBTY2VuZUltcGwgQSBjbGFzcyB0aGF0IGV4dGVuZHMgR2FtZVNjZW5lLlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAgICovXG4gIGluaXRpYWxpemUoY2FudmFzLCBwcm9ncmFtQ29uZmlncywgdGV4dHVyZVBhdGhzLCBTY2VuZUltcGwpIHtcbiAgICB0aGlzLl9jYW52YXMgPSBjYW52YXM7XG5cbiAgICBjb25maWdDb250cm9sbGVyLmluaXRpYWxpemUoKTtcbiAgICB0aGlzLl9zZXRVcElucHV0KCk7XG5cbiAgICByZXR1cm4gc3VwZXIuaW5pdGlhbGl6ZShjYW52YXMsIHByb2dyYW1Db25maWdzLCB0ZXh0dXJlUGF0aHMsIFNjZW5lSW1wbCk7XG4gIH1cblxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuX2lucHV0Q3RybC5kZXN0cm95KCk7XG4gIH1cblxuICAvKipcbiAgICogUnVucyB0aGUgYXBwLiBUaGlzIHNob3VsZCBiZSBjYWxsZWQgYWZ0ZXIgaW5pdGlhbGl6ZS5cbiAgICpcbiAgICogQSBmZXcgdGhpbmdzIGhhcHBlbiBpZiB0aGlzIGlzIHJ1biBpbiBkZXYgbW9kZTpcbiAgICogLSBUaGUgZHJhdyBhbmQgdXBkYXRlIHN0ZXBzIG9mIGVhY2ggZnJhbWUgYXJlIHdyYXBwZWQgaW4gYSB0cnkvY2F0Y2ggYmxvY2suXG4gICAqIC0gVGhpcyBtZXRob2QgcmV0dXJucyBhIFByb21pc2UgdGhhdCByZWplY3RzIGlmIGFuIGVycm9yIGlzIHRocm93IGR1cmluZyBhbnkgdXBkYXRlIG9yIGRyYXdcbiAgICogICBzdGVwIGFuZCByZXNvbHZlcyB3aGVuIHRoaXMgY29udHJvbGxlciBoYXMgZmluaXNoZWQgKGN1cnJlbnRseSBuZXZlcilcbiAgICovXG4gIHJ1bigpIHtcbiAgICBoYW5kbGVQYWdlRm9jdXNDaGFuZ2UoaGFzRm9jdXMgPT4gdGhpcy5fb25QYWdlRm9jdXNDaGFuZ2UoaGFzRm9jdXMpKTtcbiAgICBzdXBlci5ydW4oKTtcbiAgfVxuXG4gIHBhdXNlKCkge1xuICAgIGFuaW1hdG9yLnBhdXNlKCk7XG4gIH1cblxuICB1bnBhdXNlKCkge1xuICAgIGFuaW1hdG9yLnVucGF1c2UoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGdldCBpc1BhdXNlZCgpIHtcbiAgICByZXR1cm4gYW5pbWF0b3IuaXNQYXVzZWQ7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtib29sZWFufSBoYXNGb2N1c1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX29uUGFnZUZvY3VzQ2hhbmdlKGhhc0ZvY3VzKSB7XG4gICAgaWYgKCFoYXNGb2N1cykge1xuICAgICAgdGhpcy5wYXVzZSgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3NldFVwSW5wdXQoKSB7XG4gICAgdGhpcy5faW5wdXRDdHJsID0gbmV3IElucHV0Q29udHJvbGxlcigpO1xuICAgIHRoaXMuX2lucHV0Q3RybC5wcmV2ZW50RGVmYXVsdEJyb3dzZXJCZWhhdmlvckZvcktleSgnU1BBQ0UnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyB0aGUgc2NlbmUuXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb24uPFNjZW5lPn0gU2NlbmVJbXBsIEEgY2xhc3MgdGhhdCBleHRlbmRzIEdhbWVTY2VuZS5cbiAgICogQHJldHVybnMge1Byb21pc2V9XG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIF9zZXRVcFNjZW5lKFNjZW5lSW1wbCkge1xuICAgIHRoaXMuX3NjZW5lID0gbmV3IFNjZW5lSW1wbCh7XG4gICAgICBnbDogdGhpcy5fZ2wsXG4gICAgICBnZXRWaWV3TWF0cml4OiAoKSA9PiB0aGlzLl9nZXRWaWV3TWF0cml4KCksXG4gICAgICBnZXRQcm9qZWN0aW9uTWF0cml4OiAoKSA9PiB0aGlzLl9nZXRQcm9qZWN0aW9uTWF0cml4KCksXG4gICAgfSwgdGhpcywgdGhpcy5faW5wdXRDdHJsKTtcbiAgICByZXR1cm4gdGhpcy5fc2NlbmUuZ2V0SXNSZWFkeSgpLnRoZW4oKCkgPT4ge1xuICAgICAgdGhpcy5fc2NlbmUucmVzZXQoKTtcbiAgICAgIHRoaXMuX3VwZGF0ZUFzcGVjdFJhdGlvKCk7IC8vIFRPRE86IFRoaXMgc2hvdWxkIE5PVCBoYXBwZW4gaGVyZSBvciB1c2luZyB0aGUgZ2xVdGlsIGdsb2JhbHMuXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IHsgR2FtZUNvbnRyb2xsZXIgfTtcbiIsImltcG9ydCB7IFNjZW5lIH0gZnJvbSAnZ3JhZngnO1xuaW1wb3J0IHsgQWFiYiB9IGZyb20gJ2xzbC1waHlzeCc7XG5cbi8qKlxuICogVGhpcyBjbGFzcyBoYW5kbGVzIHRoZSBvdmVyYWxsIHNjZW5lLlxuICpcbiAqIEBhYnN0cmFjdFxuICovXG5jbGFzcyBHYW1lU2NlbmUgZXh0ZW5kcyBTY2VuZSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge01vZGVsR3JvdXBDb250cm9sbGVyQ29uZmlnfSBtb2RlbENvbnRyb2xsZXJQYXJhbXNcbiAgICogQHBhcmFtIHtHYW1lQ29udHJvbGxlcn0gZ2FtZUN0cmxcbiAgICogQHBhcmFtIHtJbnB1dENvbnRyb2xsZXJ9IGlucHV0Q3RybFxuICAgKiBAcGFyYW0ge251bWJlcn0gcmVuZGVyRGlzdGFuY2VcbiAgICovXG4gIGNvbnN0cnVjdG9yKG1vZGVsQ29udHJvbGxlclBhcmFtcywgZ2FtZUN0cmwsIGlucHV0Q3RybCwgcmVuZGVyRGlzdGFuY2UpIHtcbiAgICBzdXBlcihtb2RlbENvbnRyb2xsZXJQYXJhbXMpO1xuXG4gICAgLy8gR2FtZVNjZW5lIGlzIGFuIGFic3RyYWN0IGNsYXNzLiBJdCBzaG91bGQgbm90IGJlIGluc3RhbnRpYXRlZCBkaXJlY3RseS5cbiAgICBpZiAobmV3LnRhcmdldCA9PT0gR2FtZVNjZW5lKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY29uc3RydWN0IEdhbWVTY2VuZSBpbnN0YW5jZXMgZGlyZWN0bHknKTtcbiAgICB9XG5cbiAgICB0aGlzLl9nYW1lQ3RybCA9IGdhbWVDdHJsO1xuICAgIHRoaXMuX2lucHV0Q3RybCA9IGlucHV0Q3RybDtcbiAgICB0aGlzLl9yZW5kZXJEaXN0YW5jZSA9IHJlbmRlckRpc3RhbmNlO1xuICAgIHRoaXMuX2JvdW5kcyA9IEFhYmIuY3JlYXRlQXNVbmlmb3JtQXJvdW5kQ2VudGVyKFxuICAgICAgdmVjMy5mcm9tVmFsdWVzKDAsIDAsIDApLCB0aGlzLl9yZW5kZXJEaXN0YW5jZSk7XG4gIH1cblxuICByZXNldCgpIHtcbiAgICB0aGlzLmNlbnRlck9mVm9sdW1lID0gdmVjMy5mcm9tVmFsdWVzKDAsIDAsIDApO1xuICAgIHN1cGVyLnJlc2V0KCk7XG4gIH1cblxuICAvKiogQHJldHVybnMge0FhYmJ9ICovXG4gIGdldCBib3VuZHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2JvdW5kcztcbiAgfVxuICAvKiogQHJldHVybnMge3ZlYzN9ICovXG4gIGdldCBjZW50ZXJPZlZvbHVtZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fYm91bmRzLmNlbnRlck9mVm9sdW1lO1xuICB9XG4gIC8qKiBAcGFyYW0ge3ZlYzN9IHZhbHVlICovXG4gIHNldCBjZW50ZXJPZlZvbHVtZSh2YWx1ZSkge1xuICAgIHRoaXMuX2JvdW5kcy5zZXRBc1VuaWZvcm1Bcm91bmRDZW50ZXIodmFsdWUsIHRoaXMuX3JlbmRlckRpc3RhbmNlKTtcbiAgfVxufVxuXG5leHBvcnQgeyBHYW1lU2NlbmUgfTtcbiIsImltcG9ydCB7a2V5Q29kZXN9IGZyb20gJ2dyYWZ4JztcblxuLy8gVE9ETzogRmlndXJlIG91dCBob3cgdG8gY2FwdHVyZTogdGFiLCBzcGFjZSwgZXNjYXBlLCBlbnRlcjsgcHJldmVudCB0aGVpciBkZWZhdWx0IGJlaGF2aW9ycyB3aGVuXG4vLyBsaXN0ZW5lcnMgaGF2ZSBiZWVuIHJlZ2lzdGVyZWQgZm9yIHRoZW0uXG5cbi8qKlxuICogVGhpcyBjbGFzcyBoYW5kbGVzIHVzZXIgaW5wdXQuXG4gKi9cbmNsYXNzIElucHV0Q29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuX2tleURvd25MaXN0ZW5lcnMgPSB7fTtcbiAgICB0aGlzLl9rZXlVcExpc3RlbmVycyA9IHt9O1xuICAgIHRoaXMuX2N1cnJlbnRseVByZXNzZWRLZXlzID0ge307XG4gICAgdGhpcy5fa2V5c1RvUHJldmVudERlZmF1bHRCcm93c2VyQmVoYXZpb3JGb3IgPSB7fTtcblxuICAgIHRoaXMuX21haW5LZXlEb3duTGlzdGVuZXIgPSBldmVudCA9PiB0aGlzLl9oYW5kbGVLZXlEb3duKGV2ZW50KTtcbiAgICB0aGlzLl9tYWluS2V5VXBMaXN0ZW5lciA9IGV2ZW50ID0+IHRoaXMuX2hhbmRsZUtleVVwKGV2ZW50KTtcbiAgICB0aGlzLl9tYWluS2V5UHJlc3NMaXN0ZW5lciA9IGV2ZW50ID0+IHRoaXMuX2hhbmRsZUtleVByZXNzKGV2ZW50KTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5fbWFpbktleURvd25MaXN0ZW5lciwgZmFsc2UpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMuX21haW5LZXlVcExpc3RlbmVyLCBmYWxzZSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXByZXNzJywgdGhpcy5fbWFpbktleVByZXNzTGlzdGVuZXIsIGZhbHNlKTtcbiAgfVxuXG4gIGRlc3Ryb3koKSB7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9tYWluS2V5RG93bkxpc3RlbmVyKTtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLl9tYWluS2V5VXBMaXN0ZW5lcik7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXByZXNzJywgdGhpcy5fbWFpbktleVByZXNzTGlzdGVuZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVycyBhIGNhbGxiYWNrIHRvIGJlIGNhbGxlZCB3aGVuZXZlciB0aGUgZ2l2ZW4ga2V5IGlzIHByZXNzZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXlcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAgICovXG4gIGFkZEtleURvd25MaXN0ZW5lcihrZXksIGNhbGxiYWNrKSB7XG4gICAgbGV0IGxpc3RlbmVyc0ZvcktleSA9IHRoaXMuX2tleURvd25MaXN0ZW5lcnNba2V5Q29kZXNba2V5XV07XG5cbiAgICAvLyBNYWtlIHN1cmUgdGhlIGxpc3RlbmVyIGxpc3QgaXMgaW5pdGlhbGl6ZWQgZm9yIHRoaXMga2V5LlxuICAgIGlmICghbGlzdGVuZXJzRm9yS2V5KSB7XG4gICAgICBsaXN0ZW5lcnNGb3JLZXkgPSBuZXcgU2V0KCk7XG4gICAgICB0aGlzLl9rZXlEb3duTGlzdGVuZXJzW2tleUNvZGVzW2tleV1dID0gbGlzdGVuZXJzRm9yS2V5O1xuICAgIH1cblxuICAgIGxpc3RlbmVyc0ZvcktleS5hZGQoY2FsbGJhY2spO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVycyBhIGNhbGxiYWNrIHRvIGJlIGNhbGxlZCB3aGVuZXZlciB0aGUgZ2l2ZW4ga2V5IGlzIGxpZnRlZC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgKi9cbiAgYWRkS2V5VXBMaXN0ZW5lcihrZXksIGNhbGxiYWNrKSB7XG4gICAgbGV0IGxpc3RlbmVyc0ZvcktleSA9IHRoaXMuX2tleVVwTGlzdGVuZXJzW2tleUNvZGVzW2tleV1dO1xuXG4gICAgLy8gTWFrZSBzdXJlIHRoZSBsaXN0ZW5lciBsaXN0IGlzIGluaXRpYWxpemVkIGZvciB0aGlzIGtleS5cbiAgICBpZiAoIWxpc3RlbmVyc0ZvcktleSkge1xuICAgICAgbGlzdGVuZXJzRm9yS2V5ID0gbmV3IFNldCgpO1xuICAgICAgdGhpcy5fa2V5VXBMaXN0ZW5lcnNba2V5Q29kZXNba2V5XV0gPSBsaXN0ZW5lcnNGb3JLZXk7XG4gICAgfVxuXG4gICAgbGlzdGVuZXJzRm9yS2V5LmFkZChjYWxsYmFjayk7XG4gIH1cblxuICAvKipcbiAgICogVW4tcmVnaXN0ZXJzIGEgY2FsbGJhY2sgdG8gYmUgY2FsbGVkIHdoZW5ldmVyIHRoZSBnaXZlbiBrZXkgaXMgcHJlc3NlZC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgKi9cbiAgcmVtb3ZlS2V5RG93bkxpc3RlbmVyKGtleSwgY2FsbGJhY2spIHtcbiAgICB0aGlzLl9rZXlEb3duTGlzdGVuZXJzW2tleUNvZGVzW2tleV1dLmRlbGV0ZShjYWxsYmFjayk7XG4gIH1cblxuICAvKipcbiAgICogVW4tcmVnaXN0ZXJzIGEgY2FsbGJhY2sgdG8gYmUgY2FsbGVkIHdoZW5ldmVyIHRoZSBnaXZlbiBrZXkgaXMgbGlmdGVkLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5XG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAqL1xuICByZW1vdmVLZXlVcExpc3RlbmVyKGtleSwgY2FsbGJhY2spIHtcbiAgICB0aGlzLl9rZXlVcExpc3RlbmVyc1trZXlDb2Rlc1trZXldXS5kZWxldGUoY2FsbGJhY2spO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVycyB0aGUgZ2l2ZW4ga2V5IHRvIHByZXZlbnQgdGhlIGRlZmF1bHQgYnJvd3NlciBiZWhhdmlvciB3aGVuIGl0IGlzIHByZXNzZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXlcbiAgICovXG4gIHByZXZlbnREZWZhdWx0QnJvd3NlckJlaGF2aW9yRm9yS2V5KGtleSkge1xuICAgIHRoaXMuX2tleXNUb1ByZXZlbnREZWZhdWx0QnJvd3NlckJlaGF2aW9yRm9yW2tleUNvZGVzW2tleV1dID0gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVbi1yZWdpc3RlcnMgdGhlIGdpdmVuIGtleSB0byBwcmV2ZW50IHRoZSBkZWZhdWx0IGJyb3dzZXIgYmVoYXZpb3Igd2hlbiBpdCBpcyBwcmVzc2VkLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5XG4gICAqL1xuICBhbGxvd0RlZmF1bHRCcm93c2VyQmVoYXZpb3JGb3JLZXkoa2V5KSB7XG4gICAgZGVsZXRlIHRoaXMuX2tleXNUb1ByZXZlbnREZWZhdWx0QnJvd3NlckJlaGF2aW9yRm9yW2tleUNvZGVzW2tleV1dO1xuICB9XG5cbiAgLyoqXG4gICAqIERldGVybWluZXMgd2hldGhlciB0aGUgZ2l2ZW4ga2V5IGlzIGN1cnJlbnRseSBwcmVzc2VkIGRvd24uXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXlcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBpc0tleUN1cnJlbnRseVByZXNzZWQoa2V5KSB7XG4gICAgcmV0dXJuICEhdGhpcy5fY3VycmVudGx5UHJlc3NlZEtleXNba2V5Q29kZXNba2V5XV07XG4gIH1cblxuICAvKipcbiAgICogU2F2ZXMgdGhlIGdpdmVuIGtleSBhcyBiZWluZyBwcmVzc2VkLlxuICAgKlxuICAgKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGV2ZW50XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaGFuZGxlS2V5RG93bihldmVudCkge1xuICAgIC8vIElmIHRoaXMga2V5IHdhcyBhbHJlYWR5IGJlaW5nIHByZXNzZWQgZG93biwgdGhlbiBkbyBub3RoaW5nICh3aGVuIGEga2V5IGlzIGhlbGQgZG93biwgbWFueVxuICAgIC8vIGtleWRvd24gZXZlbnRzIGFyZSBhY3R1YWxseSB0cmlnZ2VyZWQpLlxuICAgIGlmICh0aGlzLl9jdXJyZW50bHlQcmVzc2VkS2V5c1tldmVudC5rZXlDb2RlXSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIE1hcmsgdGhpcyBrZXkgYXMgYmVpbmcgcHJlc3NlZCBkb3duLlxuICAgIHRoaXMuX2N1cnJlbnRseVByZXNzZWRLZXlzW2V2ZW50LmtleUNvZGVdID0gdHJ1ZTtcblxuICAgIC8vIENhbGwgYW55IHJlZ2lzdGVyZWQga2V5LWRvd24gbGlzdGVuZXJzIGZvciB0aGlzIGtleS5cbiAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLl9rZXlEb3duTGlzdGVuZXJzW2V2ZW50LmtleUNvZGVdO1xuICAgIGlmIChsaXN0ZW5lcnMpIHtcbiAgICAgIGxpc3RlbmVycy5mb3JFYWNoKGxpc3RlbmVyID0+IGxpc3RlbmVyKCkpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxscyBhbGwga2V5LXVwIGxpc3RlbmVycyB0aGF0IGhhdmUgYmVlbiByZWdpc3RlcmVkIGZvciB0aGUgZ2l2ZW4ga2V5LlxuICAgKlxuICAgKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGV2ZW50XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaGFuZGxlS2V5VXAoZXZlbnQpIHtcbiAgICAvLyBNYXJrIHRoaXMga2V5IGFzIG5vIGxvbmdlciBiZWluZyBwcmVzc2VkIGRvd24uXG4gICAgZGVsZXRlIHRoaXMuX2N1cnJlbnRseVByZXNzZWRLZXlzW2V2ZW50LmtleUNvZGVdO1xuXG4gICAgLy8gQ2FsbCBhbnkgcmVnaXN0ZXJlZCBrZXktdXAgbGlzdGVuZXJzIGZvciB0aGlzIGtleS5cbiAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLl9rZXlVcExpc3RlbmVyc1tldmVudC5rZXlDb2RlXTtcbiAgICBpZiAobGlzdGVuZXJzKSB7XG4gICAgICBsaXN0ZW5lcnMuZm9yRWFjaChsaXN0ZW5lciA9PiBsaXN0ZW5lcigpKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUHJldmVudHMgdGhlIGRlZmF1bHQgYnJvd3NlciBiZWhhdmlvciBmb3Iga2V5cyB0aGF0IGhhdmUgYmVlbiByZWdpc3RlcmVkIHRvIHByZXZlbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZlbnRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9oYW5kbGVLZXlQcmVzcyhldmVudCkge1xuICAgIGlmICh0aGlzLl9rZXlzVG9QcmV2ZW50RGVmYXVsdEJyb3dzZXJCZWhhdmlvckZvcltldmVudC5rZXlDb2RlXSkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IHtJbnB1dENvbnRyb2xsZXJ9O1xuIiwiaW1wb3J0IHtpc0luRGV2TW9kZSwgTW9kZWxDb250cm9sbGVyLCBTdGFuZGFyZE1vZGVsQ29udHJvbGxlciwgdmVjM1RvU3RyaW5nfSBmcm9tICdncmFmeCc7XG5pbXBvcnQge1BoeXNpY3NKb2IsIFBoeXNpY3NTdGF0ZX0gZnJvbSAnbHNsLXBoeXN4JztcblxuLyoqXG4gKiBUaGlzIGNsYXNzIHJlcHJlc2VudHMgYSBub24tY29sbGlkYWJsZSBwaHlzaWNzLWJhc2VkIG1vZGVsLWNvbnRyb2xsZXIuXG4gKlxuICogSXQgdXNlcyBjb21wb3NpdGlvbiB0byBjb250cm9sIGFuIGluc3RhbmNlIG9mIGEgTW9kZWxDb250cm9sbGVyIGFsb25nIHdpdGggYSBjb3JyZXNwb25kaW5nXG4gKiBpbnN0YW5jZSBvZiBhIFBoeXNpY3NKb2IuXG4gKlxuICogQGltcGxlbWVudHMge01vZGVsQ29udHJvbGxlckludGVyZmFjZX1cbiAqIEBhYnN0cmFjdFxuICovXG5jbGFzcyBQaHlzaWNzTW9kZWxDb250cm9sbGVyIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7TW9kZWxDb250cm9sbGVyfE1vZGVsQ29udHJvbGxlckNvbmZpZ30gbW9kZWxDb250cm9sbGVyT3JQYXJhbXNcbiAgICogQHBhcmFtIHtQaHlzaWNzSm9ifER5bmFtaWNzQ29uZmlnfSBwaHlzaWNzSm9iT3JEeW5hbWljc1BhcmFtc1xuICAgKiBAcGFyYW0ge1JlbmRlcmFibGVTaGFwZUNvbmZpZ30gW3NoYXBlUGFyYW1zXVxuICAgKiBAcGFyYW0ge0FycmF5LjxGb3JjZUFwcGxpZXI+fSBbZm9yY2VBcHBsaWVyc11cbiAgICovXG4gIGNvbnN0cnVjdG9yKG1vZGVsQ29udHJvbGxlck9yUGFyYW1zLCBwaHlzaWNzSm9iT3JEeW5hbWljc1BhcmFtcywgc2hhcGVQYXJhbXMsIGZvcmNlQXBwbGllcnMpIHtcbiAgICAvLyBQaHlzaWNzTW9kZWxDb250cm9sbGVyIGlzIGFuIGFic3RyYWN0IGNsYXNzLiBJdCBzaG91bGQgbm90IGJlIGluc3RhbnRpYXRlZCBkaXJlY3RseS5cbiAgICBpZiAobmV3LnRhcmdldCA9PT0gUGh5c2ljc01vZGVsQ29udHJvbGxlcikge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNvbnN0cnVjdCBQaHlzaWNzTW9kZWxDb250cm9sbGVyIGluc3RhbmNlcyBkaXJlY3RseScpO1xuICAgIH1cblxuICAgIHRoaXMubW9kZWxDdHJsID0gbW9kZWxDb250cm9sbGVyT3JQYXJhbXMgaW5zdGFuY2VvZiBNb2RlbENvbnRyb2xsZXJcbiAgICAgICAgPyBtb2RlbENvbnRyb2xsZXJPclBhcmFtc1xuICAgICAgICA6IG5ldyBTdGFuZGFyZE1vZGVsQ29udHJvbGxlcihtb2RlbENvbnRyb2xsZXJPclBhcmFtcywgc2hhcGVQYXJhbXMpO1xuXG4gICAgaWYgKHBoeXNpY3NKb2JPckR5bmFtaWNzUGFyYW1zIGluc3RhbmNlb2YgUGh5c2ljc0pvYikge1xuICAgICAgdGhpcy5waHlzaWNzSm9iID0gcGh5c2ljc0pvYk9yRHluYW1pY3NQYXJhbXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHN0YXRlID0gbmV3IFBoeXNpY3NTdGF0ZShwaHlzaWNzSm9iT3JEeW5hbWljc1BhcmFtcyk7XG4gICAgICB0aGlzLnBoeXNpY3NKb2IgPSBuZXcgUGh5c2ljc0pvYihmb3JjZUFwcGxpZXJzLCBzdGF0ZSk7XG4gICAgfVxuXG4gICAgdGhpcy5fb3JpZ2luYWxQb3NpdGlvbiA9IHZlYzMuY2xvbmUodGhpcy5waHlzaWNzSm9iLmN1cnJlbnRTdGF0ZS5wb3NpdGlvbik7XG5cbiAgICB0aGlzLl9wYXRjaE1vZGVsQ29udHJvbGxlcih7XG4gICAgICAvKipcbiAgICAgICAqIFBhdGNoZXMgdGhlIE1vZGVsQ29udHJvbGxlcidzIHVwZGF0ZVRyYW5zZm9ybXMgbWV0aG9kIGluIG9yZGVyIHRvIGtlZXAgaXQncyBsb2NhbC10cmFuc2Zvcm1cbiAgICAgICAqIG1hdHJpeCBpbi1zeW5jIHdpdGggdGhlIFBoeXNpY3NKb2IncyBwb3NpdGlvbiBhbmQgb3JpZW50YXRpb24uXG4gICAgICAgKi9cbiAgICAgIHVwZGF0ZVRyYW5zZm9ybXM6IChzdXBlclZlcnNpb24pID0+IHtcbiAgICAgICAgLy8gVXBkYXRlIHRoZSBNb2RlbENvbnRyb2xsZXIncyBsb2NhbC10cmFuc2Zvcm0gbWF0cml4IGFjY29yZGluZyB0byB0aGUgUGh5c2ljc0pvYidzXG4gICAgICAgIC8vIGN1cnJlbnQgcG9zaXRpb24gYW5kIG9yaWVudGF0aW9uLlxuICAgICAgICBtYXQ0LmZyb21Sb3RhdGlvblRyYW5zbGF0aW9uU2NhbGUodGhpcy5tb2RlbEN0cmwuX2xvY2FsVHJhbnNmb3JtLFxuICAgICAgICAgICAgdGhpcy5yZW5kZXJPcmllbnRhdGlvbiwgdGhpcy5yZW5kZXJQb3NpdGlvbixcbiAgICAgICAgICAgIHRoaXMubW9kZWxDdHJsLnNjYWxlKTtcbiAgICAgICAgc3VwZXJWZXJzaW9uKCk7XG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgaWYgKGlzSW5EZXZNb2RlKSB7XG4gICAgICBjb25zdCBjb250cm9sbGVyTmFtZSA9IHRoaXMuY29uc3RydWN0b3IubmFtZS5yZXBsYWNlKCdDb250cm9sbGVyJywgJycpO1xuICAgICAgY29uc29sZS5kZWJ1ZyhgJHtjb250cm9sbGVyTmFtZX0gY3JlYXRlZCBAICR7dmVjM1RvU3RyaW5nKHRoaXMucG9zaXRpb24pfWApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBQYXRjaGVzIHRoZSBnaXZlbiBtZXRob2RzIG9uIHRoZSB1bmRlcmx5aW5nIE1vZGVsQ29udHJvbGxlci5cbiAgICpcbiAgICogVGhlIHBhdGNoZWQgbWV0aG9kcyBhcmUgcGFzc2VkIHRoZSBvcmlnaW5hbCBvciBcInN1cGVyXCIgdmVyc2lvbiBvZiB0aGUgbWV0aG9kIGFzIHRoZSBmaXJzdFxuICAgKiBhcmd1bWVudDsgdGhlIG5vcm1hbCBtZXRob2QgYXJndW1lbnRzIGFyZSBwcm92aWRlZCBhZnRlci5cbiAgICpcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgX3BhdGNoTW9kZWxDb250cm9sbGVyKHBhdGNoZXMpIHtcbiAgICBPYmplY3Qua2V5cyhwYXRjaGVzKS5mb3JFYWNoKChtZXRob2ROYW1lKSA9PiB7XG4gICAgICBjb25zdCBuZXdNZXRob2QgPSBwYXRjaGVzW21ldGhvZE5hbWVdO1xuICAgICAgY29uc3Qgc3VwZXJWZXJzaW9uID0gdGhpcy5tb2RlbEN0cmxbbWV0aG9kTmFtZV0uYmluZCh0aGlzLm1vZGVsQ3RybCk7XG4gICAgICB0aGlzLm1vZGVsQ3RybFttZXRob2ROYW1lXSA9IG5ld01ldGhvZC5iaW5kKHRoaXMubW9kZWxDdHJsLCBzdXBlclZlcnNpb24pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVycyB0aGlzIGNvbnRyb2xsZXIncyBQaHlzaWNzSm9iKHMpIHdpdGggdGhlIHBoeXNpY3MgZW5naW5lLlxuICAgKi9cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5tb2RlbEN0cmwucmVzZXQoKTtcbiAgICB0aGlzLnBoeXNpY3NKb2IucG9zaXRpb24gPSB0aGlzLl9vcmlnaW5hbFBvc2l0aW9uO1xuICAgIHRoaXMucGh5c2ljc0pvYi5maW5pc2goKTtcbiAgICB0aGlzLnBoeXNpY3NKb2Iuc3RhcnQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVbnJlZ2lzdGVycyB0aGlzIGNvbnRyb2xsZXIncyBQaHlzaWNzSm9iKHMpIHdpdGggdGhlIHBoeXNpY3MgZW5naW5lLlxuICAgKi9cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLm1vZGVsQ3RybC5kZXN0cm95KCk7XG4gICAgdGhpcy5waHlzaWNzSm9iLmZpbmlzaCgpO1xuICAgIGlmIChpc0luRGV2TW9kZSkge1xuICAgICAgY29uc3QgY29udHJvbGxlck5hbWUgPSB0aGlzLmNvbnN0cnVjdG9yLm5hbWUucmVwbGFjZSgnQ29udHJvbGxlcicsICcnKTtcbiAgICAgIGNvbnNvbGUuZGVidWcoYCR7Y29udHJvbGxlck5hbWV9IGRlc3Ryb3llZCBAICR7dmVjM1RvU3RyaW5nKHRoaXMucG9zaXRpb24pfWApO1xuICAgIH1cbiAgfVxuXG4gIC8qKiBAcGFyYW0ge3ZlYzN9IHZhbHVlICovXG4gIHNldCBwb3NpdGlvbih2YWx1ZSkge1xuICAgIHRoaXMucGh5c2ljc0pvYi5wb3NpdGlvbiA9IHZhbHVlO1xuICB9XG4gIC8qKiBAcmV0dXJucyB7dmVjM30gKi9cbiAgZ2V0IHBvc2l0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnBoeXNpY3NKb2IuY3VycmVudFN0YXRlLnBvc2l0aW9uO1xuICB9XG4gIC8qKiBAcmV0dXJucyB7cXVhdH0gKi9cbiAgZ2V0IG9yaWVudGF0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnBoeXNpY3NKb2IuY3VycmVudFN0YXRlLm9yaWVudGF0aW9uO1xuICB9XG4gIC8vIEZJWE1FOiBDYW4gSSByZW1vdmUgdGhpcz9cbiAgLyoqIEByZXR1cm5zIHt2ZWMzfSAqL1xuICBnZXQgdmVsb2NpdHkoKSB7XG4gICAgcmV0dXJuIHRoaXMucGh5c2ljc0pvYi5jdXJyZW50U3RhdGUudmVsb2NpdHk7XG4gIH1cblxuICAvKiogQHJldHVybnMge3ZlYzN9ICovXG4gIGdldCByZW5kZXJQb3NpdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5waHlzaWNzSm9iLnJlbmRlclN0YXRlLnBvc2l0aW9uO1xuICB9XG4gIC8qKiBAcmV0dXJucyB7cXVhdH0gKi9cbiAgZ2V0IHJlbmRlck9yaWVudGF0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnBoeXNpY3NKb2IucmVuZGVyU3RhdGUub3JpZW50YXRpb247XG4gIH1cbiAgLy8gRklYTUU6IENhbiBJIHJlbW92ZSB0aGlzP1xuICAvKiogQHJldHVybnMge3ZlYzN9ICovXG4gIGdldCByZW5kZXJWZWxvY2l0eSgpIHtcbiAgICByZXR1cm4gdGhpcy5waHlzaWNzSm9iLnJlbmRlclN0YXRlLnZlbG9jaXR5O1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtEZWZhdWx0TW9kZWx9XG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIGdldCBfbW9kZWwoKSB7XG4gICAgcmV0dXJuIHRoaXMubW9kZWxDdHJsLl9tb2RlbDtcbiAgfVxuICAvKipcbiAgICogQHJldHVybnMge3ZlYzN9XG4gICAqL1xuICBnZXQgc2NhbGUoKSB7XG4gICAgcmV0dXJuIHRoaXMubW9kZWxDdHJsLnNjYWxlO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhpcyBtb2RlbCBjb250cm9sbGVyIGlzIHJlYWR5IGZvciB0aGUgYXBwIHRvIHJ1bi5cbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2V9XG4gICAqL1xuICBnZXRJc1JlYWR5KCkge1xuICAgIHJldHVybiB0aGlzLm1vZGVsQ3RybC5nZXRJc1JlYWR5KCk7XG4gIH1cbiAgLyoqXG4gICAqIEdldHMgdGhlIG1vZGVsIHRyYW5zZm9ybSBtYXRyaXgsIGluIGxvY2FsIGNvb3JkaW5hdGVzLlxuICAgKlxuICAgKiBAcmV0dXJucyB7bWF0NH1cbiAgICovXG4gIGdldCBsb2NhbFRyYW5zZm9ybSgpIHtcbiAgICByZXR1cm4gdGhpcy5tb2RlbEN0cmwubG9jYWxUcmFuc2Zvcm07XG4gIH1cbiAgLyoqXG4gICAqIEdldHMgdGhlIG1vZGVsIHRyYW5zZm9ybSBtYXRyaXgsIGluIHdvcmxkIGNvb3JkaW5hdGVzLlxuICAgKlxuICAgKiBAcmV0dXJucyB7bWF0NH1cbiAgICovXG4gIGdldCB3b3JsZFRyYW5zZm9ybSgpIHtcbiAgICByZXR1cm4gdGhpcy5tb2RlbEN0cmwud29ybGRUcmFuc2Zvcm07XG4gIH1cbiAgLyoqXG4gICAqIENhbGxzIHVwZGF0ZSwgdXBkYXRlVHJhbnNmb3JtcywgYW5kIHVwZGF0ZUNoaWxkcmVuLlxuICAgKlxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGN1cnJlbnRUaW1lXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gZGVsdGFUaW1lXG4gICAqL1xuICB1cGRhdGVTZWxmQW5kQ2hpbGRyZW4oY3VycmVudFRpbWUsIGRlbHRhVGltZSkge1xuICAgIHRoaXMubW9kZWxDdHJsLnVwZGF0ZVNlbGZBbmRDaGlsZHJlbihjdXJyZW50VGltZSwgZGVsdGFUaW1lKTtcbiAgfVxufVxuXG5leHBvcnQge1BoeXNpY3NNb2RlbENvbnRyb2xsZXJ9O1xuIiwiaW1wb3J0IHtGb2xsb3dDYW1lcmF9IGZyb20gJ2dyYWZ4JztcblxuLy8gVE9ETzogSWRlYWxseSwgdGhpcyB3b3VsZCB1c2UgdGhlIGJ1aWx0LWluIHBoeXNpY3MgZW5naW5lOyBob3dldmVyLCB3ZSBJIHRyaWVkIGludGVncmF0aW5nIGl0XG4vLyBiZWZvcmUsIEkgbm90aWNlZCBzb21lIGluc3RhYmlsaXR5IHdoZW4gbW92aW5nIGF0IGhpZ2ggc3BlZWRzLiBUaGlzIHByb2JhYmx5IGhhZCBzb21ldGhpbmcgdG8gZG9cbi8vIHdpdGggYWNjZXNzaW5nIGRpZmZlcmVudCB2ZXJzaW9ucyBvZiB0aGUgdGFyZ2V0IHBvc2l0aW9uIChwcmV2aW91c1N0YXRlIHZzIGN1cnJlbnRTdGF0ZSB2c1xuLy8gcmVuZGVyU3RhdGUpZm9yIGZvcmNlL3Bvc2l0aW9uIGNhbGN1bGF0aW9uc1xuXG4vKipcbiAqIFRoaXMgY2xhc3MgZGVmaW5lcyBhIHNwcmluZy1iYXNlZCBmb2xsb3cgY2FtZXJhLlxuICpcbiAqIFRoaXMgY2FtZXJhIGlzIHBvc2l0aW9uZWQgYXQgYSByZWxhdGl2ZSwgZmxleGlibGUgZGlzdGFuY2UgYW5kIHJvdGF0aW9uIGZyb20gdGhlIG9ic2VydmVkIHRhcmdldFxuICogYW5kIGZvbGxvd3MgdGhlIHRhcmdldCdzIHBvc2l0aW9uIGFuZCBvcmllbnRhdGlvbiB3aXRoIGEgc3ByaW5nIGZvcmNlIHR5aW5nIHRoZSBjYW1lcmEgdG8gdGhlXG4gKiBkZXNpcmVkIHBvc2l0aW9uLlxuICpcbiAqIEEgZm9sbG93IGNhbWVyYSByb3RhdGVzIGluIGFsbCB0aHJlZSBkaW1lbnNpb25zOyBpdCBkb2VzIG5vdCBoYXZlIGEgZml4ZWQgcm9sbC5cbiAqL1xuY2xhc3MgU3ByaW5nRm9sbG93Q2FtZXJhIGV4dGVuZHMgRm9sbG93Q2FtZXJhIHtcbiAgLyoqXG4gICAqIElmIG9sZENhbWVyYSBpcyBnaXZlbiwgdGhlbiB0aGUgc3RhdGUgb2YgdGhlIG5ldyBjYW1lcmEgd2lsbCBiZSBpbml0aWFsaXplZCB0byBtYXRjaCB0aGF0IG9mXG4gICAqIHRoZSBvbGQgY2FtZXJhLiBUaGlzIGVuYWJsZXMgYSBzbW9vdGggdHJhbnNpdGlvbiB3aGVuIGNoYW5naW5nIGNhbWVyYXMuXG4gICAqXG4gICAqIEBwYXJhbSB7Q2FtZXJhVGFyZ2V0fSBjYW1lcmFUYXJnZXRcbiAgICogQHBhcmFtIHtGb2xsb3dDYW1lcmFDb25maWd9IGZvbGxvd0NhbWVyYVBhcmFtc1xuICAgKiBAcGFyYW0ge0NhbWVyYUNvbmZpZ30gY2FtZXJhUGFyYW1zXG4gICAqIEBwYXJhbSB7Q2FtZXJhfSBbb2xkQ2FtZXJhXVxuICAgKi9cbiAgY29uc3RydWN0b3IoY2FtZXJhVGFyZ2V0LCBmb2xsb3dDYW1lcmFQYXJhbXMsIGNhbWVyYVBhcmFtcywgb2xkQ2FtZXJhKSB7XG4gICAgc3VwZXIoY2FtZXJhVGFyZ2V0LCBmb2xsb3dDYW1lcmFQYXJhbXMsIGNhbWVyYVBhcmFtcywgb2xkQ2FtZXJhKTtcbiAgICAvLyBUaGVzZSBjb3VsZCBoYXZlIGJlZW4gc2V0IGluIF9tYXRjaE9sZENhbWVyYS5cbiAgICB0aGlzLl92ZWxvY2l0eSA9IHRoaXMuX3ZlbG9jaXR5IHx8IHZlYzMuY3JlYXRlKCk7XG4gICAgdGhpcy5fYWNjZWxlcmF0aW9uID0gdGhpcy5fYWNjZWxlcmF0aW9uIHx8IHZlYzMuY3JlYXRlKCk7XG4gIH1cblxuICByZXNldCgpIHtcbiAgICBzdXBlci5yZXNldCgpO1xuICAgIHZlYzMuY29weSh0aGlzLl9wb3NpdGlvbiwgdGhpcy5fZm9sbG93Q2FtZXJhUGFyYW1zLl9pbnRlbmRlZFRyYW5zbGF0aW9uRnJvbVRhcmdldCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtET01IaWdoUmVzVGltZVN0YW1wfSBjdXJyZW50VGltZVxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGRlbHRhVGltZVxuICAgKi9cbiAgdXBkYXRlKGN1cnJlbnRUaW1lLCBkZWx0YVRpbWUpIHtcbiAgICB0aGlzLl91cGRhdGVBY2NlbGVyYXRpb25WZWxvY2l0eUFuZFBvc2l0aW9uKGRlbHRhVGltZSk7XG4gICAgdGhpcy5fdXBkYXRlT3JpZW50YXRpb24oKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGRlbHRhVGltZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3VwZGF0ZUFjY2VsZXJhdGlvblZlbG9jaXR5QW5kUG9zaXRpb24oZGVsdGFUaW1lKSB7XG4gICAgdGhpcy5fdXBkYXRlQWNjZWxlcmF0aW9uKCk7XG4gICAgdGhpcy5fdXBkYXRlUG9zaXRpb24oZGVsdGFUaW1lKTtcbiAgICB0aGlzLl91cGRhdGVWZWxvY2l0eShkZWx0YVRpbWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGUgY2FtZXJhJ3MgYWNjZWxlcmF0aW9uIHVzaW5nIEhvb2tlJ3MgbGF3IGFuZCBkcmFnLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3VwZGF0ZUFjY2VsZXJhdGlvbigpIHtcbiAgICB0aGlzLl9hcHBseVNwcmluZ0FjY2VsZXJhdGlvbigpO1xuICAgIHRoaXMuX2FwcGx5U3ByaW5nRGFtcGluZygpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGUgY2FtZXJhJ3MgYWNjZWxlcmF0aW9uIHVzaW5nIEhvb2tlJ3MgbGF3LlxuICAgKlxuICAgKiBhY2NlbGVyYXRpb24gPSBkaXNwbGFjZW1lbnQgKiBjb2VmZmljaWVudFxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2FwcGx5U3ByaW5nQWNjZWxlcmF0aW9uKCkge1xuICAgIGNvbnN0IGRpc3BsYWNlbWVudCA9IHZlYzMuY3JlYXRlKCk7XG4gICAgdmVjMy5zdWJ0cmFjdChkaXNwbGFjZW1lbnQsIHRoaXMuX2dldEludGVuZGVkUG9zaXRpb24oKSwgdGhpcy5fcG9zaXRpb24pO1xuICAgIHZlYzMuc2NhbGUodGhpcy5fYWNjZWxlcmF0aW9uLCBkaXNwbGFjZW1lbnQsIHRoaXMuX2ZvbGxvd0NhbWVyYVBhcmFtcy5zcHJpbmdDb2VmZmljaWVudCk7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9hcHBseVNwcmluZ0RhbXBpbmcoKSB7XG4gICAgY29uc3QgZGFtcGluZyA9IHZlYzMuY3JlYXRlKCk7XG4gICAgdmVjMy5zY2FsZShkYW1waW5nLCB0aGlzLl92ZWxvY2l0eSwgLXRoaXMuX2ZvbGxvd0NhbWVyYVBhcmFtcy5kYW1waW5nQ29lZmZpY2llbnQpO1xuICAgIHZlYzMuYWRkKHRoaXMuX2FjY2VsZXJhdGlvbiwgdGhpcy5fYWNjZWxlcmF0aW9uLCBkYW1waW5nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgdGhlIGNhbWVyYSdzIHZlbG9jaXR5IGFjY29yZGluZyB0byBpdHMgY3VycmVudCBhY2NlbGVyYXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gZGVsdGFUaW1lXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfdXBkYXRlVmVsb2NpdHkoZGVsdGFUaW1lKSB7XG4gICAgdmVjMy5zY2FsZUFuZEFkZCh0aGlzLl92ZWxvY2l0eSwgdGhpcy5fdmVsb2NpdHksIHRoaXMuX2FjY2VsZXJhdGlvbiwgZGVsdGFUaW1lKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgdGhlIGNhbWVyYSdzIHBvc2l0aW9uIGFjY29yZGluZyB0byBpdHMgY3VycmVudCB2ZWxvY2l0eS5cbiAgICpcbiAgICogQHBhcmFtIHtET01IaWdoUmVzVGltZVN0YW1wfSBkZWx0YVRpbWVcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF91cGRhdGVQb3NpdGlvbihkZWx0YVRpbWUpIHtcbiAgICB2ZWMzLnNjYWxlQW5kQWRkKHRoaXMuX3Bvc2l0aW9uLCB0aGlzLl9wb3NpdGlvbiwgdGhpcy5fdmVsb2NpdHksIGRlbHRhVGltZSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtDYW1lcmF9IG9sZENhbWVyYVxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBfbWF0Y2hPbGRDYW1lcmEob2xkQ2FtZXJhKSB7XG4gICAgc3VwZXIuX21hdGNoT2xkQ2FtZXJhKG9sZENhbWVyYSk7XG4gICAgaWYgKG9sZENhbWVyYSBpbnN0YW5jZW9mIFNwcmluZ0ZvbGxvd0NhbWVyYSkge1xuICAgICAgdGhpcy5fdmVsb2NpdHkgPSB0aGlzLl92ZWxvY2l0eSB8fCB2ZWMzLmNyZWF0ZSgpO1xuICAgICAgdGhpcy5fYWNjZWxlcmF0aW9uID0gdGhpcy5fYWNjZWxlcmF0aW9uIHx8IHZlYzMuY3JlYXRlKCk7XG4gICAgICB2ZWMzLmNvcHkodGhpcy5fdmVsb2NpdHksIG9sZENhbWVyYS5fdmVsb2NpdHkpO1xuICAgICAgdmVjMy5jb3B5KHRoaXMuX2FjY2VsZXJhdGlvbiwgb2xkQ2FtZXJhLl9hY2NlbGVyYXRpb24pO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQge1NwcmluZ0ZvbGxvd0NhbWVyYX07XG4iLCJleHBvcnQgKiBmcm9tICcuL3NyYy93YWxsLWNvbGxpZGFibGUnO1xuZXhwb3J0ICogZnJvbSAnLi9zcmMvd2FsbC1jb250cm9sbGVyJztcbiIsImltcG9ydCB7IEFhYmIgfSBmcm9tICdsc2wtcGh5c3gnO1xuXG4vKipcbiAqIFRoaXMgY2xhc3MgcmVwcmVzZW50cyBhIHdhbGwgb3IgZmxvb3IuXG4gKlxuICogVGhpcyBpcyBqdXN0IGEgY29udmVuaWVuY2UgY2xhc3MgdGhhdCBleHRlbmRzIEFhYmIuXG4gKi9cbmNsYXNzIFdhbGwgZXh0ZW5kcyBBYWJiIHtcbiAgLyoqXG4gICAqIC0gSWYgdGhlIHggcGFyYW1ldGVyIGlzIGdpdmVuLCB0aGVuIGEgd2FsbCB3aWxsIGJlIGNvbnN0cnVjdGVkIGFsb25nIHRoZSB5LXogcGxhbmUgd2l0aCBpdHNcbiAgICogc3VyZmFjZSBhdCB0aGUgeCBjb29yZGluYXRlLiBUaGUgeSBhbmQgeiBwYXJhbWV0ZXJzIGFyZSBoYW5kbGVkIHNpbWlsYXJseS5cbiAgICogLSBPbmx5IG9uZSBvZiB0aGUgeC95L3ogcGFyYW1ldGVycyBzaG91bGQgYmUgc3BlY2lmaWVkLlxuICAgKiAtIElmIGlzT3Blbk9uUG9zaXRpdmVTaWRlIGlzIHRydWUsIHRoZW4gdGhlIHdhbGwgd2lsbCBiZSBvcGVuIHRvd2FyZCB0aGUgcG9zaXRpdmUgZGlyZWN0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge1dhbGxQYXJhbXN9IHdhbGxQYXJhbXNcbiAgICovXG4gIGNvbnN0cnVjdG9yKHdhbGxQYXJhbXMpIHtcbiAgICBsZXQgbWluWDtcbiAgICBsZXQgbWluWTtcbiAgICBsZXQgbWluWjtcbiAgICBsZXQgbWF4WDtcbiAgICBsZXQgbWF4WTtcbiAgICBsZXQgbWF4WjtcblxuICAgIGxldCB7IHgsIHksIHosIGlzT3Blbk9uUG9zaXRpdmVTaWRlLCB0aGlja25lc3MsIGhhbGZTaWRlTGVuZ3RoIH0gPSB3YWxsUGFyYW1zO1xuICAgIHRoaWNrbmVzcyA9IHRoaWNrbmVzcyB8fCA4MDAwMDtcbiAgICBoYWxmU2lkZUxlbmd0aCA9IGhhbGZTaWRlTGVuZ3RoIHx8IDgwMDAwO1xuXG4gICAgaWYgKHR5cGVvZiB4ID09PSAnbnVtYmVyJykge1xuICAgICAgaWYgKGlzT3Blbk9uUG9zaXRpdmVTaWRlKSB7XG4gICAgICAgIG1pblggPSB4IC0gdGhpY2tuZXNzO1xuICAgICAgICBtYXhYID0geDtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBtaW5YID0geDtcbiAgICAgICAgbWF4WCA9IHggKyB0aGlja25lc3M7XG4gICAgICB9XG4gICAgICBtaW5ZID0gLWhhbGZTaWRlTGVuZ3RoO1xuICAgICAgbWluWiA9IC1oYWxmU2lkZUxlbmd0aDtcbiAgICAgIG1heFkgPSBoYWxmU2lkZUxlbmd0aDtcbiAgICAgIG1heFogPSBoYWxmU2lkZUxlbmd0aDtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIHkgPT09ICdudW1iZXInKSB7XG4gICAgICBpZiAoaXNPcGVuT25Qb3NpdGl2ZVNpZGUpIHtcbiAgICAgICAgbWluWSA9IHkgLSB0aGlja25lc3M7XG4gICAgICAgIG1heFkgPSB5O1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIG1pblkgPSB5O1xuICAgICAgICBtYXhZID0geSArIHRoaWNrbmVzcztcbiAgICAgIH1cbiAgICAgIG1pblggPSAtaGFsZlNpZGVMZW5ndGg7XG4gICAgICBtaW5aID0gLWhhbGZTaWRlTGVuZ3RoO1xuICAgICAgbWF4WCA9IGhhbGZTaWRlTGVuZ3RoO1xuICAgICAgbWF4WiA9IGhhbGZTaWRlTGVuZ3RoO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGlmIChpc09wZW5PblBvc2l0aXZlU2lkZSkge1xuICAgICAgICBtaW5aID0geiAtIHRoaWNrbmVzcztcbiAgICAgICAgbWF4WiA9IHo7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgbWluWiA9IHo7XG4gICAgICAgIG1heFogPSB6ICsgdGhpY2tuZXNzO1xuICAgICAgfVxuICAgICAgbWluWCA9IC1oYWxmU2lkZUxlbmd0aDtcbiAgICAgIG1pblkgPSAtaGFsZlNpZGVMZW5ndGg7XG4gICAgICBtYXhYID0gaGFsZlNpZGVMZW5ndGg7XG4gICAgICBtYXhZID0gaGFsZlNpZGVMZW5ndGg7XG4gICAgfVxuXG4gICAgc3VwZXIobWluWCwgbWluWSwgbWluWiwgbWF4WCwgbWF4WSwgbWF4WiwgdHJ1ZSk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge3ZlYzN9XG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0IHNjYWxlKCkge1xuICAgIC8vIFJldXNlIHRoZSBzYW1lIG9iamVjdCB3aGVuIHRoaXMgaXMgY2FsbGVkIG11bHRpcGxlIHRpbWVzLlxuICAgIHRoaXMuX3NjYWxlID0gdGhpcy5fc2NhbGUgfHwgdmVjMy5jcmVhdGUoKTtcbiAgICB2ZWMzLnNldCh0aGlzLl9zY2FsZSwgdGhpcy5yYW5nZVgsIHRoaXMucmFuZ2VZLCB0aGlzLnJhbmdlWik7XG4gICAgcmV0dXJuIHRoaXMuX3NjYWxlO1xuICB9XG59XG5cbmV4cG9ydCB7IFdhbGwgfTtcbiIsImltcG9ydCB7U3RhbmRhcmRNb2RlbENvbnRyb2xsZXJ9IGZyb20gJ2dyYWZ4JztcbmltcG9ydCB7Y29sbGlkYWJsZVN0b3JlfSBmcm9tICdsc2wtcGh5c3gnO1xuXG5pbXBvcnQge1dhbGx9IGZyb20gJy4vd2FsbC1jb2xsaWRhYmxlJztcblxuLyoqXG4gKiBUaGlzIGNsYXNzIGRlZmluZXMgYSB3YWxsLWNvbnRyb2xsZXIuXG4gKi9cbmNsYXNzIFdhbGxDb250cm9sbGVyIGV4dGVuZHMgU3RhbmRhcmRNb2RlbENvbnRyb2xsZXIge1xuICAvKipcbiAgICogQHBhcmFtIHtNb2RlbENvbnRyb2xsZXJDb25maWd9IG1vZGVsQ29udHJvbGxlclBhcmFtc1xuICAgKiBAcGFyYW0ge1dhbGxQYXJhbXN9IHdhbGxQYXJhbXNcbiAgICovXG4gIGNvbnN0cnVjdG9yKG1vZGVsQ29udHJvbGxlclBhcmFtcywgd2FsbFBhcmFtcykge1xuICAgIGNvbnN0IHNoYXBlUGFyYW1zID0ge1xuICAgICAgc2hhcGVJZDogJ0NVQkUnLFxuICAgICAgaXNVc2luZ1NwaGVyaWNhbE5vcm1hbHM6IHdhbGxQYXJhbXMudXNlU21vb3RoU2hhZGluZyxcbiAgICAgIHRleHR1cmVTcGFuOiB3YWxsUGFyYW1zLnRleHR1cmVTcGFuXG4gICAgfTtcblxuICAgIHN1cGVyKG1vZGVsQ29udHJvbGxlclBhcmFtcywgc2hhcGVQYXJhbXMpO1xuXG4gICAgdGhpcy5fY29sbGlkYWJsZSA9IG5ldyBXYWxsKHdhbGxQYXJhbXMpO1xuICAgIGNvbGxpZGFibGVTdG9yZS5yZWdpc3RlckNvbGxpZGFibGUodGhpcy5fY29sbGlkYWJsZSk7XG4gIH1cblxuICByZXNldCgpIHtcbiAgICAvLyBSZS1zaXplIGFuZCByZS1wb3NpdGlvbiB0aGUgd2FsbC5cbiAgICBtYXQ0LmZyb21UcmFuc2xhdGlvbih0aGlzLl9sb2NhbFRyYW5zZm9ybSwgdGhpcy5fY29sbGlkYWJsZS5jZW50ZXJPZlZvbHVtZSk7XG4gICAgbWF0NC5zY2FsZSh0aGlzLl9sb2NhbFRyYW5zZm9ybSwgdGhpcy5fbG9jYWxUcmFuc2Zvcm0sIHRoaXMuX2NvbGxpZGFibGUuc2NhbGUpO1xuXG4gICAgc3VwZXIucmVzZXQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiB0aGlzIGlzIGRvbmUgYmVpbmcgdXNlZCwgYW5kIGlzIGJlaW5nIGRlc3Ryb3llZCBmcm9tIG1lbW9yeS5cbiAgICovXG4gIGRlc3Ryb3koKSB7XG4gICAgc3VwZXIuZGVzdHJveSgpO1xuICAgIGNvbGxpZGFibGVTdG9yZS51bnJlZ2lzdGVyQ29sbGlkYWJsZSh0aGlzLl9jb2xsaWRhYmxlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGN1cnJlbnRUaW1lXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gZGVsdGFUaW1lXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIHVwZGF0ZShjdXJyZW50VGltZSwgZGVsdGFUaW1lKSB7fVxufVxuXG5leHBvcnQge1dhbGxDb250cm9sbGVyfTtcblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBXYWxsUGFyYW1zXG4gKiBAcHJvcGVydHkge251bWJlcn0geFxuICogQHByb3BlcnR5IHtudW1iZXJ9IHlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB6XG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IGlzT3Blbk9uUG9zaXRpdmVTaWRlXG4gKiBAcHJvcGVydHkge251bWJlcn0gdGhpY2tuZXNzXG4gKiBAcHJvcGVydHkge251bWJlcn0gaGFsZlNpZGVMZW5ndGhcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gdXNlU21vb3RoU2hhZGluZ1xuICogQHByb3BlcnR5IHtUZXh0dXJlU3Bhbn0gdGV4dHVyZVNwYW5cbiAqL1xuIiwiZXhwb3J0ICogZnJvbSAnLi9zcmMvY2FtZXJhJztcbmV4cG9ydCAqIGZyb20gJy4vc3JjL2ZpcnN0LXBlcnNvbi1jYW1lcmEnO1xuZXhwb3J0ICogZnJvbSAnLi9zcmMvZml4ZWQtY2FtZXJhJztcbmV4cG9ydCAqIGZyb20gJy4vc3JjL2ZpeGVkLWZvbGxvdy1jYW1lcmEnO1xuZXhwb3J0ICogZnJvbSAnLi9zcmMvZm9sbG93LWNhbWVyYSc7XG5leHBvcnQgKiBmcm9tICcuL3NyYy90aGlyZC1wZXJzb24tY2FtZXJhJztcbmV4cG9ydCAqIGZyb20gJy4vc3JjL292ZXJoZWFkLWNhbWVyYSc7XG4iLCJpbXBvcnQgeyBQZXJzaXN0ZW50QW5pbWF0aW9uSm9iIH0gZnJvbSAnbHNsLWFuaW1hdGV4JztcblxuLy8gVE9ETzogTWFrZSB0aGUgcm90YXRpb24gcXVhdGVybmlvbiBiYXNlZCB3aXRoIDZEb0YuXG5cbi8vIFRPRE86IEFkZCBzdXBwb3J0IGZvciBzY3JpcHRpbmcgdGhlIGNhbWVyYSB0byBmb2xsb3cgYSBjdXJ2ZTpcbi8vIChodHRwczovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L2JiMjAzOTA4KHY9eG5hZ2FtZXN0dWRpby4zMSkuYXNweClcblxuLyoqXG4gKiBUaGlzIGNsYXNzIGRlZmluZXMgY29tbW9uIGNhbWVyYSBsb2dpYy5cbiAqXG4gKiBAYWJzdHJhY3RcbiAqL1xuY2xhc3MgQ2FtZXJhIGV4dGVuZHMgUGVyc2lzdGVudEFuaW1hdGlvbkpvYiB7XG4gIC8qKlxuICAgKiBJZiBvbGRDYW1lcmEgaXMgZ2l2ZW4sIHRoZW4gdGhlIHN0YXRlIG9mIHRoZSBuZXcgY2FtZXJhIHdpbGwgYmUgaW5pdGlhbGl6ZWQgdG8gbWF0Y2ggdGhhdCBvZlxuICAgKiB0aGUgb2xkIGNhbWVyYS4gVGhpcyBlbmFibGVzIGEgc21vb3RoIHRyYW5zaXRpb24gd2hlbiBjaGFuZ2luZyBjYW1lcmFzLlxuICAgKlxuICAgKiBAcGFyYW0ge0NhbWVyYUNvbmZpZ30gY2FtZXJhUGFyYW1zXG4gICAqIEBwYXJhbSB7Q2FtZXJhfSBbb2xkQ2FtZXJhXVxuICAgKi9cbiAgY29uc3RydWN0b3IoY2FtZXJhUGFyYW1zLCBvbGRDYW1lcmEpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgLy8gQ2FtZXJhIGlzIGFuIGFic3RyYWN0IGNsYXNzLiBJdCBzaG91bGQgbm90IGJlIGluc3RhbnRpYXRlZCBkaXJlY3RseS5cbiAgICBpZiAobmV3LnRhcmdldCA9PT0gQ2FtZXJhKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY29uc3RydWN0IENhbWVyYSBpbnN0YW5jZXMgZGlyZWN0bHknKTtcbiAgICB9XG5cbiAgICB0aGlzLl9jYW1lcmFQYXJhbXMgPSBjYW1lcmFQYXJhbXM7XG4gICAgdGhpcy5fZm92WSA9IG51bGw7XG4gICAgdGhpcy5fYXNwZWN0UmF0aW8gPSBudWxsO1xuICAgIHRoaXMuX3pOZWFyID0gbnVsbDtcbiAgICB0aGlzLl96RmFyID0gbnVsbDtcbiAgICB0aGlzLl9wb3NpdGlvbiA9IHZlYzMuY3JlYXRlKCk7XG4gICAgdGhpcy5fb3JpZW50YXRpb24gPSBxdWF0LmNyZWF0ZSgpOyAvLyBUT0RPOiBVc2UgdGhpcy5cbiAgICB0aGlzLl92aWV3TWF0cml4ID0gbWF0NC5jcmVhdGUoKTtcbiAgICB0aGlzLl9wcm9qZWN0aW9uTWF0cml4ID0gbWF0NC5jcmVhdGUoKTtcbiAgICB0aGlzLl92aWV3UHJvamVjdGlvbk1hdHJpeCA9IG1hdDQuY3JlYXRlKCk7XG5cbiAgICB0aGlzLl9tYXRjaE9sZENhbWVyYShvbGRDYW1lcmEpO1xuICB9XG5cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5fc2V0UGVyc3BlY3RpdmUodGhpcy5fY2FtZXJhUGFyYW1zLmZvdlksIHRoaXMuX2NhbWVyYVBhcmFtcy5kZWZhdWx0QXNwZWN0UmF0aW8sXG4gICAgICB0aGlzLl9jYW1lcmFQYXJhbXMuX3pOZWFyLCB0aGlzLl9jYW1lcmFQYXJhbXMuX3pGYXIpO1xuICB9XG5cbiAgLy8gVE9ETzogQ2FsbCB0aGlzIGFmdGVyIGFkZGluZyBzdXBwb3J0IGZvciBkeW5hbWljYWxseSBzd2l0Y2hpbmcgY2FtZXJhcy5cbiAgZGVzdHJveSgpIHt9XG5cbiAgLyoqXG4gICAqIFNldCB0aGlzIGNhbWVyYSdzIG9yaWVudGF0aW9uIGFuZCBwb3NpdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHt2ZWMzfSBleWUgVGhlIGNhbWVyYSBwb3NpdGlvbi5cbiAgICogQHBhcmFtIHt2ZWMzfSB0YXJnZXQgVGhlIGZvY2FsIHBvaW50LlxuICAgKiBAcGFyYW0ge3ZlYzN9IHVwIFRoZSBsb2NhbCB1cCBkaXJlY3Rpb24uXG4gICAqIEBwYXJhbSB7dmVjM30gdmlld0RpcmVjdGlvbiBUaGUgKG5vcm1hbGl6ZWQpIGRpcmVjdGlvbiB0aGUgY2FtZXJhIGlzIGxvb2tpbmcuXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIF9zZXRQb3NpdGlvbkFuZExvb2tBdChleWUsIHRhcmdldCwgdXAsIHZpZXdEaXJlY3Rpb24pIHtcbiAgICB2ZWMzLmNvcHkodGhpcy5fcG9zaXRpb24sIGV5ZSk7XG4gICAgdGhpcy5fc2V0TG9va0F0RnJvbUN1cnJlbnRQb3NpdGlvbih0YXJnZXQsIHVwLCB2aWV3RGlyZWN0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhpcyBjYW1lcmEncyBvcmllbnRhdGlvbiwgYnV0IGRvIG5vdCBjaGFuZ2UgaXRzIHBvc2l0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge3ZlYzN9IHRhcmdldCBUaGUgZm9jYWwgcG9pbnQuXG4gICAqIEBwYXJhbSB7dmVjM30gdXAgVGhlIGxvY2FsIHVwIGRpcmVjdGlvbi5cbiAgICogQHBhcmFtIHt2ZWMzfSB2aWV3RGlyZWN0aW9uIFRoZSAobm9ybWFsaXplZCkgZGlyZWN0aW9uIHRoZSBjYW1lcmEgaXMgbG9va2luZy5cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgX3NldExvb2tBdEZyb21DdXJyZW50UG9zaXRpb24odGFyZ2V0LCB1cCwgdmlld0RpcmVjdGlvbikge1xuICAgIG1hdDQubG9va0F0KHRoaXMuX3ZpZXdNYXRyaXgsIHRoaXMuX3Bvc2l0aW9uLCB0YXJnZXQsIHVwKTtcbiAgICBxdWF0LnJvdGF0aW9uVG8odGhpcy5fb3JpZW50YXRpb24sIHRoaXMuX2NhbWVyYVBhcmFtcy5fZGVmYXVsdExvb2tBdERpcmVjdGlvbiwgdmlld0RpcmVjdGlvbik7IC8vIFRPRE86IENoZWNrIHRoaXM7IG1pZ2h0IG5lZWQgdG8gc3dhcCBhcmd1bWVudHMuXG4gICAgdGhpcy5fdXBkYXRlVmlld1Byb2plY3Rpb25NYXRyaXgoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUcmFuc2xhdGUgdGhpcyBjYW1lcmEgYnkgdGhlIGdpdmVuIGFtb3VudCBmcm9tIGl0cyBjdXJyZW50IHBvc2l0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge3ZlYzN9IHRyYW5zbGF0aW9uXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIF90cmFuc2xhdGUodHJhbnNsYXRpb24pIHtcbiAgICB2ZWMzLmFkZCh0aGlzLl9wb3NpdGlvbiwgdGhpcy5fcG9zaXRpb24sIHRyYW5zbGF0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSb3RhdGUgdGhpcyBjYW1lcmEgYnkgdGhlIGdpdmVuIGFtb3VudCBmcm9tIGl0cyBjdXJyZW50IG9yaWVudGF0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge3F1YXR9IHJvdGF0aW9uXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIF9yb3RhdGUocm90YXRpb24pIHtcbiAgICAvLyBUT0RPXG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IGZvdlkgSW4gcmFkaWFucy5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGFzcGVjdFJhdGlvIFdpZHRoIC8gaGVpZ2h0LlxuICAgKiBAcGFyYW0ge251bWJlcn0gek5lYXJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHpGYXJcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgX3NldFBlcnNwZWN0aXZlKGZvdlksIGFzcGVjdFJhdGlvLCB6TmVhciwgekZhcikge1xuICAgIHRoaXMuX2ZvdlkgPSBmb3ZZO1xuICAgIHRoaXMuX2FzcGVjdFJhdGlvID0gYXNwZWN0UmF0aW87XG4gICAgdGhpcy5fek5lYXIgPSB6TmVhcjtcbiAgICB0aGlzLl96RmFyID0gekZhcjtcbiAgICB0aGlzLl91cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gIH1cblxuICAvKipcbiAgICogUmUtY2FsY3VsYXRlcyB0aGUgdmlldy1wcm9qZWN0aW9uIG1hdHJpeC4gVGhpcyBzaG91bGQgYmUgY2FsbGVkIGFueSB0aW1lIGVpdGhlciB0aGUgdmlldyBvclxuICAgKiBwcm9qZWN0aW9uIG1hdHJpY2VzIGlzIHVwZGF0ZWQuXG4gICAqXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIF91cGRhdGVQcm9qZWN0aW9uTWF0cml4KCkge1xuICAgIG1hdDQucGVyc3BlY3RpdmUoXG4gICAgICB0aGlzLl9wcm9qZWN0aW9uTWF0cml4LCB0aGlzLl9mb3ZZLCB0aGlzLl9hc3BlY3RSYXRpbywgdGhpcy5fek5lYXIsIHRoaXMuX3pGYXIpO1xuICAgIHRoaXMuX3VwZGF0ZVZpZXdQcm9qZWN0aW9uTWF0cml4KCk7XG4gIH1cblxuICAvKipcbiAgICogUmUtY2FsY3VsYXRlcyB0aGUgdmlldy1wcm9qZWN0aW9uIG1hdHJpeC4gVGhpcyBzaG91bGQgYmUgY2FsbGVkIGFueSB0aW1lIGVpdGhlciB0aGUgdmlldyBvclxuICAgKiBwcm9qZWN0aW9uIG1hdHJpY2VzIGlzIHVwZGF0ZWQuXG4gICAqXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIF91cGRhdGVWaWV3UHJvamVjdGlvbk1hdHJpeCgpIHtcbiAgICBtYXQ0Lm11bHRpcGx5KHRoaXMuX3ZpZXdQcm9qZWN0aW9uTWF0cml4LCB0aGlzLl9wcm9qZWN0aW9uTWF0cml4LCB0aGlzLl92aWV3TWF0cml4KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGN1cnJlbnRUaW1lXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gZGVsdGFUaW1lXG4gICAqIEBhYnN0cmFjdFxuICAgKi9cbiAgdXBkYXRlKGN1cnJlbnRUaW1lLCBkZWx0YVRpbWUpIHtcbiAgICAvLyBFeHRlbmRpbmcgY2xhc3NlcyBzaG91bGQgaW1wbGVtZW50IHRoaXMgbWV0aG9kLlxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ01ldGhvZCBub3QgaW1wbGVtZW50ZWQnKTtcbiAgfVxuXG4gIGRyYXcoKSB7fVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gZm92WSBUaGUgdmVydGljYWwgZmllbGQgb2YgdmlldywgaW4gcmFkaWFucy5cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgc2V0IGZvdihmb3ZZKSB7XG4gICAgdGhpcy5fZm92WSA9IGZvdlk7XG4gICAgdGhpcy5fdXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBhc3BlY3RSYXRpbyBXaWR0aCAvIGhlaWdodC5cbiAgICovXG4gIHNldCBhc3BlY3RSYXRpbyhhc3BlY3RSYXRpbykge1xuICAgIHRoaXMuX3NldFBlcnNwZWN0aXZlKHRoaXMuX2NhbWVyYVBhcmFtcy5mb3ZZLCBhc3BlY3RSYXRpbywgdGhpcy5fY2FtZXJhUGFyYW1zLl96TmVhcixcbiAgICAgIHRoaXMuX2NhbWVyYVBhcmFtcy5fekZhcik7XG4gIH1cblxuICAvKiogQHJldHVybnMge3ZlYzN9ICovXG4gIGdldCBwb3NpdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5fcG9zaXRpb247XG4gIH1cbiAgLyoqIEByZXR1cm5zIHtxdWF0fSAqL1xuICBnZXQgb3JpZW50YXRpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX29yaWVudGF0aW9uO1xuICB9XG4gIC8qKiBAcmV0dXJucyB7bWF0NH0gKi9cbiAgZ2V0IHZpZXdNYXRyaXgoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3ZpZXdNYXRyaXg7XG4gIH1cbiAgLyoqIEByZXR1cm5zIHttYXQ0fSAqL1xuICBnZXQgcHJvamVjdGlvbk1hdHJpeCgpIHtcbiAgICByZXR1cm4gdGhpcy5fcHJvamVjdGlvbk1hdHJpeDtcbiAgfVxuICAvKiogQHJldHVybnMge21hdDR9ICovXG4gIGdldCB2aWV3UHJvamVjdGlvbk1hdHJpeCgpIHsgLy8gVE9ETzogU3RvcCB1c2luZyB0aGUgYWJvdmUgdHdvIGdldHRlcnMgYW5kIHVzZSB0aGlzIGluc3RlYWQ/XG4gICAgcmV0dXJuIHRoaXMuX3ZpZXdQcm9qZWN0aW9uTWF0cml4O1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGlzIGNhbWVyYSdzIHN0YXRlIHRvIG1hdGNoIHRoZSBnaXZlbiBvbGQgY2FtZXJhLlxuICAgKlxuICAgKiBAcGFyYW0ge0NhbWVyYX0gb2xkQ2FtZXJhXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIF9tYXRjaE9sZENhbWVyYShvbGRDYW1lcmEpIHtcbiAgICBpZiAoIW9sZENhbWVyYSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9mb3ZZID0gb2xkQ2FtZXJhLl9mb3ZZO1xuICAgIHRoaXMuX2FzcGVjdFJhdGlvID0gb2xkQ2FtZXJhLl9hc3BlY3RSYXRpbztcbiAgICB0aGlzLl96TmVhciA9IG9sZENhbWVyYS5fek5lYXI7XG4gICAgdGhpcy5fekZhciA9IG9sZENhbWVyYS5fekZhcjtcbiAgICB2ZWMzLmNvcHkodGhpcy5fcG9zaXRpb24sIG9sZENhbWVyYS5fcG9zaXRpb24pO1xuICAgIHZlYzMuY29weSh0aGlzLl9vcmllbnRhdGlvbiwgb2xkQ2FtZXJhLl9vcmllbnRhdGlvbik7XG4gICAgbWF0NC5jb3B5KHRoaXMuX3ZpZXdNYXRyaXgsIG9sZENhbWVyYS5fdmlld01hdHJpeCk7XG4gICAgbWF0NC5jb3B5KHRoaXMuX3Byb2plY3Rpb25NYXRyaXgsIG9sZENhbWVyYS5fcHJvamVjdGlvbk1hdHJpeCk7XG4gICAgbWF0NC5jb3B5KHRoaXMuX3ZpZXdQcm9qZWN0aW9uTWF0cml4LCBvbGRDYW1lcmEuX3ZpZXdQcm9qZWN0aW9uTWF0cml4KTtcbiAgfVxufVxuXG5leHBvcnQgeyBDYW1lcmEgfTtcblxuLyoqXG4gKiBAdHlwZWRlZiB7RnVuY3Rpb259IENhbWVyYUNvbmZpZ1xuICogQHByb3BlcnR5IHtudW1iZXJ9IGZvdllcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkZWZhdWx0QXNwZWN0UmF0aW9cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBfek5lYXJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBfekZhclxuICogQHByb3BlcnR5IHt2ZWMzfSBfZGVmYXVsdExvb2tBdERpcmVjdGlvblxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gRm9sbG93Q2FtZXJhQ29uZmlnXG4gKiBAcHJvcGVydHkge251bWJlcn0gc3ByaW5nQ29lZmZpY2llbnRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkYW1waW5nQ29lZmZpY2llbnRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBpbnRlbmRlZERpc3RhbmNlRnJvbVRhcmdldFxuICogQHByb3BlcnR5IHtudW1iZXJ9IGludGVuZGVkUm90YXRpb25BbmdsZUZyb21UYXJnZXRcbiAqIEBwcm9wZXJ0eSB7dmVjM30gaW50ZW5kZWRSb3RhdGlvbkF4aXNGcm9tVGFyZ2V0XG4gKiBAcHJvcGVydHkge3ZlYzN9IF9pbnRlbmRlZFRyYW5zbGF0aW9uRnJvbVRhcmdldFxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gRmlyc3RQZXJzb25DYW1lcmFDb25maWdcbiAqIEBwcm9wZXJ0eSB7dmVjM30gaW50ZW5kZWREaXNwbGFjZW1lbnRGcm9tVGFyZ2V0XG4gKiBAcHJvcGVydHkge3ZlYzN9IHZpZXdEaXJlY3Rpb25cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB0YXJnZXREaXN0YW5jZVxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gRml4ZWRDYW1lcmFDb25maWdcbiAqIEBwcm9wZXJ0eSB7dmVjM30gcG9zaXRpb25cbiAqIEBwcm9wZXJ0eSB7dmVjM30gdmlld0RpcmVjdGlvblxuICogQHByb3BlcnR5IHt2ZWMzfSBfdXBcbiAqL1xuIiwiaW1wb3J0IHsgQ2FtZXJhIH0gZnJvbSAnLi9jYW1lcmEnO1xuXG4vKipcbiAqIFRoaXMgY2xhc3MgZGVmaW5lcyBhIGZpcnN0LXBlcnNvbiBjYW1lcmEuXG4gKlxuICogQSBmaXJzdC1wZXJzb24gY2FtZXJhIGlzIHBvc2l0aW9uZWQgYXQgYSBjaGFyYWN0ZXIgYW5kIG1vdmVzIGFuZCByb3RhdGVzIHdpdGggdGhlIGNoYXJhY3Rlci5cbiAqL1xuY2xhc3MgRmlyc3RQZXJzb25DYW1lcmEgZXh0ZW5kcyBDYW1lcmEge1xuICAvKipcbiAgICogQHBhcmFtIHtDYW1lcmFUYXJnZXR9IGNhbWVyYVRhcmdldFxuICAgKiBAcGFyYW0ge0ZpcnN0UGVyc29uQ2FtZXJhQ29uZmlnfSBmaXJzdFBlcnNvbkNhbWVyYVBhcmFtc1xuICAgKiBAcGFyYW0ge0NhbWVyYUNvbmZpZ30gY2FtZXJhUGFyYW1zXG4gICAqIEBwYXJhbSB7Q2FtZXJhfSBbb2xkQ2FtZXJhXVxuICAgKi9cbiAgY29uc3RydWN0b3IoY2FtZXJhVGFyZ2V0LCBmaXJzdFBlcnNvbkNhbWVyYVBhcmFtcywgY2FtZXJhUGFyYW1zLCBvbGRDYW1lcmEpIHtcbiAgICBzdXBlcihjYW1lcmFQYXJhbXMsIG9sZENhbWVyYSk7XG4gICAgdGhpcy5fY2FtZXJhVGFyZ2V0ID0gY2FtZXJhVGFyZ2V0O1xuICAgIHRoaXMuX2ZpcnN0UGVyc29uQ2FtZXJhUGFyYW1zID0gZmlyc3RQZXJzb25DYW1lcmFQYXJhbXM7XG4gICAgdGhpcy5fY2FtZXJhVGFyZ2V0ID0gY2FtZXJhVGFyZ2V0O1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gY3VycmVudFRpbWVcbiAgICogQHBhcmFtIHtET01IaWdoUmVzVGltZVN0YW1wfSBkZWx0YVRpbWVcbiAgICovXG4gIHVwZGF0ZShjdXJyZW50VGltZSwgZGVsdGFUaW1lKSB7XG4gICAgdGhpcy5fdXBkYXRlUG9zaXRpb24oKTtcbiAgICB0aGlzLl91cGRhdGVPcmllbnRhdGlvbigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfdXBkYXRlUG9zaXRpb24oKSB7XG4gICAgY29uc3QgaW50ZW5kZWRQb3NpdGlvbiA9IHRoaXMuX2dldEludGVuZGVkUG9zaXRpb24oKTtcbiAgICB2ZWMzLmNvcHkodGhpcy5fcG9zaXRpb24sIGludGVuZGVkUG9zaXRpb24pO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGUgY2FtZXJhJ3Mgb3JpZW50YXRpb24gdXNpbmcgdGhlIFwibG9vayBhdFwiIG1ldGhvZCBhY2NvcmRpbmcgdG8gaXRzIHBvc2l0aW9uIGFuZCB0aGVcbiAgICogcG9zaXRpb24gb2YgaXRzIHRhcmdldC5cbiAgICpcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgX3VwZGF0ZU9yaWVudGF0aW9uKCkge1xuICAgIC8vIEdldCB0aGUgdmlldyBkaXJlY3Rpb24sIGFuZCB0cmFuc2Zvcm0gaXQgdG8gYWxpZ24gd2l0aCB0aGUgdGFyZ2V0J3Mgb3JpZW50YXRpb24uXG4gICAgY29uc3Qgdmlld0RpcmVjdGlvbiA9IHZlYzMuY3JlYXRlKCk7XG4gICAgdmVjMy5jb3B5KHZpZXdEaXJlY3Rpb24sIHRoaXMuX2ZpcnN0UGVyc29uQ2FtZXJhUGFyYW1zLnZpZXdEaXJlY3Rpb24pO1xuICAgIHZlYzMudHJhbnNmb3JtUXVhdCh2aWV3RGlyZWN0aW9uLCB2aWV3RGlyZWN0aW9uLCB0aGlzLl9jYW1lcmFUYXJnZXQub3JpZW50YXRpb24pO1xuXG4gICAgY29uc3QgdGFyZ2V0ID0gdmVjMy5jcmVhdGUoKTtcbiAgICB2ZWMzLnNjYWxlQW5kQWRkKHRhcmdldCwgdGhpcy5fcG9zaXRpb24sIHZpZXdEaXJlY3Rpb24sXG4gICAgICB0aGlzLl9maXJzdFBlcnNvbkNhbWVyYVBhcmFtcy50YXJnZXREaXN0YW5jZSk7XG5cbiAgICAvLyBJbml0aWFsaXplIFwidXBcIiBhcyB0aGUgd29ybGQgei1heGlzLlxuICAgIGNvbnN0IHVwID0gdmVjMy5mcm9tVmFsdWVzKDAsIDEsIDApO1xuXG4gICAgLy8gVHJhbnNmb3JtIFwidXBcIiB0byBhbGlnbiB3aXRoIHRoZSBjYW1lcmEgdGFyZ2V0J3MgbG9jYWwgei1heGlzLlxuICAgIHZlYzMudHJhbnNmb3JtUXVhdCh1cCwgdXAsIHRoaXMuX2NhbWVyYVRhcmdldC5vcmllbnRhdGlvbik7XG5cbiAgICBjb25zdCByaWdodCA9IHZlYzMuY3JlYXRlKCk7XG4gICAgdmVjMy5jcm9zcyhyaWdodCwgdmlld0RpcmVjdGlvbiwgdXApO1xuXG4gICAgLy8gVHJhbnNmb3JtIFwidXBcIiB0byBhbGlnbiB3aXRoIHRoZSBjYW1lcmEncyBsb2NhbCB6LWF4aXMuXG4gICAgdmVjMy5jcm9zcyh1cCwgcmlnaHQsIHZpZXdEaXJlY3Rpb24pO1xuXG4gICAgdGhpcy5fc2V0UG9zaXRpb25BbmRMb29rQXQodGhpcy5fcG9zaXRpb24sIHRhcmdldCwgdXAsIHZpZXdEaXJlY3Rpb24pO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBpbnRlbmRlZCBwb3NpdGlvbiBmb3IgdGhpcyBjYW1lcmEgdG8gYmUgaW4gYWNjb3JkaW5nIHRvIHRoZSBwb3NpdGlvbiBhbmQgb3JpZW50YXRpb24gb2YgdGhlXG4gICAqIGNhbWVyYSB0YXJnZXQuXG4gICAqXG4gICAqIEByZXR1cm5zIHt2ZWMzfVxuICAgKiBAcHJvdGVjdGVkXG4gICAqIEBhYnN0cmFjdFxuICAgKi9cbiAgX2dldEludGVuZGVkUG9zaXRpb24oKSB7XG4gICAgY29uc3QgaW50ZW5kZWRQb3NpdGlvbiA9IHZlYzMuY3JlYXRlKCk7XG4gICAgdmVjMy50cmFuc2Zvcm1NYXQ0KFxuICAgICAgaW50ZW5kZWRQb3NpdGlvbixcbiAgICAgIHRoaXMuX2ZpcnN0UGVyc29uQ2FtZXJhUGFyYW1zLmludGVuZGVkRGlzcGxhY2VtZW50RnJvbVRhcmdldCxcbiAgICAgIHRoaXMuX2NhbWVyYVRhcmdldC53b3JsZFRyYW5zZm9ybSk7XG4gICAgcmV0dXJuIGludGVuZGVkUG9zaXRpb247XG4gIH1cbn1cblxuZXhwb3J0IHsgRmlyc3RQZXJzb25DYW1lcmEgfTtcbiIsImltcG9ydCB7Q2FtZXJhfSBmcm9tICcuL2NhbWVyYSc7XG5cbi8qKlxuICogVGhpcyBjbGFzcyBkZWZpbmVzIGEgZml4ZWQgY2FtZXJhLlxuICpcbiAqIEEgZml4ZWQgY2FtZXJhJ3MgcG9zaXRpb24gYW5kIG9yaWVudGF0aW9uIGFyZSB1cGRhdGVkIG1hbnVhbGx5IGFuZCByZW1haW4gZml4ZWQgdW50aWwgYSBsYXRlclxuICogdXBkYXRlLlxuICovXG5jbGFzcyBGaXhlZENhbWVyYSBleHRlbmRzIENhbWVyYSB7XG4gIC8qKlxuICAgKiBJZiBvbGRDYW1lcmEgaXMgZ2l2ZW4sIHRoZW4gdGhlIHN0YXRlIG9mIHRoZSBuZXcgY2FtZXJhIHdpbGwgYmUgaW5pdGlhbGl6ZWQgdG8gbWF0Y2ggdGhhdCBvZlxuICAgKiB0aGUgb2xkIGNhbWVyYS4gVGhpcyBlbmFibGVzIGEgc21vb3RoIHRyYW5zaXRpb24gd2hlbiBjaGFuZ2luZyBjYW1lcmFzLlxuICAgKlxuICAgKiBAcGFyYW0ge0ZpeGVkQ2FtZXJhQ29uZmlnfSBmaXhlZENhbWVyYVBhcmFtc1xuICAgKiBAcGFyYW0ge0NhbWVyYUNvbmZpZ30gY2FtZXJhUGFyYW1zXG4gICAqIEBwYXJhbSB7Q2FtZXJhfSBbb2xkQ2FtZXJhXVxuICAgKi9cbiAgY29uc3RydWN0b3IoZml4ZWRDYW1lcmFQYXJhbXMsIGNhbWVyYVBhcmFtcywgb2xkQ2FtZXJhKSB7XG4gICAgc3VwZXIoY2FtZXJhUGFyYW1zLCBvbGRDYW1lcmEpO1xuXG4gICAgdGhpcy5fcG9zaXRpb24gPSBmaXhlZENhbWVyYVBhcmFtcy5wb3NpdGlvbjtcbiAgICB0aGlzLl92aWV3RGlyZWN0aW9uID0gZml4ZWRDYW1lcmFQYXJhbXMudmlld0RpcmVjdGlvbjtcbiAgICB0aGlzLl91cCA9IGZpeGVkQ2FtZXJhUGFyYW1zLl91cDtcbiAgICB0aGlzLl9fdGFyZ2V0ID0gdmVjMy5jcmVhdGUoKTtcbiAgfVxuXG4gIHJlc2V0KCkge1xuICAgIHN1cGVyLnJlc2V0KCk7XG4gICAgdGhpcy5fdXBkYXRlKCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtET01IaWdoUmVzVGltZVN0YW1wfSBjdXJyZW50VGltZVxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGRlbHRhVGltZVxuICAgKi9cbiAgdXBkYXRlKGN1cnJlbnRUaW1lLCBkZWx0YVRpbWUpIHt9XG5cbiAgX3VwZGF0ZSgpIHtcbiAgICB2ZWMzLm5vcm1hbGl6ZSh0aGlzLl92aWV3RGlyZWN0aW9uLCB0aGlzLl92aWV3RGlyZWN0aW9uKTtcbiAgICB2ZWMzLm5vcm1hbGl6ZSh0aGlzLl91cCwgdGhpcy5fdXApO1xuXG4gICAgLy8gVHJhbnNmb3JtIFwidXBcIiB0byBhbGlnbiB3aXRoIHRoZSBjYW1lcmEncyBsb2NhbCB6LWF4aXMuXG4gICAgY29uc3QgcmlnaHQgPSB2ZWMzLmNyZWF0ZSgpO1xuICAgIHZlYzMuY3Jvc3MocmlnaHQsIHRoaXMuX3ZpZXdEaXJlY3Rpb24sIHRoaXMuX3VwKTtcbiAgICB2ZWMzLmNyb3NzKHRoaXMuX3VwLCByaWdodCwgdGhpcy5fdmlld0RpcmVjdGlvbik7XG5cbiAgICB0aGlzLl9zZXRQb3NpdGlvbkFuZExvb2tBdCh0aGlzLl9wb3NpdGlvbiwgdGhpcy5fdGFyZ2V0LCB0aGlzLl91cCwgdGhpcy5fdmlld0RpcmVjdGlvbik7XG4gIH1cblxuICAvKiogQHBhcmFtIHt2ZWMzfSBuZXdEaXJlY3Rpb24gKi9cbiAgc2V0IHZpZXdEaXJlY3Rpb24obmV3RGlyZWN0aW9uKSB7XG4gICAgdmVjMy5jb3B5KHRoaXMuX3ZpZXdEaXJlY3Rpb24sIG5ld0RpcmVjdGlvbik7XG4gICAgdGhpcy5fdXBkYXRlKCk7XG4gIH1cblxuICAvKiogQHBhcmFtIHt2ZWMzfSBuZXdVcCAqL1xuICBzZXQgdXAobmV3VXApIHtcbiAgICB2ZWMzLmNvcHkodGhpcy5fdXAsIG5ld1VwKTtcbiAgICB0aGlzLl91cGRhdGUoKTtcbiAgfVxuXG4gIC8qKiBAcGFyYW0ge3ZlYzN9IG5ld1Bvc2l0aW9uICovXG4gIHNldCBwb3NpdGlvbihuZXdQb3NpdGlvbikge1xuICAgIHZlYzMuY29weSh0aGlzLl9wb3NpdGlvbiwgbmV3UG9zaXRpb24pO1xuICAgIHRoaXMuX3VwZGF0ZSgpO1xuICB9XG5cbiAgLyoqIEByZXR1cm5zIHt2ZWMzfSAqL1xuICAvLyBUT0RPOiBMb29rIGludG8gd2hhdGV2ZXIgYnVnIHByZXZlbnRzIHRoZSBwYXJlbnQtY2xhc3MgZ2V0dGVyIGZyb20gd29ya2luZy5cbiAgZ2V0IHBvc2l0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLl9wb3NpdGlvbjtcbiAgfVxuXG4gIC8qKiBAcmV0dXJucyB7dmVjM30gKi9cbiAgZ2V0IHZpZXdEaXJlY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX3ZpZXdEaXJlY3Rpb247XG4gIH1cbiAgLyoqIEByZXR1cm5zIHt2ZWMzfSAqL1xuICBnZXQgdXAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3VwO1xuICB9XG4gIC8qKlxuICAgKiBAcmV0dXJucyB7dmVjM31cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGdldCBfdGFyZ2V0KCkge1xuICAgIHJldHVybiB2ZWMzLmFkZCh0aGlzLl9fdGFyZ2V0LCB0aGlzLl9wb3NpdGlvbiwgdGhpcy5fdmlld0RpcmVjdGlvbik7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtDYW1lcmF9IG9sZENhbWVyYVxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBfbWF0Y2hPbGRDYW1lcmEob2xkQ2FtZXJhKSB7XG4gICAgc3VwZXIuX21hdGNoT2xkQ2FtZXJhKG9sZENhbWVyYSk7XG4gICAgaWYgKG9sZENhbWVyYSBpbnN0YW5jZW9mIEZpeGVkQ2FtZXJhKSB7XG4gICAgICB2ZWMzLmNvcHkodGhpcy5fdmlld0RpcmVjdGlvbiwgb2xkQ2FtZXJhLl92aWV3RGlyZWN0aW9uKTtcbiAgICAgIHZlYzMuY29weSh0aGlzLl91cCwgb2xkQ2FtZXJhLl91cCk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB7Rml4ZWRDYW1lcmF9O1xuIiwiaW1wb3J0IHtGb2xsb3dDYW1lcmF9IGZyb20gJy4vZm9sbG93LWNhbWVyYSc7XG5cbi8qKlxuICogVGhpcyBjbGFzcyBkZWZpbmVzIGEgZml4ZWQtb2Zmc2V0IGZvbGxvdyBjYW1lcmEuXG4gKlxuICogVGhpcyBjYW1lcmEgaXMgcG9zaXRpb25lZCBhdCBhIHJlbGF0aXZlLCBmaXhlZCBkaXN0YW5jZSBhbmQgcm90YXRpb24gZnJvbSB0aGUgb2JzZXJ2ZWQgdGFyZ2V0XG4gKiBhbmQgZm9sbG93cyB0aGUgdGFyZ2V0J3MgcG9zaXRpb24gYW5kIG9yaWVudGF0aW9uIGF0IHRoaXMgZml4ZWQgZGlzdGFuY2UuXG4gKlxuICogQSBmb2xsb3cgY2FtZXJhIHJvdGF0ZXMgaW4gYWxsIHRocmVlIGRpbWVuc2lvbnM7IGl0IGRvZXMgbm90IGhhdmUgYSBmaXhlZCByb2xsLlxuICovXG5jbGFzcyBGaXhlZEZvbGxvd0NhbWVyYSBleHRlbmRzIEZvbGxvd0NhbWVyYSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGN1cnJlbnRUaW1lXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gZGVsdGFUaW1lXG4gICAqL1xuICB1cGRhdGUoY3VycmVudFRpbWUsIGRlbHRhVGltZSkge1xuICAgIHRoaXMuX3VwZGF0ZVBvc2l0aW9uKCk7XG4gICAgdGhpcy5fdXBkYXRlT3JpZW50YXRpb24oKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3VwZGF0ZVBvc2l0aW9uKCkge1xuICAgIGNvbnN0IGludGVuZGVkUG9zaXRpb24gPSB0aGlzLl9nZXRJbnRlbmRlZFBvc2l0aW9uKCk7XG4gICAgdmVjMy5jb3B5KHRoaXMuX3Bvc2l0aW9uLCBpbnRlbmRlZFBvc2l0aW9uKTtcbiAgfVxufVxuXG5leHBvcnQge0ZpeGVkRm9sbG93Q2FtZXJhfTtcbiIsImltcG9ydCB7VGhpcmRQZXJzb25DYW1lcmF9IGZyb20gJy4vdGhpcmQtcGVyc29uLWNhbWVyYSc7XG5cbi8qKlxuICogVGhpcyBjbGFzcyBkZWZpbmVzIGFuIGFic3RyYWN0IGZvbGxvdyBjYW1lcmEuXG4gKlxuICogVGhpcyBpcyBhIHRoaXJkLXBlcnNvbiB0eXBlIG9mIGNhbWVyYSB3aG9zZSByb2xsIGFsd2F5cyBtYXRjaGVzIHRoYXQgb2YgdGhlIHRhcmdldC5cbiAqL1xuY2xhc3MgRm9sbG93Q2FtZXJhIGV4dGVuZHMgVGhpcmRQZXJzb25DYW1lcmEge1xuICAvKipcbiAgICogVXBkYXRlIHRoZSBjYW1lcmEncyBvcmllbnRhdGlvbiB1c2luZyB0aGUgXCJsb29rIGF0XCIgbWV0aG9kIGFjY29yZGluZyB0byBpdHMgcG9zaXRpb24gYW5kIHRoZVxuICAgKiBwb3NpdGlvbiBvZiBpdHMgdGFyZ2V0LlxuICAgKlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBfdXBkYXRlT3JpZW50YXRpb24oKSB7XG4gICAgY29uc3QgdGFyZ2V0ID0gdGhpcy5fY2FtZXJhVGFyZ2V0LnBvc2l0aW9uO1xuXG4gICAgY29uc3Qgdmlld0RpcmVjdGlvbiA9IHZlYzMuY3JlYXRlKCk7XG4gICAgdmVjMy5zdWJ0cmFjdCh2aWV3RGlyZWN0aW9uLCB0YXJnZXQsIHRoaXMuX3Bvc2l0aW9uKTtcbiAgICB2ZWMzLm5vcm1hbGl6ZSh2aWV3RGlyZWN0aW9uLCB2aWV3RGlyZWN0aW9uKTtcblxuICAgIC8vIEluaXRpYWxpemUgXCJ1cFwiIGFzIHRoZSB3b3JsZCB6LWF4aXMuXG4gICAgY29uc3QgdXAgPSB2ZWMzLmZyb21WYWx1ZXMoMCwgMSwgMCk7XG5cbiAgICAvLyBUcmFuc2Zvcm0gXCJ1cFwiIHRvIGFsaWduIHdpdGggdGhlIGNhbWVyYSB0YXJnZXQncyBsb2NhbCB6LWF4aXMuXG4gICAgdmVjMy50cmFuc2Zvcm1RdWF0KHVwLCB1cCwgdGhpcy5fY2FtZXJhVGFyZ2V0Lm9yaWVudGF0aW9uKTtcblxuICAgIGNvbnN0IHJpZ2h0ID0gdmVjMy5jcmVhdGUoKTtcbiAgICB2ZWMzLmNyb3NzKHJpZ2h0LCB2aWV3RGlyZWN0aW9uLCB1cCk7XG5cbiAgICAvLyBUcmFuc2Zvcm0gXCJ1cFwiIHRvIGFsaWduIHdpdGggdGhlIGNhbWVyYSdzIGxvY2FsIHotYXhpcy5cbiAgICB2ZWMzLmNyb3NzKHVwLCByaWdodCwgdmlld0RpcmVjdGlvbik7XG5cbiAgICB0aGlzLl9zZXRQb3NpdGlvbkFuZExvb2tBdCh0aGlzLl9wb3NpdGlvbiwgdGFyZ2V0LCB1cCwgdmlld0RpcmVjdGlvbik7XG4gIH1cbn1cblxuZXhwb3J0IHtGb2xsb3dDYW1lcmF9O1xuIiwiaW1wb3J0IHtUaGlyZFBlcnNvbkNhbWVyYX0gZnJvbSAnLi90aGlyZC1wZXJzb24tY2FtZXJhJztcblxuLyoqXG4gKiBUaGlzIGNsYXNzIGRlZmluZXMgYW4gb3ZlcmhlYWQgY2FtZXJhLlxuICpcbiAqIEFuIG92ZXJoZWFkIGNhbWVyYSBzaXRzIGFib3ZlIHRoZSBvYnNlcnZlZCBjaGFyYWN0ZXIgYW5kIG1vdmVzIHJlbGF0aXZlIHRvIHRoZSBjaGFyYWN0ZXIgd2l0aG91dFxuICogcm90YXRpbmcuXG4gKlxuICogQW4gb3ZlcmhlYWQgY2FtZXJhJ3Mgcm90YXRpb24gd2l0aCB0aGUgY2hhcmFjdGVyIGluY2x1ZGVzIG9ubHkgeWF3OyBpdCBoYXMgYSBmaXhlZCBwaXRjaCBhbmRcbiAqIHJvbGwuXG4gKi9cbmNsYXNzIE92ZXJoZWFkQ2FtZXJhIGV4dGVuZHMgVGhpcmRQZXJzb25DYW1lcmEge1xuICAvKipcbiAgICogSWYgb2xkQ2FtZXJhIGlzIGdpdmVuLCB0aGVuIHRoZSBzdGF0ZSBvZiB0aGUgbmV3IGNhbWVyYSB3aWxsIGJlIGluaXRpYWxpemVkIHRvIG1hdGNoIHRoYXQgb2ZcbiAgICogdGhlIG9sZCBjYW1lcmEuIFRoaXMgZW5hYmxlcyBhIHNtb290aCB0cmFuc2l0aW9uIHdoZW4gY2hhbmdpbmcgY2FtZXJhcy5cbiAgICpcbiAgICogQHBhcmFtIHtDYW1lcmFUYXJnZXR9IGNhbWVyYVRhcmdldFxuICAgKiBAcGFyYW0ge0ZvbGxvd0NhbWVyYUNvbmZpZ30gZm9sbG93Q2FtZXJhUGFyYW1zXG4gICAqIEBwYXJhbSB7Q2FtZXJhQ29uZmlnfSBjYW1lcmFQYXJhbXNcbiAgICogQHBhcmFtIHtDYW1lcmF9IFtvbGRDYW1lcmFdXG4gICAqL1xuICBjb25zdHJ1Y3RvcihjYW1lcmFUYXJnZXQsIGZvbGxvd0NhbWVyYVBhcmFtcywgY2FtZXJhUGFyYW1zLCBvbGRDYW1lcmEpIHtcbiAgICBzdXBlcihjYW1lcmFUYXJnZXQsIGZvbGxvd0NhbWVyYVBhcmFtcywgY2FtZXJhUGFyYW1zLCBvbGRDYW1lcmEpO1xuXG4gICAgdGhpcy5yZXNldCgpO1xuICB9XG5cbiAgcmVzZXQoKSB7XG4gICAgc3VwZXIucmVzZXQoKTtcbiAgfVxuXG4gIC8vIFRPRE86IEltcGxlbWVudCB0aGlzIVxufVxuXG5leHBvcnQge092ZXJoZWFkQ2FtZXJhfTtcbiIsImltcG9ydCB7Q2FtZXJhfSBmcm9tICcuL2NhbWVyYSc7XG5cbi8qKlxuICogVGhpcyBjbGFzcyBkZWZpbmVzIGFuIGFic3RyYWN0IHRoaXJkLXBlcnNvbiBjYW1lcmEuXG4gKlxuICogQSB0aGlyZC1wZXJzb24gY2FtZXJhIGZvbGxvd3MgYSB0YXJnZXQgZnJvbSBhIGRpc3RhbmNlLlxuICpcbiAqIEBhYnN0cmFjdFxuICovXG5jbGFzcyBUaGlyZFBlcnNvbkNhbWVyYSBleHRlbmRzIENhbWVyYSB7XG4gIC8qKlxuICAgKiBJZiBvbGRDYW1lcmEgaXMgZ2l2ZW4sIHRoZW4gdGhlIHN0YXRlIG9mIHRoZSBuZXcgY2FtZXJhIHdpbGwgYmUgaW5pdGlhbGl6ZWQgdG8gbWF0Y2ggdGhhdCBvZlxuICAgKiB0aGUgb2xkIGNhbWVyYS4gVGhpcyBlbmFibGVzIGEgc21vb3RoIHRyYW5zaXRpb24gd2hlbiBjaGFuZ2luZyBjYW1lcmFzLlxuICAgKlxuICAgKiBAcGFyYW0ge0NhbWVyYVRhcmdldH0gY2FtZXJhVGFyZ2V0XG4gICAqIEBwYXJhbSB7Rm9sbG93Q2FtZXJhQ29uZmlnfSBmb2xsb3dDYW1lcmFQYXJhbXNcbiAgICogQHBhcmFtIHtDYW1lcmFDb25maWd9IGNhbWVyYVBhcmFtc1xuICAgKiBAcGFyYW0ge0NhbWVyYX0gW29sZENhbWVyYV1cbiAgICovXG4gIGNvbnN0cnVjdG9yKGNhbWVyYVRhcmdldCwgZm9sbG93Q2FtZXJhUGFyYW1zLCBjYW1lcmFQYXJhbXMsIG9sZENhbWVyYSkge1xuICAgIHN1cGVyKGNhbWVyYVBhcmFtcywgb2xkQ2FtZXJhKTtcblxuICAgIC8vIFRoaXJkUGVyc29uQ2FtZXJhIGlzIGFuIGFic3RyYWN0IGNsYXNzLiBJdCBzaG91bGQgbm90IGJlIGluc3RhbnRpYXRlZCBkaXJlY3RseS5cbiAgICBpZiAobmV3LnRhcmdldCA9PT0gVGhpcmRQZXJzb25DYW1lcmEpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjb25zdHJ1Y3QgVGhpcmRQZXJzb25DYW1lcmEgaW5zdGFuY2VzIGRpcmVjdGx5Jyk7XG4gICAgfVxuXG4gICAgdGhpcy5fZm9sbG93Q2FtZXJhUGFyYW1zID0gZm9sbG93Q2FtZXJhUGFyYW1zO1xuICAgIHRoaXMuX2NhbWVyYVRhcmdldCA9IGNhbWVyYVRhcmdldDtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgaW50ZW5kZWQgcG9zaXRpb24gZm9yIHRoaXMgY2FtZXJhIHRvIGJlIGluIGFjY29yZGluZyB0byB0aGUgcG9zaXRpb24gYW5kIG9yaWVudGF0aW9uIG9mIHRoZVxuICAgKiBjYW1lcmEgdGFyZ2V0LlxuICAgKlxuICAgKiBAcmV0dXJucyB7dmVjM31cbiAgICogQHByb3RlY3RlZFxuICAgKiBAYWJzdHJhY3RcbiAgICovXG4gIF9nZXRJbnRlbmRlZFBvc2l0aW9uKCkge1xuICAgIGNvbnN0IGludGVuZGVkUG9zaXRpb24gPSB2ZWMzLmNyZWF0ZSgpO1xuICAgIHZlYzMudHJhbnNmb3JtTWF0NChcbiAgICAgICAgaW50ZW5kZWRQb3NpdGlvbixcbiAgICAgICAgdGhpcy5fZm9sbG93Q2FtZXJhUGFyYW1zLl9pbnRlbmRlZFRyYW5zbGF0aW9uRnJvbVRhcmdldCxcbiAgICAgICAgdGhpcy5fY2FtZXJhVGFyZ2V0LndvcmxkVHJhbnNmb3JtKTtcbiAgICByZXR1cm4gaW50ZW5kZWRQb3NpdGlvbjtcbiAgfVxuXG4gIC8qKiBAcGFyYW0ge0NhbWVyYVRhcmdldH0gY2FtZXJhVGFyZ2V0ICovXG4gIHNldCBjYW1lcmFUYXJnZXQoY2FtZXJhVGFyZ2V0KSB7XG4gICAgdGhpcy5fY2FtZXJhVGFyZ2V0ID0gY2FtZXJhVGFyZ2V0O1xuICB9XG59XG5cbmV4cG9ydCB7VGhpcmRQZXJzb25DYW1lcmF9O1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IENhbWVyYVRhcmdldFxuICogQHByb3BlcnR5IHt2ZWMzfSBwb3NpdGlvbiBJbiB3b3JsZCBjb29yZGluYXRlcy5cbiAqIEBwcm9wZXJ0eSB7cXVhdH0gb3JpZW50YXRpb24gUmVsYXRpdmUgdG8gdGhlIHdvcmxkIGF4ZXMuXG4gKiBAcHJvcGVydHkge21hdDR9IHdvcmxkVHJhbnNmb3JtIFRoZSBtb2RlbCB0cmFuc2Zvcm0gbWF0cml4LCBpbiB3b3JsZCBjb29yZGluYXRlcy5cbiAqL1xuIiwiLyoqXG4gKiBUaGlzIG1vZHVsZSByZS1leHBvcnRzIGFsbCBvZiB0aGUgZXhwb3J0cyBpbiB0aGUgZ3JhZnggZnJhbWV3b3JrLiBUaGlzIG1ha2VzIHRoZSBlbnRpcmUgZnJhbWV3b3JrXG4gKiBjb252ZW5pZW50bHkgYWNjZXNzaWJsZSB2aWEgdGhpcyBzaW5nbGUgbW9kdWxlLlxuICovXG5cbmV4cG9ydCAqIGZyb20gJy4vY2FtZXJhcyc7XG5leHBvcnQgKiBmcm9tICcuL21vZGVscyc7XG5leHBvcnQgKiBmcm9tICcuL3Byb2dyYW0td3JhcHBlcic7XG5leHBvcnQgKiBmcm9tICcuL3JlbmRlcmFibGUtc2hhcGVzJztcbmV4cG9ydCAqIGZyb20gJy4vdXRpbCc7XG5cbmV4cG9ydCAqIGZyb20gJy4vc3JjL2dyYWZ4LWNvbnRyb2xsZXInO1xuZXhwb3J0ICogZnJvbSAnLi9zcmMvbGlnaHQnO1xuZXhwb3J0ICogZnJvbSAnLi9zcmMvc2NlbmUnO1xuIiwiZXhwb3J0ICogZnJvbSAnLi9zcmMvZGVmYXVsdC1tb2RlbCc7XG5leHBvcnQgKiBmcm9tICcuL3NyYy9pbnZpc2libGUtbW9kZWwtY29udHJvbGxlcic7XG5leHBvcnQgKiBmcm9tICcuL3NyYy9tb2RlbCc7XG5leHBvcnQgKiBmcm9tICcuL3NyYy9tb2RlbC1jb250cm9sbGVyJztcbmV4cG9ydCAqIGZyb20gJy4vc3JjL21vZGVsLWdyb3VwLWNvbnRyb2xsZXInO1xuZXhwb3J0ICogZnJvbSAnLi9zcmMvc3RhbmRhcmQtbW9kZWwtY29udHJvbGxlcic7XG4iLCJpbXBvcnQge2NyZWF0ZUJ1ZmZlckZyb21EYXRhfSBmcm9tICcuLi8uLi91dGlsJztcbmltcG9ydCB7TW9kZWx9IGZyb20gJy4vbW9kZWwnO1xuXG4vKipcbiAqIFRoaXMgY2xhc3MgZGVmaW5lcyBhIGRlZmF1bHQgaW1wbGVtZW50YXRpb24gb2YgdGhlIHJpZ2lkIG1vZGVsLlxuICpcbiAqIFRoaXMgaW1wbGVtZW50YXRpb24gYWNjZXB0cyBhIFJlbmRlcmFibGVTaGFwZSBhbmQgYXBwbGllcyBzdGFuZGFyZCBPcGVuR0wgYmluZGluZyBsb2dpYyBvbiB0b3BcbiAqIG9mIGl0LlxuICovXG5jbGFzcyBEZWZhdWx0TW9kZWwgZXh0ZW5kcyBNb2RlbCB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2xcbiAgICogQHBhcmFtIHtSZW5kZXJhYmxlU2hhcGV9IHNoYXBlQ29uZmlnXG4gICAqL1xuICBjb25zdHJ1Y3RvcihnbCwgc2hhcGVDb25maWcpIHtcbiAgICBzdXBlcihnbCk7XG4gICAgdGhpcy5fc2hhcGVDb25maWcgPSBzaGFwZUNvbmZpZztcbiAgICB0aGlzLl9pbml0aWFsaXplQnVmZmVycygpO1xuICAgIHRoaXMuX2luaXRpYWxpemVDb25maWdzKCk7XG4gIH1cblxuICBfaW5pdGlhbGl6ZUJ1ZmZlcnMoKSB7XG4gICAgLy8gQ3JlYXRlLCBiaW5kLCBhbmQgbW92ZSBkYXRhIGludG8gYnVmZmVycyBmb3IgdGhlIHZlcnRleCBwb3NpdGlvbnMsIG5vcm1hbHMsIHRleHR1cmVcbiAgICAvLyBjb29yZGluYXRlcywgYW5kIGVsZW1lbnQgYXJyYXkuXG4gICAgdGhpcy5fdmVydGV4UG9zaXRpb25zQnVmZmVyID0gY3JlYXRlQnVmZmVyRnJvbURhdGEodGhpcy5fZ2wsIHRoaXMuX3NoYXBlQ29uZmlnLnZlcnRleFBvc2l0aW9ucyk7XG4gICAgdGhpcy5fdmVydGV4Tm9ybWFsc0J1ZmZlciA9IGNyZWF0ZUJ1ZmZlckZyb21EYXRhKHRoaXMuX2dsLCB0aGlzLl9zaGFwZUNvbmZpZy52ZXJ0ZXhOb3JtYWxzKTtcbiAgICB0aGlzLl90ZXh0dXJlQ29vcmRpbmF0ZXNCdWZmZXIgPVxuICAgICAgICBjcmVhdGVCdWZmZXJGcm9tRGF0YSh0aGlzLl9nbCwgdGhpcy5fc2hhcGVDb25maWcudGV4dHVyZUNvb3JkaW5hdGVzKTtcbiAgICBpZiAodGhpcy5fc2hhcGVDb25maWcudmVydGV4SW5kaWNlcykge1xuICAgICAgdGhpcy5fdmVydGV4SW5kaWNlc0J1ZmZlciA9IGNyZWF0ZUJ1ZmZlckZyb21EYXRhKHRoaXMuX2dsLCB0aGlzLl9zaGFwZUNvbmZpZy52ZXJ0ZXhJbmRpY2VzLFxuICAgICAgICAgIHRoaXMuX2dsLkVMRU1FTlRfQVJSQVlfQlVGRkVSKTtcbiAgICB9XG4gIH1cblxuICBfaW5pdGlhbGl6ZUNvbmZpZ3MoKSB7XG4gICAgdGhpcy5fdmVydGV4UG9zaXRpb25zQ29uZmlnID0ge1xuICAgICAgYnVmZmVyOiB0aGlzLl92ZXJ0ZXhQb3NpdGlvbnNCdWZmZXIsXG4gICAgICBzaXplOiAzLFxuICAgICAgdHlwZTogdGhpcy5fZ2wuRkxPQVQsXG4gICAgICBub3JtYWxpemVkOiBmYWxzZSxcbiAgICAgIHN0cmlkZTogMCxcbiAgICAgIG9mZnNldDogMFxuICAgIH07XG4gICAgdGhpcy5fdGV4dHVyZUNvb3JkaW5hdGVzQ29uZmlnID0ge1xuICAgICAgYnVmZmVyOiB0aGlzLl90ZXh0dXJlQ29vcmRpbmF0ZXNCdWZmZXIsXG4gICAgICBzaXplOiAyLFxuICAgICAgdHlwZTogdGhpcy5fZ2wuRkxPQVQsXG4gICAgICBub3JtYWxpemVkOiBmYWxzZSxcbiAgICAgIHN0cmlkZTogMCxcbiAgICAgIG9mZnNldDogMFxuICAgIH07XG4gICAgdGhpcy5fdmVydGV4Tm9ybWFsc0NvbmZpZyA9IHtcbiAgICAgIGJ1ZmZlcjogdGhpcy5fdmVydGV4Tm9ybWFsc0J1ZmZlcixcbiAgICAgIHNpemU6IDMsXG4gICAgICB0eXBlOiB0aGlzLl9nbC5GTE9BVCxcbiAgICAgIG5vcm1hbGl6ZWQ6IGZhbHNlLFxuICAgICAgc3RyaWRlOiAwLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfTtcbiAgfVxuXG4gIC8qKiBAcmV0dXJucyB7bnVtYmVyfSAqL1xuICBnZXQgZWxlbWVudENvdW50KCkge1xuICAgIHJldHVybiB0aGlzLl9zaGFwZUNvbmZpZy5lbGVtZW50Q291bnQ7XG4gIH1cblxuICAvKiogQHJldHVybnMge251bWJlcn0gKi9cbiAgZ2V0IG1vZGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2dsLlRSSUFOR0xFUztcbiAgICAvL3JldHVybiB0aGlzLl9nbC5MSU5FX1NUUklQOy8vIFRPRE86IFJFTU9WRSBNRVxuICB9XG59XG5cbmV4cG9ydCB7RGVmYXVsdE1vZGVsfTtcbiIsImltcG9ydCB7TW9kZWxDb250cm9sbGVyfSBmcm9tICcuL21vZGVsLWNvbnRyb2xsZXInO1xuXG4vKipcbiAqIFRoaXMgY2xhc3MgZGVmaW5lcyBhbiBleHRlbnNpb24gb2YgdGhlIG1vZGVsLWNvbnRyb2xsZXIgY2xhc3MgdGhhdCB3aWxsIG1haW50YWluIHN0YXRlIGJ1dCB3aWxsXG4gKiBuZXZlciByZW5kZXIgYW55dGhpbmcuXG4gKi9cbmNsYXNzIEludmlzaWJsZU1vZGVsQ29udHJvbGxlciBleHRlbmRzIE1vZGVsQ29udHJvbGxlciB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge01vZGVsQ29udHJvbGxlckNvbmZpZ30gcGFyYW1zXG4gICAqL1xuICBjb25zdHJ1Y3RvcihwYXJhbXMpIHtcbiAgICBzdXBlcihwYXJhbXMpO1xuICB9XG5cbiAgZGVzdHJveSgpIHt9XG5cbiAgdXBkYXRlKGN1cnJlbnRUaW1lLCBkZWx0YVRpbWUpIHt9XG5cbiAgZHJhdygpIHt9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIHRoZSBwcm9ncmFtIHZhcmlhYmxlcyBjb25maWd1cmF0aW9uLlxuICAgKlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBfc2V0VXBQcm9ncmFtVmFyaWFibGVzQ29uZmlnKCkge1xuICAgIHRoaXMuX3Byb2dyYW1WYXJpYWJsZXNDb25maWcgPSB7fTtcbiAgfVxuXG4gIC8qKlxuICAgKiBPdmVycmlkZXMgdGhlIGRlZmF1bHQgbWV0aG9kIHRvIGluc3RlYWQgZG8gbm90aGluZy5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfVxuICAgKi9cbiAgX3NldFVwUHJvZ3JhbVdyYXBwZXIoaWQpIHtcbiAgICB0aGlzLl9wcm9ncmFtV3JhcHBlcklkID0gaWQ7XG4gICAgdGhpcy5fcHJvZ3JhbVdyYXBwZXJQcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKG51bGwpO1xuICAgIHJldHVybiB0aGlzLl9wcm9ncmFtV3JhcHBlclByb21pc2U7XG4gIH1cbn1cblxuZXhwb3J0IHtJbnZpc2libGVNb2RlbENvbnRyb2xsZXJ9O1xuIiwiaW1wb3J0IHtQZXJzaXN0ZW50QW5pbWF0aW9uSm9ifSBmcm9tICdsc2wtYW5pbWF0ZXgnO1xuaW1wb3J0IHtcbiAgcHJvZ3JhbVdyYXBwZXJTdG9yZSxcbiAgdGV4dHVyZVN0b3JlLFxufSBmcm9tICcuLi8uLi9wcm9ncmFtLXdyYXBwZXInO1xuXG4vKipcbiAqIFRoaXMgY2xhc3MgZGVmaW5lcyBhIG1vZGVsLWNvbnRyb2xsZXIgY2xhc3MuXG4gKlxuICogVGhpcyBzaG91bGQgYmUgZXh0ZW5kZWQgYnkgYWxsIGNvbXBvbmVudHMgdGhhdCBoYW5kbGUgbW9kZWxzLS1pLmUuLCBhbnl0aGluZyB0aGF0IHdpbGwgYmVcbiAqIHJlbmRlcmluZyBzaGFwZXMuXG4gKlxuICogQGltcGxlbWVudHMge01vZGVsQ29udHJvbGxlckludGVyZmFjZX1cbiAqIEBhYnN0cmFjdFxuICovXG5jbGFzcyBNb2RlbENvbnRyb2xsZXIgZXh0ZW5kcyBQZXJzaXN0ZW50QW5pbWF0aW9uSm9iIHtcbiAgLyoqXG4gICAqIFBSRUNPTkRJVElPTjogVGhlIFByb2dyYW1XcmFwcGVyIHJlZmVyZW5jZWQgYnkgdGhlIGdpdmVuIHBhcmFtcyBtdXN0IGhhdmUgYWxyZWFkeSBiZWVuXG4gICAqIHJlZ2lzdGVyZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7TW9kZWxDb250cm9sbGVyQ29uZmlnfSBwYXJhbXNcbiAgICovXG4gIGNvbnN0cnVjdG9yKHBhcmFtcykge1xuICAgIHN1cGVyKCk7XG5cbiAgICAvLyBNb2RlbENvbnRyb2xsZXIgaXMgYW4gYWJzdHJhY3QgY2xhc3MuIEl0IHNob3VsZCBub3QgYmUgaW5zdGFudGlhdGVkIGRpcmVjdGx5LlxuICAgIGlmIChuZXcudGFyZ2V0ID09PSBNb2RlbENvbnRyb2xsZXIpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjb25zdHJ1Y3QgTW9kZWxDb250cm9sbGVyIGluc3RhbmNlcyBkaXJlY3RseScpO1xuICAgIH1cblxuICAgIHRoaXMuX2dsID0gcGFyYW1zLmdsO1xuICAgIHRoaXMuX2dldFZpZXdNYXRyaXggPSBwYXJhbXMuZ2V0Vmlld01hdHJpeDtcbiAgICB0aGlzLl9nZXRQcm9qZWN0aW9uTWF0cml4ID0gcGFyYW1zLmdldFByb2plY3Rpb25NYXRyaXg7XG4gICAgdGhpcy5fZ2V0UGFyZW50V29ybGRUcmFuc2Zvcm0gPSBwYXJhbXMuZ2V0UGFyZW50V29ybGRUcmFuc2Zvcm07XG4gICAgdGhpcy5fbG9jYWxUcmFuc2Zvcm0gPSBtYXQ0LmNyZWF0ZSgpO1xuICAgIHRoaXMuX3dvcmxkVHJhbnNmb3JtID0gbWF0NC5jcmVhdGUoKTtcbiAgICB0aGlzLl90ZXh0dXJlID0gbnVsbDtcbiAgICB0aGlzLl9wcm9ncmFtV3JhcHBlciA9IG51bGw7XG4gICAgdGhpcy5fcHJvZ3JhbVdyYXBwZXJJZCA9IG51bGw7XG4gICAgdGhpcy5fZHJhd0ZyYW1lSGFuZGxlciA9ICgpID0+IHRoaXMuZHJhdygpO1xuICAgIHRoaXMuX3Byb2dyYW1WYXJpYWJsZXNDb25maWcgPSBudWxsO1xuXG4gICAgdGhpcy5wb3NpdGlvbiA9IHZlYzMuY3JlYXRlKCk7XG4gICAgdGhpcy5zY2FsZSA9IHZlYzMuZnJvbVZhbHVlcygxLCAxLCAxKTtcblxuICAgIHRoaXMuX3NldFVwVGV4dHVyZShwYXJhbXMudGV4dHVyZVBhdGgpO1xuICAgIHRoaXMuX3NldFVwUHJvZ3JhbVdyYXBwZXIocGFyYW1zLnByb2dyYW1XcmFwcGVySWQpO1xuXG4gICAgdGhpcy5faXNSZWFkeVByb21pc2UgPSBQcm9taXNlLmFsbChbXG4gICAgICB0aGlzLl90ZXh0dXJlUHJvbWlzZSxcbiAgICAgIHRoaXMuX3Byb2dyYW1XcmFwcGVyUHJvbWlzZSxcbiAgICBdKTtcbiAgfVxuXG4gIHJlc2V0KCkge31cblxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gdGhpcyBpcyBkb25lIGJlaW5nIHVzZWQsIGFuZCBpcyBiZWluZyBkZXN0cm95ZWQgZnJvbSBtZW1vcnkuXG4gICAqL1xuICBkZXN0cm95KCkge1xuICAgIHByb2dyYW1XcmFwcGVyU3RvcmUudW5yZWdpc3RlckRyYXdGcmFtZUhhbmRsZXIodGhpcy5fcHJvZ3JhbVdyYXBwZXJJZCwgdGhpcy5fZHJhd0ZyYW1lSGFuZGxlcik7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbHMgdXBkYXRlLCB1cGRhdGVUcmFuc2Zvcm1zLCBhbmQgdXBkYXRlQ2hpbGRyZW4uXG4gICAqXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gY3VycmVudFRpbWVcbiAgICogQHBhcmFtIHtET01IaWdoUmVzVGltZVN0YW1wfSBkZWx0YVRpbWVcbiAgICovXG4gIHVwZGF0ZVNlbGZBbmRDaGlsZHJlbihjdXJyZW50VGltZSwgZGVsdGFUaW1lKSB7XG4gICAgdGhpcy51cGRhdGUoY3VycmVudFRpbWUsIGRlbHRhVGltZSk7XG4gICAgdGhpcy51cGRhdGVUcmFuc2Zvcm1zKCk7XG4gICAgdGhpcy51cGRhdGVDaGlsZHJlbihjdXJyZW50VGltZSwgZGVsdGFUaW1lKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHJlbGV2YW50IHN0YXRlIGZvciB0aGUgc3ViLWNsYXNzLlxuICAgKlxuICAgKiAtIFRoaXMgZG9lcyBub3QgcmVjdXJzaXZlbHkgdXBkYXRlIGRlc2NlbmRhbnQgbW9kZWwgY29udHJvbGxlcnM7IHRoYXQncyBoYW5kbGVkIGJ5XG4gICAqICAgdXBkYXRlQ2hpbGRyZW4uXG4gICAqIC0gVGhpcyBkb2VzIG5vdCB1cGRhdGUgdGhlIGxvY2FsIG9yIHdvcmxkLWNvb3JkaW5hdGUgdHJhbnNmb3JtczsgdGhhdCdzIGhhbmRsZWQgYnlcbiAgICogICB1cGRhdGVUcmFuc2Zvcm1zLlxuICAgKiAtIFRoaXMgaXMgY2FsbGVkIGJlZm9yZSB1cGRhdGVMb2NhbFRyYW5zZm9ybSBhbmQgdXBkYXRlQ2hpbGRyZW4uXG4gICAqXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gY3VycmVudFRpbWVcbiAgICogQHBhcmFtIHtET01IaWdoUmVzVGltZVN0YW1wfSBkZWx0YVRpbWVcbiAgICovXG4gIHVwZGF0ZShjdXJyZW50VGltZSwgZGVsdGFUaW1lKSB7XG4gICAgLy8gRXh0ZW5kaW5nIGNsYXNzZXMgc2hvdWxkIGltcGxlbWVudCB0aGlzIG1ldGhvZC5cbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdNZXRob2Qgbm90IGltcGxlbWVudGVkJyk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgd29ybGQtY29vcmRpbmF0ZSBhbmQgbG9jYWwtY29vcmRpbmF0ZSBtb2RlbCBtYXRyaWNlcy5cbiAgICpcbiAgICogVGhpcyBpcyBjYWxsZWQgYWZ0ZXIgdXBkYXRlIGFuZCBiZWZvcmUgdXBkYXRlQ2hpbGRyZW4uXG4gICAqXG4gICAqIE5PVEU6IEFsbCBvdmVycmlkZXMgb2YgdGhpcyBtZXRob2Qgc2hvdWxkIHVwZGF0ZSBbdGhpcy5fbG9jYWxUcmFuc2Zvcm1dLlxuICAgKi9cbiAgdXBkYXRlVHJhbnNmb3JtcygpIHtcbiAgICBtYXQ0Lm11bHRpcGx5KHRoaXMuX3dvcmxkVHJhbnNmb3JtLCB0aGlzLl9nZXRQYXJlbnRXb3JsZFRyYW5zZm9ybSgpLCB0aGlzLl9sb2NhbFRyYW5zZm9ybSk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyByZWxldmFudCBzdGF0ZSBmb3IgYW55IGNoaWxkcmVuIG1vZGVsIGNvbnRyb2xsZXJzLlxuICAgKlxuICAgKiBUaGlzIGlzIGNhbGxlZCBhZnRlciB1cGRhdGUgYW5kIHVwZGF0ZUxvY2FsVHJhbnNmb3JtLlxuICAgKlxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGN1cnJlbnRUaW1lXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gZGVsdGFUaW1lXG4gICAqL1xuICB1cGRhdGVDaGlsZHJlbihjdXJyZW50VGltZSwgZGVsdGFUaW1lKSB7fVxuXG4gIC8qKlxuICAgKiBAYWJzdHJhY3RcbiAgICovXG4gIGRyYXcoKSB7XG4gICAgLy8gRXh0ZW5kaW5nIGNsYXNzZXMgc2hvdWxkIGltcGxlbWVudCB0aGlzIG1ldGhvZC5cbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdNZXRob2Qgbm90IGltcGxlbWVudGVkJyk7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgbW9kZWwgdHJhbnNmb3JtIG1hdHJpeCwgaW4gbG9jYWwgY29vcmRpbmF0ZXMuXG4gICAqXG4gICAqIEByZXR1cm5zIHttYXQ0fVxuICAgKi9cbiAgZ2V0IGxvY2FsVHJhbnNmb3JtKCkge1xuICAgIHJldHVybiB0aGlzLl9sb2NhbFRyYW5zZm9ybTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBtb2RlbCB0cmFuc2Zvcm0gbWF0cml4LCBpbiB3b3JsZCBjb29yZGluYXRlcy5cbiAgICpcbiAgICogQHJldHVybnMge21hdDR9XG4gICAqL1xuICBnZXQgd29ybGRUcmFuc2Zvcm0oKSB7XG4gICAgcmV0dXJuIHRoaXMuX3dvcmxkVHJhbnNmb3JtO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGlzIG1vZGVsIGNvbnRyb2xsZXIgaXMgcmVhZHkgZm9yIHRoZSBhcHAgdG8gcnVuLlxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAgICovXG4gIGdldElzUmVhZHkoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lzUmVhZHlQcm9taXNlO1xuICB9XG5cbiAgLyoqIEBwYXJhbSB7c3RyaW5nfSBpZCAqL1xuICBzZXQgcHJvZ3JhbVdyYXBwZXJJZChpZCkge1xuICAgIHByb2dyYW1XcmFwcGVyU3RvcmUudW5yZWdpc3RlckRyYXdGcmFtZUhhbmRsZXIodGhpcy5fcHJvZ3JhbVdyYXBwZXJJZCwgdGhpcy5fZHJhd0ZyYW1lSGFuZGxlcik7XG4gICAgdGhpcy5fc2V0VXBQcm9ncmFtV3JhcHBlcihpZCk7XG4gIH1cblxuICAvKiogQHBhcmFtIHtzdHJpbmd9IHZhbHVlICovXG4gIHNldCB0ZXh0dXJlUGF0aCh2YWx1ZSkge1xuICAgIHRoaXMuX3NldFVwVGV4dHVyZSh2YWx1ZSk7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgdGhlIHByb2dyYW0gdmFyaWFibGVzIGNvbmZpZ3VyYXRpb24uXG4gICAqXG4gICAqIEBwcm90ZWN0ZWRcbiAgICogQGFic3RyYWN0XG4gICAqL1xuICBfc2V0VXBQcm9ncmFtVmFyaWFibGVzQ29uZmlnKCkge1xuICAgIC8vIEV4dGVuZGluZyBjbGFzc2VzIHNob3VsZCBpbXBsZW1lbnQgdGhpcyBtZXRob2QuXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTWV0aG9kIG5vdCBpbXBsZW1lbnRlZCcpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbdGV4dHVyZVBhdGhdXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3NldFVwVGV4dHVyZSh0ZXh0dXJlUGF0aCkge1xuICAgIHRoaXMuX3RleHR1cmVQcm9taXNlID0gdGV4dHVyZVBhdGhcbiAgICAgICAgPyB0ZXh0dXJlU3RvcmUubG9hZFRleHR1cmUodGhpcy5fZ2wsIHRleHR1cmVQYXRoKVxuICAgICAgICA6IFByb21pc2UucmVzb2x2ZShudWxsKTtcblxuICAgIC8vIEFzc2lnbiB0aGUgYWN0dWFsIHRleHR1cmUuXG4gICAgdGhpcy5fdGV4dHVyZVByb21pc2UgPSB0aGlzLl90ZXh0dXJlUHJvbWlzZVxuICAgICAgICAudGhlbih0ZXh0dXJlID0+IHRoaXMuX3RleHR1cmUgPSB0ZXh0dXJlKVxuICAgICAgICAudGhlbigoKSA9PiB0aGlzLl9zZXRVcFByb2dyYW1WYXJpYWJsZXNDb25maWcoKSk7XG5cbiAgICByZXR1cm4gdGhpcy5fdGV4dHVyZVByb21pc2U7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3NldFVwUHJvZ3JhbVdyYXBwZXIoaWQpIHtcbiAgICB0aGlzLl9wcm9ncmFtV3JhcHBlcklkID0gaWQ7XG4gICAgdGhpcy5fcHJvZ3JhbVdyYXBwZXJQcm9taXNlID0gcHJvZ3JhbVdyYXBwZXJTdG9yZS5nZXRQcm9ncmFtV3JhcHBlclByb21pc2UoaWQpXG4gICAgICAgIC50aGVuKHByb2dyYW1XcmFwcGVyID0+IHRoaXMuX3Byb2dyYW1XcmFwcGVyID0gcHJvZ3JhbVdyYXBwZXIpO1xuICAgIFByb21pc2UuYWxsKFt0aGlzLl9wcm9ncmFtV3JhcHBlclByb21pc2UsIHRoaXMuX3RleHR1cmVQcm9taXNlXSlcbiAgICAgICAgLnRoZW4oKCkgPT4gcHJvZ3JhbVdyYXBwZXJTdG9yZS5yZWdpc3RlckRyYXdGcmFtZUhhbmRsZXIoaWQsIHRoaXMuX2RyYXdGcmFtZUhhbmRsZXIpKTtcbiAgICByZXR1cm4gdGhpcy5fcHJvZ3JhbVdyYXBwZXJQcm9taXNlO1xuICB9XG59XG5cbmV4cG9ydCB7TW9kZWxDb250cm9sbGVyfTtcblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBNb2RlbENvbnRyb2xsZXJJbnRlcmZhY2VcbiAqIEBwcm9wZXJ0eSB7RnVuY3Rpb24uPFByb21pc2U+fSBnZXRJc1JlYWR5XG4gKiBAcHJvcGVydHkge0Z1bmN0aW9ufSByZXNldFxuICogQHByb3BlcnR5IHtGdW5jdGlvbn0gZGVzdHJveVxuICogQHByb3BlcnR5IHttYXQ0fSBsb2NhbFRyYW5zZm9ybVxuICogQHByb3BlcnR5IHttYXQ0fSB3b3JsZFRyYW5zZm9ybVxuICogQHByb3BlcnR5IHt2ZWMzfSBwb3NpdGlvblxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gTW9kZWxDb250cm9sbGVyQ29uZmlnXG4gKiBAcHJvcGVydHkge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2xcbiAqIEBwcm9wZXJ0eSB7RnVuY3Rpb24uPG1hdDQ+fSBnZXRWaWV3TWF0cml4XG4gKiBAcHJvcGVydHkge0Z1bmN0aW9uLjxtYXQ0Pn0gZ2V0UHJvamVjdGlvbk1hdHJpeFxuICogQHByb3BlcnR5IHtGdW5jdGlvbi48bWF0ND59IGdldFBhcmVudFdvcmxkVHJhbnNmb3JtXG4gKiBAcHJvcGVydHkge3N0cmluZ30gcHJvZ3JhbVdyYXBwZXJJZFxuICogQHByb3BlcnR5IHtzdHJpbmd9IFt0ZXh0dXJlUGF0aF1cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE1vZGVsR3JvdXBDb250cm9sbGVyQ29uZmlnXG4gKiBAcHJvcGVydHkge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2xcbiAqIEBwcm9wZXJ0eSB7RnVuY3Rpb24uPG1hdDQ+fSBnZXRWaWV3TWF0cml4XG4gKiBAcHJvcGVydHkge0Z1bmN0aW9uLjxtYXQ0Pn0gZ2V0UHJvamVjdGlvbk1hdHJpeFxuICogQHByb3BlcnR5IHtGdW5jdGlvbi48bWF0ND59IGdldFBhcmVudFdvcmxkVHJhbnNmb3JtXG4gKi9cbiIsImltcG9ydCB7IFBlcnNpc3RlbnRBbmltYXRpb25Kb2IgfSBmcm9tICdsc2wtYW5pbWF0ZXgnO1xuXG4vKipcbiAqIFRoaXMgY2xhc3MgY29udHJvbHMgZ3JvdXBzIG9mIG1vZGVscy5cbiAqXG4gKiBUaGlzIGlzIHVzZWZ1bCBmb3IgaGlnaGVyLWxldmVsIGNvbnRyb2xsZXJzIHRoYXQgY29udHJvbCBvdGhlciBtb2RlbHMgYW5kIGFsc28gdHJhbnNmb3JtIHRoZW0uXG4gKlxuICogQGltcGxlbWVudHMge01vZGVsQ29udHJvbGxlckludGVyZmFjZX1cbiAqIEBhYnN0cmFjdFxuICovXG5jbGFzcyBNb2RlbEdyb3VwQ29udHJvbGxlciBleHRlbmRzIFBlcnNpc3RlbnRBbmltYXRpb25Kb2Ige1xuICAvKipcbiAgICogSWYgZWl0aGVyIG9mIHRoZSBzaGFkZXIgcGF0aHMgYXJlIG9taXR0ZWQsIHRoZW4gdGhpcyBtb2RlbCBjb250cm9sbGVyIHdpbGwgbm90IGNyZWF0ZSBhXG4gICAqIHJlbmRlcmluZyBwcm9ncmFtIGNvbmZpZ3VyYXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7TW9kZWxHcm91cENvbnRyb2xsZXJDb25maWd9IHBhcmFtc1xuICAgKi9cbiAgY29uc3RydWN0b3IocGFyYW1zKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIC8vIE1vZGVsR3JvdXBDb250cm9sbGVyIGlzIGFuIGFic3RyYWN0IGNsYXNzLiBJdCBzaG91bGQgbm90IGJlIGluc3RhbnRpYXRlZCBkaXJlY3RseS5cbiAgICBpZiAobmV3LnRhcmdldCA9PT0gTW9kZWxHcm91cENvbnRyb2xsZXIpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjb25zdHJ1Y3QgTW9kZWxHcm91cENvbnRyb2xsZXIgaW5zdGFuY2VzIGRpcmVjdGx5Jyk7XG4gICAgfVxuXG4gICAgdGhpcy5fZ2wgPSBwYXJhbXMuZ2w7XG4gICAgdGhpcy5fZ2V0Vmlld01hdHJpeCA9IHBhcmFtcy5nZXRWaWV3TWF0cml4O1xuICAgIHRoaXMuX2dldFByb2plY3Rpb25NYXRyaXggPSBwYXJhbXMuZ2V0UHJvamVjdGlvbk1hdHJpeDtcbiAgICB0aGlzLl9nZXRQYXJlbnRXb3JsZFRyYW5zZm9ybSA9IHBhcmFtcy5nZXRQYXJlbnRXb3JsZFRyYW5zZm9ybSB8fCAoKCkgPT4gbWF0NC5jcmVhdGUoKSk7XG4gICAgdGhpcy5fbG9jYWxUcmFuc2Zvcm0gPSBtYXQ0LmNyZWF0ZSgpO1xuICAgIHRoaXMuX3dvcmxkVHJhbnNmb3JtID0gbWF0NC5jcmVhdGUoKTtcbiAgICB0aGlzLl9tb2RlbEN0cmxzID0gW107XG4gIH1cblxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuY2xlYXJNb2RlbENvbnRyb2xsZXJzKCk7XG4gIH1cblxuICByZXNldCgpIHtcbiAgICB0aGlzLl90cmlnZ2VyT25BbGxNb2RlbENvbnRyb2xsZXJzKCdyZXNldCcpO1xuICB9XG5cbiAgY2xlYXJNb2RlbENvbnRyb2xsZXJzKCkge1xuICAgIHRoaXMuX3RyaWdnZXJPbkFsbE1vZGVsQ29udHJvbGxlcnMoJ2Rlc3Ryb3knKTtcbiAgICB0aGlzLl9tb2RlbEN0cmxzID0gW107XG4gIH1cblxuICAvKipcbiAgICogQ2FsbHMgdXBkYXRlLCB1cGRhdGVUcmFuc2Zvcm1zLCBhbmQgdXBkYXRlQ2hpbGRyZW4uXG4gICAqXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gY3VycmVudFRpbWVcbiAgICogQHBhcmFtIHtET01IaWdoUmVzVGltZVN0YW1wfSBkZWx0YVRpbWVcbiAgICovXG4gIHVwZGF0ZVNlbGZBbmRDaGlsZHJlbihjdXJyZW50VGltZSwgZGVsdGFUaW1lKSB7XG4gICAgdGhpcy51cGRhdGUoY3VycmVudFRpbWUsIGRlbHRhVGltZSk7XG4gICAgdGhpcy51cGRhdGVUcmFuc2Zvcm1zKCk7XG4gICAgdGhpcy51cGRhdGVDaGlsZHJlbihjdXJyZW50VGltZSwgZGVsdGFUaW1lKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHJlbGV2YW50IHN0YXRlIGZvciB0aGUgc3ViLWNsYXNzLlxuICAgKlxuICAgKiAtIFRoaXMgZG9lcyBub3QgcmVjdXJzaXZlbHkgdXBkYXRlIGRlc2NlbmRhbnQgbW9kZWwgY29udHJvbGxlcnM7IHRoYXQncyBoYW5kbGVkIGJ5XG4gICAqICAgdXBkYXRlQ2hpbGRyZW4uXG4gICAqIC0gVGhpcyBkb2VzIG5vdCB1cGRhdGUgdGhlIGxvY2FsIG9yIHdvcmxkLWNvb3JkaW5hdGUgdHJhbnNmb3JtczsgdGhhdCdzIGhhbmRsZWQgYnlcbiAgICogICB1cGRhdGVUcmFuc2Zvcm1zLlxuICAgKiAtIFRoaXMgaXMgY2FsbGVkIGJlZm9yZSB1cGRhdGVMb2NhbFRyYW5zZm9ybSBhbmQgdXBkYXRlQ2hpbGRyZW4uXG4gICAqXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gY3VycmVudFRpbWVcbiAgICogQHBhcmFtIHtET01IaWdoUmVzVGltZVN0YW1wfSBkZWx0YVRpbWVcbiAgICovXG4gIHVwZGF0ZShjdXJyZW50VGltZSwgZGVsdGFUaW1lKSB7fVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSB3b3JsZC1jb29yZGluYXRlIGFuZCBsb2NhbC1jb29yZGluYXRlIG1vZGVsIG1hdHJpY2VzLlxuICAgKlxuICAgKiBUaGlzIGlzIGNhbGxlZCBhZnRlciB1cGRhdGUgYW5kIGJlZm9yZSB1cGRhdGVDaGlsZHJlbi5cbiAgICpcbiAgICogTk9URTogQWxsIGltcGxlbWVudGF0aW9ucyBvZiB0aGlzIG1ldGhvZCBzaG91bGQgdXBkYXRlIFt0aGlzLl9sb2NhbFRyYW5zZm9ybV0uXG4gICAqL1xuICB1cGRhdGVUcmFuc2Zvcm1zKCkge1xuICAgIG1hdDQubXVsdGlwbHkodGhpcy5fd29ybGRUcmFuc2Zvcm0sIHRoaXMuX2dldFBhcmVudFdvcmxkVHJhbnNmb3JtKCksIHRoaXMuX2xvY2FsVHJhbnNmb3JtKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHJlbGV2YW50IHN0YXRlIGZvciBhbnkgY2hpbGRyZW4gbW9kZWwgY29udHJvbGxlcnMuXG4gICAqXG4gICAqIFRoaXMgaXMgY2FsbGVkIGFmdGVyIHVwZGF0ZSBhbmQgdXBkYXRlTG9jYWxUcmFuc2Zvcm0uXG4gICAqXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gY3VycmVudFRpbWVcbiAgICogQHBhcmFtIHtET01IaWdoUmVzVGltZVN0YW1wfSBkZWx0YVRpbWVcbiAgICovXG4gIHVwZGF0ZUNoaWxkcmVuKGN1cnJlbnRUaW1lLCBkZWx0YVRpbWUpIHtcbiAgICB0aGlzLl90cmlnZ2VyT25BbGxNb2RlbENvbnRyb2xsZXJzKCd1cGRhdGVTZWxmQW5kQ2hpbGRyZW4nLCBbY3VycmVudFRpbWUsIGRlbHRhVGltZV0pO1xuICB9XG5cbiAgZHJhdygpIHtcbiAgICAvLyBXZSBkb24ndCBjYWxsIGRyYXcgb24gdGhlIGNoaWxkcmVuIG1vZGVsIGNvbnRyb2xsZXJzLCBiZWNhdXNlIHRoZXkgcmVnaXN0ZXIgdGhlbXNlbHZlcyB0byBiZVxuICAgIC8vIGRyYXduIHdpdGggdGhlaXIgZ2l2ZW4gc2hhZGVyIHByb2dyYW0uXG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtNb2RlbENvbnRyb2xsZXJJbnRlcmZhY2V9IG1vZGVsQ3RybFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZS48TW9kZWxDb250cm9sbGVySW50ZXJmYWNlPn1cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgX3N0YXJ0TW9kZWxDb250cm9sbGVyKG1vZGVsQ3RybCkge1xuICAgIHJldHVybiBtb2RlbEN0cmwuZ2V0SXNSZWFkeSgpLnRoZW4oKCkgPT4ge1xuICAgICAgbW9kZWxDdHJsLnJlc2V0KCk7XG4gICAgICB0aGlzLl9tb2RlbEN0cmxzLnB1c2gobW9kZWxDdHJsKTtcbiAgICAgIHJldHVybiBtb2RlbEN0cmw7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtNb2RlbENvbnRyb2xsZXJJbnRlcmZhY2V9IG1vZGVsQ3RybFxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBfb25Nb2RlbENvbnRyb2xsZXJEZXN0cm95ZWQobW9kZWxDdHJsKSB7XG4gICAgY29uc3QgaW5kZXggPSB0aGlzLl9tb2RlbEN0cmxzLmluZGV4T2YobW9kZWxDdHJsKTtcbiAgICB0aGlzLl9tb2RlbEN0cmxzLnNwbGljZShpbmRleCwgMSk7XG4gICAgbW9kZWxDdHJsLmRlc3Ryb3koKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3ZlYzN9IHRhcmdldFBvc2l0aW9uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhTcXVhcmVkRGlzdGFuY2VcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgX3JlbW92ZURpc3RhbnRNb2RlbENvbnRyb2xsZXJzKHRhcmdldFBvc2l0aW9uLCBtYXhTcXVhcmVkRGlzdGFuY2UpIHtcbiAgICB0aGlzLl9tb2RlbEN0cmxzXG4gICAgICAvLyBHZXQgdGhlIE1vZGVsQ29udHJvbGxlcnMgdGhhdCBhcmUgdG9vIGZhciBhd2F5LlxuICAgICAgLmZpbHRlcihtb2RlbEN0cmwgPT5cbiAgICAgICAgdmVjMy5zcXVhcmVkRGlzdGFuY2UobW9kZWxDdHJsLnBvc2l0aW9uLCB0YXJnZXRQb3NpdGlvbikgPiBtYXhTcXVhcmVkRGlzdGFuY2UpXG4gICAgICAvLyBSZW1vdmUgdGhlIGZhci1hd2F5IE1vZGVsQ29udHJvbGxlcnMuXG4gICAgICAuZm9yRWFjaChtb2RlbEN0cmwgPT4gdGhpcy5fb25Nb2RlbENvbnRyb2xsZXJEZXN0cm95ZWQobW9kZWxDdHJsKSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgbW9kZWwgdHJhbnNmb3JtIG1hdHJpeCwgaW4gbG9jYWwgY29vcmRpbmF0ZXMuXG4gICAqXG4gICAqIEByZXR1cm5zIHttYXQ0fVxuICAgKi9cbiAgZ2V0IGxvY2FsVHJhbnNmb3JtKCkge1xuICAgIHJldHVybiB0aGlzLl9sb2NhbFRyYW5zZm9ybTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBtb2RlbCB0cmFuc2Zvcm0gbWF0cml4LCBpbiB3b3JsZCBjb29yZGluYXRlcy5cbiAgICpcbiAgICogQHJldHVybnMge21hdDR9XG4gICAqL1xuICBnZXQgd29ybGRUcmFuc2Zvcm0oKSB7XG4gICAgcmV0dXJuIHRoaXMuX3dvcmxkVHJhbnNmb3JtO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGlzIG1vZGVsIGNvbnRyb2xsZXIgaXMgcmVhZHkgZm9yIHRoZSBhcHAgdG8gcnVuLlxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAgICovXG4gIGdldElzUmVhZHkoKSB7XG4gICAgcmV0dXJuIFByb21pc2UuYWxsKHRoaXMuX21vZGVsQ3RybHMubWFwKGNvbnRyb2xsZXIgPT4gY29udHJvbGxlci5nZXRJc1JlYWR5KCkpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kTmFtZVxuICAgKiBAcGFyYW0ge0FycmF5LjwqPn0gW2FyZ3NdXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIF90cmlnZ2VyT25BbGxNb2RlbENvbnRyb2xsZXJzKG1ldGhvZE5hbWUsIGFyZ3MgPSBbXSkge1xuICAgIC8vdGhpcy5fZGVtb09iamVjdFttZXRob2ROYW1lXSguLi5hcmdzKTtcbiAgICB0aGlzLl9tb2RlbEN0cmxzLmZvckVhY2gob2JqZWN0ID0+IG9iamVjdFttZXRob2ROYW1lXSguLi5hcmdzKSk7XG4gIH1cbn1cblxuZXhwb3J0IHsgTW9kZWxHcm91cENvbnRyb2xsZXIgfTtcbiIsIi8qKlxuICogVGhpcyBjbGFzcyBkZWZpbmVzIGEgdG9wLWxldmVsIG1vZGVsLlxuICpcbiAqIEBhYnN0cmFjdFxuICovXG5jbGFzcyBNb2RlbCB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2xcbiAgICovXG4gIGNvbnN0cnVjdG9yKGdsKSB7XG4gICAgLy8gTW9kZWwgaXMgYW4gYWJzdHJhY3QgY2xhc3MuIEl0IHNob3VsZCBub3QgYmUgaW5zdGFudGlhdGVkIGRpcmVjdGx5LlxuICAgIGlmIChuZXcudGFyZ2V0ID09PSBNb2RlbCkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNvbnN0cnVjdCBNb2RlbCBpbnN0YW5jZXMgZGlyZWN0bHknKTtcbiAgICB9XG5cbiAgICB0aGlzLl9nbCA9IGdsO1xuICAgIHRoaXMuYm91bmRzID0gbnVsbDtcblxuICAgIHRoaXMuX3ZlcnRleFBvc2l0aW9uc0J1ZmZlciA9IG51bGw7XG4gICAgdGhpcy5fdmVydGV4Tm9ybWFsc0J1ZmZlciA9IG51bGw7XG4gICAgdGhpcy5fdGV4dHVyZUNvb3JkaW5hdGVzQnVmZmVyID0gbnVsbDtcblxuICAgIHRoaXMuX3ZlcnRleFBvc2l0aW9uc0NvbmZpZyA9IG51bGw7XG4gICAgdGhpcy5fdGV4dHVyZUNvb3JkaW5hdGVzQ29uZmlnID0gbnVsbDtcbiAgICB0aGlzLl92ZXJ0ZXhOb3JtYWxzQ29uZmlnID0gbnVsbDtcblxuICAgIC8vIElmIHRoaXMgaXMga2VwdCBudWxsLCB0aGVuIGdsLmRyYXdBcnJheXMgd2lsbCBiZSB1c2VkICh3aXRoIGdsLkFSUkFZX0JVRkZFUikgaW5zdGVhZCBvZlxuICAgIC8vIGdsLmRyYXdFbGVtZW50cyAod2l0aCBnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUikuXG4gICAgdGhpcy5fdmVydGV4SW5kaWNlc0J1ZmZlciA9IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgbm9ybWFscyBvbiB0aGlzIHNoYXBlIHRvIGVpdGhlciBiZSBzcGhlcmljYWwgKHBvaW50IG91dHdhcmRzIGZyb20gdGhlIGNlbnRlcikgb3JcbiAgICogb3J0aG9nb25hbCB0byB0aGUgZmFjZXMgb2YgdGhlaXIgdHJpYW5nbGVzLlxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzVXNpbmdTcGhlcmljYWxOb3JtYWxzXG4gICAqIEBwcm90ZWN0ZWRcbiAgICogQGFic3RyYWN0XG4gICAqL1xuICBfc2V0Tm9ybWFscyhpc1VzaW5nU3BoZXJpY2FsTm9ybWFscykge1xuICAgIC8vIEV4dGVuZGluZyBjbGFzc2VzIHNob3VsZCBpbXBsZW1lbnQgdGhpcyBtZXRob2QuXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTWV0aG9kIG5vdCBpbXBsZW1lbnRlZCcpO1xuICB9XG5cbiAgLyoqIEByZXR1cm5zIHs/QXR0cmlidXRlQ29uZmlnfSAqL1xuICBnZXQgdmVydGV4UG9zaXRpb25zQ29uZmlnKCkge1xuICAgIHJldHVybiB0aGlzLl92ZXJ0ZXhQb3NpdGlvbnNDb25maWc7XG4gIH1cblxuICAvKiogQHJldHVybnMgez9BdHRyaWJ1dGVDb25maWd9ICovXG4gIGdldCB0ZXh0dXJlQ29vcmRpbmF0ZXNDb25maWcoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3RleHR1cmVDb29yZGluYXRlc0NvbmZpZztcbiAgfVxuXG4gIC8qKiBAcmV0dXJucyB7P0F0dHJpYnV0ZUNvbmZpZ30gKi9cbiAgZ2V0IHZlcnRleE5vcm1hbHNDb25maWcoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3ZlcnRleE5vcm1hbHNDb25maWc7XG4gIH1cblxuICAvKiogQHJldHVybnMgez9XZWJHTEJ1ZmZlcn0gKi9cbiAgZ2V0IHZlcnRleEluZGljZXNCdWZmZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3ZlcnRleEluZGljZXNCdWZmZXI7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge251bWJlcn1cbiAgICogQGFic3RyYWN0XG4gICAqL1xuICBnZXQgZWxlbWVudENvdW50KCkge1xuICAgIC8vIEV4dGVuZGluZyBjbGFzc2VzIHNob3VsZCBpbXBsZW1lbnQgdGhpcyBtZXRob2QuXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTWV0aG9kIG5vdCBpbXBsZW1lbnRlZCcpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAqIEBhYnN0cmFjdFxuICAgKi9cbiAgZ2V0IG1vZGUoKSB7XG4gICAgLy8gRXh0ZW5kaW5nIGNsYXNzZXMgc2hvdWxkIGltcGxlbWVudCB0aGlzIG1ldGhvZC5cbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdNZXRob2Qgbm90IGltcGxlbWVudGVkJyk7XG4gIH1cbn1cblxuZXhwb3J0IHtNb2RlbH07XG4iLCJpbXBvcnQge3JlbmRlcmFibGVTaGFwZUZhY3Rvcnl9IGZyb20gJy4uLy4uL3JlbmRlcmFibGUtc2hhcGVzJztcblxuaW1wb3J0IHtNb2RlbENvbnRyb2xsZXJ9IGZyb20gJy4vbW9kZWwtY29udHJvbGxlcic7XG5cbi8qKlxuICogVGhpcyBjbGFzcyBkZWZpbmVzIGFuIGV4dGVuc2lvbiBvZiB0aGUgbW9kZWwtY29udHJvbGxlciBjbGFzcyB0aGF0IHVzZXMgYSBjb21tb24gc2V0IG9mIHByb2dyYW1cbiAqIHZhcmlhYmxlcyBhbmQgdHJhbnNmb3JtYXRpb24gbWF0cmljZXMuXG4gKi9cbmNsYXNzIFN0YW5kYXJkTW9kZWxDb250cm9sbGVyIGV4dGVuZHMgTW9kZWxDb250cm9sbGVyIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7TW9kZWxDb250cm9sbGVyQ29uZmlnfSBwYXJhbXNcbiAgICogQHBhcmFtIHtSZW5kZXJhYmxlU2hhcGVDb25maWd9IHNoYXBlUGFyYW1zXG4gICAqL1xuICBjb25zdHJ1Y3RvcihwYXJhbXMsIHNoYXBlUGFyYW1zKSB7XG4gICAgc3VwZXIocGFyYW1zKTtcblxuICAgIHRoaXMuc2NhbGUgPSBzaGFwZVBhcmFtcy5zY2FsZSB8fCB2ZWMzLmZyb21WYWx1ZXMoMSwgMSwgMSk7XG4gICAgdGhpcy5fbXZNYXRyaXggPSBtYXQ0LmNyZWF0ZSgpO1xuICAgIHRoaXMuX25vcm1hbE1hdHJpeCA9IG1hdDQuY3JlYXRlKCk7XG4gICAgdGhpcy5fbW9kZWwgPSByZW5kZXJhYmxlU2hhcGVGYWN0b3J5LmNyZWF0ZU1vZGVsKHRoaXMuX2dsLCBzaGFwZVBhcmFtcyk7XG4gIH1cblxuICB1cGRhdGUoY3VycmVudFRpbWUsIGRlbHRhVGltZSkge31cblxuICBkcmF3KCkge1xuICAgIC8vIFVwZGF0ZSB0aGUgbW9kZWwtdmlldyBtYXRyaXguXG4gICAgbWF0NC5tdWx0aXBseSh0aGlzLl9tdk1hdHJpeCwgdGhpcy5fZ2V0Vmlld01hdHJpeCgpLCB0aGlzLl93b3JsZFRyYW5zZm9ybSk7XG5cbiAgICAvLyBVcGRhdGUgdGhlIG5vcm1hbCBtYXRyaXguXG4gICAgbWF0NC5pbnZlcnQodGhpcy5fbm9ybWFsTWF0cml4LCB0aGlzLl9tdk1hdHJpeCk7XG4gICAgbWF0NC50cmFuc3Bvc2UodGhpcy5fbm9ybWFsTWF0cml4LCB0aGlzLl9ub3JtYWxNYXRyaXgpO1xuXG4gICAgLy8gVXBkYXRlIHRoZSB1bmlmb3JtIHZhcmlhYmxlcy5cbiAgICB0aGlzLl9wcm9ncmFtVmFyaWFibGVzQ29uZmlnLnVuaWZvcm1zWyd1UE1hdHJpeCddID0gdGhpcy5fZ2V0UHJvamVjdGlvbk1hdHJpeCgpO1xuICAgIHRoaXMuX3Byb2dyYW1WYXJpYWJsZXNDb25maWcudW5pZm9ybXNbJ3VNVk1hdHJpeCddID0gdGhpcy5fbXZNYXRyaXg7XG4gICAgdGhpcy5fcHJvZ3JhbVZhcmlhYmxlc0NvbmZpZy51bmlmb3Jtc1sndU5vcm1hbE1hdHJpeCddID0gdGhpcy5fbm9ybWFsTWF0cml4O1xuXG4gICAgLy8gRHJhdyBzaGFwZXMgdXNpbmcgdGhlIGN1cnJlbnQgdmFyaWFibGVzIGNvbmZpZ3VyYXRpb24uXG4gICAgdGhpcy5fcHJvZ3JhbVdyYXBwZXIuZHJhdyh0aGlzLl9nbCwgdGhpcy5fcHJvZ3JhbVZhcmlhYmxlc0NvbmZpZywgMCwgdGhpcy5fbW9kZWwuZWxlbWVudENvdW50KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyB0aGUgcHJvZ3JhbSB2YXJpYWJsZXMgY29uZmlndXJhdGlvbi5cbiAgICpcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgX3NldFVwUHJvZ3JhbVZhcmlhYmxlc0NvbmZpZygpIHtcbiAgICB0aGlzLl9wcm9ncmFtVmFyaWFibGVzQ29uZmlnID0ge1xuICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICBhVmVydGV4UG9zaXRpb246IHRoaXMuX21vZGVsLnZlcnRleFBvc2l0aW9uc0NvbmZpZyxcbiAgICAgICAgYVRleHR1cmVDb29yZDogdGhpcy5fbW9kZWwudGV4dHVyZUNvb3JkaW5hdGVzQ29uZmlnLFxuICAgICAgICBhVmVydGV4Tm9ybWFsOiB0aGlzLl9tb2RlbC52ZXJ0ZXhOb3JtYWxzQ29uZmlnLFxuICAgICAgfSxcbiAgICAgIHVuaWZvcm1zOiB7XG4gICAgICAgIHVQTWF0cml4OiB0aGlzLl9nZXRQcm9qZWN0aW9uTWF0cml4KCksXG4gICAgICAgIHVNVk1hdHJpeDogdGhpcy5fbXZNYXRyaXgsXG4gICAgICAgIHVOb3JtYWxNYXRyaXg6IHRoaXMuX25vcm1hbE1hdHJpeCxcbiAgICAgICAgdVNhbXBsZXI6IHRoaXMuX3RleHR1cmUsXG4gICAgICB9LFxuICAgICAgbW9kZTogdGhpcy5fbW9kZWwubW9kZSxcbiAgICAgIHZlcnRleEluZGljZXM6IHRoaXMuX21vZGVsLnZlcnRleEluZGljZXNCdWZmZXIsXG4gICAgICBlbGVtZW50Q291bnQ6IHRoaXMuX21vZGVsLmVsZW1lbnRDb3VudCxcbiAgICB9O1xuICB9XG59XG5cbmV4cG9ydCB7U3RhbmRhcmRNb2RlbENvbnRyb2xsZXJ9O1xuIiwiZXhwb3J0ICogZnJvbSAnLi9zcmMvcHJvZ3JhbS13cmFwcGVyJztcbmV4cG9ydCAqIGZyb20gJy4vc3JjL3Byb2dyYW0td3JhcHBlci1zdG9yZSc7XG5leHBvcnQgKiBmcm9tICcuL3NyYy90ZXh0dXJlLXN0b3JlJztcbmV4cG9ydCAqIGZyb20gJy4vc3JjL3VuaWZvcm0tc2V0dGVyJztcbiIsImltcG9ydCB7YmluZEZyYW1lYnVmZmVyfSBmcm9tICcuLi8uLi91dGlsJztcblxuaW1wb3J0IHtwcm9ncmFtV3JhcHBlclN0b3JlfSBmcm9tICcuL3Byb2dyYW0td3JhcHBlci1zdG9yZSc7XG5cbi8qKlxuICogVGhpcyBjbGFzcyB3cmFwcyBhIGNvbGxlY3Rpb24gb2YgUHJvZ3JhbVdyYXBwZXJzIGFuZCBzdXBwb3J0cyBkcmF3aW5nIHRoZW0gYXMgYSBncm91cC5cbiAqL1xuY2xhc3MgR3JvdXBQcm9ncmFtV3JhcHBlciB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2xcbiAgICogQHBhcmFtIHtQcm9ncmFtV3JhcHBlckNvbmZpZ30gY29uZmlnXG4gICAqL1xuICBjb25zdHJ1Y3RvcihnbCwgY29uZmlnKSB7XG4gICAgdGhpcy5jb25maWcgPSBjb25maWc7XG4gICAgdGhpcy5fY2hpbGRyZW5Qcm9ncmFtV3JhcHBlcnMgPSBbXTtcbiAgICB0aGlzLl9pc1JlYWR5ID0gbnVsbDtcblxuICAgIHRoaXMuX2xvYWRDaGlsZHJlbihnbCwgY29uZmlnKS50aGVuKCgpID0+IHtcbiAgICAgIGlmIChjb25maWcuaW5pdGlhbGl6ZSkgY29uZmlnLmluaXRpYWxpemUoZ2wpO1xuICAgICAgaWYgKGNvbmZpZy5pc0FQb3N0UHJvY2Vzc29yKSB7XG4gICAgICAgIF9jcmVhdGVDaGlsZHJlbkZyYW1lYnVmZmVyc0FuZFRleHR1cmVzKGdsLCBjb25maWcpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqIEByZXR1cm5zIHtzdHJpbmd9ICovXG4gIGdldCBwcm9ncmFtSWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29uZmlnLmlkO1xuICB9XG5cbiAgLyoqIEByZXR1cm5zIHtQcm9taXNlfSAqL1xuICBnZXRJc1JlYWR5KCkge1xuICAgIHJldHVybiB0aGlzLl9pc1JlYWR5O1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbmRlcnMgc2hhcGVzIHVzaW5nIHRoaXMgcHJvZ3JhbS5cbiAgICpcbiAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsXG4gICAqL1xuICBkcmF3KGdsKSB7XG4gICAgaWYgKHRoaXMuY29uZmlnLndlYkdMU3RhdGVTZXR0ZXIpIHRoaXMuY29uZmlnLndlYkdMU3RhdGVTZXR0ZXIoZ2wpO1xuICAgIHRoaXMuY29uZmlnLmNoaWxkcmVuRnJhbWVidWZmZXJJZHMuZm9yRWFjaChfY2xlYXJGcmFtZWJ1ZmZlci5iaW5kKHRoaXMsIGdsKSk7XG4gICAgdGhpcy5jb25maWcuY2hpbGRyZW5Qcm9ncmFtc1RvRHJhdy5mb3JFYWNoKF9kcmF3Q2hpbGRQcm9ncmFtV3JhcHBlci5iaW5kKHRoaXMsIGdsKSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsXG4gICAqIEBwYXJhbSB7UHJvZ3JhbVdyYXBwZXJDb25maWd9IGNvbmZpZ1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2xvYWRDaGlsZHJlbihnbCwgY29uZmlnKSB7XG4gICAgdGhpcy5faXNSZWFkeSA9IFByb21pc2UuYWxsKFxuICAgICAgICBjb25maWcuY2hpbGRyZW5Qcm9ncmFtQ29uZmlncy5tYXAoY29uZmlnID0+XG4gICAgICAgICAgICBwcm9ncmFtV3JhcHBlclN0b3JlLmxvYWRQcm9ncmFtV3JhcHBlcihnbCwgY29uZmlnKVxuICAgICAgICAgICAgICAgIC50aGVuKHByb2dyYW1XcmFwcGVyID0+IHRoaXMuX2NoaWxkcmVuUHJvZ3JhbVdyYXBwZXJzLnB1c2gocHJvZ3JhbVdyYXBwZXIpKSkpO1xuICAgIHJldHVybiB0aGlzLl9pc1JlYWR5O1xuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsXG4gKiBAcGFyYW0ge3N0cmluZ30gaWRcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIF9jbGVhckZyYW1lYnVmZmVyKGdsLCBpZCkge1xuICBjb25zdCBmcmFtZWJ1ZmZlciA9IHByb2dyYW1XcmFwcGVyU3RvcmUuZ2V0RnJhbWVidWZmZXIoaWQpO1xuICBiaW5kRnJhbWVidWZmZXIoZ2wsIGZyYW1lYnVmZmVyKTtcbiAgZ2wuY2xlYXIoZ2wuQ09MT1JfQlVGRkVSX0JJVCB8IGdsLkRFUFRIX0JVRkZFUl9CSVQpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbFxuICogQHBhcmFtIHtQcm9ncmFtV3JhcHBlckNvbmZpZ30gY29uZmlnXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfY3JlYXRlQ2hpbGRyZW5GcmFtZWJ1ZmZlcnNBbmRUZXh0dXJlcyhnbCwgY29uZmlnKSB7XG4gIGNvbmZpZy5jaGlsZHJlbkZyYW1lYnVmZmVySWRzLmZvckVhY2goaWQgPT5cbiAgICAgIHByb2dyYW1XcmFwcGVyU3RvcmUuY3JlYXRlTmV3RnJhbWVidWZmZXJBbmRUZXh0dXJlKGdsLCBpZCwgZmFsc2UpKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2xcbiAqIEBwYXJhbSB7Q2hpbGRQcm9ncmFtQW5kRnJhbWVidWZmZXJJZHN9IGNoaWxkUHJvZ3JhbUFuZEZyYW1lYnVmZmVySWRzXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfZHJhd0NoaWxkUHJvZ3JhbVdyYXBwZXIoZ2wsIGNoaWxkUHJvZ3JhbUFuZEZyYW1lYnVmZmVySWRzKSB7XG4gIGNvbnN0IHtwcm9ncmFtSWQsIGlucHV0RnJhbWVidWZmZXJJZHMsIG91dHB1dEZyYW1lYnVmZmVySWR9ID0gY2hpbGRQcm9ncmFtQW5kRnJhbWVidWZmZXJJZHM7XG5cbiAgY29uc3QgZnJhbWVidWZmZXIgPSBvdXRwdXRGcmFtZWJ1ZmZlcklkID9cbiAgICAgIHByb2dyYW1XcmFwcGVyU3RvcmUuZ2V0RnJhbWVidWZmZXIob3V0cHV0RnJhbWVidWZmZXJJZCkgOiBudWxsO1xuICBjb25zdCBwcm9ncmFtV3JhcHBlciA9IHByb2dyYW1XcmFwcGVyU3RvcmUuZ2V0UHJvZ3JhbVdyYXBwZXIocHJvZ3JhbUlkKTtcbiAgY29uc3QgcHJvZ3JhbVZhcmlhYmxlc0NvbmZpZyA9XG4gICAgICBwcm9ncmFtV3JhcHBlci5jb25maWcuZ2V0UHJvZ3JhbVZhcmlhYmxlc0NvbmZpZyhnbCwgaW5wdXRGcmFtZWJ1ZmZlcklkcyk7XG5cbiAgYmluZEZyYW1lYnVmZmVyKGdsLCBmcmFtZWJ1ZmZlcik7XG4gIHByb2dyYW1XcmFwcGVyLnNldFByb2dyYW0oZ2wpO1xuICBwcm9ncmFtV3JhcHBlci5kcmF3KGdsLCBwcm9ncmFtVmFyaWFibGVzQ29uZmlnKTtcbn1cblxuZXhwb3J0IHtHcm91cFByb2dyYW1XcmFwcGVyfTtcbiIsImltcG9ydCB7Y3JlYXRlRnJhbWVidWZmZXIsIGNyZWF0ZVJlbmRlckJ1ZmZlciwgY3JlYXRlVGV4dHVyZUZvclJlbmRlcmluZ30gZnJvbSAnLi4vLi4vdXRpbCc7XG5cbmltcG9ydCB7R3JvdXBQcm9ncmFtV3JhcHBlcn0gZnJvbSAnLi9ncm91cC1wcm9ncmFtLXdyYXBwZXInO1xuaW1wb3J0IHtQcm9ncmFtV3JhcHBlcn0gZnJvbSAnLi9wcm9ncmFtLXdyYXBwZXInO1xuXG4vKipcbiAqIFRoaXMgY2xhc3MgbG9hZHMsIGNvbXBpbGVzLCBhbmQgc3RvcmVzIFdlYkdMIHJlbmRlcmluZyBwcm9ncmFtcy5cbiAqXG4gKiBBbHNvLCB0aGlzIHN0b3JlcyBkcmF3LWZyYW1lIGhhbmRsZXJzIGZvciBhIGdpdmVuIHByb2dyYW0uIFRoaXMgbWFrZXMgaXQgZWFzeSBmb3IgYSB0b3AtbGV2ZWxcbiAqIGNvbnRyb2xsZXIgdG8gZ3JvdXAgdG9nZXRoZXIgZHJhdyBjYWxscyBmb3IgYSBnaXZlbiBwcm9ncmFtIGFuZCB0aGVyZWZvcmUgbWluaW1pemUgcHJvZ3JhbVxuICogc3dpdGNoZXMuXG4gKlxuICogQWxzbywgdGhpcyBkaXN0aW5ndWlzaGVzIGJldHdlZW4gcmVuZGVyaW5nIHByb2dyYW1zIHRoYXQgYXJlIHVzZWQgZm9yIHJlbmRlcmluZyBpbmRpdmlkdWFsIG1vZGVsc1xuICogYW5kIHBvc3QtcHJvY2Vzc2luZyBwcm9ncmFtcyB0aGF0IGFyZSB1c2VkIGZvciBtYW5pcHVsYXRpbmcgdGhlIGVudGlyZSBmcmFtZSBhZnRlciBhbGwgdGhlIG1vZGVsc1xuICogaGF2ZSByZW5kZXJlZC5cbiAqXG4gKiBUaGlzIGFsc28gYWxsb3dzIGZvciBncm91cGluZyBwcm9ncmFtcywgd2hpY2ggY29uc2lzdCBvZiBtdWx0aXBsZSBjaGlsZCBwcm9ncmFtcyB0aGF0IGFyZSBhbGxcbiAqIHJlbmRlcmVkIGluIHNlcXVlbmNlIGZvciBhIHJlbGF0ZWQgcHVycG9zZS5cbiAqL1xuY2xhc3MgUHJvZ3JhbVdyYXBwZXJTdG9yZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuX21vZGVsUHJvZ3JhbUNhY2hlID0ge307XG4gICAgdGhpcy5fc29ydGVkTW9kZWxQcm9ncmFtcyA9IFtdO1xuICAgIHRoaXMuX3Bvc3RQcm9jZXNzaW5nUHJvZ3JhbUNhY2hlID0ge307XG4gICAgdGhpcy5fc29ydGVkUG9zdFByb2Nlc3NpbmdQcm9ncmFtcyA9IFtdO1xuICAgIHRoaXMuX2ZyYW1idWZmZXJzID0ge307XG4gICAgdGhpcy5fdGV4dHVyZXMgPSB7fTtcbiAgICB0aGlzLl9yZW5kZXJCdWZmZXJzID0ge307XG4gIH1cblxuICAvKipcbiAgICogTG9hZHMgYW5kIGNhY2hlcyBhIHByb2dyYW0gd3JhcHBlciB1c2luZyB0aGUgZ2l2ZW4gY29uZmlndXJhdGlvbi5cbiAgICpcbiAgICogVGhpcyBtZXRob2QgaXMgaWRlbXBvdGVudDsgYSBnaXZlbiBwcm9ncmFtIHdpbGwgb25seSBiZSBjYWNoZWQgb25jZS5cbiAgICpcbiAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsXG4gICAqIEBwYXJhbSB7UHJvZ3JhbVdyYXBwZXJDb25maWd9IHBhcmFtc1xuICAgKiBAcmV0dXJucyB7UHJvbWlzZS48UHJvZ3JhbVdyYXBwZXJ8R3JvdXBQcm9ncmFtV3JhcHBlciwgRXJyb3I+fVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgbG9hZFByb2dyYW1XcmFwcGVyKGdsLCBwYXJhbXMpIHtcbiAgICBsZXQgY2FjaGU7XG4gICAgbGV0IHNvcnRlZExpc3Q7XG4gICAgaWYgKHBhcmFtcy5pc0FQb3N0UHJvY2Vzc29yKSB7XG4gICAgICBjYWNoZSA9IHRoaXMuX3Bvc3RQcm9jZXNzaW5nUHJvZ3JhbUNhY2hlO1xuICAgICAgc29ydGVkTGlzdCA9IHRoaXMuX3NvcnRlZFBvc3RQcm9jZXNzaW5nUHJvZ3JhbXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhY2hlID0gdGhpcy5fbW9kZWxQcm9ncmFtQ2FjaGU7XG4gICAgICBzb3J0ZWRMaXN0ID0gdGhpcy5fc29ydGVkTW9kZWxQcm9ncmFtcztcbiAgICB9XG4gICAgbGV0IGNhY2hlSW5mbyA9IGNhY2hlW3BhcmFtcy5pZF07XG5cbiAgICAvLyBDYWNoZSB0aGUgcHJvZ3JhbSBpZiBpdCBoYXMgbm90IGJlZW4gcHJldmlvdXNseSByZWdpc3RlcmVkLlxuICAgIGlmICghY2FjaGVJbmZvKSB7XG4gICAgICBjYWNoZUluZm8gPSB7fTtcblxuICAgICAgY2FjaGVJbmZvLnBhcmFtcyA9IHBhcmFtcztcbiAgICAgIGNhY2hlSW5mby5yZW5kZXJQcmlvcml0eSA9IHBhcmFtcy5yZW5kZXJQcmlvcml0eTtcblxuICAgICAgbGV0IHByb2dyYW1XcmFwcGVyID0gcGFyYW1zLmNoaWxkcmVuUHJvZ3JhbUNvbmZpZ3MgP1xuICAgICAgICAgIG5ldyBHcm91cFByb2dyYW1XcmFwcGVyKGdsLCBwYXJhbXMpIDogbmV3IFByb2dyYW1XcmFwcGVyKGdsLCBwYXJhbXMpO1xuXG4gICAgICBjYWNoZUluZm8ucHJvZ3JhbVdyYXBwZXIgPSBwcm9ncmFtV3JhcHBlcjtcbiAgICAgIGNhY2hlSW5mby5wcm9taXNlID0gcHJvZ3JhbVdyYXBwZXIuZ2V0SXNSZWFkeSgpLnRoZW4oKCkgPT4gY2FjaGVJbmZvLnByb2dyYW1XcmFwcGVyKTtcblxuICAgICAgaWYgKHBhcmFtcy5pc0FQb3N0UHJvY2Vzc29yKSB7XG4gICAgICAgIC8vIEFzIHNvb24gYXMgd2Uga25vdyB3ZSdsbCB1c2UgYSBwb3N0LXByb2Nlc3NpbmcgcHJvZ3JhbSwgbWFrZSBzdXJlIHdlIGNyZWF0ZSB0aGUgZGVmYXVsdFxuICAgICAgICAvLyBmcmFtZWJ1ZmZlci90ZXh0dXJlIGZvciByZW5kZXJpbmcgbW9kZWxzIGludG8uXG4gICAgICAgIGlmICghdGhpcy5tb2RlbHNGcmFtZWJ1ZmZlcikge1xuICAgICAgICAgIHRoaXMuY3JlYXRlTmV3RnJhbWVidWZmZXJBbmRUZXh0dXJlKGdsLCBNT0RFTFNfRlJBTUVCVUZGRVJfSUQsIHRydWUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBQb3N0LXByb2Nlc3NpbmcgcHJvZ3JhbXMgYXJlIG5vdCB1c2VkIGZvciByZW5kZXJpbmcgaW5kaXZpZHVhbCBtb2RlbHMuXG4gICAgICAgIGNhY2hlSW5mby5kcmF3RnJhbWVIYW5kbGVycyA9IG5ldyBTZXQoKTtcbiAgICAgIH1cblxuICAgICAgLy8gU3RvcmUgdGhlIHByb2dyYW0gY2FjaGUgaW5mbyBpbiBib3RoIGEgbWFwIGFuZCBhIGxpc3QgdGhhdCBpcyBzb3J0ZWQgYnkgcmVuZGVyIHByaW9yaXR5LlxuICAgICAgY2FjaGVbcGFyYW1zLmlkXSA9IGNhY2hlSW5mbztcbiAgICAgIHNvcnRlZExpc3QucHVzaChjYWNoZUluZm8pO1xuICAgICAgc29ydGVkTGlzdC5zb3J0KF9jb21wYXJlUHJvZ3JhbUNhY2hlSW5mbyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNhY2hlSW5mby5wcm9taXNlO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVycyB0aGUgZ2l2ZW4gZHJhdy1mcmFtZSBldmVudCBoYW5kbGVyIGZvciB0aGUgZ2l2ZW4gcHJvZ3JhbS5cbiAgICpcbiAgICogVGhpcyBtZXRob2QgaXMgaWRlbXBvdGVudDsgZHJhdy1mcmFtZSBoYW5kbGVycyBhcmUgc3RvcmVkIGluIGEgc2V0LCBzbyBkdXBsaWNhdGUgYWRkaXRpb25zIHdpbGxcbiAgICogb3ZlcndyaXRlIHByZXZpb3VzIGFkZGl0aW9ucy5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGRyYXdGcmFtZUhhbmRsZXJcbiAgICovXG4gIHJlZ2lzdGVyRHJhd0ZyYW1lSGFuZGxlcihpZCwgZHJhd0ZyYW1lSGFuZGxlcikge1xuICAgIGNvbnN0IHByb2dyYW1DYWNoZUluZm8gPSB0aGlzLl9tb2RlbFByb2dyYW1DYWNoZVtpZF07XG5cbiAgICBpZiAoIXByb2dyYW1DYWNoZUluZm8pIHtcbiAgICAgIGlmICh0aGlzLl9wb3N0UHJvY2Vzc2luZ1Byb2dyYW1DYWNoZVtpZF0pIHtcbiAgICAgICAgLy8gVGhlIHByb2dyYW0gaXMgbm90IHNldCB1cCBmb3IgcmVuZGVyaW5nIGluZGl2aWR1YWwgbW9kZWxzLlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCByZWdpc3RlciBhIGRyYXctZnJhbWUgaGFuZGxlciBmb3IgYSBwcm9ncmFtIHRoYXQgaXMgbm90IHNldCB1cCBmb3IgXG4gICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyaW5nIGluZGl2aWR1YWwgbW9kZWxzIHJlZ2lzdGVyZWQ6ICR7aWR9YCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBUaGUgcHJvZ3JhbSBoYXMgbm90IGJlZW4gcmVnaXN0ZXJlZC5cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgcmVnaXN0ZXIgYSBkcmF3LWZyYW1lIGhhbmRsZXIgZm9yIGEgcHJvZ3JhbSB0aGF0IGhhcyBub3QgeWV0IGJlZW4gXG4gICAgICAgICAgICAgICAgICAgICAgICAgcmVnaXN0ZXJlZDogJHtpZH1gKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBTdG9yZSB0aGUgZHJhdy1mcmFtZSBoYW5kbGVyLlxuICAgIHByb2dyYW1DYWNoZUluZm8uZHJhd0ZyYW1lSGFuZGxlcnMuYWRkKGRyYXdGcmFtZUhhbmRsZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIFdBUk5JTkc6IFRoaXMgd2lsbCByZW1vdmUgdGhlIHByb2dyYW0gZnJvbSB0aGUgc3RvcmUgZXZlbiBpZiB0aGVyZSBhcmUgc3RpbGwgb3RoZXIgY29tcG9uZW50c1xuICAgKiBkZXBlbmRpbmcgb24gdGhpcyBwcm9ncmFtIG9yIGl0cyBkcmF3LWZyYW1lIGhhbmRsZXJzLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWRcbiAgICovXG4gIGRlbGV0ZVByb2dyYW1XcmFwcGVyKGlkKSB7XG4gICAgLy8gRGV0ZXJtaW5lIHdoaWNoIGNvbGxlY3Rpb25zIHdlJ3JlIHJlbW92aW5nIHRoZSBwcm9ncmFtIGZyb20uXG4gICAgbGV0IHNvcnRlZFByb2dyYW1zO1xuICAgIGxldCBwcm9ncmFtQ2FjaGU7XG4gICAgaWYgKHRoaXMuX21vZGVsUHJvZ3JhbUNhY2hlW2lkXSkge1xuICAgICAgc29ydGVkUHJvZ3JhbXMgPSB0aGlzLl9zb3J0ZWRNb2RlbFByb2dyYW1zO1xuICAgICAgcHJvZ3JhbUNhY2hlID0gdGhpcy5fbW9kZWxQcm9ncmFtQ2FjaGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNvcnRlZFByb2dyYW1zID0gdGhpcy5fc29ydGVkUG9zdFByb2Nlc3NpbmdQcm9ncmFtcztcbiAgICAgIHByb2dyYW1DYWNoZSA9IHRoaXMuX3Bvc3RQcm9jZXNzaW5nUHJvZ3JhbUNhY2hlO1xuICAgIH1cbiAgICBjb25zdCBwcm9ncmFtQ2FjaGVJbmZvID0gcHJvZ3JhbUNhY2hlW2lkXTtcblxuICAgIC8vIFJlbW92ZSB0aGUgcHJvZ3JhbS5cbiAgICBzb3J0ZWRQcm9ncmFtcy5zcGxpY2Uoc29ydGVkUHJvZ3JhbXMuaW5kZXhPZihwcm9ncmFtQ2FjaGVJbmZvKSwgMSk7XG4gICAgZGVsZXRlIHByb2dyYW1DYWNoZVtpZF07XG4gIH1cblxuICAvLyBUT0RPOiBEb24ndCBmb3JnZXQgdG8gdW5yZWdpc3RlciBkcmF3LWZyYW1lIGhhbmRsZXJzIHdoZW4gZGVzdHJveWluZyBtb2RlbHMgKGFzdGVyb2lkcywgVUZPcyxcbiAgLy8gZXRjLilcbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBkcmF3RnJhbWVIYW5kbGVyXG4gICAqL1xuICB1bnJlZ2lzdGVyRHJhd0ZyYW1lSGFuZGxlcihpZCwgZHJhd0ZyYW1lSGFuZGxlcikge1xuICAgIHRoaXMuX21vZGVsUHJvZ3JhbUNhY2hlW2lkXS5kcmF3RnJhbWVIYW5kbGVycy5kZWxldGUoZHJhd0ZyYW1lSGFuZGxlcik7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfVxuICAgKiBAdGhyb3dzIElmIHRoZXJlIGlzIG5vIHByb2dyYW0gcmVnaXN0ZXJlZCB3aXRoIHRoZSBnaXZlbiBJRC5cbiAgICovXG4gIGdldFByb2dyYW1XcmFwcGVyUHJvbWlzZShpZCkge1xuICAgIGNvbnN0IGNhY2hlSW5mbyA9IHRoaXMuX21vZGVsUHJvZ3JhbUNhY2hlW2lkXSB8fCB0aGlzLl9wb3N0UHJvY2Vzc2luZ1Byb2dyYW1DYWNoZVtpZF07XG4gICAgcmV0dXJuIGNhY2hlSW5mby5wcm9taXNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZFxuICAgKiBAcmV0dXJucyB7UHJvZ3JhbVdyYXBwZXJ9XG4gICAqIEB0aHJvd3MgSWYgdGhlcmUgaXMgbm8gcHJvZ3JhbSByZWdpc3RlcmVkIHdpdGggdGhlIGdpdmVuIElELlxuICAgKi9cbiAgZ2V0UHJvZ3JhbVdyYXBwZXIoaWQpIHtcbiAgICBjb25zdCBjYWNoZUluZm8gPSB0aGlzLl9tb2RlbFByb2dyYW1DYWNoZVtpZF0gfHwgdGhpcy5fcG9zdFByb2Nlc3NpbmdQcm9ncmFtQ2FjaGVbaWRdO1xuICAgIHJldHVybiBjYWNoZUluZm8ucHJvZ3JhbVdyYXBwZXI7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbHMgdGhlIGdpdmVuIGNhbGxiYWNrIG9uY2UgZm9yIGVhY2ggcmVnaXN0ZXJlZCBwZXItbW9kZWwgcHJvZ3JhbSB3cmFwcGVyLlxuICAgKlxuICAgKiBUaGUgY2FsbGJhY2sgaXMgcGFzc2VkIHR3byBhcmd1bWVudHM6IHRoZSBwcm9ncmFtIHdyYXBwZXIgYW5kIHRoZSByZWdpc3RlcmVkIGRyYXctZnJhbWVcbiAgICogaGFuZGxlcnMuXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAqL1xuICBmb3JFYWNoTW9kZWxQcm9ncmFtKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5fc29ydGVkTW9kZWxQcm9ncmFtcy5mb3JFYWNoKHByb2dyYW1DYWNoZUluZm8gPT5cbiAgICAgICAgY2FsbGJhY2socHJvZ3JhbUNhY2hlSW5mby5wcm9ncmFtV3JhcHBlciwgcHJvZ3JhbUNhY2hlSW5mby5kcmF3RnJhbWVIYW5kbGVycykpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxzIHRoZSBnaXZlbiBjYWxsYmFjayBvbmNlIGZvciBlYWNoIHJlZ2lzdGVyZWQgcG9zdC1wcm9jZXNzaW5nIHByb2dyYW0gd3JhcHBlci5cbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAgICovXG4gIGZvckVhY2hQb3N0UHJvY2Vzc2luZ1Byb2dyYW0oY2FsbGJhY2spIHtcbiAgICB0aGlzLl9zb3J0ZWRQb3N0UHJvY2Vzc2luZ1Byb2dyYW1zLmZvckVhY2goXG4gICAgICAgIHByb2dyYW1DYWNoZUluZm8gPT4gY2FsbGJhY2socHJvZ3JhbUNhY2hlSW5mby5wcm9ncmFtV3JhcHBlcikpO1xuICB9XG5cbiAgLyoqIEByZXR1cm5zIHtib29sZWFufSAqL1xuICBnZXQgaXNVc2luZ1Bvc3RQcm9jZXNzaW5nUHJvZ3JhbXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3NvcnRlZFBvc3RQcm9jZXNzaW5nUHJvZ3JhbXMubGVuZ3RoID4gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuZCBzdG9yZXMgYSBmcmFtZWJ1ZmZlciB3aXRoIGEgdGV4dHVyZS5cbiAgICpcbiAgICogQm90aCB0aGUgZnJhbWVidWZmZXIgYW5kIHRleHR1cmUgY2FuIGJlIGFjY2Vzc2VkIGxhdGVyIHVzaW5nIHRoZSBnaXZlbiBJRC5cbiAgICpcbiAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZFxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzaG91bGRTdG9yZURlcHRoSW5mbz1mYWxzZV1cbiAgICovXG4gIGNyZWF0ZU5ld0ZyYW1lYnVmZmVyQW5kVGV4dHVyZShnbCwgaWQsIHNob3VsZFN0b3JlRGVwdGhJbmZvPWZhbHNlKSB7XG4gICAgbGV0IHJlbmRlckJ1ZmZlcjtcbiAgICBpZiAoc2hvdWxkU3RvcmVEZXB0aEluZm8pIHtcbiAgICAgIHJlbmRlckJ1ZmZlciA9IGNyZWF0ZVJlbmRlckJ1ZmZlcihnbCk7XG4gICAgICB0aGlzLl9yZW5kZXJCdWZmZXJzW2lkXSA9IHJlbmRlckJ1ZmZlcjtcbiAgICB9XG5cbiAgICBjb25zdCB0ZXh0dXJlID0gY3JlYXRlVGV4dHVyZUZvclJlbmRlcmluZyhnbCk7XG4gICAgdGhpcy5fdGV4dHVyZXNbaWRdID0gdGV4dHVyZTtcblxuICAgIGNvbnN0IGZyYW1lYnVmZmVyID0gY3JlYXRlRnJhbWVidWZmZXIoZ2wsIHRleHR1cmUsIHJlbmRlckJ1ZmZlcik7XG4gICAgdGhpcy5fZnJhbWJ1ZmZlcnNbaWRdID0gZnJhbWVidWZmZXI7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkXG4gICAqIEByZXR1cm5zIHs/V2ViR0xGcmFtZWJ1ZmZlcn1cbiAgICovXG4gIGdldEZyYW1lYnVmZmVyKGlkKSB7XG4gICAgcmV0dXJuIHRoaXMuX2ZyYW1idWZmZXJzW2lkXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWRcbiAgICogQHJldHVybnMgez9XZWJHTFRleHR1cmV9XG4gICAqL1xuICBnZXRUZXh0dXJlKGlkKSB7XG4gICAgcmV0dXJuIHRoaXMuX3RleHR1cmVzW2lkXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJZiB3ZSBhcmUgdXNpbmcgYSBwb3N0LXByb2Nlc3NpbmcgcHJvZ3JhbSwgdGhlbiB0aGlzIGlzIHRoZSBkZWZhdWx0IGZyYW1lYnVmZmVyIGZvciByZW5kZXJpbmdcbiAgICogbW9kZWxzIGludG8uXG4gICAqXG4gICAqIEByZXR1cm5zIHs/V2ViR0xGcmFtZWJ1ZmZlcn1cbiAgICovXG4gIGdldCBtb2RlbHNGcmFtZWJ1ZmZlcigpIHtcbiAgICByZXR1cm4gdGhpcy5fZnJhbWJ1ZmZlcnNbTU9ERUxTX0ZSQU1FQlVGRkVSX0lEXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJZiB3ZSBhcmUgdXNpbmcgYSBwb3N0LXByb2Nlc3NpbmcgcHJvZ3JhbSwgdGhlbiB0aGlzIGlzIHRoZSBkZWZhdWx0IHRleHR1cmUgZm9yIHJlbmRlcmluZ1xuICAgKiBtb2RlbHMgaW50by5cbiAgICpcbiAgICogQHJldHVybnMgez9XZWJHTFRleHR1cmV9XG4gICAqL1xuICBnZXQgbW9kZWxzVGV4dHVyZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fdGV4dHVyZXNbTU9ERUxTX0ZSQU1FQlVGRkVSX0lEXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJZiB3ZSBhcmUgdXNpbmcgYSBwb3N0LXByb2Nlc3NpbmcgcHJvZ3JhbSwgdGhlbiB0aGlzIGlzIHRoZSBkZWZhdWx0IGRlcHRoIHJlbmRlciBidWZmZXIgZm9yXG4gICAqIHJlbmRlcmluZyBtb2RlbHMuXG4gICAqXG4gICAqIEByZXR1cm5zIHs/V2ViR0xSZW5kZXJCdWZmZXJ9XG4gICAqL1xuICBnZXQgbW9kZWxzUmVuZGVyQnVmZmVyKCkge1xuICAgIHJldHVybiB0aGlzLl9yZW5kZXJCdWZmZXJzW01PREVMU19GUkFNRUJVRkZFUl9JRF07XG4gIH1cbn1cblxuZnVuY3Rpb24gX2NvbXBhcmVQcm9ncmFtQ2FjaGVJbmZvKGEsIGIpIHtcbiAgcmV0dXJuIGEucmVuZGVyUHJpb3JpdHkgLSBiLnJlbmRlclByaW9yaXR5O1xufVxuXG5leHBvcnQgY29uc3QgTU9ERUxTX0ZSQU1FQlVGRkVSX0lEID0gJ21vZGVscyc7XG5cbmV4cG9ydCBjb25zdCBwcm9ncmFtV3JhcHBlclN0b3JlID0gbmV3IFByb2dyYW1XcmFwcGVyU3RvcmUoKTtcblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBQcm9ncmFtQ2FjaGVJbmZvXG4gKiBAcHJvcGVydHkge1Byb2dyYW1XcmFwcGVyQ29uZmlnfSBwYXJhbXNcbiAqIEBwcm9wZXJ0eSB7UHJvZ3JhbVdyYXBwZXJ8R3JvdXBQcm9ncmFtV3JhcHBlcn0gW3Byb2dyYW1XcmFwcGVyXVxuICogQHByb3BlcnR5IHtTZXQuPEZ1bmN0aW9uPn0gW2RyYXdGcmFtZUhhbmRsZXJzXVxuICogQHByb3BlcnR5IHtBcnJheS48UHJvZ3JhbVdyYXBwZXI+fSBbY2hpbGRyZW5Qcm9ncmFtV3JhcHBlcnNdXG4gKi9cbiIsImltcG9ydCB7XG4gIGlzSW5EZXZNb2RlLFxuICBnZXRWaWV3cG9ydEhlaWdodCxcbiAgZ2V0Vmlld3BvcnRXaWR0aCxcbiAgbG9hZFByb2dyYW0sXG59IGZyb20gJy4uLy4uL3V0aWwnO1xuXG5pbXBvcnQge1VuaWZvcm1TZXR0ZXJ9IGZyb20gJy4vdW5pZm9ybS1zZXR0ZXInO1xuXG4vKipcbiAqIFRoaXMgY2xhc3Mgd3JhcHMgYSBuYXRpdmUgV2ViR0xQcm9ncmFtIG9iamVjdCBhbmQgcHJvdmlkZXMgY29udmVuaWVuY2UgbWV0aG9kcyBmb3I6XG4gKiAtIHNldHRpbmcgdGhlIHdyYXBwZWQgcHJvZ3JhbSBmb3IgdXNlIG9uIHRoZSBXZWJHTCByZW5kZXJpbmcgY29udGV4dCxcbiAqIC0gZW5hYmxpbmcgdGhlIGF0dHJpYnV0ZSB2YXJpYWJsZXMgZm9yIHRoZSBwcm9ncmFtLFxuICogLSBzZXR0aW5nIHRoZSBhdHRyaWJ1dGUgYW5kIHVuaWZvcm0gdmFyaWFibGVzIGZvciB0aGUgcHJvZ3JhbSxcbiAqIC0gZHJhd2luZyBzaGFwZXMgd2l0aCB0aGUgcHJvZ3JhbSBhbmQgaXRzIGN1cnJlbnQgY29uZmlndXJhdGlvbi5cbiAqL1xuY2xhc3MgUHJvZ3JhbVdyYXBwZXIge1xuICAvKipcbiAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsXG4gICAqIEBwYXJhbSB7UHJvZ3JhbVdyYXBwZXJDb25maWd9IGNvbmZpZ1xuICAgKi9cbiAgY29uc3RydWN0b3IoZ2wsIGNvbmZpZykge1xuICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgIHRoaXMuX3Byb2dyYW0gPSBudWxsO1xuICAgIHRoaXMuX3VuaWZvcm1TZXR0ZXJzID0gbnVsbDtcbiAgICB0aGlzLl9hdHRyaWJ1dGVFbmFibGVycyA9IG51bGw7XG4gICAgdGhpcy5fYXR0cmlidXRlU2V0dGVycyA9IG51bGw7XG5cbiAgICAvLyBUaGlzIGlzIHVzZWQgZm9yIGFzc2lnbmluZyBkaWZmZXJlbnQgdGV4dHVyZXMgdG8gZGlmZmVyZW50IHRleHR1cmUgdW5pdHMuXG4gICAgdGhpcy5iYXNlVGV4dHVyZVVuaXRJbmRleCA9IDA7XG5cbiAgICB0aGlzLl9idWlsZFdlYkdMUHJvZ3JhbVByb21pc2UgPSB0aGlzLl9idWlsZFdlYkdMUHJvZ3JhbShnbCwgY29uZmlnKTtcblxuICAgIC8vIFRPRE86IEZyZWV6ZSB0aGlzIG9iamVjdCBhZnRlciBpbml0aWFsaXppbmdcbiAgfVxuXG4gIC8qKiBAcmV0dXJucyB7c3RyaW5nfSAqL1xuICBnZXQgcHJvZ3JhbUlkKCkge1xuICAgIHJldHVybiB0aGlzLmNvbmZpZy5pZDtcbiAgfVxuXG4gIC8qKiBAcmV0dXJucyB7UHJvbWlzZX0gKi9cbiAgZ2V0SXNSZWFkeSgpIHtcbiAgICByZXR1cm4gdGhpcy5fYnVpbGRXZWJHTFByb2dyYW1Qcm9taXNlO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhpcyBwcm9ncmFtIHRvIHVzZSBmb3IgcmVuZGVyaW5nIG9uIHRoZSBnaXZlbiBXZWJHTCBjb250ZXh0LlxuICAgKlxuICAgKiBUaGlzIGFsc28gZW5hYmxlcyBhbGwgcmVsZXZhbnQgYXR0cmlidXRlIHZhcmlhYmxlcyBmb3IgdGhpcyBwcm9ncmFtLlxuICAgKlxuICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2xcbiAgICovXG4gIHNldFByb2dyYW0oZ2wpIHtcbiAgICBnbC51c2VQcm9ncmFtKHRoaXMuX3Byb2dyYW0pO1xuICAgIHRoaXMuX2VuYWJsZUF0dHJpYnV0ZXMoKTtcbiAgICBpZiAodGhpcy5jb25maWcud2ViR0xTdGF0ZVNldHRlcikgdGhpcy5jb25maWcud2ViR0xTdGF0ZVNldHRlcihnbCk7XG4gIH1cblxuICAvKipcbiAgICogUmVuZGVycyBzaGFwZXMgdXNpbmcgdGhpcyBwcm9ncmFtIHdpdGggdGhlIGdpdmVuIHZhcmlhYmxlcyBjb25maWd1cmF0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2xcbiAgICogQHBhcmFtIHtQcm9ncmFtVmFyaWFibGVzQ29uZmlnfSBbcHJvZ3JhbVZhcmlhYmxlc0NvbmZpZ11cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtvZmZzZXQ9MF0gT2Zmc2V0IGludG8gdGhlIGVsZW1lbnQgYXJyYXkgYnVmZmVyIHRvIHJlbmRlciBmcm9tLlxuICAgKiBAcGFyYW0ge251bWJlcn0gW2NvdW50PXByb2dyYW1WYXJpYWJsZXNDb25maWcuZWxlbWVudENvdW50XSBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHJlbmRlci5cbiAgICovXG4gIGRyYXcoZ2wsIHByb2dyYW1WYXJpYWJsZXNDb25maWcsIG9mZnNldCwgY291bnQpIHtcbiAgICBwcm9ncmFtVmFyaWFibGVzQ29uZmlnID0gcHJvZ3JhbVZhcmlhYmxlc0NvbmZpZyB8fCB0aGlzLmNvbmZpZy5nZXRQcm9ncmFtVmFyaWFibGVzQ29uZmlnKGdsKTtcbiAgICB0aGlzLl9zZXRWYXJpYWJsZXMoZ2wsIHByb2dyYW1WYXJpYWJsZXNDb25maWcpO1xuICAgIHRoaXMuX2RyYXcoZ2wsIHByb2dyYW1WYXJpYWJsZXNDb25maWcsIG9mZnNldCwgY291bnQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdXAgdGhpcyBXZWJHTCByZW5kZXJpbmcgcHJvZ3JhbSB0byBkcmF3IHNoYXBlcyB3aXRoIHRoZSBnaXZlbiBwcm9ncmFtIHZhcmlhYmxlc1xuICAgKiBjb25maWd1cmF0aW9uIGFuZCB0aGUgYXR0cmlidXRlL3VuaWZvcm0gc2V0dGVycyB0aGF0IGhhdmUgYmVlbiBzZXQgdXAgZm9yIHRoaXMgcHJvZ3JhbS5cbiAgICpcbiAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsXG4gICAqIEBwYXJhbSB7UHJvZ3JhbVZhcmlhYmxlc0NvbmZpZ30gcHJvZ3JhbVZhcmlhYmxlc0NvbmZpZ1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3NldFZhcmlhYmxlcyhnbCwgcHJvZ3JhbVZhcmlhYmxlc0NvbmZpZykge1xuICAgIHRoaXMuX3NldEF0dHJpYnV0ZXMocHJvZ3JhbVZhcmlhYmxlc0NvbmZpZy5hdHRyaWJ1dGVzKTtcbiAgICB0aGlzLl9zZXRVbmlmb3Jtcyhwcm9ncmFtVmFyaWFibGVzQ29uZmlnLnVuaWZvcm1zKTtcblxuICAgIC8vIENoZWNrIHdoZXRoZXIgd2UgYXJlIHNldCB1cCB0byBkcmF3IHVzaW5nIGdsLmRyYXdFbGVtZW50cyByYXRoZXIgdGhhbiBnbC5kcmF3QXJyYXlzLlxuICAgIGlmIChwcm9ncmFtVmFyaWFibGVzQ29uZmlnLnZlcnRleEluZGljZXMpIHtcbiAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIHByb2dyYW1WYXJpYWJsZXNDb25maWcudmVydGV4SW5kaWNlcyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbmRlcnMgc2hhcGVzIGFjY29yZGluZyB0byB0aGlzIHByb2dyYW0ncyBjdXJyZW50IGNvbmZpZ3VyYXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbFxuICAgKiBAcGFyYW0ge1Byb2dyYW1WYXJpYWJsZXNDb25maWd9IHByb2dyYW1WYXJpYWJsZXNDb25maWdcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtvZmZzZXQ9MF0gT2Zmc2V0IGludG8gdGhlIGVsZW1lbnQgYXJyYXkgYnVmZmVyIHRvIHJlbmRlciBmcm9tLlxuICAgKiBAcGFyYW0ge251bWJlcn0gW2NvdW50PXByb2dyYW1WYXJpYWJsZXNDb25maWcuZWxlbWVudENvdW50XSBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHJlbmRlci5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9kcmF3KGdsLCBwcm9ncmFtVmFyaWFibGVzQ29uZmlnLCBvZmZzZXQsIGNvdW50KSB7XG4gICAgb2Zmc2V0ID0gdHlwZW9mIG9mZnNldCA9PT0gJ251bWJlcicgPyBvZmZzZXQgOiAwO1xuICAgIGNvdW50ID0gdHlwZW9mIGNvdW50ID09PSAnbnVtYmVyJyA/IGNvdW50IDogcHJvZ3JhbVZhcmlhYmxlc0NvbmZpZy5lbGVtZW50Q291bnQ7XG5cbiAgICBpZiAoaXNJbkRldk1vZGUpIHtcbiAgICAgIHRoaXMuX2NoZWNrVGhhdEdpdmVuVmFyaWFibGVzTWF0Y2hQcm9ncmFtKHByb2dyYW1WYXJpYWJsZXNDb25maWcpO1xuICAgIH1cblxuICAgIC8vIENoZWNrIHdoZXRoZXIgd2UgYXJlIHNldCB1cCB0byBkcmF3IHVzaW5nIGdsLmRyYXdFbGVtZW50cyBvciBnbC5kcmF3QXJyYXlzLlxuICAgIGlmIChwcm9ncmFtVmFyaWFibGVzQ29uZmlnLnZlcnRleEluZGljZXMpIHtcbiAgICAgIGdsLmRyYXdFbGVtZW50cyhwcm9ncmFtVmFyaWFibGVzQ29uZmlnLm1vZGUsIGNvdW50LCBnbC5VTlNJR05FRF9TSE9SVCwgb2Zmc2V0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZ2wuZHJhd0FycmF5cyhwcm9ncmFtVmFyaWFibGVzQ29uZmlnLm1vZGUsIG9mZnNldCwgY291bnQpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3Mgd2hldGhlciB0aGUgYXR0cmlidXRlIGFuZCB1bmlmb3JtIHZhcmlhYmxlcyBzcGVjaWZpZWQgaW4gdGhlIGdpdmVuIGNvbmZpZyBtYXRjaCB0aG9zZVxuICAgKiBkZWZpbmVkIGluIHRoaXMgcHJvZ3JhbS5cbiAgICpcbiAgICogQHBhcmFtIHtQcm9ncmFtVmFyaWFibGVzQ29uZmlnfSBwcm9ncmFtVmFyaWFibGVzQ29uZmlnXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfY2hlY2tUaGF0R2l2ZW5WYXJpYWJsZXNNYXRjaFByb2dyYW0ocHJvZ3JhbVZhcmlhYmxlc0NvbmZpZykge1xuICAgIGlmIChPYmplY3Qua2V5cyhwcm9ncmFtVmFyaWFibGVzQ29uZmlnLmF0dHJpYnV0ZXMpLmxlbmd0aCAhPT1cbiAgICAgICAgICAgIE9iamVjdC5rZXlzKHRoaXMuX2F0dHJpYnV0ZVNldHRlcnMpLmxlbmd0aCB8fFxuICAgICAgICBPYmplY3Qua2V5cyhwcm9ncmFtVmFyaWFibGVzQ29uZmlnLnVuaWZvcm1zKS5sZW5ndGggIT09XG4gICAgICAgICAgICBPYmplY3Qua2V5cyh0aGlzLl91bmlmb3JtU2V0dGVycykubGVuZ3RoKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1RoZSBhdHRyaWJ1dGUvdW5pZm9ybSB2YXJpYWJsZXMgaW4gdGhlIFByb2dyYW1WYXJpYWJsZXNDb25maWcgZG8gbm90IG1hdGNoICcgK1xuICAgICAgICAgICd0aG9zZSBzcGVjaWZpZWQgaW4gdGhlIHNoYWRlcnMuJywgcHJvZ3JhbVZhcmlhYmxlc0NvbmZpZywgdGhpcyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIHVuaWZvcm0gdmFsdWVzIGZvciB0aGlzIHByb2dyYW0uXG4gICAqXG4gICAqIFNwZWNpZmljYWxseSwgdGhpcyBjYWxscyBgZ2wudW5pZm9ybTwuLi4+KGxvY2F0aW9uLCB2YWx1ZSlgIGZvciBlYWNoXG4gICAqIHZhcmlhYmxlLW5hbWUvdmFyaWFibGUtdmFsdWUga2V5LXZhbHVlIHBhaXIgaW4gdGhlIGdpdmVuIG1hcC4gQXMgcGFydCBvZiB0aGUgc2V0dXAgcHJvY2VzcywgdGhlXG4gICAqIHVuaWZvcm0gdmFyaWFibGUgbG9jYXRpb25zIGFyZSBzdG9yZWQgaW4gYSBtYXAgZnJvbSB0aGVpciBjb3JyZXNwb25kaW5nIHZhcmlhYmxlIG5hbWVzLiBTbyBvbmx5XG4gICAqIHRoZSB2YXJpYWJsZSBuYW1lcyBhcmUgbmVlZGVkIGluIG9yZGVyIHRvIGNhbGwgdGhpcyBmdW5jdGlvbiBhdCByZW5kZXIgdGltZS5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3QuPFN0cmluZywgVW5pZm9ybURhdGE+fSB1bmlmb3JtVmFsdWVzXG4gICAqL1xuICBfc2V0VW5pZm9ybXModW5pZm9ybVZhbHVlcykge1xuICAgIE9iamVjdC5rZXlzKHVuaWZvcm1WYWx1ZXMpLmZvckVhY2godW5pZm9ybU5hbWUgPT4ge1xuICAgICAgY29uc3QgdW5pZm9ybVNldHRlciA9IHRoaXMuX3VuaWZvcm1TZXR0ZXJzW3VuaWZvcm1OYW1lXTtcbiAgICAgIGNvbnN0IHVuaWZvcm1WYWx1ZSA9IHVuaWZvcm1WYWx1ZXNbdW5pZm9ybU5hbWVdO1xuICAgICAgdW5pZm9ybVNldHRlci5zZXRVbmlmb3JtKHVuaWZvcm1WYWx1ZSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgYXR0cmlidXRlIGJ1ZmZlcnMgZm9yIHRoaXMgcHJvZ3JhbS5cbiAgICpcbiAgICogU3BlY2lmaWNhbGx5LCB0aGlzIGNhbGxzIGBnbC5iaW5kQnVmZmVyKC4uLilgIGFuZCBgZ2wudmVydGV4QXR0cmliUG9pbnRlciguLi4pYCBmb3IgZWFjaFxuICAgKiB2YXJpYWJsZS1uYW1lL3ZhcmlhYmxlLXZhbHVlIHBhaXIgaW4gdGhlIGdpdmVuIGF0dHJpYnV0ZS1pbmZvIG1hcC4gQXMgcGFydCBvZiB0aGUgc2V0dXBcbiAgICogcHJvY2VzcywgdGhlIHVuaWZvcm0gdmFyaWFibGUgbG9jYXRpb25zIGFyZSBzdG9yZWQgaW4gYSBtYXAgZnJvbSB0aGVpciBjb3JyZXNwb25kaW5nIHZhcmlhYmxlXG4gICAqIG5hbWVzLiBTbyBvbmx5IHRoZSB2YXJpYWJsZSBuYW1lcyBhcmUgbmVlZGVkIGluIG9yZGVyIHRvIGNhbGwgdGhpcyBmdW5jdGlvbiBhdCByZW5kZXIgdGltZS5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3QuPFN0cmluZywgQXR0cmlidXRlQ29uZmlnPn0gYXR0cmlidXRlQ29uZmlnc1xuICAgKi9cbiAgX3NldEF0dHJpYnV0ZXMoYXR0cmlidXRlQ29uZmlncykge1xuICAgIE9iamVjdC5rZXlzKGF0dHJpYnV0ZUNvbmZpZ3MpLmZvckVhY2goYXR0cmlidXRlTmFtZSA9PiB7XG4gICAgICBjb25zdCBhdHRyaWJ1dGVTZXR0ZXIgPSB0aGlzLl9hdHRyaWJ1dGVTZXR0ZXJzW2F0dHJpYnV0ZU5hbWVdO1xuICAgICAgY29uc3QgYXR0cmlidXRlQ29uZmlnID0gYXR0cmlidXRlQ29uZmlnc1thdHRyaWJ1dGVOYW1lXTtcbiAgICAgIGF0dHJpYnV0ZVNldHRlcihhdHRyaWJ1dGVDb25maWcpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZW5hYmxlQXR0cmlidXRlcygpIHtcbiAgICB0aGlzLl9hdHRyaWJ1dGVFbmFibGVycy5mb3JFYWNoKGF0dHJpYnV0ZUVuYWJsZXIgPT4gYXR0cmlidXRlRW5hYmxlcigpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIHVuaWZvcm0gc2V0dGVycyBmb3IgdGhpcyBwcm9ncmFtIGFuZCBzYXZlcyB0aGVtIGluIHRoZSBfdW5pZm9ybVNldHRlcnMgcHJvcGVydHkuXG4gICAqXG4gICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2NyZWF0ZVVuaWZvcm1TZXR0ZXJzKGdsKSB7XG4gICAgY29uc3QgdW5pZm9ybUNvdW50ID0gZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcih0aGlzLl9wcm9ncmFtLCBnbC5BQ1RJVkVfVU5JRk9STVMpO1xuXG4gICAgdGhpcy5fdW5pZm9ybVNldHRlcnMgPSB7fTtcblxuICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB1bmlmb3JtQ291bnQ7IGluZGV4KyspIHtcbiAgICAgIGNvbnN0IHVuaWZvcm1JbmZvID0gZ2wuZ2V0QWN0aXZlVW5pZm9ybSh0aGlzLl9wcm9ncmFtLCBpbmRleCk7XG4gICAgICBsZXQgdW5pZm9ybU5hbWUgPSB1bmlmb3JtSW5mby5uYW1lO1xuXG4gICAgICAvLyBSZW1vdmUgYW55IGFycmF5IHN1ZmZpeC5cbiAgICAgIC8vIFRPRE86IElzIHRoaXMgcmVtb3ZhbCByZWR1bmRhbnQgd2l0aCB0aGUgaXNBcnJheSBjaGVjayBiZWxvdz8/XG4gICAgICBpZiAodW5pZm9ybU5hbWUuc3Vic3RyKC0zKSA9PT0gJ1swXScpIHtcbiAgICAgICAgdW5pZm9ybU5hbWUgPSB1bmlmb3JtTmFtZS5zdWJzdHIoMCwgdW5pZm9ybU5hbWUubGVuZ3RoIC0gMyk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX3VuaWZvcm1TZXR0ZXJzW3VuaWZvcm1OYW1lXSA9IG5ldyBVbmlmb3JtU2V0dGVyKGdsLCB0aGlzLl9wcm9ncmFtLCB1bmlmb3JtSW5mbywgdGhpcyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYXR0cmlidXRlIGVuYWJsZXJzIGFuZCBzZXR0ZXJzIGZvciB0aGlzIHByb2dyYW0gYW5kIHNhdmVzIHRoZW0gaW4gdGhlXG4gICAqIF9hdHRyaWJ1dGVFbmFibGVycyBhbmQgX2F0dHJpYnV0ZVNldHRlcnMgcHJvcGVydGllcywgcmVzcGVjdGl2ZWx5LlxuICAgKlxuICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2xcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9jcmVhdGVBdHRyaWJ1dGVFbmFibGVyc0FuZFNldHRlcnMoZ2wpIHtcbiAgICB0aGlzLl9hdHRyaWJ1dGVFbmFibGVycyA9IFtdO1xuICAgIHRoaXMuX2F0dHJpYnV0ZVNldHRlcnMgPSB7fTtcblxuICAgIGNvbnN0IGF0dHJpYnV0ZUNvdW50ID0gZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcih0aGlzLl9wcm9ncmFtLCBnbC5BQ1RJVkVfQVRUUklCVVRFUyk7XG5cbiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgYXR0cmlidXRlQ291bnQ7IGluZGV4KyspIHtcbiAgICAgIGNvbnN0IGF0dHJpYnV0ZU5hbWUgPSBnbC5nZXRBY3RpdmVBdHRyaWIodGhpcy5fcHJvZ3JhbSwgaW5kZXgpLm5hbWU7XG4gICAgICBjb25zdCBsb2NhdGlvbiA9IGdsLmdldEF0dHJpYkxvY2F0aW9uKHRoaXMuX3Byb2dyYW0sIGF0dHJpYnV0ZU5hbWUpO1xuXG4gICAgICB0aGlzLl9hdHRyaWJ1dGVFbmFibGVycy5wdXNoKFByb2dyYW1XcmFwcGVyLl9jcmVhdGVBdHRyaWJ1dGVFbmFibGVyKGdsLCBsb2NhdGlvbikpO1xuICAgICAgdGhpcy5fYXR0cmlidXRlU2V0dGVyc1thdHRyaWJ1dGVOYW1lXSA9IFByb2dyYW1XcmFwcGVyLl9jcmVhdGVBdHRyaWJ1dGVTZXR0ZXIoZ2wsIGxvY2F0aW9uKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTG9hZHMgdGhlIHNoYWRlciBzb3VyY2UgY29kZSBmcm9tIHRoZSBnaXZlbiBVUkxzLCBjb21waWxlcyB0aGUgc2hhZGVyIHNvdXJjZSBjb2RlLCBhbmQgY3JlYXRlc1xuICAgKiBhIHByb2dyYW0gZnJvbSB0aGUgcmVzdWx0aW5nIHNoYWRlcnMuXG4gICAqXG4gICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbFxuICAgKiBAcGFyYW0ge1Byb2dyYW1XcmFwcGVyQ29uZmlnfSBjb25maWdcbiAgICogQHJldHVybnMge1Byb21pc2V9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfYnVpbGRXZWJHTFByb2dyYW0oZ2wsIGNvbmZpZykge1xuICAgIHJldHVybiBsb2FkUHJvZ3JhbShnbCwgY29uZmlnLnZlcnRleFNoYWRlclBhdGgsIGNvbmZpZy5mcmFnbWVudFNoYWRlclBhdGgpXG4gICAgICAgIC50aGVuKHdlYkdMUHJvZ3JhbSA9PiB7XG4gICAgICAgICAgdGhpcy5fcHJvZ3JhbSA9IHdlYkdMUHJvZ3JhbTtcbiAgICAgICAgICB0aGlzLl9jcmVhdGVVbmlmb3JtU2V0dGVycyhnbCk7XG4gICAgICAgICAgdGhpcy5fY3JlYXRlQXR0cmlidXRlRW5hYmxlcnNBbmRTZXR0ZXJzKGdsKTtcbiAgICAgICAgICBpZiAoY29uZmlnLmluaXRpYWxpemUpIGNvbmZpZy5pbml0aWFsaXplKGdsKTtcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKCkgPT4gY29uc29sZS5pbmZvKGBQcm9ncmFtIGxvYWRlZDogJHtjb25maWcuaWR9YCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbFxuICAgKiBAcGFyYW0ge251bWJlcn0gbG9jYXRpb25cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc3RhdGljIF9jcmVhdGVBdHRyaWJ1dGVFbmFibGVyKGdsLCBsb2NhdGlvbikge1xuICAgIHJldHVybiAoKSA9PiBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShsb2NhdGlvbik7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBsb2NhdGlvblxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb24uPEF0dHJpYnV0ZUNvbmZpZz59XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBzdGF0aWMgX2NyZWF0ZUF0dHJpYnV0ZVNldHRlcihnbCwgbG9jYXRpb24pIHtcbiAgICByZXR1cm4gYXR0cmlidXRlQ29uZmlnID0+IHtcbiAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBhdHRyaWJ1dGVDb25maWcuYnVmZmVyKTtcbiAgICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIoXG4gICAgICAgICAgbG9jYXRpb24sXG4gICAgICAgICAgYXR0cmlidXRlQ29uZmlnLnNpemUsXG4gICAgICAgICAgdHlwZW9mIGF0dHJpYnV0ZUNvbmZpZy50eXBlICE9PSAndW5kZWZpbmVkJyA/IGF0dHJpYnV0ZUNvbmZpZy50eXBlIDogZ2wuRkxPQVQsXG4gICAgICAgICAgdHlwZW9mIGF0dHJpYnV0ZUNvbmZpZy5ub3JtYWxpemVkICE9PSAndW5kZWZpbmVkJyA/IGF0dHJpYnV0ZUNvbmZpZy5ub3JtYWxpemVkIDogZmFsc2UsXG4gICAgICAgICAgdHlwZW9mIGF0dHJpYnV0ZUNvbmZpZy5zdHJpZGUgIT09ICd1bmRlZmluZWQnID8gYXR0cmlidXRlQ29uZmlnLnN0cmlkZSA6IDAsXG4gICAgICAgICAgdHlwZW9mIGF0dHJpYnV0ZUNvbmZpZy5vZmZzZXQgIT09ICd1bmRlZmluZWQnID8gYXR0cmlidXRlQ29uZmlnLm9mZnNldCA6IDApO1xuICAgIH07XG4gIH1cbn1cblxuZXhwb3J0IHtQcm9ncmFtV3JhcHBlcn07XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gUHJvZ3JhbVdyYXBwZXJDb25maWdcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBpZFxuICogQHByb3BlcnR5IHtGdW5jdGlvbn0gW2luaXRpYWxpemVdIEEgbWV0aG9kIGZvciBvbmUtdGltZSBpbml0aWFsaXphdGlvbiBvZiB0aGUgR0wgc3RhdGUgZm9yIHRoaXNcbiAqIHByb2dyYW0uXG4gKiBAcHJvcGVydHkge0Z1bmN0aW9ufSBbd2ViR0xTdGF0ZVNldHRlcl0gQSBtZXRob2QgZm9yIHNldHRpbmcgdXAgdGhlIEdMIHN0YXRlIGZvciB0aGlzIHByb2dyYW1cbiAqIHdyYXBwZXIgaW4gcHJlcGFyYXRpb24gZm9yIHRoZSBjdXJyZW50IGRyYXcgY2FsbC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcmVuZGVyUHJpb3JpdHldIFByb2dyYW1zIHdpdGggbG93ZXIgcHJpb3JpdHkgd2lsbCByZW5kZXIgZmlyc3QuIFRoaXMgZG9lcyBub3RcbiAqIG5lZWQgdG8gYmUgcHJlc2VudCBmb3IgUHJvZ3JhbVdyYXBwZXJzIHRoYXQgYXJlIGNoaWxkcmVuIG9mIGEgR3JvdXBQcm9ncmFtV3JhcHBlci5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbdmVydGV4U2hhZGVyUGF0aF0gVGhpcyB3aWxsIGJlIHByZXNlbnQgb24gY29uZmlncyBmb3Igbm9uLWdyb3VwXG4gKiBQcm9ncmFtV3JhcHBlcnMuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2ZyYWdtZW50U2hhZGVyUGF0aF0gVGhpcyB3aWxsIGJlIHByZXNlbnQgb24gY29uZmlncyBmb3Igbm9uLWdyb3VwXG4gKiBQcm9ncmFtV3JhcHBlcnMuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtpc0FQb3N0UHJvY2Vzc29yPWZhbHNlXSBBIHBvc3QtcHJvY2Vzc2luZyBwcm9ncmFtIGlzIHVzZWQgZm9yIG1hbmlwdWxhdGluZ1xuICogdGhlIGVudGlyZSBmcmFtZSBhZnRlciBhbGwgdGhlIG1vZGVscyBoYXZlIHJlbmRlcmVkLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbY2hpbGRyZW5Qcm9ncmFtQ29uZmlnc10gQSBncm91cGluZyBwcm9ncmFtIGNvbnNpc3RzIG9mIG11bHRpcGxlIGNoaWxkXG4gKiBwcm9ncmFtcyB0aGF0IGFyZSBhbGwgcmVuZGVyZWQgaW4gc2VxdWVuY2UgZm9yIGEgcmVsYXRlZCBwdXJwb3NlLlxuICogQHByb3BlcnR5IHtBcnJheS48Q2hpbGRQcm9ncmFtQW5kRnJhbWVidWZmZXJJZHM+fSBbY2hpbGRyZW5Qcm9ncmFtc1RvRHJhd10gVGhlIElEcyBmb3IgdGhlXG4gKiBzZXF1ZW5jZSBvZiBjaGlsZHJlbiBQcm9ncmFtV3JhcHBlcnMgdG8gZHJhdywgYXMgd2VsbCBhcyB0aGUgSURzIGZvciB0aGUgaW5wdXQgYW5kIG91dHB1dFxuICogZnJhbWVidWZmZXJzL3RleHR1cmVzIHRvIHVzZS4gVGhpcyB3aWxsIGJlIHByZXNlbnQgb24gY29uZmlncyBmb3IgR3JvdXBQcm9ncmFtV3JhcHBlcnMuXG4gKiBAcHJvcGVydHkge0FycmF5LjxzdHJpbmc+fSBbY2hpbGRyZW5GcmFtZWJ1ZmZlcklkc10gVGhlIElEcyBvZiBhbGwgdGhlIGZyYW1lYnVmZmVycy90ZXh0dXJlcyB0aGF0XG4gKiB3aWxsIG5lZWQgdG8gYmUgY3JlYXRlZCBmb3IgdGhpcyBwcm9ncmFtLiBUaGlzIHdpbGwgYmUgcHJlc2VudCBvbiBjb25maWdzIGZvclxuICogR3JvdXBQcm9ncmFtV3JhcHBlcnMuXG4gKiBAcHJvcGVydHkge0Z1bmN0aW9ufSBbZ2V0UHJvZ3JhbVZhcmlhYmxlc0NvbmZpZ10gQSBtZXRob2QgZm9yIGdldHRpbmcgdGhlIHZhcmlhYmxlcyBuZWVkZWQgZm9yXG4gKiBkcmF3aW5nIHRoaXMgcHJvZ3JhbS4gVGhpcyB3aWxsIGJlIHByZXNlbnQgb24gY29uZmlncyBvZiBwcm9ncmFtcyB0aGF0IGFyZSBjaGlsZHJlbiBvZiBhXG4gKiBHcm91cFByb2dyYW1XcmFwcGVyLlxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gQ2hpbGRQcm9ncmFtQW5kRnJhbWVidWZmZXJJZHNcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBwcm9ncmFtSWQgVGhlIElEIG9mIHRoZSBwcm9ncmFtIHRvIGRyYXcgd2l0aC5cbiAqIEBwcm9wZXJ0eSB7QXJyYXkuPHN0cmluZz59IGlucHV0RnJhbWVidWZmZXJJZHMgVGhlIElEcyBvZiBmcmFtZWJ1ZmZlcnMgd2hvc2UgdGV4dHVyZXMgd2lsbCBiZVxuICogdXNlZCBhcyBpbnB1dHMgZm9yIHRoaXMgcHJvZ3JhbSdzIHNoYWRlcnMuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gb3V0cHV0RnJhbWVidWZmZXJJZCBQcm92aWRlIG51bGwgaW4gb3JkZXIgdG8gcmVuZGVyIHRvIHRoZSBjYW52YXMuXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBQcm9ncmFtVmFyaWFibGVzQ29uZmlnXG4gKiBAcHJvcGVydHkge09iamVjdC48U3RyaW5nLCBBdHRyaWJ1dGVDb25maWc+fSBhdHRyaWJ1dGVzIEEgbWFwcGluZyBmcm9tIGF0dHJpYnV0ZSBuYW1lcyB0b1xuICogYXR0cmlidXRlIGluZm8uXG4gKiBAcHJvcGVydHkge09iamVjdC48U3RyaW5nLCBVbmlmb3JtRGF0YT59IHVuaWZvcm1zIEEgbWFwcGluZyBmcm9tIHVuaWZvcm0gbmFtZXMgdG8gdW5pZm9ybSBpbmZvLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IG1vZGUgU3BlY2lmaWVzIHRoZSB0eXBlIG9mIHByaW1pdGl2ZXMgdG8gcmVuZGVyOyBvbmUgb2Y6XG4gKiAgIC0gZ2wuUE9JTlRTLFxuICogICAtIGdsLkxJTkVTLFxuICogICAtIGdsLkxJTkVfU1RSSVAsXG4gKiAgIC0gZ2wuTElORV9MT09QLFxuICogICAtIGdsLlRSSUFOR0xFUyxcbiAqICAgLSBnbC5UUklBTkdMRV9TVFJJUCxcbiAqICAgLSBnbC5UUklBTkdMRV9GQU4uXG4gKiBAcHJvcGVydHkge1dlYkdMQnVmZmVyfSBbdmVydGV4SW5kaWNlc10gVGhlIGluZGljZXMgdG8gdXNlIGZvciByZXRyaWV2aW5nIHRoZSB2ZXJ0ZXggaW5mbyBmcm9tXG4gKiBlYWNoIG9mIHRoZSBvdGhlciBhdHRyaWJ1dGUgdmFyaWFibGUgYnVmZmVycy4gSWYgdGhpcyBwcm9wZXJ0eSBpcyBwcmVzZW50LCB0aGVuIHRoZSByZW5kZXJpbmdcbiAqIHBpcGVsaW5lIHdpbGwgYmUgc2V0IHVwIHRvIHVzZSBnbC5kcmF3RWxlbWVudHMgKHdpdGggZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIpIGluc3RlYWQgb2ZcbiAqIGdsLmRyYXdBcnJheXMuXG4gKiBAcHJvcGVydHkge251bWJlcn0gZWxlbWVudENvdW50IFRoZSBudW1iZXIgb2YgZWxlbWVudHMvdmVydGljZXMgdG8gcmVuZGVyIGZvciB0aGlzIHZhcmlhYmxlc1xuICogY29uZmlndXJhdGlvbi5cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEF0dHJpYnV0ZUNvbmZpZ1xuICogQHByb3BlcnR5IHtXZWJHTEJ1ZmZlcn0gYnVmZmVyIFRoZSBidWZmZXIgY29udGFpbmluZyB0aGlzIGF0dHJpYnV0ZSdzIGRhdGEuXG4gKiBAcHJvcGVydHkge251bWJlcn0gaW5kZXggSW5kZXggb2YgdGFyZ2V0IGF0dHJpYnV0ZSBpbiB0aGUgYnVmZmVyIGJvdW5kIHRvIGdsLkFSUkFZX0JVRkZFUi5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBzaXplIFRoZSBudW1iZXIgb2YgY29tcG9uZW50cyBwZXIgYXR0cmlidXRlLiBNdXN0IGJlIDEsMiwzLG9yIDQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gdHlwZSBTcGVjaWZpZXMgdGhlIGRhdGEgdHlwZSBvZiBlYWNoIGNvbXBvbmVudCBpbiB0aGUgYXJyYXkuIFVzZSBlaXRoZXJcbiAqIGdsLkZMT0FUIG9yIGdsLkZJWEVELlxuICogQHByb3BlcnR5IHtib29sZWFufSBub3JtYWxpemVkIElmIHRydWUsIHRoZW4gdmFsdWVzIHdpbGwgYmUgbm9ybWFsaXplZCB0byBhIHJhbmdlIG9mIC0xIG9yIDAgdG9cbiAqIDEuXG4gKiBAcHJvcGVydHkge251bWJlcn0gc3RyaWRlIFNwZWNpZmllcyB0aGUgb2Zmc2V0IGluIGJ5dGVzIGJldHdlZW4gdGhlIGJlZ2lubmluZyBvZiBjb25zZWN1dGl2ZVxuICogdmVydGV4IGF0dHJpYnV0ZXMuIERlZmF1bHQgdmFsdWUgaXMgMCwgbWF4aW11bSBpcyAyNTUuIE11c3QgYmUgYSBtdWx0aXBsZSBvZiB0eXBlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IG9mZnNldCBTcGVjaWZpZXMgYW4gb2Zmc2V0IGluIGJ5dGVzIG9mIHRoZSBmaXJzdCBjb21wb25lbnQgb2YgdGhlIGZpcnN0XG4gKiB2ZXJ0ZXggYXR0cmlidXRlIGluIHRoZSBhcnJheS4gRGVmYXVsdCBpcyAwIHdoaWNoIG1lYW5zIHRoYXQgdmVydGV4IGF0dHJpYnV0ZXMgYXJlIHRpZ2h0bHlcbiAqIHBhY2tlZC4gTXVzdCBiZSBhIG11bHRpcGxlIG9mIHR5cGUuXG4gKi9cblxuLyoqIEB0eXBlZGVmIHsqfSBVbmlmb3JtRGF0YSAqL1xuIiwiaW1wb3J0IHtsb2FkSW1hZ2VTcmN9IGZyb20gJy4uLy4uL3V0aWwnO1xuXG4vKipcbiAqIFRoaXMgY2xhc3MgbG9hZHMsIHNldHMgdXAsIGFuZCBzdG9yZXMgV2ViR0wgdGV4dHVyZSBvYmplY3RzLlxuICpcbiAqIE5PVEU6IE9ubHkgdGV4dHVyZXMgd2hvc2Ugc2lkZSBsZW5ndGhzIGFyZSBwb3dlcnMgb2YgdHdvIGFyZSBzdXBwb3J0ZWQuXG4gKi9cbmNsYXNzIFRleHR1cmVTdG9yZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMudGV4dHVyZUNhY2hlID0ge307XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IHRleHR1cmVQYXRoXG4gICAqIEByZXR1cm5zIHtXZWJHTFRleHR1cmV9XG4gICAqL1xuICBnZXRUZXh0dXJlKHRleHR1cmVQYXRoKSB7XG4gICAgcmV0dXJuIHRoaXMudGV4dHVyZUNhY2hlW3RleHR1cmVQYXRoXS50ZXh0dXJlO1xuICB9XG5cbiAgLyoqXG4gICAqIExvYWRzIHRoZSB0ZXh0dXJlIGltYWdlIGF0IHRoZSBnaXZlbiBwYXRoLCBjcmVhdGVzIGEgdGV4dHVyZSBvYmplY3QgZnJvbSBpdCwgY2FjaGVzIHRoZVxuICAgKiB0ZXh0dXJlLCBhbmQgcmV0dXJucyBhIHByb21pc2UgZm9yIHRoZSB0ZXh0dXJlLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBpcyBpZGVtcG90ZW50OyBhIGdpdmVuIHRleHR1cmUgd2lsbCBvbmx5IGJlIGxvYWRlZCBvbmNlLlxuICAgKlxuICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2xcbiAgICogQHBhcmFtIHtzdHJpbmd9IHRleHR1cmVQYXRoXG4gICAqIEByZXR1cm5zIHtQcm9taXNlLjxXZWJHTFRleHR1cmUsIEVycm9yPn1cbiAgICovXG4gIGxvYWRUZXh0dXJlKGdsLCB0ZXh0dXJlUGF0aCkge1xuICAgIGxldCB0ZXh0dXJlQ2FjaGVJbmZvID0gdGhpcy50ZXh0dXJlQ2FjaGVbdGV4dHVyZVBhdGhdO1xuXG4gICAgLy8gTG9hZCwgY3JlYXRlLCBhbmQgY2FjaGUgdGhlIHRleHR1cmUgaWYgaXQgaGFzIG5vdCBiZWVuIHByZXZpb3VzbHkgcmVnaXN0ZXJlZC5cbiAgICBpZiAoIXRleHR1cmVDYWNoZUluZm8pIHtcbiAgICAgIHRleHR1cmVDYWNoZUluZm8gPSB7XG4gICAgICAgIHRleHR1cmVQcm9taXNlOiBudWxsLFxuICAgICAgICB0ZXh0dXJlOiBudWxsLFxuICAgICAgICBpbWFnZTogbmV3IEltYWdlKClcbiAgICAgIH07XG4gICAgICB0aGlzLnRleHR1cmVDYWNoZVt0ZXh0dXJlUGF0aF0gPSB0ZXh0dXJlQ2FjaGVJbmZvO1xuICAgICAgdGV4dHVyZUNhY2hlSW5mby50ZXh0dXJlUHJvbWlzZSA9IGxvYWRJbWFnZVNyYyh0ZXh0dXJlQ2FjaGVJbmZvLmltYWdlLCB0ZXh0dXJlUGF0aClcbiAgICAgICAgICAudGhlbihfID0+IHRoaXMuX2NyZWF0ZVRleHR1cmUoZ2wsIHRleHR1cmVDYWNoZUluZm8pKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGV4dHVyZUNhY2hlSW5mby50ZXh0dXJlUHJvbWlzZTtcbiAgfVxuXG4gIC8vIFRPRE86IE1ha2UgdGhpcyBtb3JlIGdlbmVyYWwvY29uZmlndXJhYmxlIGJ5IGNyZWF0aW5nIGEgbmV3IFRleHR1cmVDb25maWcgdHlwZWRlZiB3aXRoIG1vc3Qgb2ZcbiAgLy8gdGhlIGdsLnh4eCBwYXJhbXMgaW5jbHVkZWQgYmVsb3cgKGxpa2UgdGhlIEF0dHJpYnV0ZUNvbmZpZyB0eXBlZGVmfSwgcGFzc2luZyBhIHRleHR1cmVDb25maWcgaW5cbiAgLy8gdGhlIHJlZ2lzdGVyIG1ldGhvZCwgYW5kIHNhdmluZyBpdCBvbiB0aGUgdGV4dHVyZUNhY2hlSW5mbyBvYmplY3QuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2xcbiAgICogQHBhcmFtIHtUZXh0dXJlQ2FjaGVJbmZvfSB0ZXh0dXJlQ2FjaGVJbmZvXG4gICAqIEByZXR1cm5zIHtXZWJHTFRleHR1cmV9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfY3JlYXRlVGV4dHVyZShnbCwgdGV4dHVyZUNhY2hlSW5mbykge1xuICAgIGNvbnNvbGUuaW5mbyhgVGV4dHVyZSBsb2FkZWQ6ICR7dGV4dHVyZUNhY2hlSW5mby5pbWFnZS5zcmN9YCk7XG5cbiAgICB0ZXh0dXJlQ2FjaGVJbmZvLnRleHR1cmUgPSBnbC5jcmVhdGVUZXh0dXJlKCk7XG4gICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGV4dHVyZUNhY2hlSW5mby50ZXh0dXJlKTtcbiAgICBnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIGdsLlJHQkEsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIHRleHR1cmVDYWNoZUluZm8uaW1hZ2UpO1xuICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NQUdfRklMVEVSLCBnbC5MSU5FQVIpO1xuICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCBnbC5MSU5FQVJfTUlQTUFQX05FQVJFU1QpO1xuICAgIGdsLmdlbmVyYXRlTWlwbWFwKGdsLlRFWFRVUkVfMkQpO1xuICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIG51bGwpO1xuXG4gICAgcmV0dXJuIHRleHR1cmVDYWNoZUluZm8udGV4dHVyZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXQVJOSU5HOiBUaGlzIHdpbGwgcmVtb3ZlIHRoZSB0ZXh0dXJlIGZyb20gdGhlIHN0b3JlIGV2ZW4gaWYgdGhlcmUgYXJlIHN0aWxsIG90aGVyIGNvbXBvbmVudHNcbiAgICogZGVwZW5kaW5nIG9uIHRoaXMgdGV4dHVyZS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHRleHR1cmVQYXRoXG4gICAqL1xuICBkZWxldGVUZXh0dXJlKHRleHR1cmVQYXRoKSB7XG4gICAgZGVsZXRlIHRoaXMudGV4dHVyZUNhY2hlW3RleHR1cmVQYXRoXTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgdGV4dHVyZVN0b3JlID0gbmV3IFRleHR1cmVTdG9yZSgpO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFRleHR1cmVDYWNoZUluZm9cbiAqIEBwcm9wZXJ0eSB7UHJvbWlzZS48V2ViR0xUZXh0dXJlLCBFcnJvcj59IHRleHR1cmVQcm9taXNlXG4gKiBAcHJvcGVydHkge1dlYkdMVGV4dHVyZX0gW3RleHR1cmVdXG4gKiBAcHJvcGVydHkge0hUTUxJbWFnZUVsZW1lbnR9IFtpbWFnZV1cbiAqL1xuIiwiLyoqXG4gKiBUaGlzIGNsYXNzIHN0b3JlcyBhIGZ1bmN0aW9uIGZvciBzZXR0aW5nIGEgdmFsdWUgdG8gYSBXZWJHTCB1bmlmb3JtIHZhcmlhYmxlLlxuICpcbiAqIFRoaXMgaXMgaW50ZW5kZWQgZm9yIHVzZSBhcyBhIGhlbHBlciBmb3IgdGhlIFByb2dyYW1XcmFwcGVyIGNsYXNzLlxuICovXG4vLyBUT0RPOiBXcml0ZSB0ZXN0cyBmb3IgdGhpcyBjbGFzcy5cbmNsYXNzIFVuaWZvcm1TZXR0ZXIge1xuICAvKipcbiAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsXG4gICAqIEBwYXJhbSB7V2ViR0xQcm9ncmFtfSBwcm9ncmFtXG4gICAqIEBwYXJhbSB7V2ViR0xBY3RpdmVJbmZvfSB1bmlmb3JtSW5mb1xuICAgKiBAcGFyYW0ge1Byb2dyYW1XcmFwcGVyfSBwcm9ncmFtV3JhcHBlclxuICAgKiBAdGhyb3dzIElmIHRoZSBnaXZlbiB1bmlmb3JtSW5mbyBzcGVjaWZpZXMgYW4gdW5leHBlY3RlZCB1bmlmb3JtLXZhbHVlIHR5cGUuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihnbCwgcHJvZ3JhbSwgdW5pZm9ybUluZm8sIHByb2dyYW1XcmFwcGVyKSB7XG4gICAgdGhpcy5fbG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgdW5pZm9ybUluZm8ubmFtZSk7XG4gICAgdGhpcy5fc2V0dGVyID0gdGhpcy5fZ2V0U2V0dGVyKGdsLCB1bmlmb3JtSW5mbywgcHJvZ3JhbVdyYXBwZXIpO1xuXG4gICAgLy8gVE9ETzogRnJlZXplIHRoaXMgb2JqZWN0IGFmdGVyIGluaXRpYWxpemluZ1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7VW5pZm9ybURhdGF9IHVuaWZvcm1WYWx1ZVxuICAgKi9cbiAgc2V0VW5pZm9ybSh1bmlmb3JtVmFsdWUpIHtcbiAgICB1bmlmb3JtVmFsdWUgPSB1bmlmb3JtVmFsdWUgaW5zdGFuY2VvZiBBcnJheSA/IG5ldyBGbG9hdDMyQXJyYXkodW5pZm9ybVZhbHVlKSA6IHVuaWZvcm1WYWx1ZTtcbiAgICB0aGlzLl9zZXR0ZXIodW5pZm9ybVZhbHVlKTtcbiAgfVxuXG4gIC8qKiBAcmV0dXJucyB7V2ViR0xVbmlmb3JtTG9jYXRpb259ICovXG4gIGdldCBsb2NhdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5fbG9jYXRpb247XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsXG4gICAqIEBwYXJhbSB7V2ViR0xBY3RpdmVJbmZvfSB1bmlmb3JtSW5mb1xuICAgKiBAcGFyYW0ge1Byb2dyYW1XcmFwcGVyfSBwcm9ncmFtV3JhcHBlclxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb24uPCo+fVxuICAgKiBAdGhyb3dzIElmIHRoZSBnaXZlbiB1bmlmb3JtSW5mbyBzcGVjaWZpZXMgYW4gdW5leHBlY3RlZCB1bmlmb3JtLXZhbHVlIHR5cGUuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZ2V0U2V0dGVyKGdsLCB1bmlmb3JtSW5mbywgcHJvZ3JhbVdyYXBwZXIpIHtcbiAgICBjb25zdCBpc0FycmF5ID0gdW5pZm9ybUluZm8uc2l6ZSA+IDEgJiYgdW5pZm9ybUluZm8ubmFtZS5zdWJzdHIoLTMpID09PSAnWzBdJztcbiAgICBjb25zdCBzZXR0ZXJNYXAgPSBpc0FycmF5ID8ge1xuICAgICAgW2dsLkZMT0FUXTogdmFsdWUgPT4gZ2wudW5pZm9ybTFmdih0aGlzLl9sb2NhdGlvbiwgdmFsdWUpLFxuICAgICAgW2dsLklOVF06IHZhbHVlID0+IGdsLnVuaWZvcm0xaXYodGhpcy5fbG9jYXRpb24sIHZhbHVlKSxcbiAgICAgIFtnbC5TQU1QTEVSXzJEXTogdGhpcy5fZ2V0VW5pZm9ybVRleHR1cmVBcnJheVNldHRlcihnbCwgZ2wuVEVYVFVSRV8yRCwgdW5pZm9ybUluZm8uc2l6ZSxcbiAgICAgICAgICBwcm9ncmFtV3JhcHBlciksXG4gICAgICBbZ2wuU0FNUExFUl9DVUJFXTogdGhpcy5fZ2V0VW5pZm9ybVRleHR1cmVBcnJheVNldHRlcihnbCwgZ2wuVEVYVFVSRV9DVUJFX01BUCxcbiAgICAgICAgICB1bmlmb3JtSW5mby5zaXplLCBwcm9ncmFtV3JhcHBlciksXG4gICAgfSA6IHtcbiAgICAgIFtnbC5GTE9BVF06IHZhbHVlID0+IGdsLnVuaWZvcm0xZih0aGlzLl9sb2NhdGlvbiwgdmFsdWUpLFxuICAgICAgW2dsLkZMT0FUX1ZFQzJdOiB2YWx1ZSA9PiBnbC51bmlmb3JtMmZ2KHRoaXMuX2xvY2F0aW9uLCB2YWx1ZSksXG4gICAgICBbZ2wuRkxPQVRfVkVDM106IHZhbHVlID0+IGdsLnVuaWZvcm0zZnYodGhpcy5fbG9jYXRpb24sIHZhbHVlKSxcbiAgICAgIFtnbC5GTE9BVF9WRUM0XTogdmFsdWUgPT4gZ2wudW5pZm9ybTRmdih0aGlzLl9sb2NhdGlvbiwgdmFsdWUpLFxuICAgICAgW2dsLklOVF06IHZhbHVlID0+IGdsLnVuaWZvcm0xaSh0aGlzLl9sb2NhdGlvbiwgdmFsdWUpLFxuICAgICAgW2dsLklOVF9WRUMyXTogdmFsdWUgPT4gZ2wudW5pZm9ybTJpdih0aGlzLl9sb2NhdGlvbiwgdmFsdWUpLFxuICAgICAgW2dsLklOVF9WRUMzXTogdmFsdWUgPT4gZ2wudW5pZm9ybTNpdih0aGlzLl9sb2NhdGlvbiwgdmFsdWUpLFxuICAgICAgW2dsLklOVF9WRUM0XTogdmFsdWUgPT4gZ2wudW5pZm9ybTRpdih0aGlzLl9sb2NhdGlvbiwgdmFsdWUpLFxuICAgICAgW2dsLkJPT0xdOiB2YWx1ZSA9PiBnbC51bmlmb3JtMWkodGhpcy5fbG9jYXRpb24sIHZhbHVlKSxcbiAgICAgIFtnbC5CT09MX1ZFQzJdOiB2YWx1ZSA9PiBnbC51bmlmb3JtMml2KHRoaXMuX2xvY2F0aW9uLCB2YWx1ZSksXG4gICAgICBbZ2wuQk9PTF9WRUMzXTogdmFsdWUgPT4gZ2wudW5pZm9ybTNpdih0aGlzLl9sb2NhdGlvbiwgdmFsdWUpLFxuICAgICAgW2dsLkJPT0xfVkVDNF06IHZhbHVlID0+IGdsLnVuaWZvcm00aXYodGhpcy5fbG9jYXRpb24sIHZhbHVlKSxcbiAgICAgIFtnbC5GTE9BVF9NQVQyXTogdmFsdWUgPT4gZ2wudW5pZm9ybU1hdHJpeDJmdih0aGlzLl9sb2NhdGlvbiwgZmFsc2UsIHZhbHVlKSxcbiAgICAgIFtnbC5GTE9BVF9NQVQzXTogdmFsdWUgPT4gZ2wudW5pZm9ybU1hdHJpeDNmdih0aGlzLl9sb2NhdGlvbiwgZmFsc2UsIHZhbHVlKSxcbiAgICAgIFtnbC5GTE9BVF9NQVQ0XTogdmFsdWUgPT4gZ2wudW5pZm9ybU1hdHJpeDRmdih0aGlzLl9sb2NhdGlvbiwgZmFsc2UsIHZhbHVlKSxcbiAgICAgIFtnbC5TQU1QTEVSXzJEXTogdGhpcy5fZ2V0VW5pZm9ybVRleHR1cmVTZXR0ZXIoZ2wsIGdsLlRFWFRVUkVfMkQsXG4gICAgICAgICAgcHJvZ3JhbVdyYXBwZXIuYmFzZVRleHR1cmVVbml0SW5kZXgrKyksXG4gICAgICBbZ2wuU0FNUExFUl9DVUJFXTogdGhpcy5fZ2V0VW5pZm9ybVRleHR1cmVTZXR0ZXIoZ2wsIGdsLlRFWFRVUkVfQ1VCRV9NQVAsXG4gICAgICAgICAgcHJvZ3JhbVdyYXBwZXIuYmFzZVRleHR1cmVVbml0SW5kZXgrKyksXG4gICAgfTtcbiAgICByZXR1cm4gc2V0dGVyTWFwW3VuaWZvcm1JbmZvLnR5cGVdO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbFxuICAgKiBAcGFyYW0ge251bWJlcn0gdGFyZ2V0IEFuIGVudW0gZGVzY3JpYmluZyB0aGUgdHlwZSBvZiB0aGlzIGJ1ZmZlcjsgb25lIG9mOlxuICAgKiAgIC0gZ2wuVEVYVFVSRV8yRCxcbiAgICogICAtIGdsLlRFWFRVUkVfQ1VCRV9NQVAuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB1bmlmb3JtU2l6ZVxuICAgKiBAcGFyYW0ge1Byb2dyYW1XcmFwcGVyfSBwcm9ncmFtV3JhcHBlclxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb24uPCo+fVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2dldFVuaWZvcm1UZXh0dXJlQXJyYXlTZXR0ZXIoZ2wsIHRhcmdldCwgdW5pZm9ybVNpemUsIHByb2dyYW1XcmFwcGVyKSB7XG4gICAgY29uc3QgdGV4dHVyZVVuaXRJbmRpY2VzID1cbiAgICAgICAgQXJyYXkuZnJvbSh7bGVuZ3RoOiB1bmlmb3JtU2l6ZX0sIF8gPT4gcHJvZ3JhbVdyYXBwZXIuYmFzZVRleHR1cmVVbml0SW5kZXgrKyk7XG5cbiAgICByZXR1cm4gdGV4dHVyZXMgPT4ge1xuICAgICAgdGV4dHVyZXMuZm9yRWFjaCgodGV4dHVyZSwgaW5kZXgpID0+IHtcbiAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCArIHRleHR1cmVVbml0SW5kaWNlc1tpbmRleF0pO1xuICAgICAgICBnbC5iaW5kVGV4dHVyZSh0YXJnZXQsIHRleHR1cmUpO1xuICAgICAgfSk7XG4gICAgICBnbC51bmlmb3JtMWl2KHRoaXMuX2xvY2F0aW9uLCB0ZXh0dXJlVW5pdEluZGljZXMpO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB0YXJnZXQgQW4gZW51bSBkZXNjcmliaW5nIHRoZSB0eXBlIG9mIHRoaXMgYnVmZmVyOyBvbmUgb2Y6XG4gICAqICAgLSBnbC5URVhUVVJFXzJELFxuICAgKiAgIC0gZ2wuVEVYVFVSRV9DVUJFX01BUC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHRleHR1cmVVbml0SW5kZXhcbiAgICogQHJldHVybnMge0Z1bmN0aW9uLjwqPn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9nZXRVbmlmb3JtVGV4dHVyZVNldHRlcihnbCwgdGFyZ2V0LCB0ZXh0dXJlVW5pdEluZGV4KSB7XG4gICAgcmV0dXJuIHRleHR1cmUgPT4ge1xuICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCArIHRleHR1cmVVbml0SW5kZXgpO1xuICAgICAgZ2wuYmluZFRleHR1cmUodGFyZ2V0LCB0ZXh0dXJlKTtcbiAgICAgIGdsLnVuaWZvcm0xaSh0aGlzLl9sb2NhdGlvbiwgdGV4dHVyZVVuaXRJbmRleCk7XG4gICAgfTtcbiAgfVxufVxuXG5leHBvcnQge1VuaWZvcm1TZXR0ZXJ9O1xuIiwiaW1wb3J0IHtyZW5kZXJhYmxlU2hhcGVGYWN0b3J5fSBmcm9tICcuL3NyYy9yZW5kZXJhYmxlLXNoYXBlLWZhY3RvcnknO1xuXG5pbXBvcnQge2NhcHN1bGVSZW5kZXJhYmxlU2hhcGVGYWN0b3J5fSBmcm9tICcuL3NyYy9zaGFwZS1jb25maWdzL2NhcHN1bGUtcmVuZGVyYWJsZS1zaGFwZSc7XG5pbXBvcnQge2N1YmVSZW5kZXJhYmxlU2hhcGVGYWN0b3J5fSBmcm9tICcuL3NyYy9zaGFwZS1jb25maWdzL2N1YmUtcmVuZGVyYWJsZS1zaGFwZSc7XG5pbXBvcnQge2ljb3NhaGVkcm9uUmVuZGVyYWJsZVNoYXBlRmFjdG9yeX0gZnJvbSAnLi9zcmMvc2hhcGUtY29uZmlncy9pY29zYWhlZHJvbi1yZW5kZXJhYmxlLXNoYXBlJztcbmltcG9ydCB7aWNvc3BoZXJlUmVuZGVyYWJsZVNoYXBlRmFjdG9yeX0gZnJvbSAnLi9zcmMvc2hhcGUtY29uZmlncy9pY29zcGhlcmUtcmVuZGVyYWJsZS1zaGFwZSc7XG5pbXBvcnQge2xhdExvbmdTcGhlcmVSZW5kZXJhYmxlU2hhcGVGYWN0b3J5fSBmcm9tICcuL3NyYy9zaGFwZS1jb25maWdzL2xhdC1sb25nLXNwaGVyZS1yZW5kZXJhYmxlLXNoYXBlJztcbmltcG9ydCB7dGV0cmFoZWRyb25SZW5kZXJhYmxlU2hhcGVGYWN0b3J5fSBmcm9tICcuL3NyYy9zaGFwZS1jb25maWdzL3RldHJhaGVkcm9uLXJlbmRlcmFibGUtc2hhcGUnO1xuXG5bXG4gIGNhcHN1bGVSZW5kZXJhYmxlU2hhcGVGYWN0b3J5LFxuICBjdWJlUmVuZGVyYWJsZVNoYXBlRmFjdG9yeSxcbiAgaWNvc2FoZWRyb25SZW5kZXJhYmxlU2hhcGVGYWN0b3J5LFxuICBpY29zcGhlcmVSZW5kZXJhYmxlU2hhcGVGYWN0b3J5LFxuICBsYXRMb25nU3BoZXJlUmVuZGVyYWJsZVNoYXBlRmFjdG9yeSxcbiAgdGV0cmFoZWRyb25SZW5kZXJhYmxlU2hhcGVGYWN0b3J5XG5dLmZvckVhY2gocmVuZGVyYWJsZVNoYXBlRmFjdG9yeS5yZWdpc3RlclJlbmRlcmFibGVTaGFwZUZhY3RvcnkpO1xuXG5leHBvcnQgKiBmcm9tICcuL3NyYy9zaGFwZS1jb25maWdzL2NhcHN1bGUtcmVuZGVyYWJsZS1zaGFwZSc7XG5leHBvcnQgKiBmcm9tICcuL3NyYy9zaGFwZS1jb25maWdzL2N1YmUtcmVuZGVyYWJsZS1zaGFwZSc7XG5leHBvcnQgKiBmcm9tICcuL3NyYy9zaGFwZS1jb25maWdzL2ljb3NhaGVkcm9uLXJlbmRlcmFibGUtc2hhcGUnO1xuZXhwb3J0ICogZnJvbSAnLi9zcmMvc2hhcGUtY29uZmlncy9pY29zcGhlcmUtcmVuZGVyYWJsZS1zaGFwZSc7XG5leHBvcnQgKiBmcm9tICcuL3NyYy9zaGFwZS1jb25maWdzL2xhdC1sb25nLXNwaGVyZS1yZW5kZXJhYmxlLXNoYXBlJztcbmV4cG9ydCAqIGZyb20gJy4vc3JjL3NoYXBlLWNvbmZpZ3MvdGV0cmFoZWRyb24tcmVuZGVyYWJsZS1zaGFwZSc7XG5cbmV4cG9ydCAqIGZyb20gJy4vc3JjL3JlbmRlcmFibGUtc2hhcGUtZmFjdG9yeSc7XG5leHBvcnQgKiBmcm9tICcuL3NyYy9yZW5kZXJhYmxlLXNoYXBlLXN0b3JlJztcbiIsImltcG9ydCB7RGVmYXVsdE1vZGVsfSBmcm9tICcuLi8uLi9tb2RlbHMnO1xuaW1wb3J0IHtyZW5kZXJhYmxlU2hhcGVTdG9yZX0gZnJvbSAnLi9yZW5kZXJhYmxlLXNoYXBlLXN0b3JlJztcblxuLyoqXG4gKiBUaGlzIG1vZHVsZSBkZWZpbmVzIGEgZmFjdG9yeSBmb3IgRGVmYXVsdFJpZ2lkTW9kYWwgaW5zdGFuY2VzIHRoYXQgYXJlIGJhc2VkIG9uIHRoZSB2YXJpb3VzXG4gKiBwcmUtZGVmaW5lZCByZW5kZXJhYmxlIHNoYXBlcyBpbiB0aGlzIGRpcmVjdG9yeS5cbiAqL1xuXG5jb25zdCByZW5kZXJhYmxlU2hhcGVGYWN0b3J5ID0ge1xuICAvKipcbiAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsXG4gICAqIEBwYXJhbSB7UmVuZGVyYWJsZVNoYXBlQ29uZmlnfSBwYXJhbXNcbiAgICogQHJldHVybnMge0RlZmF1bHRNb2RlbH1cbiAgICovXG4gIGNyZWF0ZU1vZGVsOiAoZ2wsIHBhcmFtcykgPT4ge1xuICAgIGNvbnN0IHNoYXBlQ29uZmlnID0gcmVuZGVyYWJsZVNoYXBlRmFjdG9yeS5nZXRSZW5kZXJhYmxlU2hhcGUocGFyYW1zKTtcbiAgICByZXR1cm4gbmV3IERlZmF1bHRNb2RlbChnbCwgc2hhcGVDb25maWcpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1JlbmRlcmFibGVTaGFwZUNvbmZpZ30gcGFyYW1zXG4gICAqIEByZXR1cm5zIHtSZW5kZXJhYmxlU2hhcGV9XG4gICAqL1xuICBnZXRSZW5kZXJhYmxlU2hhcGU6IHBhcmFtcyA9PiB7XG4gICAgcGFyYW1zLmlzVXNpbmdTcGhlcmljYWxOb3JtYWxzID0gcGFyYW1zLmlzVXNpbmdTcGhlcmljYWxOb3JtYWxzIHx8IGZhbHNlO1xuICAgIHBhcmFtcy5kaXZpc2lvbnNDb3VudCA9IHR5cGVvZiBwYXJhbXMuZGl2aXNpb25zQ291bnQgPT09ICdudW1iZXInID8gcGFyYW1zLmRpdmlzaW9uc0NvdW50IDogMDtcblxuICAgIGxldCBzaGFwZUNvbmZpZyA9IHJlbmRlcmFibGVTaGFwZVN0b3JlLmdldFNoYXBlKHBhcmFtcyk7XG4gICAgaWYgKCFzaGFwZUNvbmZpZykge1xuICAgICAgc2hhcGVDb25maWcgPSBfc2hhcGVJZHNUb1JlbmRlcmFibGVTaGFwZUZhY3Rvcmllc1twYXJhbXMuc2hhcGVJZF0uZ2V0UmVuZGVyYWJsZVNoYXBlKHBhcmFtcyk7XG4gICAgICBfdXBkYXRlVGV4dHVyZUNvb3JkaW5hdGVzU3BhbihzaGFwZUNvbmZpZywgcGFyYW1zLnRleHR1cmVTcGFuKTtcbiAgICAgIHJlbmRlcmFibGVTaGFwZVN0b3JlLnJlZ2lzdGVyU2hhcGUoc2hhcGVDb25maWcsIHBhcmFtcyk7XG4gICAgfVxuICAgIHJldHVybiBzaGFwZUNvbmZpZztcbiAgfSxcblxuICAvKipcbiAgICogQHBhcmFtIHtSZW5kZXJhYmxlU2hhcGVGYWN0b3J5fSBzaGFwZUNvbmZpZ0ZhY3RvcnlcbiAgICovXG4gIHJlZ2lzdGVyUmVuZGVyYWJsZVNoYXBlRmFjdG9yeTogc2hhcGVDb25maWdGYWN0b3J5ID0+IHtcbiAgICBfc2hhcGVJZHNUb1JlbmRlcmFibGVTaGFwZUZhY3Rvcmllc1tzaGFwZUNvbmZpZ0ZhY3Rvcnkuc2hhcGVJZF0gPSBzaGFwZUNvbmZpZ0ZhY3Rvcnk7XG4gICAgcmVuZGVyYWJsZVNoYXBlU3RvcmUucmVnaXN0ZXJSZW5kZXJhYmxlU2hhcGVGYWN0b3J5KHNoYXBlQ29uZmlnRmFjdG9yeSk7XG4gIH1cbn07XG5cbmNvbnN0IF9zaGFwZUlkc1RvUmVuZGVyYWJsZVNoYXBlRmFjdG9yaWVzID0ge307XG5cbi8qKlxuICogQHBhcmFtIHtSZW5kZXJhYmxlU2hhcGV9IHNoYXBlQ29uZmlnXG4gKiBAcGFyYW0ge1RleHR1cmVTcGFufSB0ZXh0dXJlU3BhblxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX3VwZGF0ZVRleHR1cmVDb29yZGluYXRlc1NwYW4oc2hhcGVDb25maWcsIHRleHR1cmVTcGFuKSB7XG4gIGlmICghdGV4dHVyZVNwYW4pIHJldHVybjtcblxuICBjb25zdCBtaW5YID0gdGV4dHVyZVNwYW4ubWluWDtcbiAgY29uc3QgbWluWSA9IHRleHR1cmVTcGFuLm1pblk7XG4gIGNvbnN0IHJhbmdlWCA9IHRleHR1cmVTcGFuLm1heFggLSB0ZXh0dXJlU3Bhbi5taW5YO1xuICBjb25zdCByYW5nZVkgPSB0ZXh0dXJlU3Bhbi5tYXhZIC0gdGV4dHVyZVNwYW4ubWluWTtcblxuICBjb25zdCB0ZXh0dXJlQ29vcmRpbmF0ZXMgPSBzaGFwZUNvbmZpZy50ZXh0dXJlQ29vcmRpbmF0ZXMuc2xpY2UoKTtcbiAgc2hhcGVDb25maWcudGV4dHVyZUNvb3JkaW5hdGVzID0gdGV4dHVyZUNvb3JkaW5hdGVzO1xuXG4gIGZvciAobGV0IGkgPSAwLCBjb3VudCA9IHRleHR1cmVDb29yZGluYXRlcy5sZW5ndGg7IGkgPCBjb3VudDsgaSArPSAyKSB7XG4gICAgdGV4dHVyZUNvb3JkaW5hdGVzW2ldID0gbWluWCArIHJhbmdlWCAqIHRleHR1cmVDb29yZGluYXRlc1tpXTtcbiAgICB0ZXh0dXJlQ29vcmRpbmF0ZXNbaSArIDFdID0gbWluWSArIHJhbmdlWSAqIHRleHR1cmVDb29yZGluYXRlc1tpICsgMV07XG4gIH1cbn1cblxuZXhwb3J0IHtyZW5kZXJhYmxlU2hhcGVGYWN0b3J5fTtcblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBSZW5kZXJhYmxlU2hhcGVGYWN0b3J5XG4gKiBAcHJvcGVydHkge3N0cmluZ30gc2hhcGVJZFxuICogQHByb3BlcnR5IHtGdW5jdGlvbi48UmVuZGVyYWJsZVNoYXBlPn0gZ2V0UmVuZGVyYWJsZVNoYXBlXG4gKiBAcHJvcGVydHkge0Z1bmN0aW9uLjxTdHJpbmc+fSBnZXRDYWNoZUlkXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBSZW5kZXJhYmxlU2hhcGVcbiAqIEBwcm9wZXJ0eSB7QXJyYXkuPE51bWJlcj59IHZlcnRleFBvc2l0aW9uc1xuICogQHByb3BlcnR5IHtBcnJheS48TnVtYmVyPn0gdmVydGV4Tm9ybWFsc1xuICogQHByb3BlcnR5IHtBcnJheS48TnVtYmVyPn0gdGV4dHVyZUNvb3JkaW5hdGVzXG4gKiBAcHJvcGVydHkge0FycmF5LjxOdW1iZXI+fSBbdmVydGV4SW5kaWNlc11cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBlbGVtZW50Q291bnRcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFRleHR1cmVTcGFuXG4gKiBAcHJvcGVydHkge251bWJlcn0gbWluWFxuICogQHByb3BlcnR5IHtudW1iZXJ9IG1pbllcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtYXhYXG4gKiBAcHJvcGVydHkge251bWJlcn0gbWF4WVxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gUmVuZGVyYWJsZVNoYXBlQ29uZmlnXG4gKiBAcHJvcGVydHkge3N0cmluZ30gc2hhcGVJZCBUaGUgSUQgb2YgdGhlIHR5cGUgb2YgcmVuZGVyYWJsZSBzaGFwZS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2lzVXNpbmdTcGhlcmljYWxOb3JtYWxzPWZhbHNlXSBXaGV0aGVyIGxpZ2h0IHJlZmxlY3Rpb25zIHNob3VsZCBzaG93IHNoYXJwXG4gKiBlZGdlcy5cbiAqIEBwcm9wZXJ0eSB7VGV4dHVyZVNwYW59IFt0ZXh0dXJlU3Bhbl0gRm9yIGluZGljYXRpbmcgaG93IG11Y2ggYSB0ZXh0dXJlIHNob3VsZCByZXBlYXQgaW4gYm90aCBheGVzLlxuICogQSByYW5nZSBvZiAwLTAuNSBzaG91bGQgc2hvdyBoYWxmIHRoZSB0ZXh0dXJlLiBBIHJhbmdlIG9mIDAtMiB3b3VsZCBzaG93IHRoZSB0ZXh0dXJlIHR3aWNlLiBUaGVcbiAqIGRlZmF1bHQgaXMgMC0xIGluIGJvdGggZGlyZWN0aW9ucy5cbiAqIEBwcm9wZXJ0eSB7dmVjM30gW3NjYWxlXVxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge1JlbmRlcmFibGVTaGFwZUNvbmZpZ30gU3BoZXJpY2FsUmVuZGVyYWJsZVNoYXBlUGFyYW1zXG4gKiBAcHJvcGVydHkge251bWJlcn0gZGl2aXNpb25zQ291bnQgSG93IG1hbnkgdGltZXMgdG8gc3ViLWRpdmlkZSB0aGUgc3BoZXJlLlxuICovXG4iLCIvKipcbiAqIFRoaXMgY2xhc3MgY2FjaGVzIHJlbmRlcmFibGUgc2hhcGUgZGF0YS5cbiAqL1xuY2xhc3MgUmVuZGVyYWJsZVNoYXBlU3RvcmUge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLl9zaGFwZUNhY2hlID0gbmV3IE1hcCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7UmVuZGVyYWJsZVNoYXBlQ29uZmlnfSBwYXJhbXNcbiAgICogQHJldHVybnMge1JlbmRlcmFibGVTaGFwZX1cbiAgICovXG4gIGdldFNoYXBlKHBhcmFtcykge1xuICAgIGNvbnN0IGtleSA9IF9zaGFwZUlkc1RvQ2FjaGVLZXlDYWxjdWxhdG9yc1twYXJhbXMuc2hhcGVJZF0ocGFyYW1zKTtcbiAgICByZXR1cm4gdGhpcy5fc2hhcGVDYWNoZS5nZXQoa2V5KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWNoZXMgdGhlIGdpdmVuIHNoYXBlIGluZm8uXG4gICAqXG4gICAqIEBwYXJhbSB7UmVuZGVyYWJsZVNoYXBlfSBzaGFwZUNvbmZpZ1xuICAgKiBAcGFyYW0ge1JlbmRlcmFibGVTaGFwZUNvbmZpZ30gcGFyYW1zXG4gICAqL1xuICByZWdpc3RlclNoYXBlKHNoYXBlQ29uZmlnLCBwYXJhbXMpIHtcbiAgICBjb25zdCBrZXkgPSBfc2hhcGVJZHNUb0NhY2hlS2V5Q2FsY3VsYXRvcnNbcGFyYW1zLnNoYXBlSWRdKHBhcmFtcyk7XG4gICAgdGhpcy5fc2hhcGVDYWNoZS5zZXQoa2V5LCBzaGFwZUNvbmZpZyk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtSZW5kZXJhYmxlU2hhcGVGYWN0b3J5fSBzaGFwZUNvbmZpZ0ZhY3RvcnlcbiAgICovXG4gIHJlZ2lzdGVyUmVuZGVyYWJsZVNoYXBlRmFjdG9yeShzaGFwZUNvbmZpZ0ZhY3RvcnkpIHtcbiAgICBfc2hhcGVJZHNUb0NhY2hlS2V5Q2FsY3VsYXRvcnNbc2hhcGVDb25maWdGYWN0b3J5LnNoYXBlSWRdID0gc2hhcGVDb25maWdGYWN0b3J5LmdldENhY2hlSWQ7XG4gIH1cblxuICAvLyBUT0RPOiBBZGQgc3VwcG9ydCBmb3IgdW4tcmVnaXN0ZXJpbmcgc2hhcGVzLlxufVxuXG4vKipcbiAqIEBwYXJhbSB7UmVuZGVyYWJsZVNoYXBlQ29uZmlnfSBwYXJhbXNcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGdldENhY2hlS2V5KHBhcmFtcykge1xuICBjb25zdCB0ZXh0dXJlU3BhblN0ciA9IHBhcmFtcy50ZXh0dXJlU3BhblxuICAgICAgPyBgOiR7cGFyYW1zLnRleHR1cmVTcGFuLm1pblh9LCR7cGFyYW1zLnRleHR1cmVTcGFuLm1pbll9LCR7cGFyYW1zLnRleHR1cmVTcGFuLm1heFh9LGAgK1xuICBgJHtwYXJhbXMudGV4dHVyZVNwYW4ubWF4WX1gXG4gICAgICA6ICcnO1xuXG4gIHJldHVybiBgJHtwYXJhbXMuc2hhcGVJZH06JHtwYXJhbXMuaXNVc2luZ1NwaGVyaWNhbE5vcm1hbHN9JHt0ZXh0dXJlU3BhblN0cn1gO1xufVxuXG5jb25zdCBfc2hhcGVJZHNUb0NhY2hlS2V5Q2FsY3VsYXRvcnMgPSB7fTtcblxuY29uc3QgcmVuZGVyYWJsZVNoYXBlU3RvcmUgPSBuZXcgUmVuZGVyYWJsZVNoYXBlU3RvcmUoKTtcbmV4cG9ydCB7cmVuZGVyYWJsZVNoYXBlU3RvcmUsIGdldENhY2hlS2V5fTtcbiIsIi8qKlxuICogVGhpcyBtb2R1bGUgZGVmaW5lcyBhIGNvbmZpZ3VyYXRpb24gZmFjdG9yeSBmb3IgYSBjYXBzdWxlIHNoYXBlLlxuICpcbiAqIFRoZSBzaGFwZSBpcyBjZW50ZXJlZCBhcm91bmQgdGhlIG9yaWdpbiB3aXRoIHRoZSBwb2xlcyBhbGlnbmVkIHdpdGggdGhlIHotYXhpcy5cbiAqL1xuXG5pbXBvcnQge1xuICBjYWxjdWxhdGVTcGhlcmljYWxTZWN0aW9uLFxuICBjYWxjdWxhdGVPcnRob2dvbmFsVmVydGV4Tm9ybWFscyxcbiAgZGVkdXBWZXJ0ZXhBcnJheVdpdGhQb3NpdGlvbnNBbmRJbmRpY2VzQXJyYXlzLFxuICBjYWxjdWxhdGVMYXRMb25nVGV4dHVyZUNvb3JkaW5hdGVzLFxuICBjYWxjdWxhdGVDeWxpbmRyaWNhbFNlY3Rpb24sXG4gIGNhbGN1bGF0ZUN5bGluZHJpY2FsVGV4dHVyZUNvb3JkaW5hdGVzLFxuICBUV09fUEksXG59IGZyb20gJy4uLy4uLy4uL3V0aWwnO1xuaW1wb3J0IHtnZXRDYWNoZUtleX0gZnJvbSAnLi4vcmVuZGVyYWJsZS1zaGFwZS1zdG9yZSc7XG5cbi8vIFRPRE86IE9uY2UgSSBoYXZlIGEgYmV0dGVyIGNhbWVyYSBpbiBwbGFjZSwgdGVzdCB0aGF0IHRoZXNlIHRleHR1cmUgY29vcmRpbmF0ZSBjYWxjdWxhdGlvbnMgYXJlXG4vLyBjb3JyZWN0LlxuXG4vKipcbiAqIEBwYXJhbSB7Q2Fwc3VsZVJlbmRlcmFibGVTaGFwZVBhcmFtc30gcGFyYW1zXG4gKiBAcmV0dXJucyB7UmVuZGVyYWJsZVNoYXBlfVxuICovXG5mdW5jdGlvbiBfY2FsY3VsYXRlQ2Fwc3VsZVRvcFNoYXBlKHBhcmFtcykge1xuICAvLyBDYWxjdWxhdGUgdGhlIHBvc2l0aW9ucy5cbiAgLy8gVE9ETzogVGhpcyB1c2VzIGxhdC1sb25nIHNwaGVyZXMgZm9yIHRoZSBlbmRzIG9mIHRoZSBjYXBzdWxlLiBVc2UgaWNvc3BoZXJlcyBpbnN0ZWFkLlxuICBjb25zdCBpbmRpdmlkdWFsVmVydGV4UG9zaXRpb25zID0gY2FsY3VsYXRlU3BoZXJpY2FsU2VjdGlvbihcbiAgICAgIDAsIHBhcmFtcy5kaXZpc2lvbnNDb3VudCAvIDIsIE1hdGguUEkgLyBwYXJhbXMuZGl2aXNpb25zQ291bnQsXG4gICAgICAwLCBwYXJhbXMuZGl2aXNpb25zQ291bnQsIFRXT19QSSAvIHBhcmFtcy5kaXZpc2lvbnNDb3VudCk7XG5cbiAgLy8gQ2FsY3VsYXRlIHRoZSBpbmRpY2VzIGFuZCBub3JtYWxzLlxuICBsZXQgdmVydGV4UG9zaXRpb25zO1xuICBsZXQgdmVydGV4SW5kaWNlcztcbiAgbGV0IHZlcnRleE5vcm1hbHM7XG4gIGlmICghcGFyYW1zLmlzVXNpbmdTcGhlcmljYWxOb3JtYWxzKSB7XG4gICAgLy8gSWYgd2UgdXNlIG9ydGhvZ29uYWwgbm9ybWFscywgdGhlbiB3ZSBjYW5ub3QgdXNlIHZlcnRleEluZGljZXMuXG4gICAgdmVydGV4UG9zaXRpb25zID0gaW5kaXZpZHVhbFZlcnRleFBvc2l0aW9ucztcbiAgICB2ZXJ0ZXhJbmRpY2VzID0gbnVsbDtcbiAgICB2ZXJ0ZXhOb3JtYWxzID0gY2FsY3VsYXRlT3J0aG9nb25hbFZlcnRleE5vcm1hbHModmVydGV4UG9zaXRpb25zKTtcbiAgfSBlbHNlIHtcbiAgICAoe3ZlcnRleFBvc2l0aW9ucywgdmVydGV4SW5kaWNlc30gPSBkZWR1cFZlcnRleEFycmF5V2l0aFBvc2l0aW9uc0FuZEluZGljZXNBcnJheXMoXG4gICAgICAgIGluZGl2aWR1YWxWZXJ0ZXhQb3NpdGlvbnMpKTtcbiAgICB2ZXJ0ZXhOb3JtYWxzID0gdmVydGV4UG9zaXRpb25zO1xuICB9XG5cbiAgY29uc3QgdGV4dHVyZUNvb3JkaW5hdGVzID0gY2FsY3VsYXRlTGF0TG9uZ1RleHR1cmVDb29yZGluYXRlcyh2ZXJ0ZXhQb3NpdGlvbnMpO1xuXG4gIGxldCBzY2FsZTtcbiAgbGV0IHRyYW5zbGF0aW9uO1xuXG4gIC8vIFNjYWxlIGFuZCB0cmFuc2xhdGUgdGhlIHBvc2l0aW9ucy5cbiAgc2NhbGUgPSBwYXJhbXMucmFkaXVzO1xuICB0cmFuc2xhdGlvbiA9IHBhcmFtcy5jYXBzdWxlRW5kUG9pbnRzRGlzdGFuY2UgLyAyO1xuICBmb3IgKGxldCBpID0gMCwgY291bnQgPSB2ZXJ0ZXhQb3NpdGlvbnMubGVuZ3RoOyBpIDwgY291bnQ7IGkgKz0gMykge1xuICAgIHZlcnRleFBvc2l0aW9uc1tpXSAqPSBzY2FsZTtcbiAgICB2ZXJ0ZXhQb3NpdGlvbnNbaSArIDFdICo9IHNjYWxlO1xuICAgIHZlcnRleFBvc2l0aW9uc1tpICsgMl0gPSB2ZXJ0ZXhQb3NpdGlvbnNbaSArIDJdICogc2NhbGUgKyB0cmFuc2xhdGlvbjtcbiAgfVxuXG4gIC8vIFNjYWxlIGFuZCB0cmFuc2xhdGUgdGhlIHRleHR1cmUgY29vcmRpbmF0ZXMuXG4gIHNjYWxlID0gcGFyYW1zLnJhZGl1cyAvIChwYXJhbXMucmFkaXVzICsgcGFyYW1zLmNhcHN1bGVFbmRQb2ludHNEaXN0YW5jZSk7XG4gIHRyYW5zbGF0aW9uID0gMSAtIHNjYWxlO1xuICBmb3IgKGxldCBpID0gMSwgY291bnQgPSB0ZXh0dXJlQ29vcmRpbmF0ZXMubGVuZ3RoOyBpIDwgY291bnQ7IGkgKz0gMikge1xuICAgIHRleHR1cmVDb29yZGluYXRlc1tpXSA9IHRleHR1cmVDb29yZGluYXRlc1tpXSAqIHNjYWxlICsgdHJhbnNsYXRpb247XG4gIH1cblxuICBjb25zdCBlbGVtZW50Q291bnQgPSB2ZXJ0ZXhJbmRpY2VzID8gdmVydGV4SW5kaWNlcy5sZW5ndGggOiB2ZXJ0ZXhQb3NpdGlvbnMubGVuZ3RoIC8gMztcblxuICByZXR1cm4ge1xuICAgIHZlcnRleFBvc2l0aW9uczogdmVydGV4UG9zaXRpb25zLFxuICAgIHZlcnRleE5vcm1hbHM6IHZlcnRleE5vcm1hbHMsXG4gICAgdGV4dHVyZUNvb3JkaW5hdGVzOiB0ZXh0dXJlQ29vcmRpbmF0ZXMsXG4gICAgdmVydGV4SW5kaWNlczogdmVydGV4SW5kaWNlcyxcbiAgICBlbGVtZW50Q291bnQ6IGVsZW1lbnRDb3VudFxuICB9O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Q2Fwc3VsZVJlbmRlcmFibGVTaGFwZVBhcmFtc30gcGFyYW1zXG4gKiBAcmV0dXJucyB7UmVuZGVyYWJsZVNoYXBlfVxuICovXG5mdW5jdGlvbiBfY2FsY3VsYXRlQ2Fwc3VsZUJvdHRvbVNoYXBlKHBhcmFtcykge1xuICAvLyBDYWxjdWxhdGUgdGhlIHBvc2l0aW9ucy5cbiAgLy8gVE9ETzogVGhpcyB1c2VzIGxhdC1sb25nIHNwaGVyZXMgZm9yIHRoZSBlbmRzIG9mIHRoZSBjYXBzdWxlLiBVc2UgaWNvc3BoZXJlcyBpbnN0ZWFkLlxuICBjb25zdCBpbmRpdmlkdWFsVmVydGV4UG9zaXRpb25zID0gY2FsY3VsYXRlU3BoZXJpY2FsU2VjdGlvbihcbiAgICAgIHBhcmFtcy5kaXZpc2lvbnNDb3VudCAvIDIsIHBhcmFtcy5kaXZpc2lvbnNDb3VudCwgTWF0aC5QSSAvIHBhcmFtcy5kaXZpc2lvbnNDb3VudCxcbiAgICAgIDAsIHBhcmFtcy5kaXZpc2lvbnNDb3VudCwgVFdPX1BJIC8gcGFyYW1zLmRpdmlzaW9uc0NvdW50KTtcblxuICAvLyBDYWxjdWxhdGUgdGhlIGluZGljZXMgYW5kIG5vcm1hbHMuXG4gIGxldCB2ZXJ0ZXhQb3NpdGlvbnM7XG4gIGxldCB2ZXJ0ZXhJbmRpY2VzO1xuICBsZXQgdmVydGV4Tm9ybWFscztcbiAgaWYgKCFwYXJhbXMuaXNVc2luZ1NwaGVyaWNhbE5vcm1hbHMpIHtcbiAgICAvLyBJZiB3ZSB1c2Ugb3J0aG9nb25hbCBub3JtYWxzLCB0aGVuIHdlIGNhbm5vdCB1c2UgdmVydGV4SW5kaWNlcy5cbiAgICB2ZXJ0ZXhQb3NpdGlvbnMgPSBpbmRpdmlkdWFsVmVydGV4UG9zaXRpb25zO1xuICAgIHZlcnRleEluZGljZXMgPSBudWxsO1xuICAgIHZlcnRleE5vcm1hbHMgPSBjYWxjdWxhdGVPcnRob2dvbmFsVmVydGV4Tm9ybWFscyh2ZXJ0ZXhQb3NpdGlvbnMpO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IHBvc2l0aW9uc0FuZEluZGljZXMgPSBkZWR1cFZlcnRleEFycmF5V2l0aFBvc2l0aW9uc0FuZEluZGljZXNBcnJheXMoXG4gICAgICAgIGluZGl2aWR1YWxWZXJ0ZXhQb3NpdGlvbnMpO1xuICAgIHZlcnRleFBvc2l0aW9ucyA9IHBvc2l0aW9uc0FuZEluZGljZXMudmVydGV4UG9zaXRpb25zO1xuICAgIHZlcnRleEluZGljZXMgPSBwb3NpdGlvbnNBbmRJbmRpY2VzLnZlcnRleEluZGljZXM7XG4gICAgdmVydGV4Tm9ybWFscyA9IHZlcnRleFBvc2l0aW9ucztcbiAgfVxuXG4gIGNvbnN0IHRleHR1cmVDb29yZGluYXRlcyA9IGNhbGN1bGF0ZUxhdExvbmdUZXh0dXJlQ29vcmRpbmF0ZXModmVydGV4UG9zaXRpb25zKTtcblxuICBsZXQgc2NhbGU7XG4gIGxldCB0cmFuc2xhdGlvbjtcblxuICAvLyBTY2FsZSBhbmQgdHJhbnNsYXRlIHRoZSBwb3NpdGlvbnMuXG4gIHNjYWxlID0gcGFyYW1zLnJhZGl1cztcbiAgdHJhbnNsYXRpb24gPSAtcGFyYW1zLmNhcHN1bGVFbmRQb2ludHNEaXN0YW5jZSAvIDI7XG4gIGZvciAobGV0IGkgPSAwLCBjb3VudCA9IHZlcnRleFBvc2l0aW9ucy5sZW5ndGg7IGkgPCBjb3VudDsgaSArPSAzKSB7XG4gICAgdmVydGV4UG9zaXRpb25zW2ldICo9IHNjYWxlO1xuICAgIHZlcnRleFBvc2l0aW9uc1tpICsgMV0gKj0gc2NhbGU7XG4gICAgdmVydGV4UG9zaXRpb25zW2kgKyAyXSA9IHZlcnRleFBvc2l0aW9uc1tpICsgMl0gKiBzY2FsZSArIHRyYW5zbGF0aW9uO1xuICB9XG5cbiAgLy8gU2NhbGUgYW5kIHRyYW5zbGF0ZSB0aGUgdGV4dHVyZSBjb29yZGluYXRlcy5cbiAgc2NhbGUgPSBwYXJhbXMucmFkaXVzIC8gKHBhcmFtcy5yYWRpdXMgKyBwYXJhbXMuY2Fwc3VsZUVuZFBvaW50c0Rpc3RhbmNlKTtcbiAgdHJhbnNsYXRpb24gPSAwO1xuICBmb3IgKGxldCBpID0gMSwgY291bnQgPSB0ZXh0dXJlQ29vcmRpbmF0ZXMubGVuZ3RoOyBpIDwgY291bnQ7IGkgKz0gMikge1xuICAgIHRleHR1cmVDb29yZGluYXRlc1tpXSA9IHRleHR1cmVDb29yZGluYXRlc1tpXSAqIHNjYWxlICsgdHJhbnNsYXRpb247XG4gIH1cblxuICBjb25zdCBlbGVtZW50Q291bnQgPSB2ZXJ0ZXhJbmRpY2VzID8gdmVydGV4SW5kaWNlcy5sZW5ndGggOiB2ZXJ0ZXhQb3NpdGlvbnMubGVuZ3RoIC8gMztcblxuICByZXR1cm4ge1xuICAgIHZlcnRleFBvc2l0aW9uczogdmVydGV4UG9zaXRpb25zLFxuICAgIHZlcnRleE5vcm1hbHM6IHZlcnRleE5vcm1hbHMsXG4gICAgdGV4dHVyZUNvb3JkaW5hdGVzOiB0ZXh0dXJlQ29vcmRpbmF0ZXMsXG4gICAgdmVydGV4SW5kaWNlczogdmVydGV4SW5kaWNlcyxcbiAgICBlbGVtZW50Q291bnQ6IGVsZW1lbnRDb3VudFxuICB9O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Q2Fwc3VsZVJlbmRlcmFibGVTaGFwZVBhcmFtc30gcGFyYW1zXG4gKiBAcmV0dXJucyB7UmVuZGVyYWJsZVNoYXBlfVxuICovXG5mdW5jdGlvbiBfY2FsY3VsYXRlQ2Fwc3VsZU1pZGRsZVNoYXBlKHBhcmFtcykge1xuICBsZXQgc2NhbGU7XG4gIGxldCB0cmFuc2xhdGlvbjtcblxuICAvLyBDYWxjdWxhdGUgdGhlIHBvc2l0aW9ucy5cbiAgdHJhbnNsYXRpb24gPSBwYXJhbXMuY2Fwc3VsZUVuZFBvaW50c0Rpc3RhbmNlIC8gMjtcbiAgY29uc3QgaW5kaXZpZHVhbFZlcnRleFBvc2l0aW9ucyA9IGNhbGN1bGF0ZUN5bGluZHJpY2FsU2VjdGlvbihcbiAgICAgIC10cmFuc2xhdGlvbiwgdHJhbnNsYXRpb24sIDAsIHBhcmFtcy5kaXZpc2lvbnNDb3VudCwgVFdPX1BJIC8gcGFyYW1zLmRpdmlzaW9uc0NvdW50KTtcblxuICBsZXQgdmVydGV4UG9zaXRpb25zO1xuICBsZXQgdmVydGV4SW5kaWNlcztcbiAgbGV0IHZlcnRleE5vcm1hbHM7XG5cbiAgLy8gQ2FsY3VsYXRlIHRoZSB2ZXJ0ZXggaW5kaWNlcyBhbmQgbm9ybWFscy5cbiAgaWYgKCFwYXJhbXMuaXNVc2luZ1NwaGVyaWNhbE5vcm1hbHMpIHtcbiAgICAvLyBJZiB3ZSB1c2Ugb3J0aG9nb25hbCBub3JtYWxzLCB0aGVuIHdlIGNhbm5vdCB1c2UgdmVydGV4SW5kaWNlcy5cbiAgICB2ZXJ0ZXhQb3NpdGlvbnMgPSBpbmRpdmlkdWFsVmVydGV4UG9zaXRpb25zO1xuICAgIHZlcnRleEluZGljZXMgPSBudWxsO1xuICAgIHZlcnRleE5vcm1hbHMgPSBjYWxjdWxhdGVPcnRob2dvbmFsVmVydGV4Tm9ybWFscyh2ZXJ0ZXhQb3NpdGlvbnMpO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IHBvc2l0aW9uc0FuZEluZGljZXMgPSBkZWR1cFZlcnRleEFycmF5V2l0aFBvc2l0aW9uc0FuZEluZGljZXNBcnJheXMoXG4gICAgICAgIGluZGl2aWR1YWxWZXJ0ZXhQb3NpdGlvbnMpO1xuICAgIHZlcnRleFBvc2l0aW9ucyA9IHBvc2l0aW9uc0FuZEluZGljZXMudmVydGV4UG9zaXRpb25zO1xuICAgIHZlcnRleEluZGljZXMgPSBwb3NpdGlvbnNBbmRJbmRpY2VzLnZlcnRleEluZGljZXM7XG5cbiAgICAvLyBDYWxjdWxhdGUgdGhlIHZlcnRleCBub3JtYWxzLlxuICAgIHZlcnRleE5vcm1hbHMgPSB2ZXJ0ZXhQb3NpdGlvbnMubWFwKChjb29yZCwgaW5kZXgpID0+IGluZGV4ICUgMyA9PT0gMiA/IDAgOiBjb29yZCk7XG4gIH1cblxuICAvLyBDYWxjdWxhdGUgdGhlIHRleHR1cmUgY29vcmRpbmF0ZXMuXG4gIGNvbnN0IHRleHR1cmVDb29yZGluYXRlcyA9IGNhbGN1bGF0ZUN5bGluZHJpY2FsVGV4dHVyZUNvb3JkaW5hdGVzKHZlcnRleFBvc2l0aW9ucyk7XG5cbiAgLy8gU2NhbGUgdGhlIHggYW5kIHkgcG9zaXRpb24gY29vcmRpbmF0ZXMuXG4gIHNjYWxlID0gcGFyYW1zLnJhZGl1cztcbiAgZm9yIChsZXQgaSA9IDAsIGNvdW50ID0gdmVydGV4UG9zaXRpb25zLmxlbmd0aDsgaSA8IGNvdW50OyBpICs9IDMpIHtcbiAgICB2ZXJ0ZXhQb3NpdGlvbnNbaV0gKj0gc2NhbGU7XG4gICAgdmVydGV4UG9zaXRpb25zW2kgKyAxXSAqPSBzY2FsZTtcbiAgfVxuXG4gIC8vIFNjYWxlIGFuZCB0cmFuc2xhdGUgdGhlIHRleHR1cmUgY29vcmRpbmF0ZXMuXG4gIHNjYWxlID0gcGFyYW1zLmNhcHN1bGVFbmRQb2ludHNEaXN0YW5jZSAvIChwYXJhbXMucmFkaXVzICsgcGFyYW1zLmNhcHN1bGVFbmRQb2ludHNEaXN0YW5jZSk7XG4gIHRyYW5zbGF0aW9uID0gKDEgLSBzY2FsZSkgLyAyO1xuICBmb3IgKGxldCBpID0gMSwgY291bnQgPSB0ZXh0dXJlQ29vcmRpbmF0ZXMubGVuZ3RoOyBpIDwgY291bnQ7IGkgKz0gMikge1xuICAgIHRleHR1cmVDb29yZGluYXRlc1tpXSA9IHRleHR1cmVDb29yZGluYXRlc1tpXSAqIHNjYWxlICsgdHJhbnNsYXRpb247XG4gIH1cblxuICBjb25zdCBlbGVtZW50Q291bnQgPSB2ZXJ0ZXhJbmRpY2VzID8gdmVydGV4SW5kaWNlcy5sZW5ndGggOiB2ZXJ0ZXhQb3NpdGlvbnMubGVuZ3RoIC8gMztcblxuICByZXR1cm4ge1xuICAgIHZlcnRleFBvc2l0aW9uczogdmVydGV4UG9zaXRpb25zLFxuICAgIHZlcnRleE5vcm1hbHM6IHZlcnRleE5vcm1hbHMsXG4gICAgdGV4dHVyZUNvb3JkaW5hdGVzOiB0ZXh0dXJlQ29vcmRpbmF0ZXMsXG4gICAgdmVydGV4SW5kaWNlczogdmVydGV4SW5kaWNlcyxcbiAgICBlbGVtZW50Q291bnQ6IGVsZW1lbnRDb3VudFxuICB9O1xufVxuXG5jb25zdCBjYXBzdWxlUmVuZGVyYWJsZVNoYXBlRmFjdG9yeSA9IHtcbiAgc2hhcGVJZDogJ0NBUFNVTEUnLFxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0NhcHN1bGVSZW5kZXJhYmxlU2hhcGVQYXJhbXN9IHBhcmFtc1xuICAgKiBAcmV0dXJucyB7UmVuZGVyYWJsZVNoYXBlfVxuICAgKi9cbiAgZ2V0UmVuZGVyYWJsZVNoYXBlOiAocGFyYW1zKSA9PiB7XG4gICAgLy8gRW5zdXJlIHRoZSBkaXZpc2lvbnMgY291bnQgaXMgZXZlbi5cbiAgICBpZiAocGFyYW1zLmRpdmlzaW9uc0NvdW50ICUgMiA9PT0gMSkge1xuICAgICAgcGFyYW1zLmRpdmlzaW9uc0NvdW50Kys7XG4gICAgfVxuXG4gICAgLy8gVGhlIGNhcHN1bGUncyBzdWItc2hhcGVzLlxuICAgIGNvbnN0IHRvcFNoYXBlID0gX2NhbGN1bGF0ZUNhcHN1bGVUb3BTaGFwZShwYXJhbXMpO1xuICAgIGNvbnN0IGJvdHRvbVNoYXBlID0gX2NhbGN1bGF0ZUNhcHN1bGVCb3R0b21TaGFwZShwYXJhbXMpO1xuICAgIGNvbnN0IG1pZGRsZVNoYXBlID0gX2NhbGN1bGF0ZUNhcHN1bGVNaWRkbGVTaGFwZShwYXJhbXMpO1xuXG4gICAgLy8gQ29uY2F0ZW5hdGUgcG9zaXRpb25zLCBub3JtYWxzLCB0ZXh0dXJlIGNvb3JkaW5hdGVzLCBhbmQgaW5kaWNlcy5cbiAgICBjb25zdCB2ZXJ0ZXhQb3NpdGlvbnMgPSB0b3BTaGFwZS52ZXJ0ZXhQb3NpdGlvbnMuY29uY2F0KG1pZGRsZVNoYXBlLnZlcnRleFBvc2l0aW9ucywgXG4gICAgICAgIGJvdHRvbVNoYXBlLnZlcnRleFBvc2l0aW9ucyk7XG4gICAgY29uc3QgdmVydGV4Tm9ybWFscyA9IHRvcFNoYXBlLnZlcnRleE5vcm1hbHMuY29uY2F0KG1pZGRsZVNoYXBlLnZlcnRleE5vcm1hbHMsXG4gICAgICAgIGJvdHRvbVNoYXBlLnZlcnRleE5vcm1hbHMpO1xuICAgIGNvbnN0IHRleHR1cmVDb29yZGluYXRlcyA9IHRvcFNoYXBlLnRleHR1cmVDb29yZGluYXRlcy5jb25jYXQobWlkZGxlU2hhcGUudGV4dHVyZUNvb3JkaW5hdGVzLFxuICAgICAgICBib3R0b21TaGFwZS50ZXh0dXJlQ29vcmRpbmF0ZXMpO1xuICAgIGNvbnN0IHZlcnRleEluZGljZXMgPSB0b3BTaGFwZS52ZXJ0ZXhJbmRpY2VzXG4gICAgICAgID8gdG9wU2hhcGUudmVydGV4SW5kaWNlcy5jb25jYXQobWlkZGxlU2hhcGUudmVydGV4SW5kaWNlcywgYm90dG9tU2hhcGUudmVydGV4SW5kaWNlcylcbiAgICAgICAgOiBudWxsO1xuICAgIGNvbnN0IGVsZW1lbnRDb3VudCA9IHRvcFNoYXBlLmVsZW1lbnRDb3VudCArIG1pZGRsZVNoYXBlLmVsZW1lbnRDb3VudCArIGJvdHRvbVNoYXBlLmVsZW1lbnRDb3VudDtcblxuICAgIHJldHVybiB7XG4gICAgICB2ZXJ0ZXhQb3NpdGlvbnM6IHZlcnRleFBvc2l0aW9ucyxcbiAgICAgIHZlcnRleE5vcm1hbHM6IHZlcnRleE5vcm1hbHMsXG4gICAgICB0ZXh0dXJlQ29vcmRpbmF0ZXM6IHRleHR1cmVDb29yZGluYXRlcyxcbiAgICAgIHZlcnRleEluZGljZXM6IHZlcnRleEluZGljZXMsXG4gICAgICBlbGVtZW50Q291bnQ6IGVsZW1lbnRDb3VudFxuICAgIH07XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7Q2Fwc3VsZVJlbmRlcmFibGVTaGFwZVBhcmFtc30gcGFyYW1zXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAqL1xuICBnZXRDYWNoZUlkKHBhcmFtcykge1xuICAgIHJldHVybiBgJHtnZXRDYWNoZUtleShwYXJhbXMpfToke3BhcmFtcy5kaXZpc2lvbnNDb3VudH1gO1xuICB9XG59O1xuXG5leHBvcnQge2NhcHN1bGVSZW5kZXJhYmxlU2hhcGVGYWN0b3J5fTtcblxuLyoqXG4gKiBAdHlwZWRlZiB7U3BoZXJpY2FsUmVuZGVyYWJsZVNoYXBlUGFyYW1zfSBDYXBzdWxlUmVuZGVyYWJsZVNoYXBlUGFyYW1zXG4gKiBAcHJvcGVydHkge251bWJlcn0gcmFkaXVzXG4gKiBAcHJvcGVydHkge251bWJlcn0gY2Fwc3VsZUVuZFBvaW50c0Rpc3RhbmNlIFRoZSBkaXN0YW5jZSBiZXR3ZWVuIHRoZSBjZW50ZXJzIG9mIHRoZSBzcGhlcmVzIG9uXG4gKiBlaXRoZXIgZW5kIG9mIHRoZSBjYXBzdWxlLlxuICovXG4iLCIvKipcbiAqIFRoaXMgbW9kZWwgZGVmaW5lcyBhIHNoYXBlIGNvbmZpZ3VyYXRpb24gZmFjdG9yeSBmb3IgYSBjdWJlLlxuICpcbiAqIFRoaXMgY3ViZSBpcyBvbmUgdW5pdCBsb25nIG9uIGVhY2ggc2lkZS5cbiAqL1xuXG5pbXBvcnQge2dldENhY2hlS2V5fSBmcm9tICcuLi9yZW5kZXJhYmxlLXNoYXBlLXN0b3JlJztcblxuY29uc3QgVkVSVEVYX0NPT1JESU5BVEUgPSAwLjU7XG5cbmNvbnN0IHZlcnRleFBvc2l0aW9ucyA9IFtcbiAgLy8gRnJvbnQgZmFjZVxuICAtVkVSVEVYX0NPT1JESU5BVEUsIC1WRVJURVhfQ09PUkRJTkFURSwgVkVSVEVYX0NPT1JESU5BVEUsXG4gIFZFUlRFWF9DT09SRElOQVRFLCAgLVZFUlRFWF9DT09SRElOQVRFLCBWRVJURVhfQ09PUkRJTkFURSxcbiAgVkVSVEVYX0NPT1JESU5BVEUsICBWRVJURVhfQ09PUkRJTkFURSwgIFZFUlRFWF9DT09SRElOQVRFLFxuICAtVkVSVEVYX0NPT1JESU5BVEUsIFZFUlRFWF9DT09SRElOQVRFLCAgVkVSVEVYX0NPT1JESU5BVEUsXG4gIC8vIEJhY2sgZmFjZVxuICAtVkVSVEVYX0NPT1JESU5BVEUsIC1WRVJURVhfQ09PUkRJTkFURSwgLVZFUlRFWF9DT09SRElOQVRFLFxuICAtVkVSVEVYX0NPT1JESU5BVEUsIFZFUlRFWF9DT09SRElOQVRFLCAgLVZFUlRFWF9DT09SRElOQVRFLFxuICBWRVJURVhfQ09PUkRJTkFURSwgIFZFUlRFWF9DT09SRElOQVRFLCAgLVZFUlRFWF9DT09SRElOQVRFLFxuICBWRVJURVhfQ09PUkRJTkFURSwgIC1WRVJURVhfQ09PUkRJTkFURSwgLVZFUlRFWF9DT09SRElOQVRFLFxuICAvLyBUb3AgZmFjZVxuICAtVkVSVEVYX0NPT1JESU5BVEUsIFZFUlRFWF9DT09SRElOQVRFLCAgLVZFUlRFWF9DT09SRElOQVRFLFxuICAtVkVSVEVYX0NPT1JESU5BVEUsIFZFUlRFWF9DT09SRElOQVRFLCAgVkVSVEVYX0NPT1JESU5BVEUsXG4gIFZFUlRFWF9DT09SRElOQVRFLCAgVkVSVEVYX0NPT1JESU5BVEUsICBWRVJURVhfQ09PUkRJTkFURSxcbiAgVkVSVEVYX0NPT1JESU5BVEUsICBWRVJURVhfQ09PUkRJTkFURSwgIC1WRVJURVhfQ09PUkRJTkFURSxcbiAgLy8gQm90dG9tIGZhY2VcbiAgLVZFUlRFWF9DT09SRElOQVRFLCAtVkVSVEVYX0NPT1JESU5BVEUsIC1WRVJURVhfQ09PUkRJTkFURSxcbiAgVkVSVEVYX0NPT1JESU5BVEUsICAtVkVSVEVYX0NPT1JESU5BVEUsIC1WRVJURVhfQ09PUkRJTkFURSxcbiAgVkVSVEVYX0NPT1JESU5BVEUsICAtVkVSVEVYX0NPT1JESU5BVEUsIFZFUlRFWF9DT09SRElOQVRFLFxuICAtVkVSVEVYX0NPT1JESU5BVEUsIC1WRVJURVhfQ09PUkRJTkFURSwgVkVSVEVYX0NPT1JESU5BVEUsXG4gIC8vIFJpZ2h0IGZhY2VcbiAgVkVSVEVYX0NPT1JESU5BVEUsICAtVkVSVEVYX0NPT1JESU5BVEUsIC1WRVJURVhfQ09PUkRJTkFURSxcbiAgVkVSVEVYX0NPT1JESU5BVEUsICBWRVJURVhfQ09PUkRJTkFURSwgIC1WRVJURVhfQ09PUkRJTkFURSxcbiAgVkVSVEVYX0NPT1JESU5BVEUsICBWRVJURVhfQ09PUkRJTkFURSwgIFZFUlRFWF9DT09SRElOQVRFLFxuICBWRVJURVhfQ09PUkRJTkFURSwgIC1WRVJURVhfQ09PUkRJTkFURSwgVkVSVEVYX0NPT1JESU5BVEUsXG4gIC8vIExlZnQgZmFjZVxuICAtVkVSVEVYX0NPT1JESU5BVEUsIC1WRVJURVhfQ09PUkRJTkFURSwgLVZFUlRFWF9DT09SRElOQVRFLFxuICAtVkVSVEVYX0NPT1JESU5BVEUsIC1WRVJURVhfQ09PUkRJTkFURSwgVkVSVEVYX0NPT1JESU5BVEUsXG4gIC1WRVJURVhfQ09PUkRJTkFURSwgVkVSVEVYX0NPT1JESU5BVEUsICBWRVJURVhfQ09PUkRJTkFURSxcbiAgLVZFUlRFWF9DT09SRElOQVRFLCBWRVJURVhfQ09PUkRJTkFURSwgIC1WRVJURVhfQ09PUkRJTkFURVxuXTtcblxuY29uc3Qgb3J0aG9nb25hbFZlcnRleE5vcm1hbHMgPSBbXG4gIC8vIEZyb250IGZhY2VcbiAgMCwgMCwgMSxcbiAgMCwgMCwgMSxcbiAgMCwgMCwgMSxcbiAgMCwgMCwgMSxcbiAgLy8gQmFjayBmYWNlXG4gIDAsIDAsIC0xLFxuICAwLCAwLCAtMSxcbiAgMCwgMCwgLTEsXG4gIDAsIDAsIC0xLFxuICAvLyBUb3AgZmFjZVxuICAwLCAxLCAwLFxuICAwLCAxLCAwLFxuICAwLCAxLCAwLFxuICAwLCAxLCAwLFxuICAvLyBCb3R0b20gZmFjZVxuICAwLCAtMSwgMCxcbiAgMCwgLTEsIDAsXG4gIDAsIC0xLCAwLFxuICAwLCAtMSwgMCxcbiAgLy8gUmlnaHQgZmFjZVxuICAxLCAwLCAwLFxuICAxLCAwLCAwLFxuICAxLCAwLCAwLFxuICAxLCAwLCAwLFxuICAvLyBMZWZ0IGZhY2VcbiAgLTEsIDAsIDAsXG4gIC0xLCAwLCAwLFxuICAtMSwgMCwgMCxcbiAgLTEsIDAsIDBcbl07XG5cbmNvbnN0IHRleHR1cmVDb29yZGluYXRlcyA9IFtcbiAgLy8gRnJvbnQgZmFjZVxuICAxLCAwLFxuICAwLCAwLFxuICAwLCAxLFxuICAxLCAxLFxuICAvLyBCYWNrIGZhY2VcbiAgMSwgMCxcbiAgMCwgMCxcbiAgMCwgMSxcbiAgMSwgMSxcbiAgLy8gVG9wIGZhY2VcbiAgMSwgMCxcbiAgMCwgMCxcbiAgMCwgMSxcbiAgMSwgMSxcbiAgLy8gQm90dG9tIGZhY2VcbiAgMSwgMCxcbiAgMCwgMCxcbiAgMCwgMSxcbiAgMSwgMSxcbiAgLy8gUmlnaHQgZmFjZVxuICAxLCAwLFxuICAwLCAwLFxuICAwLCAxLFxuICAxLCAxLFxuICAvLyBMZWZ0IGZhY2VcbiAgMSwgMCxcbiAgMCwgMCxcbiAgMCwgMSxcbiAgMSwgMVxuXTtcblxuLy8gVGhpcyBhcnJheSBkZWZpbmVzIGVhY2ggZmFjZSBhcyB0d28gdHJpYW5nbGVzLCB1c2luZyB0aGUgaW5kaWNlcyBpbnRvIHRoZSB2ZXJ0ZXggYXJyYXlcbi8vIHRvIHNwZWNpZnkgZWFjaCB0cmlhbmdsZSdzIHBvc2l0aW9uLlxuY29uc3QgdmVydGV4SW5kaWNlcyA9IFtcbiAgLy8gRnJvbnQgZmFjZVxuICAwLCAgMSwgIDIsXG4gIDAsICAyLCAgMyxcbiAgLy8gQmFjayBmYWNlXG4gIDQsICA1LCAgNixcbiAgNCwgIDYsICA3LFxuICAvLyBUb3AgZmFjZVxuICA4LCAgOSwgIDEwLFxuICA4LCAgMTAsIDExLFxuICAvLyBCb3R0b20gZmFjZVxuICAxMiwgMTMsIDE0LFxuICAxMiwgMTQsIDE1LFxuICAvLyBSaWdodCBmYWNlXG4gIDE2LCAxNywgMTgsXG4gIDE2LCAxOCwgMTksXG4gIC8vIExlZnQgZmFjZVxuICAyMCwgMjEsIDIyLFxuICAyMCwgMjIsIDIzXG5dO1xuXG5jb25zdCBjdWJlUmVuZGVyYWJsZVNoYXBlRmFjdG9yeSA9IHtcbiAgc2hhcGVJZDogJ0NVQkUnLFxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1JlbmRlcmFibGVTaGFwZUNvbmZpZ30gcGFyYW1zXG4gICAqIEByZXR1cm5zIHtSZW5kZXJhYmxlU2hhcGV9XG4gICAqL1xuICBnZXRSZW5kZXJhYmxlU2hhcGU6IHBhcmFtcyA9PiB7XG4gICAgY29uc3QgdmVydGV4Tm9ybWFscyA9IHBhcmFtcy5pc1VzaW5nU3BoZXJpY2FsTm9ybWFscyA/IHZlcnRleFBvc2l0aW9ucyA6IG9ydGhvZ29uYWxWZXJ0ZXhOb3JtYWxzO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHZlcnRleFBvc2l0aW9uczogdmVydGV4UG9zaXRpb25zLFxuICAgICAgdmVydGV4Tm9ybWFsczogdmVydGV4Tm9ybWFscyxcbiAgICAgIHRleHR1cmVDb29yZGluYXRlczogdGV4dHVyZUNvb3JkaW5hdGVzLFxuICAgICAgdmVydGV4SW5kaWNlczogdmVydGV4SW5kaWNlcyxcbiAgICAgIGVsZW1lbnRDb3VudDogdmVydGV4SW5kaWNlcy5sZW5ndGhcbiAgICB9O1xuICB9LFxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1JlbmRlcmFibGVTaGFwZUNvbmZpZ30gcGFyYW1zXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAqL1xuICBnZXRDYWNoZUlkKHBhcmFtcykge1xuICAgIHJldHVybiBnZXRDYWNoZUtleShwYXJhbXMpO1xuICB9XG59O1xuXG5leHBvcnQge2N1YmVSZW5kZXJhYmxlU2hhcGVGYWN0b3J5fTtcbiIsIi8qKlxuICogVGhpcyBtb2RlbCBkZWZpbmVzIGEgc2hhcGUgY29uZmlndXJhdGlvbiBmYWN0b3J5IGZvciBhIHJlZ3VsYXIgaWNvc2FoZWRyb24uXG4gKlxuICogVGhlIHNoYXBlIGlzIGNlbnRlcmVkIGFyb3VuZCB0aGUgb3JpZ2luLlxuICovXG5cbmltcG9ydCB7XG4gIGNhbGN1bGF0ZUxhdExvbmdUZXh0dXJlQ29vcmRpbmF0ZXMsXG4gIGNhbGN1bGF0ZU9ydGhvZ29uYWxWZXJ0ZXhOb3JtYWxzLFxuICBleHBhbmRWZXJ0ZXhJbmRpY2VzQXJvdW5kTG9uZ2l0dWRlU2VhbSxcbiAgZXhwYW5kVmVydGV4SW5kaWNlc1RvRHVwbGljYXRlUG9zaXRpb25zLFxufSBmcm9tICcuLi8uLi8uLi91dGlsJztcbmltcG9ydCB7Z2V0Q2FjaGVLZXl9IGZyb20gJy4uL3JlbmRlcmFibGUtc2hhcGUtc3RvcmUnO1xuXG4vLyBUaGUgY29ybmVycyBvZiBhIHVuaXQgaWNvc2FoZWRyb24gd2l0aCB2ZXJ0aWNlcyBhbGlnbmVkIHdpdGggdGhlIHktYXhpcy5cbmNvbnN0IGluZGl2aWR1YWxWZXJ0ZXhQb3NpdGlvbnMgPSBbXG4gIC0wLjUyNTczMTA4NjczMDk1NywgLTAuNzIzNjA2ODI0ODc0ODc3OSwgMC40NDcyMTM1OTAxNDUxMTExLFxuICAwLjUyNTczMTA4NjczMDk1NywgLTAuNzIzNjA2ODI0ODc0ODc3OSwgMC40NDcyMTM1OTAxNDUxMTExLFxuICAtMC41MjU3MzEwODY3MzA5NTcsIDAuNzIzNjA2ODI0ODc0ODc3OSwgLTAuNDQ3MjEzNTkwMTQ1MTExMSxcbiAgMC41MjU3MzEwODY3MzA5NTcsIDAuNzIzNjA2ODI0ODc0ODc3OSwgLTAuNDQ3MjEzNTkwMTQ1MTExMSxcbiAgMCwgMCwgMSxcbiAgMCwgMC44OTQ0MjcxODAyOTAyMjIyLCAwLjQ0NzIxMzYxOTk0NzQzMzQ3LFxuICAwLCAtMC44OTQ0MjcxODAyOTAyMjIyLCAtMC40NDcyMTM2MTk5NDc0MzM0NyxcbiAgMCwgMCwgLTEsXG4gIDAuODUwNjUwODQ2OTU4MTYwNCwgMC4yNzYzOTMyMDQ5Mjc0NDQ0NiwgMC40NDcyMTM1OTAxNDUxMTExLFxuICAtMC44NTA2NTA4NDY5NTgxNjA0LCAwLjI3NjM5MzIwNDkyNzQ0NDQ2LCAwLjQ0NzIxMzU5MDE0NTExMTEsXG4gIDAuODUwNjUwODQ2OTU4MTYwNCwgLTAuMjc2MzkzMjA0OTI3NDQ0NDYsIC0wLjQ0NzIxMzU5MDE0NTExMTEsXG4gIC0wLjg1MDY1MDg0Njk1ODE2MDQsIC0wLjI3NjM5MzIwNDkyNzQ0NDQ2LCAtMC40NDcyMTM1OTAxNDUxMTExXG5dO1xuXG5jb25zdCBpbmRpdmlkdWFsVmVydGV4SW5kaWNlcyA9IFtcbiAgMSwgIDQsICAwLFxuICA0LCAgOSwgIDAsXG4gIDQsICA1LCAgOSxcbiAgOCwgIDUsICA0LFxuICAxLCAgOCwgIDQsXG4gIDEsICAxMCwgOCxcbiAgMTAsIDMsICA4LFxuICA4LCAgMywgIDUsXG4gIDMsICAyLCAgNSxcbiAgMywgIDcsICAyLFxuICAzLCAgMTAsIDcsXG4gIDEwLCA2LCAgNyxcbiAgNiwgIDExLCA3LFxuICA2LCAgMCwgIDExLFxuICA2LCAgMSwgIDAsXG4gIDEwLCAxLCAgNixcbiAgMTEsIDAsICA5LFxuICAyLCAgMTEsIDksXG4gIDUsICAyLCAgOSxcbiAgMTEsIDIsICA3XG5dO1xuXG5sZXQgdmVydGV4UG9zaXRpb25zRXhwYW5kZWRBcm91bmRTZWFtID0gbnVsbDtcbmxldCB2ZXJ0ZXhJbmRpY2VzRXhwYW5kZWRBcm91bmRTZWFtID0gbnVsbDtcbmxldCB0ZXh0dXJlQ29vcmRpbmF0ZXMgPSBudWxsO1xuXG5jb25zdCBpY29zYWhlZHJvblJlbmRlcmFibGVTaGFwZUZhY3RvcnkgPSB7XG4gIHNoYXBlSWQ6ICdJQ09TQUhFRFJPTicsXG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7UmVuZGVyYWJsZVNoYXBlQ29uZmlnfSBwYXJhbXNcbiAgICogQHJldHVybnMge1JlbmRlcmFibGVTaGFwZX1cbiAgICovXG4gIGdldFJlbmRlcmFibGVTaGFwZTogcGFyYW1zID0+IHtcbiAgICBsZXQgdmVydGV4UG9zaXRpb25zO1xuICAgIGxldCB2ZXJ0ZXhJbmRpY2VzO1xuXG4gICAgaWYgKCF2ZXJ0ZXhQb3NpdGlvbnNFeHBhbmRlZEFyb3VuZFNlYW0pIHtcbiAgICAgIC8vIENhbGN1bGF0ZSB0aGUgbW9kaWZpZWQgcG9zaXRpb25zIGFuZCBpbmRpY2VzLlxuICAgICAgY29uc3QgcG9zaXRpb25zQW5kSW5kaWNlcyA9IGV4cGFuZFZlcnRleEluZGljZXNBcm91bmRMb25naXR1ZGVTZWFtKFxuICAgICAgICAgIGluZGl2aWR1YWxWZXJ0ZXhQb3NpdGlvbnMsIGluZGl2aWR1YWxWZXJ0ZXhJbmRpY2VzKTtcbiAgICAgIHZlcnRleFBvc2l0aW9uc0V4cGFuZGVkQXJvdW5kU2VhbSA9IHBvc2l0aW9uc0FuZEluZGljZXMudmVydGV4UG9zaXRpb25zO1xuICAgICAgdmVydGV4SW5kaWNlc0V4cGFuZGVkQXJvdW5kU2VhbSA9IHBvc2l0aW9uc0FuZEluZGljZXMudmVydGV4SW5kaWNlcztcbiAgICB9XG5cbiAgICB2ZXJ0ZXhQb3NpdGlvbnMgPSB2ZXJ0ZXhQb3NpdGlvbnNFeHBhbmRlZEFyb3VuZFNlYW07XG4gICAgdmVydGV4SW5kaWNlcyA9IHZlcnRleEluZGljZXNFeHBhbmRlZEFyb3VuZFNlYW07XG5cbiAgICBsZXQgdmVydGV4Tm9ybWFscztcbiAgICAvLyBJZiB3ZSB1c2Ugb3J0aG9nb25hbCBub3JtYWxzLCB0aGVuIHdlIGNhbm5vdCB1c2UgdmVydGV4SW5kaWNlcy5cbiAgICBpZiAoIXBhcmFtcy5pc1VzaW5nU3BoZXJpY2FsTm9ybWFscykge1xuICAgICAgdmVydGV4UG9zaXRpb25zID0gZXhwYW5kVmVydGV4SW5kaWNlc1RvRHVwbGljYXRlUG9zaXRpb25zKHZlcnRleFBvc2l0aW9ucyxcbiAgICAgICAgICB2ZXJ0ZXhJbmRpY2VzKTtcbiAgICAgIHZlcnRleEluZGljZXMgPSBudWxsO1xuICAgICAgdmVydGV4Tm9ybWFscyA9IGNhbGN1bGF0ZU9ydGhvZ29uYWxWZXJ0ZXhOb3JtYWxzKHZlcnRleFBvc2l0aW9ucyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZlcnRleE5vcm1hbHMgPSB2ZXJ0ZXhQb3NpdGlvbnM7XG4gICAgfVxuXG4gICAgdGV4dHVyZUNvb3JkaW5hdGVzID0gdGV4dHVyZUNvb3JkaW5hdGVzXG4gICAgICAgID8gdGV4dHVyZUNvb3JkaW5hdGVzXG4gICAgICAgIDogY2FsY3VsYXRlTGF0TG9uZ1RleHR1cmVDb29yZGluYXRlcyh2ZXJ0ZXhQb3NpdGlvbnMpO1xuXG4gICAgY29uc3QgZWxlbWVudENvdW50ID0gdmVydGV4SW5kaWNlcyA/IHZlcnRleEluZGljZXMubGVuZ3RoIDogdmVydGV4UG9zaXRpb25zLmxlbmd0aCAvIDM7XG5cbiAgICByZXR1cm4ge1xuICAgICAgdmVydGV4UG9zaXRpb25zOiB2ZXJ0ZXhQb3NpdGlvbnMsXG4gICAgICB2ZXJ0ZXhOb3JtYWxzOiB2ZXJ0ZXhOb3JtYWxzLFxuICAgICAgdGV4dHVyZUNvb3JkaW5hdGVzOiB0ZXh0dXJlQ29vcmRpbmF0ZXMsXG4gICAgICB2ZXJ0ZXhJbmRpY2VzOiB2ZXJ0ZXhJbmRpY2VzLFxuICAgICAgZWxlbWVudENvdW50OiBlbGVtZW50Q291bnRcbiAgICB9O1xuICB9LFxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1JlbmRlcmFibGVTaGFwZUNvbmZpZ30gcGFyYW1zXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAqL1xuICBnZXRDYWNoZUlkKHBhcmFtcykge1xuICAgIHJldHVybiBnZXRDYWNoZUtleShwYXJhbXMpO1xuICB9XG59O1xuXG5leHBvcnQge2ljb3NhaGVkcm9uUmVuZGVyYWJsZVNoYXBlRmFjdG9yeX07XG4iLCIvKipcbiAqIFRoaXMgbW9kdWxlIGRlZmluZXMgbG9naWMgdGhhdCBjcmVhdGVzIGEgc3BoZXJpY2FsIHNoYXBlIGNvbmZpZ3VyYXRpb24gYnkgdGFraW5nIGEgc2hhcGUsXG4gKiBzdWItZGl2aWRpbmcgZWFjaCBvZiBpdHMgdHJpYW5nbGVzLCBhbmQgcHJvamVjdGluZyBlYWNoIG5ldyB2ZXJ0ZXggb250byB0aGUgZWRnZSBvZiBhIHNwaGVyZS5cbiAqXG4gKiBUaGlzIGlzIHRlY2huaWNhbGx5IG9ubHkgYW4gXCJpY29zcGhlcmVcIiBpZiB0aGUgc3RhcnRpbmcgc2hhcGUgaXMgYW4gaWNvc2FoZWRyb24uXG4gKlxuICogVGhpcyBzaGFwZSBhbHNvIGlzIGtub3duIGFzIGEgXCJnZW9zcGhlcmVcIi5cbiAqXG4gKiBUaGUgc2hhcGUgaXMgY2VudGVyZWQgYXJvdW5kIHRoZSBvcmlnaW4uXG4gKi9cblxuaW1wb3J0IHtcbiAgZGVlcENvcHksXG4gIGNhbGN1bGF0ZUxhdExvbmdUZXh0dXJlQ29vcmRpbmF0ZXMsXG4gIGNhbGN1bGF0ZU9ydGhvZ29uYWxWZXJ0ZXhOb3JtYWxzLFxuICBleHBhbmRWZXJ0ZXhJbmRpY2VzQXJvdW5kTG9uZ2l0dWRlU2VhbSxcbiAgZXhwYW5kVmVydGV4SW5kaWNlc1RvRHVwbGljYXRlUG9zaXRpb25zLFxuICB0ZXNzZWxhdGVTcGhlcmUsXG59IGZyb20gJy4uLy4uLy4uL3V0aWwnO1xuaW1wb3J0IHtnZXRDYWNoZUtleX0gZnJvbSAnLi4vcmVuZGVyYWJsZS1zaGFwZS1zdG9yZSc7XG5pbXBvcnQge3JlbmRlcmFibGVTaGFwZUZhY3Rvcnl9IGZyb20gJy4uL3JlbmRlcmFibGUtc2hhcGUtZmFjdG9yeSc7XG5cbmNvbnN0IGljb3NwaGVyZVJlbmRlcmFibGVTaGFwZUZhY3RvcnkgPSB7XG4gIHNoYXBlSWQ6ICdJQ09TUEhFUkUnLFxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0ljb3NwaGVyZVJlbmRlcmFibGVTaGFwZVBhcmFtc30gcGFyYW1zXG4gICAqIEByZXR1cm5zIHtSZW5kZXJhYmxlU2hhcGV9XG4gICAqL1xuICBnZXRSZW5kZXJhYmxlU2hhcGU6IHBhcmFtcyA9PiB7XG4gICAgcGFyYW1zLmRpdmlzaW9uc0NvdW50ID0gTWF0aC5tYXgocGFyYW1zLmRpdmlzaW9uc0NvdW50LCAxKTtcblxuICAgIGNvbnN0IGNvcHlQYXJhbXMgPSBkZWVwQ29weShwYXJhbXMpO1xuICAgIGNvcHlQYXJhbXMuc2hhcGVJZCA9IHBhcmFtcy5iYXNlU2hhcGVJZCB8fCAnSUNPU0FIRURST04nO1xuICAgIGNvbnN0IGJhc2VSZW5kZXJhYmxlU2hhcGUgPSByZW5kZXJhYmxlU2hhcGVGYWN0b3J5LmdldFJlbmRlcmFibGVTaGFwZShjb3B5UGFyYW1zKTtcblxuICAgIC8vIENhbGN1bGF0ZSB0aGUgcG9zaXRpb25zIGFuZCBpbmRpY2VzLlxuICAgIGxldCB7dmVydGV4UG9zaXRpb25zLCB2ZXJ0ZXhJbmRpY2VzfSA9IHRlc3NlbGF0ZVNwaGVyZShwYXJhbXMuZGl2aXNpb25zQ291bnQsXG4gICAgICAgIGJhc2VSZW5kZXJhYmxlU2hhcGUudmVydGV4UG9zaXRpb25zLCBiYXNlUmVuZGVyYWJsZVNoYXBlLnZlcnRleEluZGljZXMpO1xuICAgICh7dmVydGV4UG9zaXRpb25zLCB2ZXJ0ZXhJbmRpY2VzfSA9IGV4cGFuZFZlcnRleEluZGljZXNBcm91bmRMb25naXR1ZGVTZWFtKFxuICAgICAgICB2ZXJ0ZXhQb3NpdGlvbnMsIHZlcnRleEluZGljZXMpKTtcblxuICAgIGxldCB2ZXJ0ZXhOb3JtYWxzO1xuICAgIC8vIElmIHdlIHVzZSBvcnRob2dvbmFsIG5vcm1hbHMsIHRoZW4gd2UgY2Fubm90IHVzZSB2ZXJ0ZXhJbmRpY2VzLlxuICAgIGlmICghcGFyYW1zLmlzVXNpbmdTcGhlcmljYWxOb3JtYWxzKSB7XG4gICAgICB2ZXJ0ZXhQb3NpdGlvbnMgPSBleHBhbmRWZXJ0ZXhJbmRpY2VzVG9EdXBsaWNhdGVQb3NpdGlvbnModmVydGV4UG9zaXRpb25zLFxuICAgICAgICAgIHZlcnRleEluZGljZXMpO1xuICAgICAgdmVydGV4SW5kaWNlcyA9IG51bGw7XG4gICAgICB2ZXJ0ZXhOb3JtYWxzID0gY2FsY3VsYXRlT3J0aG9nb25hbFZlcnRleE5vcm1hbHModmVydGV4UG9zaXRpb25zKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmVydGV4Tm9ybWFscyA9IHZlcnRleFBvc2l0aW9ucztcbiAgICB9XG5cbiAgICBjb25zdCB0ZXh0dXJlQ29vcmRpbmF0ZXMgPSBjYWxjdWxhdGVMYXRMb25nVGV4dHVyZUNvb3JkaW5hdGVzKHZlcnRleFBvc2l0aW9ucyk7XG5cbiAgICBjb25zdCBlbGVtZW50Q291bnQgPSB2ZXJ0ZXhJbmRpY2VzID8gdmVydGV4SW5kaWNlcy5sZW5ndGggOiB2ZXJ0ZXhQb3NpdGlvbnMubGVuZ3RoIC8gMztcblxuICAgIHJldHVybiB7XG4gICAgICB2ZXJ0ZXhQb3NpdGlvbnM6IHZlcnRleFBvc2l0aW9ucyxcbiAgICAgIHZlcnRleE5vcm1hbHM6IHZlcnRleE5vcm1hbHMsXG4gICAgICB0ZXh0dXJlQ29vcmRpbmF0ZXM6IHRleHR1cmVDb29yZGluYXRlcyxcbiAgICAgIHZlcnRleEluZGljZXM6IHZlcnRleEluZGljZXMsXG4gICAgICBlbGVtZW50Q291bnQ6IGVsZW1lbnRDb3VudFxuICAgIH07XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7SWNvc3BoZXJlUmVuZGVyYWJsZVNoYXBlUGFyYW1zfSBwYXJhbXNcbiAgICogQHJldHVybnMge3N0cmluZ31cbiAgICovXG4gIGdldENhY2hlSWQocGFyYW1zKSB7XG4gICAgcmV0dXJuIGAke2dldENhY2hlS2V5KHBhcmFtcyl9OiR7cGFyYW1zLmRpdmlzaW9uc0NvdW50fWA7XG4gIH1cbn07XG5cbmV4cG9ydCB7aWNvc3BoZXJlUmVuZGVyYWJsZVNoYXBlRmFjdG9yeX07XG5cbi8qKlxuICogQHR5cGVkZWYge1NwaGVyaWNhbFJlbmRlcmFibGVTaGFwZVBhcmFtc30gSWNvc3BoZXJlUmVuZGVyYWJsZVNoYXBlUGFyYW1zXG4gKiBAcHJvcGVydHkge3N0cmluZ30gYmFzZVNoYXBlSWQgVGhlIElEIG9mIHRoZSBiYXNlIHJlbmRlcmFibGUgc2hhcGUgdGhhdCB3aWxsIGJlIHN1Yi1kaXZpZGVkIHRvXG4gKiBjcmVhdGUgdGhpcyBpY29zcGhlcmUgc2hhcGUuXG4gKi9cbiIsImltcG9ydCB7XG4gIGNhbGN1bGF0ZUxhdExvbmdUZXh0dXJlQ29vcmRpbmF0ZXMsXG4gIGNhbGN1bGF0ZU9ydGhvZ29uYWxWZXJ0ZXhOb3JtYWxzLFxuICBjYWxjdWxhdGVTcGhlcmljYWxTZWN0aW9uLFxuICBkZWR1cFZlcnRleEFycmF5V2l0aFBvc2l0aW9uc0FuZEluZGljZXNBcnJheXMsXG4gIFRXT19QSSxcbn0gZnJvbSAnLi4vLi4vLi4vdXRpbCc7XG5pbXBvcnQge2dldENhY2hlS2V5fSBmcm9tICcuLi9yZW5kZXJhYmxlLXNoYXBlLXN0b3JlJztcblxuLyoqXG4gKiBUaGlzIG1vZHVsZSBkZWZpbmVzIGEgY29uZmlndXJhdGlvbiBmYWN0b3J5IGZvciBhIHNwaGVyaWNhbCBzaGFwZSB3aG9zZSB2ZXJ0aWNlcyBsaWUgYWxvbmdcbiAqIGxhdGl0dWRlIGFuZCBsb25naXR1ZGUgbGluZXMuXG4gKlxuICogVGhpcyBzaGFwZSBhbHNvIGlzIGtub3duIGFzIGEgXCJVViBzcGhlcmVcIi5cbiAqXG4gKiBUaGUgc2hhcGUgaXMgY2VudGVyZWQgYXJvdW5kIHRoZSBvcmlnaW4gd2l0aCB0aGUgcG9sZXMgYWxpZ25lZCB3aXRoIHRoZSB6LWF4aXMuXG4gKi9cblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gZGl2aXNpb25zQ291bnRcbiAqIEByZXR1cm5zIHtBcnJheS48TnVtYmVyPn1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIF9jYWxjdWxhdGVMYXRMb25nU3BoZXJlUG9zaXRpb25zKGRpdmlzaW9uc0NvdW50KSB7XG4gIGNvbnN0IGRlbHRhUGl0Y2ggPSBNYXRoLlBJIC8gZGl2aXNpb25zQ291bnQ7XG4gIGNvbnN0IGRlbHRhQXppbXV0aCA9IFRXT19QSSAvIGRpdmlzaW9uc0NvdW50O1xuXG4gIHJldHVybiBjYWxjdWxhdGVTcGhlcmljYWxTZWN0aW9uKFxuICAgICAgMCwgZGl2aXNpb25zQ291bnQsIGRlbHRhUGl0Y2gsXG4gICAgICAwLCBkaXZpc2lvbnNDb3VudCwgZGVsdGFBemltdXRoKTtcbn1cblxuY29uc3QgbGF0TG9uZ1NwaGVyZVJlbmRlcmFibGVTaGFwZUZhY3RvcnkgPSB7XG4gIHNoYXBlSWQ6ICdMQVRfTE9OR19TUEhFUkUnLFxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1NwaGVyaWNhbFJlbmRlcmFibGVTaGFwZVBhcmFtc30gcGFyYW1zXG4gICAqIEByZXR1cm5zIHtSZW5kZXJhYmxlU2hhcGV9XG4gICAqL1xuICBnZXRSZW5kZXJhYmxlU2hhcGU6IHBhcmFtcyA9PiB7XG4gICAgLy8gQ2FsY3VsYXRlIHRoZSBwb3NpdGlvbnMuXG4gICAgY29uc3QgaW5kaXZpZHVhbFZlcnRleFBvc2l0aW9ucyA9IF9jYWxjdWxhdGVMYXRMb25nU3BoZXJlUG9zaXRpb25zKHBhcmFtcy5kaXZpc2lvbnNDb3VudCk7XG5cbiAgICAvLyBDYWxjdWxhdGUgdGhlIGluZGljZXMgYW5kIG5vcm1hbHMuXG4gICAgbGV0IHZlcnRleFBvc2l0aW9ucztcbiAgICBsZXQgdmVydGV4SW5kaWNlcztcbiAgICBsZXQgdmVydGV4Tm9ybWFscztcbiAgICBpZiAoIXBhcmFtcy5pc1VzaW5nU3BoZXJpY2FsTm9ybWFscykge1xuICAgICAgLy8gSWYgd2UgdXNlIG9ydGhvZ29uYWwgbm9ybWFscywgdGhlbiB3ZSBjYW5ub3QgdXNlIHZlcnRleEluZGljZXMuXG4gICAgICB2ZXJ0ZXhQb3NpdGlvbnMgPSBpbmRpdmlkdWFsVmVydGV4UG9zaXRpb25zO1xuICAgICAgdmVydGV4SW5kaWNlcyA9IG51bGw7XG4gICAgICB2ZXJ0ZXhOb3JtYWxzID0gY2FsY3VsYXRlT3J0aG9nb25hbFZlcnRleE5vcm1hbHModmVydGV4UG9zaXRpb25zKTtcbiAgICB9IGVsc2Uge1xuICAgICAgKHt2ZXJ0ZXhQb3NpdGlvbnMsIHZlcnRleEluZGljZXN9ID0gZGVkdXBWZXJ0ZXhBcnJheVdpdGhQb3NpdGlvbnNBbmRJbmRpY2VzQXJyYXlzKFxuICAgICAgICAgIGluZGl2aWR1YWxWZXJ0ZXhQb3NpdGlvbnMpKTtcbiAgICAgIHZlcnRleE5vcm1hbHMgPSB2ZXJ0ZXhQb3NpdGlvbnM7XG4gICAgfVxuXG4gICAgY29uc3QgdGV4dHVyZUNvb3JkaW5hdGVzID0gY2FsY3VsYXRlTGF0TG9uZ1RleHR1cmVDb29yZGluYXRlcyh2ZXJ0ZXhQb3NpdGlvbnMpO1xuXG4gICAgY29uc3QgZWxlbWVudENvdW50ID0gdmVydGV4SW5kaWNlcyA/IHZlcnRleEluZGljZXMubGVuZ3RoIDogdmVydGV4UG9zaXRpb25zLmxlbmd0aCAvIDM7XG5cbiAgICByZXR1cm4ge1xuICAgICAgdmVydGV4UG9zaXRpb25zOiB2ZXJ0ZXhQb3NpdGlvbnMsXG4gICAgICB2ZXJ0ZXhOb3JtYWxzOiB2ZXJ0ZXhOb3JtYWxzLFxuICAgICAgdGV4dHVyZUNvb3JkaW5hdGVzOiB0ZXh0dXJlQ29vcmRpbmF0ZXMsXG4gICAgICB2ZXJ0ZXhJbmRpY2VzOiB2ZXJ0ZXhJbmRpY2VzLFxuICAgICAgZWxlbWVudENvdW50OiBlbGVtZW50Q291bnRcbiAgICB9O1xuICB9LFxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1NwaGVyaWNhbFJlbmRlcmFibGVTaGFwZVBhcmFtc30gcGFyYW1zXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAqL1xuICBnZXRDYWNoZUlkKHBhcmFtcykge1xuICAgIHJldHVybiBgJHtnZXRDYWNoZUtleShwYXJhbXMpfToke3BhcmFtcy5kaXZpc2lvbnNDb3VudH1gO1xuICB9XG59O1xuXG5leHBvcnQge2xhdExvbmdTcGhlcmVSZW5kZXJhYmxlU2hhcGVGYWN0b3J5fTtcbiIsImltcG9ydCB7Y2FsY3VsYXRlT3J0aG9nb25hbFZlcnRleE5vcm1hbHN9IGZyb20gJy4uLy4uLy4uL3V0aWwnO1xuaW1wb3J0IHtnZXRDYWNoZUtleX0gZnJvbSAnLi4vcmVuZGVyYWJsZS1zaGFwZS1zdG9yZSc7XG5cbi8qKlxuICogVGhpcyBtb2RlbCBkZWZpbmVzIGEgc2hhcGUgY29uZmlndXJhdGlvbiBmYWN0b3J5IGZvciBhIHJlZ3VsYXIgdGV0cmFoZWRyb24uXG4gKlxuICogVGhlIHNoYXBlIGlzIGNlbnRlcmVkIGFyb3VuZCB0aGUgb3JpZ2luLlxuICovXG5cbi8vIHx8KFZFUlRFWF9DT09SRElOQVRFLCBWRVJURVhfQ09PUkRJTkFURSwgVkVSVEVYX0NPT1JESU5BVEUpfHwgPSAxXG5jb25zdCBWRVJURVhfQ09PUkRJTkFURSA9IDAuNTc3MzUwMjU4ODI3MjA5NTtcblxuY29uc3QgdmVydGV4UG9zaXRpb25zID0gW1xuICAvLyBMZWZ0LXRvcC1uZWFyIGZhY2VcbiAgVkVSVEVYX0NPT1JESU5BVEUsICBWRVJURVhfQ09PUkRJTkFURSwgIFZFUlRFWF9DT09SRElOQVRFLFxuICAtVkVSVEVYX0NPT1JESU5BVEUsIC1WRVJURVhfQ09PUkRJTkFURSwgVkVSVEVYX0NPT1JESU5BVEUsXG4gIC1WRVJURVhfQ09PUkRJTkFURSwgVkVSVEVYX0NPT1JESU5BVEUsICAtVkVSVEVYX0NPT1JESU5BVEUsXG5cbiAgLy8gUmlnaHQtdG9wLWZhciBmYWNlXG4gIFZFUlRFWF9DT09SRElOQVRFLCAgVkVSVEVYX0NPT1JESU5BVEUsICBWRVJURVhfQ09PUkRJTkFURSxcbiAgLVZFUlRFWF9DT09SRElOQVRFLCBWRVJURVhfQ09PUkRJTkFURSwgIC1WRVJURVhfQ09PUkRJTkFURSxcbiAgVkVSVEVYX0NPT1JESU5BVEUsICAtVkVSVEVYX0NPT1JESU5BVEUsIC1WRVJURVhfQ09PUkRJTkFURSxcblxuICAvLyBSaWdodC1ib3R0b20tbmVhciBmYWNlXG4gIFZFUlRFWF9DT09SRElOQVRFLCAgVkVSVEVYX0NPT1JESU5BVEUsICBWRVJURVhfQ09PUkRJTkFURSxcbiAgVkVSVEVYX0NPT1JESU5BVEUsICAtVkVSVEVYX0NPT1JESU5BVEUsIC1WRVJURVhfQ09PUkRJTkFURSxcbiAgLVZFUlRFWF9DT09SRElOQVRFLCAtVkVSVEVYX0NPT1JESU5BVEUsIFZFUlRFWF9DT09SRElOQVRFLFxuXG4gIC8vIExlZnQtYm90dG9tLWZhciBmYWNlXG4gIC1WRVJURVhfQ09PUkRJTkFURSwgLVZFUlRFWF9DT09SRElOQVRFLCBWRVJURVhfQ09PUkRJTkFURSxcbiAgVkVSVEVYX0NPT1JESU5BVEUsIC1WRVJURVhfQ09PUkRJTkFURSwgLVZFUlRFWF9DT09SRElOQVRFLFxuICAtVkVSVEVYX0NPT1JESU5BVEUsIFZFUlRFWF9DT09SRElOQVRFLCAtVkVSVEVYX0NPT1JESU5BVEVcbl07XG5cbi8vIDEgLSBNYXRoLnNxcnQoMykgLyAyXG5jb25zdCBURVhUVVJFX0JBU0VfQ09PUkRJTkFURSA9IDAuMTMzOTc0NTk2MjE7XG5cbmNvbnN0IHRleHR1cmVDb29yZGluYXRlcyA9IFtcbiAgLy8gTGVmdC10b3AtbmVhciBmYWNlXG4gIDAsIFRFWFRVUkVfQkFTRV9DT09SRElOQVRFLFxuICAwLjUsIDEsXG4gIDEsIFRFWFRVUkVfQkFTRV9DT09SRElOQVRFLFxuXG4gIC8vIFJpZ2h0LXRvcC1mYXIgZmFjZVxuICAwLCBURVhUVVJFX0JBU0VfQ09PUkRJTkFURSxcbiAgMC41LCAxLFxuICAxLCBURVhUVVJFX0JBU0VfQ09PUkRJTkFURSxcblxuICAvLyBSaWdodC1ib3R0b20tbmVhciBmYWNlXG4gIDAsIFRFWFRVUkVfQkFTRV9DT09SRElOQVRFLFxuICAwLjUsIDEsXG4gIDEsIFRFWFRVUkVfQkFTRV9DT09SRElOQVRFLFxuXG4gIC8vIExlZnQtYm90dG9tLWZhciBmYWNlXG4gIDAsIFRFWFRVUkVfQkFTRV9DT09SRElOQVRFLFxuICAwLjUsIDEsXG4gIDEsIFRFWFRVUkVfQkFTRV9DT09SRElOQVRFXG5dO1xuXG5jb25zdCB0ZXRyYWhlZHJvblJlbmRlcmFibGVTaGFwZUZhY3RvcnkgPSB7XG4gIHNoYXBlSWQ6ICdURVRSQUhFRFJPTicsXG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7UmVuZGVyYWJsZVNoYXBlQ29uZmlnfSBwYXJhbXNcbiAgICogQHJldHVybnMge1JlbmRlcmFibGVTaGFwZX1cbiAgICovXG4gIGdldFJlbmRlcmFibGVTaGFwZTogcGFyYW1zID0+IHtcbiAgICBjb25zdCB2ZXJ0ZXhOb3JtYWxzID0gcGFyYW1zLmlzVXNpbmdTcGhlcmljYWxOb3JtYWxzXG4gICAgICAgID8gdmVydGV4UG9zaXRpb25zXG4gICAgICAgIDogY2FsY3VsYXRlT3J0aG9nb25hbFZlcnRleE5vcm1hbHModmVydGV4UG9zaXRpb25zKTtcblxuICAgIHJldHVybiB7XG4gICAgICB2ZXJ0ZXhQb3NpdGlvbnM6IHZlcnRleFBvc2l0aW9ucyxcbiAgICAgIHZlcnRleE5vcm1hbHM6IHZlcnRleE5vcm1hbHMsXG4gICAgICB0ZXh0dXJlQ29vcmRpbmF0ZXM6IHRleHR1cmVDb29yZGluYXRlcyxcbiAgICAgIHZlcnRleEluZGljZXM6IG51bGwsXG4gICAgICBlbGVtZW50Q291bnQ6IHZlcnRleFBvc2l0aW9ucy5sZW5ndGggLyAzXG4gICAgfTtcbiAgfSxcblxuICAvKipcbiAgICogQHBhcmFtIHtSZW5kZXJhYmxlU2hhcGVDb25maWd9IHBhcmFtc1xuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgKi9cbiAgZ2V0Q2FjaGVJZChwYXJhbXMpIHtcbiAgICByZXR1cm4gZ2V0Q2FjaGVLZXkocGFyYW1zKTtcbiAgfVxufTtcblxuZXhwb3J0IHt0ZXRyYWhlZHJvblJlbmRlcmFibGVTaGFwZUZhY3Rvcnl9O1xuIiwiaW1wb3J0IHtcbiAgYW5pbWF0b3IsXG4gIFBlcnNpc3RlbnRBbmltYXRpb25Kb2Jcbn1cbmZyb20gJ2xzbC1hbmltYXRleCc7XG5pbXBvcnQgeyBQaHlzaWNzRW5naW5lIH0gZnJvbSAnbHNsLXBoeXN4JztcbmltcG9ydCB7XG4gIFByb2dyYW1XcmFwcGVyLFxuICBwcm9ncmFtV3JhcHBlclN0b3JlLFxuICB0ZXh0dXJlU3RvcmVcbn1cbmZyb20gJy4uL3Byb2dyYW0td3JhcHBlcic7XG5pbXBvcnQge1xuICBiaW5kRnJhbWVidWZmZXIsXG4gIGJpbmRHTENvbnRleHRUb1ZpZXdwb3J0RGltZW5zaW9ucyxcbiAgZ2V0V2ViR0xDb250ZXh0LFxuICBnZXRWaWV3cG9ydEhlaWdodCxcbiAgZ2V0Vmlld3BvcnRXaWR0aCxcbn1cbmZyb20gJy4uL3V0aWwnO1xuXG4vKipcbiAqIFRoaXMgdG9wLWxldmVsIENvbnRyb2xsZXIgY2xhc3MgaW5pdGlhbGl6ZXMgYW5kIHJ1bnMgdGhlIHJlc3Qgb2YgdGhlIGFwcC5cbiAqL1xuY2xhc3MgR3JhZnhDb250cm9sbGVyIGV4dGVuZHMgUGVyc2lzdGVudEFuaW1hdGlvbkpvYiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG5cbiAgICB0aGlzLl9jYW52YXMgPSBudWxsO1xuICAgIHRoaXMuX2dsID0gbnVsbDtcbiAgICB0aGlzLl9zY2VuZSA9IG51bGw7XG4gICAgdGhpcy5fY3VycmVudFByb2dyYW1XcmFwcGVyID0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyB0aGUgYXBwLiBBZnRlciB0aGlzIGNvbXBsZXRlcyBzdWNjZXNzZnVsbHksIGNhbGwgcnVuIHRvIGFjdHVhbGx5IHN0YXJ0IHRoZSBhcHAuXG4gICAqXG4gICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IGNhbnZhc1xuICAgKiBAcGFyYW0ge0FycmF5LjxQcm9ncmFtV3JhcHBlckNvbmZpZz59IHByb2dyYW1Db25maWdzIENvbmZpZ3VyYXRpb25zIGZvciBwcm9ncmFtIHdyYXBwZXJzIHRoYXRcbiAgICogc2hvdWxkIGJlIHByZS1jYWNoZWQgYmVmb3JlIHN0YXJ0aW5nIHRoZSByZXN0IG9mIHRoZSBhcHAuXG4gICAqIEBwYXJhbSB7QXJyYXkuPFN0cmluZz59IHRleHR1cmVQYXRocyBUZXh0dXJlIGltYWdlcyB0aGF0IHNob3VsZCBiZSBwcmUtY2FjaGVkIGJlZm9yZVxuICAgKiBzdGFydGluZyB0aGUgcmVzdCBvZiB0aGUgYXBwLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9uLjxTY2VuZT59IHNjZW5lRmFjdG9yeVxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAgICovXG4gIGluaXRpYWxpemUoY2FudmFzLCBwcm9ncmFtQ29uZmlncywgdGV4dHVyZVBhdGhzLCBzY2VuZUZhY3RvcnkpIHtcbiAgICB0aGlzLl9jYW52YXMgPSBjYW52YXM7XG5cbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKClcbiAgICAgIC50aGVuKCgpID0+IHRoaXMuX3NldFVwV2ViR0xDb250ZXh0KCkpXG4gICAgICAudGhlbigoKSA9PiBQcm9taXNlLmFsbChbXG4gICAgICAgIHRoaXMuX3ByZUNhY2hlUHJvZ3JhbXMocHJvZ3JhbUNvbmZpZ3MpLFxuICAgICAgICB0aGlzLl9wcmVDYWNoZVRleHR1cmVzKHRleHR1cmVQYXRocylcbiAgICAgIF0pKVxuICAgICAgLnRoZW4oKCkgPT4gdGhpcy5fc2V0VXBTY2VuZShzY2VuZUZhY3RvcnkpKTtcbiAgfVxuXG4gIGRlc3Ryb3koKSB7fVxuXG4gIHJlc2V0KCkge1xuICAgIC8vIEZJWE1FOiBXaWxsIGl0IGJlIGVhc2llciB0byByZXBsYWNlIHRoaXMgd2l0aCBpbml0aWFsaXplP1xuICAgIHRoaXMuX3NjZW5lLnJlc2V0KCk7XG4gIH1cblxuICAvKipcbiAgICogUnVucyB0aGUgYXBwLiBUaGlzIHNob3VsZCBiZSBjYWxsZWQgYWZ0ZXIgaW5pdGlhbGl6ZS5cbiAgICpcbiAgICogQSBmZXcgdGhpbmdzIGhhcHBlbiBpZiB0aGlzIGlzIHJ1biBpbiBkZXYgbW9kZTpcbiAgICogLSBUaGUgZHJhdyBhbmQgdXBkYXRlIHN0ZXBzIG9mIGVhY2ggZnJhbWUgYXJlIHdyYXBwZWQgaW4gYSB0cnkvY2F0Y2ggYmxvY2suXG4gICAqIC0gVGhpcyBtZXRob2QgcmV0dXJucyBhIFByb21pc2UgdGhhdCByZWplY3RzIGlmIGFuIGVycm9yIGlzIHRocm93IGR1cmluZyBhbnkgdXBkYXRlIG9yIGRyYXdcbiAgICogICBzdGVwIGFuZCByZXNvbHZlcyB3aGVuIHRoaXMgY29udHJvbGxlciBoYXMgZmluaXNoZWQgKGN1cnJlbnRseSBuZXZlcilcbiAgICovXG4gIHJ1bigpIHtcbiAgICB0aGlzLl9zdGFydEFuaW1hdG9yKCk7XG4gIH1cblxuICBfc3RhcnRBbmltYXRvcigpIHsgLy8gRklYTUU6IERlY291cGxlIHBoeXN4XG4gICAgYW5pbWF0b3Iuc3RhcnRKb2IoUGh5c2ljc0VuZ2luZS5pbnN0YW5jZSk7XG4gICAgYW5pbWF0b3Iuc3RhcnRKb2IodGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgc2NlbmUuXG4gICAqXG4gICAqIFRoaXMgdXBkYXRlcyBhbGwgb2YgdGhlIGN1cnJlbnQgcGFyYW1ldGVycyBmb3IgZWFjaCBjb21wb25lbnQgaW4gdGhlIHNjZW5lIGZvciB0aGUgY3VycmVudFxuICAgKiBmcmFtZS4gSG93ZXZlciwgdGhpcyBkb2VzIG5vdCByZW5kZXIgYW55dGhpbmcuIFJlbmRlcmluZyBpcyBkb25lIGJ5IGEgZm9sbG93aW5nIGNhbGwgdG8gdGhlXG4gICAqIGRyYXcgZnVuY3Rpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gY3VycmVudFRpbWVcbiAgICogQHBhcmFtIHtET01IaWdoUmVzVGltZVN0YW1wfSBkZWx0YVRpbWVcbiAgICovXG4gIHVwZGF0ZShjdXJyZW50VGltZSwgZGVsdGFUaW1lKSB7XG4gICAgdGhpcy5fc2NlbmUudXBkYXRlU2VsZkFuZENoaWxkcmVuKGN1cnJlbnRUaW1lLCBkZWx0YVRpbWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIERyYXdzIHRoZSBzY2VuZS5cbiAgICpcbiAgICogVGhpcyByZW5kZXJzIHRoZSBjdXJyZW50IGZyYW1lIGZvciBhbGwgY29tcG9uZW50cyBpbiB0aGUgc2NlbmUuIFRoaXMgYXNzdW1lcyB0aGF0IGFsbCByZWxldmFudFxuICAgKiBwYXJhbWV0ZXIgdXBkYXRlcyBmb3IgdGhpcyBmcmFtZSBoYXZlIGFscmVhZHkgYmVlbiBjb21wdXRlZCBieSBhIHByZXZpb3VzIGNhbGwgdG8gX3VwZGF0ZVNjZW5lLlxuICAgKi9cbiAgZHJhdygpIHtcbiAgICAvLyBDbGVhciB0aGUgY2FudmFzIGJlZm9yZSB3ZSBzdGFydCBkcmF3aW5nIG9uIGl0LlxuICAgIHRoaXMuX2dsLmNsZWFyKHRoaXMuX2dsLkNPTE9SX0JVRkZFUl9CSVQgfCB0aGlzLl9nbC5ERVBUSF9CVUZGRVJfQklUKTtcblxuICAgIC8vIElmIHdlIGFyZSB1c2luZyBhIHBvc3QtcHJvY2Vzc2luZyBwcm9ncmFtLCB0aGVuIHdlIG5lZWQgdG8gcmVuZGVyIG1vZGVscyB0byBhIGZyYW1lYnVmZmVyXG4gICAgLy8gcmF0aGVyIHRoYW4gZGlyZWN0bHkgdG8gdGhlIGNhbnZhcy5cbiAgICBpZiAocHJvZ3JhbVdyYXBwZXJTdG9yZS5pc1VzaW5nUG9zdFByb2Nlc3NpbmdQcm9ncmFtcykge1xuICAgICAgYmluZEZyYW1lYnVmZmVyKHRoaXMuX2dsLCBwcm9ncmFtV3JhcHBlclN0b3JlLm1vZGVsc0ZyYW1lYnVmZmVyKTtcbiAgICAgIHRoaXMuX2dsLmNsZWFyKHRoaXMuX2dsLkNPTE9SX0JVRkZFUl9CSVQgfCB0aGlzLl9nbC5ERVBUSF9CVUZGRVJfQklUKTtcbiAgICB9XG5cbiAgICAvLyBEcmF3IGVhY2ggcHJvZ3JhbSBzZXBhcmF0ZWx5LiBUaGlzIG1pbmltaXplcyBob3cgbWFueSB0aW1lcyB3ZSBuZWVkIHRvIHN3aXRjaCBwcm9ncmFtcyBieVxuICAgIC8vIGdyb3VwaW5nIGFsbCBvZiB0aGUgZHJhdyBjYWxscyBmb3IgbW9kZWxzIHRoYXQgdXNlIHRoZSBzYW1lIHByb2dyYW0vc2hhZGVycy5cbiAgICBwcm9ncmFtV3JhcHBlclN0b3JlLmZvckVhY2hNb2RlbFByb2dyYW0oKHByb2dyYW1XcmFwcGVyLCBkcmF3RnJhbWVIYW5kbGVycykgPT5cbiAgICAgIHRoaXMuX2RyYXdNb2RlbFByb2dyYW0ocHJvZ3JhbVdyYXBwZXIsIGRyYXdGcmFtZUhhbmRsZXJzKSk7XG4gICAgcHJvZ3JhbVdyYXBwZXJTdG9yZS5mb3JFYWNoUG9zdFByb2Nlc3NpbmdQcm9ncmFtKFxuICAgICAgKHByb2dyYW1XcmFwcGVyKSA9PiB0aGlzLl9kcmF3UG9zdFByb2Nlc3NpbmdQcm9ncmFtKHByb2dyYW1XcmFwcGVyKSk7XG4gIH1cblxuICAvKipcbiAgICogRm9yIHRoZSBnaXZlbiBwcm9ncmFtIGtleSwgdGhpcyBiaW5kcyB0aGUgcmVnaXN0ZXJlZCBzaGFkZXIgcHJvZ3JhbSB0byB0aGUgR0wgcmVuZGVyaW5nIGNvbnRleHRcbiAgICogYW5kIGNhbGxzIGVhY2ggb2YgdGhlIHJlZ2lzdGVyZWQgZHJhdy1mcmFtZSBoYW5kbGVycy5cbiAgICpcbiAgICogQHBhcmFtIHtQcm9ncmFtV3JhcHBlcnxHcm91cFByb2dyYW1XcmFwcGVyfSBwcm9ncmFtV3JhcHBlclxuICAgKiBAcGFyYW0ge1NldC48RnVuY3Rpb24+fSBbZHJhd0ZyYW1lSGFuZGxlcnNdXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZHJhd01vZGVsUHJvZ3JhbShwcm9ncmFtV3JhcHBlciwgZHJhd0ZyYW1lSGFuZGxlcnMpIHtcbiAgICAvLyBDaGVjayB3aGV0aGVyIHdlIG5lZWQgdG8gc3dpdGNoIHByb2dyYW1zIChhbHdheXMgdHJ1ZSBpZiB0aGVyZSBpcyBtb3JlIHRoYW4gb25lIHByb2dyYW1cbiAgICAvLyByZWdpc3RlcmVkKS5cbiAgICBpZiAodGhpcy5fY3VycmVudFByb2dyYW1XcmFwcGVyICE9PSBwcm9ncmFtV3JhcHBlcikge1xuICAgICAgcHJvZ3JhbVdyYXBwZXIuc2V0UHJvZ3JhbSh0aGlzLl9nbCk7XG4gICAgICB0aGlzLl9jdXJyZW50UHJvZ3JhbVdyYXBwZXIgPSBwcm9ncmFtV3JhcHBlcjtcbiAgICB9XG5cbiAgICAvLyBDYWxsIGVhY2ggb2YgdGhlIGRyYXctZnJhbWUgaGFuZGxlcnMgdGhhdCB1c2UgdGhlIGN1cnJlbnQgcmVuZGVyaW5nIHByb2dyYW0uXG4gICAgZHJhd0ZyYW1lSGFuZGxlcnMuZm9yRWFjaChkcmF3RnJhbWVIYW5kbGVyID0+IGRyYXdGcmFtZUhhbmRsZXIoKSk7XG4gIH1cblxuICAvKipcbiAgICogRm9yIHRoZSBnaXZlbiBwcm9ncmFtIGtleSwgdGhpcyBiaW5kcyB0aGUgcmVnaXN0ZXJlZCBzaGFkZXIgcHJvZ3JhbSB0byB0aGUgR0wgcmVuZGVyaW5nIGNvbnRleHRcbiAgICogYW5kIGNhbGxzIGVhY2ggb2YgdGhlIHJlZ2lzdGVyZWQgZHJhdy1mcmFtZSBoYW5kbGVycy5cbiAgICpcbiAgICogQHBhcmFtIHtQcm9ncmFtV3JhcHBlcnxHcm91cFByb2dyYW1XcmFwcGVyfSBwcm9ncmFtV3JhcHBlclxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2RyYXdQb3N0UHJvY2Vzc2luZ1Byb2dyYW0ocHJvZ3JhbVdyYXBwZXIpIHtcbiAgICB0aGlzLl9jdXJyZW50UHJvZ3JhbVdyYXBwZXIgPSBwcm9ncmFtV3JhcHBlcjtcbiAgICBwcm9ncmFtV3JhcHBlci5kcmF3KHRoaXMuX2dsKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyB0aGUgV2ViR0wgcmVuZGVyaW5nIGNvbnRleHQuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfc2V0VXBXZWJHTENvbnRleHQoKSB7XG4gICAgLy8gR2V0IHRoZSBXZWJHTCByZW5kZXJpbmcgY29udGV4dC5cbiAgICB0cnkge1xuICAgICAgdGhpcy5fZ2wgPSBnZXRXZWJHTENvbnRleHQodGhpcy5fY2FudmFzKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgIGFsZXJ0KCdXZWJHTCBpcyBub3Qgc3VwcG9ydGVkIGJ5IHlvdXIgYnJvd3NlciEgOignKTtcbiAgICAgIHRocm93IGU7XG4gICAgfVxuXG4gICAgLy8gSGF2ZSB0aGUgY2FudmFzIGNvbnRleHQgbWF0Y2ggdGhlIHJlc29sdXRpb24gb2YgdGhlIHdpbmRvdydzIHZpZXdwb3J0LlxuICAgIGJpbmRHTENvbnRleHRUb1ZpZXdwb3J0RGltZW5zaW9ucyh0aGlzLl9jYW52YXMsIHRoaXMuX2dsLCAoKSA9PiB0aGlzLl91cGRhdGVBc3BlY3RSYXRpbygpKTtcblxuICAgIC8vIENsZWFyIGV2ZXJ5dGhpbmcgdG8gYmxhY2suXG4gICAgdGhpcy5fZ2wuY2xlYXJDb2xvcigwLCAwLCAwLCAxKTtcbiAgICB0aGlzLl9nbC5jbGVhckRlcHRoKDEpO1xuXG4gICAgLy8gRW5hYmxlIGRlcHRoIHRlc3RpbmcuXG4gICAgdGhpcy5fZ2wuZW5hYmxlKHRoaXMuX2dsLkRFUFRIX1RFU1QpO1xuICAgIHRoaXMuX2dsLmRlcHRoRnVuYyh0aGlzLl9nbC5MRVFVQUwpO1xuICB9XG5cbiAgLyoqXG4gICAqIExvYWRzLCBjb21waWxlcywgY2FjaGVzLCBhbmQgaW5pdGlhbGl6ZXMgc29tZSByZW5kZXJpbmcgcHJvZ3JhbXMuXG4gICAqXG4gICAqIEBwYXJhbSB7QXJyYXkuPFByb2dyYW1XcmFwcGVyQ29uZmlnPn0gcHJvZ3JhbUNvbmZpZ3NcbiAgICogQHJldHVybnMge1Byb21pc2V9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfcHJlQ2FjaGVQcm9ncmFtcyhwcm9ncmFtQ29uZmlncykge1xuICAgIGNvbnN0IHByb21pc2VzID1cbiAgICAgIHByb2dyYW1Db25maWdzLm1hcChjb25maWcgPT4gcHJvZ3JhbVdyYXBwZXJTdG9yZS5sb2FkUHJvZ3JhbVdyYXBwZXIodGhpcy5fZ2wsIGNvbmZpZykpO1xuICAgIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gIH1cblxuICAvKipcbiAgICogTG9hZHMsIGNvbXBpbGVzLCBhbmQgY2FjaGVzIHNvbWUgdGV4dHVyZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7QXJyYXkuPFN0cmluZz59IHRleHR1cmVQYXRoc1xuICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9wcmVDYWNoZVRleHR1cmVzKHRleHR1cmVQYXRocykge1xuICAgIHJldHVybiBQcm9taXNlLmFsbCh0ZXh0dXJlUGF0aHNcbiAgICAgIC5tYXAodGV4dHVyZVBhdGggPT4gdGV4dHVyZVN0b3JlLmxvYWRUZXh0dXJlKHRoaXMuX2dsLCB0ZXh0dXJlUGF0aCkpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyB0aGUgc2NlbmUuXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb24uPFNjZW5lPn0gc2NlbmVGYWN0b3J5XG4gICAqIEByZXR1cm5zIHtQcm9taXNlfVxuICAgKiBAYWJzdHJhY3RcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgX3NldFVwU2NlbmUoc2NlbmVGYWN0b3J5KSB7XG4gICAgLy8gRXh0ZW5kaW5nIGNsYXNzZXMgc2hvdWxkIGltcGxlbWVudCB0aGlzIG1ldGhvZC5cbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdNZXRob2Qgbm90IGltcGxlbWVudGVkJyk7XG4gIH1cblxuICAvKipcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgX3VwZGF0ZUFzcGVjdFJhdGlvKCkge1xuICAgIHRoaXMuX3NjZW5lLmNhbWVyYS5hc3BlY3RSYXRpbyA9IGdldFZpZXdwb3J0V2lkdGgoKSAvIGdldFZpZXdwb3J0SGVpZ2h0KCk7XG4gICAgX3Jlc2l6ZUZyYW1lYnVmZmVyc1RvTWF0Y2hWaWV3cG9ydFNpemUodGhpcy5fZ2wpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHttYXQ0fVxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBfZ2V0Vmlld01hdHJpeCgpIHtcbiAgICByZXR1cm4gdGhpcy5fc2NlbmUuY2FtZXJhLnZpZXdNYXRyaXg7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge21hdDR9XG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIF9nZXRQcm9qZWN0aW9uTWF0cml4KCkge1xuICAgIHJldHVybiB0aGlzLl9zY2VuZS5jYW1lcmEucHJvamVjdGlvbk1hdHJpeDtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbFxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX3Jlc2l6ZUZyYW1lYnVmZmVyc1RvTWF0Y2hWaWV3cG9ydFNpemUoZ2wpIHtcbiAgaWYgKHByb2dyYW1XcmFwcGVyU3RvcmUuaXNVc2luZ1Bvc3RQcm9jZXNzaW5nUHJvZ3JhbXMpIHtcbiAgICBjb25zdCB3aWR0aCA9IGdldFZpZXdwb3J0V2lkdGgoKTtcbiAgICBjb25zdCBoZWlnaHQgPSBnZXRWaWV3cG9ydEhlaWdodCgpO1xuXG4gICAgLy8gVXBkYXRlIHRoZSBwZXItbW9kZWwgZnJhbWVidWZmZXIgdGV4dHVyZS5cbiAgICBjb25zdCB0ZXh0dXJlID0gcHJvZ3JhbVdyYXBwZXJTdG9yZS5tb2RlbHNUZXh0dXJlO1xuICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRleHR1cmUpO1xuICAgIGdsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgZ2wuUkdCQSwgd2lkdGgsIGhlaWdodCwgMCwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgbnVsbCk7XG5cbiAgICAvLyBVcGRhdGUgdGhlIHBlci1tb2RlbCBmcmFtZWJ1ZmZlciBkZXB0aCByZW5kZXIgYnVmZmVyLlxuICAgIGNvbnN0IHJlbmRlckJ1ZmZlciA9IHByb2dyYW1XcmFwcGVyU3RvcmUubW9kZWxzUmVuZGVyQnVmZmVyO1xuICAgIGdsLmJpbmRSZW5kZXJidWZmZXIoZ2wuUkVOREVSQlVGRkVSLCByZW5kZXJCdWZmZXIpO1xuICAgIGdsLnJlbmRlcmJ1ZmZlclN0b3JhZ2UoZ2wuUkVOREVSQlVGRkVSLCBnbC5ERVBUSF9DT01QT05FTlQxNiwgd2lkdGgsIGhlaWdodCk7XG5cbiAgICAvLyBVcGRhdGUgdGhlIHBvc3QtcHJvY2Vzc2luZyBmcmFtZWJ1ZmZlciB0ZXh0dXJlcy5cbiAgICBwcm9ncmFtV3JhcHBlclN0b3JlLmZvckVhY2hQb3N0UHJvY2Vzc2luZ1Byb2dyYW0ocHJvZ3JhbVdyYXBwZXIgPT4ge1xuICAgICAgcHJvZ3JhbVdyYXBwZXIuY29uZmlnLmNoaWxkcmVuRnJhbWVidWZmZXJJZHMuZm9yRWFjaChpZCA9PiB7XG4gICAgICAgIGNvbnN0IHRleHR1cmUgPSBwcm9ncmFtV3JhcHBlclN0b3JlLmdldFRleHR1cmUoaWQpO1xuICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0ZXh0dXJlKTtcbiAgICAgICAgZ2wudGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCBnbC5SR0JBLCB3aWR0aCwgaGVpZ2h0LCAwLCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCBudWxsKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCB7IEdyYWZ4Q29udHJvbGxlciB9O1xuIiwiLyoqXG4gKiBUaGlzIGNsYXNzIGRlZmluZXMgYSBsaWdodCBzb3VyY2UuXG4gKi9cbmNsYXNzIExpZ2h0IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgLy8gVE9ET1xuICB9XG5cbiAgLy8gVE9ETzogSW1wbGVtZW50IHRoaXMuXG59XG5cbmV4cG9ydCB7TGlnaHR9O1xuIiwiaW1wb3J0IHsgTW9kZWxHcm91cENvbnRyb2xsZXIgfSBmcm9tICcuLi9tb2RlbHMnO1xuXG4vKipcbiAqIFRoaXMgY2xhc3MgaGFuZGxlcyB0aGUgb3ZlcmFsbCBzY2VuZS5cbiAqL1xuY2xhc3MgU2NlbmUgZXh0ZW5kcyBNb2RlbEdyb3VwQ29udHJvbGxlciB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge01vZGVsR3JvdXBDb250cm9sbGVyQ29uZmlnfSBtb2RlbENvbnRyb2xsZXJQYXJhbXNcbiAgICovXG4gIGNvbnN0cnVjdG9yKG1vZGVsQ29udHJvbGxlclBhcmFtcykge1xuICAgIHN1cGVyKG1vZGVsQ29udHJvbGxlclBhcmFtcyk7XG5cbiAgICAvLyBTY2VuZSBpcyBhbiBhYnN0cmFjdCBjbGFzcy4gSXQgc2hvdWxkIG5vdCBiZSBpbnN0YW50aWF0ZWQgZGlyZWN0bHkuXG4gICAgaWYgKG5ldy50YXJnZXQgPT09IFNjZW5lKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY29uc3RydWN0IFNjZW5lIGluc3RhbmNlcyBkaXJlY3RseScpO1xuICAgIH1cblxuICAgIHRoaXMuX2dldFdvcmxkVHJhbnNmb3JtID0gKCkgPT4gdGhpcy53b3JsZFRyYW5zZm9ybTtcbiAgICB0aGlzLl9saWdodHMgPSBbXTtcbiAgICB0aGlzLl9jYW1lcmEgPSBudWxsO1xuICB9XG5cbiAgcmVzZXQoKSB7XG4gICAgc3VwZXIucmVzZXQoKTtcbiAgICB0aGlzLl9saWdodHMuZm9yRWFjaChsaWdodCA9PiBsaWdodC5yZXNldCgpKTtcbiAgICB0aGlzLl9jYW1lcmEucmVzZXQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGN1cnJlbnRUaW1lXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gZGVsdGFUaW1lXG4gICAqL1xuICB1cGRhdGVDaGlsZHJlbihjdXJyZW50VGltZSwgZGVsdGFUaW1lKSB7XG4gICAgc3VwZXIudXBkYXRlQ2hpbGRyZW4oY3VycmVudFRpbWUsIGRlbHRhVGltZSk7XG4gICAgdGhpcy5fY2FtZXJhLnVwZGF0ZShjdXJyZW50VGltZSwgZGVsdGFUaW1lKTtcbiAgfVxuXG4gIC8qKiBAcmV0dXJucyB7Q2FtZXJhfSAqL1xuICBnZXQgY2FtZXJhKCkge1xuICAgIHJldHVybiB0aGlzLl9jYW1lcmE7XG4gIH1cbn1cblxuZXhwb3J0IHsgU2NlbmUgfTtcbiIsImV4cG9ydCAqIGZyb20gJy4vc3JjL2dlb21ldHJ5JztcbmV4cG9ydCAqIGZyb20gJy4vc3JjL2dsLXV0aWwnO1xuZXhwb3J0ICogZnJvbSAnLi9zcmMvaGFzaC1tYXAnO1xuZXhwb3J0ICogZnJvbSAnLi9zcmMvdXRpbCc7XG4iLCIvKipcbiAqIFRoaXMgbW9kdWxlIGRlZmluZXMgYSBjb2xsZWN0aW9uIG9mIHN0YXRpYyBnZW9tZXRyeSB1dGlsaXR5IGZ1bmN0aW9ucy5cbiAqL1xuXG5pbXBvcnQge3JhbmRvbUZsb2F0SW5SYW5nZX0gZnJvbSAnLi91dGlsJztcblxuY29uc3QgRVBTSUxPTiA9IDAuMDAwMDAwMTtcbmNvbnN0IERFR19UT19SQURfUkFUSU8gPSBNYXRoLlBJIC8gMTgwO1xuY29uc3QgUkFEX1RPX0RFR19SQVRJTyA9IDE4MCAvIE1hdGguUEk7XG5jb25zdCBIQUxGX1BJID0gTWF0aC5QSSAvIDI7XG5jb25zdCBUV09fUEkgPSBNYXRoLlBJICogMjtcblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gZGVnXG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5mdW5jdGlvbiBkZWdUb1JhZChkZWcpIHtcbiAgcmV0dXJuIGRlZyAqIERFR19UT19SQURfUkFUSU87XG59XG5cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IHJhZFxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZnVuY3Rpb24gcmFkVG9EZWcocmFkKSB7XG4gIHJldHVybiByYWQgKiBSQURfVE9fREVHX1JBVElPO1xufVxuXG4vKipcbiAqIFRoaXMgY2hlY2tzIHdoZXRoZXIgdHdvIGZsb2F0aW5nLXBvaW50IG51bWJlcnMgYXJlIGNsb3NlIGVub3VnaCB0aGF0IHRoZXkgY291bGQgYmUgZXF1YWwgaWYgbm90XG4gKiBmb3Igcm91bmQtb2ZmIGVycm9ycy5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gYVxuICogQHBhcmFtIHtudW1iZXJ9IGJcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBhcmVDbG9zZShhLCBiKSB7XG4gIGNvbnN0IGRpZmYgPSBhIC0gYjtcbiAgcmV0dXJuIChkaWZmID4gMCA/IGRpZmYgOiAtZGlmZikgPCBFUFNJTE9OO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7dmVjM30gYVxuICogQHBhcmFtIHt2ZWMzfSBiXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gYXJlVmVjM3NFcXVhbChhLCBiKSB7XG4gIHJldHVybiBhWzBdID09PSBiWzBdICYmXG4gICAgICBhWzFdID09PSBiWzFdICYmXG4gICAgICBhWzJdID09PSBiWzJdO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7dmVjM30gdlxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gdmVjM1RvU3RyaW5nKHYpIHtcbiAgcmV0dXJuIGAoJHt2WzBdfSwke3ZbMV19LCR7dlsyXX0pYDtcbn1cblxuLyoqXG4gKiBUT0RPOiBUaGlzIGZpbmRzIGEgcmFuZG9tIHBvaW50IHdpdGggdW5pZm9ybSBwcm9iYWJpbGl0eSB3aXRoaW4gYSBjdWJpYyBhcmVhLCB3aGljaCBiaWFzZXMgdGhlIHJlc3VsdGluZyB2ZWN0b3IgdG93YXJkIHRoZSBjb3JuZXJzIG9mIHRoaXMgY3ViaWMgYXJlYS4gUmUtd3JpdGUgdGhpcyB0byBwcm9kdWNlIGFuIHVuYmlhc2VkIHZlY3Rvci5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gW3NjYWxlPTFdXG4gKiBAcmV0dXJucyB7dmVjM31cbiAqL1xuZnVuY3Rpb24gY3JlYXRlUmFuZG9tVmVjMyhzY2FsZSA9IDEpIHtcbiAgY29uc3QgdiA9IHZlYzMuY3JlYXRlKCk7XG4gIHJldHVybiBzZXRSYW5kb21WZWMzKHYsIHNjYWxlKTtcbn1cblxuLyoqXG4gKiBUT0RPOiBUaGlzIGZpbmRzIGEgcmFuZG9tIHBvaW50IHdpdGggdW5pZm9ybSBwcm9iYWJpbGl0eSB3aXRoaW4gYSBjdWJpYyBhcmVhLCB3aGljaCBiaWFzZXMgdGhlIHJlc3VsdGluZyB2ZWN0b3IgdG93YXJkIHRoZSBjb3JuZXJzIG9mIHRoaXMgY3ViaWMgYXJlYS4gUmUtd3JpdGUgdGhpcyB0byBwcm9kdWNlIGFuIHVuYmlhc2VkIHZlY3Rvci5cbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IHZcbiAqIEBwYXJhbSB7bnVtYmVyfSBbc2NhbGU9MV1cbiAqIEByZXR1cm5zIHt2ZWMzfVxuICovXG5mdW5jdGlvbiBzZXRSYW5kb21WZWMzKHYsIHNjYWxlID0gMSkge1xuICB2ZWMzLnNldCh2LCBNYXRoLnJhbmRvbSgpIC0gMC41LCBNYXRoLnJhbmRvbSgpIC0gMC41LCBNYXRoLnJhbmRvbSgpIC0gMC41KTtcbiAgdmVjMy5ub3JtYWxpemUodiwgdik7XG4gIHZlYzMuc2NhbGUodiwgdiwgc2NhbGUpO1xuICByZXR1cm4gdjtcbn1cblxuLyoqXG4gKiBDYWxjdWxhdGVzIGEgdmVjdG9yIHRoYXQgaXMgb3J0aG9nb25hbCB0byB0aGUgZ2l2ZW4gdmVjdG9yLlxuICpcbiAqIFRPRE86IFRoaXMgZmluZHMgYSByYW5kb20gcG9pbnQgd2l0aCB1bmlmb3JtIHByb2JhYmlsaXR5IHdpdGhpbiBhIGN1YmljIGFyZWEsIHdoaWNoIGJpYXNlcyB0aGUgcmVzdWx0aW5nIHZlY3RvciB0b3dhcmQgdGhlIGNvcm5lcnMgb2YgdGhpcyBjdWJpYyBhcmVhLiBSZS13cml0ZSB0aGlzIHRvIHByb2R1Y2UgYW4gdW5iaWFzZWQgdmVjdG9yLlxuICpcbiAqIEBwYXJhbSB7dmVjM30gYmFzaXNcbiAqIEBwYXJhbSB7bnVtYmVyfSBbc2NhbGU9MV1cbiAqIEByZXR1cm5zIHt2ZWMzfVxuICovXG5mdW5jdGlvbiBjcmVhdGVSYW5kb21PcnRob2dvbmFsVmVjMyhiYXNpcywgc2NhbGUgPSAxKSB7XG4gIGNvbnN0IHJlc3VsdCA9IHZlYzMuY3JlYXRlKCk7XG4gIHJldHVybiBzZXRSYW5kb21PcnRob2dvbmFsVmVjMyhyZXN1bHQsIGJhc2lzLCBzY2FsZSk7XG59XG5cbi8qKlxuICogQ2FsY3VsYXRlcyBhIHZlY3RvciB0aGF0IGlzIG9ydGhvZ29uYWwgdG8gdGhlIGdpdmVuIHZlY3Rvci5cbiAqXG4gKiBUT0RPOiBUaGlzIGZpbmRzIGEgcmFuZG9tIHBvaW50IHdpdGggdW5pZm9ybSBwcm9iYWJpbGl0eSB3aXRoaW4gYSBjdWJpYyBhcmVhLCB3aGljaCBiaWFzZXMgdGhlIHJlc3VsdGluZyB2ZWN0b3IgdG93YXJkIHRoZSBjb3JuZXJzIG9mIHRoaXMgY3ViaWMgYXJlYS4gUmUtd3JpdGUgdGhpcyB0byBwcm9kdWNlIGFuIHVuYmlhc2VkIHZlY3Rvci5cbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IHJlc3VsdFxuICogQHBhcmFtIHt2ZWMzfSBiYXNpc1xuICogQHBhcmFtIHtudW1iZXJ9IFtzY2FsZT0xXVxuICogQHJldHVybnMge3ZlYzN9XG4gKi9cbmZ1bmN0aW9uIHNldFJhbmRvbU9ydGhvZ29uYWxWZWMzKHJlc3VsdCwgYmFzaXMsIHNjYWxlID0gMSkge1xuICBzZXRSYW5kb21WZWMzKHJlc3VsdCk7XG4gIC8vIFRoaXMgaXMgYmFzZWQgb24gdGhlIGRvdCBhbmQgY3Jvc3MgcHJvZHVjdHMgYW5kIHRoZSBmYWN0IHRoYXQgdGhlIGRvdCBwcm9kdWN0IGZvciB0d29cbiAgLy8gb3J0aG9nb25hbCB2ZWN0b3JzIGlzIHplcm8uXG4gIHJlc3VsdFsyXSA9IC0oYmFzaXNbMF0gKiByZXN1bHRbMF0gKyBiYXNpc1sxXSAqIHJlc3VsdFsxXSkgLyBiYXNpc1syXTtcbiAgdmVjMy5ub3JtYWxpemUocmVzdWx0LCByZXN1bHQpO1xuICB2ZWMzLnNjYWxlKHJlc3VsdCwgcmVzdWx0LCBzY2FsZSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQHBhcmFtIHt2ZWMzfSBhdmdcbiAqIEBwYXJhbSB7dmVjM30gcmFuZ2VcbiAqIEByZXR1cm5zIHt2ZWMzfVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gcmFuZG9tVmVjM0luUmFuZ2UoYXZnLCByYW5nZSkge1xuICBjb25zdCBwb3NpdGlvbiA9IHZlYzMuY3JlYXRlKCk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSsrKSB7XG4gICAgY29uc3QgbWluID0gYXZnW2ldIC0gcmFuZ2VbaV0gLyAyO1xuICAgIGNvbnN0IG1heCA9IGF2Z1tpXSArIHJhbmdlW2ldIC8gMjtcbiAgICBwb3NpdGlvbltpXSA9IHJhbmRvbUZsb2F0SW5SYW5nZShtaW4sIG1heCk7XG4gIH1cbiAgcmV0dXJuIHBvc2l0aW9uO1xufVxuXG4vKipcbiAqIFJvdGF0ZXMgdGhlIGdpdmVuIHZlY3RvciBhcm91bmQgYSByYW5kb20gb3J0aG9nb25hbCBheGlzIGJ5IGEgcmFuZG9tIGFuZ2xlIHdpdGhpbiB0aGUgZ2l2ZW4gYW5nbGVcbiAqIGJvdW5kcy5cbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IHZcbiAqIEBwYXJhbSB7bnVtYmVyfSBtaW5Sb3RhdGlvbkFuZ2xlXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4Um90YXRpb25BbmdsZVxuICovXG5mdW5jdGlvbiBhZGRSYW5kb21Sb3RhdGlvblRvVmVjdG9yKHYsIG1pblJvdGF0aW9uQW5nbGUsIG1heFJvdGF0aW9uQW5nbGUpIHtcbiAgLy8gQ3JlYXRlIGEgcmFuZG9tIG9ydGhvZ29uYWwgYXhpcy5cbiAgY29uc3Qgcm90YXRpb25BeGlzID0gY3JlYXRlUmFuZG9tVmVjMygpO1xuICB2ZWMzLmNyb3NzKHJvdGF0aW9uQXhpcywgcm90YXRpb25BeGlzLCB2KTtcbiAgdmVjMy5ub3JtYWxpemUocm90YXRpb25BeGlzLCByb3RhdGlvbkF4aXMpO1xuXG4gIC8vIENyZWF0ZSBhIHJhbmRvbSBhbmdsZS5cbiAgY29uc3Qgcm90YXRpb25BbmdsZSA9IHJhbmRvbUZsb2F0SW5SYW5nZShtaW5Sb3RhdGlvbkFuZ2xlLCBtYXhSb3RhdGlvbkFuZ2xlKTtcblxuICAvLyBDcmVhdGUgYSByb3RhdGlvbiBxdWF0ZXJuaW9uLlxuICBjb25zdCByb3RhdGlvbiA9IHF1YXQuY3JlYXRlKCk7XG4gIHF1YXQuc2V0QXhpc0FuZ2xlKHJvdGF0aW9uLCByb3RhdGlvbkF4aXMsIHJvdGF0aW9uQW5nbGUpO1xuXG4gIC8vIEFwcGx5IHRoZSByb3RhdGlvbiB0byB0aGUgdmVjdG9yLlxuICB2ZWMzLnRyYW5zZm9ybVF1YXQodiwgdiwgcm90YXRpb24pO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7cXVhdH0gb3V0XG4gKiBAcGFyYW0ge3F1YXR9IGFcbiAqIEBwYXJhbSB7cXVhdH0gYlxuICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlXG4gKiBAcmV0dXJucyB7cXVhdH1cbiAqL1xuZnVuY3Rpb24gc2NhbGVBbmRBZGRRdWF0KG91dCwgYSwgYiwgc2NhbGUpIHtcbiAgcmV0dXJuIHF1YXQuc2V0KG91dCxcbiAgICAgIGFbMF0gKyBiWzBdICogc2NhbGUsXG4gICAgICBhWzFdICsgYlsxXSAqIHNjYWxlLFxuICAgICAgYVsyXSArIGJbMl0gKiBzY2FsZSxcbiAgICAgIGFbM10gKyBiWzNdICogc2NhbGUpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7dmVjM30gdlxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZnVuY3Rpb24gZ2V0TWF4VmVjM0RpbWVuc2lvbih2KSB7XG4gIGxldCBtYXggPSB2WzBdID4gdlsxXSA/IHZbMF0gOiB2WzFdO1xuICBtYXggPSBtYXggPiB2WzJdID8gbWF4IDogdlsyXTtcbiAgcmV0dXJuIG1heDtcbn1cblxuZXhwb3J0IHtcbiAgRVBTSUxPTixcbiAgSEFMRl9QSSxcbiAgVFdPX1BJLFxuICBkZWdUb1JhZCxcbiAgcmFkVG9EZWcsXG4gIGFyZUNsb3NlLFxuICBhcmVWZWMzc0VxdWFsLFxuICB2ZWMzVG9TdHJpbmcsXG4gIGNyZWF0ZVJhbmRvbVZlYzMsXG4gIHNldFJhbmRvbVZlYzMsXG4gIGNyZWF0ZVJhbmRvbU9ydGhvZ29uYWxWZWMzLFxuICBzZXRSYW5kb21PcnRob2dvbmFsVmVjMyxcbiAgcmFuZG9tVmVjM0luUmFuZ2UsXG4gIGFkZFJhbmRvbVJvdGF0aW9uVG9WZWN0b3IsXG4gIHNjYWxlQW5kQWRkUXVhdCxcbiAgZ2V0TWF4VmVjM0RpbWVuc2lvbixcbn07XG4iLCIvKipcbiAqIFRoaXMgbW9kdWxlIGRlZmluZXMgYSBjb2xsZWN0aW9uIG9mIHN0YXRpYyBnZW5lcmFsIHV0aWxpdHkgZnVuY3Rpb25zIGZvciBXZWJHTC5cbiAqL1xuXG5pbXBvcnQge0hhc2hNYXB9IGZyb20gJy4vaGFzaC1tYXAnO1xuaW1wb3J0IHtIQUxGX1BJLCBUV09fUEl9IGZyb20gJy4vZ2VvbWV0cnknO1xuaW1wb3J0IHtkZWJvdW5jZSwgaXNJbkRldk1vZGUsIGxvYWRUZXh0fSBmcm9tICcuL3V0aWwnO1xuaW1wb3J0IHtwcm9ncmFtV3JhcHBlclN0b3JlfSBmcm9tICcuLi8uLi9wcm9ncmFtLXdyYXBwZXIvc3JjL3Byb2dyYW0td3JhcHBlci1zdG9yZSc7XG5cbmxldCB2aWV3cG9ydFdpZHRoID0gMTA7XG5sZXQgdmlld3BvcnRIZWlnaHQgPSAxMDtcblxuLyoqXG4gKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBjYW52YXNcbiAqIEByZXR1cm5zIHs/V2ViR0xSZW5kZXJpbmdDb250ZXh0fVxuICogQHRocm93cyBJZiB1bmFibGUgdG8gZ2V0IGEgV2ViR0wgY29udGV4dC5cbiAqL1xuZnVuY3Rpb24gZ2V0V2ViR0xDb250ZXh0KGNhbnZhcykge1xuICBjb25zdCBwYXJhbXMgPSB7YWxwaGE6IGZhbHNlfTtcbiAgLy8gVHJ5IHRvIGdyYWIgdGhlIHN0YW5kYXJkIGNvbnRleHQuIElmIGl0IGZhaWxzLCBmYWxsYmFjayB0byB0aGUgZXhwZXJpbWVudGFsIGNvbnRleHQuXG4gIHJldHVybiBjYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wnLCBwYXJhbXMpIHx8IGNhbnZhcy5nZXRDb250ZXh0KCdleHBlcmltZW50YWwtd2ViZ2wnLCBwYXJhbXMpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbFxuICogQHJldHVybnMgez9XZWJHTEJ1ZmZlcn1cbiAqIEB0aHJvd3MgSWYgdW5hYmxlIHRvIGNyZWF0ZSBhIGJ1ZmZlciBvYmplY3QuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUJ1ZmZlcihnbCkge1xuICBjb25zdCBidWZmZXIgPSBnbC5jcmVhdGVCdWZmZXIoKTtcbiAgaWYgKCFidWZmZXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0FuIGVycm9yIG9jY3VycmVkIGNyZWF0aW5nIHRoZSBidWZmZXIgb2JqZWN0Jyk7XG4gIH1cbiAgcmV0dXJuIGJ1ZmZlcjtcbn1cbi8vIFRPRE86IHVzZSBhbGwgdGhpcyBoZWxwZXIgc3R1ZmYgaW4gdGhlIHByb2dyYW1XcmFwcGVyIGxvZ2ljP1xuLyoqXG4gKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2xcbiAqIEBwYXJhbSB7V2ViR0xQcm9ncmFtfSBwcm9ncmFtXG4gKiBAcGFyYW0ge3N0cmluZ30gbG9jYXRpb25OYW1lXG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICogQHRocm93cyBJZiB1bmFibGUgdG8gZ2V0IGFuIGF0dHJpYnV0ZSBsb2NhdGlvbiBmb3IgdGhlIGdpdmVuIG5hbWUuXG4gKi9cbmZ1bmN0aW9uIGdldEF0dHJpYkxvY2F0aW9uKGdsLCBwcm9ncmFtLCBsb2NhdGlvbk5hbWUpIHtcbiAgY29uc3QgYXR0cmliTG9jYXRpb24gPSBnbC5nZXRBdHRyaWJMb2NhdGlvbihwcm9ncmFtLCBsb2NhdGlvbk5hbWUpO1xuICBpZiAoYXR0cmliTG9jYXRpb24gPCAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBBbiBlcnJvciBvY2N1cnJlZCBnZXR0aW5nIHRoZSBhdHRyaWJ1dGUgbG9jYXRpb246ICR7bG9jYXRpb25OYW1lfWApO1xuICB9XG4gIHJldHVybiBhdHRyaWJMb2NhdGlvbjtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2xcbiAqIEBwYXJhbSB7V2ViR0xTaGFkZXJ9IHZlcnRleFNoYWRlclxuICogQHBhcmFtIHtXZWJHTFNoYWRlcn0gZnJhZ21lbnRTaGFkZXJcbiAqIEByZXR1cm5zIHtXZWJHTFByb2dyYW19XG4gKiBAdGhyb3dzIElmIHVuYWJsZSB0byBsaW5rIHRoZSBwcm9ncmFtLlxuICovXG5mdW5jdGlvbiBidWlsZFByb2dyYW0oZ2wsIHZlcnRleFNoYWRlciwgZnJhZ21lbnRTaGFkZXIpIHtcbiAgY29uc3QgcHJvZ3JhbSA9IGdsLmNyZWF0ZVByb2dyYW0oKTtcbiAgZ2wuYXR0YWNoU2hhZGVyKHByb2dyYW0sIHZlcnRleFNoYWRlcik7XG4gIGdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCBmcmFnbWVudFNoYWRlcik7XG4gIGdsLmxpbmtQcm9ncmFtKHByb2dyYW0pO1xuXG4gIGlmICghZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcihwcm9ncmFtLCBnbC5MSU5LX1NUQVRVUykpIHtcbiAgICBjb25zdCBpbmZvTG9nID0gZ2wuZ2V0UHJvZ3JhbUluZm9Mb2cocHJvZ3JhbSk7XG4gICAgY29uc29sZS5lcnJvcignQW4gZXJyb3Igb2NjdXJyZWQgbGlua2luZyB0aGUgc2hhZGVyIHByb2dyYW0nLCBpbmZvTG9nKTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0FuIGVycm9yIG9jY3VycmVkIGxpbmtpbmcgdGhlIHNoYWRlciBwcm9ncmFtJyk7XG4gIH1cblxuICByZXR1cm4gcHJvZ3JhbTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2xcbiAqIEBwYXJhbSB7c3RyaW5nfSBzaGFkZXJTb3VyY2VcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNGcmFnbWVudFNoYWRlclxuICogQHJldHVybnMge1dlYkdMU2hhZGVyfVxuICogQHRocm93cyBJZiB1bmFibGUgdG8gY29tcGlsZSB0aGUgc2hhZGVyLlxuICovXG5mdW5jdGlvbiBidWlsZFNoYWRlcihnbCwgc2hhZGVyU291cmNlLCBpc0ZyYWdtZW50U2hhZGVyKSB7XG4gIGNvbnN0IHNoYWRlclR5cGUgPSBpc0ZyYWdtZW50U2hhZGVyID8gZ2wuRlJBR01FTlRfU0hBREVSIDogZ2wuVkVSVEVYX1NIQURFUjtcbiAgY29uc3Qgc2hhZGVyID0gZ2wuY3JlYXRlU2hhZGVyKHNoYWRlclR5cGUpO1xuICBnbC5zaGFkZXJTb3VyY2Uoc2hhZGVyLCBzaGFkZXJTb3VyY2UpO1xuICBnbC5jb21waWxlU2hhZGVyKHNoYWRlcik7XG5cbiAgaWYgKCFnbC5nZXRTaGFkZXJQYXJhbWV0ZXIoc2hhZGVyLCBnbC5DT01QSUxFX1NUQVRVUykpIHtcbiAgICBjb25zdCBpbmZvTG9nID0gZ2wuZ2V0U2hhZGVySW5mb0xvZyhzaGFkZXIpO1xuICAgIGNvbnNvbGUuZXJyb3IoJ0FuIGVycm9yIG9jY3VycmVkIGNvbXBpbGluZyB0aGUgc2hhZGVyJywgaW5mb0xvZyk7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdBbiBlcnJvciBvY2N1cnJlZCBjb21waWxpbmcgdGhlIHNoYWRlcicpO1xuICB9XG5cbiAgcmV0dXJuIHNoYWRlcjtcbn1cblxuLyoqXG4gKiBMb2FkcyBhIHNoYWRlciBwcm9ncmFtIGJ5IHNjb3VyaW5nIHRoZSBjdXJyZW50IGRvY3VtZW50LCBsb29raW5nIGZvciBhIHNjcmlwdCB3aXRoIHRoZSBzcGVjaWZpZWRcbiAqIElELlxuICpcbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbFxuICogQHBhcmFtIHtzdHJpbmd9IHVybFxuICogQHJldHVybnMge1Byb21pc2UuPFdlYkdMU2hhZGVyLCBFcnJvcj59XG4gKi9cbmZ1bmN0aW9uIGxvYWRTaGFkZXIoZ2wsIHVybCkge1xuICByZXR1cm4gbG9hZFRleHQodXJsKVxuICAgICAgLnRoZW4oc2hhZGVyU291cmNlID0+IGJ1aWxkU2hhZGVyKGdsLCBzaGFkZXJTb3VyY2UsIHVybC5lbmRzV2l0aCgnLmZyYWcnKSkpO1xufVxuXG4vKipcbiAqIExvYWRzIHRoZSBzaGFkZXIgc291cmNlIGNvZGUgZnJvbSB0aGUgZ2l2ZW4gVVJMcywgY29tcGlsZXMgdGhlIHNoYWRlciBzb3VyY2UgY29kZSwgYW5kIGNyZWF0ZXNcbiAqIGEgcHJvZ3JhbSBmcm9tIHRoZSByZXN1bHRpbmcgc2hhZGVycy5cbiAqXG4gKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2xcbiAqIEBwYXJhbSB7c3RyaW5nfSB2ZXJ0ZXhTaGFkZXJVcmxcbiAqIEBwYXJhbSB7c3RyaW5nfSBmcmFnbWVudFNoYWRlclVybFxuICogQHJldHVybnMge1Byb21pc2UuPFdlYkdMUHJvZ3JhbSwgRXJyb3I+fVxuICogQHRocm93cyBJZiBhbnkgZXJyb3Igb2NjdXJzIHdoaWxlIGxvYWRpbmcgYW5kIGJ1aWxkaW5nIHRoZSBzaGFkZXJzIGFuZCBwcm9ncmFtLlxuICovXG5mdW5jdGlvbiBsb2FkUHJvZ3JhbShnbCwgdmVydGV4U2hhZGVyVXJsLCBmcmFnbWVudFNoYWRlclVybCkge1xuICByZXR1cm4gUHJvbWlzZS5hbGwoW1xuICAgICAgICB2ZXJ0ZXhTaGFkZXJVcmwsXG4gICAgICAgIGZyYWdtZW50U2hhZGVyVXJsXG4gICAgICBdLm1hcCh1cmwgPT4gbG9hZFNoYWRlcihnbCwgdXJsKSkpXG4gICAgICAudGhlbihzaGFkZXJzID0+IHtcbiAgICAgICAgY29uc3QgdmVydGV4U2hhZGVyID0gc2hhZGVyc1swXTtcbiAgICAgICAgY29uc3QgZnJhZ21lbnRTaGFkZXIgPSBzaGFkZXJzWzFdO1xuXG4gICAgICAgIHJldHVybiBidWlsZFByb2dyYW0oZ2wsIHZlcnRleFNoYWRlciwgZnJhZ21lbnRTaGFkZXIpO1xuICAgICAgfSk7XG59XG5cbi8qKlxuICogQ3JlYXRlLCBiaW5kLCBhbmQgbW92ZSB0aGUgZ2l2ZW4gcmF3IGRhdGEgaW50byBhIFdlYkdMIGJ1ZmZlci5cbiAqXG4gKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2xcbiAqIEBwYXJhbSB7QXJyYXkuPE51bWJlcj59IHJhd0RhdGEgQSBwbGFpbiwgZmxhdCBhcnJheSBjb250YWluaW5nIHRoZSBkYXRhIHRvIGJpbmQgdG8gYSBidWZmZXIuXG4gKiBAcGFyYW0ge251bWJlcn0gW3RhcmdldD1nbC5BUlJBWV9CVUZGRVJdIEFuIGVudW0gZGVzY3JpYmluZyB0aGUgdHlwZSBvZiB0aGlzIGJ1ZmZlcjsgb25lIG9mOlxuICogICAtIGdsLkFSUkFZX0JVRkZFUixcbiAqICAgLSBnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbdXNhZ2U9Z2wuU1RBVElDX0RSQVddIEFuIGVudW0gZGVzY3JpYmluZyBob3cgdGhpcyBidWZmZXIgaXMgZ29pbmcgdG8gYmUgdXNlZDtcbiAqIG9uZSBvZjpcbiAqICAgLSBnbC5TVEFUSUNfRFJBVyxcbiAqICAgLSBnbC5EWU5BTUlDX0RSQVcsXG4gKiAgIC0gZ2wuU1RSRUFNX0RSQVcuXG4gKiBAcmV0dXJucyB7V2ViR0xCdWZmZXJ9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUJ1ZmZlckZyb21EYXRhKGdsLCByYXdEYXRhLCB0YXJnZXQsIHVzYWdlKSB7XG4gIHRhcmdldCA9IHRhcmdldCB8fCBnbC5BUlJBWV9CVUZGRVI7XG4gIHVzYWdlID0gdXNhZ2UgfHwgZ2wuU1RBVElDX0RSQVc7XG4gIGNvbnN0IHR5cGVkQXJyYXkgPSB0YXJnZXQgPT09IGdsLkFSUkFZX0JVRkZFUiA/IG5ldyBGbG9hdDMyQXJyYXkocmF3RGF0YSkgOiBuZXcgVWludDE2QXJyYXkocmF3RGF0YSk7XG5cbiAgY29uc3QgYnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCk7XG4gIGdsLmJpbmRCdWZmZXIodGFyZ2V0LCBidWZmZXIpO1xuICBnbC5idWZmZXJEYXRhKHRhcmdldCwgdHlwZWRBcnJheSwgdXNhZ2UpO1xuXG4gIC8vIE1ha2luZyB0aGUgb3JpZ2luYWwgZGF0YSB2aXNpYmxlIG9uIHRoZSBidWZmZXIgb2JqZWN0IGlzIGhlbHBmdWwgZm9yIGRlYnVnZ2luZy5cbiAgaWYgKGlzSW5EZXZNb2RlKSB7XG4gICAgYnVmZmVyLnJhd0RhdGEgPSB0eXBlZEFycmF5O1xuICB9XG5cbiAgcmV0dXJuIGJ1ZmZlcjtcbn1cblxuLyoqXG4gKiBBZGp1c3RzIHRoZSBkaW1lbnNpb25zIG9mIHRoZSBnaXZlbiBlbGVtZW50IHRvIG1hdGNoIHRob3NlIG9mIHRoZSB2aWV3cG9ydC4gQWxzbywgd2hlbiB0aGVcbiAqIHZpZXdwb3J0IGlzIHJlc2l6ZWQsIHRoZSBnaXZlbiBlbGVtZW50IHdpbGwgYWxzbyBiZSByZXNpemVkIHRvIG1hdGNoLlxuICpcbiAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IGNhbnZhc1xuICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkdMUmVzaXplZFxuICogQHBhcmFtIHs/TnVtYmVyfSBbdXBkYXRlSW50ZXJ2YWw9MTUwXVxuICovXG5mdW5jdGlvbiBiaW5kR0xDb250ZXh0VG9WaWV3cG9ydERpbWVuc2lvbnMoY2FudmFzLCBnbCwgb25HTFJlc2l6ZWQsIHVwZGF0ZUludGVydmFsID0gMTUwKSB7XG4gIF9yZXNpemVHTENvbnRleHRUb01hdGNoVmlld3BvcnREaW1lbnNpb25zKGNhbnZhcywgZ2wpO1xuICBjb25zdCBkZWJvdW5jZWRSZXNpemUgPVxuICAgICAgZGVib3VuY2UoXyA9PiB7XG4gICAgICAgIF9yZXNpemVHTENvbnRleHRUb01hdGNoVmlld3BvcnREaW1lbnNpb25zKGNhbnZhcywgZ2wpO1xuICAgICAgICBvbkdMUmVzaXplZCgpO1xuICAgICAgfSwgdXBkYXRlSW50ZXJ2YWwpO1xuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgZGVib3VuY2VkUmVzaXplKTtcbn1cblxuLyoqXG4gKiBSZXNpemVzIHRoZSBnaXZlbiBlbGVtZW50IHRvIG1hdGNoIHRoZSBkaW1lbnNpb25zIG9mIHRoZSB2aWV3cG9ydCBjb21wb25lbnRzLlxuICpcbiAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IGNhbnZhc1xuICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfcmVzaXplR0xDb250ZXh0VG9NYXRjaFZpZXdwb3J0RGltZW5zaW9ucyhjYW52YXMsIGdsKSB7XG4gIC8vIEFjY291bnQgZm9yIGhpZ2gtZGVmaW5pdGlvbiBEUEkgZGlzcGxheXMuXG4gIGNvbnN0IGRldmljZVBpeGVsVG9Dc3NQaXhlbFJhdGlvID0gd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMTtcbiAgdmlld3BvcnRXaWR0aCA9IE1hdGguZmxvb3IoY2FudmFzLmNsaWVudFdpZHRoICogZGV2aWNlUGl4ZWxUb0Nzc1BpeGVsUmF0aW8pO1xuICB2aWV3cG9ydEhlaWdodCA9IE1hdGguZmxvb3IoY2FudmFzLmNsaWVudEhlaWdodCAqIGRldmljZVBpeGVsVG9Dc3NQaXhlbFJhdGlvKTtcbiAgY2FudmFzLndpZHRoID0gdmlld3BvcnRXaWR0aDtcbiAgY2FudmFzLmhlaWdodCA9IHZpZXdwb3J0SGVpZ2h0O1xuICBnbC52aWV3cG9ydCgwLCAwLCB2aWV3cG9ydFdpZHRoLCB2aWV3cG9ydEhlaWdodCk7XG59XG5cbi8qKlxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZnVuY3Rpb24gZ2V0Vmlld3BvcnRXaWR0aCgpIHtcbiAgcmV0dXJuIHZpZXdwb3J0V2lkdGg7XG59XG5cbi8qKlxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZnVuY3Rpb24gZ2V0Vmlld3BvcnRIZWlnaHQoKSB7XG4gIHJldHVybiB2aWV3cG9ydEhlaWdodDtcbn1cblxuLyoqXG4gKiBCaW5kcyBhIGZyYW1lYnVmZmVyIHRvIHRoZSBHTCBjb250ZXh0LlxuICpcbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbFxuICogQHBhcmFtIHtXZWJHTEZyYW1lYnVmZmVyfSBmcmFtZWJ1ZmZlclxuICovXG5mdW5jdGlvbiBiaW5kRnJhbWVidWZmZXIoZ2wsIGZyYW1lYnVmZmVyLCB3aWR0aCwgaGVpZ2h0KSB7XG4gIC8vIEZJWE1FOiBSZW1vdmUgb3IgYWRkIGJhY2sgaW4/XG4gIC8vIHdpZHRoID0gd2lkdGggfHwgZ2V0Vmlld3BvcnRXaWR0aCgpO1xuICAvLyBoZWlnaHQgPSBoZWlnaHQgfHwgZ2V0Vmlld3BvcnRIZWlnaHQoKTtcblxuICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIGZyYW1lYnVmZmVyKTtcbiAgLy8gRklYTUU6IFJlbW92ZSBvciBhZGQgYmFjayBpbj9cbiAgLy8gZ2wudmlld3BvcnQoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIGZyYW1lYnVmZmVyIGFuZCBhdHRhY2hlcyBhIHRleHR1cmUgdG8gdGhlIGZyYW1lYnVmZmVyLlxuICpcbiAqIFRoaXMgbWVhbnMgdGhhdCB3aGVuIHdlIGJpbmQgdG8gdGhlIGZyYW1lYnVmZmVyLCBkcmF3IGNhbGxzIHdpbGwgcmVuZGVyIHRvIHRoZSBnaXZlbiB0ZXh0dXJlLlxuICpcbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbFxuICogQHBhcmFtIHtXZWJHTFRleHR1cmV9IHRleHR1cmVcbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJCdWZmZXJ9IFtyZW5kZXJCdWZmZXJdXG4gKiBAcmV0dXJucyB7V2ViR0xGcmFtZWJ1ZmZlcn1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlRnJhbWVidWZmZXIoZ2wsIHRleHR1cmUsIHJlbmRlckJ1ZmZlcikge1xuICBjb25zdCBmcmFtZWJ1ZmZlciA9IGdsLmNyZWF0ZUZyYW1lYnVmZmVyKCk7XG5cbiAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBmcmFtZWJ1ZmZlcik7XG4gIGdsLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGdsLkZSQU1FQlVGRkVSLCBnbC5DT0xPUl9BVFRBQ0hNRU5UMCwgZ2wuVEVYVFVSRV8yRCwgdGV4dHVyZSwgMCk7XG5cbiAgaWYgKHJlbmRlckJ1ZmZlcikge1xuICAgIGdsLmZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBnbC5ERVBUSF9BVFRBQ0hNRU5ULCBnbC5SRU5ERVJCVUZGRVIsIHJlbmRlckJ1ZmZlcik7XG4gIH1cblxuICByZXR1cm4gZnJhbWVidWZmZXI7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIHRleHR1cmUgZm9yIHJlbmRlcmluZyB0by5cbiAqXG4gKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2xcbiAqIEBwYXJhbSB7bnVtYmVyfSBbd2lkdGhdIERlZmF1bHRzIHRvIHRoZSB2aWV3cG9ydCB3aWR0aCBzdG9yZWQgaW4gZ2wtdXRpbC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbaGVpZ2h0XSBEZWZhdWx0cyB0byB0aGUgdmlld3BvcnQgaGVpZ2h0IHN0b3JlZCBpbiBnbC11dGlsLlxuICogQHJldHVybnMge1dlYkdMVGV4dHVyZX1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlVGV4dHVyZUZvclJlbmRlcmluZyhnbCwgd2lkdGgsIGhlaWdodCkge1xuICB3aWR0aCA9IHdpZHRoIHx8IGdldFZpZXdwb3J0V2lkdGgoKTtcbiAgaGVpZ2h0ID0gaGVpZ2h0IHx8IGdldFZpZXdwb3J0SGVpZ2h0KCk7XG5cbiAgLy8gVE9ETzogRG91YmxlLWNoZWNrIHRoZXNlIHBhcmFtc1xuICBjb25zdCB0ZXh0dXJlID0gZ2wuY3JlYXRlVGV4dHVyZSgpO1xuICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0ZXh0dXJlKTtcbiAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX1dSQVBfUywgZ2wuQ0xBTVBfVE9fRURHRSk7XG4gIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9XUkFQX1QsIGdsLkNMQU1QX1RPX0VER0UpO1xuICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUlOX0ZJTFRFUiwgZ2wuTkVBUkVTVCk7XG4gIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NQUdfRklMVEVSLCBnbC5ORUFSRVNUKTtcbiAgZ2wudGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCBnbC5SR0JBLCB3aWR0aCwgaGVpZ2h0LCAwLCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCBudWxsKTtcblxuICByZXR1cm4gdGV4dHVyZTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgcmVuZGVyIGJ1ZmZlci5cbiAqXG4gKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2xcbiAqIEBwYXJhbSB7bnVtYmVyfSBbd2lkdGhdIERlZmF1bHRzIHRvIHRoZSB2aWV3cG9ydCB3aWR0aCBzdG9yZWQgaW4gZ2wtdXRpbC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbaGVpZ2h0XSBEZWZhdWx0cyB0byB0aGUgdmlld3BvcnQgaGVpZ2h0IHN0b3JlZCBpbiBnbC11dGlsLlxuICogQHJldHVybnMge1dlYkdMUmVuZGVyQnVmZmVyfVxuICovXG5mdW5jdGlvbiBjcmVhdGVSZW5kZXJCdWZmZXIoZ2wsIHdpZHRoLCBoZWlnaHQpIHtcbiAgd2lkdGggPSB3aWR0aCB8fCBnZXRWaWV3cG9ydFdpZHRoKCk7XG4gIGhlaWdodCA9IGhlaWdodCB8fCBnZXRWaWV3cG9ydEhlaWdodCgpO1xuXG4gIGNvbnN0IHJlbmRlckJ1ZmZlciA9IGdsLmNyZWF0ZVJlbmRlcmJ1ZmZlcigpO1xuICBnbC5iaW5kUmVuZGVyYnVmZmVyKGdsLlJFTkRFUkJVRkZFUiwgcmVuZGVyQnVmZmVyKTtcbiAgZ2wucmVuZGVyYnVmZmVyU3RvcmFnZShnbC5SRU5ERVJCVUZGRVIsIGdsLkRFUFRIX0NPTVBPTkVOVDE2LCB3aWR0aCwgaGVpZ2h0KTtcblxuICByZXR1cm4gcmVuZGVyQnVmZmVyO1xufVxuXG5jb25zdCBfU1FVQVJFX0NPT1JESU5BVEVTXzJEID0gW1xuICAwLCAwLFxuICAxLCAwLFxuICAwLCAxLFxuXG4gIDEsIDAsXG4gIDEsIDEsXG4gIDAsIDEsXG5dO1xuXG4vKipcbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbFxuICogQHJldHVybnMge0F0dHJpYnV0ZUNvbmZpZ31cbiAqL1xuZnVuY3Rpb24gY3JlYXRlMkRTcXVhcmVQb3NpdGlvbnNDb25maWcoZ2wpIHtcbiAgY29uc3QgcG9zaXRpb25zQnVmZmVyID0gY3JlYXRlQnVmZmVyRnJvbURhdGEoZ2wsIF9TUVVBUkVfQ09PUkRJTkFURVNfMkQpO1xuICByZXR1cm4ge1xuICAgIGJ1ZmZlcjogcG9zaXRpb25zQnVmZmVyLFxuICAgIHNpemU6IDIsXG4gICAgdHlwZTogZ2wuRkxPQVQsXG4gICAgbm9ybWFsaXplZDogZmFsc2UsXG4gICAgc3RyaWRlOiAwLFxuICAgIG9mZnNldDogMFxuICB9O1xufVxuXG4vL1xuLy8gR2VvbWV0cmljYWwgY2FsY3VsYXRpb25zLlxuLy9cblxuLyoqXG4gKiBHaXZlbiBhbiBhcnJheSBvZiBpbmRpdmlkdWFsIHZlcnRleCBwb3NpdGlvbnMgYW5kIGFuIGFycmF5IG9mIHZlcnRleCBpbmRpY2VzLCBjcmVhdGVzIGFuIGV4cGFuZGVkXG4gKiBhcnJheSBvZiB0aGUgcG9zaXRpb25zIGdyb3VwZWQgYnkgdGhlIHRyaWFuZ2xlcyB0aGV5IGZvcm0uXG4gKlxuICogQHBhcmFtIHtBcnJheS48TnVtYmVyPn0gaW5kaXZpZHVhbFZlcnRleFBvc2l0aW9uc1xuICogQHBhcmFtIHtBcnJheS48TnVtYmVyPn0gdmVydGV4SW5kaWNlc1xuICogQHJldHVybnMge0FycmF5LjxOdW1iZXI+fVxuICovXG5mdW5jdGlvbiBleHBhbmRWZXJ0ZXhJbmRpY2VzVG9EdXBsaWNhdGVQb3NpdGlvbnMoaW5kaXZpZHVhbFZlcnRleFBvc2l0aW9ucywgdmVydGV4SW5kaWNlcykge1xuICBjb25zdCBleHBhbmRlZFZlcnRleFBvc2l0aW9ucyA9IFtdO1xuXG4gIGZvciAobGV0IGkgPSAwLCBqID0gMCwgayA9IDAsIGNvdW50ID0gdmVydGV4SW5kaWNlcy5sZW5ndGg7IGkgPCBjb3VudDsgaSsrLCBrICs9IDMpIHtcbiAgICBqID0gdmVydGV4SW5kaWNlc1tpXSAqIDM7XG5cbiAgICBleHBhbmRlZFZlcnRleFBvc2l0aW9uc1trXSA9IGluZGl2aWR1YWxWZXJ0ZXhQb3NpdGlvbnNbal07XG4gICAgZXhwYW5kZWRWZXJ0ZXhQb3NpdGlvbnNbayArIDFdID0gaW5kaXZpZHVhbFZlcnRleFBvc2l0aW9uc1tqICsgMV07XG4gICAgZXhwYW5kZWRWZXJ0ZXhQb3NpdGlvbnNbayArIDJdID0gaW5kaXZpZHVhbFZlcnRleFBvc2l0aW9uc1tqICsgMl07XG4gIH1cblxuICByZXR1cm4gZXhwYW5kZWRWZXJ0ZXhQb3NpdGlvbnM7XG59XG5cbi8qKlxuICogQ29tcHV0ZXMgbm9ybWFsIHZlY3RvcnMgdGhhdCBhcmUgZWFjaCBvcnRob2dvbmFsIHRvIHRoZSB0cmlhbmdsZXMgdGhleSBhcmUgYSBwYXJ0IG9mLlxuICpcbiAqIFRoZSBnaXZlbiB2ZXJ0aWNlcyBzaG91bGQgcmVwcmVzZW50IGluZGl2aWR1YWwgdHJpYW5nbGVzIHdob3NlIHZlcnRpY2VzIGFyZSBkZWZpbmVkIGluIGNsb2Nrd2lzZVxuICogb3JkZXIgKGFzIHNlZW4gd2hlbiBsb29raW5nIGF0IHRoZSBleHRlcmlvciBzaWRlKS5cbiAqXG4gKiBAcGFyYW0ge0FycmF5LjxOdW1iZXI+fSB2ZXJ0aWNlc1xuICogQHJldHVybnMge0FycmF5LjxOdW1iZXI+fVxuICovXG5mdW5jdGlvbiBjYWxjdWxhdGVPcnRob2dvbmFsVmVydGV4Tm9ybWFscyh2ZXJ0aWNlcykge1xuICBjb25zdCB2ZXJ0ZXgxID0gdmVjMy5jcmVhdGUoKTtcbiAgY29uc3QgdmVydGV4MiA9IHZlYzMuY3JlYXRlKCk7XG4gIGNvbnN0IHZlcnRleDMgPSB2ZWMzLmNyZWF0ZSgpO1xuICBjb25zdCB2ZWN0b3JBID0gdmVjMy5jcmVhdGUoKTtcbiAgY29uc3QgdmVjdG9yQiA9IHZlYzMuY3JlYXRlKCk7XG4gIGNvbnN0IG5vcm1hbDEgPSB2ZWMzLmNyZWF0ZSgpO1xuICBjb25zdCBub3JtYWwyID0gdmVjMy5jcmVhdGUoKTtcbiAgY29uc3Qgbm9ybWFsMyA9IHZlYzMuY3JlYXRlKCk7XG5cbiAgY29uc3Qgbm9ybWFscyA9IFtdO1xuXG4gIC8vIExvb3Agb3ZlciBlYWNoIHRyaWFuZ2xlIGluIHRoZSBmbGF0dGVuZWQgdmVydGV4IGFycmF5LlxuICBmb3IgKGxldCBpID0gMCwgY291bnQgPSB2ZXJ0aWNlcy5sZW5ndGg7IGkgPCBjb3VudDsgaSArPSA5KSB7XG4gICAgLy8gR2V0IHRoZSB2ZXJ0aWNlcyBvZiB0aGUgY3VycmVudCB0cmlhbmdsZSBmcm9tIHRoZSBmbGF0dGVuZWQgYXJyYXkuXG4gICAgdmVjMy5zZXQodmVydGV4MSwgdmVydGljZXNbaSArIDBdLCB2ZXJ0aWNlc1tpICsgMV0sIHZlcnRpY2VzW2kgKyAyXSk7XG4gICAgdmVjMy5zZXQodmVydGV4MiwgdmVydGljZXNbaSArIDNdLCB2ZXJ0aWNlc1tpICsgNF0sIHZlcnRpY2VzW2kgKyA1XSk7XG4gICAgdmVjMy5zZXQodmVydGV4MywgdmVydGljZXNbaSArIDZdLCB2ZXJ0aWNlc1tpICsgN10sIHZlcnRpY2VzW2kgKyA4XSk7XG5cbiAgICAvLyBDb21wdXRlIHRoZSBub3JtYWxzLlxuICAgIHZlYzMuc3VidHJhY3QodmVjdG9yQSwgdmVydGV4MywgdmVydGV4MSk7XG4gICAgdmVjMy5zdWJ0cmFjdCh2ZWN0b3JCLCB2ZXJ0ZXgyLCB2ZXJ0ZXgxKTtcbiAgICB2ZWMzLmNyb3NzKG5vcm1hbDEsIHZlY3RvckEsIHZlY3RvckIpO1xuICAgIHZlYzMubm9ybWFsaXplKG5vcm1hbDEsIG5vcm1hbDEpO1xuXG4gICAgdmVjMy5zdWJ0cmFjdCh2ZWN0b3JBLCB2ZXJ0ZXgxLCB2ZXJ0ZXgyKTtcbiAgICB2ZWMzLnN1YnRyYWN0KHZlY3RvckIsIHZlcnRleDMsIHZlcnRleDIpO1xuICAgIHZlYzMuY3Jvc3Mobm9ybWFsMiwgdmVjdG9yQSwgdmVjdG9yQik7XG4gICAgdmVjMy5ub3JtYWxpemUobm9ybWFsMiwgbm9ybWFsMik7XG5cbiAgICB2ZWMzLnN1YnRyYWN0KHZlY3RvckEsIHZlcnRleDIsIHZlcnRleDMpO1xuICAgIHZlYzMuc3VidHJhY3QodmVjdG9yQiwgdmVydGV4MSwgdmVydGV4Myk7XG4gICAgdmVjMy5jcm9zcyhub3JtYWwzLCB2ZWN0b3JBLCB2ZWN0b3JCKTtcbiAgICB2ZWMzLm5vcm1hbGl6ZShub3JtYWwzLCBub3JtYWwzKTtcblxuICAgIC8vIFNhdmUgdGhlIG5vcm1hbCB2ZWN0b3JzIGluIGEgZmxhdHRlbmVkIGFycmF5LlxuICAgIG5vcm1hbHNbaSArIDBdID0gbm9ybWFsMVswXTtcbiAgICBub3JtYWxzW2kgKyAxXSA9IG5vcm1hbDFbMV07XG4gICAgbm9ybWFsc1tpICsgMl0gPSBub3JtYWwxWzJdO1xuICAgIG5vcm1hbHNbaSArIDNdID0gbm9ybWFsMlswXTtcbiAgICBub3JtYWxzW2kgKyA0XSA9IG5vcm1hbDJbMV07XG4gICAgbm9ybWFsc1tpICsgNV0gPSBub3JtYWwyWzJdO1xuICAgIG5vcm1hbHNbaSArIDZdID0gbm9ybWFsM1swXTtcbiAgICBub3JtYWxzW2kgKyA3XSA9IG5vcm1hbDNbMV07XG4gICAgbm9ybWFsc1tpICsgOF0gPSBub3JtYWwzWzJdO1xuICB9XG5cbiAgcmV0dXJuIG5vcm1hbHM7XG59XG5cbmNvbnN0IE1BWF9URVhUVVJFX1ZfQ09PUkRJTkFURV9ERUxUQSA9IDAuNTtcblxuLyoqXG4gKiBDYWxjdWxhdGVzIGxhdC1sb25nIHRleHR1cmUgY29vcmRpbmF0ZXMgZm9yIHRoZSBnaXZlbiB2ZXJ0ZXggcG9zaXRpb25zLlxuICpcbiAqIEBwYXJhbSB7QXJyYXkuPE51bWJlcj59IHZlcnRleFBvc2l0aW9uc1xuICogQHJldHVybnMge0FycmF5LjxOdW1iZXI+fVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gY2FsY3VsYXRlTGF0TG9uZ1RleHR1cmVDb29yZGluYXRlcyh2ZXJ0ZXhQb3NpdGlvbnMpIHtcbiAgY29uc3QgY3VycmVudFZlcnRleFBvc2l0aW9uID0gdmVjMy5jcmVhdGUoKTtcbiAgY29uc3QgY3VycmVudFRleHR1cmVDb29yZGluYXRlcyA9IHZlYzIuY3JlYXRlKCk7XG4gIGNvbnN0IHRleHR1cmVDb29yZGluYXRlcyA9IFtdO1xuXG4gIC8vIENhbGN1bGF0ZSB0aGUgdGV4dHVyZSBjb29yZGluYXRlcyBvZiBlYWNoIHZlcnRleC5cbiAgZm9yIChsZXQgaSA9IDAsIGogPSAwLCBjb3VudCA9IHZlcnRleFBvc2l0aW9ucy5sZW5ndGg7IGkgPCBjb3VudDsgaSArPSAzLCBqICs9IDIpIHtcbiAgICB2ZWMzLnNldChjdXJyZW50VmVydGV4UG9zaXRpb24sXG4gICAgICAgIHZlcnRleFBvc2l0aW9uc1tpXSwgdmVydGV4UG9zaXRpb25zW2kgKyAxXSwgdmVydGV4UG9zaXRpb25zW2kgKyAyXSk7XG4gICAgX2dldFRleHR1cmVDb29yZGluYXRlc09mTGF0TG9uZ1Bvc2l0aW9uKGN1cnJlbnRUZXh0dXJlQ29vcmRpbmF0ZXMsIGN1cnJlbnRWZXJ0ZXhQb3NpdGlvbik7XG4gICAgdGV4dHVyZUNvb3JkaW5hdGVzW2pdID0gY3VycmVudFRleHR1cmVDb29yZGluYXRlc1swXTtcbiAgICB0ZXh0dXJlQ29vcmRpbmF0ZXNbaiArIDFdID0gY3VycmVudFRleHR1cmVDb29yZGluYXRlc1sxXTtcbiAgfVxuXG4gIF9jb3JyZWN0VGV4dHVyZUZvclRyaWFuZ2xlc0Fyb3VuZFNlYW0odGV4dHVyZUNvb3JkaW5hdGVzKTtcblxuICByZXR1cm4gdGV4dHVyZUNvb3JkaW5hdGVzO1xufVxuXG4vKipcbiAqIENhbGN1bGF0ZXMgY3lsaW5kcmljYWwgdGV4dHVyZSBjb29yZGluYXRlcyBmb3IgdGhlIGdpdmVuIHZlcnRleCBwb3NpdGlvbnMuXG4gKlxuICogVGhpcyBhc3N1bWVzIHRoZSBjeWxpbmRlciBpcyBhbGlnbmVkIHdpdGggdGhlIHotYXhpcyBhbmQgY2VudGVyZWQgYXQgdGhlIG9yaWdpbi5cbiAqXG4gKiBAcGFyYW0ge0FycmF5LjxOdW1iZXI+fSB2ZXJ0ZXhQb3NpdGlvbnNcbiAqIEByZXR1cm5zIHtBcnJheS48TnVtYmVyPn1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGNhbGN1bGF0ZUN5bGluZHJpY2FsVGV4dHVyZUNvb3JkaW5hdGVzKHZlcnRleFBvc2l0aW9ucykge1xuICBjb25zdCBjdXJyZW50VmVydGV4UG9zaXRpb24gPSB2ZWMzLmNyZWF0ZSgpO1xuICBjb25zdCBjdXJyZW50VGV4dHVyZUNvb3JkaW5hdGVzID0gdmVjMi5jcmVhdGUoKTtcbiAgY29uc3QgdGV4dHVyZUNvb3JkaW5hdGVzID0gW107XG5cbiAgLy8gQ2FsY3VsYXRlIHRoZSB0ZXh0dXJlIGNvb3JkaW5hdGVzIG9mIGVhY2ggdmVydGV4LlxuICBmb3IgKGxldCBpID0gMCwgaiA9IDAsIGNvdW50ID0gdmVydGV4UG9zaXRpb25zLmxlbmd0aDsgaSA8IGNvdW50OyBpICs9IDMsIGogKz0gMikge1xuICAgIHZlYzMuc2V0KGN1cnJlbnRWZXJ0ZXhQb3NpdGlvbixcbiAgICAgICAgdmVydGV4UG9zaXRpb25zW2ldLCB2ZXJ0ZXhQb3NpdGlvbnNbaSArIDFdLCB2ZXJ0ZXhQb3NpdGlvbnNbaSArIDJdKTtcbiAgICBfZ2V0VGV4dHVyZUNvb3JkaW5hdGVzT2ZDeWxpbmRyaWNhbFBvc2l0aW9uKGN1cnJlbnRUZXh0dXJlQ29vcmRpbmF0ZXMsIGN1cnJlbnRWZXJ0ZXhQb3NpdGlvbik7XG4gICAgdGV4dHVyZUNvb3JkaW5hdGVzW2pdID0gY3VycmVudFRleHR1cmVDb29yZGluYXRlc1swXTtcbiAgICB0ZXh0dXJlQ29vcmRpbmF0ZXNbaiArIDFdID0gY3VycmVudFRleHR1cmVDb29yZGluYXRlc1sxXTtcbiAgfVxuXG4gIF9jb3JyZWN0VGV4dHVyZUZvclRyaWFuZ2xlc0Fyb3VuZFNlYW0odGV4dHVyZUNvb3JkaW5hdGVzKTtcblxuICByZXR1cm4gdGV4dHVyZUNvb3JkaW5hdGVzO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXkuPE51bWJlcj59IHRleHR1cmVDb29yZGluYXRlc1xuICovXG5mdW5jdGlvbiBfY29ycmVjdFRleHR1cmVGb3JUcmlhbmdsZXNBcm91bmRTZWFtKHRleHR1cmVDb29yZGluYXRlcykge1xuICBsZXQgdjE7XG4gIGxldCB2MjtcbiAgbGV0IHYzO1xuXG4gIC8vIERldGVybWluZSB3aGljaCB0cmlhbmdsZXMgc3BhbiB0aGUgc2VhbSBhY3Jvc3MgMC8yUEksIGFuZCBjb3JyZWN0IHRoZWlyIHRleHR1cmVzLlxuICBmb3IgKGxldCBpID0gMCwgY291bnQgPSB0ZXh0dXJlQ29vcmRpbmF0ZXMubGVuZ3RoOyBpIDwgY291bnQ7IGkgKz0gNikge1xuICAgIHYxID0gdGV4dHVyZUNvb3JkaW5hdGVzW2ldO1xuICAgIHYyID0gdGV4dHVyZUNvb3JkaW5hdGVzW2kgKyAyXTtcbiAgICB2MyA9IHRleHR1cmVDb29yZGluYXRlc1tpICsgNF07XG5cbiAgICBpZiAodjMgLSB2MSA+IE1BWF9URVhUVVJFX1ZfQ09PUkRJTkFURV9ERUxUQSB8fCB2MiAtIHYxID4gTUFYX1RFWFRVUkVfVl9DT09SRElOQVRFX0RFTFRBKSB7XG4gICAgICB0ZXh0dXJlQ29vcmRpbmF0ZXNbaV0rKztcbiAgICB9XG4gICAgaWYgKHYzIC0gdjIgPiBNQVhfVEVYVFVSRV9WX0NPT1JESU5BVEVfREVMVEEgfHwgdjEgLSB2MiA+IE1BWF9URVhUVVJFX1ZfQ09PUkRJTkFURV9ERUxUQSkge1xuICAgICAgdGV4dHVyZUNvb3JkaW5hdGVzW2kgKyAyXSsrO1xuICAgIH1cbiAgICBpZiAodjIgLSB2MyA+IE1BWF9URVhUVVJFX1ZfQ09PUkRJTkFURV9ERUxUQSB8fCB2MSAtIHYzID4gTUFYX1RFWFRVUkVfVl9DT09SRElOQVRFX0RFTFRBKSB7XG4gICAgICB0ZXh0dXJlQ29vcmRpbmF0ZXNbaSArIDRdKys7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQ2FsY3VsYXRlIHRoZSB0ZXh0dXJlIGNvb3JkaW5hdGVzIGZvciBhIG5vcm1hbGl6ZWQgcG9pbnQgb24gYSBnbG9iZS5cbiAqXG4gKiBAcGFyYW0ge3ZlYzJ9IHRleHR1cmVDb29yZGluYXRlcyBPdXRwdXQgcGFyYW1ldGVyLlxuICogQHBhcmFtIHt2ZWMzfSB2ZXJ0ZXhQb3NpdGlvbiBJbnB1dCBwYXJhbWV0ZXIuXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfZ2V0VGV4dHVyZUNvb3JkaW5hdGVzT2ZMYXRMb25nUG9zaXRpb24odGV4dHVyZUNvb3JkaW5hdGVzLCB2ZXJ0ZXhQb3NpdGlvbikge1xuICBjb25zdCB4ID0gdmVydGV4UG9zaXRpb25bMF07XG4gIGNvbnN0IHkgPSB2ZXJ0ZXhQb3NpdGlvblsxXTtcbiAgY29uc3QgeiA9IHZlcnRleFBvc2l0aW9uWzJdO1xuXG4gIGxldCBsb25naXR1ZGU7XG4gIGlmICh5ICE9PSAwKSB7XG4gICAgbG9uZ2l0dWRlID0gTWF0aC5hdGFuMih4LCB5KTtcbiAgfSBlbHNlIGlmICh4ID4gMCkge1xuICAgIGxvbmdpdHVkZSA9IEhBTEZfUEk7XG4gIH0gZWxzZSB7XG4gICAgbG9uZ2l0dWRlID0gLUhBTEZfUEk7XG4gIH1cblxuICBjb25zdCB1ID0gKGxvbmdpdHVkZSArIE1hdGguUEkpIC8gVFdPX1BJO1xuXG4gIC8vIFRPRE86IFNob3VsZCBJIGluc3RlYWQgYmUgY2FsY3VsYXRpbmcgdGhlIHYgdmFsdWUgZnJvbSB3cmFwcGluZyB0aGUgdGV4dHVyZSBhcm91bmQgdGhlIGdsb2JlXG4gIC8vIGN1cnZhdHVyZSByYXRoZXIgdGhhbiBzaW1wbHkgcHJvamVjdGluZyBpdCBkaXJlY3RseT9cblxuICAvLyBUaGlzIGFzc3VtZXMgdGhhdCB0aGUgdGV4dHVyZSBoYXMgYmVlbiB2ZXJ0aWNhbGx5IGRpc3RvcnRlZCBzbyB0aGF0IGl0IGNhbiBiZSBkaXJlY3RseVxuICAvLyBwcm9qZWN0ZWQgb250byB0aGUgY3VydmF0dXJlIG9mIHRoZSBnbG9iZS5cbiAgY29uc3QgdiA9ICh6ICsgMSkgKiAwLjU7XG5cbiAgdGV4dHVyZUNvb3JkaW5hdGVzWzBdID0gdTtcbiAgdGV4dHVyZUNvb3JkaW5hdGVzWzFdID0gdjtcbn1cblxuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIHRleHR1cmUgY29vcmRpbmF0ZXMgZm9yIGEgbm9ybWFsaXplZCBwb2ludCBvbiBhIGN5bGluZGVyLlxuICpcbiAqIFRoaXMgYXNzdW1lcyB0aGUgY3lsaW5kZXIgaXMgYWxpZ25lZCB3aXRoIHRoZSB6LWF4aXMgYW5kIGNlbnRlcmVkIGF0IHRoZSBvcmlnaW4uXG4gKlxuICogQHBhcmFtIHt2ZWMyfSB0ZXh0dXJlQ29vcmRpbmF0ZXMgT3V0cHV0IHBhcmFtZXRlci5cbiAqIEBwYXJhbSB7dmVjM30gdmVydGV4UG9zaXRpb24gSW5wdXQgcGFyYW1ldGVyLlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX2dldFRleHR1cmVDb29yZGluYXRlc09mQ3lsaW5kcmljYWxQb3NpdGlvbih0ZXh0dXJlQ29vcmRpbmF0ZXMsIHZlcnRleFBvc2l0aW9uKSB7XG4gIGNvbnN0IHggPSB2ZXJ0ZXhQb3NpdGlvblswXTtcbiAgY29uc3QgeSA9IHZlcnRleFBvc2l0aW9uWzFdO1xuICBjb25zdCB6ID0gdmVydGV4UG9zaXRpb25bMl07XG5cbiAgbGV0IGxvbmdpdHVkZTtcbiAgaWYgKHkgIT09IDApIHtcbiAgICBsb25naXR1ZGUgPSBNYXRoLmF0YW4yKHgsIHkpO1xuICB9IGVsc2UgaWYgKHggPiAwKSB7XG4gICAgbG9uZ2l0dWRlID0gSEFMRl9QSTtcbiAgfSBlbHNlIHtcbiAgICBsb25naXR1ZGUgPSAtSEFMRl9QSTtcbiAgfVxuXG4gIGNvbnN0IHUgPSAobG9uZ2l0dWRlICsgTWF0aC5QSSkgLyBUV09fUEk7XG5cbiAgY29uc3QgdiA9IHogPiAwID8gMSA6IDA7XG5cbiAgdGV4dHVyZUNvb3JkaW5hdGVzWzBdID0gdTtcbiAgdGV4dHVyZUNvb3JkaW5hdGVzWzFdID0gdjtcbn1cblxuLyoqXG4gKiBFeHBhbmRzIHRoZSBnaXZlbiB2ZXJ0aWNlcyBhcm91bmQgdGhlIHNlYW0gd2hlcmUgbG9uZ2l0dWRlIHN3aXRjaGVzIGZyb20gMCB0byAyUEkuXG4gKlxuICogVGhpcyBpcyB1c2VmdWwgYmVjYXVzZSwgd2hlbiBhcHBseWluZyBhIHNwaGVyaWNhbCB0ZXh0dXJlIHVzaW5nIGxhdC1sb25nIGNvb3JkaW5hdGVzLCBhbnlcbiAqIHRyaWFuZ2xlIHRoYXQgc3BhbnMgdGhlIHNlYW0gKGZyb20gbG9uZ2l0dWRlIDJQSSB0byAwKSB3b3VsZCBvdGhlcndpc2Ugc2hvdyB0aGUgd3JvbmcgcmVzdWx0LlxuICpcbiAqIEBwYXJhbSB7QXJyYXkuPE51bWJlcj59IG9sZFZlcnRleFBvc2l0aW9uc1xuICogQHBhcmFtIHtBcnJheS48TnVtYmVyPn0gb2xkVmVydGV4SW5kaWNlc1xuICogQHJldHVybnMge3t2ZXJ0ZXhQb3NpdGlvbnM6IEFycmF5LjxOdW1iZXI+LCB2ZXJ0ZXhJbmRpY2VzOiBBcnJheS48TnVtYmVyPn19XG4gKi9cbmZ1bmN0aW9uIGV4cGFuZFZlcnRleEluZGljZXNBcm91bmRMb25naXR1ZGVTZWFtKG9sZFZlcnRleFBvc2l0aW9ucywgb2xkVmVydGV4SW5kaWNlcykge1xuICAvLyBjb25zdCBuZXdWZXJ0ZXhQb3NpdGlvbnMgPSBbXTtcbiAgLy8gY29uc3QgbmV3VmVydGV4SW5kaWNlcyA9IFtdO1xuICAvL1xuICAvLyAqKioqXG4gIC8vIC8vIFRPRE86IGxvb3Agb3ZlciB0cmlhbmdsZXMsIHVzZSBfZ2V0VGV4dHVyZUNvb3JkaW5hdGVzT2ZMYXRMb25nUG9zaXRpb24gb24gZWFjaCB2ZXJ0ZXgsXG4gIC8vIC8vIGNoZWNrIGlmIHR3byB2ZXJ0aWNlcyBpbiBhIHRyaWFuZ2xlIHNwYW4gdGhlIHNlYW07IHRvIGNoZWNrIHRoZSBzcGFuLCBqdXN0IGNoZWNrIGlmIGJvdGggYXJlXG4gIC8vIC8vIHdpdGhpbiBhIGRpc3RhbmNlIGZyb20gdGhlIHNlYW0sIGJ1dCBvbiBvcHBvc2l0ZSBlbmRzO1xuICAvL1xuICAvLyByZXR1cm4ge1xuICAvLyAgIHZlcnRleFBvc2l0aW9uczogbmV3VmVydGV4UG9zaXRpb25zLFxuICAvLyAgIHZlcnRleEluZGljZXM6IG5ld1ZlcnRleEluZGljZXNcbiAgLy8gfTtcblxuICByZXR1cm4ge1xuICAgIHZlcnRleFBvc2l0aW9uczogb2xkVmVydGV4UG9zaXRpb25zLFxuICAgIHZlcnRleEluZGljZXM6IG9sZFZlcnRleEluZGljZXNcbiAgfTtcbn1cblxuLyoqXG4gKiBTdWJkaXZpZGVzIHRoZSB0cmlhbmdsZXMgb2YgYSBzaGFwZSBhbmQgcHJvamVjdHMgYWxsIHJlc3VsdGluZyB2ZXJ0aWNlcyB0byBhIHJhZGl1cyBvZiBvbmUuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IGRpdmlzaW9uRmFjdG9yXG4gKiBAcGFyYW0ge0FycmF5LjxOdW1iZXI+fSBvbGRQb3NpdGlvbnNcbiAqIEBwYXJhbSB7QXJyYXkuPE51bWJlcj59IFtvbGRJbmRpY2VzXVxuICogQHJldHVybnMge3t2ZXJ0ZXhQb3NpdGlvbnM6IEFycmF5LjxOdW1iZXI+LCB2ZXJ0ZXhJbmRpY2VzOiBBcnJheS48TnVtYmVyPn19XG4gKi9cbmZ1bmN0aW9uIHRlc3NlbGF0ZVNwaGVyZShkaXZpc2lvbkZhY3Rvciwgb2xkUG9zaXRpb25zLCBvbGRJbmRpY2VzKSB7XG4gIGNvbnN0IG5ld1Bvc2l0aW9ucyA9IF9leHBhbmRBbmRUZXNzZWxhdGVUcmlhbmdsZXMoZGl2aXNpb25GYWN0b3IsIG9sZFBvc2l0aW9ucywgb2xkSW5kaWNlcyk7XG5cbiAgLy8gQ29udmVydCB0aGUgZXhwYW5kZWQgcG9zaXRpb25zIGFycmF5IGludG8gYSB1bmlxdWUgcG9zaXRpb25zIGFycmF5IHdpdGggYSBjb3JyZXNwb25kaW5nIGluZGljZXNcbiAgLy8gYXJyYXkuXG4gIGNvbnN0IHBvc2l0aW9uc0FuZEluZGljZXMgPSBkZWR1cFZlcnRleEFycmF5V2l0aFBvc2l0aW9uc0FuZEluZGljZXNBcnJheXMobmV3UG9zaXRpb25zKTtcblxuICAvLyBQcm9qZWN0IHRoZSBnaXZlbiBwb3NpdGlvbnMgdG8gYSBkaXN0YW5jZSBvZiBvbmUuXG4gIF9ub3JtYWxpemVQb3NpdGlvbnMocG9zaXRpb25zQW5kSW5kaWNlcy52ZXJ0ZXhQb3NpdGlvbnMsIHBvc2l0aW9uc0FuZEluZGljZXMudmVydGV4UG9zaXRpb25zKTtcblxuICByZXR1cm4gcG9zaXRpb25zQW5kSW5kaWNlcztcbn1cblxuLyoqXG4gKiBTdWJkaXZpZGVzIHRyaWFuZ2xlcy5cbiAqXG4gKiBUaGlzIGhhcyB0aGUgc2lkZS1lZmZlY3Qgb2YgZmxhdHRlbmluZyB0aGUgZ2l2ZW4gdmVydGljZXMgaW50byBhbiBleHBhbmRlZCBsaXN0IHRoYXQgY2FuIGNvbnRhaW5cbiAqIGR1cGxpY2F0ZSBwb3NpdGlvbnMuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IGRpdmlzaW9uRmFjdG9yXG4gKiBAcGFyYW0ge0FycmF5LjxOdW1iZXI+fSBvbGRQb3NpdGlvbnNcbiAqIEBwYXJhbSB7QXJyYXkuPE51bWJlcj59IFtvbGRJbmRpY2VzXVxuICogQHJldHVybnMge0FycmF5LjxOdW1iZXI+fVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX2V4cGFuZEFuZFRlc3NlbGF0ZVRyaWFuZ2xlcyhkaXZpc2lvbkZhY3Rvciwgb2xkUG9zaXRpb25zLCBvbGRJbmRpY2VzKSB7XG4gIGNvbnN0IGV4cGFuZGVkT2xkUG9zaXRpb25zID0gb2xkSW5kaWNlc1xuICAgICAgPyBleHBhbmRWZXJ0ZXhJbmRpY2VzVG9EdXBsaWNhdGVQb3NpdGlvbnMob2xkUG9zaXRpb25zLCBvbGRJbmRpY2VzKVxuICAgICAgOiBvbGRQb3NpdGlvbnM7XG5cbiAgY29uc3QgbmV3UG9zaXRpb25zID0gW107XG4gIGNvbnN0IGEgPSB2ZWMzLmNyZWF0ZSgpO1xuICBjb25zdCBiID0gdmVjMy5jcmVhdGUoKTtcbiAgY29uc3QgYyA9IHZlYzMuY3JlYXRlKCk7XG4gIGNvbnN0IGFUb0IgPSB2ZWMzLmNyZWF0ZSgpO1xuICBjb25zdCBhVG9DID0gdmVjMy5jcmVhdGUoKTtcbiAgY29uc3QgYlRvQyA9IHZlYzMuY3JlYXRlKCk7XG4gIGNvbnN0IHJvd0RlbHRhID0gdmVjMy5jcmVhdGUoKTtcbiAgY29uc3QgY29sdW1uRGVsdGEgPSB2ZWMzLmNyZWF0ZSgpO1xuICBjb25zdCBiYWNrd2FyZHNEZWx0YSA9IHZlYzMuY3JlYXRlKCk7XG4gIGNvbnN0IHJvd1N0YXJ0UG9pbnQgPSB2ZWMzLmNyZWF0ZSgpO1xuICBjb25zdCByb3dDb2x1bW5TdGFydFBvaW50ID0gdmVjMy5jcmVhdGUoKTtcbiAgY29uc3QgdGVtcFZlYyA9IHZlYzMuY3JlYXRlKCk7XG5cbiAgbGV0IG9sZEluZGV4O1xuICBsZXQgY291bnQ7XG4gIGxldCBuZXdJbmRleDtcbiAgbGV0IHJvd0luZGV4O1xuICBsZXQgY29sdW1uSW5kZXg7XG5cbiAgLy9cbiAgLy8gVGhlIGJhc2ljIHRlc3NlbGF0aW9uIGFsZ29yaXRobTpcbiAgLy8gLSBJdGVyYXRlIGFjcm9zcyB0aGUgb3JpZ2luYWwgdHJpYW5nbGVzIHRoYXQgd2UgYXJlIHN1Yi1kaXZpZGluZy5cbiAgLy8gLSBBLCBCLCBhbmQgQyBhcmUgdGhlIHZlcnRpY2VzIG9mIHRoZSBjdXJyZW50LCBvcmlnaW5hbCB0cmlhbmdsZS5cbiAgLy8gLSBDb25zaWRlciBcInJvd3NcIiB0byBpdGVyYXRlIGFjcm9zcyB0aGUgYS10by1iIGRpcmVjdGlvbiBhbmQgXCJjb2x1bW5zXCIgdG8gaXRlcmF0ZSBhY3Jvc3MgdGhlXG4gIC8vICAgYS10by1jIGRpcmVjdGlvbi5cbiAgLy8gLSBGaXJzdCBjYWxjdWxhdGUgdGhlIGRpc3RhbmNlIGJldHdlZW4gb25lIHJvdyBhbmQgb25lIGNvbHVtbi5cbiAgLy8gLSBUaGVuIGxvb3Agb3ZlciB0aGUgcm93cyBhbmQgY29sdW1ucyBhbmQgY3JlYXRlIGEgdGhlIG5ldyB0cmlhbmdsZSBmb3IgZWFjaCBcImNlbGxcIi5cbiAgLy9cbiAgLy8gICAgICAgICAgICAgICAgICAgL1xcXG4gIC8vICAgICAgICAgICAgICAgICBCICAgXFwtLS0gQSBcImNvbHVtblwiXG4gIC8vICAgICAgICAgICAgICAgICBvICAgIFxcXG4gIC8vICAgICAgICAgICAgICAgIC8gXFwgICAvXG4gIC8vICAgICAgICAgICAgICAgLyAgIFxcICAgICAgICAgICAgIHJvd0RlbHRhOiAgICAgIGNvbHVtbkRlbHRhOiAgICAgYmFja3dhcmRzRGVsdGE6XG4gIC8vICAgICAgICAgICAgICBvLS0tLS1vICAgICAgICAgICAgICAgICBvICAgICAgICAgICAgIG9cbiAgLy8gICAgICAgICAgICAgLyBcXCAgIC8gXFwgICAgICAgICAgICAgICAvICAgICAgICAgICAgICAgXFwgICAgICAgICAgICAgIG8tLS0tLW9cbiAgLy8gICAgICAgICAgICAvICAgXFwgLyAgIFxcICAgICAgICAgICAgIC8gICAgICAgICAgICAgICAgIFxcXG4gIC8vICAgICAgICAgICBvLS0tLS1vLS0tLS1vICAgICAgICAgICBvICAgICAgICAgICAgICAgICAgIG9cbiAgLy8gICAgICAgICAgLyBcXCAgIC8gXFwgICAvIFxcXG4gIC8vICAgICAgICAgLyAgIFxcIC8gICBcXCAvICAgXFxcbiAgLy8gICAgICAgIG8tLS0tLW8tLS0tLW8tLS0tLW9cbiAgLy8gICAgICAgLyBcXCAgIC8gXFwgICAvIFxcICAgLyBcXFxuICAvLyAgICAgIC8gICBcXCAvICAgXFwgLyAgIFxcIC8gICBcXFxuICAvLyAgQSAgby0tLS0tby0tLS0tby0tLS0tby0tLS0tbyAgQ1xuICAvL1xuICAvLyAgICAgICBcXF9fX19fXFxcbiAgLy8gICAgICAgICAgIFxcXG4gIC8vICAgICAgICAgQSBcInJvd1wiXG4gIC8vXG5cbiAgLy8gTG9vcCBvdmVyIHRoZSBvbGQgdHJpYW5nbGVzLlxuICBmb3IgKG9sZEluZGV4ID0gMCwgbmV3SW5kZXggPSAwLCBjb3VudCA9IGV4cGFuZGVkT2xkUG9zaXRpb25zLmxlbmd0aDtcbiAgICAgICBvbGRJbmRleCA8IGNvdW50O1xuICAgICAgIG9sZEluZGV4ICs9IDkpIHtcbiAgICAvLyBQdWxsIG91dCB0aGUgdGhyZWUgdmVydGljZXMgb2YgdGhlIGN1cnJlbnQgdHJpYW5nbGUuXG4gICAgdmVjMy5zZXQoYSxcbiAgICAgICAgZXhwYW5kZWRPbGRQb3NpdGlvbnNbb2xkSW5kZXhdLFxuICAgICAgICBleHBhbmRlZE9sZFBvc2l0aW9uc1tvbGRJbmRleCArIDFdLFxuICAgICAgICBleHBhbmRlZE9sZFBvc2l0aW9uc1tvbGRJbmRleCArIDJdKTtcbiAgICB2ZWMzLnNldChiLFxuICAgICAgICBleHBhbmRlZE9sZFBvc2l0aW9uc1tvbGRJbmRleCArIDNdLFxuICAgICAgICBleHBhbmRlZE9sZFBvc2l0aW9uc1tvbGRJbmRleCArIDRdLFxuICAgICAgICBleHBhbmRlZE9sZFBvc2l0aW9uc1tvbGRJbmRleCArIDVdKTtcbiAgICB2ZWMzLnNldChjLFxuICAgICAgICBleHBhbmRlZE9sZFBvc2l0aW9uc1tvbGRJbmRleCArIDZdLFxuICAgICAgICBleHBhbmRlZE9sZFBvc2l0aW9uc1tvbGRJbmRleCArIDddLFxuICAgICAgICBleHBhbmRlZE9sZFBvc2l0aW9uc1tvbGRJbmRleCArIDhdKTtcblxuICAgIHZlYzMuc3VidHJhY3QoYVRvQiwgYiwgYSk7XG4gICAgdmVjMy5zdWJ0cmFjdChiVG9DLCBjLCBiKTtcbiAgICB2ZWMzLnN1YnRyYWN0KGFUb0MsIGMsIGEpO1xuXG4gICAgdmVjMy5zY2FsZShyb3dEZWx0YSwgYVRvQiwgMSAvIGRpdmlzaW9uRmFjdG9yKTtcbiAgICB2ZWMzLnNjYWxlKGNvbHVtbkRlbHRhLCBiVG9DLCAxIC8gZGl2aXNpb25GYWN0b3IpO1xuICAgIHZlYzMuc2NhbGUoYmFja3dhcmRzRGVsdGEsIGFUb0MsIDEgLyBkaXZpc2lvbkZhY3Rvcik7XG5cbiAgICAvLyBMb29wIG92ZXIgZWFjaCBuZXcgZGl2aXNpb24gKHJvdykgZm9yIHRoZSBjdXJyZW50IHRyaWFuZ2xlLlxuICAgIGZvciAocm93SW5kZXggPSAwOyByb3dJbmRleCA8IGRpdmlzaW9uRmFjdG9yOyByb3dJbmRleCsrKSB7XG4gICAgICB2ZWMzLnNjYWxlQW5kQWRkKHJvd1N0YXJ0UG9pbnQsIGEsIHJvd0RlbHRhLCByb3dJbmRleCk7XG5cbiAgICAgIC8vIENyZWF0ZSB0aGUgZmlyc3QgdHJpYW5nbGUgaW4gdGhlIHJvdyAoYWRkcmVzcyB0aGUgZmVuY2UtcG9zdCBwcm9ibGVtKS5cbiAgICAgIG5ld1Bvc2l0aW9uc1tuZXdJbmRleCsrXSA9IHJvd1N0YXJ0UG9pbnRbMF07XG4gICAgICBuZXdQb3NpdGlvbnNbbmV3SW5kZXgrK10gPSByb3dTdGFydFBvaW50WzFdO1xuICAgICAgbmV3UG9zaXRpb25zW25ld0luZGV4KytdID0gcm93U3RhcnRQb2ludFsyXTtcbiAgICAgIHZlYzMuYWRkKHRlbXBWZWMsIHJvd1N0YXJ0UG9pbnQsIHJvd0RlbHRhKTtcbiAgICAgIG5ld1Bvc2l0aW9uc1tuZXdJbmRleCsrXSA9IHRlbXBWZWNbMF07XG4gICAgICBuZXdQb3NpdGlvbnNbbmV3SW5kZXgrK10gPSB0ZW1wVmVjWzFdO1xuICAgICAgbmV3UG9zaXRpb25zW25ld0luZGV4KytdID0gdGVtcFZlY1syXTtcbiAgICAgIHZlYzMuYWRkKHRlbXBWZWMsIHJvd1N0YXJ0UG9pbnQsIGJhY2t3YXJkc0RlbHRhKTtcbiAgICAgIG5ld1Bvc2l0aW9uc1tuZXdJbmRleCsrXSA9IHRlbXBWZWNbMF07XG4gICAgICBuZXdQb3NpdGlvbnNbbmV3SW5kZXgrK10gPSB0ZW1wVmVjWzFdO1xuICAgICAgbmV3UG9zaXRpb25zW25ld0luZGV4KytdID0gdGVtcFZlY1syXTtcblxuICAgICAgLy8gTG9vcCBvdmVyIHRoZSBuZXcgdHJpYW5nbGVzIGluIHRoZSBjdXJyZW50IGRpdmlzaW9uLlxuICAgICAgZm9yIChjb2x1bW5JbmRleCA9IDE7IGNvbHVtbkluZGV4IDw9IHJvd0luZGV4OyBjb2x1bW5JbmRleCsrKSB7XG4gICAgICAgIHZlYzMuc2NhbGVBbmRBZGQocm93Q29sdW1uU3RhcnRQb2ludCwgcm93U3RhcnRQb2ludCwgY29sdW1uRGVsdGEsIGNvbHVtbkluZGV4KTtcblxuICAgICAgICBuZXdQb3NpdGlvbnNbbmV3SW5kZXgrK10gPSByb3dDb2x1bW5TdGFydFBvaW50WzBdO1xuICAgICAgICBuZXdQb3NpdGlvbnNbbmV3SW5kZXgrK10gPSByb3dDb2x1bW5TdGFydFBvaW50WzFdO1xuICAgICAgICBuZXdQb3NpdGlvbnNbbmV3SW5kZXgrK10gPSByb3dDb2x1bW5TdGFydFBvaW50WzJdO1xuICAgICAgICB2ZWMzLnN1YnRyYWN0KHRlbXBWZWMsIHJvd0NvbHVtblN0YXJ0UG9pbnQsIGNvbHVtbkRlbHRhKTtcbiAgICAgICAgbmV3UG9zaXRpb25zW25ld0luZGV4KytdID0gdGVtcFZlY1swXTtcbiAgICAgICAgbmV3UG9zaXRpb25zW25ld0luZGV4KytdID0gdGVtcFZlY1sxXTtcbiAgICAgICAgbmV3UG9zaXRpb25zW25ld0luZGV4KytdID0gdGVtcFZlY1syXTtcbiAgICAgICAgdmVjMy5hZGQodGVtcFZlYywgcm93Q29sdW1uU3RhcnRQb2ludCwgcm93RGVsdGEpO1xuICAgICAgICBuZXdQb3NpdGlvbnNbbmV3SW5kZXgrK10gPSB0ZW1wVmVjWzBdO1xuICAgICAgICBuZXdQb3NpdGlvbnNbbmV3SW5kZXgrK10gPSB0ZW1wVmVjWzFdO1xuICAgICAgICBuZXdQb3NpdGlvbnNbbmV3SW5kZXgrK10gPSB0ZW1wVmVjWzJdO1xuXG4gICAgICAgIG5ld1Bvc2l0aW9uc1tuZXdJbmRleCsrXSA9IHJvd0NvbHVtblN0YXJ0UG9pbnRbMF07XG4gICAgICAgIG5ld1Bvc2l0aW9uc1tuZXdJbmRleCsrXSA9IHJvd0NvbHVtblN0YXJ0UG9pbnRbMV07XG4gICAgICAgIG5ld1Bvc2l0aW9uc1tuZXdJbmRleCsrXSA9IHJvd0NvbHVtblN0YXJ0UG9pbnRbMl07XG4gICAgICAgIHZlYzMuYWRkKHRlbXBWZWMsIHJvd0NvbHVtblN0YXJ0UG9pbnQsIHJvd0RlbHRhKTtcbiAgICAgICAgbmV3UG9zaXRpb25zW25ld0luZGV4KytdID0gdGVtcFZlY1swXTtcbiAgICAgICAgbmV3UG9zaXRpb25zW25ld0luZGV4KytdID0gdGVtcFZlY1sxXTtcbiAgICAgICAgbmV3UG9zaXRpb25zW25ld0luZGV4KytdID0gdGVtcFZlY1syXTtcbiAgICAgICAgdmVjMy5hZGQodGVtcFZlYywgcm93Q29sdW1uU3RhcnRQb2ludCwgYmFja3dhcmRzRGVsdGEpO1xuICAgICAgICBuZXdQb3NpdGlvbnNbbmV3SW5kZXgrK10gPSB0ZW1wVmVjWzBdO1xuICAgICAgICBuZXdQb3NpdGlvbnNbbmV3SW5kZXgrK10gPSB0ZW1wVmVjWzFdO1xuICAgICAgICBuZXdQb3NpdGlvbnNbbmV3SW5kZXgrK10gPSB0ZW1wVmVjWzJdO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXdQb3NpdGlvbnM7XG59XG5cbi8qKlxuICogUHJvamVjdHMgdGhlIGdpdmVuIHBvc2l0aW9ucyB0byBhIGRpc3RhbmNlIG9mIG9uZS5cbiAqXG4gKiBAcGFyYW0ge0FycmF5LjxOdW1iZXI+fSBvdXRcbiAqIEBwYXJhbSB7QXJyYXkuPE51bWJlcj59IHBvc2l0aW9uc1xuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX25vcm1hbGl6ZVBvc2l0aW9ucyhvdXQsIHBvc2l0aW9ucykge1xuICBjb25zdCB0ZW1wVmVjID0gdmVjMy5jcmVhdGUoKTtcblxuICBmb3IgKGxldCBpID0gMCwgY291bnQgPSBwb3NpdGlvbnMubGVuZ3RoOyBpIDwgY291bnQ7IGkgKz0gMykge1xuICAgIHZlYzMuc2V0KHRlbXBWZWMsIHBvc2l0aW9uc1tpXSwgcG9zaXRpb25zW2kgKyAxXSwgcG9zaXRpb25zW2kgKyAyXSk7XG5cbiAgICB2ZWMzLm5vcm1hbGl6ZSh0ZW1wVmVjLCB0ZW1wVmVjKTtcblxuICAgIG91dFtpXSA9IHRlbXBWZWNbMF07XG4gICAgb3V0W2kgKyAxXSA9IHRlbXBWZWNbMV07XG4gICAgb3V0W2kgKyAyXSA9IHRlbXBWZWNbMl07XG4gIH1cbn1cblxuLyoqXG4gKiBHaXZlbiBhIGNvbGxlY3Rpb24gb2YgdmVydGljZXMgdGhhdCBwb3NzaWJseSBjb250YWlucyBkdXBsaWNhdGVzLCBjcmVhdGVzIGFuIGFycmF5IG9mIHRoZSB1bmlxdWVcbiAqIHZlcnRleCBwb3NpdGlvbnMgYW5kIGFuIGFycmF5IG9mIHRoZSBpbmRpY2VzIG9mIHRoZSBvcmlnaW5hbCwgZHVwbGljYXRlZCB2ZXJ0aWNlcyBpbiB0aGUgdW5pcXVlXG4gKiBhcnJheS5cbiAqXG4gKiBUaGlzIGlzIHVzZWZ1bCBmb3IgcmVuZGVyaW5nIHVzaW5nIGdsLmRyYXdFbGVtZW50cyAod2l0aCBnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUikgaW5zdGVhZCBvZlxuICogZ2wuZHJhd0FycmF5cy5cbiAqXG4gKiBOT1RFOiBBbHRob3VnaCB0aGlzIGZ1bmN0aW9uIGRvZXMgcGFydGlhbGx5IGFkZHJlc3MgZmxvYXRpbmctcG9pbnQgcm91bmQtb2ZmIGVycm9ycyB3aXRoaW4gdGhlXG4gKiBnaXZlbiBwb3NpdGlvbnMsIGl0IGRvZXMgbm90IGd1YXJhbnRlZSBjb3JyZWN0bmVzcy5cbiAqXG4gKiBAcGFyYW0ge0FycmF5LjxOdW1iZXI+fSBvbGRWZXJ0ZXhQb3NpdGlvbnNcbiAqIEByZXR1cm5zIHt7dmVydGV4UG9zaXRpb25zOiBBcnJheS48TnVtYmVyPiwgdmVydGV4SW5kaWNlczogQXJyYXkuPE51bWJlcj59fVxuICovXG5mdW5jdGlvbiBkZWR1cFZlcnRleEFycmF5V2l0aFBvc2l0aW9uc0FuZEluZGljZXNBcnJheXMob2xkVmVydGV4UG9zaXRpb25zKSB7XG4gIGNvbnN0IHZlcnRleFBvc2l0aW9ucyA9IFtdO1xuICBjb25zdCB2ZXJ0ZXhJbmRpY2VzID0gW107XG5cbiAgY29uc3QgdmVydGV4VG9JbmRleE1hcCA9IG5ldyBIYXNoTWFwKF92ZXJ0ZXhIYXNoRnVuY3Rpb24pO1xuICBjb25zdCB2ZXJ0ZXggPSB2ZWMzLmNyZWF0ZSgpO1xuICBsZXQgb2xkQ29vcmRpbmF0ZUluZGV4O1xuICBsZXQgb2xkQ29vcmRpbmF0ZUNvdW50O1xuICBsZXQgbmV3VmVydGV4SW5kZXg7XG5cbiAgLy8gTG9vcCBvdmVyIHRoZSBvcmlnaW5hbCwgZHVwbGljYXRlZCB2ZXJ0ZXggcG9zaXRpb25zLlxuICBmb3IgKG9sZENvb3JkaW5hdGVJbmRleCA9IDAsIG9sZENvb3JkaW5hdGVDb3VudCA9IG9sZFZlcnRleFBvc2l0aW9ucy5sZW5ndGg7XG4gICAgICAgb2xkQ29vcmRpbmF0ZUluZGV4IDwgb2xkQ29vcmRpbmF0ZUNvdW50O1xuICAgICAgIG9sZENvb3JkaW5hdGVJbmRleCArPSAzKSB7XG4gICAgdmVjMy5zZXQodmVydGV4LFxuICAgICAgICBvbGRWZXJ0ZXhQb3NpdGlvbnNbb2xkQ29vcmRpbmF0ZUluZGV4XSxcbiAgICAgICAgb2xkVmVydGV4UG9zaXRpb25zW29sZENvb3JkaW5hdGVJbmRleCArIDFdLFxuICAgICAgICBvbGRWZXJ0ZXhQb3NpdGlvbnNbb2xkQ29vcmRpbmF0ZUluZGV4ICsgMl0pO1xuXG4gICAgLy8gSGFzIHRoaXMgcG9zaXRpb24gYWxyZWFkeSBiZWVuIHJlY29yZGVkP1xuICAgIGlmICghdmVydGV4VG9JbmRleE1hcC5oYXModmVydGV4KSkge1xuICAgICAgLy8gUmVjb3JkIHRoZSBpbmRleCBvZiB0aGUgdW5pcXVlIHZlcnRleCBwb3NpdGlvbi5cbiAgICAgIG5ld1ZlcnRleEluZGV4ID0gdmVydGV4UG9zaXRpb25zLmxlbmd0aCAvIDM7XG4gICAgICB2ZXJ0ZXhUb0luZGV4TWFwLnNldCh2ZXJ0ZXgsIG5ld1ZlcnRleEluZGV4KTtcblxuICAgICAgLy8gUmVjb3JkIHRoZSB1bmlxdWUgdmVydGV4IHBvc2l0aW9uLlxuICAgICAgdmVydGV4UG9zaXRpb25zLnB1c2godmVydGV4WzBdKTtcbiAgICAgIHZlcnRleFBvc2l0aW9ucy5wdXNoKHZlcnRleFsxXSk7XG4gICAgICB2ZXJ0ZXhQb3NpdGlvbnMucHVzaCh2ZXJ0ZXhbMl0pO1xuICAgIH1cblxuICAgIG5ld1ZlcnRleEluZGV4ID0gdmVydGV4VG9JbmRleE1hcC5nZXQodmVydGV4KTtcblxuICAgIC8vIFJlY29yZCB0aGUgaW5kZXggb2YgdGhlIHVuaXF1ZSBwb3NpdGlvbi5cbiAgICB2ZXJ0ZXhJbmRpY2VzLnB1c2gobmV3VmVydGV4SW5kZXgpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICB2ZXJ0ZXhQb3NpdGlvbnM6IHZlcnRleFBvc2l0aW9ucyxcbiAgICB2ZXJ0ZXhJbmRpY2VzOiB2ZXJ0ZXhJbmRpY2VzXG4gIH07XG59XG5cbmNvbnN0IF9WRVJURVhfQ09PUkRJTkFURV9CVUNLRVRfU0laRV9ESUdJVFMgPSA0O1xuXG4vLyBUaGlzIG9mZnNldCBpcyBpbXBvcnRhbnQgZm9yIHByZXZlbnRpbmcgYnVja2V0LWFsaWduZWQgbnVtYmVycyBmcm9tIGJlaW5nIHBsYWNlZCBpbiBpbmNvbnNpc3RlbnRcbi8vIGJ1Y2tldHMuIEZvciBleGFtcGxlLCB3aG9sZSBpbnRlZ2VyIHZhbHVlcyBjb3VsZCBlYXNpbHkgYmUgcGxhY2VkIGluIGxvd2VyIG9yIGhpZ2hlciBidWNrZXRzXG4vLyBkZXBlbmRpbmcgb24gcm91bmQtb2ZmIGVycm9yLlxuY29uc3QgX09GRlNFVCA9IE1hdGgucmFuZG9tKCk7XG5cbi8qKlxuICogQ2FsY3VsYXRlcyBhIGhhc2ggY29kZSBmb3IgdGhlIGdpdmVuIHZlcnRleC5cbiAqXG4gKiBOT1RFOiBUaGlzIGRvZXMgbm90IGd1YXJhbnRlZSBjb3JyZWN0IHJlc3VsdHMuIER1ZSB0byByb3VuZC1vZmYgZXJyb3IsIFwiZXF1YWxcIiBjb29yZGluYXRlcyBjb3VsZFxuICogYmUgY2FsY3VsYXRlZCBpcyBiZWluZyBpbiBkaWZmZXJlbnQgYnVja2V0cy4gTGFyZ2VyIGJ1Y2tldCBzaXplcyBtaWdodCByZWR1Y2UgdGhlIHJhdGUgb2YgZmFsc2VcbiAqIG5lZ2F0aXZlcywgYnV0IHdpdGggdGhlIHRyYWRlLW9mZiBvZiBwb3RlbnRpYWxseSBpbnRyb2R1Y2luZyBmYWxzZSBwb3NpdGl2ZXMuXG4gKlxuICogQHBhcmFtIHt2ZWMzfSB2ZXJ0ZXhcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfdmVydGV4SGFzaEZ1bmN0aW9uKHZlcnRleCkge1xuICByZXR1cm4gYCR7KHZlcnRleFswXSArIF9PRkZTRVQpLnRvRml4ZWQoX1ZFUlRFWF9DT09SRElOQVRFX0JVQ0tFVF9TSVpFX0RJR0lUUyl9LGAgK1xuICAgICAgYCR7KHZlcnRleFsxXSArIF9PRkZTRVQpLnRvRml4ZWQoX1ZFUlRFWF9DT09SRElOQVRFX0JVQ0tFVF9TSVpFX0RJR0lUUyl9LGAgK1xuICAgICAgYCR7KHZlcnRleFsyXSArIF9PRkZTRVQpLnRvRml4ZWQoX1ZFUlRFWF9DT09SRElOQVRFX0JVQ0tFVF9TSVpFX0RJR0lUUyl9YDtcbn1cblxuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIHZlcnRleCBwb3NpdGlvbnMgZm9yIGEgc2VjdGlvbiBvZiBhIHNwaGVyZS5cbiAqXG4gKiAtIFRoZXNlIHBvaW50cyB3aWxsIGxpZSBhbG9uZyBsYXRpdHVkZS1sb25naXR1ZGUgbGluZXMuXG4gKiAtIFRoZSBzaGFwZSBpcyBjZW50ZXJlZCBhcm91bmQgdGhlIG9yaWdpbiB3aXRoIHRoZSBwb2xlcyBhbGlnbmVkIHdpdGggdGhlIHotYXhpcy5cbiAqIC0gVGhlIHJhZGl1cyBvZiB0aGUgY2lyY2xlIHdpbGwgYmUgb25lLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydFBpdGNoSW5kZXhcbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmRQaXRjaEluZGV4XG4gKiBAcGFyYW0ge251bWJlcn0gZGVsdGFQaXRjaFxuICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0QXppbXV0aEluZGV4XG4gKiBAcGFyYW0ge251bWJlcn0gZW5kQXppbXV0aEluZGV4XG4gKiBAcGFyYW0ge251bWJlcn0gZGVsdGFBemltdXRoXG4gKiBAcmV0dXJuIHtBcnJheS48TnVtYmVyPn1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGNhbGN1bGF0ZVNwaGVyaWNhbFNlY3Rpb24oc3RhcnRQaXRjaEluZGV4LCBlbmRQaXRjaEluZGV4LCBkZWx0YVBpdGNoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydEF6aW11dGhJbmRleCwgZW5kQXppbXV0aEluZGV4LCBkZWx0YUF6aW11dGgpIHtcbiAgY29uc3QgdmVydGV4UG9zaXRpb25zID0gW107XG4gIGxldCB2ZXJ0ZXhQb3NpdGlvbnNJbmRleCA9IDA7XG5cbiAgbGV0IHBpdGNoSW5kZXg7XG4gIGxldCBhemltdXRoSW5kZXg7XG4gIGxldCBsb3dlclBpdGNoO1xuICBsZXQgdXBwZXJQaXRjaDtcbiAgbGV0IGxvd2VyQXppbXV0aDtcbiAgbGV0IHVwcGVyQXppbXV0aDtcbiAgbGV0IHgxO1xuICBsZXQgeTE7XG4gIGxldCB6MTtcbiAgbGV0IHgyO1xuICBsZXQgeTI7XG4gIGxldCB6MjtcbiAgbGV0IHgzO1xuICBsZXQgeTM7XG4gIGxldCB6MztcbiAgbGV0IHg0O1xuICBsZXQgeTQ7XG4gIGxldCB6NDtcblxuICAvLyBUT0RPOiBUaGlzIGltcGxlbWVudGF0aW9uIGNhbGN1bGF0ZXMgYWxsIGNvb3JkaW5hdGVzIG11bHRpcGxlIHRpbWVzLiBSZWZhY3RvciBpdCB0byBiZSBtb3JlXG4gIC8vIGVmZmljaWVudC5cblxuICAvLyBMb29wIG92ZXIgZWFjaCBsYXRpdHVkaW5hbCBzdHJpcC5cbiAgZm9yIChwaXRjaEluZGV4ID0gc3RhcnRQaXRjaEluZGV4OyBwaXRjaEluZGV4IDwgZW5kUGl0Y2hJbmRleDsgcGl0Y2hJbmRleCsrKSB7XG4gICAgbG93ZXJQaXRjaCA9IGRlbHRhUGl0Y2ggKiBwaXRjaEluZGV4O1xuICAgIHVwcGVyUGl0Y2ggPSBkZWx0YVBpdGNoICsgbG93ZXJQaXRjaDtcblxuICAgIC8vIENyZWF0ZSB0aGUgdHJpYW5nbGVzIGZvciB0aGUgc3RyaXAgYXQgdGhlIGN1cnJlbnQgcGl0Y2guXG4gICAgZm9yIChhemltdXRoSW5kZXggPSBzdGFydEF6aW11dGhJbmRleDsgYXppbXV0aEluZGV4IDwgZW5kQXppbXV0aEluZGV4OyBhemltdXRoSW5kZXgrKykge1xuICAgICAgbG93ZXJBemltdXRoID0gZGVsdGFBemltdXRoICogYXppbXV0aEluZGV4O1xuICAgICAgdXBwZXJBemltdXRoID0gZGVsdGFBemltdXRoICsgbG93ZXJBemltdXRoO1xuXG4gICAgICAvLyBUaGUgY29ybmVycyBvZiB0aGUgY3VycmVudCBzcXVhcmUuXG5cbiAgICAgIHgxID0gTWF0aC5zaW4obG93ZXJQaXRjaCkgKiBNYXRoLmNvcyhsb3dlckF6aW11dGgpO1xuICAgICAgeTEgPSBNYXRoLnNpbihsb3dlclBpdGNoKSAqIE1hdGguc2luKGxvd2VyQXppbXV0aCk7XG4gICAgICB6MSA9IE1hdGguY29zKGxvd2VyUGl0Y2gpO1xuXG4gICAgICB4MiA9IE1hdGguc2luKHVwcGVyUGl0Y2gpICogTWF0aC5jb3MobG93ZXJBemltdXRoKTtcbiAgICAgIHkyID0gTWF0aC5zaW4odXBwZXJQaXRjaCkgKiBNYXRoLnNpbihsb3dlckF6aW11dGgpO1xuICAgICAgejIgPSBNYXRoLmNvcyh1cHBlclBpdGNoKTtcblxuICAgICAgeDMgPSBNYXRoLnNpbihsb3dlclBpdGNoKSAqIE1hdGguY29zKHVwcGVyQXppbXV0aCk7XG4gICAgICB5MyA9IE1hdGguc2luKGxvd2VyUGl0Y2gpICogTWF0aC5zaW4odXBwZXJBemltdXRoKTtcbiAgICAgIHozID0gTWF0aC5jb3MobG93ZXJQaXRjaCk7XG5cbiAgICAgIHg0ID0gTWF0aC5zaW4odXBwZXJQaXRjaCkgKiBNYXRoLmNvcyh1cHBlckF6aW11dGgpO1xuICAgICAgeTQgPSBNYXRoLnNpbih1cHBlclBpdGNoKSAqIE1hdGguc2luKHVwcGVyQXppbXV0aCk7XG4gICAgICB6NCA9IE1hdGguY29zKHVwcGVyUGl0Y2gpO1xuXG4gICAgICAvLyBUaGUgZmlyc3QgdHJpYW5nbGUuXG5cbiAgICAgIHZlcnRleFBvc2l0aW9uc1t2ZXJ0ZXhQb3NpdGlvbnNJbmRleF0gPSB4MTtcbiAgICAgIHZlcnRleFBvc2l0aW9uc1t2ZXJ0ZXhQb3NpdGlvbnNJbmRleCArIDFdID0geTE7XG4gICAgICB2ZXJ0ZXhQb3NpdGlvbnNbdmVydGV4UG9zaXRpb25zSW5kZXggKyAyXSA9IHoxO1xuICAgICAgdmVydGV4UG9zaXRpb25zW3ZlcnRleFBvc2l0aW9uc0luZGV4ICsgM10gPSB4MjtcbiAgICAgIHZlcnRleFBvc2l0aW9uc1t2ZXJ0ZXhQb3NpdGlvbnNJbmRleCArIDRdID0geTI7XG4gICAgICB2ZXJ0ZXhQb3NpdGlvbnNbdmVydGV4UG9zaXRpb25zSW5kZXggKyA1XSA9IHoyO1xuICAgICAgdmVydGV4UG9zaXRpb25zW3ZlcnRleFBvc2l0aW9uc0luZGV4ICsgNl0gPSB4MztcbiAgICAgIHZlcnRleFBvc2l0aW9uc1t2ZXJ0ZXhQb3NpdGlvbnNJbmRleCArIDddID0geTM7XG4gICAgICB2ZXJ0ZXhQb3NpdGlvbnNbdmVydGV4UG9zaXRpb25zSW5kZXggKyA4XSA9IHozO1xuXG4gICAgICAvLyBUaGUgc2Vjb25kIHRyaWFuZ2xlLlxuXG4gICAgICB2ZXJ0ZXhQb3NpdGlvbnNbdmVydGV4UG9zaXRpb25zSW5kZXggKyA5XSA9IHg0O1xuICAgICAgdmVydGV4UG9zaXRpb25zW3ZlcnRleFBvc2l0aW9uc0luZGV4ICsgMTBdID0geTQ7XG4gICAgICB2ZXJ0ZXhQb3NpdGlvbnNbdmVydGV4UG9zaXRpb25zSW5kZXggKyAxMV0gPSB6NDtcbiAgICAgIHZlcnRleFBvc2l0aW9uc1t2ZXJ0ZXhQb3NpdGlvbnNJbmRleCArIDEyXSA9IHgzO1xuICAgICAgdmVydGV4UG9zaXRpb25zW3ZlcnRleFBvc2l0aW9uc0luZGV4ICsgMTNdID0geTM7XG4gICAgICB2ZXJ0ZXhQb3NpdGlvbnNbdmVydGV4UG9zaXRpb25zSW5kZXggKyAxNF0gPSB6MztcbiAgICAgIHZlcnRleFBvc2l0aW9uc1t2ZXJ0ZXhQb3NpdGlvbnNJbmRleCArIDE1XSA9IHgyO1xuICAgICAgdmVydGV4UG9zaXRpb25zW3ZlcnRleFBvc2l0aW9uc0luZGV4ICsgMTZdID0geTI7XG4gICAgICB2ZXJ0ZXhQb3NpdGlvbnNbdmVydGV4UG9zaXRpb25zSW5kZXggKyAxN10gPSB6MjtcblxuICAgICAgdmVydGV4UG9zaXRpb25zSW5kZXggKz0gMTg7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHZlcnRleFBvc2l0aW9ucztcbn1cblxuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIHZlcnRleCBwb3NpdGlvbnMgZm9yIGEgc2VjdGlvbiBvZiBhIGN5bGluZGVyLlxuICpcbiAqIFRoZSBzaGFwZSBpcyBjZW50ZXJlZCBhcm91bmQgdGhlIG9yaWdpbiB3aXRoIHRoZSBwb2xlcyBhbGlnbmVkIHdpdGggdGhlIHotYXhpcy5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gY3lsaW5kZXJCb3R0b21cbiAqIEBwYXJhbSB7bnVtYmVyfSBjeWxpbmRlclRvcFxuICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0SW5kZXhcbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmRJbmRleFxuICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhXG4gKiBAcmV0dXJucyB7QXJyYXkuPE51bWJlcj59XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBjYWxjdWxhdGVDeWxpbmRyaWNhbFNlY3Rpb24oY3lsaW5kZXJCb3R0b20sIGN5bGluZGVyVG9wLCBzdGFydEluZGV4LCBlbmRJbmRleCwgZGVsdGEpIHtcbiAgY29uc3QgdmVydGV4UG9zaXRpb25zID0gW107XG4gIGxldCB2ZXJ0ZXhQb3NpdGlvbnNJbmRleCA9IDA7XG5cbiAgbGV0IGluZGV4O1xuICBsZXQgbG93ZXJBemltdXRoO1xuICBsZXQgdXBwZXJBemltdXRoO1xuICBsZXQgeDE7XG4gIGxldCB5MTtcbiAgbGV0IHoxO1xuICBsZXQgeDI7XG4gIGxldCB5MjtcbiAgbGV0IHoyO1xuICBsZXQgeDM7XG4gIGxldCB5MztcbiAgbGV0IHozO1xuICBsZXQgeDQ7XG4gIGxldCB5NDtcbiAgbGV0IHo0O1xuXG4gIC8vIENyZWF0ZSB0aGUgdHJpYW5nbGVzIGZvciB0aGUgY3lsaW5kcmljYWwgc3RyaXAuXG4gIGZvciAoaW5kZXggPSBzdGFydEluZGV4OyBpbmRleCA8IGVuZEluZGV4OyBpbmRleCsrKSB7XG4gICAgbG93ZXJBemltdXRoID0gZGVsdGEgKiBpbmRleDtcbiAgICB1cHBlckF6aW11dGggPSBkZWx0YSArIGxvd2VyQXppbXV0aDtcblxuICAgIC8vIFRoZSBjb3JuZXJzIG9mIHRoZSBjdXJyZW50IHNxdWFyZS5cblxuICAgIHgxID0gTWF0aC5jb3MobG93ZXJBemltdXRoKTtcbiAgICB5MSA9IE1hdGguc2luKGxvd2VyQXppbXV0aCk7XG4gICAgejEgPSBjeWxpbmRlckJvdHRvbTtcblxuICAgIHgyID0gTWF0aC5jb3MobG93ZXJBemltdXRoKTtcbiAgICB5MiA9IE1hdGguc2luKGxvd2VyQXppbXV0aCk7XG4gICAgejIgPSBjeWxpbmRlclRvcDtcblxuICAgIHgzID0gTWF0aC5jb3ModXBwZXJBemltdXRoKTtcbiAgICB5MyA9IE1hdGguc2luKHVwcGVyQXppbXV0aCk7XG4gICAgejMgPSBjeWxpbmRlckJvdHRvbTtcblxuICAgIHg0ID0gTWF0aC5jb3ModXBwZXJBemltdXRoKTtcbiAgICB5NCA9IE1hdGguc2luKHVwcGVyQXppbXV0aCk7XG4gICAgejQgPSBjeWxpbmRlclRvcDtcblxuICAgIC8vIFRoZSBmaXJzdCB0cmlhbmdsZS5cblxuICAgIHZlcnRleFBvc2l0aW9uc1t2ZXJ0ZXhQb3NpdGlvbnNJbmRleF0gPSB4MTtcbiAgICB2ZXJ0ZXhQb3NpdGlvbnNbdmVydGV4UG9zaXRpb25zSW5kZXggKyAxXSA9IHkxO1xuICAgIHZlcnRleFBvc2l0aW9uc1t2ZXJ0ZXhQb3NpdGlvbnNJbmRleCArIDJdID0gejE7XG4gICAgdmVydGV4UG9zaXRpb25zW3ZlcnRleFBvc2l0aW9uc0luZGV4ICsgM10gPSB4MjtcbiAgICB2ZXJ0ZXhQb3NpdGlvbnNbdmVydGV4UG9zaXRpb25zSW5kZXggKyA0XSA9IHkyO1xuICAgIHZlcnRleFBvc2l0aW9uc1t2ZXJ0ZXhQb3NpdGlvbnNJbmRleCArIDVdID0gejI7XG4gICAgdmVydGV4UG9zaXRpb25zW3ZlcnRleFBvc2l0aW9uc0luZGV4ICsgNl0gPSB4MztcbiAgICB2ZXJ0ZXhQb3NpdGlvbnNbdmVydGV4UG9zaXRpb25zSW5kZXggKyA3XSA9IHkzO1xuICAgIHZlcnRleFBvc2l0aW9uc1t2ZXJ0ZXhQb3NpdGlvbnNJbmRleCArIDhdID0gejM7XG5cbiAgICAvLyBUaGUgc2Vjb25kIHRyaWFuZ2xlLlxuXG4gICAgdmVydGV4UG9zaXRpb25zW3ZlcnRleFBvc2l0aW9uc0luZGV4ICsgOV0gPSB4NDtcbiAgICB2ZXJ0ZXhQb3NpdGlvbnNbdmVydGV4UG9zaXRpb25zSW5kZXggKyAxMF0gPSB5NDtcbiAgICB2ZXJ0ZXhQb3NpdGlvbnNbdmVydGV4UG9zaXRpb25zSW5kZXggKyAxMV0gPSB6NDtcbiAgICB2ZXJ0ZXhQb3NpdGlvbnNbdmVydGV4UG9zaXRpb25zSW5kZXggKyAxMl0gPSB4MztcbiAgICB2ZXJ0ZXhQb3NpdGlvbnNbdmVydGV4UG9zaXRpb25zSW5kZXggKyAxM10gPSB5MztcbiAgICB2ZXJ0ZXhQb3NpdGlvbnNbdmVydGV4UG9zaXRpb25zSW5kZXggKyAxNF0gPSB6MztcbiAgICB2ZXJ0ZXhQb3NpdGlvbnNbdmVydGV4UG9zaXRpb25zSW5kZXggKyAxNV0gPSB4MjtcbiAgICB2ZXJ0ZXhQb3NpdGlvbnNbdmVydGV4UG9zaXRpb25zSW5kZXggKyAxNl0gPSB5MjtcbiAgICB2ZXJ0ZXhQb3NpdGlvbnNbdmVydGV4UG9zaXRpb25zSW5kZXggKyAxN10gPSB6MjtcblxuICAgIHZlcnRleFBvc2l0aW9uc0luZGV4ICs9IDE4O1xuICB9XG5cbiAgcmV0dXJuIHZlcnRleFBvc2l0aW9ucztcbn1cblxuLyoqXG4gKiBTY2FsZSBhbmQgdGhlbiB0cmFuc2xhdGUgdGhlIDMtZGltZW5zaW9uYWwgcG9zaXRpb25zIGluIHRoZSBnaXZlbiBmbGF0dGVuZWQgYXJyYXkuXG4gKlxuICogVGhlIHNoYXBlIGlzIGNlbnRlcmVkIGFyb3VuZCB0aGUgb3JpZ2luIHdpdGggdGhlIHBvbGVzIGFsaWduZWQgd2l0aCB0aGUgei1heGlzLlxuICpcbiAqIEBwYXJhbSB7QXJyYXkuPE51bWJlcj59IHZlcnRleFBvc2l0aW9ucyBPdXRwdXQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleFxuICogQHBhcmFtIHtudW1iZXJ9IGVuZEluZGV4XG4gKiBAcGFyYW0ge3ZlYzN9IHNjYWxlXG4gKiBAcGFyYW0ge3ZlYzN9IHRyYW5zbGF0ZVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gc2NhbGVUaGVuVHJhbnNsYXRlUG9zaXRpb25zKHZlcnRleFBvc2l0aW9ucywgc3RhcnRJbmRleCwgZW5kSW5kZXgsIHNjYWxlLCB0cmFuc2xhdGUpIHtcbiAgY29uc3Qgc2NhbGVYID0gc2NhbGVbMF07XG4gIGNvbnN0IHNjYWxlWSA9IHNjYWxlWzFdO1xuICBjb25zdCBzY2FsZVogPSBzY2FsZVsyXTtcbiAgY29uc3QgdHJhbnNsYXRlWCA9IHRyYW5zbGF0ZVswXTtcbiAgY29uc3QgdHJhbnNsYXRlWSA9IHRyYW5zbGF0ZVsxXTtcbiAgY29uc3QgdHJhbnNsYXRlWiA9IHRyYW5zbGF0ZVsyXTtcblxuICBmb3IgKGxldCBpID0gc3RhcnRJbmRleDsgaSA8IGVuZEluZGV4OyBpICs9IDMpIHtcbiAgICB2ZXJ0ZXhQb3NpdGlvbnNbaV0gPSB2ZXJ0ZXhQb3NpdGlvbnNbaV0gKiBzY2FsZVggKyB0cmFuc2xhdGVYO1xuICAgIHZlcnRleFBvc2l0aW9uc1tpICsgMV0gPSB2ZXJ0ZXhQb3NpdGlvbnNbaSArIDFdICogc2NhbGVZICsgdHJhbnNsYXRlWTtcbiAgICB2ZXJ0ZXhQb3NpdGlvbnNbaSArIDJdID0gdmVydGV4UG9zaXRpb25zW2kgKyAyXSAqIHNjYWxlWiArIHRyYW5zbGF0ZVo7XG4gIH1cbn1cblxuLy8gRXhwb3J0IHRoaXMgbW9kdWxlJ3MgbG9naWNcblxuZXhwb3J0IHtcbiAgZ2V0Vmlld3BvcnRXaWR0aCxcbiAgZ2V0Vmlld3BvcnRIZWlnaHQsXG4gIGdldFdlYkdMQ29udGV4dCxcbiAgY3JlYXRlQnVmZmVyLFxuICBnZXRBdHRyaWJMb2NhdGlvbixcbiAgYnVpbGRQcm9ncmFtLFxuICBidWlsZFNoYWRlcixcbiAgbG9hZFNoYWRlcixcbiAgbG9hZFByb2dyYW0sXG4gIGNyZWF0ZUJ1ZmZlckZyb21EYXRhLFxuICBiaW5kR0xDb250ZXh0VG9WaWV3cG9ydERpbWVuc2lvbnMsXG4gIGJpbmRGcmFtZWJ1ZmZlcixcbiAgY3JlYXRlRnJhbWVidWZmZXIsXG4gIGNyZWF0ZVRleHR1cmVGb3JSZW5kZXJpbmcsXG4gIGNyZWF0ZVJlbmRlckJ1ZmZlcixcbiAgY3JlYXRlMkRTcXVhcmVQb3NpdGlvbnNDb25maWcsXG5cbiAgZXhwYW5kVmVydGV4SW5kaWNlc1RvRHVwbGljYXRlUG9zaXRpb25zLFxuICBjYWxjdWxhdGVPcnRob2dvbmFsVmVydGV4Tm9ybWFscyxcbiAgY2FsY3VsYXRlTGF0TG9uZ1RleHR1cmVDb29yZGluYXRlcyxcbiAgY2FsY3VsYXRlQ3lsaW5kcmljYWxUZXh0dXJlQ29vcmRpbmF0ZXMsXG4gIGV4cGFuZFZlcnRleEluZGljZXNBcm91bmRMb25naXR1ZGVTZWFtLFxuICB0ZXNzZWxhdGVTcGhlcmUsXG4gIGRlZHVwVmVydGV4QXJyYXlXaXRoUG9zaXRpb25zQW5kSW5kaWNlc0FycmF5cyxcbiAgY2FsY3VsYXRlU3BoZXJpY2FsU2VjdGlvbixcbiAgY2FsY3VsYXRlQ3lsaW5kcmljYWxTZWN0aW9uLFxuICBzY2FsZVRoZW5UcmFuc2xhdGVQb3NpdGlvbnMsXG59O1xuXG4vLyBTb21lIHR5cGUgZGVmcyB0byBtYWtlIG15IGVkaXRvcidzIGF1dG8tY29tcGxldGUgaGFwcHkuXG5cbi8qKiBAdHlwZWRlZiB7T2JqZWN0fSBXZWJHTFByb2dyYW0gKi9cbi8qKiBAdHlwZWRlZiB7T2JqZWN0fSBXZWJHTFNoYWRlciAqL1xuLyoqIEB0eXBlZGVmIHtPYmplY3R9IFdlYkdMQnVmZmVyICovXG4vKiogQHR5cGVkZWYge09iamVjdH0gV2ViR0xUZXh0dXJlICovXG4vKiogQHR5cGVkZWYge0Zsb2F0MzJBcnJheXxBcnJheS48TnVtYmVyPn0gbWF0MyAqL1xuLyoqIEB0eXBlZGVmIHtGbG9hdDMyQXJyYXl8QXJyYXkuPE51bWJlcj59IG1hdDQgKi9cbi8qKiBAdHlwZWRlZiB7RmxvYXQzMkFycmF5fEFycmF5LjxOdW1iZXI+fSBxdWF0ICovXG4vKiogQHR5cGVkZWYge0Zsb2F0MzJBcnJheXxBcnJheS48TnVtYmVyPn0gdmVjMiAqL1xuLyoqIEB0eXBlZGVmIHtGbG9hdDMyQXJyYXl8QXJyYXkuPE51bWJlcj59IHZlYzMgKi9cbi8qKiBAdHlwZWRlZiB7RmxvYXQzMkFycmF5fEFycmF5LjxOdW1iZXI+fSB2ZWM0ICovXG4iLCIvKipcbiAqIEEgaGFzaCBtYXAgdGhhdCB1c2VzIGEgY3VzdG9tIGhhc2ggZnVuY3Rpb24uXG4gKi9cbmNsYXNzIEhhc2hNYXAge1xuICAvKipcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaGFzaEZ1bmN0aW9uXG4gICAqL1xuICBjb25zdHJ1Y3RvcihoYXNoRnVuY3Rpb24pIHtcbiAgICB0aGlzLl9oYXNoRnVuY3Rpb24gPSBoYXNoRnVuY3Rpb247XG4gICAgdGhpcy5fbWFwID0gbmV3IE1hcCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBrZXlcbiAgICogQHBhcmFtIHtPYmplY3R9IHZhbHVlXG4gICAqL1xuICBzZXQoa2V5LCB2YWx1ZSkge1xuICAgIGNvbnN0IGhhc2hDb2RlID0gdGhpcy5faGFzaEZ1bmN0aW9uKGtleSk7XG4gICAgdGhpcy5fbWFwLnNldChoYXNoQ29kZSwgdmFsdWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBrZXlcbiAgICogQHJldHVybnMge09iamVjdH1cbiAgICovXG4gIGdldChrZXkpIHtcbiAgICBjb25zdCBoYXNoQ29kZSA9IHRoaXMuX2hhc2hGdW5jdGlvbihrZXkpO1xuICAgIHJldHVybiB0aGlzLl9tYXAuZ2V0KGhhc2hDb2RlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge09iamVjdH0ga2V5XG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgaGFzKGtleSkge1xuICAgIGNvbnN0IGhhc2hDb2RlID0gdGhpcy5faGFzaEZ1bmN0aW9uKGtleSk7XG4gICAgcmV0dXJuIHRoaXMuX21hcC5oYXMoaGFzaENvZGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBpdGVtXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgcmVtb3ZlKGl0ZW0pIHtcbiAgICByZXR1cm4gdGhpcy5fbWFwLmRlbGV0ZShpdGVtKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgKi9cbiAgZm9yRWFjaChjYWxsYmFjaykge1xuICAgIHRoaXMuX21hcC5mb3JFYWNoKGNhbGxiYWNrKTtcbiAgfVxuXG4gIGNsZWFyKCkge1xuICAgIHRoaXMuX21hcC5jbGVhcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAqL1xuICBnZXQgc2l6ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fbWFwLnNpemU7XG4gIH1cbn1cblxuZXhwb3J0IHtIYXNoTWFwfTtcbiIsIi8qKlxuICogVGhpcyBtb2R1bGUgZGVmaW5lcyBhIGNvbGxlY3Rpb24gb2Ygc3RhdGljIGdlbmVyYWwgdXRpbGl0eSBmdW5jdGlvbnMuXG4gKi9cblxuLy8gVE9ETzogVGhpcyBzaG91bGQgYmUgc2V0IGZyb20gc29tZXdoZXJlIGVsc2UgKHByb2JhYmx5IGFzIGEgcGFyYW0gdG8gY29udHJvbGxlciBsaWtlIGJlZm9yZTsgYnV0IHRoZW4gSSBuZWVkIHRvIG1ha2UgdGhpcyB1cGRhdGFibGUpXG5jb25zdCBpc0luRGV2TW9kZSA9IHRydWU7XG5cbi8qKlxuICogQWRkcyBhbiBldmVudCBsaXN0ZW5lciBmb3IgZWFjaCBvZiB0aGUgZ2l2ZW4gZXZlbnRzIHRvIGVhY2ggb2YgdGhlIGdpdmVuIGVsZW1lbnRzLlxuICpcbiAqIEBwYXJhbSB7QXJyYXkuPEhUTUxFbGVtZW50Pn0gZWxlbWVudHMgVGhlIGVsZW1lbnRzIHRvIGFkZCBldmVudCBsaXN0ZW5lcnMgdG8uXG4gKiBAcGFyYW0ge0FycmF5LjxTdHJpbmc+fSBldmVudHMgVGhlIGV2ZW50IGxpc3RlbmVycyB0byBhZGQgdG8gdGhlIGVsZW1lbnRzLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIHNpbmdsZSBjYWxsYmFjayBmb3IgaGFuZGxpbmcgdGhlIGV2ZW50cy5cbiAqL1xuZnVuY3Rpb24gbGlzdGVuVG9NdWx0aXBsZUZvck11bHRpcGxlKGVsZW1lbnRzLCBldmVudHMsIGNhbGxiYWNrKSB7XG4gIGVsZW1lbnRzLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgZXZlbnRzLmZvckVhY2goZXZlbnQgPT4ge1xuICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBjYWxsYmFjaywgZmFsc2UpO1xuICAgIH0pO1xuICB9KTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgRE9NIGVsZW1lbnQgd2l0aCB0aGUgZ2l2ZW4gdGFnIG5hbWUsIGFwcGVuZHMgaXQgdG8gdGhlIGdpdmVuIHBhcmVudCBlbGVtZW50LCBhbmRcbiAqIGdpdmVzIGl0IHRoZSBnaXZlbiBpZCBhbmQgY2xhc3Nlcy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdGFnTmFtZSBUaGUgdGFnIG5hbWUgdG8gZ2l2ZSB0aGUgbmV3IGVsZW1lbnQuXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBbcGFyZW50XSBUaGUgcGFyZW50IGVsZW1lbnQgdG8gYXBwZW5kIHRoZSBuZXcgZWxlbWVudCB0by5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbaWRdIFRoZSBpZCB0byBnaXZlIHRoZSBuZXcgZWxlbWVudC5cbiAqIEBwYXJhbSB7QXJyYXkuPFN0cmluZz59IFtjbGFzc2VzXSBUaGUgY2xhc3NlcyB0byBnaXZlIHRoZSBuZXcgZWxlbWVudC5cbiAqIEByZXR1cm5zIHtIVE1MRWxlbWVudH0gVGhlIG5ldyBlbGVtZW50LlxuICovXG5mdW5jdGlvbiBjcmVhdGVFbGVtZW50KHRhZ05hbWUsIHBhcmVudCwgaWQsIGNsYXNzZXMpIHtcbiAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnTmFtZSk7XG4gIGlmIChwYXJlbnQpIHtcbiAgICBwYXJlbnQuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gIH1cbiAgaWYgKGlkKSB7XG4gICAgZWxlbWVudC5pZCA9IGlkO1xuICB9XG4gIGlmIChjbGFzc2VzKSB7XG4gICAgY2xhc3Nlcy5mb3JFYWNoKGNsYXNzTmFtZSA9PiBhZGRDbGFzcyhlbGVtZW50LCBjbGFzc05hbWUpKTtcbiAgfVxuICByZXR1cm4gZWxlbWVudDtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgdGhlIGdpdmVuIGVsZW1lbnQgY29udGFpbnMgdGhlIGdpdmVuIGNsYXNzLlxuICpcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgVGhlIGVsZW1lbnQgdG8gY2hlY2suXG4gKiBAcGFyYW0ge3N0cmluZ30gY2xhc3NOYW1lIFRoZSBjbGFzcyB0byBjaGVjayBmb3IuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgZWxlbWVudCBkb2VzIGNvbnRhaW4gdGhlIGNsYXNzLlxuICovXG5mdW5jdGlvbiBjb250YWluc0NsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSkge1xuICBsZXQgc3RhcnRJbmRleDtcbiAgbGV0IGluZGV4QWZ0ZXJFbmQ7XG4gIHN0YXJ0SW5kZXggPSBlbGVtZW50LmNsYXNzTmFtZS5pbmRleE9mKGNsYXNzTmFtZSk7XG4gIGlmIChzdGFydEluZGV4ID49IDApIHtcbiAgICBpZiAoc3RhcnRJbmRleCA9PT0gMCB8fCBlbGVtZW50LmNsYXNzTmFtZVtzdGFydEluZGV4IC0gMV0gPT09ICcgJykge1xuICAgICAgaW5kZXhBZnRlckVuZCA9IHN0YXJ0SW5kZXggKyBjbGFzc05hbWUubGVuZ3RoO1xuICAgICAgaWYgKGluZGV4QWZ0ZXJFbmQgPT09IGVsZW1lbnQuY2xhc3NOYW1lLmxlbmd0aCB8fFxuICAgICAgICBlbGVtZW50LmNsYXNzTmFtZVtpbmRleEFmdGVyRW5kXSA9PT0gJyAnKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogVG9nZ2xlcyB3aGV0aGVyIHRoZSBnaXZlbiBlbGVtZW50IGhhcyB0aGUgZ2l2ZW4gY2xhc3MuIElmIHRoZSBlbmFibGVkIGFyZ3VtZW50IGlzIGdpdmVuLCB0aGVuXG4gKiB0aGUgaW5jbHVzaW9uIG9mIHRoZSBjbGFzcyB3aWxsIGJlIGZvcmNlZC4gVGhhdCBpcywgaWYgZW5hYmxlZD10cnVlLCB0aGVuIHRoaXMgd2lsbCBlbnN1cmUgdGhlXG4gKiBlbGVtZW50IGhhcyB0aGUgY2xhc3M7IGlmIGVuYWJsZWQ9ZmFsc2UsIHRoZW4gdGhpcyB3aWxsIGVuc3VyZSB0aGUgZWxlbWVudCBkb2VzIE5PVCBoYXZlIHRoZVxuICogY2xhc3M7IGlmIGVuYWJsZWQ9dW5kZWZpbmVkLCB0aGVuIHRoaXMgd2lsbCBzaW1wbHkgdG9nZ2xlIHdoZXRoZXIgdGhlIGVsZW1lbnQgaGFzIHRoZSBjbGFzcy5cbiAqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IFRoZSBlbGVtZW50IHRvIGFkZCB0aGUgY2xhc3MgdG8gb3IgcmVtb3ZlIHRoZSBjbGFzcyBmcm9tLlxuICogQHBhcmFtIHtzdHJpbmd9IGNsYXNzTmFtZSBUaGUgY2xhc3MgdG8gYWRkIG9yIHJlbW92ZS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2VuYWJsZWRdIElmIGdpdmVuLCB0aGVuIHRoZSBpbmNsdXNpb24gb2YgdGhlIGNsYXNzIHdpbGwgYmUgZm9yY2VkLlxuICovXG5mdW5jdGlvbiB0b2dnbGVDbGFzcyhlbGVtZW50LCBjbGFzc05hbWUsIGVuYWJsZWQpIHtcbiAgaWYgKHR5cGVvZiBlbmFibGVkID09PSAndW5kZWZpbmVkJykge1xuICAgIGlmIChjb250YWluc0NsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSkpIHtcbiAgICAgIHJlbW92ZUNsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgYWRkQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lKTtcbiAgICB9XG4gIH1cbiAgZWxzZSBpZiAoZW5hYmxlZCkge1xuICAgIGFkZENsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSk7XG4gIH1cbiAgZWxzZSB7XG4gICAgcmVtb3ZlQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lKTtcbiAgfVxufVxuXG4vKipcbiAqIEdldHMgdGhlIGNvb3JkaW5hdGVzIG9mIHRoZSBlbGVtZW50IHJlbGF0aXZlIHRvIHRoZSB0b3AtbGVmdCBjb3JuZXIgb2YgdGhlIHBhZ2UuXG4gKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCBUaGUgZWxlbWVudCB0byBnZXQgdGhlIGNvb3JkaW5hdGVzIG9mLlxuICogQHJldHVybnMge3t4OiBOdW1iZXIsIHk6IE51bWJlcn19IFRoZSBjb29yZGluYXRlcyBvZiB0aGUgZWxlbWVudCByZWxhdGl2ZSB0byB0aGUgdG9wLWxlZnRcbiAqIGNvcm5lciBvZiB0aGUgcGFnZS5cbiAqL1xuZnVuY3Rpb24gZ2V0UGFnZU9mZnNldChlbGVtZW50KSB7XG4gIGxldCB4ID0gMDtcbiAgbGV0IHkgPSAwO1xuICB3aGlsZSAoZWxlbWVudCkge1xuICAgIHggKz0gZWxlbWVudC5vZmZzZXRMZWZ0O1xuICAgIHkgKz0gZWxlbWVudC5vZmZzZXRUb3A7XG4gICAgZWxlbWVudCA9IGVsZW1lbnQub2Zmc2V0UGFyZW50O1xuICB9XG4gIHggLT0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQ7XG4gIHkgLT0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcbiAgcmV0dXJuIHsgeDogeCwgeTogeSB9O1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGRpbWVuc2lvbnMgb2YgdGhlIHZpZXdwb3J0LlxuICpcbiAqIEByZXR1cm5zIHt7dzogTnVtYmVyLCBoOiBOdW1iZXJ9fSBUaGUgZGltZW5zaW9ucyBvZiB0aGUgdmlld3BvcnQuXG4gKi9cbmZ1bmN0aW9uIGdldFZpZXdwb3J0U2l6ZSgpIHtcbiAgbGV0IHc7XG4gIGxldCBoO1xuICBpZiAodHlwZW9mIHdpbmRvdy5pbm5lcldpZHRoICE9PSAndW5kZWZpbmVkJykge1xuICAgIC8vIEdvb2QgYnJvd3NlcnNcbiAgICB3ID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgaCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgfVxuICBlbHNlIGlmICh0eXBlb2YgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIHR5cGVvZiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggIT09ICd1bmRlZmluZWQnICYmXG4gICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoICE9PSAwKSB7XG4gICAgLy8gSUU2IGluIHN0YW5kYXJkcyBjb21wbGlhbnQgbW9kZVxuICAgIHcgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGg7XG4gICAgaCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ7XG4gIH1cbiAgZWxzZSB7XG4gICAgLy8gT2xkZXIgdmVyc2lvbnMgb2YgSUVcbiAgICB3ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2JvZHknKVswXS5jbGllbnRXaWR0aDtcbiAgICBoID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2JvZHknKVswXS5jbGllbnRIZWlnaHQ7XG4gIH1cbiAgcmV0dXJuIHsgdzogdywgaDogaCB9O1xufVxuXG4vKipcbiAqIFJlbW92ZXMgdGhlIGdpdmVuIGNoaWxkIGVsZW1lbnQgZnJvbSB0aGUgZ2l2ZW4gcGFyZW50IGVsZW1lbnQgaWYgdGhlIGNoaWxkIGRvZXMgaW5kZWVkIGJlbG9uZ1xuICogdG8gdGhlIHBhcmVudC5cbiAqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBwYXJlbnQgVGhlIHBhcmVudCB0byByZW1vdmUgdGhlIGNoaWxkIGZyb20uXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBjaGlsZCBUaGUgY2hpbGQgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIGNoaWxkIGRpZCBpbmRlZWQgYmVsb25nIHRvIHRoZSBwYXJlbnQuXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUNoaWxkSWZQcmVzZW50KHBhcmVudCwgY2hpbGQpIHtcbiAgaWYgKGNoaWxkICYmIGNoaWxkLnBhcmVudE5vZGUgPT09IHBhcmVudCkge1xuICAgIHBhcmVudC5yZW1vdmVDaGlsZChjaGlsZCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEFkZHMgdGhlIGdpdmVuIGNsYXNzIHRvIHRoZSBnaXZlbiBlbGVtZW50LlxuICpcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgVGhlIGVsZW1lbnQgdG8gYWRkIHRoZSBjbGFzcyB0by5cbiAqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc05hbWUgVGhlIGNsYXNzIHRvIGFkZC5cbiAqL1xuZnVuY3Rpb24gYWRkQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lKSB7XG4gIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdjbGFzcycsIGVsZW1lbnQuY2xhc3NOYW1lICsgJyAnICsgY2xhc3NOYW1lKTtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIHRoZSBnaXZlbiBjbGFzcyBmcm9tIHRoZSBnaXZlbiBlbGVtZW50LlxuICpcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgVGhlIGVsZW1lbnQgdG8gcmVtb3ZlIHRoZSBjbGFzcyBmcm9tLlxuICogQHBhcmFtIHtzdHJpbmd9IGNsYXNzTmFtZSBUaGUgY2xhc3MgdG8gcmVtb3ZlLlxuICovXG5mdW5jdGlvbiByZW1vdmVDbGFzcyhlbGVtZW50LCBjbGFzc05hbWUpIHtcbiAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJyxcbiAgICBlbGVtZW50LmNsYXNzTmFtZVxuICAgIC5zcGxpdCgnICcpXG4gICAgLmZpbHRlcih2YWx1ZSA9PiB2YWx1ZSAhPT0gY2xhc3NOYW1lKVxuICAgIC5qb2luKCcgJykpO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGNsYXNzZXMgZnJvbSB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IFRoZSBlbGVtZW50IHRvIHJlbW92ZSBhbGwgY2xhc3NlcyBmcm9tLlxuICovXG5mdW5jdGlvbiBjbGVhckNsYXNzZXMoZWxlbWVudCkge1xuICBlbGVtZW50LmNsYXNzTmFtZSA9ICcnO1xufVxuXG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIHdpZHRoIHRoYXQgdGhlIERPTSB3b3VsZCBnaXZlIHRvIGEgZGl2IHdpdGggdGhlIGdpdmVuIHRleHQuIFRoZSBnaXZlbiB0YWdcbiAqIG5hbWUsIHBhcmVudCwgaWQsIGFuZCBjbGFzc2VzIGFsbG93IHRoZSB3aWR0aCB0byBiZSBhZmZlY3RlZCBieSB2YXJpb3VzIENTUyBydWxlcy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dCBUaGUgdGV4dCB0byBkZXRlcm1pbmUgdGhlIHdpZHRoIG9mLlxuICogQHBhcmFtIHtzdHJpbmd9IHRhZ05hbWUgVGhlIHRhZyBuYW1lIHRoaXMgdGV4dCB3b3VsZCBzdXBwb3NlZGx5IGhhdmUuXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBbcGFyZW50XSBUaGUgcGFyZW50IHRoaXMgdGV4dCB3b3VsZCBzdXBwb3NlZGx5IGJlIGEgY2hpbGQgb2Y7IGRlZmF1bHRzXG4gKiB0byB0aGUgZG9jdW1lbnQgYm9keS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbaWRdIFRoZSBpZCB0aGlzIHRleHQgd291bGQgc3VwcG9zZWRseSBoYXZlLlxuICogQHBhcmFtIHtBcnJheS48U3RyaW5nPn0gW2NsYXNzZXNdIFRoZSBjbGFzc2VzIHRoaXMgdGV4dCB3b3VsZCBzdXBwb3NlZGx5IGhhdmUuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBUaGUgd2lkdGggb2YgdGhlIHRleHQgdW5kZXIgdGhlc2UgY29uZGl0aW9ucy5cbiAqL1xuZnVuY3Rpb24gZ2V0VGV4dFdpZHRoKHRleHQsIHRhZ05hbWUsIHBhcmVudCwgaWQsIGNsYXNzZXMpIHtcbiAgbGV0IHRtcEVsZW1lbnQ7XG4gIGxldCB3aWR0aDtcbiAgcGFyZW50ID0gcGFyZW50IHx8IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdib2R5JylbMF07XG4gIHRtcEVsZW1lbnQgPSBjcmVhdGVFbGVtZW50KHRhZ05hbWUsIG51bGwsIGlkLCBjbGFzc2VzKTtcbiAgdG1wRWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gIHRtcEVsZW1lbnQuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xuICB0bXBFbGVtZW50LnN0eWxlLndoaXRlU3BhY2UgPSAnbm93cmFwJztcbiAgcGFyZW50LmFwcGVuZENoaWxkKHRtcEVsZW1lbnQpO1xuICB0bXBFbGVtZW50LmlubmVySFRNTCA9IHRleHQ7XG4gIHdpZHRoID0gdG1wRWxlbWVudC5jbGllbnRXaWR0aDtcbiAgcGFyZW50LnJlbW92ZUNoaWxkKHRtcEVsZW1lbnQpO1xuICByZXR1cm4gd2lkdGg7XG59XG5cbi8qKlxuICogRW5jb2RlcyBhbmQgY29uY2F0ZW5hdGVzIHRoZSBnaXZlbiBVUkwgcGFyYW1ldGVycyBpbnRvIGEgc2luZ2xlIHF1ZXJ5IHN0cmluZy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcmF3UGFyYW1zIEFuIG9iamVjdCB3aG9zZSBwcm9wZXJ0aWVzIHJlcHJlc2VudCB0aGUgVVJMIHF1ZXJ5IHN0cmluZ1xuICogcGFyYW1ldGVycy5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBxdWVyeSBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIGVuY29kZVF1ZXJ5U3RyaW5nKHJhd1BhcmFtcykge1xuICBsZXQgcGFyYW1ldGVyO1xuICBsZXQgZW5jb2RlZFBhcmFtcztcbiAgZW5jb2RlZFBhcmFtcyA9IFtdO1xuICBmb3IgKHBhcmFtZXRlciBpbiByYXdQYXJhbXMpIHtcbiAgICBpZiAocmF3UGFyYW1zLmhhc093blByb3BlcnR5KHBhcmFtZXRlcikpIHtcbiAgICAgIGVuY29kZWRQYXJhbXMucHVzaChlbmNvZGVVUklDb21wb25lbnQocGFyYW1ldGVyKSArICc9JyArXG4gICAgICAgIGVuY29kZVVSSUNvbXBvbmVudChyYXdQYXJhbXNbcGFyYW1ldGVyXSkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gJz8nICsgZW5jb2RlZFBhcmFtcy5qb2luKCcmJyk7XG59XG5cbi8qKlxuICogUmV0cmlldmVzIHRoZSB2YWx1ZSBjb3JyZXNwb25kaW5nIHRvIHRoZSBnaXZlbiBuYW1lIGZyb20gdGhlIGdpdmVuIHF1ZXJ5IHN0cmluZy5cbiAqXG4gKiAoYm9ycm93ZWQgZnJvbSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzkwMTExNS9ob3ctY2FuLWktZ2V0LXF1ZXJ5LXN0cmluZy12YWx1ZXMtaW4tamF2YXNjcmlwdClcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gcXVlcnlTdHJpbmcgVGhlIHF1ZXJ5IHN0cmluZyBjb250YWluaW5nIHRoZSBwYXJhbWV0ZXIuXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgKG5vbi1lbmNvZGVkKSBuYW1lIG9mIHRoZSBwYXJhbWV0ZXIgdmFsdWUgdG8gcmV0cmlldmUuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgcXVlcnkgc3RyaW5nIHBhcmFtZXRlciB2YWx1ZSwgb3IgbnVsbCBpZiB0aGUgcGFyYW1ldGVyIHdhcyBub3QgZm91bmQuXG4gKi9cbmZ1bmN0aW9uIGdldFF1ZXJ5U3RyaW5nUGFyYW1ldGVyVmFsdWUocXVlcnlTdHJpbmcsIG5hbWUpIHtcbiAgbGV0IHJlZ2V4O1xuICBsZXQgcmVzdWx0cztcbiAgbmFtZSA9IGVuY29kZVVSSUNvbXBvbmVudChuYW1lKTtcbiAgbmFtZSA9IG5hbWUucmVwbGFjZSgvW1xcW10vLCAnXFxcXFsnKS5yZXBsYWNlKC9bXFxdXS8sICdcXFxcXScpO1xuICByZWdleCA9IG5ldyBSZWdFeHAoJ1tcXFxcPyZdJyArIG5hbWUgKyAnPShbXiYjXSopJywgJ2knKTtcbiAgcmVzdWx0cyA9IHJlZ2V4LmV4ZWMocXVlcnlTdHJpbmcpO1xuICByZXR1cm4gcmVzdWx0cyA9PT0gbnVsbCA/IG51bGwgOiBkZWNvZGVVUklDb21wb25lbnQocmVzdWx0c1sxXS5yZXBsYWNlKC9cXCsvZywgJyAnKSk7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgQ1NTIHRyYW5zaXRpb24gc3R5bGUgb2YgdGhlIGdpdmVuIGVsZW1lbnQuXG4gKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCBUaGUgZWxlbWVudC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSBUaGUgdHJhbnNpdGlvbiBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIHNldFRyYW5zaXRpb24oZWxlbWVudCwgdmFsdWUpIHtcbiAgZWxlbWVudC5zdHlsZS50cmFuc2l0aW9uID0gdmFsdWU7XG4gIGVsZW1lbnQuc3R5bGUuV2Via2l0VHJhbnNpdGlvbiA9IHZhbHVlO1xuICBlbGVtZW50LnN0eWxlLk1velRyYW5zaXRpb24gPSB2YWx1ZTtcbiAgZWxlbWVudC5zdHlsZS5tc1RyYW5zaXRpb24gPSB2YWx1ZTtcbiAgZWxlbWVudC5zdHlsZS5PVHJhbnNpdGlvbiA9IHZhbHVlO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIENTUyB0cmFuc2l0aW9uIGR1cmF0aW9uIHN0eWxlIG9mIHRoZSBnaXZlbiBlbGVtZW50LlxuICpcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgVGhlIGVsZW1lbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgVGhlIGR1cmF0aW9uLlxuICovXG5mdW5jdGlvbiBzZXRUcmFuc2l0aW9uRHVyYXRpb25TZWNvbmRzKGVsZW1lbnQsIHZhbHVlKSB7XG4gIGVsZW1lbnQuc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uID0gdmFsdWUgKyAncyc7XG4gIGVsZW1lbnQuc3R5bGUuV2Via2l0VHJhbnNpdGlvbkR1cmF0aW9uID0gdmFsdWUgKyAncyc7XG4gIGVsZW1lbnQuc3R5bGUuTW96VHJhbnNpdGlvbkR1cmF0aW9uID0gdmFsdWUgKyAncyc7XG4gIGVsZW1lbnQuc3R5bGUubXNUcmFuc2l0aW9uRHVyYXRpb24gPSB2YWx1ZSArICdzJztcbiAgZWxlbWVudC5zdHlsZS5PVHJhbnNpdGlvbkR1cmF0aW9uID0gdmFsdWUgKyAncyc7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgQ1NTIHRyYW5zaXRpb24gZGVsYXkgc3R5bGUgb2YgdGhlIGdpdmVuIGVsZW1lbnQuXG4gKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCBUaGUgZWxlbWVudC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSBUaGUgZGVsYXkuXG4gKi9cbmZ1bmN0aW9uIHNldFRyYW5zaXRpb25EZWxheVNlY29uZHMoZWxlbWVudCwgdmFsdWUpIHtcbiAgZWxlbWVudC5zdHlsZS50cmFuc2l0aW9uRGVsYXkgPSB2YWx1ZSArICdzJztcbiAgZWxlbWVudC5zdHlsZS5XZWJraXRUcmFuc2l0aW9uRGVsYXkgPSB2YWx1ZSArICdzJztcbiAgZWxlbWVudC5zdHlsZS5Nb3pUcmFuc2l0aW9uRGVsYXkgPSB2YWx1ZSArICdzJztcbiAgZWxlbWVudC5zdHlsZS5tc1RyYW5zaXRpb25EZWxheSA9IHZhbHVlICsgJ3MnO1xuICBlbGVtZW50LnN0eWxlLk9UcmFuc2l0aW9uRGVsYXkgPSB2YWx1ZSArICdzJztcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSB1c2VyU2VsZWN0IHN0eWxlIG9mIHRoZSBnaXZlbiBlbGVtZW50IHRvICdub25lJy5cbiAqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50XG4gKi9cbmZ1bmN0aW9uIHNldFVzZXJTZWxlY3ROb25lKGVsZW1lbnQpIHtcbiAgZWxlbWVudC5zdHlsZS51c2VyU2VsZWN0ID0gJ25vbmUnO1xuICBlbGVtZW50LnN0eWxlLndlYmtpdFVzZXJTZWxlY3QgPSAnbm9uZSc7XG4gIGVsZW1lbnQuc3R5bGUuTW96VXNlclNlbGVjdCA9ICdub25lJztcbiAgZWxlbWVudC5zdHlsZS5tc1VzZXJTZWxlY3QgPSAnbm9uZSc7XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbnkgY2hpbGRyZW4gZWxlbWVudHMgZnJvbSB0aGUgZ2l2ZW4gcGFyZW50IHRoYXQgaGF2ZSB0aGUgZ2l2ZW4gY2xhc3MuXG4gKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gcGFyZW50IFRoZSBwYXJlbnQgdG8gcmVtb3ZlIGNoaWxkcmVuIGZyb20uXG4gKiBAcGFyYW0ge3N0cmluZ30gY2xhc3NOYW1lIFRoZSBjbGFzcyB0byBtYXRjaC5cbiAqL1xuZnVuY3Rpb24gcmVtb3ZlQ2hpbGRyZW5XaXRoQ2xhc3MocGFyZW50LCBjbGFzc05hbWUpIHtcbiAgbGV0IG1hdGNoaW5nQ2hpbGRyZW4gPSBwYXJlbnQucXVlcnlTZWxlY3RvckFsbCgnLicgKyBjbGFzc05hbWUpO1xuXG4gIGZvciAobGV0IGkgPSAwLCBjb3VudCA9IG1hdGNoaW5nQ2hpbGRyZW4ubGVuZ3RoOyBpIDwgY291bnQ7IGkrKykge1xuICAgIHBhcmVudC5yZW1vdmVDaGlsZChtYXRjaGluZ0NoaWxkcmVuW2ldKTtcbiAgfVxufVxuXG4vKipcbiAqIFNldHMgdGhlIENTUyB0cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbiBzdHlsZSBvZiB0aGUgZ2l2ZW4gZWxlbWVudCB3aXRoIHRoZSBnaXZlbiBjdWJpYy1cbiAqIGJlemllciBwb2ludHMuXG4gKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCBUaGUgZWxlbWVudC5cbiAqIEBwYXJhbSB7e3AxeDogTnVtYmVyLCBwMXk6IE51bWJlciwgcDJ4OiBOdW1iZXIsIHAyeTogTnVtYmVyfX0gYmV6aWVyUHRzIFRoZSBjdWJpYy1iZXppZXJcbiAqIHBvaW50cyB0byB1c2UgZm9yIHRoaXMgdGltaW5nIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBzZXRUcmFuc2l0aW9uQ3ViaWNCZXppZXJUaW1pbmdGdW5jdGlvbihlbGVtZW50LCBiZXppZXJQdHMpIHtcbiAgY29uc3QgdmFsdWUgPSAnY3ViaWMtYmV6aWVyKCcgKyBiZXppZXJQdHMucDF4ICsgJywnICsgYmV6aWVyUHRzLnAxeSArICcsJyArIGJlemllclB0cy5wMnggKyAnLCcgK1xuICAgIGJlemllclB0cy5wMnkgKyAnKSc7XG4gIGVsZW1lbnQuc3R5bGUudHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uID0gdmFsdWU7XG4gIGVsZW1lbnQuc3R5bGUuV2Via2l0VHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uID0gdmFsdWU7XG4gIGVsZW1lbnQuc3R5bGUuTW96VHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uID0gdmFsdWU7XG4gIGVsZW1lbnQuc3R5bGUubXNUcmFuc2l0aW9uVGltaW5nRnVuY3Rpb24gPSB2YWx1ZTtcbiAgZWxlbWVudC5zdHlsZS5PVHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uID0gdmFsdWU7XG59XG5cbi8vIEEgY29sbGVjdGlvbiBvZiBkaWZmZXJlbnQgdHlwZXMgb2YgZWFzaW5nIGZ1bmN0aW9ucy5cbmNvbnN0IGVhc2luZ0Z1bmN0aW9ucyA9IHtcbiAgbGluZWFyOiB0ID0+IHQsXG4gIGVhc2VJblF1YWQ6IHQgPT4gdCAqIHQsXG4gIGVhc2VPdXRRdWFkOiB0ID0+IHQgKiAoMiAtIHQpLFxuICBlYXNlSW5PdXRRdWFkOiB0ID0+IHQgPCAwLjUgPyAyICogdCAqIHQgOiAtMSArICg0IC0gMiAqIHQpICogdCxcbiAgZWFzZUluQ3ViaWM6IHQgPT4gdCAqIHQgKiB0LFxuICBlYXNlT3V0Q3ViaWM6IHQgPT4gMSArIC0tdCAqIHQgKiB0LFxuICBlYXNlSW5PdXRDdWJpYzogdCA9PiB0IDwgMC41ID8gNCAqIHQgKiB0ICogdCA6ICh0IC0gMSkgKiAoMiAqIHQgLSAyKSAqICgyICogdCAtIDIpICsgMSxcbiAgZWFzZUluUXVhcnQ6IHQgPT4gdCAqIHQgKiB0ICogdCxcbiAgZWFzZU91dFF1YXJ0OiB0ID0+IDEgLSAtLXQgKiB0ICogdCAqIHQsXG4gIGVhc2VJbk91dFF1YXJ0OiB0ID0+IHQgPCAwLjUgPyA4ICogdCAqIHQgKiB0ICogdCA6IDEgLSA4ICogLS10ICogdCAqIHQgKiB0LFxuICBlYXNlSW5RdWludDogdCA9PiB0ICogdCAqIHQgKiB0ICogdCxcbiAgZWFzZU91dFF1aW50OiB0ID0+IDEgKyAtLXQgKiB0ICogdCAqIHQgKiB0LFxuICBlYXNlSW5PdXRRdWludDogdCA9PiB0IDwgMC41ID8gMTYgKiB0ICogdCAqIHQgKiB0ICogdCA6IDEgKyAxNiAqIC0tdCAqIHQgKiB0ICogdCAqIHRcbn07XG5cbi8vIEEgY29sbGVjdGlvbiBvZiB0aGUgaW52ZXJzZXMgb2YgZGlmZmVyZW50IHR5cGVzIG9mIGVhc2luZyBmdW5jdGlvbnMuXG5jb25zdCBpbnZlcnNlRWFzaW5nRnVuY3Rpb25zID0ge1xuICBsaW5lYXI6IHQgPT4gdCxcbiAgZWFzZUluUXVhZDogdCA9PiBNYXRoLnNxcnQodCksXG4gIGVhc2VPdXRRdWFkOiB0ID0+IDEgLSBNYXRoLnNxcnQoMSAtIHQpLFxuICBlYXNlSW5PdXRRdWFkOiB0ID0+IHQgPCAwLjUgPyBNYXRoLnNxcnQodCAqIDAuNSkgOiAxIC0gMC43MDcxMDY3OCAqIE1hdGguc3FydCgxIC0gdClcbn07XG5cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgeCBhbmQgeSBjb29yZGluYXRlcyByZXByZXNlbnRlZCBieSB0aGUgZ2l2ZW4gQmV6aWVyIGN1cnZlIGF0IHRoZSBnaXZlblxuICogcGVyY2VudGFnZS5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gcGVyY2VudCBFeHByZXNzZWQgYXMgYSBudW1iZXIgYmV0d2VlbiAwIGFuZCAxLlxuICogQHBhcmFtIHtBcnJheS48e3g6TnVtYmVyLHk6TnVtYmVyfT59IGNvbnRyb2xQb2ludHNcbiAqIEByZXR1cm5zIHt7eDpOdW1iZXIseTpOdW1iZXJ9fVxuICovXG5mdW5jdGlvbiBnZXRYWUZyb21QZXJjZW50V2l0aEJlemllcihwZXJjZW50LCBjb250cm9sUG9pbnRzKSB7XG4gIGxldCB4O1xuICBsZXQgeTtcbiAgbGV0IG9uZU1pbnVzUGVyY2VudDtcbiAgbGV0IHRtcDE7XG4gIGxldCB0bXAyO1xuICBsZXQgdG1wMztcbiAgbGV0IHRtcDQ7XG5cbiAgb25lTWludXNQZXJjZW50ID0gMSAtIHBlcmNlbnQ7XG4gIHRtcDEgPSBvbmVNaW51c1BlcmNlbnQgKiBvbmVNaW51c1BlcmNlbnQgKiBvbmVNaW51c1BlcmNlbnQ7XG4gIHRtcDIgPSAzICogcGVyY2VudCAqIG9uZU1pbnVzUGVyY2VudCAqIG9uZU1pbnVzUGVyY2VudDtcbiAgdG1wMyA9IDMgKiBwZXJjZW50ICogcGVyY2VudCAqIG9uZU1pbnVzUGVyY2VudDtcbiAgdG1wNCA9IHBlcmNlbnQgKiBwZXJjZW50ICogcGVyY2VudDtcblxuICB4ID0gY29udHJvbFBvaW50c1swXS54ICogdG1wMSArXG4gICAgY29udHJvbFBvaW50c1sxXS54ICogdG1wMiArXG4gICAgY29udHJvbFBvaW50c1syXS54ICogdG1wMyArXG4gICAgY29udHJvbFBvaW50c1szXS54ICogdG1wNDtcbiAgeSA9IGNvbnRyb2xQb2ludHNbMF0ueSAqIHRtcDEgK1xuICAgIGNvbnRyb2xQb2ludHNbMV0ueSAqIHRtcDIgK1xuICAgIGNvbnRyb2xQb2ludHNbMl0ueSAqIHRtcDMgK1xuICAgIGNvbnRyb2xQb2ludHNbM10ueSAqIHRtcDQ7XG5cbiAgcmV0dXJuIHsgeDogeCwgeTogeSB9O1xufVxuXG4vKipcbiAqIEFwcGxpZXMgdGhlIGdpdmVuIHRyYW5zZm9ybSB0byB0aGUgZ2l2ZW4gZWxlbWVudCBhcyBhIENTUyBzdHlsZSBpbiBhIGNyb3NzLWJyb3dzZXIgY29tcGF0aWJsZVxuICogbWFubmVyLlxuICpcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSB0cmFuc2Zvcm1cbiAqL1xuZnVuY3Rpb24gc2V0VHJhbnNmb3JtKGVsZW1lbnQsIHRyYW5zZm9ybSkge1xuICBlbGVtZW50LnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IHRyYW5zZm9ybTtcbiAgZWxlbWVudC5zdHlsZS5Nb3pUcmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gIGVsZW1lbnQuc3R5bGUubXNUcmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gIGVsZW1lbnQuc3R5bGUuT1RyYW5zZm9ybSA9IHRyYW5zZm9ybTtcbiAgZWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG59XG5cbi8qKlxuICogUmV0dXJucyBhIGNvcHkgb2YgdGhlIGdpdmVuIGFycmF5IHdpdGggaXRzIGNvbnRlbnRzIHJlLWFycmFuZ2VkIGluIGEgcmFuZG9tIG9yZGVyLlxuICpcbiAqIFRoZSBvcmlnaW5hbCBhcnJheSBpcyBsZWZ0IGluIGl0cyBvcmlnaW5hbCBvcmRlci5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheVxuICogQHJldHVybnMge0FycmF5fVxuICovXG5mdW5jdGlvbiBzaHVmZmxlKGFycmF5KSB7XG4gIGxldCBpO1xuICBsZXQgajtcbiAgbGV0IGNvdW50O1xuICBsZXQgdGVtcDtcblxuICBmb3IgKGkgPSAwLCBjb3VudCA9IGFycmF5Lmxlbmd0aDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICBqID0gcGFyc2VJbnQoTWF0aC5yYW5kb20oKSAqIGNvdW50KTtcbiAgICB0ZW1wID0gYXJyYXlbal07XG4gICAgYXJyYXlbal0gPSBhcnJheVtpXTtcbiAgICBhcnJheVtpXSA9IHRlbXA7XG4gIH1cblxuICByZXR1cm4gYXJyYXk7XG59XG5cbi8qKlxuICogUGVyZm9ybXMgYSBzaGFsbG93IGNvcHkgb2YgdGhlIGdpdmVuIG9iamVjdC5cbiAqXG4gKiBUaGlzIG9ubHkgY29waWVzIGVudW1lcmFibGUgcHJvcGVydGllcy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XG4gKiBAcmV0dXJucyB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiBzaGFsbG93Q29weShvYmplY3QpIHtcbiAgaWYgKHR5cGVvZiBvYmplY3QgPT09ICdvYmplY3QnKSB7XG4gICAgY29uc3QgY2xvbmVPYmplY3QgPSB7fTtcblxuICAgIE9iamVjdC5rZXlzKG9iamVjdClcbiAgICAgIC5mb3JFYWNoKGtleSA9PiBjbG9uZU9iamVjdFtrZXldID0gb2JqZWN0W2tleV0pO1xuXG4gICAgcmV0dXJuIGNsb25lT2JqZWN0O1xuICB9XG4gIGVsc2Uge1xuICAgIHJldHVybiBvYmplY3Q7XG4gIH1cbn1cblxuLyoqXG4gKiBQZXJmb3JtcyBhIGRlZXAgY29weSBvZiB0aGUgZ2l2ZW4gb2JqZWN0LlxuICpcbiAqIFRoaXMgb25seSBjb3BpZXMgZW51bWVyYWJsZSBwcm9wZXJ0aWVzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcbiAqIEByZXR1cm5zIHtPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIGRlZXBDb3B5KG9iamVjdCkge1xuICBpZiAodHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcpIHtcbiAgICAvLyBIYWNrOiBOb3QgYSByb2J1c3QgY29weSBwb2xpY3lcbiAgICBsZXQgY2xvbmVPYmplY3Q7XG4gICAgaWYgKG9iamVjdCBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICBjbG9uZU9iamVjdCA9IFtdO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGNsb25lT2JqZWN0ID0ge307XG4gICAgfVxuXG4gICAgT2JqZWN0LmtleXMob2JqZWN0KVxuICAgICAgLmZvckVhY2goa2V5ID0+IGNsb25lT2JqZWN0W2tleV0gPSBkZWVwQ29weShvYmplY3Rba2V5XSkpO1xuXG4gICAgcmV0dXJuIGNsb25lT2JqZWN0O1xuICB9XG4gIGVsc2Uge1xuICAgIHJldHVybiBvYmplY3Q7XG4gIH1cbn1cblxuLyoqXG4gKiBDb252ZXJ0cyB0aGUgZ2l2ZW4gSFNMIGNvbG9yIHZhbHVlcyB0byBIU1YgY29sb3IgdmFsdWVzLlxuICpcbiAqIEdpdmVuIGFuZCByZXR1cm5lZCB2YWx1ZXMgd2lsbCBiZSBpbiB0aGUgcmFuZ2Ugb2YgWzAsIDFdLlxuICpcbiAqIEBwYXJhbSB7SHNsQ29sb3J9IGhzbFxuICogQHJldHVybnMge3toOk51bWJlcixzOk51bWJlcix2Ok51bWJlcn19XG4gKi9cbmZ1bmN0aW9uIGhzbFRvSHN2KGhzbCkge1xuICBjb25zdCB0ZW1wID0gaHNsLnMgKiAoaHNsLmwgPCAwLjUgPyBoc2wubCA6IDEgLSBoc2wubCk7XG4gIHJldHVybiB7XG4gICAgaDogaHNsLmgsXG4gICAgczogMiAqIHRlbXAgLyAoaHNsLmwgKyB0ZW1wKSxcbiAgICB2OiBoc2wubCArIHRlbXBcbiAgfTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyB0aGUgZ2l2ZW4gSFNWIGNvbG9yIHZhbHVlcyB0byBIU0wgY29sb3IgdmFsdWVzLlxuICpcbiAqIEdpdmVuIGFuZCByZXR1cm5lZCB2YWx1ZXMgd2lsbCBiZSBpbiB0aGUgcmFuZ2Ugb2YgWzAsIDFdLlxuICpcbiAqIEBwYXJhbSB7e2g6TnVtYmVyLHM6TnVtYmVyLHY6TnVtYmVyfX0gaHN2XG4gKiBAcmV0dXJucyB7SHNsQ29sb3J9XG4gKi9cbmZ1bmN0aW9uIGhzdlRvSHNsKGhzdikge1xuICBjb25zdCB0ZW1wID0gKDIgLSBoc3YucykgKiBoc3YudjtcbiAgcmV0dXJuIHtcbiAgICBoOiBoc3YuaCxcbiAgICBzOiBoc3YucyAqIGhzdi52IC8gKHRlbXAgPCAxID8gdGVtcCA6IDIuMDAwMDAwMDEgLSB0ZW1wKSxcbiAgICBsOiB0ZW1wICogMC41XG4gIH07XG59XG5cbi8qKlxuICogQ29udmVydHMgdGhlIGdpdmVuIEhTTCBjb2xvciB2YWx1ZXMgdG8gUkdCIGNvbG9yIHZhbHVlcy5cbiAqXG4gKiBHaXZlbiBhbmQgcmV0dXJuZWQgdmFsdWVzIHdpbGwgYmUgaW4gdGhlIHJhbmdlIG9mIFswLCAxXS5cbiAqXG4gKiBPcmlnaW5hbGx5IGFkYXB0ZWQgZnJvbSBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0hTTF9jb2xvcl9zcGFjZS5cbiAqXG4gKiBAcGFyYW0ge0hzbENvbG9yfSBoc2xcbiAqIEByZXR1cm5zIHtSZ2JDb2xvcn0gcmdiXG4gKi9cbmZ1bmN0aW9uIGhzbFRvUmdiKGhzbCkge1xuICBsZXQgcjtcbiAgbGV0IGc7XG4gIGxldCBiO1xuXG4gIGlmIChoc2wucyA9PT0gMCkge1xuICAgIC8vIEFjaHJvbWF0aWMuXG4gICAgciA9IGhzbC5sO1xuICAgIGcgPSBoc2wubDtcbiAgICBiID0gaHNsLmw7XG4gIH1cbiAgZWxzZSB7XG4gICAgY29uc3QgcSA9IGhzbC5sIDwgMC41ID9cbiAgICAgIGhzbC5sICogKDEgKyBoc2wucykgOlxuICAgICAgaHNsLmwgKyBoc2wucyAtIGhzbC5sICogaHNsLnM7XG4gICAgY29uc3QgcCA9IDIgKiBoc2wubCAtIHE7XG5cbiAgICByID0gX2h1ZTJSZ2IocCwgcSwgaHNsLmggKyAxIC8gMyk7XG4gICAgZyA9IF9odWUyUmdiKHAsIHEsIGhzbC5oKTtcbiAgICBiID0gX2h1ZTJSZ2IocCwgcSwgaHNsLmggLSAxIC8gMyk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHI6IHIsXG4gICAgZzogZyxcbiAgICBiOiBiXG4gIH07XG59XG5cbmZ1bmN0aW9uIF9odWUyUmdiKHAsIHEsIHQpIHtcbiAgaWYgKHQgPCAwKSB7XG4gICAgdCsrO1xuICB9XG4gIGVsc2UgaWYgKHQgPiAxKSB7XG4gICAgdC0tO1xuICB9XG5cbiAgaWYgKHQgPCAxIC8gNikge1xuICAgIHJldHVybiBwICsgKHEgLSBwKSAqIDYgKiB0O1xuICB9XG4gIGVsc2UgaWYgKHQgPCAxIC8gMikge1xuICAgIHJldHVybiBxO1xuICB9XG4gIGVsc2UgaWYgKHQgPCAyIC8gMykge1xuICAgIHJldHVybiBwICsgKHEgLSBwKSAqICgyIC8gMyAtIHQpICogNjtcbiAgfVxuICBlbHNlIHtcbiAgICByZXR1cm4gcDtcbiAgfVxufVxuXG4vKipcbiAqIENvbnZlcnRzIHRoZSBnaXZlbiBSR0IgY29sb3IgdmFsdWVzIHRvIEhTTCBjb2xvciB2YWx1ZXMuXG4gKlxuICogR2l2ZW4gYW5kIHJldHVybmVkIHZhbHVlcyB3aWxsIGJlIGluIHRoZSByYW5nZSBvZiBbMCwgMV0uXG4gKlxuICogT3JpZ2luYWxseSBhZGFwdGVkIGZyb20gaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9IU0xfY29sb3Jfc3BhY2UuXG4gKlxuICogQHBhcmFtIHt7cjpOdW1iZXIsZzpOdW1iZXIsYjpOdW1iZXJ9fSByZ2JcbiAqIEByZXR1cm5zIHtIc2xDb2xvcn0gaHNsXG4gKi9cbmZ1bmN0aW9uIHJnYlRvSHNsKHJnYikge1xuICBjb25zdCBtYXggPSBNYXRoLm1heChyZ2IuciwgcmdiLmcsIHJnYi5iKTtcbiAgY29uc3QgbWluID0gTWF0aC5taW4ocmdiLnIsIHJnYi5nLCByZ2IuYik7XG4gIGxldCBoO1xuICBsZXQgcztcbiAgY29uc3QgbCA9IChtYXggKyBtaW4pIC8gMjtcblxuICBpZiAobWF4ID09PSBtaW4pIHtcbiAgICAvLyBBY2hyb21hdGljLlxuICAgIGggPSAwO1xuICAgIHMgPSAwO1xuICB9XG4gIGVsc2Uge1xuICAgIGNvbnN0IGQgPSBtYXggLSBtaW47XG4gICAgcyA9IGwgPiAwLjUgP1xuICAgICAgZCAvICgyIC0gbWF4IC0gbWluKSA6XG4gICAgICBkIC8gKG1heCArIG1pbik7XG5cbiAgICBzd2l0Y2ggKG1heCkge1xuICAgICAgY2FzZSByZ2IucjpcbiAgICAgICAgaCA9IChyZ2IuZyAtIHJnYi5iKSAvIGQgKyAocmdiLmcgPCByZ2IuYiA/IDYgOiAwKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIHJnYi5nOlxuICAgICAgICBoID0gKHJnYi5iIC0gcmdiLnIpIC8gZCArIDI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSByZ2IuYjpcbiAgICAgICAgaCA9IChyZ2IuciAtIHJnYi5nKSAvIGQgKyA0O1xuICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICBoIC89IDY7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGg6IGgsXG4gICAgczogcyxcbiAgICBsOiBsXG4gIH07XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIHZhbGlkIGNvbG9yIHN0cmluZyB0byBhc3NpZ24gdG8gYSBDU1MgcHJvcGVydHkgZnJvbSB0aGUgZ2l2ZW4gaC9zL2wgY29sb3IgdmFsdWVzLlxuICpcbiAqIEdpdmVuIHZhbHVlcyBzaG91bGQgYmUgaW4gdGhlIHJhbmdlIG9mIFswLDFdLlxuICpcbiAqIEBwYXJhbSB7SHNsQ29sb3J9IGhzbFxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gY3JlYXRlSHNsQ29sb3JTdHJpbmcoaHNsKSB7XG4gIHJldHVybiB0eXBlb2YgaHNsLmEgIT09ICd1bmRlZmluZWQnID9cbiAgICBgaHNsYSgke2hzbC5oICogMzYwfSwke2hzbC5zICogMTAwfSUsJHtoc2wubCAqIDEwMH0lLCR7aHNsLmF9KWAgOlxuICAgIGBoc2woJHtoc2wuaCAqIDM2MH0sJHtoc2wucyAqIDEwMH0lLCR7aHNsLmwgKiAxMDB9JSlgO1xufVxuXG4vKipcbiAqIENoZWNrcyB0aGUgZ2l2ZW4gZWxlbWVudCBhbmQgYWxsIG9mIGl0cyBhbmNlc3RvcnMsIGFuZCByZXR1cm5zIHRoZSBmaXJzdCB0aGF0IGNvbnRhaW5zIHRoZVxuICogZ2l2ZW4gY2xhc3MuXG4gKlxuICogQHBhcmFtIHs/SFRNTEVsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc05hbWVcbiAqIEByZXR1cm5zIHs/SFRNTEVsZW1lbnR9XG4gKi9cbmZ1bmN0aW9uIGZpbmRDbGFzc0luU2VsZk9yQW5jZXN0b3JzKGVsZW1lbnQsIGNsYXNzTmFtZSkge1xuICB3aGlsZSAoZWxlbWVudCkge1xuICAgIGlmIChjb250YWluc0NsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSkpIHtcbiAgICAgIHJldHVybiBlbGVtZW50O1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG5sZXQgdXRpbFN0eWxlU2hlZXQ7XG5cbi8qKlxuICogQWRkcyB0aGUgZ2l2ZW4gc3R5bGUgcnVsZSB0byBhIHN0eWxlIHNoZWV0IGZvciB0aGUgY3VycmVudCBkb2N1bWVudC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gc3R5bGVSdWxlXG4gKi9cbmZ1bmN0aW9uIGFkZFJ1bGVUb1N0eWxlU2hlZXQoc3R5bGVSdWxlKSB7XG4gIC8vIENyZWF0ZSB0aGUgY3VzdG9tIHN0eWxlIHNoZWV0IGlmIGl0IGRvZXNuJ3QgYWxyZWFkeSBleGlzdFxuICBpZiAoIXV0aWxTdHlsZVNoZWV0KSB7XG4gICAgdXRpbFN0eWxlU2hlZXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF0uYXBwZW5kQ2hpbGQodXRpbFN0eWxlU2hlZXQpO1xuICB9XG5cbiAgLy8gQWRkIHRoZSBnaXZlbiBydWxlIHRvIHRoZSBjdXN0b20gc3R5bGUgc2hlZXRcbiAgaWYgKHV0aWxTdHlsZVNoZWV0LnN0eWxlU2hlZXQpIHtcbiAgICB1dGlsU3R5bGVTaGVldC5zdHlsZVNoZWV0LmNzc1RleHQgPSBzdHlsZVJ1bGU7XG4gIH1cbiAgZWxzZSB7XG4gICAgdXRpbFN0eWxlU2hlZXQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoc3R5bGVSdWxlKSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY2hlY2tGb3JTYWZhcmkoKSB7XG4gIHJldHVybiAvU2FmYXJpL2kudGVzdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCkgJiYgIS9DaHJvbWUvaS50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KTtcbn1cblxuZnVuY3Rpb24gY2hlY2tGb3JJb3MoKSB7XG4gIHJldHVybiAvaVBob25lfGlQb2R8aVBhZC9pLnRlc3Qod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBkZWJvdW5jZWQgdmVyc2lvbiBvZiB0aGUgZ2l2ZW4gZnVuY3Rpb24uXG4gKlxuICogRXZlbiBpZiB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uIGlzIGludm9rZWQgbWFueSB0aW1lcywgdGhlIHdyYXBwZWQgZnVuY3Rpb24gd2lsbCBvbmx5IGJlIGludm9rZWRcbiAqIGFmdGVyIHRoZSBnaXZlbiBkZWxheSBoYXMgZWxsYXBzZWQgc2luY2UgdGhlIGxhc3QgaW52b2NhdGlvbi5cbiAqXG4gKiBJZiBpc0ludm9rZWRJbW1lZGlhdGVseSBpcyB0cnVlLCB0aGVuIHRoZSB3cmFwcGVkIGZ1bmN0aW9uIHdpbGwgYmUgdHJpZ2dlcmVkIGF0IHRoZSBzdGFydCBvZiB0aGVcbiAqIGludm9jYXRpb24gZ3JvdXAgcmF0aGVyIHRoYW4gYXQgdGhlIGVuZC5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSB3cmFwcGVkRnVuY3Rpb25cbiAqIEBwYXJhbSB7bnVtYmVyfSBkZWxheSBJbiBtaWxsaXNlY29uZHMuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0ludm9rZWRJbW1lZGlhdGVseT1mYWxzZV1cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn1cbiAqL1xuZnVuY3Rpb24gZGVib3VuY2Uod3JhcHBlZEZ1bmN0aW9uLCBkZWxheSwgaXNJbnZva2VkSW1tZWRpYXRlbHkgPSBmYWxzZSkge1xuICBsZXQgdGltZW91dElkO1xuXG4gIHJldHVybiAoKSA9PiB7XG4gICAgLy8gU2F2ZSB0aGUgY29udGV4dCBhbmQgYXJndW1lbnRzIHBhc3NlZCBmcm9tIHRoZSBjbGllbnQgKHRoaXMgd2lsbCB1c2UgdGhlIHZhbHVlcyBmcm9tIHRoZVxuICAgIC8vIGZpcnN0IGludm9jYXRpb24gb2YgdGhlIGludm9jYXRpb24gZ3JvdXAuXG4gICAgY29uc3QgY29udGV4dCA9IHRoaXM7XG4gICAgY29uc3QgYXJncyA9IGFyZ3VtZW50cztcblxuICAgIC8vIEludm9rZSBpbW1lZGlhdGVseSBvbmx5IGlmIHRoaXMgaXMgdGhlIGZpcnN0IGludm9jYXRpb24gb2YgYSBncm91cC5cbiAgICBpZiAoaXNJbnZva2VkSW1tZWRpYXRlbHkgJiYgIXRpbWVvdXRJZCkge1xuICAgICAgd3JhcHBlZEZ1bmN0aW9uLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgIH1cblxuICAgIC8vIFJlc2V0IHRoZSBkZWxheS5cbiAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgICB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIC8vIFRoZSBpbnZvY2F0aW9uIGdyb3VwIGhhcyBlbmRlZC5cbiAgICAgIHRpbWVvdXRJZCA9IG51bGw7XG4gICAgICBpZiAoIWlzSW52b2tlZEltbWVkaWF0ZWx5KSB7XG4gICAgICAgIHdyYXBwZWRGdW5jdGlvbi5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICAgIH1cbiAgICB9LCBkZWxheSk7XG4gIH07XG59XG5cbi8qKlxuICogUmV0dXJucyBhIHRocm90dGxlZCB2ZXJzaW9uIG9mIHRoZSBnaXZlbiBmdW5jdGlvbi5cbiAqXG4gKiBFdmVuIGlmIHRoZSB0aHJvdHRsZWQgZnVuY3Rpb24gaXMgaW52b2tlZCBtYW55IHRpbWVzLCB0aGUgd3JhcHBlZCBmdW5jdGlvbiB3aWxsIG9ubHkgYmUgaW52b2tlZFxuICogYXQgZWFjaCBpbnRlcnZhbCBvZiB0aGUgZ2l2ZW4gZGVsYXkuIEFmdGVyIHRoZSB0aHJvdHRsZWQgZnVuY3Rpb24gc3RvcHMgYmVpbmcgaW52b2tlZCwgdGhlblxuICogd3JhcHBlZCBmdW5jdGlvbiB3aWxsIGFsc28gc3RvcCBiZWluZyBpbnZva2VkLlxuICpcbiAqIElmIGlzSW52b2tlZEltbWVkaWF0ZWx5IGlzIHRydWUsIHRoZW4gdGhlIHdyYXBwZWQgZnVuY3Rpb24gd2lsbCBiZSB0cmlnZ2VyZWQgYXQgdGhlIHN0YXJ0IG9mIHRoZVxuICogaW52b2NhdGlvbiBkZWxheSByYXRoZXIgdGhhbiBhdCB0aGUgZW5kLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHdyYXBwZWRGdW5jdGlvblxuICogQHBhcmFtIHtudW1iZXJ9IGRlbGF5IEluIG1pbGxpc2Vjb25kcy5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzSW52b2tlZEltbWVkaWF0ZWx5PWZhbHNlXVxuICogQHJldHVybnMge0Z1bmN0aW9ufVxuICovXG5mdW5jdGlvbiB0aHJvdHRsZSh3cmFwcGVkRnVuY3Rpb24sIGRlbGF5LCBpc0ludm9rZWRJbW1lZGlhdGVseSA9IGZhbHNlKSB7XG4gIGxldCB0aW1lb3V0SWQ7XG5cbiAgcmV0dXJuICgpID0+IHtcbiAgICAvLyBTYXZlIHRoZSBjb250ZXh0IGFuZCBhcmd1bWVudHMgcGFzc2VkIGZyb20gdGhlIGNsaWVudCAodGhpcyB3aWxsIHVzZSB0aGUgdmFsdWVzIGZyb20gdGhlXG4gICAgLy8gZmlyc3QgaW52b2NhdGlvbiBvZiB0aGUgaW52b2NhdGlvbiBncm91cC5cbiAgICBjb25zdCBjb250ZXh0ID0gdGhpcztcbiAgICBjb25zdCBhcmdzID0gYXJndW1lbnRzO1xuXG4gICAgLy8gT25seSB0cmlnZ2VyIGEgbmV3IGludm9jYXRpb24gZ3JvdXAgaWYgd2UgYXJlIG5vdCBhbHJlYWR5L3N0aWxsIHdhaXRpbmcgb24gdGhlIGRlbGF5IGZyb20gYVxuICAgIC8vIHByZXZpb3VzIGludm9jYXRpb24uXG4gICAgaWYgKCF0aW1lb3V0SWQpIHtcbiAgICAgIGlmIChpc0ludm9rZWRJbW1lZGlhdGVseSkge1xuICAgICAgICB3cmFwcGVkRnVuY3Rpb24uYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICB9XG5cbiAgICAgIC8vIFN0YXJ0IHRoZSBkZWxheS5cbiAgICAgIHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAvLyBUaGUgaW52b2NhdGlvbiBncm91cCBoYXMgZW5kZWQuXG4gICAgICAgIHRpbWVvdXRJZCA9IG51bGw7XG4gICAgICAgIGlmICghaXNJbnZva2VkSW1tZWRpYXRlbHkpIHtcbiAgICAgICAgICB3cmFwcGVkRnVuY3Rpb24uYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICAgIH1cbiAgICAgIH0sIGRlbGF5KTtcbiAgICB9XG4gIH07XG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheS48Kj58U3RyaW5nfSBhcnJheVxuICogQHBhcmFtIHsqfSBkZWxpbWl0ZXJcbiAqIEByZXR1cm5zIHtBcnJheS48Kj59XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfaW50ZXJsZWF2ZShhcnJheSwgZGVsaW1pdGVyKSB7XG4gIGNvbnN0IHJlc3VsdCA9IG5ldyBBcnJheShhcnJheS5sZW5ndGggKiAyIC0gMSk7XG4gIGlmIChhcnJheS5sZW5ndGgpIHtcbiAgICByZXN1bHQucHVzaChhcnJheVswXSk7XG4gIH1cbiAgZm9yIChsZXQgaSA9IDEsIGNvdW50ID0gYXJyYXkubGVuZ3RoOyBpIDwgY291bnQ7IGkrKykge1xuICAgIHJlc3VsdC5wdXNoKGRlbGltaXRlcik7XG4gICAgcmVzdWx0LnB1c2goYXJyYXlbaV0pO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogTG9hZHMgdGhlIGdpdmVuIHNyYyBmb3IgdGhlIGdpdmVuIGltYWdlLlxuICpcbiAqIEBwYXJhbSB7SFRNTEltYWdlRWxlbWVudH0gaW1hZ2VcbiAqIEBwYXJhbSB7c3RyaW5nfSBzcmNcbiAqIEByZXR1cm5zIHtQcm9taXNlLjxIVE1MSW1hZ2VFbGVtZW50LCBFcnJvcj59XG4gKi9cbmZ1bmN0aW9uIGxvYWRJbWFnZVNyYyhpbWFnZSwgc3JjKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgY29uc29sZS5kZWJ1ZyhgTG9hZGluZyBpbWFnZTogJHtzcmN9YCk7XG5cbiAgICBpbWFnZS5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgXyA9PiByZXNvbHZlKGltYWdlKSk7XG4gICAgaW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCByZWplY3QpO1xuICAgIGltYWdlLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgcmVqZWN0KTtcblxuICAgIGltYWdlLnNyYyA9IHNyYztcbiAgfSk7XG59XG5cbi8qKlxuICogTG9hZHMgdGV4dCBmcm9tIHRoZSBnaXZlbiBVUkwuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHVybFxuICogQHJldHVybnMge1Byb21pc2UuPFN0cmluZywgRXJyb3I+fVxuICovXG5mdW5jdGlvbiBsb2FkVGV4dCh1cmwpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblxuICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgXyA9PiByZXNvbHZlKHhoci5yZXNwb25zZSkpO1xuICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIHJlamVjdCk7XG4gICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgcmVqZWN0KTtcblxuICAgIGNvbnNvbGUuZGVidWcoYExvYWRpbmcgdGV4dDogJHt1cmx9YCk7XG5cbiAgICB4aHIub3BlbignR0VUJywgdXJsKTtcbiAgICB4aHIuc2VuZCgpO1xuICB9KTtcbn1cblxuLyoqXG4gKiBMb2FkcyBhIEpTT04gb2JqZWN0IGZyb20gdGhlIGdpdmVuIFVSTC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsXG4gKiBAcmV0dXJucyB7UHJvbWlzZS48T2JqZWN0LCBFcnJvcj59XG4gKi9cbmZ1bmN0aW9uIGxvYWRKc29uKHVybCkge1xuICByZXR1cm4gbG9hZFRleHQodXJsKS50aGVuKGpzb25UZXh0ID0+IEpTT04ucGFyc2UoanNvblRleHQpKTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBjdXJyZW50IHN0YWNrIHRyYWNlLlxuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGdldFN0YWNrVHJhY2UoKSB7XG4gIHJldHVybiBuZXcgRXJyb3IoKS5zdGFjaztcbn1cblxuLyoqXG4gKiBGcmVlemVzIHRoZSBnaXZlbiBvYmplY3QgYW5kIHJlY3Vyc2l2ZWx5IGZyZWV6ZXMgYWxsIG9mIGl0cyBwcm9wZXJ0aWVzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcbiAqL1xuZnVuY3Rpb24gZGVlcEZyZWV6ZShvYmplY3QpIHtcbiAgaWYgKHR5cGVvZiBvYmplY3QgPT09ICdvYmplY3QnKSB7XG4gICAgT2JqZWN0LmZyZWV6ZShvYmplY3QpO1xuICAgIE9iamVjdC5rZXlzKG9iamVjdCkuZm9yRWFjaChrZXkgPT4gZGVlcEZyZWV6ZShvYmplY3Rba2V5XSkpO1xuICB9XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIEdVSUQuXG4gKlxuICogR1VJRCBzcGVjaWZpY2F0aW9uOiBodHRwOi8vd3d3LmlldGYub3JnL3JmYy9yZmM0MTIyLnR4dFxuICpcbiAqIExvZ2ljIGFkb3B0ZWQgZnJvbSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yMTE3NTIzLzQ4OTU2OC5cbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiBjcmVhdGVHdWlkKCkge1xuICByZXR1cm4gJ3h4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCcucmVwbGFjZSgvW3h5XS9nLCBjID0+IHtcbiAgICBjb25zdCByID0gTWF0aC5yYW5kb20oKSAqIDE2IHwgMDtcbiAgICBjb25zdCB2ID0gYyA9PT0gJ3gnID8gciA6IChyICYgMHgzIHwgMHg4KTtcbiAgICByZXR1cm4gdi50b1N0cmluZygxNik7XG4gIH0pO1xufVxuXG4vKipcbiAqIC0xMSAlIDMgPT09IC0yXG4gKiBtb2QoLTExLCAzKSA9PT0gMVxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBuXG4gKiBAcGFyYW0ge251bWJlcn0gbVxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZnVuY3Rpb24gbW9kKG4sIG0pIHtcbiAgcmV0dXJuICgobiAlIG0pICsgbSkgJSBtO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSBtaW5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cbmZ1bmN0aW9uIHJhbmRvbUZsb2F0SW5SYW5nZShtaW4sIG1heCkge1xuICByZXR1cm4gTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pICsgbWluO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSBtaW4gSW5jbHVzaXZlXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4IEV4Y2x1c2l2ZVxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZnVuY3Rpb24gcmFuZG9tSW50SW5SYW5nZShtaW4sIG1heCkge1xuICByZXR1cm4gcGFyc2VJbnQoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pICsgbWluKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5fSBsaXN0XG4gKiBAcmV0dXJucyB7Kn1cbiAqL1xuZnVuY3Rpb24gcGlja1JhbmRvbShsaXN0KSB7XG4gIHJldHVybiBsaXN0W3JhbmRvbUludEluUmFuZ2UoMCwgbGlzdC5sZW5ndGgpXTtcbn1cblxuLyoqXG4gKiBUcmlnZ2VycyB0aGUgZ2l2ZW4gY2FsbGJhY2sgd2hlbiBlaXRoZXIgdGhlIGN1cnJlbnQgdGFiIG9yIHRoZSBicm93c2VyIHdpbmRvdyBsb3Nlcy9nYWlucyBmb2N1cy5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmb2N1c0NoYW5nZUhhbmRsZXJcbiAqL1xuZnVuY3Rpb24gaGFuZGxlUGFnZUZvY3VzQ2hhbmdlKGZvY3VzQ2hhbmdlSGFuZGxlcikge1xuICAvLyBQYXVzZS91bnBhdXNlIHRoZSBhcHAgd2hlbiB0aGUgdGFiIGxvc2VzL2dhaW5zIGZvY3VzLlxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd2aXNpYmlsaXR5Y2hhbmdlJywgKCkgPT4gZm9jdXNDaGFuZ2VIYW5kbGVyKCFkb2N1bWVudC5oaWRkZW4pKTtcbiAgLy8gUGF1c2UvdW5wYXVzZSB0aGUgYXBwIHdoZW4gdGhlIGJyb3dzZXIgd2luZG93IGxvc2VzL2dhaW5zIGZvY3VzLlxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsICgpID0+IGZvY3VzQ2hhbmdlSGFuZGxlcihmYWxzZSkpO1xuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCAoKSA9PiBmb2N1c0NoYW5nZUhhbmRsZXIodHJ1ZSkpO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgd2l0aCBhbGwgdGhlIGNvbnNlY3V0aXZlIG51bWJlcnMgZnJvbSBzdGFydCAoaW5jbHVzaXZlKSB0byBlbmQgKGV4Y2x1c2l2ZSkuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0XG4gKiBAcGFyYW0ge251bWJlcn0gZW5kXG4gKiBAcmV0dXJucyB7QXJyYXkuPE51bWJlcj59XG4gKi9cbmZ1bmN0aW9uIHJhbmdlKHN0YXJ0LCBlbmQpIHtcbiAgY29uc3QgciA9IFtdO1xuICBmb3IgKGxldCBpID0gMCwgaiA9IHN0YXJ0OyBqIDwgZW5kOyBpKyssIGorKykge1xuICAgIHJbaV0gPSBqO1xuICB9XG4gIHJldHVybiByO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc0ludCh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyAmJlxuICAgIGlzRmluaXRlKHZhbHVlKSAmJlxuICAgIHBhcnNlSW50KHZhbHVlKSA9PT0gdmFsdWU7XG59XG5cbi8qKlxuICogRmluZCB0aGUgZmlyc3QgdmFsdWUgaW4gYSBsaXN0IHRoYXQgc2F0aXNmaWVzIGEgcHJlZGljYXRlLlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IGxpc3RcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZVxuICogQHJldHVybnMgeyp9XG4gKi9cbmZ1bmN0aW9uIGZpbmQobGlzdCwgcHJlZGljYXRlKSB7XG4gIGZvciAodmFyIGkgPSAwLCBjb3VudCA9IGxpc3QubGVuZ3RoOyBpIDwgY291bnQ7IGkrKykge1xuICAgIGNvbnN0IHZhbHVlID0gbGlzdFtpXTtcbiAgICBpZiAocHJlZGljYXRlLmNhbGwobnVsbCwgdmFsdWUsIGksIGxpc3QpKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5jb25zdCBrZXlDb2RlcyA9IHtcbiAgJ2EnOiA2NSxcbiAgJ2InOiA2NixcbiAgJ2MnOiA2NyxcbiAgJ2QnOiA2OCxcbiAgJ2UnOiA2OSxcbiAgJ2YnOiA3MCxcbiAgJ2cnOiA3MSxcbiAgJ2gnOiA3MixcbiAgJ2knOiA3MyxcbiAgJ2onOiA3NCxcbiAgJ2snOiA3NSxcbiAgJ2wnOiA3NixcbiAgJ20nOiA3NyxcbiAgJ24nOiA3OCxcbiAgJ28nOiA3OSxcbiAgJ3AnOiA4MCxcbiAgJ3EnOiA4MSxcbiAgJ3InOiA4MixcbiAgJ3MnOiA4MyxcbiAgJ3QnOiA4NCxcbiAgJ3UnOiA4NSxcbiAgJ3YnOiA4NixcbiAgJ3cnOiA4NyxcbiAgJ3gnOiA4OCxcbiAgJ3knOiA4OSxcbiAgJ3onOiA5MCxcbiAgJzAnOiA0OCxcbiAgJzEnOiA0OSxcbiAgJzInOiA1MCxcbiAgJzMnOiA1MSxcbiAgJzQnOiA1MixcbiAgJzUnOiA1MyxcbiAgJzYnOiA1NCxcbiAgJzcnOiA1NSxcbiAgJzgnOiA1NixcbiAgJzknOiA1NyxcbiAgJ1NQQUNFJzogMzIsXG4gICdFTlRFUic6IDEzLFxuICAnRVNDQVBFJzogMjcsXG4gICdMRUZUJzogMzcsXG4gICdVUCc6IDM4LFxuICAnUklHSFQnOiAzOSxcbiAgJ0RPV04nOiA0MFxufTtcblxuY29uc3Qgc3ZnTmFtZXNwYWNlID0gJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJztcbmNvbnN0IHhsaW5rTmFtZXNwYWNlID0gJ2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnO1xuXG5leHBvcnQge1xuICBpc0luRGV2TW9kZSxcbiAgbGlzdGVuVG9NdWx0aXBsZUZvck11bHRpcGxlLFxuICBjcmVhdGVFbGVtZW50LFxuICBjb250YWluc0NsYXNzLFxuICB0b2dnbGVDbGFzcyxcbiAgZ2V0UGFnZU9mZnNldCxcbiAgZ2V0Vmlld3BvcnRTaXplLFxuICByZW1vdmVDaGlsZElmUHJlc2VudCxcbiAgYWRkQ2xhc3MsXG4gIHJlbW92ZUNsYXNzLFxuICBjbGVhckNsYXNzZXMsXG4gIGdldFRleHRXaWR0aCxcbiAgZW5jb2RlUXVlcnlTdHJpbmcsXG4gIGdldFF1ZXJ5U3RyaW5nUGFyYW1ldGVyVmFsdWUsXG4gIHNldFRyYW5zaXRpb24sXG4gIHNldFRyYW5zaXRpb25EdXJhdGlvblNlY29uZHMsXG4gIHNldFRyYW5zaXRpb25EZWxheVNlY29uZHMsXG4gIHNldFVzZXJTZWxlY3ROb25lLFxuICByZW1vdmVDaGlsZHJlbldpdGhDbGFzcyxcbiAgc2V0VHJhbnNpdGlvbkN1YmljQmV6aWVyVGltaW5nRnVuY3Rpb24sXG4gIGVhc2luZ0Z1bmN0aW9ucyxcbiAgaW52ZXJzZUVhc2luZ0Z1bmN0aW9ucyxcbiAgZ2V0WFlGcm9tUGVyY2VudFdpdGhCZXppZXIsXG4gIHNldFRyYW5zZm9ybSxcbiAgc2h1ZmZsZSxcbiAgc2hhbGxvd0NvcHksXG4gIGRlZXBDb3B5LFxuICBoc3ZUb0hzbCxcbiAgaHNsVG9Ic3YsXG4gIGhzbFRvUmdiLFxuICByZ2JUb0hzbCxcbiAgY3JlYXRlSHNsQ29sb3JTdHJpbmcsXG4gIGZpbmRDbGFzc0luU2VsZk9yQW5jZXN0b3JzLFxuICBhZGRSdWxlVG9TdHlsZVNoZWV0LFxuICBjaGVja0ZvclNhZmFyaSxcbiAgY2hlY2tGb3JJb3MsXG4gIGRlYm91bmNlLFxuICB0aHJvdHRsZSxcbiAgbG9hZEltYWdlU3JjLFxuICBsb2FkVGV4dCxcbiAgbG9hZEpzb24sXG4gIGdldFN0YWNrVHJhY2UsXG4gIGRlZXBGcmVlemUsXG4gIGNyZWF0ZUd1aWQsXG4gIG1vZCxcbiAgcmFuZG9tRmxvYXRJblJhbmdlLFxuICByYW5kb21JbnRJblJhbmdlLFxuICBwaWNrUmFuZG9tLFxuICBoYW5kbGVQYWdlRm9jdXNDaGFuZ2UsXG4gIHJhbmdlLFxuICBpc0ludCxcbiAgZmluZCxcbiAga2V5Q29kZXMsXG4gIHN2Z05hbWVzcGFjZSxcbiAgeGxpbmtOYW1lc3BhY2UsXG59O1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEhzbENvbG9yXG4gKiBAcHJvcGVydHkge051bWJlcn0gaCBJbiB0aGUgcmFuZ2Ugb2YgWzAsIDFdLlxuICogQHByb3BlcnR5IHtOdW1iZXJ9IHMgSW4gdGhlIHJhbmdlIG9mIFswLCAxXS5cbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBsIEluIHRoZSByYW5nZSBvZiBbMCwgMV0uXG4gKiBAcHJvcGVydHkge051bWJlcn0gW2FdIEluIHRoZSByYW5nZSBvZiBbMCwgMV0uXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBSZ2JDb2xvclxuICogQHByb3BlcnR5IHtOdW1iZXJ9IHIgSW4gdGhlIHJhbmdlIG9mIFswLCAxXS5cbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBnIEluIHRoZSByYW5nZSBvZiBbMCwgMV0uXG4gKiBAcHJvcGVydHkge051bWJlcn0gYiBJbiB0aGUgcmFuZ2Ugb2YgWzAsIDFdLlxuICogQHByb3BlcnR5IHtOdW1iZXJ9IFthXSBJbiB0aGUgcmFuZ2Ugb2YgWzAsIDFdLlxuICovXG4iLCIvKipcbiAqIEFuIEFuaW1hdGlvbkpvYiBpcyB1c2VkIHdpdGggdGhlIGFuaW1hdG9yIGNvbnRyb2xsZXIgdG8gdXBkYXRlIGFuZCByZS1kcmF3IHNvbWV0aGluZyBlYWNoIGZyYW1lLlxuICpcbiAqIEBhYnN0cmFjdFxuICovXG5jbGFzcyBBbmltYXRpb25Kb2Ige1xuICAvKipcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW29uQ29tcGxldGVdIEEgY2FsbGJhY2sgdG8gYmUgY2FsbGVkIHdoZW4gdGhpcyBBbmltYXRpb25Kb2IgaXMgZmluaXNoZWQuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihvbkNvbXBsZXRlKSB7XG4gICAgLy8gQW5pbWF0aW9uSm9iIGlzIGFuIGFic3RyYWN0IGNsYXNzLiBJdCBzaG91bGQgbm90IGJlIGluc3RhbnRpYXRlZCBkaXJlY3RseS5cbiAgICBpZiAobmV3LnRhcmdldCA9PT0gQW5pbWF0aW9uSm9iKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY29uc3RydWN0IEFuaW1hdGlvbkpvYiBpbnN0YW5jZXMgZGlyZWN0bHknKTtcbiAgICB9XG5cbiAgICB0aGlzLl9zdGFydFRpbWUgPSAwO1xuICAgIHRoaXMuX2lzQ29tcGxldGUgPSB0cnVlO1xuICAgIHRoaXMuX29uQ29tcGxldGUgPSBvbkNvbXBsZXRlO1xuICB9XG5cbiAgLyoqXG4gICAqIEluZGljYXRlcyB3aGV0aGVyIHRoaXMgQW5pbWF0aW9uSm9iIGlzIGNvbXBsZXRlLlxuICAgKlxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgZ2V0IGlzQ29tcGxldGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lzQ29tcGxldGU7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGlzIEFuaW1hdGlvbkpvYiBhcyBzdGFydGVkLlxuICAgKlxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IHN0YXJ0VGltZVxuICAgKi9cbiAgc3RhcnQoc3RhcnRUaW1lKSB7XG4gICAgdGhpcy5fc3RhcnRUaW1lID0gc3RhcnRUaW1lO1xuICAgIHRoaXMuX2lzQ29tcGxldGUgPSBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBhbmltYXRpb24gcHJvZ3Jlc3Mgb2YgdGhpcyBBbmltYXRpb25Kb2IgdG8gbWF0Y2ggdGhlIGdpdmVuIHRpbWUuXG4gICAqXG4gICAqIFRoaXMgaXMgY2FsbGVkIGZyb20gdGhlIG92ZXJhbGwgYW5pbWF0aW9uIGxvb3AuXG4gICAqXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gY3VycmVudFRpbWVcbiAgICogQHBhcmFtIHtET01IaWdoUmVzVGltZVN0YW1wfSBkZWx0YVRpbWVcbiAgICogQGFic3RyYWN0XG4gICAqL1xuICB1cGRhdGUoY3VycmVudFRpbWUsIGRlbHRhVGltZSkge1xuICAgIC8vIEV4dGVuZGluZyBjbGFzc2VzIHNob3VsZCBpbXBsZW1lbnQgdGhpcyBtZXRob2QuXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTWV0aG9kIG5vdCBpbXBsZW1lbnRlZCcpO1xuICB9XG5cbiAgLyoqXG4gICAqIERyYXdzIHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoaXMgQW5pbWF0aW9uSm9iLlxuICAgKlxuICAgKiBUaGlzIGlzIGNhbGxlZCBmcm9tIHRoZSBvdmVyYWxsIGFuaW1hdGlvbiBsb29wLlxuICAgKlxuICAgKiBAYWJzdHJhY3RcbiAgICovXG4gIGRyYXcoKSB7XG4gICAgLy8gRXh0ZW5kaW5nIGNsYXNzZXMgc2hvdWxkIGltcGxlbWVudCB0aGlzIG1ldGhvZC5cbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdNZXRob2Qgbm90IGltcGxlbWVudGVkJyk7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlcyBhbnkgbmVjZXNzYXJ5IHN0YXRlIGZvciB0aGlzIEFuaW1hdGlvbkpvYiBiZWluZyBmaW5pc2hlZC5cbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSBpc0NhbmNlbGxlZFxuICAgKi9cbiAgZmluaXNoKGlzQ2FuY2VsbGVkKSB7XG4gICAgY29uc29sZS5sb2coYCR7dGhpcy5jb25zdHJ1Y3Rvci5uYW1lfSAke2lzQ2FuY2VsbGVkID8gJ2NhbmNlbGxlZCcgOiAnY29tcGxldGVkJ31gKTtcblxuICAgIHRoaXMuX2lzQ29tcGxldGUgPSB0cnVlO1xuXG4gICAgaWYgKHRoaXMuX29uQ29tcGxldGUpIHtcbiAgICAgIHRoaXMuX29uQ29tcGxldGUoKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IHtBbmltYXRpb25Kb2J9O1xuIiwiaW1wb3J0IHtGcmFtZUxhdGVuY3lQcm9maWxlcn0gZnJvbSAnLi9mcmFtZS1sYXRlbmN5LXByb2ZpbGVyJztcbmltcG9ydCB7UGVyc2lzdGVudEFuaW1hdGlvbkpvYn0gZnJvbSAnLi9wZXJzaXN0ZW50LWFuaW1hdGlvbi1qb2InO1xuaW1wb3J0IHtUcmFuc2llbnRBbmltYXRpb25Kb2J9IGZyb20gJy4vdHJhbnNpZW50LWFuaW1hdGlvbi1qb2InO1xuXG5jb25zdCBfREVMVEFfVElNRV9VUFBFUl9USFJFU0hPTEQgPSAyMDA7XG5jb25zdCBfRlJBTUVfRFVSQVRJT05fV0FSTklOR19USFJFU0hPTEQgPSAxMDAwIC8gMzA7XG5jb25zdCBfRlJBTUVfTEFURU5DWV9MT0dfUEVSSU9EID0gNTAwMDtcbmNvbnN0IF9MQVRFTkNZX0xPR19MQUJFTCA9ICdBbmltYXRpb24gZnJhbWUgcGVyaW9kJztcblxuLyoqXG4gKiBUaGlzIGNsYXNzIGhhbmRsZXMgdGhlIGFuaW1hdGlvbiBsb29wLlxuICpcbiAqIFRoaXMgY2xhc3MncyByZXNwb25zaWJpbGl0aWVzIGluY2x1ZGU6XG4gKiAtIHVwZGF0aW5nIG1vZHVsZXMgZm9yIHRoZSBjdXJyZW50IGZyYW1lLFxuICogLSBkcmF3aW5nIHJlbmRlcmFibGVzIGZvciB0aGUgY3VycmVudCBmcmFtZSxcbiAqIC0gc3RhcnRpbmcgYW5kIHN0b3BwaW5nIHRyYW5zaWVudCBhbmltYXRpb24gam9icyxcbiAqIC0gY2FwcGluZyB0aW1lIHN0ZXAgZHVyYXRpb25zIGF0IGEgbWF4IHRocmVzaG9sZC5cbiAqL1xuY2xhc3MgQW5pbWF0b3Ige1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLl9qb2JzID0gW107XG4gICAgdGhpcy5fcHJldmlvdXNUaW1lID0gbnVsbDtcbiAgICB0aGlzLl9pc1BhdXNlZCA9IHRydWU7XG4gICAgdGhpcy5fcmVxdWVzdEFuaW1hdGlvbkZyYW1lSWQgPSBudWxsO1xuICAgIHRoaXMuX3RvdGFsVW5wYXVzZWRSdW5UaW1lID0gMDtcbiAgICB0aGlzLl9sYXN0VW5wYXVzZVRpbWUgPSBudWxsO1xuICAgIHRoaXMuX2xhdGVuY3lQcm9maWxlciA9IG5ldyBGcmFtZUxhdGVuY3lQcm9maWxlcihfRlJBTUVfTEFURU5DWV9MT0dfUEVSSU9ELFxuICAgICAgICBfRlJBTUVfRFVSQVRJT05fV0FSTklOR19USFJFU0hPTEQsIF9MQVRFTkNZX0xPR19MQUJFTCk7XG4gIH1cblxuICAvKipcbiAgICogU3RhcnRzIHRoZSBnaXZlbiBBbmltYXRpb25Kb2IuXG4gICAqXG4gICAqIEBwYXJhbSB7QW5pbWF0aW9uSm9ifSBqb2JcbiAgICovXG4gIHN0YXJ0Sm9iKGpvYikge1xuICAgIC8vIElzIHRoaXMgYSByZXN0YXJ0P1xuICAgIGlmICgham9iLmlzQ29tcGxldGUpIHtcbiAgICAgIGNvbnNvbGUuZGVidWcoYFJlc3RhcnRpbmcgQW5pbWF0aW9uSm9iOiAke2pvYi5jb25zdHJ1Y3Rvci5uYW1lfWApO1xuXG4gICAgICBpZiAoam9iIGluc3RhbmNlb2YgUGVyc2lzdGVudEFuaW1hdGlvbkpvYikge1xuICAgICAgICBqb2IucmVzZXQoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGpvYi5maW5pc2godHJ1ZSk7XG4gICAgICAgIGpvYi5zdGFydCh3aW5kb3cucGVyZm9ybWFuY2Uubm93KCkpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmRlYnVnKGBTdGFydGluZyBBbmltYXRpb25Kb2I6ICR7am9iLmNvbnN0cnVjdG9yLm5hbWV9YCk7XG5cbiAgICAgIGpvYi5zdGFydCh0aGlzLl9wcmV2aW91c1RpbWUpO1xuICAgICAgdGhpcy5fam9icy5wdXNoKGpvYik7XG4gICAgfVxuXG4gICAgdGhpcy5fc3RhcnRBbmltYXRpb25Mb29wKCk7XG4gIH1cblxuICAvKipcbiAgICogQ2FuY2VscyB0aGUgZ2l2ZW4gQW5pbWF0aW9uSm9iLlxuICAgKlxuICAgKiBAcGFyYW0ge0FuaW1hdGlvbkpvYn0gam9iXG4gICAqL1xuICBjYW5jZWxKb2Ioam9iKSB7XG4gICAgY29uc29sZS5kZWJ1ZyhgQ2FuY2VsbGluZyBBbmltYXRpb25Kb2I6ICR7am9iLmNvbnN0cnVjdG9yLm5hbWV9YCk7XG4gICAgam9iLmZpbmlzaCh0cnVlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYW5jZWxzIGFsbCBydW5uaW5nIEFuaW1hdGlvbkpvYnMuXG4gICAqL1xuICBjYW5jZWxBbGwoKSB7XG4gICAgd2hpbGUgKHRoaXMuX2pvYnMubGVuZ3RoKSB7XG4gICAgICB0aGlzLmNhbmNlbEpvYih0aGlzLl9qb2JzWzBdKTtcbiAgICB9XG4gIH1cblxuICAvKiogQHJldHVybnMge0RPTUhpZ2hSZXNUaW1lU3RhbXB9ICovXG4gIGdldCBjdXJyZW50VGltZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fcHJldmlvdXNUaW1lO1xuICB9XG5cbiAgLyoqIEByZXR1cm5zIHtib29sZWFufSAqL1xuICBnZXQgaXNQYXVzZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lzUGF1c2VkO1xuICB9XG5cbiAgcGF1c2UoKSB7XG4gICAgdGhpcy5fc3RvcEFuaW1hdGlvbkxvb3AoKTtcbiAgICBjb25zb2xlLmRlYnVnKCdBbmltYXRvciBwYXVzZWQnKTtcbiAgfVxuXG4gIHVucGF1c2UoKSB7XG4gICAgdGhpcy5fc3RhcnRBbmltYXRpb25Mb29wKCk7XG4gICAgY29uc29sZS5kZWJ1ZygnQW5pbWF0b3IgdW5wYXVzZWQnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIGlzIHRoZSBhbmltYXRpb24gbG9vcCB0aGF0IGRyaXZlcyBhbGwgb2YgdGhlIGFuaW1hdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHtET01IaWdoUmVzVGltZVN0YW1wfSBjdXJyZW50VGltZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2FuaW1hdGlvbkxvb3AoY3VycmVudFRpbWUpIHtcbiAgICAvLyBXaGVuIHBhdXNpbmcgYW5kIHJlc3RhcnRpbmcsIGl0J3MgcG9zc2libGUgZm9yIHRoZSBwcmV2aW91cyB0aW1lIHRvIGJlIHNsaWdodGx5IGluY29uc2lzdGVudFxuICAgIC8vIHdpdGggdGhlIGFuaW1hdGlvbkZyYW1lIHRpbWUuXG4gICAgaWYgKGN1cnJlbnRUaW1lIDwgdGhpcy5fcHJldmlvdXNUaW1lKSB7XG4gICAgICB0aGlzLl9wcmV2aW91c1RpbWUgPSBjdXJyZW50VGltZSAtIDE7XG4gICAgfVxuXG4gICAgbGV0IGRlbHRhVGltZSA9IGN1cnJlbnRUaW1lIC0gdGhpcy5fcHJldmlvdXNUaW1lO1xuICAgIHRoaXMuX3ByZXZpb3VzVGltZSA9IGN1cnJlbnRUaW1lO1xuXG4gICAgdGhpcy5fbGF0ZW5jeVByb2ZpbGVyLnJlY29yZEZyYW1lTGF0ZW5jeShkZWx0YVRpbWUpO1xuXG4gICAgLy8gTGFyZ2UgZGVsYXlzIGJldHdlZW4gZnJhbWVzIGNhbiBjYXVzZSBsZWFkIHRvIGluc3RhYmlsaXR5IGluIHRoZSBzeXN0ZW0sIHNvIHRoaXMgY2FwcyB0aGVtIHRvXG4gICAgLy8gYSBtYXggdGhyZXNob2xkLlxuICAgIGRlbHRhVGltZSA9IGRlbHRhVGltZSA+IF9ERUxUQV9USU1FX1VQUEVSX1RIUkVTSE9MRCA/XG4gICAgICAgIF9ERUxUQV9USU1FX1VQUEVSX1RIUkVTSE9MRCA6IGRlbHRhVGltZTtcblxuICAgIGlmICghdGhpcy5faXNQYXVzZWQpIHtcbiAgICAgIHRoaXMuX3JlcXVlc3RBbmltYXRpb25GcmFtZUlkID1cbiAgICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGN1cnJlbnRUaW1lID0+IHRoaXMuX2FuaW1hdGlvbkxvb3AoY3VycmVudFRpbWUpKTtcbiAgICAgIHRoaXMuX3VwZGF0ZUpvYnMoY3VycmVudFRpbWUsIGRlbHRhVGltZSk7XG4gICAgICB0aGlzLl9kcmF3Sm9icygpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIGFsbCBvZiB0aGUgYWN0aXZlIEFuaW1hdGlvbkpvYnMuXG4gICAqXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gY3VycmVudFRpbWVcbiAgICogQHBhcmFtIHtET01IaWdoUmVzVGltZVN0YW1wfSBkZWx0YVRpbWVcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF91cGRhdGVKb2JzKGN1cnJlbnRUaW1lLCBkZWx0YVRpbWUpIHtcbiAgICBmb3IgKGxldCBpID0gMCwgY291bnQgPSB0aGlzLl9qb2JzLmxlbmd0aDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgIGxldCBqb2IgPSB0aGlzLl9qb2JzW2ldO1xuXG4gICAgICAvLyBSZW1vdmUgam9icyBmcm9tIHRoZSBsaXN0IGFmdGVyIHRoZXkgYXJlIGNvbXBsZXRlLlxuICAgICAgaWYgKGpvYi5pc0NvbXBsZXRlKSB7XG4gICAgICAgIHRoaXMuX3JlbW92ZUpvYihqb2IsIGkpO1xuICAgICAgICBpLS07XG4gICAgICAgIGNvdW50LS07XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBDaGVjayB3aGV0aGVyIHRoZSBqb2IgaXMgdHJhbnNpZW50IGFuZCBoYXMgcmVhY2hlZCBpdHMgZW5kLlxuICAgICAgaWYgKGpvYiBpbnN0YW5jZW9mIFRyYW5zaWVudEFuaW1hdGlvbkpvYiAmJiBqb2IuZW5kVGltZSA8IGN1cnJlbnRUaW1lKSB7XG4gICAgICAgIGpvYi5maW5pc2goZmFsc2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgam9iLnVwZGF0ZShjdXJyZW50VGltZSwgZGVsdGFUaW1lKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyB0aGUgZ2l2ZW4gam9iIGZyb20gdGhlIGNvbGxlY3Rpb24gb2YgYWN0aXZlLCBhbmltYXRpbmcgam9icy5cbiAgICpcbiAgICogQHBhcmFtIHtBbmltYXRpb25Kb2J9IGpvYlxuICAgKiBAcGFyYW0ge251bWJlcn0gW2luZGV4PS0xXVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3JlbW92ZUpvYihqb2IsIGluZGV4ID0gLTEpIHtcbiAgICBjb25zb2xlLmRlYnVnKGBSZW1vdmluZyBBbmltYXRpb25Kb2I6ICR7am9iLmNvbnN0cnVjdG9yLm5hbWV9YCk7XG5cbiAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgdGhpcy5fam9icy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBjb3VudCA9IHRoaXMuX2pvYnMubGVuZ3RoO1xuICAgICAgZm9yIChpbmRleCA9IDA7IGluZGV4IDwgY291bnQ7IGluZGV4KyspIHtcbiAgICAgICAgaWYgKHRoaXMuX2pvYnNbaW5kZXhdID09PSBqb2IpIHtcbiAgICAgICAgICB0aGlzLl9qb2JzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBTdG9wIHRoZSBhbmltYXRpb24gbG9vcCB3aGVuIHRoZXJlIGFyZSBubyBtb3JlIGpvYnMgdG8gYW5pbWF0ZS5cbiAgICBpZiAodGhpcy5fam9icy5sZW5ndGggPT09IDApIHtcbiAgICAgIHRoaXMuX3N0b3BBbmltYXRpb25Mb29wKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERyYXdzIGFsbCBvZiB0aGUgYWN0aXZlIEFuaW1hdGlvbkpvYnMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZHJhd0pvYnMoKSB7XG4gICAgZm9yIChsZXQgaSA9IDAsIGNvdW50ID0gdGhpcy5fam9icy5sZW5ndGg7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICB0aGlzLl9qb2JzW2ldLmRyYXcoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU3RhcnRzIHRoZSBhbmltYXRpb24gbG9vcCBpZiBpdCBpcyBub3QgYWxyZWFkeSBydW5uaW5nLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBpcyBpZGVtcG90ZW50LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3N0YXJ0QW5pbWF0aW9uTG9vcCgpIHtcbiAgICBpZiAodGhpcy5faXNQYXVzZWQpIHtcbiAgICAgIHRoaXMuX2xhc3RVbnBhdXNlVGltZSA9IHdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKTtcbiAgICB9XG4gICAgdGhpcy5faXNQYXVzZWQgPSBmYWxzZTtcblxuICAgIC8vIE9ubHkgYWN0dWFsbHkgc3RhcnQgdGhlIGxvb3AgaWYgaXQgaXNuJ3QgYWxyZWFkeSBydW5uaW5nIGFuZCB0aGUgcGFnZSBoYXMgZm9jdXMuXG4gICAgaWYgKCF0aGlzLl9yZXF1ZXN0QW5pbWF0aW9uRnJhbWVJZCAmJiAhZG9jdW1lbnQuaGlkZGVuKSB7XG4gICAgICB0aGlzLl9sYXRlbmN5UHJvZmlsZXIuc3RhcnQoKTtcbiAgICAgIHRoaXMuX3ByZXZpb3VzVGltZSA9IHdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgIHRoaXMuX3JlcXVlc3RBbmltYXRpb25GcmFtZUlkID1cbiAgICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRpbWUgPT4gdGhpcy5fYW5pbWF0aW9uTG9vcCh0aW1lKSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFN0b3BzIHRoZSBhbmltYXRpb24gbG9vcC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9zdG9wQW5pbWF0aW9uTG9vcCgpIHtcbiAgICBpZiAoIXRoaXMuX2lzUGF1c2VkKSB7XG4gICAgICB0aGlzLl90b3RhbFVucGF1c2VkUnVuVGltZSArPSB0aGlzLl90aW1lU2luY2VMYXN0UGF1c2VkO1xuICAgIH1cbiAgICB0aGlzLl9pc1BhdXNlZCA9IHRydWU7XG4gICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuX3JlcXVlc3RBbmltYXRpb25GcmFtZUlkKTtcbiAgICB0aGlzLl9yZXF1ZXN0QW5pbWF0aW9uRnJhbWVJZCA9IG51bGw7XG4gICAgdGhpcy5fbGF0ZW5jeVByb2ZpbGVyLnN0b3AoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgcHJvbWlzZSB0aGF0IHdpbGwgcmVzb2x2ZSBvbiB0aGUgbmV4dCBhbmltYXRpb24gbG9vcC5cbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2V9XG4gICAqL1xuICByZXNvbHZlT25OZXh0RnJhbWUoKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHRvdGFsIGFtb3VudCBvZiB0aW1lIHRoZSBhbmltYXRvciBoYXMgYmVlbiBydW5uaW5nIHdoaWxlIG5vdCBwYXVzZWQuXG4gICAqXG4gICAqIEByZXR1cm5zIHtET01IaWdoUmVzVGltZVN0YW1wfVxuICAgKi9cbiAgZ2V0IHRvdGFsUnVuVGltZSgpIHtcbiAgICByZXR1cm4gdGhpcy5faXNQYXVzZWRcbiAgICAgICAgPyB0aGlzLl90b3RhbFVucGF1c2VkUnVuVGltZVxuICAgICAgICA6IHRoaXMuX3RvdGFsVW5wYXVzZWRSdW5UaW1lICsgdGhpcy5fdGltZVNpbmNlTGFzdFBhdXNlZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7RE9NSGlnaFJlc1RpbWVTdGFtcH1cbiAgICovXG4gIGdldCBfdGltZVNpbmNlTGFzdFBhdXNlZCgpIHtcbiAgICByZXR1cm4gd2luZG93LnBlcmZvcm1hbmNlLm5vdygpIC0gdGhpcy5fbGFzdFVucGF1c2VUaW1lO1xuICB9XG59XG5cbmNvbnN0IGFuaW1hdG9yID0gbmV3IEFuaW1hdG9yKCk7XG5cbmV4cG9ydCB7YW5pbWF0b3J9O1xuXG4vKipcbiAqIEB0eXBlZGVmIHtudW1iZXJ9IERPTUhpZ2hSZXNUaW1lU3RhbXAgQSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzLCBhY2N1cmF0ZSB0byBvbmUgdGhvdXNhbmR0aCBvZiBhXG4gKiBtaWxsaXNlY29uZC5cbiAqL1xuXG4iLCIvKipcbiAqIFRoaXMgY2xhc3Mga2VlcHMgdHJhY2sgb2YgYXZnL21pbi9tYXggZnJhbWUgbGF0ZW5jaWVzIG92ZXIgdGhlIGxhc3QgbG9nZ2luZyB0aW1lIHBlcmlvZCBhbmRcbiAqIHBlcmlvZGljYWxseSBsb2dzIHRoZXNlIHZhbHVlcy5cbiAqL1xuY2xhc3MgRnJhbWVMYXRlbmN5UHJvZmlsZXIge1xuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IGxvZ1BlcmlvZCBUaGUgcGVyaW9kIGF0IHdoaWNoIHRvIHByaW50IGxhdGVuY3kgbG9nIG1lc3NhZ2VzLiBJbiBtaWxsaXNlY29uZHMuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBsYXRlbmN5V2FybmluZ1RocmVzaG9sZCBJZiB0aGUgYXZlcmFnZSBsYXRlbmN5IGV4Y2VlZHMgdGhpcyB0aHJlc2hvbGQsIHRoZW4gdGhlXG4gICAqIGxvZyBtZXNzYWdlIGlzIHNob3duIGFzIGEgd2FybmluZy4gSW4gbWlsbGlzZWNvbmRzLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbG9nTGFiZWwgQSBsYWJlbCB0byBzaG93IGZvciBlYWNoIGxhdGVuY3kgbG9nIG1lc3NhZ2UuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihsb2dQZXJpb2QsIGxhdGVuY3lXYXJuaW5nVGhyZXNob2xkLCBsb2dMYWJlbCkge1xuICAgIHRoaXMuX2xvZ1BlcmlvZCA9IGxvZ1BlcmlvZDtcbiAgICB0aGlzLl9sYXRlbmN5V2FybmluZ1RocmVzaG9sZCA9IGxhdGVuY3lXYXJuaW5nVGhyZXNob2xkO1xuICAgIHRoaXMuX2xvZ0xhYmVsID0gbG9nTGFiZWw7XG5cbiAgICB0aGlzLl9mcmFtZUNvdW50ID0gbnVsbDtcbiAgICB0aGlzLl9tYXhGcmFtZUxhdGVuY3kgPSBudWxsO1xuICAgIHRoaXMuX21pbkZyYW1lTGF0ZW5jeSA9IG51bGw7XG4gICAgdGhpcy5fYXZnRnJhbWVMYXRlbmN5ID0gbnVsbDtcblxuICAgIHRoaXMuX2ludGVydmFsSWQgPSBudWxsO1xuICB9XG5cbiAgc3RhcnQoKSB7XG4gICAgdGhpcy5zdG9wKCk7XG4gICAgdGhpcy5yZXNldCgpO1xuXG4gICAgdGhpcy5faW50ZXJ2YWxJZCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIHRoaXMubG9nRnJhbWVMYXRlbmN5KCk7XG4gICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfSwgdGhpcy5fbG9nUGVyaW9kKTtcbiAgfVxuXG4gIHN0b3AoKSB7XG4gICAgY2xlYXJJbnRlcnZhbCh0aGlzLl9pbnRlcnZhbElkKTtcbiAgfVxuXG4gIHJlc2V0KCkge1xuICAgIHRoaXMuX2ZyYW1lQ291bnQgPSAwO1xuICAgIHRoaXMuX21heEZyYW1lTGF0ZW5jeSA9IE51bWJlci5NSU5fVkFMVUU7XG4gICAgdGhpcy5fbWluRnJhbWVMYXRlbmN5ID0gTnVtYmVyLk1BWF9WQUxVRTtcbiAgICB0aGlzLl9hdmdGcmFtZUxhdGVuY3kgPSAwO1xuICB9XG5cbiAgLyoqXG4gICAqIEtlZXBzIHRyYWNrIG9mIGEgcnVubmluZyBhdmVyYWdlLCBtaW4gdmFsdWUsIGFuZCBtYXggdmFsdWUgZm9yIHRoZSBmcmFtZSBsYXRlbmNpZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gZnJhbWVMYXRlbmN5XG4gICAqL1xuICByZWNvcmRGcmFtZUxhdGVuY3koZnJhbWVMYXRlbmN5KSB7XG4gICAgdGhpcy5fZnJhbWVDb3VudCsrO1xuICAgIHRoaXMuX21heEZyYW1lTGF0ZW5jeSA9XG4gICAgICAgIHRoaXMuX21heEZyYW1lTGF0ZW5jeSA8IGZyYW1lTGF0ZW5jeSA/IGZyYW1lTGF0ZW5jeSA6IHRoaXMuX21heEZyYW1lTGF0ZW5jeTtcbiAgICB0aGlzLl9taW5GcmFtZUxhdGVuY3kgPVxuICAgICAgICB0aGlzLl9taW5GcmFtZUxhdGVuY3kgPiBmcmFtZUxhdGVuY3kgPyBmcmFtZUxhdGVuY3kgOiB0aGlzLl9taW5GcmFtZUxhdGVuY3k7XG4gICAgdGhpcy5fYXZnRnJhbWVMYXRlbmN5ID1cbiAgICAgICAgdGhpcy5fYXZnRnJhbWVMYXRlbmN5ICsgKGZyYW1lTGF0ZW5jeSAtIHRoaXMuX2F2Z0ZyYW1lTGF0ZW5jeSkgLyB0aGlzLl9mcmFtZUNvdW50O1xuICB9XG5cbiAgbG9nRnJhbWVMYXRlbmN5KCkge1xuICAgIGlmICh0aGlzLl9mcmFtZUNvdW50ID4gMCkge1xuICAgICAgY29uc3QgbWVzc2FnZSA9IGAke3RoaXMuX2xvZ0xhYmVsfTogIEFWRz0ke3RoaXMuX2F2Z0ZyYW1lTGF0ZW5jeS50b0ZpeGVkKDMpfSAgYCArXG4gICAgICAgICAgYChNQVg9JHt0aGlzLl9tYXhGcmFtZUxhdGVuY3kudG9GaXhlZCgzKX07IE1JTj0ke3RoaXMuX21pbkZyYW1lTGF0ZW5jeS50b0ZpeGVkKDMpfSlgO1xuICAgICAgaWYgKHRoaXMuX21heEZyYW1lTGF0ZW5jeSA+PSB0aGlzLl9sYXRlbmN5V2FybmluZ1RocmVzaG9sZCkge1xuICAgICAgICBjb25zb2xlLndhcm4obWVzc2FnZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmRlYnVnKG1lc3NhZ2UpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQge0ZyYW1lTGF0ZW5jeVByb2ZpbGVyfTtcbiIsImV4cG9ydCAqIGZyb20gJy4vYW5pbWF0aW9uLWpvYic7XG5leHBvcnQgKiBmcm9tICcuL2FuaW1hdG9yJztcbmV4cG9ydCAqIGZyb20gJy4vZnJhbWUtbGF0ZW5jeS1wcm9maWxlcic7XG5leHBvcnQgKiBmcm9tICcuL3BlcnNpc3RlbnQtYW5pbWF0aW9uLWpvYic7XG5leHBvcnQgKiBmcm9tICcuL3RyYW5zaWVudC1hbmltYXRpb24tam9iJztcbiIsImltcG9ydCB7QW5pbWF0aW9uSm9ifSBmcm9tICcuL2FuaW1hdGlvbi1qb2InO1xuXG4vKipcbiAqIEEgUGVyc2lzdGVudEFuaW1hdGlvbkpvYiByZWN1cnMgb3IgaGFzIGFuIGluZGVmaW5pdGUgZHVyYXRpb24uXG4gKlxuICogQGFic3RyYWN0XG4gKi9cbmNsYXNzIFBlcnNpc3RlbnRBbmltYXRpb25Kb2IgZXh0ZW5kcyBBbmltYXRpb25Kb2Ige1xuICAvKipcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW29uQ29tcGxldGVdIEEgY2FsbGJhY2sgdG8gYmUgY2FsbGVkIHdoZW4gdGhpcyBBbmltYXRpb25Kb2IgaXMgZmluaXNoZWQuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihvbkNvbXBsZXRlKSB7XG4gICAgc3VwZXIob25Db21wbGV0ZSk7XG5cbiAgICAvLyBQZXJzaXN0ZW50QW5pbWF0aW9uSm9iIGlzIGFuIGFic3RyYWN0IGNsYXNzLiBJdCBzaG91bGQgbm90IGJlIGluc3RhbnRpYXRlZCBkaXJlY3RseS5cbiAgICBpZiAobmV3LnRhcmdldCA9PT0gUGVyc2lzdGVudEFuaW1hdGlvbkpvYikge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNvbnN0cnVjdCBQZXJzaXN0ZW50QW5pbWF0aW9uSm9iIGluc3RhbmNlcyBkaXJlY3RseScpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAYWJzdHJhY3RcbiAgICovXG4gIHJlc2V0KCkge1xuICAgIC8vIEV4dGVuZGluZyBjbGFzc2VzIHNob3VsZCBpbXBsZW1lbnQgdGhpcyBtZXRob2QuXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTWV0aG9kIG5vdCBpbXBsZW1lbnRlZCcpO1xuICB9XG59XG5cbmV4cG9ydCB7UGVyc2lzdGVudEFuaW1hdGlvbkpvYn07XG4iLCJpbXBvcnQge191dGlsfSBmcm9tICcuL3V0aWwnO1xuXG5pbXBvcnQge0FuaW1hdGlvbkpvYn0gZnJvbSAnLi9hbmltYXRpb24tam9iJztcblxuLyoqXG4gKiBBIFRyYW5zaWVudEFuaW1hdGlvbkpvYiBpcyB0ZW1wb3JhcnkgYW5kIGhhcyBhIGRlZmluaXRlIGJlZ2lubmluZyBhbmQgZW5kLlxuICpcbiAqIEBhYnN0cmFjdFxuICovXG5jbGFzcyBUcmFuc2llbnRBbmltYXRpb25Kb2IgZXh0ZW5kcyBBbmltYXRpb25Kb2Ige1xuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IGR1cmF0aW9uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBkZWxheVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufFN0cmluZ30gZWFzaW5nRnVuY3Rpb25cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW29uQ29tcGxldGVdIEEgY2FsbGJhY2sgdG8gYmUgY2FsbGVkIHdoZW4gdGhpcyBBbmltYXRpb25Kb2IgaXMgZmluaXNoZWQuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihkdXJhdGlvbiwgZGVsYXksIGVhc2luZ0Z1bmN0aW9uLCBvbkNvbXBsZXRlKSB7XG4gICAgc3VwZXIob25Db21wbGV0ZSk7XG5cbiAgICAvLyBUcmFuc2llbnRBbmltYXRpb25Kb2IgaXMgYW4gYWJzdHJhY3QgY2xhc3MuIEl0IHNob3VsZCBub3QgYmUgaW5zdGFudGlhdGVkIGRpcmVjdGx5LlxuICAgIGlmIChuZXcudGFyZ2V0ID09PSBUcmFuc2llbnRBbmltYXRpb25Kb2IpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjb25zdHJ1Y3QgVHJhbnNpZW50QW5pbWF0aW9uSm9iIGluc3RhbmNlcyBkaXJlY3RseScpO1xuICAgIH1cblxuICAgIHRoaXMuX2R1cmF0aW9uID0gZHVyYXRpb247XG4gICAgdGhpcy5fZGVsYXkgPSBkZWxheTtcbiAgICB0aGlzLl9lYXNpbmdGdW5jdGlvbiA9IHR5cGVvZiBlYXNpbmdGdW5jdGlvbiA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICA/IGVhc2luZ0Z1bmN0aW9uXG4gICAgICAgIDogX3V0aWwuZWFzaW5nRnVuY3Rpb25zW2Vhc2luZ0Z1bmN0aW9uXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgKi9cbiAgZ2V0IGVuZFRpbWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3N0YXJ0VGltZSArIHRoaXMuX2R1cmF0aW9uICsgdGhpcy5fZGVsYXk7XG4gIH1cbn1cblxuZXhwb3J0IHtUcmFuc2llbnRBbmltYXRpb25Kb2J9O1xuIiwiLyoqXG4gKiBUaGlzIG1vZHVsZSBkZWZpbmVzIGEgY29sbGVjdGlvbiBvZiBzdGF0aWMgdXRpbGl0eSBmdW5jdGlvbnMuXG4gKi9cblxuLy8gQSBjb2xsZWN0aW9uIG9mIGRpZmZlcmVudCB0eXBlcyBvZiBlYXNpbmcgZnVuY3Rpb25zLlxuY29uc3QgZWFzaW5nRnVuY3Rpb25zID0ge1xuICBsaW5lYXI6IHQgPT4gdCxcbiAgZWFzZUluUXVhZDogdCA9PiB0ICogdCxcbiAgZWFzZU91dFF1YWQ6IHQgPT4gdCAqICgyIC0gdCksXG4gIGVhc2VJbk91dFF1YWQ6IHQgPT4gdCA8IDAuNSA/IDIgKiB0ICogdCA6IC0xICsgKDQgLSAyICogdCkgKiB0LFxuICBlYXNlSW5DdWJpYzogdCA9PiB0ICogdCAqIHQsXG4gIGVhc2VPdXRDdWJpYzogdCA9PiAxICsgLS10ICogdCAqIHQsXG4gIGVhc2VJbk91dEN1YmljOiB0ID0+IHQgPCAwLjUgPyA0ICogdCAqIHQgKiB0IDogKHQgLSAxKSAqICgyICogdCAtIDIpICogKDIgKiB0IC0gMikgKyAxLFxuICBlYXNlSW5RdWFydDogdCA9PiB0ICogdCAqIHQgKiB0LFxuICBlYXNlT3V0UXVhcnQ6IHQgPT4gMSAtIC0tdCAqIHQgKiB0ICogdCxcbiAgZWFzZUluT3V0UXVhcnQ6IHQgPT4gdCA8IDAuNSA/IDggKiB0ICogdCAqIHQgKiB0IDogMSAtIDggKiAtLXQgKiB0ICogdCAqIHQsXG4gIGVhc2VJblF1aW50OiB0ID0+IHQgKiB0ICogdCAqIHQgKiB0LFxuICBlYXNlT3V0UXVpbnQ6IHQgPT4gMSArIC0tdCAqIHQgKiB0ICogdCAqIHQsXG4gIGVhc2VJbk91dFF1aW50OiB0ID0+IHQgPCAwLjUgPyAxNiAqIHQgKiB0ICogdCAqIHQgKiB0IDogMSArIDE2ICogLS10ICogdCAqIHQgKiB0ICogdFxufTtcblxuY29uc3QgX3V0aWwgPSB7XG4gIGVhc2luZ0Z1bmN0aW9ucyxcbn07XG5cbmV4cG9ydCB7XG4gIF91dGlsLFxufTtcbiIsImV4cG9ydCAqIGZyb20gJy4vc3JjL2FhYmItY29sbGlkYWJsZSc7XG5leHBvcnQgKiBmcm9tICcuL3NyYy9jYXBzdWxlLWNvbGxpZGFibGUnO1xuZXhwb3J0ICogZnJvbSAnLi9zcmMvY29sbGlkYWJsZSc7XG5leHBvcnQgKiBmcm9tICcuL3NyYy9saW5lLXNlZ21lbnQnO1xuZXhwb3J0ICogZnJvbSAnLi9zcmMvb2JiLWNvbGxpZGFibGUnO1xuZXhwb3J0ICogZnJvbSAnLi9zcmMvc3BoZXJlLWNvbGxpZGFibGUnO1xuIiwiaW1wb3J0IHtDb2xsaWRhYmxlfSBmcm9tICcuL2NvbGxpZGFibGUnO1xuaW1wb3J0IHtMaW5lU2VnbWVudH0gZnJvbSAnLi9saW5lLXNlZ21lbnQnO1xuaW1wb3J0IHt0bXBWZWMxLCB0bXBWZWMyfSBmcm9tICcuLi8uLi8uLi91dGlsJztcblxuLyoqXG4gKiBUaGlzIGNsYXNzIHJlcHJlc2VudHMgYW4gYXhpYWxseS1hbGlnbmVkIGJvdW5kaW5nIGJveCAoQUFCQikuXG4gKlxuICogVGhpcyBpcyBwcmltYXJpbHkgdXNlZnVsIGZvciBjb2xsaXNpb24gZGV0ZWN0aW9uLiBBbiBBQUJCIGlzIG9ubHkgYXBwcm9wcmlhdGUgZm9yIHNvbWVcbiAqIGdlb21ldHJpZXMuIEZvciBvdGhlciBnZW9tZXRyaWVzLCBhbiBvcmllbnRlZCBib3VuZGluZyBib3ggKE9CQikgb3IgYSBib3VuZGluZyBzcGhlcmUgbWF5IGJlIG1vcmVcbiAqIGFwcHJvcHJpYXRlLlxuICovXG5jbGFzcyBBYWJiIGV4dGVuZHMgQ29sbGlkYWJsZSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gbWluWFxuICAgKiBAcGFyYW0ge251bWJlcn0gbWluWVxuICAgKiBAcGFyYW0ge251bWJlcn0gbWluWlxuICAgKiBAcGFyYW0ge251bWJlcn0gbWF4WFxuICAgKiBAcGFyYW0ge251bWJlcn0gbWF4WVxuICAgKiBAcGFyYW0ge251bWJlcn0gbWF4WlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc1N0YXRpb25hcnk9ZmFsc2VdXG4gICAqIEBwYXJhbSB7Q29sbGlkYWJsZVBoeXNpY3NKb2J9IFtwaHlzaWNzSm9iXVxuICAgKi9cbiAgY29uc3RydWN0b3IobWluWCwgbWluWSwgbWluWiwgbWF4WCwgbWF4WSwgbWF4WiwgaXNTdGF0aW9uYXJ5ID0gZmFsc2UsIHBoeXNpY3NKb2IpIHtcbiAgICBzdXBlcihpc1N0YXRpb25hcnksIHBoeXNpY3NKb2IpO1xuICAgIHRoaXMubWluWCA9IG1pblg7XG4gICAgdGhpcy5taW5ZID0gbWluWTtcbiAgICB0aGlzLm1pblogPSBtaW5aO1xuICAgIHRoaXMubWF4WCA9IG1heFg7XG4gICAgdGhpcy5tYXhZID0gbWF4WTtcbiAgICB0aGlzLm1heFogPSBtYXhaO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgYm91bmRpbmcgYm94IHdpdGggdGhlIGRpbWVuc2lvbnMgb2YgYW4gYXhpYWxseS1hbGlnbmVkIGN1YmUgY2VudGVyZWQgYXJvdW5kIHRoZSBcbiAgICogZ2l2ZW4gY2VudGVyIGFuZCB3aXRoIHRoZSBnaXZlbiBoYWxmLXNpZGUgbGVuZ3RoLlxuICAgKlxuICAgKiBAcGFyYW0ge3ZlYzN9IGNlbnRlclxuICAgKiBAcGFyYW0ge251bWJlcn0gaGFsZlNpZGVMZW5ndGhcbiAgICovXG4gIHN0YXRpYyBjcmVhdGVBc1VuaWZvcm1Bcm91bmRDZW50ZXIoY2VudGVyLCBoYWxmU2lkZUxlbmd0aCkge1xuICAgIGNvbnN0IGJvdW5kcyA9IG5ldyBBYWJiKDAsIDAsIDAsIDAsIDAsIDApO1xuICAgIGJvdW5kcy5zZXRBc1VuaWZvcm1Bcm91bmRDZW50ZXIoY2VudGVyLCBoYWxmU2lkZUxlbmd0aCk7XG4gICAgcmV0dXJuIGJvdW5kcztcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBkaW1lbnNpb25zIG9mIHRoaXMgYm91bmRpbmcgYm94IHRvIHJlcHJlc2VudCBhbiBheGlhbGx5LWFsaWduZWQgY3ViZSBjZW50ZXJlZFxuICAgKiBhcm91bmQgdGhlIGdpdmVuIGNlbnRlciBhbmQgd2l0aCB0aGUgZ2l2ZW4gaGFsZi1zaWRlIGxlbmd0aC5cbiAgICpcbiAgICogQHBhcmFtIHt2ZWMzfSBjZW50ZXJcbiAgICogQHBhcmFtIHtudW1iZXJ9IGhhbGZTaWRlTGVuZ3RoXG4gICAqL1xuICBzZXRBc1VuaWZvcm1Bcm91bmRDZW50ZXIoY2VudGVyLCBoYWxmU2lkZUxlbmd0aCkge1xuICAgIHRoaXMubWluWCA9IGNlbnRlclswXSAtIGhhbGZTaWRlTGVuZ3RoO1xuICAgIHRoaXMubWluWSA9IGNlbnRlclsxXSAtIGhhbGZTaWRlTGVuZ3RoO1xuICAgIHRoaXMubWluWiA9IGNlbnRlclsyXSAtIGhhbGZTaWRlTGVuZ3RoO1xuICAgIHRoaXMubWF4WCA9IGNlbnRlclswXSArIGhhbGZTaWRlTGVuZ3RoO1xuICAgIHRoaXMubWF4WSA9IGNlbnRlclsxXSArIGhhbGZTaWRlTGVuZ3RoO1xuICAgIHRoaXMubWF4WiA9IGNlbnRlclsyXSArIGhhbGZTaWRlTGVuZ3RoO1xuICB9XG5cbiAgLyoqIEByZXR1cm5zIHtudW1iZXJ9ICovXG4gIGdldCByYW5nZVgoKSB7XG4gICAgcmV0dXJuIHRoaXMubWF4WCAtIHRoaXMubWluWDtcbiAgfVxuICAvKiogQHJldHVybnMge251bWJlcn0gKi9cbiAgZ2V0IHJhbmdlWSgpIHtcbiAgICByZXR1cm4gdGhpcy5tYXhZIC0gdGhpcy5taW5ZO1xuICB9XG4gIC8qKiBAcmV0dXJucyB7bnVtYmVyfSAqL1xuICBnZXQgcmFuZ2VaKCkge1xuICAgIHJldHVybiB0aGlzLm1heFogLSB0aGlzLm1pblo7XG4gIH1cblxuICAvKiogQHJldHVybnMge251bWJlcn0gKi9cbiAgZ2V0IGNlbnRlclgoKSB7XG4gICAgcmV0dXJuIHRoaXMubWluWCArIHRoaXMucmFuZ2VYIC8gMjtcbiAgfVxuICAvKiogQHJldHVybnMge251bWJlcn0gKi9cbiAgZ2V0IGNlbnRlclkoKSB7XG4gICAgcmV0dXJuIHRoaXMubWluWSArIHRoaXMucmFuZ2VZIC8gMjtcbiAgfVxuICAvKiogQHJldHVybnMge251bWJlcn0gKi9cbiAgZ2V0IGNlbnRlclooKSB7XG4gICAgcmV0dXJuIHRoaXMubWluWiArIHRoaXMucmFuZ2VaIC8gMjtcbiAgfVxuXG4gIC8qKiBAcmV0dXJucyB7bnVtYmVyfSAqL1xuICBnZXQgc3VyZmFjZUFyZWEoKSB7XG4gICAgY29uc3QgcmFuZ2VYID0gdGhpcy5yYW5nZVg7XG4gICAgY29uc3QgcmFuZ2VZID0gdGhpcy5yYW5nZVk7XG4gICAgY29uc3QgcmFuZ2VaID0gdGhpcy5yYW5nZVo7XG4gICAgcmV0dXJuIDIgKiAocmFuZ2VYICogcmFuZ2VZICsgcmFuZ2VYICogcmFuZ2VaICsgcmFuZ2VZICogcmFuZ2VaKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7dmVjM31cbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXQgY2VudGVyT2ZWb2x1bWUoKSB7XG4gICAgLy8gUmV1c2UgdGhlIHNhbWUgb2JqZWN0IHdoZW4gdGhpcyBpcyBjYWxsZWQgbXVsdGlwbGUgdGltZXMuXG4gICAgdGhpcy5fY2VudGVyT2ZWb2x1bWUgPSB0aGlzLl9jZW50ZXJPZlZvbHVtZSB8fCB2ZWMzLmNyZWF0ZSgpO1xuICAgIHZlYzMuc2V0KHRoaXMuX2NlbnRlck9mVm9sdW1lLCB0aGlzLmNlbnRlclgsIHRoaXMuY2VudGVyWSwgdGhpcy5jZW50ZXJaKTtcbiAgICByZXR1cm4gdGhpcy5fY2VudGVyT2ZWb2x1bWU7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge0NvbGxpZGFibGV9XG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0IGJvdW5kaW5nVm9sdW1lKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7dmVjM30gdmFsdWVcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzZXQgcG9zaXRpb24odmFsdWUpIHtcbiAgICBjb25zdCByYW5nZVggPSB0aGlzLnJhbmdlWDtcbiAgICBjb25zdCByYW5nZVkgPSB0aGlzLnJhbmdlWTtcbiAgICBjb25zdCByYW5nZVogPSB0aGlzLnJhbmdlWjtcbiAgICB0aGlzLm1pblggPSB2YWx1ZVswXSAtIHJhbmdlWCAvIDI7XG4gICAgdGhpcy5taW5ZID0gdmFsdWVbMV0gLSByYW5nZVkgLyAyO1xuICAgIHRoaXMubWluWiA9IHZhbHVlWzJdIC0gcmFuZ2VaIC8gMjtcbiAgICB0aGlzLm1heFggPSB2YWx1ZVswXSArIHJhbmdlWCAvIDI7XG4gICAgdGhpcy5tYXhZID0gdmFsdWVbMV0gKyByYW5nZVkgLyAyO1xuICAgIHRoaXMubWF4WiA9IHZhbHVlWzJdICsgcmFuZ2VaIC8gMjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3F1YXR9IHZhbHVlXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc2V0IG9yaWVudGF0aW9uKHZhbHVlKSB7XG4gICAgLy8gRG8gbm90aGluZy5cbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxscyB0aGUgZ2l2ZW4gY2FsbGJhY2sgb25jZSBmb3IgZWFjaCB2ZXJ0ZXguXG4gICAqXG4gICAqIFN0b3BzIGFzIHNvb24gYXMgdGhlIGNhbGxiYWNrIHJldHVybnMgdHJ1ZSBmb3IgYSB2ZXJ0ZXguXG4gICAqXG4gICAqIEBwYXJhbSB7VmVydGV4Q2FsbGJhY2t9IGNhbGxiYWNrXG4gICAqIEBwYXJhbSB7dmVjM30gW3ZlcnRleF0gT3V0cHV0IHBhcmFtLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBvbmUgb2YgdGhlIGNhbGxiYWNrcyByZXR1cm5lZCB0cnVlLlxuICAgKi9cbiAgc29tZVZlcnRleChjYWxsYmFjaywgdmVydGV4KSB7XG4gICAgdmVydGV4ID0gdmVydGV4IHx8IHRtcFZlYzE7XG5cbiAgICB2ZWMzLnNldCh2ZXJ0ZXgsIHRoaXMubWluWCwgdGhpcy5taW5ZLCB0aGlzLm1pblopO1xuICAgIGlmIChjYWxsYmFjayh2ZXJ0ZXgpKSByZXR1cm4gdHJ1ZTtcblxuICAgIHZlYzMuc2V0KHZlcnRleCwgdGhpcy5tYXhYLCB0aGlzLm1pblksIHRoaXMubWluWik7XG4gICAgaWYgKGNhbGxiYWNrKHZlcnRleCkpIHJldHVybiB0cnVlO1xuXG4gICAgdmVjMy5zZXQodmVydGV4LCB0aGlzLm1pblgsIHRoaXMubWF4WSwgdGhpcy5taW5aKTtcbiAgICBpZiAoY2FsbGJhY2sodmVydGV4KSkgcmV0dXJuIHRydWU7XG5cbiAgICB2ZWMzLnNldCh2ZXJ0ZXgsIHRoaXMubWF4WCwgdGhpcy5tYXhZLCB0aGlzLm1pblopO1xuICAgIGlmIChjYWxsYmFjayh2ZXJ0ZXgpKSByZXR1cm4gdHJ1ZTtcblxuICAgIHZlYzMuc2V0KHZlcnRleCwgdGhpcy5taW5YLCB0aGlzLm1pblksIHRoaXMubWF4Wik7XG4gICAgaWYgKGNhbGxiYWNrKHZlcnRleCkpIHJldHVybiB0cnVlO1xuXG4gICAgdmVjMy5zZXQodmVydGV4LCB0aGlzLm1heFgsIHRoaXMubWluWSwgdGhpcy5tYXhaKTtcbiAgICBpZiAoY2FsbGJhY2sodmVydGV4KSkgcmV0dXJuIHRydWU7XG5cbiAgICB2ZWMzLnNldCh2ZXJ0ZXgsIHRoaXMubWluWCwgdGhpcy5tYXhZLCB0aGlzLm1heFopO1xuICAgIGlmIChjYWxsYmFjayh2ZXJ0ZXgpKSByZXR1cm4gdHJ1ZTtcblxuICAgIHZlYzMuc2V0KHZlcnRleCwgdGhpcy5tYXhYLCB0aGlzLm1heFksIHRoaXMubWF4Wik7XG4gICAgaWYgKGNhbGxiYWNrKHZlcnRleCkpIHJldHVybiB0cnVlO1xuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxzIHRoZSBnaXZlbiBjYWxsYmFjayBvbmNlIGZvciBlYWNoIGVkZ2UuXG4gICAqXG4gICAqIEBwYXJhbSB7RWRnZUNhbGxiYWNrfSBjYWxsYmFja1xuICAgKiBAcGFyYW0ge0xpbmVTZWdtZW50fSBbZWRnZV0gT3V0cHV0IHBhcmFtLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBvbmUgb2YgdGhlIGNhbGxiYWNrcyByZXR1cm5lZCB0cnVlLlxuICAgKi9cbiAgc29tZUVkZ2UoY2FsbGJhY2ssIGVkZ2UpIHtcbiAgICBlZGdlID0gZWRnZSB8fCBfc2VnbWVudDtcblxuICAgIC8vXG4gICAgLy8gRWRnZXMgYWxvbmcgZnJvbnQgZmFjZS5cbiAgICAvL1xuXG4gICAgdmVjMy5zZXQodG1wVmVjMSwgdGhpcy5taW5YLCB0aGlzLm1pblksIHRoaXMubWluWik7XG4gICAgdmVjMy5zZXQodG1wVmVjMiwgdGhpcy5tYXhYLCB0aGlzLm1pblksIHRoaXMubWluWik7XG4gICAgZWRnZS5yZXNldCh0bXBWZWMxLCB0bXBWZWMyKTtcbiAgICBpZiAoY2FsbGJhY2soZWRnZSkpIHJldHVybiB0cnVlO1xuXG4gICAgdmVjMy5zZXQodG1wVmVjMSwgdGhpcy5taW5YLCB0aGlzLm1heFksIHRoaXMubWluWik7XG4gICAgdmVjMy5zZXQodG1wVmVjMiwgdGhpcy5tYXhYLCB0aGlzLm1heFksIHRoaXMubWluWik7XG4gICAgZWRnZS5yZXNldCh0bXBWZWMxLCB0bXBWZWMyKTtcbiAgICBpZiAoY2FsbGJhY2soZWRnZSkpIHJldHVybiB0cnVlO1xuXG4gICAgdmVjMy5zZXQodG1wVmVjMSwgdGhpcy5taW5YLCB0aGlzLm1pblksIHRoaXMubWluWik7XG4gICAgdmVjMy5zZXQodG1wVmVjMiwgdGhpcy5taW5YLCB0aGlzLm1heFksIHRoaXMubWluWik7XG4gICAgZWRnZS5yZXNldCh0bXBWZWMxLCB0bXBWZWMyKTtcbiAgICBpZiAoY2FsbGJhY2soZWRnZSkpIHJldHVybiB0cnVlO1xuXG4gICAgdmVjMy5zZXQodG1wVmVjMSwgdGhpcy5tYXhYLCB0aGlzLm1pblksIHRoaXMubWluWik7XG4gICAgdmVjMy5zZXQodG1wVmVjMiwgdGhpcy5tYXhYLCB0aGlzLm1heFksIHRoaXMubWluWik7XG4gICAgZWRnZS5yZXNldCh0bXBWZWMxLCB0bXBWZWMyKTtcbiAgICBpZiAoY2FsbGJhY2soZWRnZSkpIHJldHVybiB0cnVlO1xuXG4gICAgLy9cbiAgICAvLyBFZGdlcyBhbG9uZyBiYWNrIGZhY2UuXG4gICAgLy9cblxuICAgIHZlYzMuc2V0KHRtcFZlYzEsIHRoaXMubWluWCwgdGhpcy5taW5ZLCB0aGlzLm1heFopO1xuICAgIHZlYzMuc2V0KHRtcFZlYzIsIHRoaXMubWF4WCwgdGhpcy5taW5ZLCB0aGlzLm1heFopO1xuICAgIGVkZ2UucmVzZXQodG1wVmVjMSwgdG1wVmVjMik7XG4gICAgaWYgKGNhbGxiYWNrKGVkZ2UpKSByZXR1cm4gdHJ1ZTtcblxuICAgIHZlYzMuc2V0KHRtcFZlYzEsIHRoaXMubWluWCwgdGhpcy5tYXhZLCB0aGlzLm1heFopO1xuICAgIHZlYzMuc2V0KHRtcFZlYzIsIHRoaXMubWF4WCwgdGhpcy5tYXhZLCB0aGlzLm1heFopO1xuICAgIGVkZ2UucmVzZXQodG1wVmVjMSwgdG1wVmVjMik7XG4gICAgaWYgKGNhbGxiYWNrKGVkZ2UpKSByZXR1cm4gdHJ1ZTtcblxuICAgIHZlYzMuc2V0KHRtcFZlYzEsIHRoaXMubWluWCwgdGhpcy5taW5ZLCB0aGlzLm1heFopO1xuICAgIHZlYzMuc2V0KHRtcFZlYzIsIHRoaXMubWluWCwgdGhpcy5tYXhZLCB0aGlzLm1heFopO1xuICAgIGVkZ2UucmVzZXQodG1wVmVjMSwgdG1wVmVjMik7XG4gICAgaWYgKGNhbGxiYWNrKGVkZ2UpKSByZXR1cm4gdHJ1ZTtcblxuICAgIHZlYzMuc2V0KHRtcFZlYzEsIHRoaXMubWF4WCwgdGhpcy5taW5ZLCB0aGlzLm1heFopO1xuICAgIHZlYzMuc2V0KHRtcFZlYzIsIHRoaXMubWF4WCwgdGhpcy5tYXhZLCB0aGlzLm1heFopO1xuICAgIGVkZ2UucmVzZXQodG1wVmVjMSwgdG1wVmVjMik7XG4gICAgaWYgKGNhbGxiYWNrKGVkZ2UpKSByZXR1cm4gdHJ1ZTtcblxuICAgIC8vXG4gICAgLy8gRWRnZXMgYmV0d2VlbiBmcm9udCBhbmQgYmFjayBmYWNlcy5cbiAgICAvL1xuXG4gICAgdmVjMy5zZXQodG1wVmVjMSwgdGhpcy5taW5YLCB0aGlzLm1pblksIHRoaXMubWluWik7XG4gICAgdmVjMy5zZXQodG1wVmVjMiwgdGhpcy5taW5YLCB0aGlzLm1pblksIHRoaXMubWF4Wik7XG4gICAgZWRnZS5yZXNldCh0bXBWZWMxLCB0bXBWZWMyKTtcbiAgICBpZiAoY2FsbGJhY2soZWRnZSkpIHJldHVybiB0cnVlO1xuXG4gICAgdmVjMy5zZXQodG1wVmVjMSwgdGhpcy5tYXhYLCB0aGlzLm1pblksIHRoaXMubWluWik7XG4gICAgdmVjMy5zZXQodG1wVmVjMiwgdGhpcy5tYXhYLCB0aGlzLm1pblksIHRoaXMubWF4Wik7XG4gICAgZWRnZS5yZXNldCh0bXBWZWMxLCB0bXBWZWMyKTtcbiAgICBpZiAoY2FsbGJhY2soZWRnZSkpIHJldHVybiB0cnVlO1xuXG4gICAgdmVjMy5zZXQodG1wVmVjMSwgdGhpcy5taW5YLCB0aGlzLm1heFksIHRoaXMubWluWik7XG4gICAgdmVjMy5zZXQodG1wVmVjMiwgdGhpcy5taW5YLCB0aGlzLm1heFksIHRoaXMubWF4Wik7XG4gICAgZWRnZS5yZXNldCh0bXBWZWMxLCB0bXBWZWMyKTtcbiAgICBpZiAoY2FsbGJhY2soZWRnZSkpIHJldHVybiB0cnVlO1xuXG4gICAgdmVjMy5zZXQodG1wVmVjMSwgdGhpcy5tYXhYLCB0aGlzLm1heFksIHRoaXMubWluWik7XG4gICAgdmVjMy5zZXQodG1wVmVjMiwgdGhpcy5tYXhYLCB0aGlzLm1heFksIHRoaXMubWF4Wik7XG4gICAgZWRnZS5yZXNldCh0bXBWZWMxLCB0bXBWZWMyKTtcbiAgICBpZiAoY2FsbGJhY2soZWRnZSkpIHJldHVybiB0cnVlO1xuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmNvbnN0IF9zZWdtZW50ID0gbmV3IExpbmVTZWdtZW50KHZlYzMuY3JlYXRlKCksIHZlYzMuY3JlYXRlKCkpO1xuXG5leHBvcnQge0FhYmJ9O1xuIiwiaW1wb3J0IHtDb2xsaWRhYmxlfSBmcm9tICcuL2NvbGxpZGFibGUnO1xuaW1wb3J0IHtMaW5lU2VnbWVudH0gZnJvbSAnLi9saW5lLXNlZ21lbnQnO1xuXG4vKipcbiAqIFRoaXMgY2xhc3MgcmVwcmVzZW50cyBhIGNhcHN1bGUuXG4gKlxuICogLSBBIGNhcHN1bGUgaXMgYSBjeWxpbmRlciB3aXRoIHNlbWktc3BoZXJlcyBvbiBlaXRoZXIgZW5kLlxuICogLSBBIGNhcHN1bGUgY2FuIHJlcHJlc2VudCBhIHJvdWdoIGFwcHJveGltYXRpb24gb2YgbWFueSB1c2VmdWwgc2hhcGVzLlxuICogLSBBIGNhcHN1bGUgY2FuIGJlIHVzZWQgZm9yIHJlbGF0aXZlbHkgZWZmaWNpZW50IGNvbGxpc2lvbiBkZXRlY3Rpb24uXG4gKi9cbmNsYXNzIENhcHN1bGUgZXh0ZW5kcyBDb2xsaWRhYmxlIHtcbiAgLyoqXG4gICAqIFRoZSBkZWZhdWx0IG9yaWVudGF0aW9uIG9mIHRoZSBjYXBzdWxlIGlzIGFsb25nIHRoZSB6LWF4aXMuXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBoYWxmRGlzdGFuY2UgSGFsZiB0aGUgZGlzdGFuY2UgZnJvbSB0aGUgY2VudGVycyBvZiB0aGUgY2Fwc3VsZSBlbmQgc3BoZXJlcy5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1c1xuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc1N0YXRpb25hcnk9ZmFsc2VdXG4gICAqIEBwYXJhbSB7Q29sbGlkYWJsZVBoeXNpY3NKb2J9IFtwaHlzaWNzSm9iXVxuICAgKi9cbiAgY29uc3RydWN0b3IoaGFsZkRpc3RhbmNlLCByYWRpdXMsIGlzU3RhdGlvbmFyeSA9IGZhbHNlLCBwaHlzaWNzSm9iKSB7XG4gICAgc3VwZXIoaXNTdGF0aW9uYXJ5LCBwaHlzaWNzSm9iKTtcbiAgICB0aGlzLmhhbGZEaXN0YW5jZSA9IGhhbGZEaXN0YW5jZTtcbiAgICB0aGlzLnNlZ21lbnQgPSBuZXcgTGluZVNlZ21lbnQodmVjMy5mcm9tVmFsdWVzKDAsIDAsIC1oYWxmRGlzdGFuY2UpLFxuICAgICAgICB2ZWMzLmZyb21WYWx1ZXMoMCwgMCwgaGFsZkRpc3RhbmNlKSk7XG4gICAgdGhpcy5yYWRpdXMgPSByYWRpdXM7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge3ZlYzN9XG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0IGNlbnRlck9mVm9sdW1lKCkge1xuICAgIHJldHVybiB0aGlzLnNlZ21lbnQuY2VudGVyO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtDb2xsaWRhYmxlfVxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldCBib3VuZGluZ1ZvbHVtZSgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3ZlYzN9IHZhbHVlXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc2V0IHBvc2l0aW9uKHZhbHVlKSB7XG4gICAgdGhpcy5zZWdtZW50LmNlbnRlciA9IHZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7cXVhdH0gdmFsdWVcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzZXQgb3JpZW50YXRpb24odmFsdWUpIHtcbiAgICB0aGlzLnNlZ21lbnQub3JpZW50YXRpb24gPSB2YWx1ZTtcbiAgfVxufVxuXG5leHBvcnQge0NhcHN1bGV9O1xuIiwiLyoqXG4gKiBUaGlzIGNsYXNzIHJlcHJlc2VudHMgYSAzRCBjb2xsaWRhYmxlIHJpZ2lkIG9iamVjdC5cbiAqXG4gKiBUaGlzIGlzIHVzZWZ1bCBmb3IgY29sbGlzaW9uIGRldGVjdGlvbiBhbmQgcmVzcG9uc2UuXG4gKlxuICogQGFic3RyYWN0XG4gKi9cbmNsYXNzIENvbGxpZGFibGUge1xuICAvKipcbiAgICogQHBhcmFtIHtib29sZWFufSBpc1N0YXRpb25hcnlcbiAgICogQHBhcmFtIHtDb2xsaWRhYmxlUGh5c2ljc0pvYn0gW3BoeXNpY3NKb2JdXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihpc1N0YXRpb25hcnksIHBoeXNpY3NKb2IpIHtcbiAgICAvLyBDb2xsaWRhYmxlIGlzIGFuIGFic3RyYWN0IGNsYXNzLiBJdCBzaG91bGQgbm90IGJlIGluc3RhbnRpYXRlZCBkaXJlY3RseS5cbiAgICBpZiAobmV3LnRhcmdldCA9PT0gQ29sbGlkYWJsZSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNvbnN0cnVjdCBDb2xsaWRhYmxlIGluc3RhbmNlcyBkaXJlY3RseScpO1xuICAgIH1cblxuICAgIHRoaXMuaXNTdGF0aW9uYXJ5ID0gaXNTdGF0aW9uYXJ5O1xuICAgIHRoaXMucGh5c2ljc0pvYiA9IHBoeXNpY3NKb2I7XG4gICAgdGhpcy5jb2xsaXNpb25zID0gW107XG4gICAgdGhpcy5wcmV2aW91c0NvbGxpc2lvbnMgPSBbXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbXBsZW1lbnRpbmcgY2xhc3NlcyBjYW4gb3ZlcnJpZGUgdGhpcyB0byBwcm92aWRlIGEgY2VudGVyIG9mIG1hc3MgdGhhdCBpcyBkaWZmZXJlbnQgdGhhbiB0aGVcbiAgICogY2VudGVyIG9mIHZvbHVtZS5cbiAgICpcbiAgICogQHJldHVybnMge3ZlYzN9XG4gICAqL1xuICBnZXQgY2VudGVyT2ZNYXNzKCkge1xuICAgIHJldHVybiB0aGlzLmNlbnRlck9mVm9sdW1lO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHt2ZWMzfVxuICAgKiBAYWJzdHJhY3RcbiAgICovXG4gIGdldCBjZW50ZXJPZlZvbHVtZSgpIHtcbiAgICAvLyBFeHRlbmRpbmcgY2xhc3NlcyBzaG91bGQgaW1wbGVtZW50IHRoaXMgbWV0aG9kLlxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ01ldGhvZCBub3QgaW1wbGVtZW50ZWQnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7Q29sbGlkYWJsZX1cbiAgICogQGFic3RyYWN0XG4gICAqL1xuICBnZXQgYm91bmRpbmdWb2x1bWUoKSB7XG4gICAgLy8gRXh0ZW5kaW5nIGNsYXNzZXMgc2hvdWxkIGltcGxlbWVudCB0aGlzIG1ldGhvZC5cbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdNZXRob2Qgbm90IGltcGxlbWVudGVkJyk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHt2ZWMzfSB2YWx1ZVxuICAgKiBAYWJzdHJhY3RcbiAgICovXG4gIHNldCBwb3NpdGlvbih2YWx1ZSkge1xuICAgIC8vIEV4dGVuZGluZyBjbGFzc2VzIHNob3VsZCBpbXBsZW1lbnQgdGhpcyBtZXRob2QuXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTWV0aG9kIG5vdCBpbXBsZW1lbnRlZCcpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7cXVhdH0gdmFsdWVcbiAgICogQGFic3RyYWN0XG4gICAqL1xuICBzZXQgb3JpZW50YXRpb24odmFsdWUpIHtcbiAgICAvLyBFeHRlbmRpbmcgY2xhc3NlcyBzaG91bGQgaW1wbGVtZW50IHRoaXMgbWV0aG9kLlxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ01ldGhvZCBub3QgaW1wbGVtZW50ZWQnKTtcbiAgfVxufVxuXG5leHBvcnQge0NvbGxpZGFibGV9O1xuIiwiaW1wb3J0IHt0bXBWZWMxLCB0bXBWZWMyfSBmcm9tICcuLi8uLi8uLi91dGlsJztcblxuLyoqXG4gKiBUaGlzIGNsYXNzIHJlcHJlc2VudHMgYSBsaW5lIHNlZ21lbnQuXG4gKi9cbmNsYXNzIExpbmVTZWdtZW50IHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7dmVjM30gc3RhcnRcbiAgICogQHBhcmFtIHt2ZWMzfSBlbmRcbiAgICovXG4gIGNvbnN0cnVjdG9yKHN0YXJ0LCBlbmQpIHtcbiAgICB0aGlzLnN0YXJ0ID0gdmVjMy5jcmVhdGUoKTtcbiAgICB0aGlzLmVuZCA9IHZlYzMuY3JlYXRlKCk7XG4gICAgdGhpcy5fY2VudGVyID0gdmVjMy5jcmVhdGUoKTtcbiAgICB0aGlzLl9vcmlnaW5hbE9yaWVudGF0aW9uU3RhcnQgPSB2ZWMzLmNyZWF0ZSgpO1xuICAgIHRoaXMuX29yaWdpbmFsT3JpZW50YXRpb25FbmQgPSB2ZWMzLmNyZWF0ZSgpO1xuICAgIHRoaXMucmVzZXQoc3RhcnQsIGVuZCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHt2ZWMzfSBzdGFydFxuICAgKiBAcGFyYW0ge3ZlYzN9IGVuZFxuICAgKi9cbiAgcmVzZXQoc3RhcnQsIGVuZCkge1xuICAgIHZlYzMuY29weSh0aGlzLnN0YXJ0LCBzdGFydCk7XG4gICAgdmVjMy5jb3B5KHRoaXMuZW5kLCBlbmQpO1xuICAgIHZlYzMuc3VidHJhY3QodGhpcy5fb3JpZ2luYWxPcmllbnRhdGlvblN0YXJ0LCB0aGlzLnN0YXJ0LCB0aGlzLmNlbnRlcik7XG4gICAgdmVjMy5zdWJ0cmFjdCh0aGlzLl9vcmlnaW5hbE9yaWVudGF0aW9uRW5kLCB0aGlzLmVuZCwgdGhpcy5jZW50ZXIpO1xuICB9XG5cbiAgLyoqIEByZXR1cm5zIHtMaW5lU2VnbWVudH0gKi9cbiAgY2xvbmUoKSB7XG4gICAgY29uc3Qgc2VnbWVudCA9IG5ldyBMaW5lU2VnbWVudCh0aGlzLnN0YXJ0LCB0aGlzLmVuZCk7XG4gICAgc2VnbWVudC5fb3JpZ2luYWxPcmllbnRhdGlvblN0YXJ0ID0gdGhpcy5fb3JpZ2luYWxPcmllbnRhdGlvblN0YXJ0O1xuICAgIHNlZ21lbnQuX29yaWdpbmFsT3JpZW50YXRpb25FbmQgPSB0aGlzLl9vcmlnaW5hbE9yaWVudGF0aW9uRW5kO1xuICAgIHJldHVybiBzZWdtZW50O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBVTi1OT1JNQUxJWkVEIGRpcmVjdGlvbiBvZiB0aGlzIHNlZ21lbnQuXG4gICAqXG4gICAqIEByZXR1cm5zIHt2ZWMzfVxuICAgKi9cbiAgZ2V0IGRpcigpIHtcbiAgICAvLyBSZXVzZSB0aGUgc2FtZSBvYmplY3Qgd2hlbiB0aGlzIGlzIGNhbGxlZCBtdWx0aXBsZSB0aW1lcy5cbiAgICB0aGlzLl9kaXIgPSB0aGlzLl9kaXIgfHwgdmVjMy5jcmVhdGUoKTtcbiAgICByZXR1cm4gdmVjMy5zdWJ0cmFjdCh0aGlzLl9kaXIsIHRoaXMuZW5kLCB0aGlzLnN0YXJ0KTtcbiAgfVxuXG4gIC8qKiBAcmV0dXJucyB7dmVjM30gKi9cbiAgZ2V0IGNlbnRlcigpIHtcbiAgICB2ZWMzLmxlcnAodGhpcy5fY2VudGVyLCB0aGlzLnN0YXJ0LCB0aGlzLmVuZCwgMC41KTtcbiAgICByZXR1cm4gdGhpcy5fY2VudGVyO1xuICB9XG5cbiAgLyoqIEBwYXJhbSB7dmVjM30gdmFsdWUgKi9cbiAgc2V0IGNlbnRlcih2YWx1ZSkge1xuICAgIC8vIFJldXNlIHRoZSBzYW1lIG9iamVjdCB3aGVuIHRoaXMgaXMgY2FsbGVkIG11bHRpcGxlIHRpbWVzLlxuICAgIHRoaXMuX2Rpc3BsYWNlbWVudCA9IHRoaXMuX2Rpc3BsYWNlbWVudCB8fCB2ZWMzLmNyZWF0ZSgpO1xuICAgIHZlYzMuc3VidHJhY3QodGhpcy5fZGlzcGxhY2VtZW50LCB2YWx1ZSwgdGhpcy5jZW50ZXIpO1xuXG4gICAgdmVjMy5hZGQodGhpcy5zdGFydCwgdGhpcy5zdGFydCwgdGhpcy5fZGlzcGxhY2VtZW50KTtcbiAgICB2ZWMzLmFkZCh0aGlzLmVuZCwgdGhpcy5lbmQsIHRoaXMuX2Rpc3BsYWNlbWVudCk7XG4gIH1cblxuICAvKiogQHBhcmFtIHtxdWF0fSB2YWx1ZSAqL1xuICBzZXQgb3JpZW50YXRpb24odmFsdWUpIHtcbiAgICB2ZWMzLnRyYW5zZm9ybVF1YXQodG1wVmVjMSwgdGhpcy5fb3JpZ2luYWxPcmllbnRhdGlvblN0YXJ0LCB2YWx1ZSk7XG4gICAgdmVjMy50cmFuc2Zvcm1RdWF0KHRtcFZlYzIsIHRoaXMuX29yaWdpbmFsT3JpZW50YXRpb25FbmQsIHZhbHVlKTtcblxuICAgIC8vIFdlIGRvbid0IHdhbnQgdGhpcyB0byBiZSByZS1jYWxjdWxhdGVkIGJldHdlZW4gc3RhcnQvZW5kIHVwZGF0ZXMuXG4gICAgY29uc3QgY2VudGVyID0gdGhpcy5jZW50ZXI7XG5cbiAgICB2ZWMzLmFkZCh0aGlzLnN0YXJ0LCBjZW50ZXIsIHRtcFZlYzEpO1xuICAgIHZlYzMuYWRkKHRoaXMuZW5kLCBjZW50ZXIsIHRtcFZlYzIpO1xuICB9XG59XG5cbmV4cG9ydCB7TGluZVNlZ21lbnR9O1xuIiwiaW1wb3J0IHtDb2xsaWRhYmxlfSBmcm9tICcuL2NvbGxpZGFibGUnO1xuaW1wb3J0IHtTcGhlcmV9IGZyb20gJy4vc3BoZXJlLWNvbGxpZGFibGUnO1xuaW1wb3J0IHtMaW5lU2VnbWVudH0gZnJvbSAnLi9saW5lLXNlZ21lbnQnO1xuXG4vKipcbiAqIFRoaXMgY2xhc3MgcmVwcmVzZW50cyBhbiBvcmllbnRlZCBib3VuZGluZyBib3ggKE9CQikuXG4gKlxuICogVGhpcyBpcyB1c2VmdWwgYm90aCBmb3IgY29sbGlzaW9uIGRldGVjdGlvbiBhbmQgZm9yIHJlcHJlc2VudGluZyBhbnkgcm90YXRlZCByZWN0YW5ndWxhciBjdWJvaWQuXG4gKiBBbiBPQkIgaXMgb25seSBhcHByb3ByaWF0ZSBmb3Igc29tZSBnZW9tZXRyaWVzLiBGb3Igb3RoZXIgZ2VvbWV0cmllcywgYW4gYXhpYWxseS1hbGlnbmVkIGJvdW5kaW5nXG4gKiBib3ggKEFBQkIpIG9yIGEgYm91bmRpbmcgc3BoZXJlIG1heSBiZSBtb3JlIGFwcHJvcHJpYXRlLlxuICovXG5jbGFzcyBPYmIgZXh0ZW5kcyBDb2xsaWRhYmxlIHtcbiAgLyoqXG4gICAqIERlZmF1bHRzIHRvIGJlaW5nIGNlbnRlcmVkIGF0IHRoZSBvcmlnaW4gd2l0aCBpdHMgbG9jYWwgYXhlcyBhbGlnbmVkIHdpdGggdGhlIHdvcmxkIGF4ZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBoYWxmU2lkZUxlbmd0aFhcbiAgICogQHBhcmFtIHtudW1iZXJ9IGhhbGZTaWRlTGVuZ3RoWVxuICAgKiBAcGFyYW0ge251bWJlcn0gaGFsZlNpZGVMZW5ndGhaXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzU3RhdGlvbmFyeT1mYWxzZV1cbiAgICogQHBhcmFtIHtDb2xsaWRhYmxlUGh5c2ljc0pvYn0gW3BoeXNpY3NKb2JdXG4gICAqL1xuICBjb25zdHJ1Y3RvcihoYWxmU2lkZUxlbmd0aFgsIGhhbGZTaWRlTGVuZ3RoWSwgaGFsZlNpZGVMZW5ndGhaLCBpc1N0YXRpb25hcnkgPSBmYWxzZSwgcGh5c2ljc0pvYikge1xuICAgIHN1cGVyKGlzU3RhdGlvbmFyeSwgcGh5c2ljc0pvYik7XG4gICAgdGhpcy5leHRlbnRzID0gW1xuICAgICAgdmVjMy5mcm9tVmFsdWVzKGhhbGZTaWRlTGVuZ3RoWCwgMCwgMCksXG4gICAgICB2ZWMzLmZyb21WYWx1ZXMoMCwgaGFsZlNpZGVMZW5ndGhZLCAwKSxcbiAgICAgIHZlYzMuZnJvbVZhbHVlcygwLCAwLCBoYWxmU2lkZUxlbmd0aFopXG4gICAgXTtcbiAgICB0aGlzLmF4ZXMgPSBbXG4gICAgICB2ZWMzLmZyb21WYWx1ZXMoMSwgMCwgMCksXG4gICAgICB2ZWMzLmZyb21WYWx1ZXMoMCwgMSwgMCksXG4gICAgICB2ZWMzLmZyb21WYWx1ZXMoMCwgMCwgMSlcbiAgICBdO1xuICAgIHRoaXMuaGFsZlNpZGVMZW5ndGhzID0gW1xuICAgICAgaGFsZlNpZGVMZW5ndGhYLFxuICAgICAgaGFsZlNpZGVMZW5ndGhZLFxuICAgICAgaGFsZlNpZGVMZW5ndGhaXG4gICAgXTtcbiAgICB0aGlzLl9jZW50ZXIgPSB2ZWMzLmNyZWF0ZSgpO1xuICAgIHRoaXMuX29yaWVudGF0aW9uID0gcXVhdC5jcmVhdGUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7dmVjM31cbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXQgY2VudGVyT2ZWb2x1bWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NlbnRlcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7Q29sbGlkYWJsZX1cbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXQgYm91bmRpbmdWb2x1bWUoKSB7XG4gICAgLy8gUmV1c2UgdGhlIHNhbWUgdmFsdWUgd2hlbiB0aGlzIGlzIGNhbGxlZCBtdWx0aXBsZSB0aW1lcy5cbiAgICBpZiAoIXRoaXMuX2JvdW5kaW5nU3BoZXJlKSB7XG4gICAgICBjb25zdCByYWRpdXMgPSBNYXRoLnNxcnQodGhpcy5oYWxmU2lkZUxlbmd0aFggKiB0aGlzLmhhbGZTaWRlTGVuZ3RoWCArXG4gICAgICAgICAgdGhpcy5oYWxmU2lkZUxlbmd0aFkgKiB0aGlzLmhhbGZTaWRlTGVuZ3RoWSArXG4gICAgICAgICAgdGhpcy5oYWxmU2lkZUxlbmd0aFogKiB0aGlzLmhhbGZTaWRlTGVuZ3RoWik7XG4gICAgICB0aGlzLl9ib3VuZGluZ1NwaGVyZSA9IG5ldyBTcGhlcmUoMCwgMCwgMCwgcmFkaXVzLCB0aGlzLmlzU3RhdGlvbmFyeSk7XG4gICAgfVxuICAgIHRoaXMuX2JvdW5kaW5nU3BoZXJlLnBvc2l0aW9uID0gdGhpcy5fY2VudGVyO1xuICAgIHJldHVybiB0aGlzLl9ib3VuZGluZ1NwaGVyZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3ZlYzN9IHZhbHVlXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc2V0IHBvc2l0aW9uKHZhbHVlKSB7XG4gICAgdmVjMy5jb3B5KHRoaXMuX2NlbnRlciwgdmFsdWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7cXVhdH0gdmFsdWVcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzZXQgb3JpZW50YXRpb24odmFsdWUpIHtcbiAgICBxdWF0LmNvcHkodGhpcy5fb3JpZW50YXRpb24sIHZhbHVlKTtcbiAgICB0aGlzLl91cGRhdGVFeHRlbnRzKCk7XG4gIH1cbiAgLyoqIEByZXR1cm5zIHtxdWF0fSAqL1xuICBnZXQgb3JpZW50YXRpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX29yaWVudGF0aW9uO1xuICB9XG5cbiAgLyoqIEByZXR1cm5zIHtudW1iZXJ9ICovXG4gIGdldCBoYWxmU2lkZUxlbmd0aFgoKSB7XG4gICAgcmV0dXJuIHRoaXMuaGFsZlNpZGVMZW5ndGhzWzBdO1xuICB9XG4gIC8qKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgKi9cbiAgc2V0IGhhbGZTaWRlTGVuZ3RoWCh2YWx1ZSkge1xuICAgIHRoaXMuaGFsZlNpZGVMZW5ndGhzWzBdID0gdmFsdWU7XG4gICAgdGhpcy5fdXBkYXRlRXh0ZW50cygpO1xuICB9XG5cbiAgLyoqIEByZXR1cm5zIHtudW1iZXJ9ICovXG4gIGdldCBoYWxmU2lkZUxlbmd0aFkoKSB7XG4gICAgcmV0dXJuIHRoaXMuaGFsZlNpZGVMZW5ndGhzWzFdO1xuICB9XG4gIC8qKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgKi9cbiAgc2V0IGhhbGZTaWRlTGVuZ3RoWSh2YWx1ZSkge1xuICAgIHRoaXMuaGFsZlNpZGVMZW5ndGhzWzFdID0gdmFsdWU7XG4gICAgdGhpcy5fdXBkYXRlRXh0ZW50cygpO1xuICB9XG5cbiAgLyoqIEByZXR1cm5zIHtudW1iZXJ9ICovXG4gIGdldCBoYWxmU2lkZUxlbmd0aFooKSB7XG4gICAgcmV0dXJuIHRoaXMuaGFsZlNpZGVMZW5ndGhzWzJdO1xuICB9XG4gIC8qKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgKi9cbiAgc2V0IGhhbGZTaWRlTGVuZ3RoWih2YWx1ZSkge1xuICAgIHRoaXMuaGFsZlNpZGVMZW5ndGhzWzJdID0gdmFsdWU7XG4gICAgdGhpcy5fdXBkYXRlRXh0ZW50cygpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxzIHRoZSBnaXZlbiBjYWxsYmFjayBvbmNlIGZvciBlYWNoIHZlcnRleC5cbiAgICpcbiAgICogU3RvcHMgYXMgc29vbiBhcyB0aGUgY2FsbGJhY2sgcmV0dXJucyB0cnVlIGZvciBhIHZlcnRleC5cbiAgICpcbiAgICogQHBhcmFtIHtWZXJ0ZXhDYWxsYmFja30gY2FsbGJhY2tcbiAgICogQHBhcmFtIHt2ZWMzfSBbdmVydGV4XSBPdXRwdXQgcGFyYW0uXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIG9uZSBvZiB0aGUgY2FsbGJhY2tzIHJldHVybmVkIHRydWUuXG4gICAqL1xuICBzb21lVmVydGV4KGNhbGxiYWNrLCB2ZXJ0ZXgpIHtcbiAgICB2ZXJ0ZXggPSB2ZXJ0ZXggfHwgX3ZlcnRleDE7XG5cbiAgICBmb3IgKGxldCB4U2NhbGUgPSAtMTsgeFNjYWxlIDw9IDE7IHhTY2FsZSArPSAyKSB7XG4gICAgICBmb3IgKGxldCB5U2NhbGUgPSAtMTsgeVNjYWxlIDw9IDE7IHlTY2FsZSArPSAyKSB7XG4gICAgICAgIGZvciAobGV0IHpTY2FsZSA9IC0xOyB6U2NhbGUgPD0gMTsgelNjYWxlICs9IDIpIHtcbiAgICAgICAgICB2ZWMzLmNvcHkodmVydGV4LCB0aGlzLl9jZW50ZXIpO1xuICAgICAgICAgIHZlYzMuc2NhbGVBbmRBZGQodmVydGV4LCB2ZXJ0ZXgsIHRoaXMuZXh0ZW50c1swXSwgeFNjYWxlKTtcbiAgICAgICAgICB2ZWMzLnNjYWxlQW5kQWRkKHZlcnRleCwgdmVydGV4LCB0aGlzLmV4dGVudHNbMV0sIHlTY2FsZSk7XG4gICAgICAgICAgdmVjMy5zY2FsZUFuZEFkZCh2ZXJ0ZXgsIHZlcnRleCwgdGhpcy5leHRlbnRzWzJdLCB6U2NhbGUpO1xuICAgICAgICAgIGlmIChjYWxsYmFjayh2ZXJ0ZXgpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxzIHRoZSBnaXZlbiBjYWxsYmFjayBvbmNlIGZvciBlYWNoIGVkZ2UuXG4gICAqXG4gICAqIEBwYXJhbSB7RWRnZUNhbGxiYWNrfSBjYWxsYmFja1xuICAgKiBAcGFyYW0ge0xpbmVTZWdtZW50fSBbZWRnZV0gT3V0cHV0IHBhcmFtLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBvbmUgb2YgdGhlIGNhbGxiYWNrcyByZXR1cm5lZCB0cnVlLlxuICAgKi9cbiAgc29tZUVkZ2UoY2FsbGJhY2ssIGVkZ2UpIHtcbiAgICBlZGdlID0gZWRnZSB8fCBfc2VnbWVudDtcblxuICAgIHJldHVybiBfZWRnZUV4dGVudFNjYWxlcy5zb21lKGVkZ2VFeHRlbnRTY2FsZVBhaXIgPT4ge1xuICAgICAgY29uc3QgdmVydGV4MUV4dGVudFNjYWxlcyA9IGVkZ2VFeHRlbnRTY2FsZVBhaXJbMF07XG4gICAgICBjb25zdCB2ZXJ0ZXgyRXh0ZW50U2NhbGVzID0gZWRnZUV4dGVudFNjYWxlUGFpclsxXTtcblxuICAgICAgLy8gQ2FsY3VsYXRlIHRoZSBlZGdlJ3MgZmlyc3QgYW5kIHNlY29uZCB2ZXJ0ZXguXG4gICAgICB2ZWMzLmNvcHkoX3ZlcnRleDEsIHRoaXMuX2NlbnRlcik7XG4gICAgICB2ZWMzLmNvcHkoX3ZlcnRleDIsIHRoaXMuX2NlbnRlcik7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkrKykge1xuICAgICAgICB2ZWMzLnNjYWxlQW5kQWRkKF92ZXJ0ZXgxLCBfdmVydGV4MSwgdGhpcy5leHRlbnRzW2ldLCB2ZXJ0ZXgxRXh0ZW50U2NhbGVzW2ldKTtcbiAgICAgICAgdmVjMy5zY2FsZUFuZEFkZChfdmVydGV4MiwgX3ZlcnRleDIsIHRoaXMuZXh0ZW50c1tpXSwgdmVydGV4MkV4dGVudFNjYWxlc1tpXSk7XG4gICAgICB9XG5cbiAgICAgIC8vIENhbGwgYmFjayB3aXRoIHRoZSBlZGdlLlxuICAgICAgZWRnZS5yZXNldChfdmVydGV4MSwgX3ZlcnRleDIpO1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKGVkZ2UpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxzIHRoZSBnaXZlbiBjYWxsYmFjayBvbmNlIGZvciBlYWNoIGZhY2UuXG4gICAqXG4gICAqIEBwYXJhbSB7RmFjZUNhbGxiYWNrfSBjYWxsYmFja1xuICAgKiBAcGFyYW0ge0FycmF5Ljx2ZWMzPn0gW2ZhY2VdIE91dHB1dCBwYXJhbS5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgb25lIG9mIHRoZSBjYWxsYmFja3MgcmV0dXJuZWQgdHJ1ZS5cbiAgICovXG4gIHNvbWVGYWNlKGNhbGxiYWNrLCBmYWNlKSB7XG4gICAgZmFjZSA9IGZhY2UgfHwgW107XG5cbiAgICByZXR1cm4gX2ZhY2VFeHRlbnRTY2FsZXMuc29tZShmYWNlRXh0ZW50U2NhbGVzID0+IHtcbiAgICAgIGNvbnN0IHZlcnRleDFFeHRlbnRTY2FsZXMgPSBmYWNlRXh0ZW50U2NhbGVzWzBdO1xuICAgICAgY29uc3QgdmVydGV4MkV4dGVudFNjYWxlcyA9IGZhY2VFeHRlbnRTY2FsZXNbMV07XG4gICAgICBjb25zdCB2ZXJ0ZXgzRXh0ZW50U2NhbGVzID0gZmFjZUV4dGVudFNjYWxlc1syXTtcbiAgICAgIGNvbnN0IHZlcnRleDRFeHRlbnRTY2FsZXMgPSBmYWNlRXh0ZW50U2NhbGVzWzNdO1xuXG4gICAgICAvLyBDYWxjdWxhdGUgdGhlIGZhY2UncyB2ZXJ0aWNlcy5cbiAgICAgIHZlYzMuY29weShfdmVydGV4MSwgdGhpcy5fY2VudGVyKTtcbiAgICAgIHZlYzMuY29weShfdmVydGV4MiwgdGhpcy5fY2VudGVyKTtcbiAgICAgIHZlYzMuY29weShfdmVydGV4MywgdGhpcy5fY2VudGVyKTtcbiAgICAgIHZlYzMuY29weShfdmVydGV4NCwgdGhpcy5fY2VudGVyKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSsrKSB7XG4gICAgICAgIHZlYzMuc2NhbGVBbmRBZGQoX3ZlcnRleDEsIF92ZXJ0ZXgxLCB0aGlzLmV4dGVudHNbaV0sIHZlcnRleDFFeHRlbnRTY2FsZXNbaV0pO1xuICAgICAgICB2ZWMzLnNjYWxlQW5kQWRkKF92ZXJ0ZXgyLCBfdmVydGV4MiwgdGhpcy5leHRlbnRzW2ldLCB2ZXJ0ZXgyRXh0ZW50U2NhbGVzW2ldKTtcbiAgICAgICAgdmVjMy5zY2FsZUFuZEFkZChfdmVydGV4MywgX3ZlcnRleDMsIHRoaXMuZXh0ZW50c1tpXSwgdmVydGV4M0V4dGVudFNjYWxlc1tpXSk7XG4gICAgICAgIHZlYzMuc2NhbGVBbmRBZGQoX3ZlcnRleDQsIF92ZXJ0ZXg0LCB0aGlzLmV4dGVudHNbaV0sIHZlcnRleDRFeHRlbnRTY2FsZXNbaV0pO1xuICAgICAgfVxuXG4gICAgICAvLyBDYWxsIGJhY2sgd2l0aCB0aGUgZmFjZS5cbiAgICAgIGZhY2Uuc3BsaWNlKDAsIDQsIF92ZXJ0ZXgxLCBfdmVydGV4MiwgX3ZlcnRleDMsIF92ZXJ0ZXg0KTtcbiAgICAgIHJldHVybiBjYWxsYmFjayhmYWNlKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxscyB0aGUgZ2l2ZW4gY2FsbGJhY2sgb25jZSBmb3IgZWFjaCBmYWNlIHdpdGggYSBnaXZlbiBhZGRpdGlvbmFsIG9mZnNldCBmcm9tIHRoZSBjZW50ZXJcbiAgICogYXBwbGllZCB0byBlYWNoIGZhY2UuXG4gICAqXG4gICAqIEBwYXJhbSB7RmFjZUNhbGxiYWNrfSBjYWxsYmFja1xuICAgKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzT2Zmc2V0XG4gICAqIEBwYXJhbSB7QXJyYXkuPHZlYzM+fSBbZmFjZV0gT3V0cHV0IHBhcmFtLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBvbmUgb2YgdGhlIGNhbGxiYWNrcyByZXR1cm5lZCB0cnVlLlxuICAgKi9cbiAgc29tZVB1c2hlZE91dEZhY2UoY2FsbGJhY2ssIHJhZGl1c09mZnNldCwgZmFjZSkge1xuICAgIGZhY2UgPSBmYWNlIHx8IFtdO1xuXG4gICAgcmV0dXJuIF9mYWNlRXh0ZW50U2NhbGVzLnNvbWUoKGZhY2VFeHRlbnRTY2FsZXMsIGluZGV4KSA9PiB7XG4gICAgICBjb25zdCB2ZXJ0ZXgxRXh0ZW50U2NhbGVzID0gZmFjZUV4dGVudFNjYWxlc1swXTtcbiAgICAgIGNvbnN0IHZlcnRleDJFeHRlbnRTY2FsZXMgPSBmYWNlRXh0ZW50U2NhbGVzWzFdO1xuICAgICAgY29uc3QgdmVydGV4M0V4dGVudFNjYWxlcyA9IGZhY2VFeHRlbnRTY2FsZXNbMl07XG4gICAgICBjb25zdCB2ZXJ0ZXg0RXh0ZW50U2NhbGVzID0gZmFjZUV4dGVudFNjYWxlc1szXTtcbiAgICAgIGNvbnN0IGRpcmVjdGlvbk9mZnNldHMgPSBfcHVzaGVkT3V0RmFjZU9mZnNldERpcmVjdGlvbnNbaW5kZXhdO1xuXG4gICAgICAvLyBDYWxjdWxhdGUgdGhlIGZhY2UncyB2ZXJ0aWNlcy5cbiAgICAgIHZlYzMuY29weShfdmVydGV4MSwgdGhpcy5fY2VudGVyKTtcbiAgICAgIHZlYzMuY29weShfdmVydGV4MiwgdGhpcy5fY2VudGVyKTtcbiAgICAgIHZlYzMuY29weShfdmVydGV4MywgdGhpcy5fY2VudGVyKTtcbiAgICAgIHZlYzMuY29weShfdmVydGV4NCwgdGhpcy5fY2VudGVyKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSsrKSB7XG4gICAgICAgIC8vIEFkZCB0aGUgb2Zmc2V0IGZvciB0aGUgbm9ybWFsIHZlcnRleCBwb3NpdGlvbi5cbiAgICAgICAgdmVjMy5zY2FsZUFuZEFkZChfdmVydGV4MSwgX3ZlcnRleDEsIHRoaXMuZXh0ZW50c1tpXSwgdmVydGV4MUV4dGVudFNjYWxlc1tpXSk7XG4gICAgICAgIHZlYzMuc2NhbGVBbmRBZGQoX3ZlcnRleDIsIF92ZXJ0ZXgyLCB0aGlzLmV4dGVudHNbaV0sIHZlcnRleDJFeHRlbnRTY2FsZXNbaV0pO1xuICAgICAgICB2ZWMzLnNjYWxlQW5kQWRkKF92ZXJ0ZXgzLCBfdmVydGV4MywgdGhpcy5leHRlbnRzW2ldLCB2ZXJ0ZXgzRXh0ZW50U2NhbGVzW2ldKTtcbiAgICAgICAgdmVjMy5zY2FsZUFuZEFkZChfdmVydGV4NCwgX3ZlcnRleDQsIHRoaXMuZXh0ZW50c1tpXSwgdmVydGV4NEV4dGVudFNjYWxlc1tpXSk7XG4gICAgICAgIC8vIEFkZCB0aGUgcHVzaGVkLW91dCBvZmZzZXQuXG4gICAgICAgIHZlYzMuc2NhbGVBbmRBZGQoX3ZlcnRleDEsIF92ZXJ0ZXgxLCB0aGlzLmV4dGVudHNbaV0sXG4gICAgICAgICAgICByYWRpdXNPZmZzZXQgLyB0aGlzLmhhbGZTaWRlTGVuZ3Roc1tpXSAqIGRpcmVjdGlvbk9mZnNldHNbaV0pO1xuICAgICAgICB2ZWMzLnNjYWxlQW5kQWRkKF92ZXJ0ZXgyLCBfdmVydGV4MiwgdGhpcy5leHRlbnRzW2ldLFxuICAgICAgICAgICAgcmFkaXVzT2Zmc2V0IC8gdGhpcy5oYWxmU2lkZUxlbmd0aHNbaV0gKiBkaXJlY3Rpb25PZmZzZXRzW2ldKTtcbiAgICAgICAgdmVjMy5zY2FsZUFuZEFkZChfdmVydGV4MywgX3ZlcnRleDMsIHRoaXMuZXh0ZW50c1tpXSxcbiAgICAgICAgICAgIHJhZGl1c09mZnNldCAvIHRoaXMuaGFsZlNpZGVMZW5ndGhzW2ldICogZGlyZWN0aW9uT2Zmc2V0c1tpXSk7XG4gICAgICAgIHZlYzMuc2NhbGVBbmRBZGQoX3ZlcnRleDQsIF92ZXJ0ZXg0LCB0aGlzLmV4dGVudHNbaV0sXG4gICAgICAgICAgICByYWRpdXNPZmZzZXQgLyB0aGlzLmhhbGZTaWRlTGVuZ3Roc1tpXSAqIGRpcmVjdGlvbk9mZnNldHNbaV0pO1xuICAgICAgfVxuXG4gICAgICAvLyBDYWxsIGJhY2sgd2l0aCB0aGUgZmFjZS5cbiAgICAgIGZhY2Uuc3BsaWNlKDAsIDQsIF92ZXJ0ZXgxLCBfdmVydGV4MiwgX3ZlcnRleDMsIF92ZXJ0ZXg0KTtcbiAgICAgIHJldHVybiBjYWxsYmFjayhmYWNlKTtcbiAgICB9KTtcbiAgfVxuXG4gIF91cGRhdGVFeHRlbnRzKCkge1xuICAgIHZlYzMuc2V0KF92ZXJ0ZXgxLCB0aGlzLmhhbGZTaWRlTGVuZ3Roc1swXSwgMCwgMCk7XG4gICAgdmVjMy50cmFuc2Zvcm1RdWF0KHRoaXMuZXh0ZW50c1swXSwgX3ZlcnRleDEsIHRoaXMuX29yaWVudGF0aW9uKTtcbiAgICB2ZWMzLnNldChfdmVydGV4MSwgMCwgdGhpcy5oYWxmU2lkZUxlbmd0aHNbMV0sIDApO1xuICAgIHZlYzMudHJhbnNmb3JtUXVhdCh0aGlzLmV4dGVudHNbMV0sIF92ZXJ0ZXgxLCB0aGlzLl9vcmllbnRhdGlvbik7XG4gICAgdmVjMy5zZXQoX3ZlcnRleDEsIDAsIDAsIHRoaXMuaGFsZlNpZGVMZW5ndGhzWzJdKTtcbiAgICB2ZWMzLnRyYW5zZm9ybVF1YXQodGhpcy5leHRlbnRzWzJdLCBfdmVydGV4MSwgdGhpcy5fb3JpZW50YXRpb24pO1xuXG4gICAgdmVjMy5zZXQoX3ZlcnRleDEsIDEsIDAsIDApO1xuICAgIHZlYzMudHJhbnNmb3JtUXVhdCh0aGlzLmF4ZXNbMF0sIF92ZXJ0ZXgxLCB0aGlzLl9vcmllbnRhdGlvbik7XG4gICAgdmVjMy5zZXQoX3ZlcnRleDEsIDAsIDEsIDApO1xuICAgIHZlYzMudHJhbnNmb3JtUXVhdCh0aGlzLmF4ZXNbMV0sIF92ZXJ0ZXgxLCB0aGlzLl9vcmllbnRhdGlvbik7XG4gICAgdmVjMy5zZXQoX3ZlcnRleDEsIDAsIDAsIDEpO1xuICAgIHZlYzMudHJhbnNmb3JtUXVhdCh0aGlzLmF4ZXNbMl0sIF92ZXJ0ZXgxLCB0aGlzLl9vcmllbnRhdGlvbik7XG4gIH1cbn1cblxuY29uc3QgX3ZlcnRleDEgPSB2ZWMzLmNyZWF0ZSgpO1xuY29uc3QgX3ZlcnRleDIgPSB2ZWMzLmNyZWF0ZSgpO1xuY29uc3QgX3ZlcnRleDMgPSB2ZWMzLmNyZWF0ZSgpO1xuY29uc3QgX3ZlcnRleDQgPSB2ZWMzLmNyZWF0ZSgpO1xuY29uc3QgX3NlZ21lbnQgPSBuZXcgTGluZVNlZ21lbnQodmVjMy5jcmVhdGUoKSwgdmVjMy5jcmVhdGUoKSk7XG5cbmNvbnN0IF9lZGdlRXh0ZW50U2NhbGVzID0gW1xuICAvLyBGcm9udC1mYWNlIGVkZ2VzLlxuICBbWzEsIC0xLCAtMV0sIFsxLCAtMSwgMV1dLFxuICBbWzEsIC0xLCAtMV0sIFsxLCAxLCAtMV1dLFxuICBbWzEsIDEsIDFdLCBbMSwgLTEsIDFdXSxcbiAgW1sxLCAxLCAxXSwgWzEsIDEsIC0xXV0sXG4gIC8vIEJhY2stZmFjZSBlZGdlcy5cbiAgW1stMSwgLTEsIC0xXSwgWy0xLCAtMSwgMV1dLFxuICBbWy0xLCAtMSwgLTFdLCBbLTEsIDEsIC0xXV0sXG4gIFtbLTEsIDEsIDFdLCBbLTEsIC0xLCAxXV0sXG4gIFtbLTEsIDEsIDFdLCBbLTEsIDEsIC0xXV0sXG4gIC8vIEZyb250LXRvLWJhY2sgZWRnZXMuXG4gIFtbMSwgLTEsIDFdLCBbLTEsIC0xLCAxXV0sXG4gIFtbMSwgMSwgLTFdLCBbLTEsIDEsIC0xXV0sXG4gIFtbMSwgMSwgMV0sIFstMSwgMSwgMV1dLFxuICBbWzEsIC0xLCAtMV0sIFstMSwgLTEsIC0xXV0sXG5dO1xuXG5jb25zdCBfZmFjZUV4dGVudFNjYWxlcyA9IFtcbiAgW1sxLCAtMSwgLTFdLCBbMSwgLTEsIDFdLCBbMSwgMSwgMV0sIFsxLCAxLCAtMV1dLFxuICBbWy0xLCAtMSwgLTFdLCBbLTEsIC0xLCAxXSwgWy0xLCAxLCAxXSwgWy0xLCAxLCAtMV1dLFxuICBbWy0xLCAxLCAtMV0sIFsxLCAxLCAtMV0sIFsxLCAxLCAxXSwgWy0xLCAxLCAxXV0sXG4gIFtbLTEsIC0xLCAtMV0sIFsxLCAtMSwgLTFdLCBbMSwgLTEsIDFdLCBbLTEsIC0xLCAxXV0sXG4gIFtbLTEsIC0xLCAxXSwgWzEsIC0xLCAxXSwgWzEsIDEsIDFdLCBbLTEsIDEsIDFdXSxcbiAgW1stMSwgLTEsIC0xXSwgWzEsIC0xLCAtMV0sIFsxLCAxLCAtMV0sIFstMSwgMSwgLTFdXSxcbl07XG5cbmNvbnN0IF9wdXNoZWRPdXRGYWNlT2Zmc2V0RGlyZWN0aW9ucyA9IFtcbiAgdmVjMy5mcm9tVmFsdWVzKDEsIDAsIDApLFxuICB2ZWMzLmZyb21WYWx1ZXMoLTEsIDAsIDApLFxuICB2ZWMzLmZyb21WYWx1ZXMoMCwgMSwgMCksXG4gIHZlYzMuZnJvbVZhbHVlcygwLCAtMSwgMCksXG4gIHZlYzMuZnJvbVZhbHVlcygwLCAwLCAxKSxcbiAgdmVjMy5mcm9tVmFsdWVzKDAsIDAsIC0xKSxcbl07XG5cbmV4cG9ydCB7T2JifTtcblxuLyoqXG4gKiBAY2FsbGJhY2sgVmVydGV4Q2FsbGJhY2tcbiAqIEBwYXJhbSB7dmVjM31cbiAqIEByZXR1cm5zIHtib29sZWFufSBJZiB0cnVlLCBpdGVyYXRpb24gd2lsbCBzdG9wLlxuICovXG5cbi8qKlxuICogQGNhbGxiYWNrIEVkZ2VDYWxsYmFja1xuICogQHBhcmFtIHtMaW5lU2VnbWVudH1cbiAqIEByZXR1cm5zIHtib29sZWFufSBJZiB0cnVlLCBpdGVyYXRpb24gd2lsbCBzdG9wLlxuICovXG5cbi8qKlxuICogQGNhbGxiYWNrIEZhY2VDYWxsYmFja1xuICogQHBhcmFtIHtBcnJheS48dmVjMz59XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gSWYgdHJ1ZSwgaXRlcmF0aW9uIHdpbGwgc3RvcC5cbiAqL1xuIiwiaW1wb3J0IHtDb2xsaWRhYmxlfSBmcm9tICcuL2NvbGxpZGFibGUnO1xuXG4vKipcbiAqIFRoaXMgY2xhc3MgcmVwcmVzZW50cyBhIGJvdW5kaW5nIHNwaGVyZS5cbiAqXG4gKiBUaGlzIGlzIHByaW1hcmlseSB1c2VmdWwgZm9yIGNvbGxpc2lvbiBkZXRlY3Rpb24uIEEgYm91bmRpbmcgc3BoZXJlIGlzIG9ubHkgYXBwcm9wcmlhdGUgZm9yIHNvbWVcbiAqIGdlb21ldHJpZXMuIEZvciBvdGhlciBnZW9tZXRyaWVzLCBhbiBheGlhbGx5LWFsaWduZWQgYm91bmRpbmcgYm94IG1heSBiZSBtb3JlIGFwcHJvcHJpYXRlLiBGb3JcbiAqIG90aGVycyBzdGlsbCwgYW4gb3JpZW50ZWQgYm91bmRpbmcgYm94IG9yIGEgbW9yZSBjb21wbGljYXRlZCBoaWVyYXJjaGljYWwgbW9kZWwgbWF5IGJlIG1vcmVcbiAqIGFwcHJvcHJpYXRlLlxuICovXG5jbGFzcyBTcGhlcmUgZXh0ZW5kcyBDb2xsaWRhYmxlIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBjZW50ZXJYXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBjZW50ZXJZXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBjZW50ZXJaXG4gICAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXNcbiAgICogQHBhcmFtIHtib29sZWFufSBbaXNTdGF0aW9uYXJ5PWZhbHNlXVxuICAgKiBAcGFyYW0ge0NvbGxpZGFibGVQaHlzaWNzSm9ifSBbcGh5c2ljc0pvYl1cbiAgICovXG4gIGNvbnN0cnVjdG9yKGNlbnRlclgsIGNlbnRlclksIGNlbnRlclosIHJhZGl1cywgaXNTdGF0aW9uYXJ5ID0gZmFsc2UsIHBoeXNpY3NKb2IpIHtcbiAgICBzdXBlcihpc1N0YXRpb25hcnksIHBoeXNpY3NKb2IpO1xuICAgIHRoaXMuY2VudGVyWCA9IGNlbnRlclg7XG4gICAgdGhpcy5jZW50ZXJZID0gY2VudGVyWTtcbiAgICB0aGlzLmNlbnRlclogPSBjZW50ZXJaO1xuICAgIHRoaXMucmFkaXVzID0gcmFkaXVzO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHt2ZWMzfVxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldCBjZW50ZXJPZlZvbHVtZSgpIHtcbiAgICAvLyBSZXVzZSB0aGUgc2FtZSBvYmplY3Qgd2hlbiB0aGlzIGlzIGNhbGxlZCBtdWx0aXBsZSB0aW1lcy5cbiAgICB0aGlzLl9jZW50ZXIgPSB0aGlzLl9jZW50ZXIgfHwgdmVjMy5jcmVhdGUoKTtcbiAgICB2ZWMzLnNldCh0aGlzLl9jZW50ZXIsIHRoaXMuY2VudGVyWCwgdGhpcy5jZW50ZXJZLCB0aGlzLmNlbnRlclopO1xuICAgIHJldHVybiB0aGlzLl9jZW50ZXI7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge0NvbGxpZGFibGV9XG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0IGJvdW5kaW5nVm9sdW1lKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7dmVjM30gdmFsdWVcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzZXQgcG9zaXRpb24odmFsdWUpIHtcbiAgICB0aGlzLmNlbnRlclggPSB2YWx1ZVswXTtcbiAgICB0aGlzLmNlbnRlclkgPSB2YWx1ZVsxXTtcbiAgICB0aGlzLmNlbnRlclogPSB2YWx1ZVsyXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3F1YXR9IHZhbHVlXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc2V0IG9yaWVudGF0aW9uKHZhbHVlKSB7XG4gICAgLy8gRG8gbm90aGluZy5cbiAgfVxufVxuXG5leHBvcnQge1NwaGVyZX07XG4iLCJpbXBvcnQgKiBhcyBhYWJiQ29sbGlzaW9uRGV0ZWN0aW9uIGZyb20gJy4vc3JjL2FhYmItY29sbGlzaW9uLWRldGVjdGlvbic7XG5pbXBvcnQgKiBhcyBjYXBzdWxlQ29sbGlzaW9uRGV0ZWN0aW9uIGZyb20gJy4vc3JjL2NhcHN1bGUtY29sbGlzaW9uLWRldGVjdGlvbic7XG5pbXBvcnQgKiBhcyBvYmJDb2xsaXNpb25EZXRlY3Rpb24gZnJvbSAnLi9zcmMvb2JiLWNvbGxpc2lvbi1kZXRlY3Rpb24nO1xuaW1wb3J0ICogYXMgc3BoZXJlQ29sbGlzaW9uRGV0ZWN0aW9uIGZyb20gJy4vc3JjL3NwaGVyZS1jb2xsaXNpb24tZGV0ZWN0aW9uJztcblxuZXhwb3J0IHtcbiAgYWFiYkNvbGxpc2lvbkRldGVjdGlvbixcbiAgY2Fwc3VsZUNvbGxpc2lvbkRldGVjdGlvbixcbiAgb2JiQ29sbGlzaW9uRGV0ZWN0aW9uLFxuICBzcGhlcmVDb2xsaXNpb25EZXRlY3Rpb24sXG59O1xuIiwiaW1wb3J0ICogYXMgc3BoZXJlQ29sbGlzaW9uRGV0ZWN0aW9uIGZyb20gJy4vc3BoZXJlLWNvbGxpc2lvbi1kZXRlY3Rpb24nO1xuaW1wb3J0ICogYXMgb2JiQ29sbGlzaW9uRGV0ZWN0aW9uIGZyb20gJy4vb2JiLWNvbGxpc2lvbi1kZXRlY3Rpb24nO1xuaW1wb3J0ICogYXMgY2Fwc3VsZUNvbGxpc2lvbkRldGVjdGlvbiBmcm9tICcuL2NhcHN1bGUtY29sbGlzaW9uLWRldGVjdGlvbic7XG5pbXBvcnQge2FhYmJWc1BvaW50IGFzIGdlb21ldHJ5QWFiYlZzUG9pbnR9IGZyb20gJy4uLy4uLy4uL3V0aWwnO1xuXG4vKipcbiAqIFRoaXMgbW9kdWxlIGRlZmluZXMgdXRpbGl0eSBtZXRob2RzIGZvciBkZXRlY3Rpbmcgd2hldGhlciBpbnRlcnNlY3Rpb24gaGFzIG9jY3VycmVkIGJldHdlZW5cbiAqIGF4aWFsbHktYWxpZ25lZCBib3VuZGluZyBib3hlcyBhbmQgb3RoZXIgc2hhcGVzLlxuICovXG5cbi8qKlxuICogQHBhcmFtIHtBYWJifSBhYWJiXG4gKiBAcGFyYW0ge3ZlYzN9IHBvaW50XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gYWFiYlZzUG9pbnQoYWFiYiwgcG9pbnQpIHtcbiAgcmV0dXJuIGdlb21ldHJ5QWFiYlZzUG9pbnQoYWFiYiwgcG9pbnQpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7QWFiYn0gYWFiYlxuICogQHBhcmFtIHtTcGhlcmV9IHNwaGVyZVxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGFhYmJWc1NwaGVyZShhYWJiLCBzcGhlcmUpIHtcbiAgcmV0dXJuIHNwaGVyZUNvbGxpc2lvbkRldGVjdGlvbi5zcGhlcmVWc0FhYmIoc3BoZXJlLCBhYWJiKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FhYmJ9IGFhYmJBXG4gKiBAcGFyYW0ge0FhYmJ9IGFhYmJCXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gYWFiYlZzQWFiYihhYWJiQSwgYWFiYkIpIHtcbiAgcmV0dXJuIGFhYmJBLm1heFggPj0gYWFiYkIubWluWCAmJiBhYWJiQS5taW5YIDw9IGFhYmJCLm1heFggJiZcbiAgICAgIGFhYmJBLm1heFkgPj0gYWFiYkIubWluWSAmJiBhYWJiQS5taW5ZIDw9IGFhYmJCLm1heFkgJiZcbiAgICAgIGFhYmJBLm1heFogPj0gYWFiYkIubWluWiAmJiBhYWJiQS5taW5aIDw9IGFhYmJCLm1heFo7XG59XG5cbi8qKlxuICogQHBhcmFtIHtBYWJifSBhYWJiXG4gKiBAcGFyYW0ge09iYn0gb2JiXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gYWFiYlZzT2JiKGFhYmIsIG9iYikge1xuICByZXR1cm4gb2JiQ29sbGlzaW9uRGV0ZWN0aW9uLm9iYlZzQWFiYihvYmIsIGFhYmIpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7QWFiYn0gYWFiYlxuICogQHBhcmFtIHtDYXBzdWxlfSBjYXBzdWxlXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gYWFiYlZzQ2Fwc3VsZShhYWJiLCBjYXBzdWxlKSB7XG4gIHJldHVybiBjYXBzdWxlQ29sbGlzaW9uRGV0ZWN0aW9uLmNhcHN1bGVWc0FhYmIoY2Fwc3VsZSwgYWFiYik7XG59XG5cbmV4cG9ydCB7XG4gIGFhYmJWc1BvaW50LFxuICBhYWJiVnNTcGhlcmUsXG4gIGFhYmJWc0FhYmIsXG4gIGFhYmJWc09iYixcbiAgYWFiYlZzQ2Fwc3VsZSxcbn07XG4iLCIvKipcbiAqIFRoaXMgbW9kdWxlIGRlZmluZXMgdXRpbGl0eSBtZXRob2RzIGZvciBkZXRlY3Rpbmcgd2hldGhlciBpbnRlcnNlY3Rpb24gaGFzIG9jY3VycmVkIGJldHdlZW5cbiAqIGNhcHN1bGVzIGFuZCBvdGhlciBzaGFwZXMuXG4gKi9cblxuaW1wb3J0IHtcbiAgZmluZENsb3Nlc3RQb2ludEZyb21BYWJiVG9Qb2ludCxcbiAgZmluZFNxdWFyZWREaXN0YW5jZUJldHdlZW5TZWdtZW50cyxcbiAgZmluZFNxdWFyZWREaXN0YW5jZUZyb21TZWdtZW50VG9Qb2ludCxcbiAgdG1wVmVjMVxufSBmcm9tICcuLi8uLi8uLi91dGlsJztcbmltcG9ydCAqIGFzIG9iYkNvbGxpc2lvbkRldGVjdGlvbiBmcm9tICcuL29iYi1jb2xsaXNpb24tZGV0ZWN0aW9uJztcblxuLyoqXG4gKiBAcGFyYW0ge0NhcHN1bGV9IGNhcHN1bGVcbiAqIEBwYXJhbSB7dmVjM30gcG9pbnRcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBjYXBzdWxlVnNQb2ludChjYXBzdWxlLCBwb2ludCkge1xuICByZXR1cm4gZmluZFNxdWFyZWREaXN0YW5jZUZyb21TZWdtZW50VG9Qb2ludChjYXBzdWxlLnNlZ21lbnQsIHBvaW50KSA8PVxuICAgICAgY2Fwc3VsZS5yYWRpdXMgKiBjYXBzdWxlLnJhZGl1cztcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0NhcHN1bGV9IGNhcHN1bGVcbiAqIEBwYXJhbSB7U3BoZXJlfSBzcGhlcmVcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBjYXBzdWxlVnNTcGhlcmUoY2Fwc3VsZSwgc3BoZXJlKSB7XG4gIGNvbnN0IHN1bU9mUmFkaWkgPSBjYXBzdWxlLnJhZGl1cyArIHNwaGVyZS5yYWRpdXM7XG4gIHJldHVybiBmaW5kU3F1YXJlZERpc3RhbmNlRnJvbVNlZ21lbnRUb1BvaW50KGNhcHN1bGUuc2VnbWVudCwgc3BoZXJlLmNlbnRlck9mVm9sdW1lKSA8PVxuICAgICAgc3VtT2ZSYWRpaSAqIHN1bU9mUmFkaWk7XG59XG5cbi8qKlxuICogTk9URTogVGhpcyBpbXBsZW1lbnRhdGlvbiBjaGVhdHMgYnkgY2hlY2tpbmcgd2hldGhlciB2ZXJ0aWNlcyBmcm9tIG9uZSBzaGFwZSBsaWUgd2l0aGluIHRoZVxuICogb3RoZXIuIER1ZSB0byB0aGUgdHVubmVsbGluZyBwcm9ibGVtLCBpdCBpcyBwb3NzaWJsZSB0aGF0IGludGVyc2VjdGlvbiBvY2N1cnMgd2l0aG91dCBhbnlcbiAqIHZlcnRpY2VzIGx5aW5nIHdpdGhpbiB0aGUgb3RoZXIgc2hhcGUuIEhvd2V2ZXIsIChBKSB0aGlzIGlzIHVubGlrZWx5LCBhbmQgKEIpIHdlIGFyZSBpZ25vcmluZyB0aGVcbiAqIHR1bm5lbGxpbmcgcHJvYmxlbSBmb3IgdGhlIHJlc3Qgb2YgdGhpcyBjb2xsaXNpb24gc3lzdGVtIGFueXdheS5cbiAqXG4gKiBAcGFyYW0ge0NhcHN1bGV9IGNhcHN1bGVcbiAqIEBwYXJhbSB7QWFiYn0gYWFiYlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGNhcHN1bGVWc0FhYmIoY2Fwc3VsZSwgYWFiYikge1xuICBjb25zdCBzcXVhcmVkUmFkaXVzID0gY2Fwc3VsZS5yYWRpdXMgKiBjYXBzdWxlLnJhZGl1cztcblxuICAvLyBDaGVjayB3aGV0aGVyIHRoZSB0d28gY2Fwc3VsZSBlbmRzIGludGVyc2VjdCB0aGUgQUFCQiAoc3BoZXJlIHZzIEFBQkIpIChhZGRyZXNzZXMgdGhlXG4gIC8vIGNhcHN1bGUtdnMtQUFCQi1mYWNlIGNhc2UpLlxuICBmaW5kQ2xvc2VzdFBvaW50RnJvbUFhYmJUb1BvaW50KHRtcFZlYzEsIGFhYmIsIGNhcHN1bGUuc2VnbWVudC5zdGFydCk7XG4gIGlmICh2ZWMzLnNxdWFyZWREaXN0YW5jZSh0bXBWZWMxLCBjYXBzdWxlLnNlZ21lbnQuc3RhcnQpIDw9IHNxdWFyZWRSYWRpdXMpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBmaW5kQ2xvc2VzdFBvaW50RnJvbUFhYmJUb1BvaW50KHRtcFZlYzEsIGFhYmIsIGNhcHN1bGUuc2VnbWVudC5lbmQpO1xuICBpZiAodmVjMy5zcXVhcmVkRGlzdGFuY2UodG1wVmVjMSwgY2Fwc3VsZS5zZWdtZW50LmVuZCkgPD0gc3F1YXJlZFJhZGl1cykge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLy8gQ2hlY2sgd2hldGhlciB0aGUgY2Fwc3VsZSBpbnRlcnNlY3RzIHdpdGggYW55IEFBQkIgZWRnZSAoYWRkcmVzc2VzIHRoZSBjYXBzdWxlLXZzLUFBQkItZWRnZVxuICAvLyBjYXNlKS5cbiAgcmV0dXJuIGFhYmIuc29tZUVkZ2UoZWRnZSA9PlxuICAgICAgZmluZFNxdWFyZWREaXN0YW5jZUJldHdlZW5TZWdtZW50cyhjYXBzdWxlLnNlZ21lbnQsIGVkZ2UpIDw9IHNxdWFyZWRSYWRpdXMpO1xuXG4gIC8vIChUaGUgY2Fwc3VsZS12cy1BQUJCLXZlcnRleCBjYXNlIGlzIGNvdmVyZWQgYnkgdGhlIGNhcHN1bGUtdnMtQUFCQi1lZGdlIGNhc2UpLlxufVxuXG4vKipcbiAqIEBwYXJhbSB7Q2Fwc3VsZX0gY2Fwc3VsZVxuICogQHBhcmFtIHtPYmJ9IG9iYlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGNhcHN1bGVWc09iYihjYXBzdWxlLCBvYmIpIHtcbiAgcmV0dXJuIG9iYkNvbGxpc2lvbkRldGVjdGlvbi5vYmJWc0NhcHN1bGUob2JiLCBjYXBzdWxlKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0NhcHN1bGV9IGNhcHN1bGVBXG4gKiBAcGFyYW0ge0NhcHN1bGV9IGNhcHN1bGVCXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gY2Fwc3VsZVZzQ2Fwc3VsZShjYXBzdWxlQSwgY2Fwc3VsZUIpIHtcbiAgY29uc3Qgc3VtT2ZSYWRpaSA9IGNhcHN1bGVBLnJhZGl1cyArIGNhcHN1bGVCLnJhZGl1cztcbiAgcmV0dXJuIGZpbmRTcXVhcmVkRGlzdGFuY2VCZXR3ZWVuU2VnbWVudHMoY2Fwc3VsZUEuc2VnbWVudCwgY2Fwc3VsZUIuc2VnbWVudCkgPD1cbiAgICAgIHN1bU9mUmFkaWkgKiBzdW1PZlJhZGlpO1xufVxuXG5leHBvcnQge1xuICBjYXBzdWxlVnNQb2ludCxcbiAgY2Fwc3VsZVZzU3BoZXJlLFxuICBjYXBzdWxlVnNBYWJiLFxuICBjYXBzdWxlVnNPYmIsXG4gIGNhcHN1bGVWc0NhcHN1bGUsXG59O1xuIiwiLyoqXG4gKiBUaGlzIG1vZHVsZSBkZWZpbmVzIHV0aWxpdHkgbWV0aG9kcyBmb3IgZGV0ZWN0aW5nIHdoZXRoZXIgaW50ZXJzZWN0aW9uIGhhcyBvY2N1cnJlZCBiZXR3ZWVuXG4gKiBvcmllbnRlZCBib3VuZGluZyBib3hlcyBhbmQgb3RoZXIgc2hhcGVzLlxuICovXG5cbmltcG9ydCB7XG4gIGZpbmRDbG9zZXN0UG9pbnRGcm9tT2JiVG9Qb2ludCxcbiAgZmluZFBvaUJldHdlZW5TZWdtZW50QW5kUGxhbmVSZWdpb24sXG4gIGZpbmRTcXVhcmVkRGlzdGFuY2VCZXR3ZWVuU2VnbWVudHMsXG4gIHRtcFZlYzEsXG4gIHRtcFZlYzIsXG4gIHRtcFZlYzMsXG4gIHRtcFZlYzRcbn0gZnJvbSAnLi4vLi4vLi4vdXRpbCc7XG5pbXBvcnQgKiBhcyBhYWJiQ29sbGlzaW9uRGV0ZWN0aW9uIGZyb20gJy4vYWFiYi1jb2xsaXNpb24tZGV0ZWN0aW9uJztcbmltcG9ydCAqIGFzIGNhcHN1bGVDb2xsaXNpb25EZXRlY3Rpb24gZnJvbSAnLi9jYXBzdWxlLWNvbGxpc2lvbi1kZXRlY3Rpb24nO1xuXG4vLyBUT0RPOiBSZWZhY3RvciB0aGVzZSB0byBub3QgYWN0dWFsbHkgY2FsY3VsYXRlIHRoZSBwb2ludCBvZiBpbnRlcnNlY3Rpb24uIFRoZXNlIGNoZWNrcyBjYW5cbi8vIGluc3RlYWQgYmUgZG9uZSBtb3JlIGVmZmljaWVudGx5IHVzaW5nIFNBVC5cblxuLyoqXG4gKiBAcGFyYW0ge09iYn0gb2JiXG4gKiBAcGFyYW0ge3ZlYzN9IHBvaW50XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gb2JiVnNQb2ludChvYmIsIHBvaW50KSB7XG4gIHZlYzMuc3VidHJhY3QodG1wVmVjNCwgcG9pbnQsIG9iYi5jZW50ZXJPZlZvbHVtZSk7XG5cbiAgdmVjMy5zZXQodG1wVmVjMSwgMSwgMCwgMCk7XG4gIHZlYzMudHJhbnNmb3JtUXVhdCh0bXBWZWMxLCB0bXBWZWMxLCBvYmIub3JpZW50YXRpb24pO1xuICBjb25zdCBheGlzMURpc3RhbmNlID0gdmVjMy5kb3QodG1wVmVjNCwgdG1wVmVjMSk7XG5cbiAgaWYgKGF4aXMxRGlzdGFuY2UgPj0gLW9iYi5oYWxmU2lkZUxlbmd0aFggJiYgYXhpczFEaXN0YW5jZSA8PSBvYmIuaGFsZlNpZGVMZW5ndGhYKSB7XG4gICAgdmVjMy5zZXQodG1wVmVjMiwgMCwgMSwgMCk7XG4gICAgdmVjMy50cmFuc2Zvcm1RdWF0KHRtcFZlYzIsIHRtcFZlYzIsIG9iYi5vcmllbnRhdGlvbik7XG4gICAgY29uc3QgYXhpczJEaXN0YW5jZSA9IHZlYzMuZG90KHRtcFZlYzQsIHRtcFZlYzIpO1xuXG4gICAgaWYgKGF4aXMyRGlzdGFuY2UgPj0gLW9iYi5oYWxmU2lkZUxlbmd0aFkgJiYgYXhpczJEaXN0YW5jZSA8PSBvYmIuaGFsZlNpZGVMZW5ndGhZKSB7XG4gICAgICB2ZWMzLnNldCh0bXBWZWMzLCAwLCAwLCAxKTtcbiAgICAgIHZlYzMudHJhbnNmb3JtUXVhdCh0bXBWZWMzLCB0bXBWZWMzLCBvYmIub3JpZW50YXRpb24pO1xuICAgICAgY29uc3QgYXhpczNEaXN0YW5jZSA9IHZlYzMuZG90KHRtcFZlYzQsIHRtcFZlYzMpO1xuXG4gICAgICByZXR1cm4gYXhpczNEaXN0YW5jZSA+PSAtb2JiLmhhbGZTaWRlTGVuZ3RoWiAmJiBheGlzM0Rpc3RhbmNlIDw9IG9iYi5oYWxmU2lkZUxlbmd0aFo7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7T2JifSBvYmJcbiAqIEBwYXJhbSB7U3BoZXJlfSBzcGhlcmVcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBvYmJWc1NwaGVyZShvYmIsIHNwaGVyZSkge1xuICBmaW5kQ2xvc2VzdFBvaW50RnJvbU9iYlRvUG9pbnQodG1wVmVjMSwgb2JiLCBzcGhlcmUuY2VudGVyT2ZWb2x1bWUpO1xuICByZXR1cm4gdmVjMy5zcXVhcmVkRGlzdGFuY2UodG1wVmVjMSwgc3BoZXJlLmNlbnRlck9mVm9sdW1lKSA8PVxuICAgICAgc3BoZXJlLnJhZGl1cyAqIHNwaGVyZS5yYWRpdXM7XG59XG5cbi8qKlxuICogTk9URTogVGhpcyBpbXBsZW1lbnRhdGlvbiBjaGVhdHMgYnkgY2hlY2tpbmcgd2hldGhlciB2ZXJ0aWNlcyBmcm9tIG9uZSBzaGFwZSBsaWUgd2l0aGluIHRoZVxuICogb3RoZXIuIER1ZSB0byB0aGUgdHVubmVsbGluZyBwcm9ibGVtLCBpdCBpcyBwb3NzaWJsZSB0aGF0IGludGVyc2VjdGlvbiBvY2N1cnMgd2l0aG91dCBhbnlcbiAqIHZlcnRpY2VzIGx5aW5nIHdpdGhpbiB0aGUgb3RoZXIgc2hhcGUuIEhvd2V2ZXIsIChBKSB0aGlzIGlzIHVubGlrZWx5LCBhbmQgKEIpIHdlIGFyZSBpZ25vcmluZyB0aGVcbiAqIHR1bm5lbGxpbmcgcHJvYmxlbSBmb3IgdGhlIHJlc3Qgb2YgdGhpcyBjb2xsaXNpb24gc3lzdGVtIGFueXdheS5cbiAqXG4gKiBAcGFyYW0ge09iYn0gb2JiXG4gKiBAcGFyYW0ge0FhYmJ9IGFhYmJcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBvYmJWc0FhYmIob2JiLCBhYWJiKSB7XG4gIHJldHVybiBfb2JiVnNCb3hIZWxwZXIob2JiLCBhYWJiLCBhYWJiQ29sbGlzaW9uRGV0ZWN0aW9uLmFhYmJWc1BvaW50KTtcbn1cblxuLyoqXG4gKiBOT1RFOiBUaGlzIGltcGxlbWVudGF0aW9uIGNoZWF0cyBieSBjaGVja2luZyB3aGV0aGVyIHZlcnRpY2VzIGZyb20gb25lIHNoYXBlIGxpZSB3aXRoaW4gdGhlXG4gKiBvdGhlci4gRHVlIHRvIHRoZSB0dW5uZWxsaW5nIHByb2JsZW0sIGl0IGlzIHBvc3NpYmxlIHRoYXQgaW50ZXJzZWN0aW9uIG9jY3VycyB3aXRob3V0IGFueVxuICogdmVydGljZXMgbHlpbmcgd2l0aGluIHRoZSBvdGhlciBzaGFwZS4gSG93ZXZlciwgKEEpIHRoaXMgaXMgdW5saWtlbHksIGFuZCAoQikgd2UgYXJlIGlnbm9yaW5nIHRoZVxuICogdHVubmVsbGluZyBwcm9ibGVtIGZvciB0aGUgcmVzdCBvZiB0aGlzIGNvbGxpc2lvbiBzeXN0ZW0gYW55d2F5LlxuICpcbiAqIEBwYXJhbSB7T2JifSBvYmJBXG4gKiBAcGFyYW0ge09iYn0gb2JiQlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIG9iYlZzT2JiKG9iYkEsIG9iYkIpIHtcbiAgcmV0dXJuIF9vYmJWc0JveEhlbHBlcihvYmJBLCBvYmJCLCBvYmJWc1BvaW50KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge09iYn0gb2JiXG4gKiBAcGFyYW0ge09iYnxBYWJifSBvdGhlclxuICogQHBhcmFtIHtGdW5jdGlvbn0gb3RoZXJWc1BvaW50Q2FsbGJhY2tcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX29iYlZzQm94SGVscGVyKG9iYiwgb3RoZXIsIG90aGVyVnNQb2ludENhbGxiYWNrKSB7XG4gIC8vIENoZWNrIHdoZXRoZXIgYW55IHZlcnRpY2VzIGZyb20gQSBsaWUgd2l0aGluIEIncyBib3VuZHMuXG4gIGlmIChvYmIuc29tZVZlcnRleCh2ZXJ0ZXggPT4gb3RoZXJWc1BvaW50Q2FsbGJhY2sob3RoZXIsIHZlcnRleCkpKSByZXR1cm4gdHJ1ZTtcblxuICAvLyBDaGVjayB3aGV0aGVyIGFueSB2ZXJ0aWNlcyBmcm9tIEIgbGllIHdpdGhpbiBBJ3MgYm91bmRzLlxuICBpZiAob3RoZXIuc29tZVZlcnRleCh2ZXJ0ZXggPT4gb2JiVnNQb2ludChvYmIsIHZlcnRleCkpKSByZXR1cm4gdHJ1ZTtcblxuICAvLyBXZSBhc3N1bWUgdGhhdCBhIHZlcnRleC10by1mYWNlIGNvbGxpc2lvbiB3b3VsZCBoYXZlIGJlZW4gZGV0ZWN0ZWQgYnkgb25lIG9mIHRoZSB0d28gYWJvdmVcbiAgLy8gY2hlY2tzLiBBbnkgZWRnZS10by1lZGdlIGNvbGxpc2lvbiBtdXN0IGludm9sdmUgYm90aCBhbiBlZGdlIGZyb20gQSB0aHJvdWdoIGEgZmFjZSBvZiBCIGFuZFxuICAvLyB2aWNlIHZlcnNhLiBTbyBpdCBpcyBzdWZmaWNpZW50IHRvIG9ubHkgY2hlY2sgdGhlIGVkZ2VzIG9mIG9uZSBhbmQgdGhlIGZhY2VzIG9mIHRoZSBvdGhlci5cbiAgaWYgKG90aGVyLnNvbWVFZGdlKGVkZ2UgPT5cbiAgICAgICAgICBvYmIuc29tZUZhY2UoZmFjZSA9PlxuICAgICAgICAgICAgICBmaW5kUG9pQmV0d2VlblNlZ21lbnRBbmRQbGFuZVJlZ2lvbih0bXBWZWMxLCBlZGdlLCAuLi5mYWNlKSkpKVxuICAgIHJldHVybiB0cnVlO1xuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge09iYn0gb2JiXG4gKiBAcGFyYW0ge0NhcHN1bGV9IGNhcHN1bGVcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBvYmJWc0NhcHN1bGUob2JiLCBjYXBzdWxlKSB7XG4gIC8vIENoZWNrIHRoZSBlZGdlcy5cbiAgY29uc3Qgc3F1YXJlZFJhZGl1cyA9IGNhcHN1bGUucmFkaXVzICogY2Fwc3VsZS5yYWRpdXM7XG4gIGxldCBhcmVJbnRlcnNlY3RpbmcgPSBvYmIuc29tZUVkZ2UoZWRnZSA9PlxuICAgICAgZmluZFNxdWFyZWREaXN0YW5jZUJldHdlZW5TZWdtZW50cyhjYXBzdWxlLnNlZ21lbnQsIGVkZ2UpIDwgc3F1YXJlZFJhZGl1cyk7XG5cbiAgaWYgKGFyZUludGVyc2VjdGluZykgcmV0dXJuIHRydWU7XG5cbiAgLy8gQ2hlY2sgdGhlIGZhY2VzLlxuICBhcmVJbnRlcnNlY3RpbmcgPSBvYmIuc29tZVB1c2hlZE91dEZhY2UoZmFjZSA9PlxuICAgICAgICAgIGZpbmRQb2lCZXR3ZWVuU2VnbWVudEFuZFBsYW5lUmVnaW9uKHRtcFZlYzEsIGNhcHN1bGUuc2VnbWVudCwgLi4uZmFjZSksIGNhcHN1bGUucmFkaXVzKTtcblxuICAvLyBDaGVjayBmb3IgaW5jbHVzaW9uIG9mIG9uZSBzaGFwZSBpbnNpZGUgdGhlIG90aGVyLlxuICBhcmVJbnRlcnNlY3RpbmcgPSBhcmVJbnRlcnNlY3RpbmcgfHwgb2JiVnNQb2ludChvYmIsIGNhcHN1bGUuY2VudGVyT2ZWb2x1bWUpO1xuICBhcmVJbnRlcnNlY3RpbmcgPSBhcmVJbnRlcnNlY3RpbmcgfHwgY2Fwc3VsZUNvbGxpc2lvbkRldGVjdGlvbi5jYXBzdWxlVnNQb2ludChjYXBzdWxlLFxuICAgICAgb2JiLmNlbnRlck9mVm9sdW1lKTtcblxuICByZXR1cm4gYXJlSW50ZXJzZWN0aW5nO1xufVxuXG5leHBvcnQge1xuICBvYmJWc1BvaW50LFxuICBvYmJWc1NwaGVyZSxcbiAgb2JiVnNBYWJiLFxuICBvYmJWc09iYixcbiAgb2JiVnNDYXBzdWxlLFxufTtcbiIsImltcG9ydCB7ZmluZENsb3Nlc3RQb2ludEZyb21BYWJiVG9Qb2ludCwgdG1wVmVjMX0gZnJvbSAnLi4vLi4vLi4vdXRpbCc7XG5pbXBvcnQgKiBhcyBvYmJDb2xsaXNpb25EZXRlY3Rpb24gZnJvbSAnLi9vYmItY29sbGlzaW9uLWRldGVjdGlvbic7XG5pbXBvcnQgKiBhcyBjYXBzdWxlQ29sbGlzaW9uRGV0ZWN0aW9uIGZyb20gJy4vY2Fwc3VsZS1jb2xsaXNpb24tZGV0ZWN0aW9uJztcblxuLyoqXG4gKiBUaGlzIG1vZHVsZSBkZWZpbmVzIHV0aWxpdHkgbWV0aG9kcyBmb3IgZGV0ZWN0aW5nIHdoZXRoZXIgaW50ZXJzZWN0aW9uIGhhcyBvY2N1cnJlZCBiZXR3ZWVuXG4gKiBzcGhlcmVzIGFuZCBvdGhlciBzaGFwZXMuXG4gKi9cblxuLyoqXG4gKiBAcGFyYW0ge1NwaGVyZX0gc3BoZXJlXG4gKiBAcGFyYW0ge3ZlYzN9IHBvaW50XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gc3BoZXJlVnNQb2ludChzcGhlcmUsIHBvaW50KSB7XG4gIHJldHVybiB2ZWMzLnNxdWFyZWREaXN0YW5jZShwb2ludCwgc3BoZXJlLmNlbnRlck9mVm9sdW1lKSA8PSBzcGhlcmUucmFkaXVzICogc3BoZXJlLnJhZGl1cztcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1NwaGVyZX0gc3BoZXJlQVxuICogQHBhcmFtIHtTcGhlcmV9IHNwaGVyZUJcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBzcGhlcmVWc1NwaGVyZShzcGhlcmVBLCBzcGhlcmVCKSB7XG4gIGNvbnN0IHN1bU9mUmFkaWkgPSBzcGhlcmVBLnJhZGl1cyArIHNwaGVyZUIucmFkaXVzO1xuICByZXR1cm4gdmVjMy5zcXVhcmVkRGlzdGFuY2Uoc3BoZXJlQS5jZW50ZXJPZlZvbHVtZSwgc3BoZXJlQi5jZW50ZXJPZlZvbHVtZSkgPD1cbiAgICAgIHN1bU9mUmFkaWkgKiBzdW1PZlJhZGlpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7U3BoZXJlfSBzcGhlcmVcbiAqIEBwYXJhbSB7QWFiYn0gYWFiYlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIHNwaGVyZVZzQWFiYihzcGhlcmUsIGFhYmIpIHtcbiAgZmluZENsb3Nlc3RQb2ludEZyb21BYWJiVG9Qb2ludCh0bXBWZWMxLCBhYWJiLCBzcGhlcmUuY2VudGVyT2ZWb2x1bWUpO1xuICByZXR1cm4gdmVjMy5zcXVhcmVkRGlzdGFuY2UodG1wVmVjMSwgc3BoZXJlLmNlbnRlck9mVm9sdW1lKSA8PSBzcGhlcmUucmFkaXVzICogc3BoZXJlLnJhZGl1cztcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1NwaGVyZX0gc3BoZXJlXG4gKiBAcGFyYW0ge09iYn0gb2JiXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gc3BoZXJlVnNPYmIoc3BoZXJlLCBvYmIpIHtcbiAgcmV0dXJuIG9iYkNvbGxpc2lvbkRldGVjdGlvbi5vYmJWc1NwaGVyZShvYmIsIHNwaGVyZSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtTcGhlcmV9IHNwaGVyZVxuICogQHBhcmFtIHtDYXBzdWxlfSBjYXBzdWxlXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gc3BoZXJlVnNDYXBzdWxlKHNwaGVyZSwgY2Fwc3VsZSkge1xuICByZXR1cm4gY2Fwc3VsZUNvbGxpc2lvbkRldGVjdGlvbi5jYXBzdWxlVnNTcGhlcmUoY2Fwc3VsZSwgc3BoZXJlKTtcbn1cblxuZXhwb3J0IHtcbiAgc3BoZXJlVnNQb2ludCxcbiAgc3BoZXJlVnNTcGhlcmUsXG4gIHNwaGVyZVZzQWFiYixcbiAgc3BoZXJlVnNPYmIsXG4gIHNwaGVyZVZzQ2Fwc3VsZSxcbn07XG4iLCJpbXBvcnQgKiBhcyBhYWJiQ29udGFjdENhbGN1bGF0aW9uIGZyb20gJy4vc3JjL2FhYmItY29udGFjdC1jYWxjdWxhdGlvbic7XG5pbXBvcnQgKiBhcyBjYXBzdWxlQ29udGFjdENhbGN1bGF0aW9uIGZyb20gJy4vc3JjL2NhcHN1bGUtY29udGFjdC1jYWxjdWxhdGlvbic7XG5pbXBvcnQgKiBhcyBvYmJDb250YWN0Q2FsY3VsYXRpb24gZnJvbSAnLi9zcmMvb2JiLWNvbnRhY3QtY2FsY3VsYXRpb24nO1xuaW1wb3J0ICogYXMgc3BoZXJlQ29udGFjdENhbGN1bGF0aW9uIGZyb20gJy4vc3JjL3NwaGVyZS1jb250YWN0LWNhbGN1bGF0aW9uJztcblxuZXhwb3J0IHtcbiAgYWFiYkNvbnRhY3RDYWxjdWxhdGlvbixcbiAgY2Fwc3VsZUNvbnRhY3RDYWxjdWxhdGlvbixcbiAgb2JiQ29udGFjdENhbGN1bGF0aW9uLFxuICBzcGhlcmVDb250YWN0Q2FsY3VsYXRpb24sXG59O1xuIiwiLyoqXG4gKiBUaGlzIG1vZHVsZSBkZWZpbmVzIHV0aWxpdHkgbWV0aG9kcyBmb3IgY2FsY3VsYXRpbmcgYSBjb250YWN0IHBvaW50IGJldHdlZW4gYXhpYWxseS1hbGlnbmVkIFxuICogYm91bmRpbmcgYm94ZXMgYW5kIG90aGVyIHNoYXBlcy5cbiAqXG4gKiAtIEVhY2ggb2YgdGhlc2UgZnVuY3Rpb25zIGFzc3VtZXMgdGhhdCB0aGUgb2JqZWN0cyBhcmUgYWN0dWFsbHkgY29sbGlkaW5nLlxuICogLSBUaGUgcmVzdWx0aW5nIGNvbnRhY3QgcG9pbnQgbWF5IGJlIGFueXdoZXJlIHdpdGhpbiB0aGUgaW50ZXJzZWN0aW9uIG9mIHRoZSB0d28gb2JqZWN0cy5cbiAqL1xuXG5pbXBvcnQgKiBhcyBzcGhlcmVDb250YWN0Q2FsY3VsYXRpb24gZnJvbSAnLi9zcGhlcmUtY29udGFjdC1jYWxjdWxhdGlvbic7XG5pbXBvcnQgKiBhcyBvYmJDb250YWN0Q2FsY3VsYXRpb24gZnJvbSAnLi9vYmItY29udGFjdC1jYWxjdWxhdGlvbic7XG5pbXBvcnQgKiBhcyBjYXBzdWxlQ29udGFjdENhbGN1bGF0aW9uIGZyb20gJy4vY2Fwc3VsZS1jb250YWN0LWNhbGN1bGF0aW9uJztcbmltcG9ydCB7dG1wVmVjMX0gZnJvbSAnLi4vLi4vLi4vdXRpbCc7XG5pbXBvcnQge2FhYmJDb2xsaXNpb25EZXRlY3Rpb259IGZyb20gJy4uLy4uL2NvbGxpc2lvbi1kZXRlY3Rpb24nO1xuXG4vKipcbiAqIEBwYXJhbSB7dmVjM30gY29udGFjdFBvaW50IE91dHB1dCBwYXJhbS5cbiAqIEBwYXJhbSB7dmVjM30gY29udGFjdE5vcm1hbCBPdXRwdXQgcGFyYW0uXG4gKiBAcGFyYW0ge0FhYmJ9IGFhYmJcbiAqIEBwYXJhbSB7dmVjM30gcG9pbnRcbiAqL1xuZnVuY3Rpb24gYWFiYlZzUG9pbnQoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBhYWJiLCBwb2ludCkge1xuICB2ZWMzLmNvcHkoY29udGFjdFBvaW50LCBwb2ludCk7XG4gIGZpbmRBYWJiTm9ybWFsRnJvbUNvbnRhY3RQb2ludChjb250YWN0Tm9ybWFsLCBjb250YWN0UG9pbnQsIGFhYmIpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7dmVjM30gY29udGFjdFBvaW50IE91dHB1dCBwYXJhbS5cbiAqIEBwYXJhbSB7dmVjM30gY29udGFjdE5vcm1hbCBPdXRwdXQgcGFyYW0uXG4gKiBAcGFyYW0ge0FhYmJ9IGFhYmJcbiAqIEBwYXJhbSB7U3BoZXJlfSBzcGhlcmVcbiAqL1xuZnVuY3Rpb24gYWFiYlZzU3BoZXJlKGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgYWFiYiwgc3BoZXJlKSB7XG4gIHNwaGVyZUNvbnRhY3RDYWxjdWxhdGlvbi5zcGhlcmVWc0FhYmIoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBzcGhlcmUsIGFhYmIpO1xuICB2ZWMzLm5lZ2F0ZShjb250YWN0Tm9ybWFsLCBjb250YWN0Tm9ybWFsKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3ZlYzN9IGNvbnRhY3RQb2ludCBPdXRwdXQgcGFyYW0uXG4gKiBAcGFyYW0ge3ZlYzN9IGNvbnRhY3ROb3JtYWwgT3V0cHV0IHBhcmFtLlxuICogQHBhcmFtIHtBYWJifSBhYWJiQVxuICogQHBhcmFtIHtBYWJifSBhYWJiQlxuICovXG5mdW5jdGlvbiBhYWJiVnNBYWJiKGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgYWFiYkEsIGFhYmJCKSB7XG4gIC8vIENvbXB1dGUgdGhlIGNvbnRhY3Qgbm9ybWFsLlxuICB2ZWMzLnNldChjb250YWN0Tm9ybWFsLCAwLCAwLCAwKTtcbiAgY29uc3QgeEludGVyc2VjdGlvbkRlcHRoID0gTWF0aC5taW4oYWFiYkEubWF4WCAtIGFhYmJCLm1pblgsIGFhYmJCLm1heFggLSBhYWJiQS5taW5YKTtcbiAgY29uc3QgeUludGVyc2VjdGlvbkRlcHRoID0gTWF0aC5taW4oYWFiYkEubWF4WSAtIGFhYmJCLm1pblksIGFhYmJCLm1heFkgLSBhYWJiQS5taW5ZKTtcbiAgY29uc3QgekludGVyc2VjdGlvbkRlcHRoID0gTWF0aC5taW4oYWFiYkEubWF4WiAtIGFhYmJCLm1pblosIGFhYmJCLm1heFogLSBhYWJiQS5taW5aKTtcbiAgLy8gQXNzdW1lIHRoYXQgdGhlIGRpcmVjdGlvbiBvZiBpbnRlcnNlY3Rpb24gY29ycmVzcG9uZHMgdG8gd2hpY2hldmVyIGF4aXMgaGFzIHRoZSBzaGFsbG93ZXN0XG4gIC8vIGludGVyc2VjdGlvbi5cbiAgaWYgKHhJbnRlcnNlY3Rpb25EZXB0aCA8PSB5SW50ZXJzZWN0aW9uRGVwdGgpIHtcbiAgICBpZiAoeEludGVyc2VjdGlvbkRlcHRoIDw9IHpJbnRlcnNlY3Rpb25EZXB0aCkge1xuICAgICAgY29udGFjdE5vcm1hbFswXSA9IGFhYmJBLm1heFggLSBhYWJiQi5taW5YIDw9IGFhYmJCLm1heFggLSBhYWJiQS5taW5YID8gMSA6IC0xO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb250YWN0Tm9ybWFsWzJdID0gYWFiYkEubWF4WiAtIGFhYmJCLm1pblogPD0gYWFiYkIubWF4WiAtIGFhYmJBLm1pblogPyAxIDogLTE7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmICh5SW50ZXJzZWN0aW9uRGVwdGggPD0gekludGVyc2VjdGlvbkRlcHRoKSB7XG4gICAgICBjb250YWN0Tm9ybWFsWzFdID0gYWFiYkEubWF4WSAtIGFhYmJCLm1pblkgPD0gYWFiYkIubWF4WSAtIGFhYmJBLm1pblkgPyAxIDogLTE7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnRhY3ROb3JtYWxbMl0gPSBhYWJiQS5tYXhaIC0gYWFiYkIubWluWiA8PSBhYWJiQi5tYXhaIC0gYWFiYkEubWluWiA/IDEgOiAtMTtcbiAgICB9XG4gIH1cblxuICAvLyBUT0RPOiBUaGUgdHdvIEFBQkJzIGZvcm0gYSBzcXVhcmUgaW50ZXJzZWN0aW9uIGNyb3NzLXNlY3Rpb24gcmVnaW9uIGFsb25nIHRoZSBkaXJlY3Rpb24gb2YgdGhlXG4gIC8vIG5vcm1hbC4gQ2FsY3VsYXRlIHRoZSBjZW50ZXIgb2YgdGhhdCBzcXVhcmUgdG8gdXNlIGFzIHRoZSBwb2ludCBvZiBjb250YWN0LlxuICBpZiAoIWFhYmJBLnNvbWVWZXJ0ZXgodmVydGV4ID0+IGFhYmJDb2xsaXNpb25EZXRlY3Rpb24uYWFiYlZzUG9pbnQoYWFiYkIsIHZlcnRleCksXG4gICAgICAgICAgY29udGFjdFBvaW50KSkge1xuICAgIGFhYmJCLnNvbWVWZXJ0ZXgodmVydGV4ID0+IGFhYmJDb2xsaXNpb25EZXRlY3Rpb24uYWFiYlZzUG9pbnQoYWFiYkEsIHZlcnRleCksIGNvbnRhY3RQb2ludCk7XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge3ZlYzN9IGNvbnRhY3RQb2ludCBPdXRwdXQgcGFyYW0uXG4gKiBAcGFyYW0ge3ZlYzN9IGNvbnRhY3ROb3JtYWwgT3V0cHV0IHBhcmFtLlxuICogQHBhcmFtIHtBYWJifSBhYWJiXG4gKiBAcGFyYW0ge09iYn0gb2JiXG4gKi9cbmZ1bmN0aW9uIGFhYmJWc09iYihjb250YWN0UG9pbnQsIGNvbnRhY3ROb3JtYWwsIGFhYmIsIG9iYikge1xuICBvYmJDb250YWN0Q2FsY3VsYXRpb24ub2JiVnNBYWJiKGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgb2JiLCBhYWJiKTtcbiAgdmVjMy5uZWdhdGUoY29udGFjdE5vcm1hbCwgY29udGFjdE5vcm1hbCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0UG9pbnQgT3V0cHV0IHBhcmFtLlxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0Tm9ybWFsIE91dHB1dCBwYXJhbS5cbiAqIEBwYXJhbSB7QWFiYn0gYWFiYlxuICogQHBhcmFtIHtDYXBzdWxlfSBjYXBzdWxlXG4gKi9cbmZ1bmN0aW9uIGFhYmJWc0NhcHN1bGUoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBhYWJiLCBjYXBzdWxlKSB7XG4gIGNhcHN1bGVDb250YWN0Q2FsY3VsYXRpb24uY2Fwc3VsZVZzQWFiYihjb250YWN0UG9pbnQsIGNvbnRhY3ROb3JtYWwsIGNhcHN1bGUsIGFhYmIpO1xuICB2ZWMzLm5lZ2F0ZShjb250YWN0Tm9ybWFsLCBjb250YWN0Tm9ybWFsKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3ZlYzN9IGNvbnRhY3ROb3JtYWwgT3V0cHV0IHBhcmFtLlxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0UG9pbnRcbiAqIEBwYXJhbSB7QWFiYn0gYWFiYlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gZmluZEFhYmJOb3JtYWxGcm9tQ29udGFjdFBvaW50KGNvbnRhY3ROb3JtYWwsIGNvbnRhY3RQb2ludCwgYWFiYikge1xuICB2ZWMzLnNldChjb250YWN0Tm9ybWFsLCAwLCAwLCAwKTtcbiAgdmVjMy5zdWJ0cmFjdCh0bXBWZWMxLCBjb250YWN0UG9pbnQsIGFhYmIuY2VudGVyT2ZWb2x1bWUpO1xuICBjb25zdCB4RGlzdGFuY2VGcm9tRmFjZSA9IGFhYmIucmFuZ2VYIC8gMiAtIE1hdGguYWJzKHRtcFZlYzFbMF0pO1xuICBjb25zdCB5RGlzdGFuY2VGcm9tRmFjZSA9IGFhYmIucmFuZ2VZIC8gMiAtIE1hdGguYWJzKHRtcFZlYzFbMV0pO1xuICBjb25zdCB6RGlzdGFuY2VGcm9tRmFjZSA9IGFhYmIucmFuZ2VaIC8gMiAtIE1hdGguYWJzKHRtcFZlYzFbMl0pO1xuICAvLyBBc3N1bWUgdGhhdCB0aGUgcG9pbnQgaXMgY29udGFjdGluZyB3aGljaGV2ZXIgZmFjZSBpdCdzIGNsb3Nlc3QgdG8uXG4gIGlmICh4RGlzdGFuY2VGcm9tRmFjZSA8PSB5RGlzdGFuY2VGcm9tRmFjZSkge1xuICAgIGlmICh4RGlzdGFuY2VGcm9tRmFjZSA8PSB6RGlzdGFuY2VGcm9tRmFjZSkge1xuICAgICAgY29udGFjdE5vcm1hbFswXSA9IHRtcFZlYzFbMF0gPiAwID8gMSA6IC0xO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb250YWN0Tm9ybWFsWzJdID0gdG1wVmVjMVsyXSA+IDAgPyAxIDogLTE7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmICh5RGlzdGFuY2VGcm9tRmFjZSA8PSB6RGlzdGFuY2VGcm9tRmFjZSkge1xuICAgICAgY29udGFjdE5vcm1hbFsxXSA9IHRtcFZlYzFbMV0gPiAwID8gMSA6IC0xO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb250YWN0Tm9ybWFsWzJdID0gdG1wVmVjMVsyXSA+IDAgPyAxIDogLTE7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB7XG4gIGFhYmJWc1BvaW50LFxuICBhYWJiVnNTcGhlcmUsXG4gIGFhYmJWc0FhYmIsXG4gIGFhYmJWc09iYixcbiAgYWFiYlZzQ2Fwc3VsZSxcbiAgZmluZEFhYmJOb3JtYWxGcm9tQ29udGFjdFBvaW50LFxufTtcbiIsIi8qKlxuICogVGhpcyBtb2R1bGUgZGVmaW5lcyB1dGlsaXR5IG1ldGhvZHMgZm9yIGNhbGN1bGF0aW5nIGEgY29udGFjdCBwb2ludCBiZXR3ZWVuIGNhcHN1bGVzIGFuZCBvdGhlciBcbiAqIHNoYXBlcy5cbiAqXG4gKiAtIEVhY2ggb2YgdGhlc2UgZnVuY3Rpb25zIGFzc3VtZXMgdGhhdCB0aGUgb2JqZWN0cyBhcmUgYWN0dWFsbHkgY29sbGlkaW5nLlxuICogLSBUaGUgcmVzdWx0aW5nIGNvbnRhY3QgcG9pbnQgbWF5IGJlIGFueXdoZXJlIHdpdGhpbiB0aGUgaW50ZXJzZWN0aW9uIG9mIHRoZSB0d28gb2JqZWN0cy5cbiAqL1xuXG5pbXBvcnQge1xuICBmaW5kQ2xvc2VzdFBvaW50RnJvbUFhYmJUb1BvaW50LFxuICBmaW5kQ2xvc2VzdFBvaW50T25TZWdtZW50VG9Qb2ludCxcbiAgZmluZENsb3Nlc3RQb2ludHNGcm9tU2VnbWVudFRvU2VnbWVudCxcbiAgdG1wVmVjMSxcbiAgdG1wVmVjMlxufSBmcm9tICcuLi8uLi8uLi91dGlsJztcbmltcG9ydCAqIGFzIG9iYkNvbnRhY3RDYWxjdWxhdGlvbiBmcm9tICcuL29iYi1jb250YWN0LWNhbGN1bGF0aW9uJztcblxuLyoqXG4gKiBAcGFyYW0ge3ZlYzN9IGNvbnRhY3RQb2ludCBPdXRwdXQgcGFyYW0uXG4gKiBAcGFyYW0ge3ZlYzN9IGNvbnRhY3ROb3JtYWwgT3V0cHV0IHBhcmFtLlxuICogQHBhcmFtIHtDYXBzdWxlfSBjYXBzdWxlXG4gKiBAcGFyYW0ge3ZlYzN9IHBvaW50XG4gKi9cbmZ1bmN0aW9uIGNhcHN1bGVWc1BvaW50KGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgY2Fwc3VsZSwgcG9pbnQpIHtcbiAgdmVjMy5jb3B5KGNvbnRhY3RQb2ludCwgcG9pbnQpO1xuICBmaW5kQ2xvc2VzdFBvaW50T25TZWdtZW50VG9Qb2ludChjb250YWN0Tm9ybWFsLCBjYXBzdWxlLnNlZ21lbnQsIHBvaW50KTtcbiAgdmVjMy5zdWJ0cmFjdChjb250YWN0Tm9ybWFsLCBjb250YWN0UG9pbnQsIGNvbnRhY3ROb3JtYWwpO1xuICB2ZWMzLm5vcm1hbGl6ZShjb250YWN0Tm9ybWFsLCBjb250YWN0Tm9ybWFsKTtcbn1cblxuLyoqXG4gKiBGaW5kcyB0aGUgY2xvc2VzdCBwb2ludCBvbiB0aGUgc3VyZmFjZSBvZiB0aGUgY2Fwc3VsZSB0byB0aGUgc3BoZXJlIGNlbnRlci5cbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IGNvbnRhY3RQb2ludCBPdXRwdXQgcGFyYW0uXG4gKiBAcGFyYW0ge3ZlYzN9IGNvbnRhY3ROb3JtYWwgT3V0cHV0IHBhcmFtLlxuICogQHBhcmFtIHtDYXBzdWxlfSBjYXBzdWxlXG4gKiBAcGFyYW0ge1NwaGVyZX0gc3BoZXJlXG4gKi9cbmZ1bmN0aW9uIGNhcHN1bGVWc1NwaGVyZShjb250YWN0UG9pbnQsIGNvbnRhY3ROb3JtYWwsIGNhcHN1bGUsIHNwaGVyZSkge1xuICBjb25zdCBzcGhlcmVDZW50ZXIgPSBzcGhlcmUuY2VudGVyT2ZWb2x1bWU7XG4gIGZpbmRDbG9zZXN0UG9pbnRPblNlZ21lbnRUb1BvaW50KGNvbnRhY3RQb2ludCwgY2Fwc3VsZS5zZWdtZW50LCBzcGhlcmVDZW50ZXIpO1xuICB2ZWMzLnN1YnRyYWN0KGNvbnRhY3ROb3JtYWwsIHNwaGVyZUNlbnRlciwgY29udGFjdFBvaW50KTtcbiAgdmVjMy5ub3JtYWxpemUoY29udGFjdE5vcm1hbCwgY29udGFjdE5vcm1hbCk7XG4gIHZlYzMuc2NhbGVBbmRBZGQoY29udGFjdFBvaW50LCBjb250YWN0UG9pbnQsIGNvbnRhY3ROb3JtYWwsIGNhcHN1bGUucmFkaXVzKTtcbn1cblxuLyoqXG4gKiBGaW5kcyB0aGUgY2xvc2VzdCBwb2ludCBvbiB0aGUgc3VyZmFjZSBvZiB0aGUgY2Fwc3VsZSB0byB0aGUgQUFCQi5cbiAqXG4gKiBOT1RFOiBUaGlzIGltcGxlbWVudGF0aW9uIGNoZWF0cyBieSBjaGVja2luZyB3aGV0aGVyIHZlcnRpY2VzIGZyb20gb25lIHNoYXBlIGxpZSB3aXRoaW4gdGhlXG4gKiBvdGhlci4gRHVlIHRvIHRoZSB0dW5uZWxsaW5nIHByb2JsZW0sIGl0IGlzIHBvc3NpYmxlIHRoYXQgaW50ZXJzZWN0aW9uIG9jY3VycyB3aXRob3V0IGFueVxuICogdmVydGljZXMgbHlpbmcgd2l0aGluIHRoZSBvdGhlciBzaGFwZS4gSG93ZXZlciwgKEEpIHRoaXMgaXMgdW5saWtlbHksIGFuZCAoQikgd2UgYXJlIGlnbm9yaW5nIHRoZVxuICogdHVubmVsbGluZyBwcm9ibGVtIGZvciB0aGUgcmVzdCBvZiB0aGlzIGNvbGxpc2lvbiBzeXN0ZW0gYW55d2F5LlxuICpcbiAqIEBwYXJhbSB7dmVjM30gY29udGFjdFBvaW50IE91dHB1dCBwYXJhbS5cbiAqIEBwYXJhbSB7dmVjM30gY29udGFjdE5vcm1hbCBPdXRwdXQgcGFyYW0uXG4gKiBAcGFyYW0ge0NhcHN1bGV9IGNhcHN1bGVcbiAqIEBwYXJhbSB7QWFiYn0gYWFiYlxuICovXG5mdW5jdGlvbiBjYXBzdWxlVnNBYWJiKGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgY2Fwc3VsZSwgYWFiYikge1xuICAvLyB0bXBWZWMxIHJlcHJlc2VudHMgdGhlIGNsb3Nlc3QgcG9pbnQgb24gdGhlIGNhcHN1bGUgdG8gdGhlIEFBQkIuIHRtcFZlYzJcbiAgLy8gcmVwcmVzZW50cyB0aGUgY2xvc2VzdCBwb2ludCBvbiB0aGUgQUFCQiB0byB0aGUgY2Fwc3VsZS5cblxuICAvL1xuICAvLyBDaGVjayB3aGV0aGVyIHRoZSB0d28gY2Fwc3VsZSBlbmRzIGludGVyc2VjdCB0aGUgQUFCQiAoc3BoZXJlIHZzIEFBQkIpIChhZGRyZXNzZXMgdGhlXG4gIC8vIGNhcHN1bGUtdnMtQUFCQi1mYWNlIGNhc2UpLlxuICAvL1xuXG4gIGNvbnN0IHNxdWFyZWRSYWRpdXMgPSBjYXBzdWxlLnJhZGl1cyAqIGNhcHN1bGUucmFkaXVzO1xuICBsZXQgZG9lc0FhYmJJbnRlcnNlY3RBbkVuZFBvaW50ID0gZmFsc2U7XG5cbiAgbGV0IGVuZFBvaW50ID0gY2Fwc3VsZS5zZWdtZW50LnN0YXJ0O1xuICBmaW5kQ2xvc2VzdFBvaW50RnJvbUFhYmJUb1BvaW50KHRtcFZlYzIsIGFhYmIsIGVuZFBvaW50KTtcbiAgaWYgKHZlYzMuc3F1YXJlZERpc3RhbmNlKHRtcFZlYzIsIGVuZFBvaW50KSA8PSBzcXVhcmVkUmFkaXVzKSB7XG4gICAgZG9lc0FhYmJJbnRlcnNlY3RBbkVuZFBvaW50ID0gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICBlbmRQb2ludCA9IGNhcHN1bGUuc2VnbWVudC5lbmQ7XG4gICAgZmluZENsb3Nlc3RQb2ludEZyb21BYWJiVG9Qb2ludCh0bXBWZWMyLCBhYWJiLCBlbmRQb2ludCk7XG4gICAgaWYgKHZlYzMuc3F1YXJlZERpc3RhbmNlKHRtcFZlYzIsIGVuZFBvaW50KSA8PSBzcXVhcmVkUmFkaXVzKSB7XG4gICAgICBkb2VzQWFiYkludGVyc2VjdEFuRW5kUG9pbnQgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIGlmICghZG9lc0FhYmJJbnRlcnNlY3RBbkVuZFBvaW50KSB7XG4gICAgLy9cbiAgICAvLyBDaGVjayB3aGV0aGVyIHRoZSBjYXBzdWxlIGludGVyc2VjdHMgd2l0aCBhbnkgQUFCQiBlZGdlIChhZGRyZXNzZXMgdGhlIGNhcHN1bGUtdnMtQUFCQi1lZGdlXG4gICAgLy8gY2FzZSkuXG4gICAgLy9cbiAgICBhYWJiLnNvbWVFZGdlKGVkZ2UgPT4ge1xuICAgICAgZmluZENsb3Nlc3RQb2ludHNGcm9tU2VnbWVudFRvU2VnbWVudCh0bXBWZWMxLCB0bXBWZWMyLFxuICAgICAgICAgIGNhcHN1bGUuc2VnbWVudCwgZWRnZSk7XG4gICAgICBjb25zdCBkaXN0YW5jZSA9IHZlYzMuc3F1YXJlZERpc3RhbmNlKHRtcFZlYzEsIHRtcFZlYzIpO1xuICAgICAgcmV0dXJuIGRpc3RhbmNlIDw9IHNxdWFyZWRSYWRpdXM7XG4gICAgfSk7XG4gIH1cblxuICAvLyAoVGhlIGNhcHN1bGUtdnMtQUFCQi12ZXJ0ZXggY2FzZSBpcyBjb3ZlcmVkIGJ5IHRoZSBjYXBzdWxlLXZzLUFBQkItZWRnZSBjYXNlKS5cblxuICBmaW5kQ2xvc2VzdFBvaW50T25TZWdtZW50VG9Qb2ludCh0bXBWZWMxLCBjYXBzdWxlLnNlZ21lbnQsIHRtcFZlYzIpO1xuICB2ZWMzLnN1YnRyYWN0KGNvbnRhY3ROb3JtYWwsIHRtcFZlYzIsIHRtcFZlYzEpO1xuICB2ZWMzLm5vcm1hbGl6ZShjb250YWN0Tm9ybWFsLCBjb250YWN0Tm9ybWFsKTtcbiAgdmVjMy5zY2FsZUFuZEFkZChjb250YWN0UG9pbnQsIHRtcFZlYzEsIGNvbnRhY3ROb3JtYWwsIGNhcHN1bGUucmFkaXVzKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3ZlYzN9IGNvbnRhY3RQb2ludCBPdXRwdXQgcGFyYW0uXG4gKiBAcGFyYW0ge3ZlYzN9IGNvbnRhY3ROb3JtYWwgT3V0cHV0IHBhcmFtLlxuICogQHBhcmFtIHtDYXBzdWxlfSBjYXBzdWxlXG4gKiBAcGFyYW0ge09iYn0gb2JiXG4gKi9cbmZ1bmN0aW9uIGNhcHN1bGVWc09iYihjb250YWN0UG9pbnQsIGNvbnRhY3ROb3JtYWwsIGNhcHN1bGUsIG9iYikge1xuICBvYmJDb250YWN0Q2FsY3VsYXRpb24ub2JiVnNDYXBzdWxlKGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgb2JiLCBjYXBzdWxlKTtcbiAgdmVjMy5uZWdhdGUoY29udGFjdE5vcm1hbCwgY29udGFjdE5vcm1hbCk7XG59XG5cbi8qKlxuICogRmluZHMgdGhlIGNsb3Nlc3QgcG9pbnQgb24gdGhlIHN1cmZhY2Ugb2YgY2Fwc3VsZSBBIHRvIGNhcHN1bGUgQi5cbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IGNvbnRhY3RQb2ludCBPdXRwdXQgcGFyYW0uXG4gKiBAcGFyYW0ge3ZlYzN9IGNvbnRhY3ROb3JtYWwgT3V0cHV0IHBhcmFtLlxuICogQHBhcmFtIHtDYXBzdWxlfSBjYXBzdWxlQVxuICogQHBhcmFtIHtDYXBzdWxlfSBjYXBzdWxlQlxuICovXG5mdW5jdGlvbiBjYXBzdWxlVnNDYXBzdWxlKGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgY2Fwc3VsZUEsIGNhcHN1bGVCKSB7XG4gIGZpbmRDbG9zZXN0UG9pbnRzRnJvbVNlZ21lbnRUb1NlZ21lbnQodG1wVmVjMSwgdG1wVmVjMixcbiAgICAgIGNhcHN1bGVBLnNlZ21lbnQsIGNhcHN1bGVCLnNlZ21lbnQpO1xuICB2ZWMzLnN1YnRyYWN0KGNvbnRhY3ROb3JtYWwsIHRtcFZlYzIsIHRtcFZlYzEpO1xuICB2ZWMzLm5vcm1hbGl6ZShjb250YWN0Tm9ybWFsLCBjb250YWN0Tm9ybWFsKTtcbiAgdmVjMy5zY2FsZUFuZEFkZChjb250YWN0UG9pbnQsIHRtcFZlYzEsIGNvbnRhY3ROb3JtYWwsIGNhcHN1bGVBLnJhZGl1cyk7XG59XG5cbmV4cG9ydCB7XG4gIGNhcHN1bGVWc1BvaW50LFxuICBjYXBzdWxlVnNTcGhlcmUsXG4gIGNhcHN1bGVWc0FhYmIsXG4gIGNhcHN1bGVWc09iYixcbiAgY2Fwc3VsZVZzQ2Fwc3VsZSxcbn07XG4iLCIvKipcbiAqIFRoaXMgbW9kdWxlIGRlZmluZXMgdXRpbGl0eSBtZXRob2RzIGZvciBjYWxjdWxhdGluZyBhIGNvbnRhY3QgcG9pbnQgYmV0d2VlbiBvcmllbnRlZCBib3VuZGluZ1xuICogYm94ZXMgYW5kIG90aGVyIHNoYXBlcy5cbiAqXG4gKiAtIEVhY2ggb2YgdGhlc2UgZnVuY3Rpb25zIGFzc3VtZXMgdGhhdCB0aGUgb2JqZWN0cyBhcmUgYWN0dWFsbHkgY29sbGlkaW5nLlxuICogLSBUaGUgcmVzdWx0aW5nIGNvbnRhY3QgcG9pbnQgbWF5IGJlIGFueXdoZXJlIHdpdGhpbiB0aGUgaW50ZXJzZWN0aW9uIG9mIHRoZSB0d28gb2JqZWN0cy5cbiAqL1xuXG5pbXBvcnQge1xuICBmaW5kUG9pQmV0d2VlblNlZ21lbnRBbmRQbGFuZVJlZ2lvbixcbiAgZmluZENsb3Nlc3RQb2ludEZyb21PYmJUb1BvaW50LFxuICBmaW5kU3F1YXJlZERpc3RhbmNlQmV0d2VlblNlZ21lbnRzLFxuICBmaW5kQ2xvc2VzdFBvaW50c0Zyb21TZWdtZW50VG9TZWdtZW50LFxuICB0bXBWZWMxXG59IGZyb20gJy4uLy4uLy4uL3V0aWwnO1xuaW1wb3J0IHthYWJiQ29sbGlzaW9uRGV0ZWN0aW9uLCBvYmJDb2xsaXNpb25EZXRlY3Rpb259IGZyb20gJy4uLy4uL2NvbGxpc2lvbi1kZXRlY3Rpb24nO1xuaW1wb3J0IHtMaW5lU2VnbWVudH0gZnJvbSAnLi4vLi4vY29sbGlkYWJsZXMnO1xuaW1wb3J0ICogYXMgYWFiYkNvbnRhY3RDYWxjdWxhdGlvbiBmcm9tICcuL2FhYmItY29udGFjdC1jYWxjdWxhdGlvbic7XG5cbi8vIFRPRE86IFRoZXJlIGFyZSBtb3JlIGVmZmljaWVudCAoYnV0IGZhciBtb3JlIGNvbXBsaWNhdGVkKSBhbGdvcml0aG1zIGZvciBmaW5kaW5nIHRoZSBwb2ludCBvZlxuLy8gaW50ZXJzZWN0aW9uIHdpdGggT0JCcy4gUG9ydCBvdmVyIHNvbWUgb3RoZXIgcHJlLWV4aXN0aW5nIHNvbHV0aW9ucyBmb3IgdGhlc2UuXG5cbi8qKlxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0UG9pbnQgT3V0cHV0IHBhcmFtLlxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0Tm9ybWFsIE91dHB1dCBwYXJhbS5cbiAqIEBwYXJhbSB7T2JifSBvYmJcbiAqIEBwYXJhbSB7dmVjM30gcG9pbnRcbiAqL1xuZnVuY3Rpb24gb2JiVnNQb2ludChjb250YWN0UG9pbnQsIGNvbnRhY3ROb3JtYWwsIG9iYiwgcG9pbnQpIHtcbiAgdmVjMy5jb3B5KGNvbnRhY3RQb2ludCwgcG9pbnQpO1xuICBmaW5kT2JiTm9ybWFsRnJvbUNvbnRhY3RQb2ludChjb250YWN0Tm9ybWFsLCBjb250YWN0UG9pbnQsIG9iYik7XG59XG5cbi8qKlxuICogRmluZHMgdGhlIGNsb3Nlc3QgcG9pbnQgYW55d2hlcmUgaW5zaWRlIHRoZSBPQkIgdG8gdGhlIGNlbnRlciBvZiB0aGUgc3BoZXJlLlxuICpcbiAqIEBwYXJhbSB7dmVjM30gY29udGFjdFBvaW50IE91dHB1dCBwYXJhbS5cbiAqIEBwYXJhbSB7dmVjM30gY29udGFjdE5vcm1hbCBPdXRwdXQgcGFyYW0uXG4gKiBAcGFyYW0ge09iYn0gb2JiXG4gKiBAcGFyYW0ge1NwaGVyZX0gc3BoZXJlXG4gKi9cbmZ1bmN0aW9uIG9iYlZzU3BoZXJlKGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgb2JiLCBzcGhlcmUpIHtcbiAgZmluZENsb3Nlc3RQb2ludEZyb21PYmJUb1BvaW50KGNvbnRhY3RQb2ludCwgb2JiLCBzcGhlcmUuY2VudGVyT2ZWb2x1bWUpO1xuICB2ZWMzLnN1YnRyYWN0KGNvbnRhY3ROb3JtYWwsIHNwaGVyZS5jZW50ZXJPZlZvbHVtZSwgY29udGFjdFBvaW50KTtcbiAgdmVjMy5ub3JtYWxpemUoY29udGFjdE5vcm1hbCwgY29udGFjdE5vcm1hbCk7XG59XG5cbi8qKlxuICogTk9URTogVGhpcyBpbXBsZW1lbnRhdGlvbiBjaGVhdHMgYnkgY2hlY2tpbmcgd2hldGhlciB2ZXJ0aWNlcyBmcm9tIG9uZSBzaGFwZSBsaWUgd2l0aGluIHRoZVxuICogb3RoZXIuIER1ZSB0byB0aGUgdHVubmVsbGluZyBwcm9ibGVtLCBpdCBpcyBwb3NzaWJsZSB0aGF0IGludGVyc2VjdGlvbiBvY2N1cnMgd2l0aG91dCBhbnlcbiAqIHZlcnRpY2VzIGx5aW5nIHdpdGhpbiB0aGUgb3RoZXIgc2hhcGUuIEhvd2V2ZXIsIChBKSB0aGlzIGlzIHVubGlrZWx5LCBhbmQgKEIpIHdlIGFyZSBpZ25vcmluZyB0aGVcbiAqIHR1bm5lbGxpbmcgcHJvYmxlbSBmb3IgdGhlIHJlc3Qgb2YgdGhpcyBjb2xsaXNpb24gc3lzdGVtIGFueXdheS5cbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IGNvbnRhY3RQb2ludCBPdXRwdXQgcGFyYW0uXG4gKiBAcGFyYW0ge3ZlYzN9IGNvbnRhY3ROb3JtYWwgT3V0cHV0IHBhcmFtLlxuICogQHBhcmFtIHtPYmJ9IG9iYlxuICogQHBhcmFtIHtBYWJifSBhYWJiXG4gKi9cbmZ1bmN0aW9uIG9iYlZzQWFiYihjb250YWN0UG9pbnQsIGNvbnRhY3ROb3JtYWwsIG9iYiwgYWFiYikge1xuICByZXR1cm4gX29iYlZzQm94SGVscGVyKGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgb2JiLCBhYWJiLCBhYWJiQ29sbGlzaW9uRGV0ZWN0aW9uLmFhYmJWc1BvaW50LFxuICAgICAgYWFiYkNvbnRhY3RDYWxjdWxhdGlvbi5maW5kQWFiYk5vcm1hbEZyb21Db250YWN0UG9pbnQpO1xufVxuXG4vKipcbiAqIE5PVEU6IFRoaXMgaW1wbGVtZW50YXRpb24gY2hlYXRzIGJ5IGNoZWNraW5nIHdoZXRoZXIgdmVydGljZXMgZnJvbSBvbmUgc2hhcGUgbGllIHdpdGhpbiB0aGVcbiAqIG90aGVyLiBEdWUgdG8gdGhlIHR1bm5lbGxpbmcgcHJvYmxlbSwgaXQgaXMgcG9zc2libGUgdGhhdCBpbnRlcnNlY3Rpb24gb2NjdXJzIHdpdGhvdXQgYW55XG4gKiB2ZXJ0aWNlcyBseWluZyB3aXRoaW4gdGhlIG90aGVyIHNoYXBlLiBIb3dldmVyLCAoQSkgdGhpcyBpcyB1bmxpa2VseSwgYW5kIChCKSB3ZSBhcmUgaWdub3JpbmcgdGhlXG4gKiB0dW5uZWxsaW5nIHByb2JsZW0gZm9yIHRoZSByZXN0IG9mIHRoaXMgY29sbGlzaW9uIHN5c3RlbSBhbnl3YXkuXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0UG9pbnQgT3V0cHV0IHBhcmFtLlxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0Tm9ybWFsIE91dHB1dCBwYXJhbS5cbiAqIEBwYXJhbSB7T2JifSBvYmJBXG4gKiBAcGFyYW0ge09iYn0gb2JiQlxuICovXG5mdW5jdGlvbiBvYmJWc09iYihjb250YWN0UG9pbnQsIGNvbnRhY3ROb3JtYWwsIG9iYkEsIG9iYkIpIHtcbiAgcmV0dXJuIF9vYmJWc0JveEhlbHBlcihjb250YWN0UG9pbnQsIGNvbnRhY3ROb3JtYWwsIG9iYkEsIG9iYkIsIG9iYkNvbGxpc2lvbkRldGVjdGlvbi5vYmJWc1BvaW50LFxuICAgICAgZmluZE9iYk5vcm1hbEZyb21Db250YWN0UG9pbnQpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7dmVjM30gY29udGFjdFBvaW50IE91dHB1dCBwYXJhbS5cbiAqIEBwYXJhbSB7dmVjM30gY29udGFjdE5vcm1hbCBPdXRwdXQgcGFyYW0uXG4gKiBAcGFyYW0ge09iYn0gb2JiXG4gKiBAcGFyYW0ge09iYnxBYWJifSBvdGhlclxuICogQHBhcmFtIHtGdW5jdGlvbn0gb3RoZXJWc1BvaW50Q29sbGlzaW9uRGV0ZWN0aW9uQ2FsbGJhY2tcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZpbmRPdGhlck5vcm1hbEZyb21Db250YWN0UG9pbnRcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIF9vYmJWc0JveEhlbHBlcihjb250YWN0UG9pbnQsIGNvbnRhY3ROb3JtYWwsIG9iYiwgb3RoZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgb3RoZXJWc1BvaW50Q29sbGlzaW9uRGV0ZWN0aW9uQ2FsbGJhY2ssXG4gICAgICAgICAgICAgICAgICAgICAgICAgZmluZE90aGVyTm9ybWFsRnJvbUNvbnRhY3RQb2ludCkge1xuICAvLyBDaGVjayB3aGV0aGVyIGFueSB2ZXJ0aWNlcyBmcm9tIEEgbGllIHdpdGhpbiBCJ3MgYm91bmRzLlxuICBpZiAob2JiLnNvbWVWZXJ0ZXgodmVydGV4ID0+IG90aGVyVnNQb2ludENvbGxpc2lvbkRldGVjdGlvbkNhbGxiYWNrKG90aGVyLCB2ZXJ0ZXgpLFxuICAgICAgICAgIGNvbnRhY3RQb2ludCkpIHtcbiAgICBmaW5kT3RoZXJOb3JtYWxGcm9tQ29udGFjdFBvaW50KGNvbnRhY3ROb3JtYWwsIGNvbnRhY3RQb2ludCwgb3RoZXIpO1xuICAgIHZlYzMubmVnYXRlKGNvbnRhY3ROb3JtYWwsIGNvbnRhY3ROb3JtYWwpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIENoZWNrIHdoZXRoZXIgYW55IHZlcnRpY2VzIGZyb20gQiBsaWUgd2l0aGluIEEncyBib3VuZHMuXG4gIGlmIChvdGhlci5zb21lVmVydGV4KHZlcnRleCA9PiBvYmJDb2xsaXNpb25EZXRlY3Rpb24ub2JiVnNQb2ludChvYmIsIHZlcnRleCksIGNvbnRhY3RQb2ludCkpIHtcbiAgICBmaW5kT2JiTm9ybWFsRnJvbUNvbnRhY3RQb2ludChjb250YWN0Tm9ybWFsLCBjb250YWN0UG9pbnQsIG9iYik7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gV2UgYXNzdW1lIHRoYXQgYSB2ZXJ0ZXgtdG8tZmFjZSBjb2xsaXNpb24gd291bGQgaGF2ZSBiZWVuIGRldGVjdGVkIGJ5IG9uZSBvZiB0aGUgdHdvIGFib3ZlXG4gIC8vIGNoZWNrcy4gQW55IGVkZ2UtdG8tZWRnZSBjb2xsaXNpb24gbXVzdCBpbnZvbHZlIGJvdGggYW4gZWRnZSBmcm9tIEEgdGhyb3VnaCBhIGZhY2Ugb2YgQiBhbmRcbiAgLy8gdmljZSB2ZXJzYS4gU28gaXQgaXMgc3VmZmljaWVudCB0byBvbmx5IGNoZWNrIHRoZSBlZGdlcyBvZiBvbmUgYW5kIHRoZSBmYWNlcyBvZiB0aGUgb3RoZXIuXG4gIG90aGVyLnNvbWVFZGdlKGVkZ2UgPT5cbiAgICAgIG9iYi5zb21lRmFjZShmYWNlID0+IGZpbmRQb2lCZXR3ZWVuU2VnbWVudEFuZFBsYW5lUmVnaW9uKGNvbnRhY3RQb2ludCwgZWRnZSwgLi4uZmFjZSkpKTtcbiAgZmluZE9iYk5vcm1hbEZyb21Db250YWN0UG9pbnQoY29udGFjdE5vcm1hbCwgY29udGFjdFBvaW50LCBvYmIpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7dmVjM30gY29udGFjdFBvaW50IE91dHB1dCBwYXJhbS5cbiAqIEBwYXJhbSB7dmVjM30gY29udGFjdE5vcm1hbCBPdXRwdXQgcGFyYW0uXG4gKiBAcGFyYW0ge09iYn0gb2JiXG4gKiBAcGFyYW0ge0NhcHN1bGV9IGNhcHN1bGVcbiAqL1xuZnVuY3Rpb24gb2JiVnNDYXBzdWxlKGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgb2JiLCBjYXBzdWxlKSB7XG4gIC8vIHRtcFZlYzEgaXMgdGhlIHBvaW50IG9uIHRoZSBjYXBzdWxlIHNlZ21lbnQgdGhhdCBpcyBjbG9zZXN0IHRvIHRoZSBPQkIuXG5cbiAgLy9cbiAgLy8gQ2hlY2sgdGhlIGVkZ2VzLlxuICAvL1xuXG4gIGNvbnN0IHNlZ21lbnQgPSBuZXcgTGluZVNlZ21lbnQodmVjMy5jcmVhdGUoKSwgdmVjMy5jcmVhdGUoKSk7XG4gIGNvbnN0IHNxdWFyZWRSYWRpdXMgPSBjYXBzdWxlLnJhZGl1cyAqIGNhcHN1bGUucmFkaXVzO1xuICBjb25zdCBhcmVJbnRlcnNlY3RpbmcgPSBvYmIuc29tZUVkZ2UoZWRnZSA9PlxuICAgICAgZmluZFNxdWFyZWREaXN0YW5jZUJldHdlZW5TZWdtZW50cyhjYXBzdWxlLnNlZ21lbnQsIGVkZ2UpIDwgc3F1YXJlZFJhZGl1cywgc2VnbWVudCk7XG5cbiAgaWYgKGFyZUludGVyc2VjdGluZykge1xuICAgIGZpbmRDbG9zZXN0UG9pbnRzRnJvbVNlZ21lbnRUb1NlZ21lbnQodG1wVmVjMSwgY29udGFjdFBvaW50LCBjYXBzdWxlLnNlZ21lbnQsIHNlZ21lbnQpO1xuICAgIHZlYzMuc3VidHJhY3QoY29udGFjdE5vcm1hbCwgdG1wVmVjMSwgY29udGFjdFBvaW50KTtcbiAgICB2ZWMzLm5vcm1hbGl6ZShjb250YWN0Tm9ybWFsLCBjb250YWN0Tm9ybWFsKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvL1xuICAvLyBDaGVjayB0aGUgZmFjZXMuXG4gIC8vXG5cbiAgb2JiLnNvbWVQdXNoZWRPdXRGYWNlKGZhY2UgPT5cbiAgICAgIGZpbmRQb2lCZXR3ZWVuU2VnbWVudEFuZFBsYW5lUmVnaW9uKHRtcFZlYzEsIGNhcHN1bGUuc2VnbWVudCwgLi4uZmFjZSksIGNhcHN1bGUucmFkaXVzKTtcblxuICBmaW5kT2JiTm9ybWFsRnJvbUNvbnRhY3RQb2ludChjb250YWN0Tm9ybWFsLCB0bXBWZWMxLCBvYmIpO1xuXG4gIC8vIE5PVEU6IFRoaXMgYXNzdW1lcyB0aGF0IHRoZSBhbmdsZSBiZXR3ZWVuIHRoZSBjYXBzdWxlIHNlZ21lbnQgYW5kIHRoZSBmYWNlIHBsYW5lIGlzIG5vdCBvYmxpcXVlXG4gIC8vIGFuZCB0aGF0IHRoZSBkZXB0aCBvZiBwZW5ldHJhdGlvbiBpcyBzaGFsbG93LiBXaGVuIGJvdGggb2YgdGhlc2UgY29uZGl0aW9ucyBhcmUgbm90IHRydWUsIHRoZVxuICAvLyBjb250YWN0IHBvaW50IHdpbGwgYmUgb2Zmc2V0IGZyb20gdGhlIGludGVyc2VjdGlvbiBwb2ludCBvbiB0aGUgcHVzaGVkLW91dCBmYWNlLlxuICB2ZWMzLnNjYWxlQW5kQWRkKGNvbnRhY3RQb2ludCwgdG1wVmVjMSwgY29udGFjdE5vcm1hbCwgLWNhcHN1bGUucmFkaXVzKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3ZlYzN9IGNvbnRhY3ROb3JtYWwgT3V0cHV0IHBhcmFtLlxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0UG9pbnRcbiAqIEBwYXJhbSB7T2JifSBvYmJcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGZpbmRPYmJOb3JtYWxGcm9tQ29udGFjdFBvaW50KGNvbnRhY3ROb3JtYWwsIGNvbnRhY3RQb2ludCwgb2JiKSB7XG4gIC8vIENhbGN1bGF0ZSB0aGUgZGlzcGxhY2VtZW50IGFsb25nIGVhY2ggYXhpcy5cbiAgY29uc3QgcHJvamVjdGlvbnMgPSBbXTtcbiAgdmVjMy5zdWJ0cmFjdCh0bXBWZWMxLCBjb250YWN0UG9pbnQsIG9iYi5jZW50ZXJPZlZvbHVtZSk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSsrKSB7XG4gICAgcHJvamVjdGlvbnNbaV0gPSB2ZWMzLmRvdChvYmIuYXhlc1tpXSwgdG1wVmVjMSk7XG4gIH1cblxuICAvLyBEZXRlcm1pbmUgd2hpY2ggZmFjZSB0aGUgbm9ybWFsIGlzIHBvaW50aW5nIGF3YXkgZnJvbS5cbiAgdmVjMy5zZXQoY29udGFjdE5vcm1hbCwgMCwgMCwgMCk7XG4gIGNvbnN0IHhEaXN0YW5jZUZyb21GYWNlID0gb2JiLmhhbGZTaWRlTGVuZ3Roc1swXSAtIE1hdGguYWJzKHByb2plY3Rpb25zWzBdKTtcbiAgY29uc3QgeURpc3RhbmNlRnJvbUZhY2UgPSBvYmIuaGFsZlNpZGVMZW5ndGhzWzFdIC0gTWF0aC5hYnMocHJvamVjdGlvbnNbMV0pO1xuICBjb25zdCB6RGlzdGFuY2VGcm9tRmFjZSA9IG9iYi5oYWxmU2lkZUxlbmd0aHNbMl0gLSBNYXRoLmFicyhwcm9qZWN0aW9uc1syXSk7XG4gIC8vIEFzc3VtZSB0aGF0IHRoZSBwb2ludCBpcyBjb250YWN0aW5nIHdoaWNoZXZlciBmYWNlIGl0J3MgY2xvc2VzdCB0by5cbiAgaWYgKHhEaXN0YW5jZUZyb21GYWNlIDw9IHlEaXN0YW5jZUZyb21GYWNlKSB7XG4gICAgaWYgKHhEaXN0YW5jZUZyb21GYWNlIDw9IHpEaXN0YW5jZUZyb21GYWNlKSB7XG4gICAgICBjb250YWN0Tm9ybWFsWzBdID0gcHJvamVjdGlvbnNbMF0gPiAwID8gMSA6IC0xO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb250YWN0Tm9ybWFsWzJdID0gcHJvamVjdGlvbnNbMl0gPiAwID8gMSA6IC0xO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoeURpc3RhbmNlRnJvbUZhY2UgPD0gekRpc3RhbmNlRnJvbUZhY2UpIHtcbiAgICAgIGNvbnRhY3ROb3JtYWxbMV0gPSBwcm9qZWN0aW9uc1sxXSA+IDAgPyAxIDogLTE7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnRhY3ROb3JtYWxbMl0gPSBwcm9qZWN0aW9uc1syXSA+IDAgPyAxIDogLTE7XG4gICAgfVxuICB9XG5cbiAgLy8gQXBwbHkgdGhlIE9CQidzIG9yaWVudGF0aW9uIHRvIHRoZSBub3JtYWwuXG4gIHZlYzMudHJhbnNmb3JtUXVhdChjb250YWN0Tm9ybWFsLCBjb250YWN0Tm9ybWFsLCBvYmIub3JpZW50YXRpb24pO1xufVxuXG5leHBvcnQge1xuICBvYmJWc1BvaW50LFxuICBvYmJWc1NwaGVyZSxcbiAgb2JiVnNBYWJiLFxuICBvYmJWc09iYixcbiAgb2JiVnNDYXBzdWxlLFxuICBmaW5kT2JiTm9ybWFsRnJvbUNvbnRhY3RQb2ludCxcbn07XG4iLCIvKipcbiAqIFRoaXMgbW9kdWxlIGRlZmluZXMgdXRpbGl0eSBtZXRob2RzIGZvciBjYWxjdWxhdGluZyBhIGNvbnRhY3QgcG9pbnQgYmV0d2VlbiBzcGhlcmVzIGFuZCBvdGhlclxuICogc2hhcGVzLlxuICpcbiAqIC0gRWFjaCBvZiB0aGVzZSBmdW5jdGlvbnMgYXNzdW1lcyB0aGF0IHRoZSBvYmplY3RzIGFyZSBhY3R1YWxseSBjb2xsaWRpbmcuXG4gKiAtIFRoZSByZXN1bHRpbmcgY29udGFjdCBwb2ludCBtYXkgYmUgYW55d2hlcmUgd2l0aGluIHRoZSBpbnRlcnNlY3Rpb24gb2YgdGhlIHR3byBvYmplY3RzLlxuICovXG5cbmltcG9ydCB7ZmluZENsb3Nlc3RQb2ludEZyb21BYWJiU3VyZmFjZVRvUG9pbnR9IGZyb20gJy4uLy4uLy4uL3V0aWwnO1xuaW1wb3J0IHtmaW5kQWFiYk5vcm1hbEZyb21Db250YWN0UG9pbnR9IGZyb20gJy4vYWFiYi1jb250YWN0LWNhbGN1bGF0aW9uJztcbmltcG9ydCAqIGFzIG9iYkNvbnRhY3RDYWxjdWxhdGlvbiBmcm9tICcuL29iYi1jb250YWN0LWNhbGN1bGF0aW9uJztcbmltcG9ydCAqIGFzIGNhcHN1bGVDb250YWN0Q2FsY3VsYXRpb24gZnJvbSAnLi9jYXBzdWxlLWNvbnRhY3QtY2FsY3VsYXRpb24nO1xuXG4vKipcbiAqIEBwYXJhbSB7dmVjM30gY29udGFjdFBvaW50IE91dHB1dCBwYXJhbS5cbiAqIEBwYXJhbSB7dmVjM30gY29udGFjdE5vcm1hbCBPdXRwdXQgcGFyYW0uXG4gKiBAcGFyYW0ge1NwaGVyZX0gc3BoZXJlXG4gKiBAcGFyYW0ge3ZlYzN9IHBvaW50XG4gKi9cbmZ1bmN0aW9uIHNwaGVyZVZzUG9pbnQoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBzcGhlcmUsIHBvaW50KSB7XG4gIHZlYzMuY29weShjb250YWN0UG9pbnQsIHBvaW50KTtcbiAgLy8gQXNzdW1lIHRoYXQgdGhlIHBvaW50IGlzIGNvbnRhY3RpbmcgdGhlIGNsb3Nlc3QgcG9pbnQgb24gdGhlIHN1cmZhY2Ugb2YgdGhlIHNwaGVyZS5cbiAgdmVjMy5zdWJ0cmFjdChjb250YWN0Tm9ybWFsLCBwb2ludCwgc3BoZXJlLmNlbnRlck9mVm9sdW1lKTtcbiAgdmVjMy5ub3JtYWxpemUoY29udGFjdE5vcm1hbCwgY29udGFjdE5vcm1hbCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0UG9pbnQgT3V0cHV0IHBhcmFtLlxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0Tm9ybWFsIE91dHB1dCBwYXJhbS5cbiAqIEBwYXJhbSB7U3BoZXJlfSBzcGhlcmVBXG4gKiBAcGFyYW0ge1NwaGVyZX0gc3BoZXJlQlxuICovXG5mdW5jdGlvbiBzcGhlcmVWc1NwaGVyZShjb250YWN0UG9pbnQsIGNvbnRhY3ROb3JtYWwsIHNwaGVyZUEsIHNwaGVyZUIpIHtcbiAgdmVjMy5zdWJ0cmFjdChjb250YWN0Tm9ybWFsLCBzcGhlcmVCLmNlbnRlck9mVm9sdW1lLCBzcGhlcmVBLmNlbnRlck9mVm9sdW1lKTtcbiAgdmVjMy5ub3JtYWxpemUoY29udGFjdE5vcm1hbCwgY29udGFjdE5vcm1hbCk7XG4gIC8vIFRoZSBwb2ludCBvbiB0aGUgc3VyZmFjZSBvZiBzcGhlcmUgQSB0aGF0IGlzIGNsb3Nlc3QgdG8gdGhlIGNlbnRlciBvZiBzcGhlcmUgQi5cbiAgdmVjMy5zY2FsZUFuZEFkZChjb250YWN0UG9pbnQsIHNwaGVyZUEuY2VudGVyT2ZWb2x1bWUsIGNvbnRhY3ROb3JtYWwsIHNwaGVyZUEucmFkaXVzKTtcbn1cblxuLyoqXG4gKiBGaW5kcyB0aGUgY2xvc2VzdCBwb2ludCBvbiB0aGUgc3VyZmFjZSBvZiB0aGUgQUFCQiB0byB0aGUgc3BoZXJlIGNlbnRlci5cbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IGNvbnRhY3RQb2ludCBPdXRwdXQgcGFyYW0uXG4gKiBAcGFyYW0ge3ZlYzN9IGNvbnRhY3ROb3JtYWwgT3V0cHV0IHBhcmFtLlxuICogQHBhcmFtIHtTcGhlcmV9IHNwaGVyZVxuICogQHBhcmFtIHtBYWJifSBhYWJiXG4gKi9cbmZ1bmN0aW9uIHNwaGVyZVZzQWFiYihjb250YWN0UG9pbnQsIGNvbnRhY3ROb3JtYWwsIHNwaGVyZSwgYWFiYikge1xuICBmaW5kQ2xvc2VzdFBvaW50RnJvbUFhYmJTdXJmYWNlVG9Qb2ludChjb250YWN0UG9pbnQsIGFhYmIsIHNwaGVyZS5jZW50ZXJPZlZvbHVtZSk7XG4gIGZpbmRBYWJiTm9ybWFsRnJvbUNvbnRhY3RQb2ludChjb250YWN0Tm9ybWFsLCBjb250YWN0UG9pbnQsIGFhYmIpO1xuICB2ZWMzLm5lZ2F0ZShjb250YWN0Tm9ybWFsLCBjb250YWN0Tm9ybWFsKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3ZlYzN9IGNvbnRhY3RQb2ludCBPdXRwdXQgcGFyYW0uXG4gKiBAcGFyYW0ge3ZlYzN9IGNvbnRhY3ROb3JtYWwgT3V0cHV0IHBhcmFtLlxuICogQHBhcmFtIHtTcGhlcmV9IHNwaGVyZVxuICogQHBhcmFtIHtPYmJ9IG9iYlxuICovXG5mdW5jdGlvbiBzcGhlcmVWc09iYihjb250YWN0UG9pbnQsIGNvbnRhY3ROb3JtYWwsIHNwaGVyZSwgb2JiKSB7XG4gIG9iYkNvbnRhY3RDYWxjdWxhdGlvbi5vYmJWc1NwaGVyZShjb250YWN0UG9pbnQsIGNvbnRhY3ROb3JtYWwsIG9iYiwgc3BoZXJlKTtcbiAgdmVjMy5uZWdhdGUoY29udGFjdE5vcm1hbCwgY29udGFjdE5vcm1hbCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0UG9pbnQgT3V0cHV0IHBhcmFtLlxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0Tm9ybWFsIE91dHB1dCBwYXJhbS5cbiAqIEBwYXJhbSB7U3BoZXJlfSBzcGhlcmVcbiAqIEBwYXJhbSB7Q2Fwc3VsZX0gY2Fwc3VsZVxuICovXG5mdW5jdGlvbiBzcGhlcmVWc0NhcHN1bGUoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBzcGhlcmUsIGNhcHN1bGUpIHtcbiAgY2Fwc3VsZUNvbnRhY3RDYWxjdWxhdGlvbi5jYXBzdWxlVnNTcGhlcmUoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBjYXBzdWxlLCBzcGhlcmUpO1xuICB2ZWMzLm5lZ2F0ZShjb250YWN0Tm9ybWFsLCBjb250YWN0Tm9ybWFsKTtcbn1cblxuZXhwb3J0IHtcbiAgc3BoZXJlVnNQb2ludCxcbiAgc3BoZXJlVnNTcGhlcmUsXG4gIHNwaGVyZVZzQWFiYixcbiAgc3BoZXJlVnNPYmIsXG4gIHNwaGVyZVZzQ2Fwc3VsZSxcbn07XG4iLCJleHBvcnQgKiBmcm9tICcuL2NvbGxpZGFibGVzJztcbmV4cG9ydCAqIGZyb20gJy4vY29sbGlzaW9uLWRldGVjdGlvbic7XG5leHBvcnQgKiBmcm9tICcuL2NvbnRhY3QtY2FsY3VsYXRpb24nO1xuXG5leHBvcnQgKiBmcm9tICcuL3NyYy9jb2xsaWRhYmxlLWZhY3Rvcmllcyc7XG5leHBvcnQgKiBmcm9tICcuL3NyYy9jb2xsaWRhYmxlLXBoeXNpY3Mtam9iJztcbmV4cG9ydCAqIGZyb20gJy4vc3JjL2NvbGxpZGFibGUtc3RvcmUnO1xuZXhwb3J0ICogZnJvbSAnLi9zcmMvY29sbGlzaW9uLWhhbmRsZXInO1xuZXhwb3J0ICogZnJvbSAnLi9zcmMvY29sbGlzaW9uLXV0aWxzJztcbiIsIi8qKlxuICogVGhpcyBtb2R1bGUgZGVmaW5lcyBhIHNldCBvZiBmYWN0b3J5IGZ1bmN0aW9ucyBmb3IgY3JlYXRpbmcgQ29sbGlkYWJsZSBpbnN0YW5jZXMuXG4gKi9cblxuaW1wb3J0IHtcbiAgQ2Fwc3VsZSxcbiAgT2JiLFxuICBTcGhlcmVcbn0gZnJvbSAnLi4vY29sbGlkYWJsZXMnO1xuaW1wb3J0IHtfZ2VvbWV0cnl9IGZyb20gJy4uLy4uL3V0aWwnO1xuXG4vKipcbiAqIEBwYXJhbSB7Q29sbGlkYWJsZVNoYXBlQ29uZmlnfSBwYXJhbXNcbiAqIEBwYXJhbSB7Q29sbGlkYWJsZVBoeXNpY3NKb2J9IFtwaHlzaWNzSm9iXVxuICogQHJldHVybnMge0NvbGxpZGFibGV9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUNvbGxpZGFibGVGcm9tUmVuZGVyYWJsZVNoYXBlKHBhcmFtcywgcGh5c2ljc0pvYikge1xuICByZXR1cm4gX2NvbGxpZGFibGVDcmVhdG9yc1twYXJhbXMuY29sbGlkYWJsZVNoYXBlSWRdKHBhcmFtcywgcGh5c2ljc0pvYik7XG59XG5cbi8qKlxuICogVGhpcyBhc3N1bWVzIHRoZSBiYXNlIFJlbmRlcmFibGVTaGFwZSBoYXMgYSBzaWRlIGxlbmd0aCBvZiBvbmUgdW5pdC5cbiAqXG4gKiBAcGFyYW0ge0NvbGxpZGFibGVTaGFwZUNvbmZpZ30gcGFyYW1zXG4gKiBAcGFyYW0ge0NvbGxpZGFibGVQaHlzaWNzSm9ifSBbcGh5c2ljc0pvYl1cbiAqIEByZXR1cm5zIHtDb2xsaWRhYmxlfVxuICovXG5mdW5jdGlvbiBjcmVhdGVPYmJGcm9tUmVuZGVyYWJsZVNoYXBlKHBhcmFtcywgcGh5c2ljc0pvYikge1xuICBjb25zdCBoYWxmUmFuZ2VYID0gcGFyYW1zLnNjYWxlWzBdIC8gMjtcbiAgY29uc3QgaGFsZlJhbmdlWSA9IHBhcmFtcy5zY2FsZVsxXSAvIDI7XG4gIGNvbnN0IGhhbGZSYW5nZVogPSBwYXJhbXMuc2NhbGVbMl0gLyAyO1xuICByZXR1cm4gbmV3IE9iYihoYWxmUmFuZ2VYLCBoYWxmUmFuZ2VZLCBoYWxmUmFuZ2VaLCBwYXJhbXMuaXNTdGF0aW9uYXJ5LCBwaHlzaWNzSm9iKTtcbn1cblxuLyoqXG4gKiBUaGlzIGFzc3VtZXMgdGhlIGJhc2UgUmVuZGVyYWJsZVNoYXBlIGhhcyBhIFwicmFkaXVzXCIgb2Ygb25lIHVuaXQuXG4gKlxuICogQHBhcmFtIHtDb2xsaWRhYmxlU2hhcGVDb25maWd9IHBhcmFtc1xuICogQHBhcmFtIHtDb2xsaWRhYmxlUGh5c2ljc0pvYn0gW3BoeXNpY3NKb2JdXG4gKiBAcmV0dXJucyB7Q29sbGlkYWJsZX1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlU3BoZXJlRnJvbVJlbmRlcmFibGVTaGFwZShwYXJhbXMsIHBoeXNpY3NKb2IpIHtcbiAgY29uc3QgcmFkaXVzID0gcGFyYW1zLnJhZGl1cyB8fCB2ZWMzLmxlbmd0aChwYXJhbXMuc2NhbGUpIC8gTWF0aC5zcXJ0KDMpO1xuICByZXR1cm4gbmV3IFNwaGVyZSgwLCAwLCAwLCByYWRpdXMsIHBhcmFtcy5pc1N0YXRpb25hcnksIHBoeXNpY3NKb2IpO1xufVxuXG4vKipcbiAqIFRoZSByYWRpdXMgb2YgdGhlIGNyZWF0ZWQgY2Fwc3VsZSB3aWxsIGJlIGFuIGF2ZXJhZ2UgZnJvbSB0aGUgdHdvIHNob3J0ZXN0IHNpZGVzLlxuICpcbiAqIFRoZXJlIGFyZSB0d28gbW9kZXM6IGVpdGhlciB3ZSB1c2Ugc2NhbGUsIG9yIHdlIHVzZSByYWRpdXMgYW5kIGNhcHN1bGVFbmRQb2ludHNEaXN0YW5jZS5cbiAqXG4gKiBAcGFyYW0ge0NvbGxpZGFibGVTaGFwZUNvbmZpZ30gcGFyYW1zXG4gKiBAcGFyYW0ge0NvbGxpZGFibGVQaHlzaWNzSm9ifSBbcGh5c2ljc0pvYl1cbiAqIEByZXR1cm5zIHtDb2xsaWRhYmxlfVxuICovXG5mdW5jdGlvbiBjcmVhdGVDYXBzdWxlRnJvbVJlbmRlcmFibGVTaGFwZShwYXJhbXMsIHBoeXNpY3NKb2IpIHtcbiAgY29uc3Qgc2NhbGUgPSBwYXJhbXMuc2NhbGU7XG4gIGNvbnN0IGNhcHN1bGVFbmRQb2ludHNEaXN0YW5jZSA9IHBhcmFtcy5jYXBzdWxlRW5kUG9pbnRzRGlzdGFuY2U7XG4gIGNvbnN0IGlzU3RhdGlvbmFyeSA9IHBhcmFtcy5pc1N0YXRpb25hcnk7XG4gIGxldCByYWRpdXMgPSBwYXJhbXMucmFkaXVzO1xuXG4gIGxldCBoYWxmRGlzdGFuY2U7XG5cbiAgLy8gVGhlcmUgYXJlIHR3byBtb2RlczogZWl0aGVyIHdlIHVzZSBzY2FsZSwgb3Igd2UgdXNlIHJhZGl1cyBhbmQgY2Fwc3VsZUVuZFBvaW50c0Rpc3RhbmNlLlxuICBpZiAodHlwZW9mIHJhZGl1cyA9PT0gJ251bWJlcicgJiYgdHlwZW9mIGNhcHN1bGVFbmRQb2ludHNEaXN0YW5jZSA9PT0gJ251bWJlcicpIHtcbiAgICBoYWxmRGlzdGFuY2UgPSBjYXBzdWxlRW5kUG9pbnRzRGlzdGFuY2UgLyAyO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IGNvcHkgPSB2ZWMzLmNsb25lKHNjYWxlKTtcbiAgICBjb3B5LnNvcnQoKTtcblxuICAgIGNvbnN0IGxlbmd0aCA9IGNvcHlbMl07XG4gICAgcmFkaXVzID0gKGNvcHlbMF0gKyBjb3B5WzFdKSAvIDI7XG4gICAgaGFsZkRpc3RhbmNlID0gbGVuZ3RoIC8gMiAtIHJhZGl1cztcbiAgfVxuXG4gIGNvbnN0IG9yaWVudGF0aW9uID0gcXVhdC5jcmVhdGUoKTtcbiAgaWYgKHNjYWxlWzBdID4gc2NhbGVbMV0pIHtcbiAgICBpZiAoc2NhbGVbMF0gPiBzY2FsZVsyXSkge1xuICAgICAgdmVjMy5yb3RhdGVZKG9yaWVudGF0aW9uLCBvcmllbnRhdGlvbiwgX2dlb21ldHJ5LkhBTEZfUEkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBEbyBub3RoaW5nOyB0aGUgY2Fwc3VsZSBkZWZhdWx0cyB0byBiZWluZyBhbGlnbmVkIHdpdGggdGhlIHotYXhpcy5cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKHNjYWxlWzFdID4gc2NhbGVbMl0pIHtcbiAgICAgIHZlYzMucm90YXRlWChvcmllbnRhdGlvbiwgb3JpZW50YXRpb24sIC1fZ2VvbWV0cnkuSEFMRl9QSSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIERvIG5vdGhpbmc7IHRoZSBjYXBzdWxlIGRlZmF1bHRzIHRvIGJlaW5nIGFsaWduZWQgd2l0aCB0aGUgei1heGlzLlxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGNhcHN1bGUgPSBuZXcgQ2Fwc3VsZShoYWxmRGlzdGFuY2UsIHJhZGl1cywgaXNTdGF0aW9uYXJ5LCBwaHlzaWNzSm9iKTtcbiAgY2Fwc3VsZS5vcmllbnRhdGlvbiA9IG9yaWVudGF0aW9uO1xuXG4gIHJldHVybiBjYXBzdWxlO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Q29sbGlkYWJsZVNoYXBlQ29uZmlnfSBwYXJhbXNcbiAqIEBwYXJhbSB7Q29sbGlkYWJsZVBoeXNpY3NKb2J9IFtwaHlzaWNzSm9iXVxuICogQHJldHVybnMge0NvbGxpZGFibGV9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVNwaGVyZU9yQ2Fwc3VsZUZyb21SZW5kZXJhYmxlU2hhcGUocGFyYW1zLCBwaHlzaWNzSm9iKSB7XG4gIGNvbnN0IHNjYWxlID0gcGFyYW1zLnNjYWxlO1xuICBjb25zdCByYWRpdXMgPSBwYXJhbXMucmFkaXVzO1xuICBjb25zdCBjYXBzdWxlRW5kUG9pbnRzRGlzdGFuY2UgPSBwYXJhbXMuY2Fwc3VsZUVuZFBvaW50c0Rpc3RhbmNlO1xuXG4gIGNvbnN0IGhhbGZMZW5ndGhYID0gc2NhbGVbMF0gKiByYWRpdXM7XG4gIGNvbnN0IGhhbGZMZW5ndGhZID0gc2NhbGVbMV0gKiByYWRpdXM7XG4gIGNvbnN0IGhhbGZMZW5ndGhaID0gc2NhbGVbMl0gKiAocmFkaXVzICsgY2Fwc3VsZUVuZFBvaW50c0Rpc3RhbmNlKSAvIDI7XG5cbiAgY29uc3QgbWluTGVuZ3RoID0gTWF0aC5taW4oTWF0aC5taW4oaGFsZkxlbmd0aFgsIGhhbGZMZW5ndGhZKSwgaGFsZkxlbmd0aFopO1xuICBjb25zdCBtYXhMZW5ndGggPSBNYXRoLm1heChNYXRoLm1heChoYWxmTGVuZ3RoWCwgaGFsZkxlbmd0aFkpLCBoYWxmTGVuZ3RoWik7XG5cbiAgaWYgKG1heExlbmd0aCAvIG1pbkxlbmd0aCA+PSBfU1BIRVJFX1ZTX0NBUFNVTEVfQVNQRUNUX1JBVElPX1RIUkVTSE9MRCkge1xuICAgIHJldHVybiBjcmVhdGVDYXBzdWxlRnJvbVJlbmRlcmFibGVTaGFwZShwYXJhbXMsIHBoeXNpY3NKb2IpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBjcmVhdGVTcGhlcmVGcm9tUmVuZGVyYWJsZVNoYXBlKHBhcmFtcywgcGh5c2ljc0pvYik7XG4gIH1cbn1cblxuY29uc3QgX1NQSEVSRV9WU19DQVBTVUxFX0FTUEVDVF9SQVRJT19USFJFU0hPTEQgPSAyO1xuXG5jb25zdCBfY29sbGlkYWJsZUNyZWF0b3JzID0ge1xuICAnQ1VCRSc6IGNyZWF0ZU9iYkZyb21SZW5kZXJhYmxlU2hhcGUsXG4gICdTUEhFUkVfT1JfQ0FQU1VMRSc6IGNyZWF0ZVNwaGVyZU9yQ2Fwc3VsZUZyb21SZW5kZXJhYmxlU2hhcGUsXG4gICdTUEhFUkUnOiBjcmVhdGVTcGhlcmVGcm9tUmVuZGVyYWJsZVNoYXBlLFxuICAnQ0FQU1VMRSc6IGNyZWF0ZUNhcHN1bGVGcm9tUmVuZGVyYWJsZVNoYXBlLFxufTtcblxuZXhwb3J0IHtcbiAgY3JlYXRlQ2Fwc3VsZUZyb21SZW5kZXJhYmxlU2hhcGUsXG4gIGNyZWF0ZUNvbGxpZGFibGVGcm9tUmVuZGVyYWJsZVNoYXBlLFxuICBjcmVhdGVPYmJGcm9tUmVuZGVyYWJsZVNoYXBlLFxuICBjcmVhdGVTcGhlcmVGcm9tUmVuZGVyYWJsZVNoYXBlLFxuICBjcmVhdGVTcGhlcmVPckNhcHN1bGVGcm9tUmVuZGVyYWJsZVNoYXBlLFxufTtcblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBDb2xsaWRhYmxlU2hhcGVDb25maWdcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBjb2xsaWRhYmxlU2hhcGVJZCBUaGUgSUQgb2YgdGhlIHR5cGUgb2YgY29sbGlkYWJsZSBzaGFwZS5cbiAqIEBwcm9wZXJ0eSB7dmVjM30gW3NjYWxlXVxuICogQHByb3BlcnR5IHtib29sZWFufSBbaXNTdGF0aW9uYXJ5PWZhbHNlXSBXaGV0aGVyIHRoZSBjb2xsaWRhYmxlIGlzIGZpeGVkIGluIHBsYWNlLlxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge0NvbGxpZGFibGVTaGFwZUNvbmZpZ30gU3BoZXJpY2FsQ29sbGlkYWJsZVNoYXBlUGFyYW1zXG4gKiBAcHJvcGVydHkge251bWJlcn0gcmFkaXVzXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7U3BoZXJpY2FsQ29sbGlkYWJsZVNoYXBlUGFyYW1zfSBDYXBzdWxlQ29sbGlkYWJsZVNoYXBlUGFyYW1zXG4gKiBAcHJvcGVydHkge251bWJlcn0gY2Fwc3VsZUVuZFBvaW50c0Rpc3RhbmNlIFRoZSBkaXN0YW5jZSBiZXR3ZWVuIHRoZSBjZW50ZXJzIG9mIHRoZSBzcGhlcmVzIG9uIGVpdGhlciBlbmRcbiAqIG9mIHRoZSBjYXBzdWxlLlxuICovXG4iLCJpbXBvcnQge2NyZWF0ZUNvbGxpZGFibGVGcm9tUmVuZGVyYWJsZVNoYXBlfSBmcm9tICcuL2NvbGxpZGFibGUtZmFjdG9yaWVzJztcbmltcG9ydCB7Y29sbGlkYWJsZVN0b3JlfSBmcm9tICcuL2NvbGxpZGFibGUtc3RvcmUnO1xuaW1wb3J0IHtQaHlzaWNzSm9ifSBmcm9tICcuLi8uLi9zcmMvcGh5c2ljcy1qb2InO1xuaW1wb3J0IHtjcmVhdGVGb3JDb2xsaWRhYmxlfSBmcm9tICcuLi8uLi91dGlsJztcblxuLyoqXG4gKiBBIENvbGxpZGFibGVQaHlzaWNzSm9iIGV4dGVuZHMgdGhlIHN0YW5kYXJkIFBoeXNpY3NKb2Igd2l0aCBhIGNvbGxpZGFibGUgZ2VvbWV0cnkuXG4gKi9cbmNsYXNzIENvbGxpZGFibGVQaHlzaWNzSm9iIGV4dGVuZHMgUGh5c2ljc0pvYiB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge0NvbGxpZGFibGVTaGFwZUNvbmZpZ30gY29sbGlkYWJsZVBhcmFtc1xuICAgKiBAcGFyYW0ge1BoeXNpY3NTdGF0ZX0gc3RhdGVcbiAgICogQHBhcmFtIHtBcnJheS48Rm9yY2VBcHBsaWVyPn0gZm9yY2VBcHBsaWVyc1xuICAgKiBAcGFyYW0ge09iamVjdH0gY29udHJvbGxlclxuICAgKiBAcGFyYW0ge0NvbGxpc2lvbkhhbmRsZXJ9IGNvbGxpc2lvbkhhbmRsZXJcbiAgICovXG4gIGNvbnN0cnVjdG9yKGNvbGxpZGFibGVQYXJhbXMsIHN0YXRlLCBmb3JjZUFwcGxpZXJzLCBjb250cm9sbGVyLCBjb2xsaXNpb25IYW5kbGVyKSB7XG4gICAgc3VwZXIoZm9yY2VBcHBsaWVycywgc3RhdGUpO1xuXG4gICAgY29sbGlkYWJsZVBhcmFtcy5zY2FsZSA9IGNvbGxpZGFibGVQYXJhbXMuc2NhbGUgfHwgdmVjMy5mcm9tVmFsdWVzKDEsIDEsIDEpO1xuICAgIHRoaXMuY29sbGlkYWJsZSA9IGNyZWF0ZUNvbGxpZGFibGVGcm9tUmVuZGVyYWJsZVNoYXBlKGNvbGxpZGFibGVQYXJhbXMsIHRoaXMpO1xuICAgIHRoaXMuY3VycmVudFN0YXRlLnVucm90YXRlZEluZXJ0aWFUZW5zb3IgPVxuICAgICAgICBjcmVhdGVGb3JDb2xsaWRhYmxlKHRoaXMuY29sbGlkYWJsZSwgdGhpcy5jdXJyZW50U3RhdGUubWFzcyk7XG4gICAgdGhpcy5jdXJyZW50U3RhdGUudXBkYXRlRGVwZW5kZW50RmllbGRzKCk7XG4gICAgdGhpcy5pc0F0UmVzdCA9IGZhbHNlO1xuICAgIHRoaXMuY29udHJvbGxlciA9IGNvbnRyb2xsZXI7XG4gICAgdGhpcy5fY29sbGlzaW9uSGFuZGxlciA9IGNvbGxpc2lvbkhhbmRsZXI7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtGb3JjZUFwcGxpZXJ9IGZvcmNlQXBwbGllclxuICAgKi9cbiAgYWRkRm9yY2VBcHBsaWVyKGZvcmNlQXBwbGllcikge1xuICAgIHN1cGVyLmFkZEZvcmNlQXBwbGllcihmb3JjZUFwcGxpZXIpO1xuICAgIHRoaXMuaXNBdFJlc3QgPSBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0ZvcmNlQXBwbGllcn0gZm9yY2VBcHBsaWVyXG4gICAqL1xuICByZW1vdmVGb3JjZUFwcGxpZXIoZm9yY2VBcHBsaWVyKSB7XG4gICAgc3VwZXIucmVtb3ZlRm9yY2VBcHBsaWVyKGZvcmNlQXBwbGllcik7XG4gICAgdGhpcy5pc0F0UmVzdCA9IGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgY2FsbGJhY2sgaXMgdHJpZ2dlcmVkIGluIHJlc3BvbnNlIHRvIGEgY29sbGlzaW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge0NvbGxpc2lvbn0gY29sbGlzaW9uXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoaXMgbmVlZHMgdGhlIHN0YW5kYXJkIGNvbGxpc2lvbiByZXN0aXR1dGlvbiB0byBwcm9jZWVkLlxuICAgKi9cbiAgaGFuZGxlQ29sbGlzaW9uKGNvbGxpc2lvbikge1xuICAgIHJldHVybiB0aGlzLl9jb2xsaXNpb25IYW5kbGVyKGNvbGxpc2lvbik7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydFRpbWVdXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnQoc3RhcnRUaW1lKSB7XG4gICAgc3VwZXIuc3RhcnQoc3RhcnRUaW1lKTtcbiAgICBjb2xsaWRhYmxlU3RvcmUucmVnaXN0ZXJDb2xsaWRhYmxlKHRoaXMuY29sbGlkYWJsZSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBmaW5pc2goKSB7XG4gICAgc3VwZXIuZmluaXNoKCk7XG4gICAgY29sbGlkYWJsZVN0b3JlLnVucmVnaXN0ZXJDb2xsaWRhYmxlKHRoaXMuY29sbGlkYWJsZSk7XG4gIH1cblxuICAvKiogQHJldHVybnMge3ZlYzN9ICovXG4gIGdldCBwb3NpdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5jdXJyZW50U3RhdGUucG9zaXRpb247XG4gIH1cblxuICAvKiogQHBhcmFtIHt2ZWMzfSB2YWx1ZSAqL1xuICBzZXQgcG9zaXRpb24odmFsdWUpIHtcbiAgICB0aGlzLmN1cnJlbnRTdGF0ZS5wb3NpdGlvbiA9IHZlYzMuY2xvbmUodmFsdWUpO1xuICAgIHRoaXMuY29sbGlkYWJsZS5wb3NpdGlvbiA9IHZlYzMuY2xvbmUodmFsdWUpO1xuICB9XG59XG5cbmV4cG9ydCB7Q29sbGlkYWJsZVBoeXNpY3NKb2J9O1xuXG4vKipcbiAqIEB0eXBlZGVmIHtGdW5jdGlvbn0gQ29sbGlzaW9uSGFuZGxlclxuICogQHBhcmFtIHtDb2xsaXNpb259IGNvbGxpc2lvblxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhpcyBuZWVkcyB0aGUgc3RhbmRhcmQgY29sbGlzaW9uIHJlc3RpdHV0aW9uIHRvIHByb2NlZWQuXG4gKi9cbiIsImltcG9ydCB7ZGV0ZWN0Qm91bmRpbmdWb2x1bWVJbnRlcnNlY3Rpb259IGZyb20gJy4vY29sbGlzaW9uLXV0aWxzJztcblxuLy8gVE9ETzogSW1wbGVtZW50IHNvbWUgZm9ybSBvZiBib3VuZGluZyB2b2x1bWUgaGllcmFyY2h5IHRvIG1ha2Ugc2VhcmNoaW5nIGZvciBwb3RlbnRpYWwgY29sbGlzaW9uc1xuLy8gbW9yZSBlZmZpY2llbnQuXG5cbi8qKlxuICogVGhpcyBjbGFzcyByZWdpc3RlcnMgYW5kIHJldHJpZXZlcyBhbGwgQ29sbGlkYWJsZXMgd2l0aGluIGEgc2NlbmUuXG4gKi9cbmNsYXNzIENvbGxpZGFibGVTdG9yZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuX2NvbGxpZGFibGVzID0gW107XG4gIH1cblxuICAvKipcbiAgICogQ2FjaGVzIHRoZSBnaXZlbiBwcm9ncmFtIHdyYXBwZXIuXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIGlzIGlkZW1wb3RlbnQ7IGEgZ2l2ZW4gcHJvZ3JhbSB3aWxsIG9ubHkgYmUgY2FjaGVkIG9uY2UuXG4gICAqXG4gICAqIEBwYXJhbSB7Q29sbGlkYWJsZX0gY29sbGlkYWJsZVxuICAgKi9cbiAgcmVnaXN0ZXJDb2xsaWRhYmxlKGNvbGxpZGFibGUpIHtcbiAgICB0aGlzLl9jb2xsaWRhYmxlcy5wdXNoKGNvbGxpZGFibGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7Q29sbGlkYWJsZX0gY29sbGlkYWJsZVxuICAgKi9cbiAgdW5yZWdpc3RlckNvbGxpZGFibGUoY29sbGlkYWJsZSkge1xuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5fY29sbGlkYWJsZXMuaW5kZXhPZihjb2xsaWRhYmxlKTtcbiAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgdGhpcy5fY29sbGlkYWJsZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtDb2xsaWRhYmxlfSBjb2xsaWRhYmxlXG4gICAqIEByZXR1cm5zIHtBcnJheS48Q29sbGlkYWJsZT59XG4gICAqL1xuICBnZXRQb3NzaWJsZUNvbGxpc2lvbnNGb3JDb2xsaWRhYmxlKGNvbGxpZGFibGUpIHtcbiAgICByZXR1cm4gdGhpcy5fY29sbGlkYWJsZXMuZmlsdGVyKG90aGVyID0+XG4gICAgICBjb2xsaWRhYmxlICE9PSBvdGhlciAmJlxuICAgICAgZGV0ZWN0Qm91bmRpbmdWb2x1bWVJbnRlcnNlY3Rpb24oY29sbGlkYWJsZSwgb3RoZXIpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7QXJyYXkuPENvbGxpc2lvbj59XG4gICAqL1xuICBnZXRQb3NzaWJsZUNvbGxpc2lvbnNGb3JBbGxDb2xsaWRhYmxlcygpIHtcbiAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMCwgY291bnQgPSB0aGlzLl9jb2xsaWRhYmxlcy5sZW5ndGg7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICBjb25zdCBjb2xsaWRhYmxlQSA9IHRoaXMuX2NvbGxpZGFibGVzW2ldO1xuICAgICAgZm9yIChsZXQgaiA9IGkgKyAxOyBqIDwgY291bnQ7IGorKykge1xuICAgICAgICBjb25zdCBjb2xsaWRhYmxlQiA9IHRoaXMuX2NvbGxpZGFibGVzW2pdO1xuICAgICAgICBpZiAoZGV0ZWN0Qm91bmRpbmdWb2x1bWVJbnRlcnNlY3Rpb24oY29sbGlkYWJsZUEsIGNvbGxpZGFibGVCKSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKHtjb2xsaWRhYmxlQTogY29sbGlkYWJsZUEsIGNvbGxpZGFibGVCOiBjb2xsaWRhYmxlQn0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAgICovXG4gIGZvckVhY2goY2FsbGJhY2spIHtcbiAgICB0aGlzLl9jb2xsaWRhYmxlcy5mb3JFYWNoKGNhbGxiYWNrKTtcbiAgfVxufVxuXG5jb25zdCBjb2xsaWRhYmxlU3RvcmUgPSBuZXcgQ29sbGlkYWJsZVN0b3JlKCk7XG5leHBvcnQge2NvbGxpZGFibGVTdG9yZX07XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gQ29sbGlzaW9uXG4gKiBAcHJvcGVydHkge0NvbGxpZGFibGV9IGNvbGxpZGFibGVBXG4gKiBAcHJvcGVydHkge0NvbGxpZGFibGV9IGNvbGxpZGFibGVCXG4gKiBAcHJvcGVydHkge3ZlYzN9IFtjb250YWN0UG9pbnRdIEluIHdvcmxkIGNvb3JkaW5hdGVzLlxuICogQHByb3BlcnR5IHt2ZWMzfSBbY29udGFjdE5vcm1hbF0gUG9pbnRzIGF3YXkgZnJvbSBib2R5IEEgYW5kIHRvd2FyZCBib2R5IEIuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3RpbWVdXG4gKi9cbiIsImltcG9ydCB7XG4gIGFyZVZlYzNzQ2xvc2UsXG4gIHRtcFZlYzEsXG4gIHRtcFZlYzIsXG4gIHRtcFZlYzMsXG4gIHRtcFZlYzQsXG59IGZyb20gJy4uLy4uL3V0aWwnO1xuXG5pbXBvcnQge2NvbGxpZGFibGVTdG9yZX0gZnJvbSAnLi9jb2xsaWRhYmxlLXN0b3JlJztcbmltcG9ydCB7ZGV0ZWN0SW50ZXJzZWN0aW9uLCBjYWxjdWxhdGVDb250YWN0fSBmcm9tICcuL2NvbGxpc2lvbi11dGlscyc7XG5cbi8qKlxuICogVGhpcyBtb2R1bGUgZGVmaW5lcyBhIGNvbGxpc2lvbiBwaXBlbGluZS5cbiAqXG4gKiBUaGVzZSBmdW5jdGlvbnMgd2lsbCBkZXRlY3QgY29sbGlzaW9ucyBiZXR3ZWVuIGNvbGxpZGFibGUgYm9kaWVzIGFuZCB1cGRhdGUgdGhlaXIgbW9tZW50YSBpblxuICogcmVzcG9uc2UgdG8gdGhlIGNvbGxpc2lvbnMuXG4gKlxuICogLSBDb25zaXN0cyBvZiBhbiBlZmZpY2llbnQgYnJvYWQtcGhhc2UgY29sbGlzaW9uIGRldGVjdGlvbiBzdGVwIGZvbGxvd2VkIGJ5IGEgcHJlY2lzZVxuICogICBuYXJyb3ctcGhhc2Ugc3RlcC5cbiAqIC0gQ2FsY3VsYXRlcyB0aGUgcG9zaXRpb24sIHN1cmZhY2Ugbm9ybWFsLCBhbmQgdGltZSBvZiBlYWNoIGNvbnRhY3QuXG4gKiAtIENhbGN1bGF0ZXMgdGhlIGltcHVsc2Ugb2YgYSBjb2xsaXNpb24gYW5kIHVwZGF0ZXMgdGhlIGJvZGllcycgbGluZWFyIGFuZCBhbmd1bGFyIG1vbWVudGEgaW5cbiAqICAgcmVzcG9uc2UuXG4gKiAtIEFwcGxpZXMgQ291bG9tYiBmcmljdGlvbiB0byBjb2xsaWRpbmcgYm9kaWVzLlxuICogLSBTdWItZGl2aWRlcyB0aGUgdGltZSBzdGVwIHRvIG1vcmUgcHJlY2lzZWx5IGRldGVybWluZSB3aGVuIGFuZCB3aGVyZSBhIGNvbGxpc2lvbiBvY2N1cnMuXG4gKiAtIFN1cHBvcnRzIG11bHRpcGxlIGNvbGxpc2lvbnMgd2l0aCBhIHNpbmdsZSBib2R5IGluIGEgc2luZ2xlIHRpbWUgc3RlcC5cbiAqIC0gRWZmaWNpZW50bHkgc3VwcG9ydHMgYm9kaWVzIGNvbWluZyB0byByZXN0IGFnYWluc3QgZWFjaCBvdGhlci5cbiAqIC0gQm9kaWVzIHdpbGwgbmV2ZXIgcGVuZXRyYXRlIG9uZSBhbm90aGVyLlxuICogLSBUaGlzIGRvZXMgbm90IGFkZHJlc3MgdGhlIHR1bm5lbGxpbmcgcHJvYmxlbS4gVGhhdCBpcywgaXQgaXMgcG9zc2libGUgZm9yIHR3byBmYXN0LW1vdmluZ1xuICogICBib2RpZXMgdG8gcGFzcyB0aHJvdWdoIGVhY2ggb3RoZXIgYXMgbG9uZyBhcyB0aGV5IGRpZCBub3QgaW50ZXJzZWN0IGVhY2ggb3RoZXIgZHVyaW5nIGFueSB0aW1lXG4gKiAgIHN0ZXAuXG4gKiAtIFRoaXMgb25seSBzdXBwb3J0cyBjb2xsaXNpb25zIGJldHdlZW4gY2VydGFpbiB0eXBlcyBvZiBzaGFwZXMuIEZvcnR1bmF0ZWx5LCB0aGlzIHNldCBwcm92aWRlc1xuICogICByZWFzb25hYmxlIGFwcHJveGltYXRpb25zIGZvciBtb3N0IG90aGVyIHNoYXBlcy4gVGhlIHN1cHBvcnRlZCB0eXBlcyBvZiBzaGFwZXMgYXJlOiBzcGhlcmVzLFxuICogICBjYXBzdWxlcywgQUFCQnMsIGFuZCBPQkJzLlxuICpcbiAqICMjIE9iamVjdHMgdGhhdCBjb21lIHRvIHJlc3RcbiAqXG4gKiBBbiBpbXBvcnRhbnQgZWZmaWNpZW5jeSBpbXByb3ZlbWVudCBpcyB0byBub3QgcHJvY2VzcyBvYmplY3RzIHRocm91Z2ggdGhlIHBoeXNpY3MgZW5naW5lIHBpcGVsaW5lXG4gKiBhZnRlciB0aGV5IGhhdmUgY29tZSB0byByZXN0LiBUaGUgaXNBdFJlc3QgZmllbGQgaW5kaWNhdGVzIHdoZW4gYSBib2R5IGhhcyBjb21lIHRvIHJlc3QuXG4gKlxuICogaXNBdFJlc3QgaXMgc2V0IHRvIHRydWUgYWZ0ZXIgYSBwaHlzaWNzIGZyYW1lIGlzIGZpbmlzaGVkIGlmIHRoZSBjb2xsaXNpb25zLCBmb3JjZXMsIHBvc2l0aW9uLFxuICogYW5kIG9yaWVudGF0aW9uIG9mIGEgam9iIGhhdmUgbm90IGNoYW5nZWQgZnJvbSB0aGUgcHJldmlvdXMgdG8gdGhlIGN1cnJlbnQgc3RhdGUuXG4gKlxuICogaXNBdFJlc3QgaXMgc2V0IHRvIGZhbHNlIGZyb20gdHdvIHBvc3NpYmxlIGV2ZW50czogYWZ0ZXIgYSBwaHlzaWNzIGZyYW1lIGlzIGZpbmlzaGVkIGlmIHRoZVxuICogY29sbGlzaW9ucyBoYXZlIGNoYW5nZWQgZnJvbSB0aGUgcHJldmlvdXMgdG8gdGhlIGN1cnJlbnQgc3RhdGUsIG9yIHdoZW4gYSBmb3JjZSBpcyBhZGRlZCB0b1xuICogcmVtb3ZlZCBmcm9tIHRoZSBqb2IuXG4gKlxuICogIyMgQ29sbGlzaW9uIGNhbGN1bGF0aW9ucyBkbyBub3QgY29uc2lkZXIgdmVsb2NpdHlcbiAqXG4gKiBDb2xsaXNpb24gZGV0ZWN0aW9uIHdvcmtzIGJ5IHdhaXRpbmcgdW50aWwgdHdvIGJvZGllcyBpbnRlcnNlY3QuIEhvd2V2ZXIsIGJlY2F1c2UgdGltZSBmcmFtZXMgYXJlXG4gKiBub3QgaW5maW5pdGVseSBzbWFsbCwgd2hlbiBhbiBpbnRlcnNlY3Rpb24gaXMgZGV0ZWN0ZWQsIGl0J3MgYWxyZWFkeSBwYXN0IHRoZSBleGFjdCBpbnN0YW5jZSBvZlxuICogY29sbGlzaW9uLiBUbyBhbGxldmlhdGUgcHJvYmxlbXMgZnJvbSB0aGlzLCB0aGUgdmVsb2NpdHkgb2YgZWFjaCBib2R5IGNhbiBiZSBjb25zaWRlcmVkIHdoZW5cbiAqIGNhbGN1bGF0aW5nIHRoZSBjb2xsaXNpb24gdGltZSwgcG9zaXRpb24sIGFuZCBjb250YWN0IG5vcm1hbC4gSG93ZXZlciwgdGFraW5nIHZlbG9jaXR5IGludG9cbiAqIGFjY291bnQgbWFrZXMgdGhlIGNvbnRhY3QgY2FsY3VsYXRpb25zIG11Y2ggbW9yZSBjb21wbGV4LCBzbyB3ZSBkbyBub3QgY29uc2lkZXIgdmVsb2NpdHkgaW4gb3VyXG4gKiBjYWxjdWxhdGlvbnMuXG4gKlxuICogQSBub3RhYmxlIGNvbnNlcXVlbmNlIG9mIHRoaXMgaXMgdGhhdCB0aGUgY2FsY3VsYXRlZCBjb250YWN0IG5vcm1hbHMgY2FuIGJlIGluY29ycmVjdC4gQ29uc2lkZXJcbiAqIHRoZSBmb2xsb3dpbmcgbW92aW5nIHNxdWFyZXMuIEF0IHRpbWUgdDIgdGhleSBhcmUgZm91bmQgdG8gaGF2ZSBjb2xsaWRlZC4gVGhlIGNhbGN1bGF0ZWQgY29udGFjdFxuICogcG9pbnQgd2lsbCBiZSBzb21ld2hlcmUgd2l0aGluIHRoZSBpbnRlcnNlY3Rpb24gb2YgdGhlIGNvcm5lcnMuIEJ1dCB0aGUgY2FsY3VsYXRlZCBjb250YWN0IG5vcm1hbFxuICogd2lsbCBwb2ludCB1cHdhcmRzLCB3aGlsZSB0aGUgdHJ1ZSBjb250YWN0IG5vcm1hbCBzaG91bGQgcG9pbnQgdG8gdGhlIHJpZ2h0LiBUaGlzIGlzIGJlY2F1c2UgdGhlXG4gKiBjb250YWN0IGNhbGN1bGF0aW9ucyBkbyBub3QgY29uc2lkZXIgdmVsb2NpdHkgYW5kIGluc3RlYWQgb25seSBjb25zaWRlciB0aGUgc2hhbGxvd2VzdCBkaXJlY3Rpb25cbiAqIG9mIG92ZXJsYXAuXG4gKlxuICogLy8gVGltZSB0MVxuICogICAgICAgICAgICAgICAgICAgICstLS0tLS0tLS0tLS0rXG4gKiAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgIHxcbiAqICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgfFxuICogICAgICAgICAgICAgICAgPC0tIHwgICAgICBCICAgICB8XG4gKiAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgIHxcbiAqICArLS0tLS0tLS0tLS0tKyAgICB8ICAgICAgICAgICAgfFxuICogIHwgICAgICAgICAgICB8ICAgICstLS0tLS0tLS0tLS0rXG4gKiAgfCAgICAgICAgICAgIHxcbiAqICB8ICAgICAgQSAgICAgfCAtLT5cbiAqICB8ICAgICAgICAgICAgfFxuICogIHwgICAgICAgICAgICB8XG4gKiAgKy0tLS0tLS0tLS0tLStcbiAqXG4gKiAvLyBUaW1lIHQyXG4gKiAgICAgICAgICstLS0tLS0tLS0tLS0rXG4gKiAgICAgICAgIHwgICAgICAgICAgICB8XG4gKiAgICAgICAgIHwgICAgICAgICAgICB8XG4gKiAgICAgICAgIHwgICAgICBCICAgICB8XG4gKiAgICAgICAgIHwgICAgICAgICAgICB8XG4gKiAgKy0tLS0tLS0tLS0tLSsgICAgICB8XG4gKiAgfCAgICAgICstLS0tLXwtLS0tLS0rXG4gKiAgfCAgICAgICAgICAgIHxcbiAqICB8ICAgICAgQSAgICAgfFxuICogIHwgICAgICAgICAgICB8XG4gKiAgfCAgICAgICAgICAgIHxcbiAqICArLS0tLS0tLS0tLS0tK1xuICovXG5cbi8qKlxuICogRGV0ZWN0IGFuZCBoYW5kbGUgYW55IGNvbGxpc2lvbnMgYmV0d2VlbiBhIGdpdmVuIGpvYiBhbmQgYWxsIG90aGVyIGNvbGxpZGFibGUgYm9kaWVzLlxuICpcbiAqIEBwYXJhbSB7Q29sbGlkYWJsZVBoeXNpY3NKb2J9IGpvYlxuICogQHBhcmFtIHtET01IaWdoUmVzVGltZVN0YW1wfSBlbGFwc2VkVGltZVxuICogQHBhcmFtIHtQaHlzaWNzQ29uZmlnfSBwaHlzaWNzUGFyYW1zXG4gKi9cbmZ1bmN0aW9uIGhhbmRsZUNvbGxpc2lvbnNGb3JKb2Ioam9iLCBlbGFwc2VkVGltZSwgcGh5c2ljc1BhcmFtcykge1xuICBjb25zdCBjb2xsaWRhYmxlID0gam9iLmNvbGxpZGFibGU7XG5cbiAgLy8gQ2xlYXIgYW55IHByZXZpb3VzIGNvbGxpc2lvbiBpbmZvLlxuICBjb2xsaWRhYmxlLnByZXZpb3VzQ29sbGlzaW9ucyA9IGNvbGxpZGFibGUuY29sbGlzaW9ucztcbiAgY29sbGlkYWJsZS5jb2xsaXNpb25zID0gW107XG5cbiAgLy8gRmluZCBhbGwgY29sbGlkaW5nIGNvbGxpZGFibGVzLlxuICBjb25zdCBjb2xsaWRpbmdDb2xsaWRhYmxlcyA9IGZpbmRJbnRlcnNlY3RpbmdDb2xsaWRhYmxlc0ZvckNvbGxpZGFibGUoY29sbGlkYWJsZSk7XG5cbiAgLy8gU3RvcmUgdGhlIHRpbWUgb2YgY29sbGlzaW9uIGZvciBlYWNoIGNvbGxpc2lvbi5cbiAgY29uc3QgY29sbGlzaW9ucyA9IF9yZWNvcmRDb2xsaXNpb25zKGNvbGxpZGFibGUsIGNvbGxpZGluZ0NvbGxpZGFibGVzLCBlbGFwc2VkVGltZSk7XG5cbiAgLy8gQ2FsY3VsYXRlIHRoZSBwb2ludHMgb2YgY29udGFjdCBmb3IgZWFjaCBjb2xsaXNpb24uXG4gIF9jYWxjdWxhdGVQb2ludHNPZkNvbnRhY3QoY29sbGlzaW9ucyk7XG5cbiAgLy8gQ29sbGlzaW9uIHJlc29sdXRpb24uXG4gIF9yZXNvbHZlQ29sbGlzaW9ucyhjb2xsaXNpb25zLCBwaHlzaWNzUGFyYW1zKTtcbn1cblxuLyoqXG4gKiBGaW5kcyBhbGwgb3RoZXIgY29sbGlkYWJsZXMgdGhhdCBpbnRlcnNlY3Qgd2l0aCB0aGUgZ2l2ZW4gY29sbGlkYWJsZS5cbiAqXG4gKiBAcGFyYW0ge0NvbGxpZGFibGV9IGNvbGxpZGFibGVcbiAqIEByZXR1cm5zIHtBcnJheS48Q29sbGlkYWJsZT59XG4gKi9cbmZ1bmN0aW9uIGZpbmRJbnRlcnNlY3RpbmdDb2xsaWRhYmxlc0ZvckNvbGxpZGFibGUoY29sbGlkYWJsZSkge1xuICAvLyBCcm9hZC1waGFzZSBjb2xsaXNpb24gZGV0ZWN0aW9uIChwYWlycyB3aG9zZSBib3VuZGluZyB2b2x1bWVzIGludGVyc2VjdCkuXG4gIGNvbnN0IGNvbGxpZGluZ0NvbGxpZGFibGVzID0gY29sbGlkYWJsZVN0b3JlLmdldFBvc3NpYmxlQ29sbGlzaW9uc0ZvckNvbGxpZGFibGUoY29sbGlkYWJsZSk7XG5cbiAgLy8gTmFycm93LXBoYXNlIGNvbGxpc2lvbiBkZXRlY3Rpb24gKHBhaXJzIHRoYXQgYWN0dWFsbHkgaW50ZXJzZWN0KS5cbiAgcmV0dXJuIF9kZXRlY3RQcmVjaXNlQ29sbGlzaW9uc0Zyb21Db2xsaWRpbmdDb2xsaWRhYmxlcyhjb2xsaWRhYmxlLCBjb2xsaWRpbmdDb2xsaWRhYmxlcyk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheS48Q29sbGlkYWJsZVBoeXNpY3NKb2I+fSBqb2JzXG4gKi9cbmZ1bmN0aW9uIGRldGVybWluZUpvYnNBdFJlc3Qoam9icykge1xuICBqb2JzLmZvckVhY2goam9iID0+IGpvYi5pc0F0UmVzdCA9IF9pc0pvYkF0UmVzdChqb2IpKTtcbn1cblxuZnVuY3Rpb24gcmVjb3JkT2xkQ29sbGlzaW9uc0ZvckRldk1vZGVGb3JBbGxDb2xsaWRhYmxlcygpIHtcbiAgY29sbGlkYWJsZVN0b3JlLmZvckVhY2goX3JlY29yZE9sZENvbGxpc2lvbnNGb3JEZXZNb2RlRm9yQ29sbGlkYWJsZSk7XG59XG5cbi8qKlxuICogTG9ncyBhIHdhcm5pbmcgbWVzc2FnZSBmb3IgYW55IHBhaXIgb2Ygb2JqZWN0cyB0aGF0IGludGVyc2VjdC5cbiAqL1xuZnVuY3Rpb24gY2hlY2tUaGF0Tm9PYmplY3RzQ29sbGlkZSgpIHtcbiAgLy8gQnJvYWQtcGhhc2UgY29sbGlzaW9uIGRldGVjdGlvbiAocGFpcnMgd2hvc2UgYm91bmRpbmcgdm9sdW1lcyBpbnRlcnNlY3QpLlxuICBsZXQgY29sbGlzaW9ucyA9IGNvbGxpZGFibGVTdG9yZS5nZXRQb3NzaWJsZUNvbGxpc2lvbnNGb3JBbGxDb2xsaWRhYmxlcygpO1xuXG4gIC8vIE5hcnJvdy1waGFzZSBjb2xsaXNpb24gZGV0ZWN0aW9uIChwYWlycyB0aGF0IGFjdHVhbGx5IGludGVyc2VjdCkuXG4gIGNvbGxpc2lvbnMgPSBfZGV0ZWN0UHJlY2lzZUNvbGxpc2lvbnNGcm9tQ29sbGlzaW9ucyhjb2xsaXNpb25zKTtcblxuICBjb2xsaXNpb25zLmZvckVhY2goY29sbGlzaW9uID0+IHtcbiAgICBjb25zb2xlLndhcm4oJ09iamVjdHMgc3RpbGwgaW50ZXJzZWN0IGFmdGVyIGNvbGxpc2lvbiByZXNvbHV0aW9uJywgY29sbGlzaW9uKTtcbiAgfSk7XG59XG5cbi8qKlxuICogQ3JlYXRlIGNvbGxpc2lvbiBvYmplY3RzIHRoYXQgcmVjb3JkIHRoZSB0aW1lIG9mIGNvbGxpc2lvbiBhbmQgdGhlIGNvbGxpZGFibGVzIGluIHRoZSBjb2xsaXNpb24uXG4gKlxuICogQWxzbyByZWNvcmQgcmVmZXJlbmNlcyB0byB0aGVzZSBjb2xsaXNpb25zIG9uIHRoZSBjb2xsaWRhYmxlcy5cbiAqXG4gKiBAcGFyYW0ge0NvbGxpZGFibGV9IGNvbGxpZGFibGVcbiAqIEBwYXJhbSB7QXJyYXkuPENvbGxpZGFibGU+fSBjb2xsaWRpbmdDb2xsaWRhYmxlc1xuICogQHBhcmFtIHtET01IaWdoUmVzVGltZVN0YW1wfSBlbGFwc2VkVGltZVxuICogQHJldHVybnMge0FycmF5LjxDb2xsaXNpb24+fVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX3JlY29yZENvbGxpc2lvbnMoY29sbGlkYWJsZSwgY29sbGlkaW5nQ29sbGlkYWJsZXMsIGVsYXBzZWRUaW1lKSB7XG4gIHJldHVybiBjb2xsaWRpbmdDb2xsaWRhYmxlcy5tYXAob3RoZXIgPT4ge1xuICAgIGNvbnN0IGNvbGxpc2lvbiA9IHtcbiAgICAgIGNvbGxpZGFibGVBOiBjb2xsaWRhYmxlLFxuICAgICAgY29sbGlkYWJsZUI6IG90aGVyLFxuICAgICAgdGltZTogZWxhcHNlZFRpbWVcbiAgICB9O1xuXG4gICAgLy8gUmVjb3JkIHRoZSBmYWN0IHRoYXQgdGhlc2Ugb2JqZWN0cyBjb2xsaWRlZCAodGhlIE1vZGVsQ29udHJvbGxlciBtYXkgd2FudCB0byBoYW5kbGUgdGhpcykuXG4gICAgY29sbGlzaW9uLmNvbGxpZGFibGVBLmNvbGxpc2lvbnMucHVzaChjb2xsaXNpb24pO1xuICAgIGNvbGxpc2lvbi5jb2xsaWRhYmxlQi5jb2xsaXNpb25zLnB1c2goY29sbGlzaW9uKTtcblxuICAgIHJldHVybiBjb2xsaXNpb247XG4gIH0pO1xufVxuXG4vKipcbiAqIE5hcnJvdy1waGFzZSBjb2xsaXNpb24gZGV0ZWN0aW9uLlxuICpcbiAqIEdpdmVuIGEgbGlzdCBvZiBwb3NzaWJsZSBjb2xsaXNpb24gcGFpcnMsIGZpbHRlciBvdXQgd2hpY2ggcGFpcnMgYXJlIGFjdHVhbGx5IGNvbGxpZGluZy5cbiAqXG4gKiBAcGFyYW0ge0FycmF5LjxDb2xsaXNpb24+fSBjb2xsaXNpb25zXG4gKiBAcmV0dXJucyB7QXJyYXkuPENvbGxpc2lvbj59XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfZGV0ZWN0UHJlY2lzZUNvbGxpc2lvbnNGcm9tQ29sbGlzaW9ucyhjb2xsaXNpb25zKSB7XG4gIHJldHVybiBjb2xsaXNpb25zLmZpbHRlcihjb2xsaXNpb24gPT4ge1xuICAgIC8vIFRPRE86XG4gICAgLy8gLSBVc2UgdGVtcG9yYWwgYmlzZWN0aW9uIHdpdGggZGlzY3JldGUgc3ViLXRpbWUgc3RlcHMgdG8gZmluZCB0aW1lIG9mIGNvbGxpc2lvbiAodXNlXG4gICAgLy8gICAgICAgeC12cy15LXNwZWNpZmljIGludGVyc2VjdGlvbiBkZXRlY3Rpb24gbWV0aG9kcykuXG4gICAgLy8gLSBNYWtlIHN1cmUgdGhlIGNvbGxpc2lvbiBvYmplY3QgaXMgc2V0IHVwIHdpdGggdGhlIFwicHJldmlvdXNTdGF0ZVwiIGZyb20gdGhlIHN1Yi1zdGVwXG4gICAgLy8gICBiZWZvcmUgY29sbGlzaW9uIGFuZCB0aGUgdGltZSBmcm9tIHRoZSBzdWItc3RlcCBhZnRlciBjb2xsaXNpb24gKGRldGVybWluZWQgZnJvbSB0aGVcbiAgICAvLyAgIHByZXZpb3VzIHRlbXBvcmFsIGJpc2VjdGlvbiBzZWFyY2guLi4pXG5cbiAgICByZXR1cm4gZGV0ZWN0SW50ZXJzZWN0aW9uKGNvbGxpc2lvbi5jb2xsaWRhYmxlQSwgY29sbGlzaW9uLmNvbGxpZGFibGVCKTtcbiAgfSk7XG59XG5cbi8qKlxuICogTmFycm93LXBoYXNlIGNvbGxpc2lvbiBkZXRlY3Rpb24uXG4gKlxuICogR2l2ZW4gYSBsaXN0IG9mIHBvc3NpYmxlIGNvbGxpc2lvbiBwYWlycywgZmlsdGVyIG91dCB3aGljaCBwYWlycyBhcmUgYWN0dWFsbHkgY29sbGlkaW5nLlxuICpcbiAqIEBwYXJhbSB7Q29sbGlkYWJsZX0gY29sbGlkYWJsZVxuICogQHBhcmFtIHtBcnJheS48Q29sbGlkYWJsZT59IGNvbGxpZGluZ0NvbGxpZGFibGVzXG4gKiBAcmV0dXJucyB7QXJyYXkuPENvbGxpZGFibGU+fVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX2RldGVjdFByZWNpc2VDb2xsaXNpb25zRnJvbUNvbGxpZGluZ0NvbGxpZGFibGVzKGNvbGxpZGFibGUsIGNvbGxpZGluZ0NvbGxpZGFibGVzKSB7XG4gIHJldHVybiBjb2xsaWRpbmdDb2xsaWRhYmxlcy5maWx0ZXIob3RoZXIgPT4ge1xuICAgIC8vIFRPRE86XG4gICAgLy8gLSBVc2UgdGVtcG9yYWwgYmlzZWN0aW9uIHdpdGggZGlzY3JldGUgc3ViLXRpbWUgc3RlcHMgdG8gZmluZCB0aW1lIG9mIGNvbGxpc2lvbiAodXNlXG4gICAgLy8gICAgICAgeC12cy15LXNwZWNpZmljIGludGVyc2VjdGlvbiBkZXRlY3Rpb24gbWV0aG9kcykuXG4gICAgLy8gLSBNYWtlIHN1cmUgdGhlIGNvbGxpc2lvbiBvYmplY3QgaXMgc2V0IHVwIHdpdGggdGhlIFwicHJldmlvdXNTdGF0ZVwiIGZyb20gdGhlIHN1Yi1zdGVwXG4gICAgLy8gICBiZWZvcmUgY29sbGlzaW9uIGFuZCB0aGUgdGltZSBmcm9tIHRoZSBzdWItc3RlcCBhZnRlciBjb2xsaXNpb24gKGRldGVybWluZWQgZnJvbSB0aGVcbiAgICAvLyAgIHByZXZpb3VzIHRlbXBvcmFsIGJpc2VjdGlvbiBzZWFyY2guLi4pXG5cbiAgICByZXR1cm4gZGV0ZWN0SW50ZXJzZWN0aW9uKGNvbGxpZGFibGUsIG90aGVyKTtcbiAgfSk7XG59XG5cbi8qKlxuICogQ2FsY3VsYXRlIHRoZSBpbnRlcnNlY3Rpb24gcG9zaXRpb24gYW5kIGNvbnRhY3Qgbm9ybWFsIG9mIGVhY2ggY29sbGlzaW9uLlxuICpcbiAqIEBwYXJhbSB7QXJyYXkuPENvbGxpc2lvbj59IGNvbGxpc2lvbnNcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIF9jYWxjdWxhdGVQb2ludHNPZkNvbnRhY3QoY29sbGlzaW9ucykge1xuICBjb2xsaXNpb25zLmZvckVhY2goY2FsY3VsYXRlQ29udGFjdCk7XG59XG5cbi8qKlxuICogVXBkYXRlcyB0aGUgbGluZWFyIGFuZCBhbmd1bGFyIG1vbWVudGEgb2YgZWFjaCBib2R5IGluIHJlc3BvbnNlIHRvIGl0cyBjb2xsaXNpb24uXG4gKlxuICogQHBhcmFtIHtBcnJheS48Q29sbGlzaW9uPn0gY29sbGlzaW9uc1xuICogQHBhcmFtIHtQaHlzaWNzQ29uZmlnfSBwaHlzaWNzUGFyYW1zXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfcmVzb2x2ZUNvbGxpc2lvbnMoY29sbGlzaW9ucywgcGh5c2ljc1BhcmFtcykge1xuICBjb2xsaXNpb25zLmZvckVhY2goY29sbGlzaW9uID0+IHtcbiAgICAvLyBJZiBuZWl0aGVyIHBoeXNpY3Mgam9iIG5lZWRzIHRoZSBzdGFuZGFyZCBjb2xsaXNpb24gcmVzdGl0dXRpb24sIHRoZW4gZG9uJ3QgZG8gaXQuXG4gICAgaWYgKF9ub3RpZnlQaHlzaWNzSm9ic09mQ29sbGlzaW9uKGNvbGxpc2lvbikpIHtcbiAgICAgIGlmIChjb2xsaXNpb24uY29sbGlkYWJsZUEucGh5c2ljc0pvYiAmJiBjb2xsaXNpb24uY29sbGlkYWJsZUIucGh5c2ljc0pvYikge1xuICAgICAgICAvLyBOZWl0aGVyIG9mIHRoZSBjb2xsaWRhYmxlcyBpcyBzdGF0aW9uYXJ5LlxuICAgICAgICBfcmVzb2x2ZUNvbGxpc2lvbihjb2xsaXNpb24sIHBoeXNpY3NQYXJhbXMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gT25lIG9mIHRoZSB0d28gY29sbGlkYWJsZXMgaXMgc3RhdGlvbmFyeS5cbiAgICAgICAgX3Jlc29sdmVDb2xsaXNpb25XaXRoU3RhdGlvbmFyeU9iamVjdChjb2xsaXNpb24sIHBoeXNpY3NQYXJhbXMpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtDb2xsaXNpb259IGNvbGxpc2lvblxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgb25lIG9mIHRoZSBQaHlzaWNzSm9icyBuZWVkIHRoZSBzdGFuZGFyZCBjb2xsaXNpb24gcmVzdGl0dXRpb24gdG9cbiAqIHByb2NlZWQuXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfbm90aWZ5UGh5c2ljc0pvYnNPZkNvbGxpc2lvbihjb2xsaXNpb24pIHtcbiAgcmV0dXJuIGNvbGxpc2lvbi5jb2xsaWRhYmxlQS5waHlzaWNzSm9iLmhhbmRsZUNvbGxpc2lvbihjb2xsaXNpb24pIHx8XG4gICAgICBjb2xsaXNpb24uY29sbGlkYWJsZUIucGh5c2ljc0pvYi5oYW5kbGVDb2xsaXNpb24oY29sbGlzaW9uKVxufVxuXG4vKipcbiAqIFJlc29sdmUgYSBjb2xsaXNpb24gYmV0d2VlbiB0d28gbW92aW5nLCBwaHlzaWNzLWJhc2VkIG9iamVjdHMuXG4gKlxuICogVGhpcyBpcyBiYXNlZCBvbiBjb2xsaXNpb24tcmVzcG9uc2UgYWxnb3JpdGhtcyBmcm9tIFdpa2lwZWRpYVxuICogKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NvbGxpc2lvbl9yZXNwb25zZSNJbXB1bHNlLWJhc2VkX3JlYWN0aW9uX21vZGVsKS5cbiAqXG4gKiBAcGFyYW0ge0NvbGxpc2lvbn0gY29sbGlzaW9uXG4gKiBAcGFyYW0ge1BoeXNpY3NDb25maWd9IHBoeXNpY3NQYXJhbXNcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIF9yZXNvbHZlQ29sbGlzaW9uKGNvbGxpc2lvbiwgcGh5c2ljc1BhcmFtcykge1xuICBjb25zdCBjb2xsaWRhYmxlQSA9IGNvbGxpc2lvbi5jb2xsaWRhYmxlQTtcbiAgY29uc3QgY29sbGlkYWJsZUIgPSBjb2xsaXNpb24uY29sbGlkYWJsZUI7XG4gIGNvbnN0IHByZXZpb3VzU3RhdGVBID0gY29sbGlkYWJsZUEucGh5c2ljc0pvYi5wcmV2aW91c1N0YXRlO1xuICBjb25zdCBwcmV2aW91c1N0YXRlQiA9IGNvbGxpZGFibGVCLnBoeXNpY3NKb2IucHJldmlvdXNTdGF0ZTtcbiAgY29uc3QgbmV4dFN0YXRlQSA9IGNvbGxpZGFibGVBLnBoeXNpY3NKb2IuY3VycmVudFN0YXRlO1xuICBjb25zdCBuZXh0U3RhdGVCID0gY29sbGlkYWJsZUIucGh5c2ljc0pvYi5jdXJyZW50U3RhdGU7XG4gIGNvbnN0IGNlbnRlckEgPSBjb2xsaWRhYmxlQS5jZW50ZXJPZk1hc3M7XG4gIGNvbnN0IGNlbnRlckIgPSBjb2xsaWRhYmxlQi5jZW50ZXJPZk1hc3M7XG4gIGNvbnN0IGNvbnRhY3RQb2ludCA9IGNvbGxpc2lvbi5jb250YWN0UG9pbnQ7XG5cbiAgY29uc3QgY29udGFjdFBvaW50T2Zmc2V0QSA9IHRtcFZlYzM7XG4gIHZlYzMuc3VidHJhY3QoY29udGFjdFBvaW50T2Zmc2V0QSwgY29udGFjdFBvaW50LCBjZW50ZXJBKTtcbiAgY29uc3QgY29udGFjdFBvaW50T2Zmc2V0QiA9IHRtcFZlYzQ7XG4gIHZlYzMuc3VidHJhY3QoY29udGFjdFBvaW50T2Zmc2V0QiwgY29udGFjdFBvaW50LCBjZW50ZXJCKTtcblxuICAvL1xuICAvLyBDYWxjdWxhdGUgdGhlIHJlbGF0aXZlIHZlbG9jaXR5IG9mIHRoZSBib2RpZXMgYXQgdGhlIHBvaW50IG9mIGNvbnRhY3QuXG4gIC8vXG4gIC8vIFdlIHVzZSB0aGUgdmVsb2NpdHkgZnJvbSB0aGUgcHJldmlvdXMgc3RhdGUsIHNpbmNlIGl0IGlzIHRoZSB2ZWxvY2l0eSB0aGF0IGxlZCB0byB0aGVcbiAgLy8gY29sbGlzaW9uLlxuICAvL1xuXG4gIGNvbnN0IHZlbG9jaXR5QSA9IHRtcFZlYzE7XG4gIHZlYzMuY3Jvc3ModG1wVmVjMSwgcHJldmlvdXNTdGF0ZUEuYW5ndWxhclZlbG9jaXR5LCBjb250YWN0UG9pbnRPZmZzZXRBKTtcbiAgdmVjMy5hZGQodmVsb2NpdHlBLCBwcmV2aW91c1N0YXRlQS52ZWxvY2l0eSwgdG1wVmVjMSk7XG5cbiAgY29uc3QgdmVsb2NpdHlCID0gdG1wVmVjMjtcbiAgdmVjMy5jcm9zcyh0bXBWZWMyLCBwcmV2aW91c1N0YXRlQi5hbmd1bGFyVmVsb2NpdHksIGNvbnRhY3RQb2ludE9mZnNldEIpO1xuICB2ZWMzLmFkZCh2ZWxvY2l0eUIsIHByZXZpb3VzU3RhdGVCLnZlbG9jaXR5LCB0bXBWZWMyKTtcblxuICBjb25zdCByZWxhdGl2ZVZlbG9jaXR5ID0gdmVjMy5jcmVhdGUoKTtcbiAgdmVjMy5zdWJ0cmFjdChyZWxhdGl2ZVZlbG9jaXR5LCB2ZWxvY2l0eUIsIHZlbG9jaXR5QSk7XG5cbiAgaWYgKHZlYzMuZG90KHJlbGF0aXZlVmVsb2NpdHksIGNvbGxpc2lvbi5jb250YWN0Tm9ybWFsKSA+PSAwKSB7XG4gICAgLy8gSWYgdGhlIHJlbGF0aXZlIHZlbG9jaXR5IGlzIG5vdCBwb2ludGluZyBhZ2FpbnN0IHRoZSBub3JtYWwsIHRoZW4gdGhlIG5vcm1hbCB3YXMgY2FsY3VsYXRlZFxuICAgIC8vIGluY29ycmVjdGx5ICh0aGlzIGlzIGxpa2VseSBkdWUgdG8gdGhlIHRpbWUgc3RlcCBiZWluZyB0b28gbGFyZ2UgYW5kIHRoZSBmYWN0IHRoYXQgb3VyXG4gICAgLy8gY29udGFjdCBjYWxjdWxhdGlvbnMgZG9uJ3QgY29uc2lkZXIgdmVsb2NpdHkpLiBTbyB1cGRhdGUgdGhlIGNvbnRhY3Qgbm9ybWFsIHRvIGJlIGluIHRoZVxuICAgIC8vIGRpcmVjdGlvbiBvZiB0aGUgcmVsYXRpdmUgdmVsb2NpdHkuXG5cbiAgICAvLyBUT0RPOiBDaGVjayB0aGF0IHRoaXMgd29ya3MgYXMgZXhwZWN0ZWQuXG5cbiAgICAvLyBjb25zb2xlLndhcm4oJ05vbi1jb2xsaXNpb24gYmVjYXVzZSBvYmplY3RzIGFyZSBtb3ZpbmcgYXdheSBmcm9tIGVhY2ggb3RoZXIuJyk7XG5cbiAgICB2ZWMzLmNvcHkoY29sbGlzaW9uLmNvbnRhY3ROb3JtYWwsIHJlbGF0aXZlVmVsb2NpdHkpO1xuICAgIHZlYzMubm9ybWFsaXplKGNvbGxpc2lvbi5jb250YWN0Tm9ybWFsLCBjb2xsaXNpb24uY29udGFjdE5vcm1hbCk7XG4gICAgdmVjMy5uZWdhdGUoY29sbGlzaW9uLmNvbnRhY3ROb3JtYWwsIGNvbGxpc2lvbi5jb250YWN0Tm9ybWFsKTtcbiAgfVxuXG4gIF9hcHBseUltcHVsc2VGcm9tQ29sbGlzaW9uKGNvbGxpc2lvbiwgcmVsYXRpdmVWZWxvY2l0eSwgY29udGFjdFBvaW50T2Zmc2V0QSxcbiAgICAgIGNvbnRhY3RQb2ludE9mZnNldEIsIHBoeXNpY3NQYXJhbXMpO1xuXG4gIC8vIE5PVEU6IFRoaXMgc3RhdGUgcmV2ZXJzaW9uIGlzIG9ubHkgYXBwbGllZCB0byBjb2xsaWRhYmxlQS4gVGhpcyBhc3N1bWVzIHRoYXQgb25seSBBIGlzIG1vdmluZ1xuICAvLyBkdXJpbmcgdGhpcyBpdGVyYXRpb24gb2YgdGhlIGNvbGxpc2lvbiBwaXBlbGluZS5cblxuICAvLyBSZXZlcnQgdG8gdGhlIHBvc2l0aW9uIGFuZCBvcmllbnRhdGlvbiBmcm9tIGltbWVkaWF0ZWx5IGJlZm9yZSB0aGUgY29sbGlzaW9uLlxuICB2ZWMzLmNvcHkobmV4dFN0YXRlQS5wb3NpdGlvbiwgcHJldmlvdXNTdGF0ZUEucG9zaXRpb24pO1xuICBxdWF0LmNvcHkobmV4dFN0YXRlQS5vcmllbnRhdGlvbiwgcHJldmlvdXNTdGF0ZUEub3JpZW50YXRpb24pO1xuXG4gIC8vIEFsc28gcmV2ZXJ0IHRoZSBjb2xsaWRhYmxlcycgcG9zaXRpb24gYW5kIG9yaWVudGF0aW9uLlxuICBjb2xsaWRhYmxlQS5wb3NpdGlvbiA9IHByZXZpb3VzU3RhdGVBLnBvc2l0aW9uO1xuICBjb2xsaWRhYmxlQS5vcmllbnRhdGlvbiA9IHByZXZpb3VzU3RhdGVBLm9yaWVudGF0aW9uO1xuXG4gIG5leHRTdGF0ZUEudXBkYXRlRGVwZW5kZW50RmllbGRzKCk7XG4gIG5leHRTdGF0ZUIudXBkYXRlRGVwZW5kZW50RmllbGRzKCk7XG59XG5cbi8qKlxuICogUmVzb2x2ZSBhIGNvbGxpc2lvbiBiZXR3ZWVuIG9uZSBtb3ZpbmcsIHBoeXNpY3MtYmFzZWQgb2JqZWN0IGFuZCBvbmUgc3RhdGlvbmFyeSBvYmplY3QuXG4gKlxuICogQHBhcmFtIHtDb2xsaXNpb259IGNvbGxpc2lvblxuICogQHBhcmFtIHtQaHlzaWNzQ29uZmlnfSBwaHlzaWNzUGFyYW1zXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfcmVzb2x2ZUNvbGxpc2lvbldpdGhTdGF0aW9uYXJ5T2JqZWN0KGNvbGxpc2lvbiwgcGh5c2ljc1BhcmFtcykge1xuICBjb25zdCBjb250YWN0Tm9ybWFsID0gY29sbGlzaW9uLmNvbnRhY3ROb3JtYWw7XG5cbiAgbGV0IHBoeXNpY3NDb2xsaWRhYmxlO1xuICBpZiAoY29sbGlzaW9uLmNvbGxpZGFibGVBLnBoeXNpY3NKb2IpIHtcbiAgICBwaHlzaWNzQ29sbGlkYWJsZSA9IGNvbGxpc2lvbi5jb2xsaWRhYmxlQTtcbiAgfSBlbHNlIHtcbiAgICBwaHlzaWNzQ29sbGlkYWJsZSA9IGNvbGxpc2lvbi5jb2xsaWRhYmxlQjtcbiAgICB2ZWMzLm5lZ2F0ZShjb250YWN0Tm9ybWFsLCBjb250YWN0Tm9ybWFsKTtcbiAgfVxuXG4gIGNvbnN0IHByZXZpb3VzU3RhdGUgPSBwaHlzaWNzQ29sbGlkYWJsZS5waHlzaWNzSm9iLnByZXZpb3VzU3RhdGU7XG4gIGNvbnN0IG5leHRTdGF0ZSA9IHBoeXNpY3NDb2xsaWRhYmxlLnBoeXNpY3NKb2IuY3VycmVudFN0YXRlO1xuICBjb25zdCBjZW50ZXIgPSBwaHlzaWNzQ29sbGlkYWJsZS5jZW50ZXJPZk1hc3M7XG4gIGNvbnN0IGNvbnRhY3RQb2ludCA9IGNvbGxpc2lvbi5jb250YWN0UG9pbnQ7XG5cbiAgY29uc3QgY29udGFjdFBvaW50T2Zmc2V0ID0gdG1wVmVjMztcbiAgdmVjMy5zdWJ0cmFjdChjb250YWN0UG9pbnRPZmZzZXQsIGNvbnRhY3RQb2ludCwgY2VudGVyKTtcblxuICAvLyBDYWxjdWxhdGUgdGhlIHJlbGF0aXZlIHZlbG9jaXR5IG9mIHRoZSBib2RpZXMgYXQgdGhlIHBvaW50IG9mIGNvbnRhY3QuIFdlIHVzZSB0aGUgdmVsb2NpdHkgZnJvbVxuICAvLyB0aGUgcHJldmlvdXMgc3RhdGUsIHNpbmNlIGl0IGlzIHRoZSB2ZWxvY2l0eSB0aGF0IGxlZCB0byB0aGUgY29sbGlzaW9uLlxuICBjb25zdCB2ZWxvY2l0eSA9IHZlYzMuY3JlYXRlKCk7XG4gIHZlYzMuY3Jvc3ModG1wVmVjMSwgcHJldmlvdXNTdGF0ZS5hbmd1bGFyVmVsb2NpdHksIGNvbnRhY3RQb2ludE9mZnNldCk7XG4gIHZlYzMuYWRkKHZlbG9jaXR5LCBwcmV2aW91c1N0YXRlLnZlbG9jaXR5LCB0bXBWZWMxKTtcblxuICBpZiAodmVjMy5kb3QodmVsb2NpdHksIGNvbnRhY3ROb3JtYWwpIDw9IDApIHtcbiAgICAvLyBJZiB0aGUgcmVsYXRpdmUgdmVsb2NpdHkgaXMgbm90IHBvaW50aW5nIGFnYWluc3QgdGhlIG5vcm1hbCwgdGhlbiB0aGUgbm9ybWFsIHdhcyBjYWxjdWxhdGVkXG4gICAgLy8gaW5jb3JyZWN0bHkgKHRoaXMgaXMgbGlrZWx5IGR1ZSB0byB0aGUgdGltZSBzdGVwIGJlaW5nIHRvbyBsYXJnZSBhbmQgdGhlIGZhY3QgdGhhdCBvdXJcbiAgICAvLyBjb250YWN0IGNhbGN1bGF0aW9ucyBkb24ndCBjb25zaWRlciB2ZWxvY2l0eSkuIFNvIHVwZGF0ZSB0aGUgY29udGFjdCBub3JtYWwgdG8gYmUgaW4gdGhlXG4gICAgLy8gZGlyZWN0aW9uIG9mIHRoZSByZWxhdGl2ZSB2ZWxvY2l0eS5cblxuICAgIC8vIFRPRE86IENoZWNrIHRoYXQgdGhpcyB3b3JrcyBhcyBleHBlY3RlZC5cblxuICAgIGNvbnNvbGUud2FybignTm9uLWNvbGxpc2lvbiBiZWNhdXNlIG9iamVjdCBpcyBtb3ZpbmcgYXdheSBmcm9tIHN0YXRpb25hcnkgb2JqZWN0LicpO1xuXG4gICAgdmVjMy5jb3B5KGNvbGxpc2lvbi5jb250YWN0Tm9ybWFsLCB2ZWxvY2l0eSk7XG4gICAgdmVjMy5ub3JtYWxpemUoY29sbGlzaW9uLmNvbnRhY3ROb3JtYWwsIGNvbGxpc2lvbi5jb250YWN0Tm9ybWFsKTtcbiAgICB2ZWMzLm5lZ2F0ZShjb2xsaXNpb24uY29udGFjdE5vcm1hbCwgY29sbGlzaW9uLmNvbnRhY3ROb3JtYWwpO1xuICB9XG5cbiAgX2FwcGx5SW1wdWxzZUZyb21Db2xsaXNpb25XaXRoU3RhdGlvbmFyeU9iamVjdChwaHlzaWNzQ29sbGlkYWJsZSwgY29sbGlzaW9uLCB2ZWxvY2l0eSxcbiAgICAgIGNvbnRhY3RQb2ludE9mZnNldCwgcGh5c2ljc1BhcmFtcyk7XG5cbiAgLy8gUmV2ZXJ0IHRvIHRoZSBwb3NpdGlvbiBhbmQgb3JpZW50YXRpb24gZnJvbSBpbW1lZGlhdGVseSBiZWZvcmUgdGhlIGNvbGxpc2lvbi5cbiAgdmVjMy5jb3B5KG5leHRTdGF0ZS5wb3NpdGlvbiwgcHJldmlvdXNTdGF0ZS5wb3NpdGlvbik7XG4gIHF1YXQuY29weShuZXh0U3RhdGUub3JpZW50YXRpb24sIHByZXZpb3VzU3RhdGUub3JpZW50YXRpb24pO1xuXG4gIC8vIEFsc28gcmV2ZXJ0IHRoZSBjb2xsaWRhYmxlJ3MgcG9zaXRpb24gYW5kIG9yaWVudGF0aW9uLlxuICBwaHlzaWNzQ29sbGlkYWJsZS5wb3NpdGlvbiA9IHByZXZpb3VzU3RhdGUucG9zaXRpb247XG4gIHBoeXNpY3NDb2xsaWRhYmxlLm9yaWVudGF0aW9uID0gcHJldmlvdXNTdGF0ZS5vcmllbnRhdGlvbjtcblxuICBuZXh0U3RhdGUudXBkYXRlRGVwZW5kZW50RmllbGRzKCk7XG59XG5cbi8qKlxuICogVGhpcyBpcyBiYXNlZCBvbiBjb2xsaXNpb24tcmVzcG9uc2UgYWxnb3JpdGhtcyBmcm9tIFdpa2lwZWRpYVxuICogKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NvbGxpc2lvbl9yZXNwb25zZSNJbXB1bHNlLWJhc2VkX3JlYWN0aW9uX21vZGVsKS4gVGhpcyBhbGdvcml0aG1cbiAqIGhhcyBiZWVuIHNpbXBsaWZpZWQgYnkgYXNzdW1pbmcgdGhlIHN0YXRpb25hcnkgYm9keSBoYXMgaW5maW5pdGUgbWFzcyBhbmQgemVybyB2ZWxvY2l0eS5cbiAqXG4gKiBAcGFyYW0ge0NvbGxpc2lvbn0gY29sbGlzaW9uXG4gKiBAcGFyYW0ge3ZlYzN9IHJlbGF0aXZlVmVsb2NpdHlcbiAqIEBwYXJhbSB7dmVjM30gY29udGFjdFBvaW50T2Zmc2V0QVxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0UG9pbnRPZmZzZXRCXG4gKiBAcGFyYW0ge1BoeXNpY3NDb25maWd9IHBoeXNpY3NQYXJhbXNcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIF9hcHBseUltcHVsc2VGcm9tQ29sbGlzaW9uKGNvbGxpc2lvbiwgcmVsYXRpdmVWZWxvY2l0eSwgY29udGFjdFBvaW50T2Zmc2V0QSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhY3RQb2ludE9mZnNldEIsIHBoeXNpY3NQYXJhbXMpIHtcbiAgY29uc3QgY29sbGlkYWJsZUEgPSBjb2xsaXNpb24uY29sbGlkYWJsZUE7XG4gIGNvbnN0IGNvbGxpZGFibGVCID0gY29sbGlzaW9uLmNvbGxpZGFibGVCO1xuXG4gIGNvbnN0IHN0YXRlQSA9IGNvbGxpZGFibGVBLnBoeXNpY3NKb2IuY3VycmVudFN0YXRlO1xuICBjb25zdCBzdGF0ZUIgPSBjb2xsaWRhYmxlQi5waHlzaWNzSm9iLmN1cnJlbnRTdGF0ZTtcblxuICBjb25zdCBjb250YWN0Tm9ybWFsID0gY29sbGlzaW9uLmNvbnRhY3ROb3JtYWw7XG5cbiAgLy9cbiAgLy8gQ2FsY3VsYXRlIGFuZCBhcHBseSB0aGUgbWFpbiBjb2xsaXNpb24gaW1wdWxzZS5cbiAgLy9cblxuICB2ZWMzLnNjYWxlKHRtcFZlYzEsIHJlbGF0aXZlVmVsb2NpdHksIC0oMSArIHBoeXNpY3NQYXJhbXMuY29lZmZpY2llbnRPZlJlc3RpdHV0aW9uKSk7XG4gIGNvbnN0IG51bWVyYXRvciA9IHZlYzMuZG90KHRtcFZlYzEsIGNvbnRhY3ROb3JtYWwpO1xuXG4gIHZlYzMuY3Jvc3ModG1wVmVjMSwgY29udGFjdFBvaW50T2Zmc2V0QSwgY29udGFjdE5vcm1hbCk7XG4gIHZlYzMudHJhbnNmb3JtTWF0Myh0bXBWZWMxLCB0bXBWZWMxLCBzdGF0ZUEuaW52ZXJzZUluZXJ0aWFUZW5zb3IpO1xuICB2ZWMzLmNyb3NzKHRtcFZlYzEsIHRtcFZlYzEsIGNvbnRhY3RQb2ludE9mZnNldEEpO1xuXG4gIHZlYzMuY3Jvc3ModG1wVmVjMiwgY29udGFjdFBvaW50T2Zmc2V0QiwgY29udGFjdE5vcm1hbCk7XG4gIHZlYzMudHJhbnNmb3JtTWF0Myh0bXBWZWMyLCB0bXBWZWMyLCBzdGF0ZUIuaW52ZXJzZUluZXJ0aWFUZW5zb3IpO1xuICB2ZWMzLmNyb3NzKHRtcFZlYzIsIHRtcFZlYzIsIGNvbnRhY3RQb2ludE9mZnNldEIpO1xuXG4gIHZlYzMuYWRkKHRtcFZlYzEsIHRtcFZlYzEsIHRtcFZlYzIpO1xuICBjb25zdCBkZW5vbWluYXRvciA9IHZlYzMuZG90KHRtcFZlYzEsIGNvbnRhY3ROb3JtYWwpICsgc3RhdGVBLmludmVyc2VNYXNzICsgc3RhdGVCLmludmVyc2VNYXNzO1xuXG4gIGNvbnN0IGltcHVsc2VNYWduaXR1ZGUgPSBudW1lcmF0b3IgLyBkZW5vbWluYXRvcjtcblxuICBfYXBwbHlJbXB1bHNlKHN0YXRlQSwgLWltcHVsc2VNYWduaXR1ZGUsIGNvbnRhY3ROb3JtYWwsIGNvbnRhY3RQb2ludE9mZnNldEEpO1xuICBfYXBwbHlJbXB1bHNlKHN0YXRlQiwgaW1wdWxzZU1hZ25pdHVkZSwgY29udGFjdE5vcm1hbCwgY29udGFjdFBvaW50T2Zmc2V0Qik7XG5cbiAgLy9cbiAgLy8gQ2FsY3VsYXRlIGFuZCBhcHBseSBhIGR5bmFtaWMgZnJpY3Rpb24gaW1wdWxzZS5cbiAgLy9cblxuICBjb25zdCBmcmljdGlvbkltcHVsc2VNYWduaXR1ZGUgPSBpbXB1bHNlTWFnbml0dWRlICogcGh5c2ljc1BhcmFtcy5jb2VmZmljaWVudE9mRnJpY3Rpb247XG5cbiAgY29uc3QgdGFuZ2VudCA9IHRtcFZlYzI7XG4gIHZlYzMuc2NhbGUodG1wVmVjMSwgY29udGFjdE5vcm1hbCwgdmVjMy5kb3QocmVsYXRpdmVWZWxvY2l0eSwgY29udGFjdE5vcm1hbCkpO1xuICB2ZWMzLnN1YnRyYWN0KHRhbmdlbnQsIHJlbGF0aXZlVmVsb2NpdHksIHRtcFZlYzEpO1xuICB2ZWMzLm5vcm1hbGl6ZSh0YW5nZW50LCB0YW5nZW50KTtcblxuICBfYXBwbHlJbXB1bHNlKHN0YXRlQSwgZnJpY3Rpb25JbXB1bHNlTWFnbml0dWRlLCB0YW5nZW50LCBjb250YWN0UG9pbnRPZmZzZXRBKTtcbiAgX2FwcGx5SW1wdWxzZShzdGF0ZUIsIC1mcmljdGlvbkltcHVsc2VNYWduaXR1ZGUsIHRhbmdlbnQsIGNvbnRhY3RQb2ludE9mZnNldEIpO1xufVxuXG4vKipcbiAqIFRoaXMgaXMgYmFzZWQgb24gY29sbGlzaW9uLXJlc3BvbnNlIGFsZ29yaXRobXMgZnJvbSBXaWtpcGVkaWFcbiAqIChodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Db2xsaXNpb25fcmVzcG9uc2UjSW1wdWxzZS1iYXNlZF9yZWFjdGlvbl9tb2RlbCkuIFRoaXMgYWxnb3JpdGhtXG4gKiBoYXMgYmVlbiBzaW1wbGlmaWVkIGJ5IGFzc3VtaW5nIHRoZSBzdGF0aW9uYXJ5IGJvZHkgaGFzIGluZmluaXRlIG1hc3MgYW5kIHplcm8gdmVsb2NpdHkuXG4gKlxuICogQHBhcmFtIHtDb2xsaWRhYmxlfSBwaHlzaWNzQ29sbGlkYWJsZVxuICogQHBhcmFtIHtDb2xsaXNpb259IGNvbGxpc2lvblxuICogQHBhcmFtIHt2ZWMzfSB2ZWxvY2l0eVxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0UG9pbnRPZmZzZXRcbiAqIEBwYXJhbSB7UGh5c2ljc0NvbmZpZ30gcGh5c2ljc1BhcmFtc1xuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX2FwcGx5SW1wdWxzZUZyb21Db2xsaXNpb25XaXRoU3RhdGlvbmFyeU9iamVjdChwaHlzaWNzQ29sbGlkYWJsZSwgY29sbGlzaW9uLCB2ZWxvY2l0eSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGFjdFBvaW50T2Zmc2V0LCBwaHlzaWNzUGFyYW1zKSB7XG4gIGNvbnN0IHN0YXRlID0gcGh5c2ljc0NvbGxpZGFibGUucGh5c2ljc0pvYi5jdXJyZW50U3RhdGU7XG4gIGNvbnN0IGNvbnRhY3ROb3JtYWwgPSBjb2xsaXNpb24uY29udGFjdE5vcm1hbDtcblxuICAvL1xuICAvLyBDYWxjdWxhdGUgYW5kIGFwcGx5IHRoZSBtYWluIGNvbGxpc2lvbiBpbXB1bHNlLlxuICAvL1xuXG4gIHZlYzMuc2NhbGUodG1wVmVjMSwgdmVsb2NpdHksIC0oMSArIHBoeXNpY3NQYXJhbXMuY29lZmZpY2llbnRPZlJlc3RpdHV0aW9uKSk7XG4gIGNvbnN0IG51bWVyYXRvciA9IHZlYzMuZG90KHRtcFZlYzEsIGNvbnRhY3ROb3JtYWwpO1xuXG4gIHZlYzMuY3Jvc3ModG1wVmVjMSwgY29udGFjdFBvaW50T2Zmc2V0LCBjb250YWN0Tm9ybWFsKTtcbiAgdmVjMy50cmFuc2Zvcm1NYXQzKHRtcFZlYzEsIHRtcFZlYzEsIHN0YXRlLmludmVyc2VJbmVydGlhVGVuc29yKTtcbiAgdmVjMy5jcm9zcyh0bXBWZWMxLCB0bXBWZWMxLCBjb250YWN0UG9pbnRPZmZzZXQpO1xuICBjb25zdCBkZW5vbWluYXRvciA9IHZlYzMuZG90KHRtcFZlYzEsIGNvbnRhY3ROb3JtYWwpICsgc3RhdGUuaW52ZXJzZU1hc3M7XG5cbiAgY29uc3QgaW1wdWxzZU1hZ25pdHVkZSA9IG51bWVyYXRvciAvIGRlbm9taW5hdG9yO1xuXG4gIF9hcHBseUltcHVsc2Uoc3RhdGUsIGltcHVsc2VNYWduaXR1ZGUsIGNvbnRhY3ROb3JtYWwsIGNvbnRhY3RQb2ludE9mZnNldCk7XG5cbiAgLy9cbiAgLy8gQ2FsY3VsYXRlIGFuZCBhcHBseSBhIGR5bmFtaWMgZnJpY3Rpb24gaW1wdWxzZS5cbiAgLy9cblxuICBjb25zdCBmcmljdGlvbkltcHVsc2VNYWduaXR1ZGUgPSBpbXB1bHNlTWFnbml0dWRlICogcGh5c2ljc1BhcmFtcy5jb2VmZmljaWVudE9mRnJpY3Rpb247XG5cbiAgY29uc3QgdGFuZ2VudCA9IHRtcFZlYzI7XG4gIHZlYzMuc2NhbGUodG1wVmVjMSwgY29udGFjdE5vcm1hbCwgdmVjMy5kb3QodmVsb2NpdHksIGNvbnRhY3ROb3JtYWwpKTtcbiAgdmVjMy5zdWJ0cmFjdCh0YW5nZW50LCB2ZWxvY2l0eSwgdG1wVmVjMSk7XG4gIHZlYzMubm9ybWFsaXplKHRhbmdlbnQsIHRhbmdlbnQpO1xuXG4gIF9hcHBseUltcHVsc2Uoc3RhdGUsIGZyaWN0aW9uSW1wdWxzZU1hZ25pdHVkZSwgdGFuZ2VudCwgY29udGFjdFBvaW50T2Zmc2V0KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1BoeXNpY3NTdGF0ZX0gc3RhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBpbXB1bHNlTWFnbml0dWRlXG4gKiBAcGFyYW0ge3ZlYzN9IGltcHVsc2VEaXJlY3Rpb25cbiAqIEBwYXJhbSB7dmVjM30gY29udGFjdFBvaW50T2Zmc2V0XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfYXBwbHlJbXB1bHNlKHN0YXRlLCBpbXB1bHNlTWFnbml0dWRlLCBpbXB1bHNlRGlyZWN0aW9uLCBjb250YWN0UG9pbnRPZmZzZXQpIHtcbiAgLy8gQ2FsY3VsYXRlIHRoZSB1cGRhdGVkIGxpbmVhciBtb21lbnRhLlxuICBjb25zdCBmaW5hbExpbmVhck1vbWVudHVtID0gdmVjMy5jcmVhdGUoKTtcbiAgdmVjMy5zY2FsZUFuZEFkZChmaW5hbExpbmVhck1vbWVudHVtLCBzdGF0ZS5tb21lbnR1bSwgaW1wdWxzZURpcmVjdGlvbiwgaW1wdWxzZU1hZ25pdHVkZSk7XG5cbiAgLy8gQ2FsY3VsYXRlIHRoZSB1cGRhdGVkIGFuZ3VsYXIgbW9tZW50YS5cbiAgY29uc3QgZmluYWxBbmd1bGFyTW9tZW50dW0gPSB2ZWMzLmNyZWF0ZSgpO1xuICB2ZWMzLmNyb3NzKHRtcFZlYzEsIGNvbnRhY3RQb2ludE9mZnNldCwgaW1wdWxzZURpcmVjdGlvbik7XG4gIHZlYzMuc2NhbGVBbmRBZGQoZmluYWxBbmd1bGFyTW9tZW50dW0sIHN0YXRlLmFuZ3VsYXJNb21lbnR1bSwgdG1wVmVjMSwgaW1wdWxzZU1hZ25pdHVkZSk7XG5cbiAgLy8gQXBwbHkgdGhlIHVwZGF0ZWQgbW9tZW50YS5cbiAgdmVjMy5jb3B5KHN0YXRlLm1vbWVudHVtLCBmaW5hbExpbmVhck1vbWVudHVtKTtcbiAgdmVjMy5jb3B5KHN0YXRlLmFuZ3VsYXJNb21lbnR1bSwgZmluYWxBbmd1bGFyTW9tZW50dW0pO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Q29sbGlkYWJsZVBoeXNpY3NKb2J9IGpvYlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfaXNKb2JBdFJlc3Qoam9iKSB7XG4gIHJldHVybiBhcmVWZWMzc0Nsb3NlKGpvYi5jdXJyZW50U3RhdGUucG9zaXRpb24sIGpvYi5wcmV2aW91c1N0YXRlLnBvc2l0aW9uKSAmJlxuICAgICAgYXJlVmVjM3NDbG9zZShqb2IuY3VycmVudFN0YXRlLnZlbG9jaXR5LCBqb2IucHJldmlvdXNTdGF0ZS52ZWxvY2l0eSkgJiZcbiAgICAgIGFyZVZlYzNzQ2xvc2Uoam9iLmN1cnJlbnRTdGF0ZS5vcmllbnRhdGlvbiwgam9iLnByZXZpb3VzU3RhdGUub3JpZW50YXRpb24pICYmXG4gICAgICBfZG9Db2xsaXNpb25zTWF0Y2goam9iLmNvbGxpZGFibGUuY29sbGlzaW9ucywgam9iLmNvbGxpZGFibGUucHJldmlvdXNDb2xsaXNpb25zKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5LjxDb2xsaXNpb24+fSBjb2xsaXNpb25zQVxuICogQHBhcmFtIHtBcnJheS48Q29sbGlzaW9uPn0gY29sbGlzaW9uc0JcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX2RvQ29sbGlzaW9uc01hdGNoKGNvbGxpc2lvbnNBLCBjb2xsaXNpb25zQikge1xuICBjb25zdCBjb3VudCA9IGNvbGxpc2lvbnNBLmxlbmd0aDtcblxuICBpZiAoY291bnQgIT09IGNvbGxpc2lvbnNCLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgIGNvbnN0IGNvbGxpc2lvbkEgPSBjb2xsaXNpb25zQVtpXTtcbiAgICBjb25zdCBjb2xsaXNpb25CID0gY29sbGlzaW9uc0JbaV07XG4gICAgaWYgKGNvbGxpc2lvbkEuY29sbGlkYWJsZUEgIT09IGNvbGxpc2lvbkIuY29sbGlkYWJsZUEgfHxcbiAgICAgICAgY29sbGlzaW9uQS5jb2xsaWRhYmxlQiAhPT0gY29sbGlzaW9uQi5jb2xsaWRhYmxlQiB8fFxuICAgICAgICAhYXJlVmVjM3NDbG9zZShjb2xsaXNpb25BLmNvbnRhY3RQb2ludCwgY29sbGlzaW9uQi5jb250YWN0UG9pbnQpIHx8XG4gICAgICAgICFhcmVWZWMzc0Nsb3NlKGNvbGxpc2lvbkEuY29udGFjdE5vcm1hbCwgY29sbGlzaW9uQi5jb250YWN0Tm9ybWFsKSkge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogQHBhcmFtIHtDb2xsaWRhYmxlfSBjb2xsaWRhYmxlXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfcmVjb3JkT2xkQ29sbGlzaW9uc0ZvckRldk1vZGVGb3JDb2xsaWRhYmxlKGNvbGxpZGFibGUpIHtcbiAgaWYgKCFjb2xsaWRhYmxlLmV4dHJhUHJldmlvdXNDb2xsaXNpb25zKSB7XG4gICAgY29sbGlkYWJsZS5leHRyYVByZXZpb3VzQ29sbGlzaW9ucyA9IFtdO1xuICB9XG5cbiAgZm9yIChsZXQgaSA9IDM7IGkgPiAwOyBpLS0pIHtcbiAgICBjb2xsaWRhYmxlLmV4dHJhUHJldmlvdXNDb2xsaXNpb25zW2ldID0gY29sbGlkYWJsZS5leHRyYVByZXZpb3VzQ29sbGlzaW9uc1tpIC0gMV07XG4gIH1cbiAgY29sbGlkYWJsZS5leHRyYVByZXZpb3VzQ29sbGlzaW9uc1swXSA9IGNvbGxpZGFibGUucHJldmlvdXNDb2xsaXNpb25zO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Q29sbGlzaW9ufSBjb2xsaXNpb25cbiAqIEBwYXJhbSB7T2JqZWN0fSB0aGlzQ29udHJvbGxlclxuICogQHJldHVybnMge09iamVjdH1cbiAqL1xuZnVuY3Rpb24gZ2V0T3RoZXJDb250cm9sbGVyRnJvbUNvbGxpc2lvbihjb2xsaXNpb24sIHRoaXNDb250cm9sbGVyKSB7XG4gIGNvbnN0IGNvbnRyb2xsZXJBID0gY29sbGlzaW9uLmNvbGxpZGFibGVBLnBoeXNpY3NKb2IuY29udHJvbGxlcjtcbiAgY29uc3QgY29udHJvbGxlckIgPSBjb2xsaXNpb24uY29sbGlkYWJsZUIucGh5c2ljc0pvYi5jb250cm9sbGVyO1xuICBpZiAoY29udHJvbGxlckEgPT09IHRoaXNDb250cm9sbGVyKSB7XG4gICAgcmV0dXJuIGNvbnRyb2xsZXJCO1xuICB9IGVsc2UgaWYgKGNvbnRyb2xsZXJCID09PSB0aGlzQ29udHJvbGxlcikge1xuICAgIHJldHVybiBjb250cm9sbGVyQTtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ05laXRoZXIgY29sbGlkYWJsZSBjb3JyZXNwb25kcyB0byB0aGUgZ2l2ZW4gY29udHJvbGxlcicpO1xuICB9XG59XG5cbmV4cG9ydCB7XG4gIGhhbmRsZUNvbGxpc2lvbnNGb3JKb2IsXG4gIGZpbmRJbnRlcnNlY3RpbmdDb2xsaWRhYmxlc0ZvckNvbGxpZGFibGUsXG4gIGRldGVybWluZUpvYnNBdFJlc3QsXG4gIHJlY29yZE9sZENvbGxpc2lvbnNGb3JEZXZNb2RlRm9yQWxsQ29sbGlkYWJsZXMsXG4gIGNoZWNrVGhhdE5vT2JqZWN0c0NvbGxpZGUsXG4gIGdldE90aGVyQ29udHJvbGxlckZyb21Db2xsaXNpb24sXG59O1xuIiwiaW1wb3J0IHtcbiAgQWFiYixcbiAgQ2Fwc3VsZSxcbiAgT2JiLFxuICBTcGhlcmVcbn0gZnJvbSAnLi4vY29sbGlkYWJsZXMnO1xuXG5pbXBvcnQge1xuICBhYWJiQ29sbGlzaW9uRGV0ZWN0aW9uLFxuICBjYXBzdWxlQ29sbGlzaW9uRGV0ZWN0aW9uLFxuICBvYmJDb2xsaXNpb25EZXRlY3Rpb24sXG4gIHNwaGVyZUNvbGxpc2lvbkRldGVjdGlvbixcbn0gZnJvbSAnLi4vY29sbGlzaW9uLWRldGVjdGlvbic7XG5cbmltcG9ydCB7XG4gIGFhYmJDb250YWN0Q2FsY3VsYXRpb24sXG4gIGNhcHN1bGVDb250YWN0Q2FsY3VsYXRpb24sXG4gIG9iYkNvbnRhY3RDYWxjdWxhdGlvbixcbiAgc3BoZXJlQ29udGFjdENhbGN1bGF0aW9uLFxufSBmcm9tICcuLi9jb250YWN0LWNhbGN1bGF0aW9uJztcblxuLyoqXG4gKiBUaGlzIG1vZHVsZSBkZWZpbmVzIGEgY29sbGVjdGlvbiBvZiBzdGF0aWMgdXRpbGl0eSBmdW5jdGlvbnMgZm9yIGRldGVjdGluZyBhbmQgcmVzcG9uZGluZyB0b1xuICogY29sbGlzaW9ucy5cbiAqL1xuXG4vKipcbiAqIEBwYXJhbSB7Q29sbGlkYWJsZX0gYVxuICogQHBhcmFtIHtDb2xsaWRhYmxlfSBiXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gZGV0ZWN0SW50ZXJzZWN0aW9uKGEsIGIpIHtcbiAgaWYgKGEgaW5zdGFuY2VvZiBTcGhlcmUpIHtcbiAgICBpZiAoYiBpbnN0YW5jZW9mIFNwaGVyZSkge1xuICAgICAgcmV0dXJuIHNwaGVyZUNvbGxpc2lvbkRldGVjdGlvbi5zcGhlcmVWc1NwaGVyZShhLCBiKTtcbiAgICB9IGVsc2UgaWYgKGIgaW5zdGFuY2VvZiBBYWJiKSB7XG4gICAgICByZXR1cm4gc3BoZXJlQ29sbGlzaW9uRGV0ZWN0aW9uLnNwaGVyZVZzQWFiYihhLCBiKTtcbiAgICB9IGVsc2UgaWYgKGIgaW5zdGFuY2VvZiBDYXBzdWxlKSB7XG4gICAgICByZXR1cm4gc3BoZXJlQ29sbGlzaW9uRGV0ZWN0aW9uLnNwaGVyZVZzQ2Fwc3VsZShhLCBiKTtcbiAgICB9IGVsc2UgaWYgKGIgaW5zdGFuY2VvZiBPYmIpIHtcbiAgICAgIHJldHVybiBzcGhlcmVDb2xsaXNpb25EZXRlY3Rpb24uc3BoZXJlVnNPYmIoYSwgYik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBzcGhlcmVDb2xsaXNpb25EZXRlY3Rpb24uc3BoZXJlVnNQb2ludChhLCBiKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoYSBpbnN0YW5jZW9mIEFhYmIpIHtcbiAgICBpZiAoYiBpbnN0YW5jZW9mIFNwaGVyZSkge1xuICAgICAgcmV0dXJuIGFhYmJDb2xsaXNpb25EZXRlY3Rpb24uYWFiYlZzU3BoZXJlKGEsIGIpO1xuICAgIH0gZWxzZSBpZiAoYiBpbnN0YW5jZW9mIEFhYmIpIHtcbiAgICAgIHJldHVybiBhYWJiQ29sbGlzaW9uRGV0ZWN0aW9uLmFhYmJWc0FhYmIoYSwgYik7XG4gICAgfSBlbHNlIGlmIChiIGluc3RhbmNlb2YgQ2Fwc3VsZSkge1xuICAgICAgcmV0dXJuIGFhYmJDb2xsaXNpb25EZXRlY3Rpb24uYWFiYlZzQ2Fwc3VsZShhLCBiKTtcbiAgICB9IGVsc2UgaWYgKGIgaW5zdGFuY2VvZiBPYmIpIHtcbiAgICAgIHJldHVybiBhYWJiQ29sbGlzaW9uRGV0ZWN0aW9uLmFhYmJWc09iYihhLCBiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGFhYmJDb2xsaXNpb25EZXRlY3Rpb24uYWFiYlZzUG9pbnQoYSwgYik7XG4gICAgfVxuICB9IGVsc2UgaWYgKGEgaW5zdGFuY2VvZiBDYXBzdWxlKSB7XG4gICAgaWYgKGIgaW5zdGFuY2VvZiBTcGhlcmUpIHtcbiAgICAgIHJldHVybiBjYXBzdWxlQ29sbGlzaW9uRGV0ZWN0aW9uLmNhcHN1bGVWc1NwaGVyZShhLCBiKTtcbiAgICB9IGVsc2UgaWYgKGIgaW5zdGFuY2VvZiBBYWJiKSB7XG4gICAgICByZXR1cm4gY2Fwc3VsZUNvbGxpc2lvbkRldGVjdGlvbi5jYXBzdWxlVnNBYWJiKGEsIGIpO1xuICAgIH0gZWxzZSBpZiAoYiBpbnN0YW5jZW9mIENhcHN1bGUpIHtcbiAgICAgIHJldHVybiBjYXBzdWxlQ29sbGlzaW9uRGV0ZWN0aW9uLmNhcHN1bGVWc0NhcHN1bGUoYSwgYik7XG4gICAgfSBlbHNlIGlmIChiIGluc3RhbmNlb2YgT2JiKSB7XG4gICAgICByZXR1cm4gY2Fwc3VsZUNvbGxpc2lvbkRldGVjdGlvbi5jYXBzdWxlVnNPYmIoYSwgYik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBjYXBzdWxlQ29sbGlzaW9uRGV0ZWN0aW9uLmNhcHN1bGVWc1BvaW50KGEsIGIpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChhIGluc3RhbmNlb2YgT2JiKSB7XG4gICAgaWYgKGIgaW5zdGFuY2VvZiBTcGhlcmUpIHtcbiAgICAgIHJldHVybiBvYmJDb2xsaXNpb25EZXRlY3Rpb24ub2JiVnNTcGhlcmUoYSwgYik7XG4gICAgfSBlbHNlIGlmIChiIGluc3RhbmNlb2YgQWFiYikge1xuICAgICAgcmV0dXJuIG9iYkNvbGxpc2lvbkRldGVjdGlvbi5vYmJWc0FhYmIoYSwgYik7XG4gICAgfSBlbHNlIGlmIChiIGluc3RhbmNlb2YgQ2Fwc3VsZSkge1xuICAgICAgcmV0dXJuIG9iYkNvbGxpc2lvbkRldGVjdGlvbi5vYmJWc0NhcHN1bGUoYSwgYik7XG4gICAgfSBlbHNlIGlmIChiIGluc3RhbmNlb2YgT2JiKSB7XG4gICAgICByZXR1cm4gb2JiQ29sbGlzaW9uRGV0ZWN0aW9uLm9iYlZzT2JiKGEsIGIpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gb2JiQ29sbGlzaW9uRGV0ZWN0aW9uLm9iYlZzUG9pbnQoYSwgYik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChiIGluc3RhbmNlb2YgU3BoZXJlKSB7XG4gICAgICByZXR1cm4gc3BoZXJlQ29sbGlzaW9uRGV0ZWN0aW9uLnNwaGVyZVZzUG9pbnQoYiwgYSk7XG4gICAgfSBlbHNlIGlmIChiIGluc3RhbmNlb2YgQWFiYikge1xuICAgICAgcmV0dXJuIGFhYmJDb2xsaXNpb25EZXRlY3Rpb24uYWFiYlZzUG9pbnQoYiwgYSk7XG4gICAgfSBlbHNlIGlmIChiIGluc3RhbmNlb2YgQ2Fwc3VsZSkge1xuICAgICAgcmV0dXJuIGNhcHN1bGVDb2xsaXNpb25EZXRlY3Rpb24uY2Fwc3VsZVZzUG9pbnQoYiwgYSk7XG4gICAgfSBlbHNlIGlmIChiIGluc3RhbmNlb2YgT2JiKSB7XG4gICAgICByZXR1cm4gb2JiQ29sbGlzaW9uRGV0ZWN0aW9uLm9iYlZzUG9pbnQoYiwgYSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge0NvbGxpc2lvbn0gY29sbGlzaW9uXG4gKi9cbmZ1bmN0aW9uIGNhbGN1bGF0ZUNvbnRhY3QoY29sbGlzaW9uKSB7XG4gIGNvbnN0IGEgPSBjb2xsaXNpb24uY29sbGlkYWJsZUE7XG4gIGNvbnN0IGIgPSBjb2xsaXNpb24uY29sbGlkYWJsZUI7XG4gIGNvbnN0IGNvbnRhY3RQb2ludCA9IHZlYzMuY3JlYXRlKCk7XG4gIGNvbnN0IGNvbnRhY3ROb3JtYWwgPSB2ZWMzLmNyZWF0ZSgpO1xuXG4gIGlmIChhIGluc3RhbmNlb2YgU3BoZXJlKSB7XG4gICAgaWYgKGIgaW5zdGFuY2VvZiBTcGhlcmUpIHtcbiAgICAgIHNwaGVyZUNvbnRhY3RDYWxjdWxhdGlvbi5zcGhlcmVWc1NwaGVyZShjb250YWN0UG9pbnQsIGNvbnRhY3ROb3JtYWwsIGEsIGIpO1xuICAgIH0gZWxzZSBpZiAoYiBpbnN0YW5jZW9mIEFhYmIpIHtcbiAgICAgIHNwaGVyZUNvbnRhY3RDYWxjdWxhdGlvbi5zcGhlcmVWc0FhYmIoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBhLCBiKTtcbiAgICB9IGVsc2UgaWYgKGIgaW5zdGFuY2VvZiBDYXBzdWxlKSB7XG4gICAgICBzcGhlcmVDb250YWN0Q2FsY3VsYXRpb24uc3BoZXJlVnNDYXBzdWxlKGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgYSwgYik7XG4gICAgfSBlbHNlIGlmIChiIGluc3RhbmNlb2YgT2JiKSB7XG4gICAgICBzcGhlcmVDb250YWN0Q2FsY3VsYXRpb24uc3BoZXJlVnNPYmIoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBhLCBiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3BoZXJlQ29udGFjdENhbGN1bGF0aW9uLnNwaGVyZVZzUG9pbnQoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBhLCBiKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoYSBpbnN0YW5jZW9mIEFhYmIpIHtcbiAgICBpZiAoYiBpbnN0YW5jZW9mIFNwaGVyZSkge1xuICAgICAgYWFiYkNvbnRhY3RDYWxjdWxhdGlvbi5hYWJiVnNTcGhlcmUoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBhLCBiKTtcbiAgICB9IGVsc2UgaWYgKGIgaW5zdGFuY2VvZiBBYWJiKSB7XG4gICAgICBhYWJiQ29udGFjdENhbGN1bGF0aW9uLmFhYmJWc0FhYmIoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBhLCBiKTtcbiAgICB9IGVsc2UgaWYgKGIgaW5zdGFuY2VvZiBDYXBzdWxlKSB7XG4gICAgICBhYWJiQ29udGFjdENhbGN1bGF0aW9uLmFhYmJWc0NhcHN1bGUoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBhLCBiKTtcbiAgICB9IGVsc2UgaWYgKGIgaW5zdGFuY2VvZiBPYmIpIHtcbiAgICAgIGFhYmJDb250YWN0Q2FsY3VsYXRpb24uYWFiYlZzT2JiKGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgYSwgYik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFhYmJDb250YWN0Q2FsY3VsYXRpb24uYWFiYlZzUG9pbnQoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBhLCBiKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoYSBpbnN0YW5jZW9mIENhcHN1bGUpIHtcbiAgICBpZiAoYiBpbnN0YW5jZW9mIFNwaGVyZSkge1xuICAgICAgY2Fwc3VsZUNvbnRhY3RDYWxjdWxhdGlvbi5jYXBzdWxlVnNTcGhlcmUoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBhLCBiKTtcbiAgICB9IGVsc2UgaWYgKGIgaW5zdGFuY2VvZiBBYWJiKSB7XG4gICAgICBjYXBzdWxlQ29udGFjdENhbGN1bGF0aW9uLmNhcHN1bGVWc0FhYmIoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBhLCBiKTtcbiAgICB9IGVsc2UgaWYgKGIgaW5zdGFuY2VvZiBDYXBzdWxlKSB7XG4gICAgICBjYXBzdWxlQ29udGFjdENhbGN1bGF0aW9uLmNhcHN1bGVWc0NhcHN1bGUoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBhLCBiKTtcbiAgICB9IGVsc2UgaWYgKGIgaW5zdGFuY2VvZiBPYmIpIHtcbiAgICAgIGNhcHN1bGVDb250YWN0Q2FsY3VsYXRpb24uY2Fwc3VsZVZzT2JiKGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgYSwgYik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhcHN1bGVDb250YWN0Q2FsY3VsYXRpb24uY2Fwc3VsZVZzUG9pbnQoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBhLCBiKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoYSBpbnN0YW5jZW9mIE9iYikge1xuICAgIGlmIChiIGluc3RhbmNlb2YgU3BoZXJlKSB7XG4gICAgICBvYmJDb250YWN0Q2FsY3VsYXRpb24ub2JiVnNTcGhlcmUoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBhLCBiKTtcbiAgICB9IGVsc2UgaWYgKGIgaW5zdGFuY2VvZiBBYWJiKSB7XG4gICAgICBvYmJDb250YWN0Q2FsY3VsYXRpb24ub2JiVnNBYWJiKGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgYSwgYik7XG4gICAgfSBlbHNlIGlmIChiIGluc3RhbmNlb2YgQ2Fwc3VsZSkge1xuICAgICAgb2JiQ29udGFjdENhbGN1bGF0aW9uLm9iYlZzQ2Fwc3VsZShjb250YWN0UG9pbnQsIGNvbnRhY3ROb3JtYWwsIGEsIGIpO1xuICAgIH0gZWxzZSBpZiAoYiBpbnN0YW5jZW9mIE9iYikge1xuICAgICAgb2JiQ29udGFjdENhbGN1bGF0aW9uLm9iYlZzT2JiKGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgYSwgYik7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9iYkNvbnRhY3RDYWxjdWxhdGlvbi5vYmJWc1BvaW50KGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgYSwgYik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChiIGluc3RhbmNlb2YgU3BoZXJlKSB7XG4gICAgICBzcGhlcmVDb250YWN0Q2FsY3VsYXRpb24uc3BoZXJlVnNQb2ludChjb250YWN0UG9pbnQsIGNvbnRhY3ROb3JtYWwsIGIsIGEpO1xuICAgIH0gZWxzZSBpZiAoYiBpbnN0YW5jZW9mIEFhYmIpIHtcbiAgICAgIGFhYmJDb250YWN0Q2FsY3VsYXRpb24uYWFiYlZzUG9pbnQoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBiLCBhKTtcbiAgICB9IGVsc2UgaWYgKGIgaW5zdGFuY2VvZiBDYXBzdWxlKSB7XG4gICAgICBjYXBzdWxlQ29udGFjdENhbGN1bGF0aW9uLmNhcHN1bGVWc1BvaW50KGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgYiwgYSk7XG4gICAgfSBlbHNlIGlmIChiIGluc3RhbmNlb2YgT2JiKSB7XG4gICAgICBvYmJDb250YWN0Q2FsY3VsYXRpb24ub2JiVnNQb2ludChjb250YWN0UG9pbnQsIGNvbnRhY3ROb3JtYWwsIGIsIGEpO1xuICAgIH0gZWxzZSB7fVxuICAgIHZlYzMubmVnYXRlKGNvbnRhY3ROb3JtYWwsIGNvbnRhY3ROb3JtYWwpO1xuICB9XG5cbiAgY29sbGlzaW9uLmNvbnRhY3RQb2ludCA9IGNvbnRhY3RQb2ludDtcbiAgY29sbGlzaW9uLmNvbnRhY3ROb3JtYWwgPSBjb250YWN0Tm9ybWFsO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Q29sbGlkYWJsZX0gYVxuICogQHBhcmFtIHtDb2xsaWRhYmxlfSBiXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gZGV0ZWN0Qm91bmRpbmdWb2x1bWVJbnRlcnNlY3Rpb24oYSwgYikge1xuICByZXR1cm4gZGV0ZWN0SW50ZXJzZWN0aW9uKGEuYm91bmRpbmdWb2x1bWUsIGIuYm91bmRpbmdWb2x1bWUpO1xufVxuXG5leHBvcnQge1xuICBkZXRlY3RJbnRlcnNlY3Rpb24sXG4gIGNhbGN1bGF0ZUNvbnRhY3QsXG4gIGRldGVjdEJvdW5kaW5nVm9sdW1lSW50ZXJzZWN0aW9uLFxufTtcbiIsIi8qKlxuICogVGhpcyBtb2R1bGUgcmUtZXhwb3J0cyBhbGwgb2YgdGhlIGV4cG9ydHMgaW4gdGhlIGdyYWZ4IGZyYW1ld29yay4gVGhpcyBtYWtlcyB0aGUgZW50aXJlIGZyYW1ld29ya1xuICogY29udmVuaWVudGx5IGFjY2Vzc2libGUgdmlhIHRoaXMgc2luZ2xlIG1vZHVsZS5cbiAqL1xuXG5leHBvcnQgKiBmcm9tICcuL2NvbGxpc2lvbnMnO1xuZXhwb3J0ICogZnJvbSAnLi9pbnRlZ3JhdG9yJztcbmV4cG9ydCAqIGZyb20gJy4vdXRpbCc7XG5cbmV4cG9ydCAqIGZyb20gJy4vc3JjL3BoeXNpY3MtZW5naW5lJztcbmV4cG9ydCAqIGZyb20gJy4vc3JjL3BoeXNpY3Mtam9iJztcbmV4cG9ydCAqIGZyb20gJy4vc3JjL3BoeXNpY3Mtc3RhdGUnO1xuIiwiZXhwb3J0ICogZnJvbSAnLi9zcmMvaW50ZWdyYXRvcic7XG5leHBvcnQgKiBmcm9tICcuL3NyYy9yazQtaW50ZWdyYXRvcic7XG4iLCIvKipcbiAqIFRoaXMgY2xhc3MgbnVtZXJpY2FsbHkgaW50ZWdyYXRlcyB0aGUgZXF1YXRpb25zIG9mIG1vdGlvbi4gVGhhdCBpcywgYW4gaW50ZWdyYXRvciBpbXBsZW1lbnRzXG4gKiBwaHlzaWNzIHNpbXVsYXRpb25zIGJ5IHVwZGF0aW5nIHBvc2l0aW9uIGFuZCB2ZWxvY2l0eSB2YWx1ZXMgZm9yIGVhY2ggdGltZSBzdGVwLlxuICpcbiAqIEBhYnN0cmFjdFxuICovXG5jbGFzcyBJbnRlZ3JhdG9yIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgLy8gSW50ZWdyYXRvciBpcyBhbiBhYnN0cmFjdCBjbGFzcy4gSXQgc2hvdWxkIG5vdCBiZSBpbnN0YW50aWF0ZWQgZGlyZWN0bHkuXG4gICAgaWYgKG5ldy50YXJnZXQgPT09IEludGVncmF0b3IpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjb25zdHJ1Y3QgSW50ZWdyYXRvciBpbnN0YW5jZXMgZGlyZWN0bHknKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSW50ZWdyYXRlIHRoZSBzdGF0ZSBmcm9tIHQgdG8gdCArIGR0LlxuICAgKlxuICAgKiBAcGFyYW0ge1BoeXNpY3NKb2J9IGpvYlxuICAgKiBAcGFyYW0ge251bWJlcn0gdCBUb3RhbCBlbGFwc2VkIHRpbWUuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBkdCBEdXJhdGlvbiBvZiB0aGUgY3VycmVudCB0aW1lIHN0ZXAuXG4gICAqIEBhYnN0cmFjdFxuICAgKi9cbiAgaW50ZWdyYXRlKGpvYiwgdCwgZHQpIHtcbiAgICAvLyBFeHRlbmRpbmcgY2xhc3NlcyBzaG91bGQgaW1wbGVtZW50IHRoaXMgbWV0aG9kLlxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ01ldGhvZCBub3QgaW1wbGVtZW50ZWQnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7UGh5c2ljc0Rlcml2YXRpdmV9XG4gICAqL1xuICBzdGF0aWMgY3JlYXRlRGVyaXZhdGl2ZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdmVsb2NpdHk6IHZlYzMuY3JlYXRlKCksXG4gICAgICBmb3JjZTogdmVjMy5jcmVhdGUoKSxcbiAgICAgIHNwaW46IHF1YXQuY3JlYXRlKCksXG4gICAgICB0b3JxdWU6IHZlYzMuY3JlYXRlKClcbiAgICB9O1xuICB9XG59XG5cbmV4cG9ydCB7SW50ZWdyYXRvcn07XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gUGh5c2ljc0Rlcml2YXRpdmVcbiAqIEBwcm9wZXJ0eSB7dmVjM30gdmVsb2NpdHkgRGVyaXZhdGl2ZSBvZiBwb3NpdGlvbi5cbiAqIEBwcm9wZXJ0eSB7dmVjM30gZm9yY2UgRGVyaXZhdGl2ZSBvZiBtb21lbnR1bS5cbiAqIEBwcm9wZXJ0eSB7cXVhdH0gc3BpbiBEZXJpdmF0aXZlIG9mIG9yaWVudGF0aW9uLlxuICogQHByb3BlcnR5IHt2ZWMzfSB0b3JxdWUgRGVyaXZhdGl2ZSBvZiBhbmd1bGFyIG1vbWVudHVtLlxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gRm9yY2VBcHBsaWVyT3V0cHV0XG4gKiBAcHJvcGVydHkge3ZlYzN9IGZvcmNlXG4gKiBAcHJvcGVydHkge3ZlYzN9IHRvcnF1ZVxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gRm9yY2VBcHBsaWVySW5wdXRcbiAqIEBwcm9wZXJ0eSB7UGh5c2ljc1N0YXRlfSBzdGF0ZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IHRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkdFxuICovXG4iLCJpbXBvcnQge19nZW9tZXRyeSwgX3V0aWx9IGZyb20gJy4uLy4uL3V0aWwnO1xuaW1wb3J0IHtJbnRlZ3JhdG9yfSBmcm9tICcuL2ludGVncmF0b3InO1xuaW1wb3J0IHtQaHlzaWNzU3RhdGV9IGZyb20gJy4uLy4uL3NyYy9waHlzaWNzLXN0YXRlJztcblxuLy8gVE9ETzogQWNjb3VudCBmb3IgdGhlIGZhY3QgdGhhdCBjb2xsaXNpb25zIHRha2UgcGxhY2UgYmV0d2VlbiB0aW1lIHN0ZXBzOyBpbnRlZ3JhdGlvbiBzaG91bGRcbi8vIHJlYWxseSBjb25zaWRlciB0aGUgcHJldmlvdXMgc3RhdGUgYXMgYmVpbmcgdGhlIHRpbWUgYW5kIHN0YXRlIGF0IHRoZSBtb21lbnQgb2YgY29sbGlzaW9uLlxuXG4vKipcbiAqIFRoaXMgY2xhc3MgbnVtZXJpY2FsbHkgaW50ZWdyYXRlcyB0aGUgZXF1YXRpb25zIG9mIG1vdGlvbi4gVGhhdCBpcywgdGhpcyBpbXBsZW1lbnRzIHBoeXNpY3NcbiAqIHNpbXVsYXRpb25zIGJ5IHVwZGF0aW5nIHBvc2l0aW9uIGFuZCB2ZWxvY2l0eSB2YWx1ZXMgZm9yIGVhY2ggdGltZSBzdGVwLlxuICpcbiAqIFRoaXMgaW50ZWdyYXRvciBpcyBhbiBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgY2xhc3NpY2FsIFJ1bmdlLUt1dHRhIG1ldGhvZCAoUks0KVxuICogKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1J1bmdlX2t1dHRhKS5cbiAqXG4gKiBUaGlzIGludGVncmF0b3IgY2F1c2VzIGVuZXJneSB0byBiZSBsb3N0IGF0IGEgc21hbGwgcmF0ZS4gVGhpcyBpcyBhIGNvbW1vbiBwcm9ibGVtIGZvciBudW1lcmljYWxcbiAqIGludGVncmF0b3JzLCBhbmQgaXMgdXN1YWxseSBuZWdsaWdpYmxlLlxuICovXG5jbGFzcyBSSzRJbnRlZ3JhdG9yIGV4dGVuZHMgSW50ZWdyYXRvciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgaWYgKF91dGlsLmlzSW5EZXZNb2RlKSB7XG4gICAgICB0aGlzLl93cmFwRm9yRGV2TW9kZSgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBJbnRlZ3JhdGUgdGhlIHN0YXRlIGZyb20gdCB0byB0ICsgZHQuXG4gICAqXG4gICAqIEBwYXJhbSB7UGh5c2ljc0pvYn0gam9iXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB0IFRvdGFsIGVsYXBzZWQgdGltZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGR0IER1cmF0aW9uIG9mIHRoZSBjdXJyZW50IHRpbWUgc3RlcC5cbiAgICovXG4gIGludGVncmF0ZShqb2IsIHQsIGR0KSB7XG4gICAgY29uc3Qgc3RhdGUgPSBqb2IuY3VycmVudFN0YXRlO1xuICAgIF90ZW1wU3RhdGUuY29weShzdGF0ZSk7XG5cbiAgICBfY2FsY3VsYXRlRGVyaXZhdGl2ZShfYSwgX3RlbXBTdGF0ZSwgam9iLCB0LCAwLCBfRU1QVFlfREVSSVZBVElWRSk7XG4gICAgX2NhbGN1bGF0ZURlcml2YXRpdmUoX2IsIF90ZW1wU3RhdGUsIGpvYiwgdCwgZHQgKiAwLjUsIF9hKTtcbiAgICBfY2FsY3VsYXRlRGVyaXZhdGl2ZShfYywgX3RlbXBTdGF0ZSwgam9iLCB0LCBkdCAqIDAuNSwgX2IpO1xuICAgIF9jYWxjdWxhdGVEZXJpdmF0aXZlKF9kLCBfdGVtcFN0YXRlLCBqb2IsIHQsIGR0LCBfYyk7XG5cbiAgICBfY2FsY3VsYXRlVmVjM0Rlcml2YXRpdmVXZWlnaHRlZFN1bShcbiAgICAgICAgX3Bvc2l0aW9uRGVyaXZhdGl2ZSwgX2EudmVsb2NpdHksIF9iLnZlbG9jaXR5LCBfYy52ZWxvY2l0eSwgX2QudmVsb2NpdHkpO1xuICAgIF9jYWxjdWxhdGVWZWMzRGVyaXZhdGl2ZVdlaWdodGVkU3VtKFxuICAgICAgICBfbW9tZW50dW1EZXJpdmF0aXZlLCBfYS5mb3JjZSwgX2IuZm9yY2UsIF9jLmZvcmNlLCBfZC5mb3JjZSk7XG4gICAgX2NhbGN1bGF0ZVF1YXREZXJpdmF0aXZlV2VpZ2h0ZWRTdW0oX29yaWVudGF0aW9uRGVyaXZhdGl2ZSwgX2Euc3BpbiwgX2Iuc3BpbiwgX2Muc3BpbiwgX2Quc3Bpbik7XG4gICAgX2NhbGN1bGF0ZVZlYzNEZXJpdmF0aXZlV2VpZ2h0ZWRTdW0oXG4gICAgICAgIF9hbmd1bGFyTW9tZW50dW1EZXJpdmF0aXZlLCBfYS50b3JxdWUsIF9iLnRvcnF1ZSwgX2MudG9ycXVlLCBfZC50b3JxdWUpO1xuXG4gICAgdmVjMy5zY2FsZUFuZEFkZChzdGF0ZS5wb3NpdGlvbiwgc3RhdGUucG9zaXRpb24sIF9wb3NpdGlvbkRlcml2YXRpdmUsIGR0KTtcbiAgICB2ZWMzLnNjYWxlQW5kQWRkKHN0YXRlLm1vbWVudHVtLCBzdGF0ZS5tb21lbnR1bSwgX21vbWVudHVtRGVyaXZhdGl2ZSwgZHQpO1xuICAgIF9nZW9tZXRyeS5zY2FsZUFuZEFkZFF1YXQoc3RhdGUub3JpZW50YXRpb24sIHN0YXRlLm9yaWVudGF0aW9uLCBfb3JpZW50YXRpb25EZXJpdmF0aXZlLCBkdCk7XG4gICAgdmVjMy5zY2FsZUFuZEFkZChzdGF0ZS5hbmd1bGFyTW9tZW50dW0sIHN0YXRlLmFuZ3VsYXJNb21lbnR1bSwgX2FuZ3VsYXJNb21lbnR1bURlcml2YXRpdmUsIGR0KTtcblxuICAgIHN0YXRlLnVwZGF0ZURlcGVuZGVudEZpZWxkcygpO1xuICB9XG5cbiAgLyoqXG4gICAqIFdyYXBzIHRoZSBpbnRlZ3JhdGUgbWV0aG9kIGFuZCBjaGVjayBmb3IgTmFOIHZhbHVlcyBhZnRlciBlYWNoIGludGVncmF0aW9uLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3dyYXBGb3JEZXZNb2RlKCkge1xuICAgIGNvbnN0IHVuZ3VhcmRlZEludGVncmF0ZSA9IHRoaXMuaW50ZWdyYXRlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5pbnRlZ3JhdGUgPSAoam9iLCB0LCBkdCkgPT4ge1xuICAgICAgdW5ndWFyZGVkSW50ZWdyYXRlKGpvYiwgdCwgZHQpO1xuICAgICAgX2NoZWNrRm9yU3RhdGVFcnJvcihqb2IuY3VycmVudFN0YXRlKTtcbiAgICB9O1xuICB9XG59XG5cbi8qKlxuICogQ2FsY3VsYXRlIHRoZSBkZXJpdmF0aXZlIGZyb20gdGhlIGdpdmVuIHN0YXRlIHdpdGggdGhlIGdpdmVuIHRpbWUgc3RlcC5cbiAqXG4gKiBAcGFyYW0ge1BoeXNpY3NEZXJpdmF0aXZlfSBvdXRcbiAqIEBwYXJhbSB7UGh5c2ljc1N0YXRlfSBzdGF0ZVxuICogQHBhcmFtIHtQaHlzaWNzSm9ifSBqb2JcbiAqIEBwYXJhbSB7bnVtYmVyfSB0XG4gKiBAcGFyYW0ge251bWJlcn0gZHRcbiAqIEBwYXJhbSB7UGh5c2ljc0Rlcml2YXRpdmV9IGRcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIF9jYWxjdWxhdGVEZXJpdmF0aXZlKG91dCwgc3RhdGUsIGpvYiwgdCwgZHQsIGQpIHtcbiAgdmVjMy5zY2FsZUFuZEFkZChzdGF0ZS5wb3NpdGlvbiwgc3RhdGUucG9zaXRpb24sIGQudmVsb2NpdHksIGR0KTtcbiAgdmVjMy5zY2FsZUFuZEFkZChzdGF0ZS5tb21lbnR1bSwgc3RhdGUubW9tZW50dW0sIGQuZm9yY2UsIGR0KTtcbiAgX2dlb21ldHJ5LnNjYWxlQW5kQWRkUXVhdChzdGF0ZS5vcmllbnRhdGlvbiwgc3RhdGUub3JpZW50YXRpb24sIGQuc3BpbiwgZHQpO1xuICB2ZWMzLnNjYWxlQW5kQWRkKHN0YXRlLmFuZ3VsYXJNb21lbnR1bSwgc3RhdGUuYW5ndWxhck1vbWVudHVtLCBkLnRvcnF1ZSwgZHQpO1xuXG4gIHN0YXRlLnVwZGF0ZURlcGVuZGVudEZpZWxkcygpO1xuXG4gIG91dC52ZWxvY2l0eSA9IHN0YXRlLnZlbG9jaXR5O1xuICBvdXQuc3BpbiA9IHN0YXRlLnNwaW47XG4gIHZlYzMuc2V0KG91dC5mb3JjZSwgMCwgMCwgMCk7XG4gIHZlYzMuc2V0KG91dC50b3JxdWUsIDAsIDAsIDApO1xuXG4gIF9mb3JjZUFwcGxpZXJPdXRwdXQuZm9yY2UgPSBvdXQuZm9yY2U7XG4gIF9mb3JjZUFwcGxpZXJPdXRwdXQudG9ycXVlID0gb3V0LnRvcnF1ZTtcbiAgX2ZvcmNlQXBwbGllcklucHV0LnN0YXRlID0gc3RhdGU7XG4gIF9mb3JjZUFwcGxpZXJJbnB1dC50ID0gdCArIGR0O1xuICBfZm9yY2VBcHBsaWVySW5wdXQuZHQgPSBkdDtcblxuICBqb2IuYXBwbHlGb3JjZXMoX2ZvcmNlQXBwbGllck91dHB1dCwgX2ZvcmNlQXBwbGllcklucHV0KTtcbn1cblxuY29uc3QgX0VNUFRZX0RFUklWQVRJVkUgPSBJbnRlZ3JhdG9yLmNyZWF0ZURlcml2YXRpdmUoKTtcblxuY29uc3QgX3RlbXBTdGF0ZSA9IG5ldyBQaHlzaWNzU3RhdGUoKTtcbmNvbnN0IF9hID0gSW50ZWdyYXRvci5jcmVhdGVEZXJpdmF0aXZlKCk7XG5jb25zdCBfYiA9IEludGVncmF0b3IuY3JlYXRlRGVyaXZhdGl2ZSgpO1xuY29uc3QgX2MgPSBJbnRlZ3JhdG9yLmNyZWF0ZURlcml2YXRpdmUoKTtcbmNvbnN0IF9kID0gSW50ZWdyYXRvci5jcmVhdGVEZXJpdmF0aXZlKCk7XG5cbmNvbnN0IF9wb3NpdGlvbkRlcml2YXRpdmUgPSB2ZWMzLmNyZWF0ZSgpO1xuY29uc3QgX21vbWVudHVtRGVyaXZhdGl2ZSA9IHZlYzMuY3JlYXRlKCk7XG5jb25zdCBfb3JpZW50YXRpb25EZXJpdmF0aXZlID0gcXVhdC5jcmVhdGUoKTtcbmNvbnN0IF9hbmd1bGFyTW9tZW50dW1EZXJpdmF0aXZlID0gdmVjMy5jcmVhdGUoKTtcblxuY29uc3QgX2ZvcmNlQXBwbGllck91dHB1dCA9IHt9O1xuY29uc3QgX2ZvcmNlQXBwbGllcklucHV0ID0ge307XG5cbi8qKlxuICogQHBhcmFtIHt2ZWMzfSBvdXRcbiAqIEBwYXJhbSB7dmVjM30gYVxuICogQHBhcmFtIHt2ZWMzfSBiXG4gKiBAcGFyYW0ge3ZlYzN9IGNcbiAqIEBwYXJhbSB7dmVjM30gZFxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX2NhbGN1bGF0ZVZlYzNEZXJpdmF0aXZlV2VpZ2h0ZWRTdW0ob3V0LCBhLCBiLCBjLCBkKSB7XG4gIG91dFswXSA9IDEgLyA2ICogKGFbMF0gKyAyICogKGJbMF0gKyBjWzBdKSArIGRbMF0pO1xuICBvdXRbMV0gPSAxIC8gNiAqIChhWzFdICsgMiAqIChiWzFdICsgY1sxXSkgKyBkWzFdKTtcbiAgb3V0WzJdID0gMSAvIDYgKiAoYVsyXSArIDIgKiAoYlsyXSArIGNbMl0pICsgZFsyXSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtxdWF0fSBvdXRcbiAqIEBwYXJhbSB7cXVhdH0gYVxuICogQHBhcmFtIHtxdWF0fSBiXG4gKiBAcGFyYW0ge3F1YXR9IGNcbiAqIEBwYXJhbSB7cXVhdH0gZFxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX2NhbGN1bGF0ZVF1YXREZXJpdmF0aXZlV2VpZ2h0ZWRTdW0ob3V0LCBhLCBiLCBjLCBkKSB7XG4gIG91dFswXSA9IDEgLyA2ICogKGFbMF0gKyAyICogKGJbMF0gKyBjWzBdKSArIGRbMF0pO1xuICBvdXRbMV0gPSAxIC8gNiAqIChhWzFdICsgMiAqIChiWzFdICsgY1sxXSkgKyBkWzFdKTtcbiAgb3V0WzJdID0gMSAvIDYgKiAoYVsyXSArIDIgKiAoYlsyXSArIGNbMl0pICsgZFsyXSk7XG4gIG91dFszXSA9IDEgLyA2ICogKGFbM10gKyAyICogKGJbM10gKyBjWzNdKSArIGRbM10pO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7UGh5c2ljc1N0YXRlfSBzdGF0ZVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX2NoZWNrRm9yU3RhdGVFcnJvcihzdGF0ZSkge1xuICBjb25zdCBlcnJvclByb3BlcnRpZXMgPSBbXG4gICAgJ3Bvc2l0aW9uJyxcbiAgICAnbW9tZW50dW0nLFxuICAgICdvcmllbnRhdGlvbicsXG4gICAgJ2FuZ3VsYXJNb21lbnR1bScsXG4gIF0uZmlsdGVyKHByb3BlcnR5ID0+IF9jb250YWluc05hTihzdGF0ZVtwcm9wZXJ0eV0pKTtcbiAgY29uc3QgcHJvcGVydHkgPSBlcnJvclByb3BlcnRpZXNbMF07XG4gIGlmIChwcm9wZXJ0eSkge1xuICAgIHRocm93IG5ldyBFcnJvcihgJHtwcm9wZXJ0eX0gY29udGFpbnMgYSBOYU4gdmFsdWUgYWZ0ZXIgaW50ZWdyYXRpbmc6ICR7c3RhdGVbcHJvcGVydHldfWApO1xuICB9XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBnaXZlbiB2ZWN0b3IgY29udGFpbnMgYSBOYU4gdmFsdWUuXG4gKlxuICogQHBhcmFtIHt2ZWMzfSB2XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfY29udGFpbnNOYU4odikge1xuICByZXR1cm4gaXNOYU4odlswXSkgfHwgaXNOYU4odlsxXSkgfHwgaXNOYU4odlsyXSk7XG59XG5cbmNvbnN0IHJrNEludGVncmF0b3IgPSBuZXcgUks0SW50ZWdyYXRvcigpO1xuXG5leHBvcnQge3JrNEludGVncmF0b3J9O1xuIiwiaW1wb3J0IHtGcmFtZUxhdGVuY3lQcm9maWxlciwgUGVyc2lzdGVudEFuaW1hdGlvbkpvYn0gZnJvbSAnbHNsLWFuaW1hdGV4JztcbmltcG9ydCB7X3V0aWx9IGZyb20gJy4uL3V0aWwnO1xuXG5pbXBvcnQge1xuICBjaGVja1RoYXROb09iamVjdHNDb2xsaWRlLFxuICBDb2xsaWRhYmxlUGh5c2ljc0pvYixcbiAgZGV0ZXJtaW5lSm9ic0F0UmVzdCxcbiAgaGFuZGxlQ29sbGlzaW9uc0ZvckpvYixcbiAgcmVjb3JkT2xkQ29sbGlzaW9uc0ZvckRldk1vZGVGb3JBbGxDb2xsaWRhYmxlcyxcbn0gZnJvbSAnLi4vY29sbGlzaW9ucyc7XG5pbXBvcnQge1BoeXNpY3NTdGF0ZX0gZnJvbSAnLi9waHlzaWNzLXN0YXRlJztcbmltcG9ydCB7cms0SW50ZWdyYXRvcn0gZnJvbSAnLi4vaW50ZWdyYXRvcic7XG5cbmNvbnN0IF9GUkFNRV9MQVRFTkNZX0xPR19QRVJJT0QgPSA1MDAwO1xuY29uc3QgX0xBVEVOQ1lfTE9HX0xBQkVMID0gJ1BoeXNpY3MgZnJhbWUgZHVyYXRpb24nO1xuXG4vKipcbiAqIFRoaXMgcGh5c2ljcyBlbmdpbmUgc2ltdWxhdGVzIGhpZ2gtcGVyZm9ybWFuY2UsIHRocmVlLWRpbWVuc2lvbmFsIHJpZ2lkLWJvZHkgZHluYW1pY3MuXG4gKlxuICogTm90YWJsZSBmZWF0dXJlczpcbiAqIC0gSW5jbHVkZXMgY29sbGlzaW9uIGRldGVjdGlvbiB3aXRoIGltcHVsc2UtYmFzZWQgcmVzb2x1dGlvbi5cbiAqIC0gRGVjb3VwbGVzIHRoZSBwaHlzaWNzIHNpbXVsYXRpb24gYW5kIGFuaW1hdGlvbiByZW5kZXJpbmcgdGltZSBzdGVwcywgYW5kIHVzZXMgYSBmaXhlZCB0aW1lc3RlcFxuICogZm9yIHRoZSBwaHlzaWNzIGxvb3AuIFRoaXMgZ2l2ZXMgdXMgbnVtZXJpY2FsIHN0YWJpbGl0eSBhbmQgcHJlY2lzZSByZXByb2R1Y2liaWxpdHkuXG4gKiAtIFN1cHByZXNzZXMgbGluZWFyIGFuZCBhbmd1bGFyIG1vbWVudGEgYmVsb3cgYSBjZXJ0YWluIHRocmVzaG9sZC5cbiAqXG4gKiBUaGUgZW5naW5lIGNvbnNpc3RzIHByaW1hcmlseSBvZiBhIGNvbGxlY3Rpb24gb2YgaW5kaXZpZHVhbCBwaHlzaWNzIGpvYnMgYW5kIGFuIHVwZGF0ZSBsb29wLiBUaGlzXG4gKiB1cGRhdGUgbG9vcCBpcyBpbiB0dXJuIGNvbnRyb2xsZWQgYnkgdGhlIGFuaW1hdGlvbiBsb29wLiBIb3dldmVyLCB3aGVyZWFzIHRoZSBhbmltYXRpb24gbG9vcFxuICogcmVuZGVycyBlYWNoIGpvYiBvbmNlIHBlciBmcmFtZSBsb29wLS1yZWdhcmRsZXNzIG9mIGhvdyBtdWNoIHRpbWUgYWN0dWFsbHkgZWxhcHNlZCBzaW5jZSB0aGVcbiAqIHByZXZpb3VzIGZyYW1lLS10aGUgcGh5c2ljcyBsb29wIHVwZGF0ZXMgaXRzIGpvYnMgYXQgYSBjb25zdGFudCByYXRlLiBUbyByZWNvbmNpbGUgdGhlc2UgZnJhbWVcbiAqIHJhdGVzLCB0aGUgcGh5c2ljcyBsb29wIHJ1bnMgYXMgbWFueSB0aW1lcyBhcyBpcyBuZWVkZWQgaW4gb3JkZXIgdG8gY2F0Y2ggdXAgdG8gdGhlIHRpbWUgb2YgdGhlXG4gKiBjdXJyZW50IGFuaW1hdGlvbiBmcmFtZS4gVGhlIHBoeXNpY3MgZnJhbWUgcmF0ZSBzaG91bGQgYmUgbXVjaCBoaWdoZXIgdGhhbiB0aGUgYW5pbWF0aW9uIGZyYW1lXG4gKiByYXRlLlxuICpcbiAqIEl0IGlzIFZFUlkgSU1QT1JUQU5UIGZvciBhIFBoeXNpY3NKb2IgdG8gbWluaW1pemUgdGhlIHJ1bnRpbWUgb2YgaXRzIHVwZGF0ZSBzdGVwLlxuICpcbiAqICMjIEEgbm90ZSBvbiBqb2Igb3JkZXJcbiAqXG4gKiBUaGUgaW50ZWdyYXRpb24rY29sbGlzaW9uIHBpcGVsaW5lIGhhbmRsZSBvbmUgam9iIGF0IGEgdGltZS4gQSBjb25zZXF1ZW5jZSBvZiB0aGlzIGRlc2lnblxuICogaXMgdGhhdCBoYWxmIG9mIHRoZSBjb2xsaXNpb25zIHRlY2huaWNhbGx5IHJlcHJlc2VudCBhIGZhbHNlIGludGVyYWN0aW9uIGJldHdlZW4gdGhlIHN0YXRlIG9mIHRoZVxuICogZmlyc3Qgb2JqZWN0IGF0IHRpbWUgdCBhbmQgdGhlIHN0YXRlIG9mIHRoZSBzZWNvbmQgb2JqZWN0IGF0IHRpbWUgdCAtIDEuXG4gKlxuICogVGhpcyBpbXBsZW1lbnRhdGlvbiBwcmV2ZW50cyBhIG1vcmUgcHJvYmxlbWF0aWMgaXNzdWUuIElmIGFsbCBvYmplY3RzIHdlcmUgZmlyc3QgaW50ZWdyYXRlZCwgdGhlblxuICogYWxsIG9iamVjdHMgd2VyZSBjaGVja2VkIGZvciBjb2xsaXNpb25zLCB0aGVuIGFsbCBjb2xsaXNpb25zIHdlcmUgcmVzb2x2ZWQsIHRoZW4gdGhlIGZvbGxvd2luZ1xuICogc2NlbmFyaW8gY291bGQgYXJpc2U6XG4gKiAtIFRoZSBuZXh0IHBvc2l0aW9uIG9mIG9iamVjdCBBIGNvbGxpZGVzIHdpdGggdGhlIHByZXZpb3VzIHBvc2l0aW9uIG9mIG9iamVjdCBCLCBidXQgbm90IHdpdGggdGhlXG4gKiAgIG5leHQgcG9zaXRpb24gb2Ygb2JqZWN0IEIsIHNvIG9iamVjdCBBIG1vdmVzIHN1Y2Nlc3NmdWxseSB0byBpdHMgbmV3IHBvc2l0aW9uLlxuICogLSBUaGUgbmV4dCBwb3NpdGlvbiBvZiBvYmplY3QgQiBjb2xsaWRlcyB3aXRoIHRoZSBuZXh0IHBvc2l0aW9uIG9mIG9iamVjdCBDLCBzbyBvYmplY3RzIEIgYW5kIENcbiAqICAgYXJlIHJlc2V0IHRvIHRoZWlyIHByZXZpb3VzIHBvc2l0aW9ucy5cbiAqIC0gT2JqZWN0IEIgYW5kIEMgbm93IGludGVyc2VjdC5cbiAqL1xuY2xhc3MgUGh5c2ljc0VuZ2luZSBleHRlbmRzIFBlcnNpc3RlbnRBbmltYXRpb25Kb2Ige1xuICAvKipcbiAgICogQ2xpZW50cyBzaG91bGQgY2FsbCBQaHlzaWNzRW5naW5lLmNyZWF0ZSBpbnN0ZWFkIG9mIGluc3RhbnRpYXRpbmcgYSBQaHlzaWNzRW5naW5lIGRpcmVjdGx5LlxuICAgKlxuICAgKiBAcGFyYW0ge1BoeXNpY3NDb25maWd9IHBoeXNpY3NQYXJhbXNcbiAgICovXG4gIGNvbnN0cnVjdG9yKHBoeXNpY3NQYXJhbXMpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgaWYgKF9waHlzaWNzRW5naW5lKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhblxcJ3QgaW5zdGFudGlhdGUgbXVsdGlwbGUgaW5zdGFuY2VzIG9mIFBoeXNpY3NFbmdpbmUuJyk7XG4gICAgfVxuXG4gICAgX3BoeXNpY3NFbmdpbmUgPSB0aGlzO1xuXG4gICAgdGhpcy5fcGh5c2ljc1BhcmFtcyA9IHBoeXNpY3NQYXJhbXM7XG4gICAgdGhpcy5pbnRlZ3JhdG9yID0gcms0SW50ZWdyYXRvcjtcbiAgICB0aGlzLl9lbGFwc2VkVGltZSA9IDAuMDtcbiAgICB0aGlzLl9yZW1haW5pbmdUaW1lID0gMC4wO1xuICAgIHRoaXMuX25vbkNvbGxpZGFibGVKb2JzID0gW107XG4gICAgdGhpcy5fY29sbGlkYWJsZUpvYnMgPSBbXTtcblxuICAgIGlmIChfdXRpbC5pc0luRGV2TW9kZSkge1xuICAgICAgdGhpcy5fc2V0VXBGb3JJbkRldk1vZGUoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtQaHlzaWNzQ29uZmlnfSBwaHlzaWNzUGFyYW1zXG4gICAqL1xuICBzdGF0aWMgY3JlYXRlKHBoeXNpY3NQYXJhbXMpIHtcbiAgICBuZXcgUGh5c2ljc0VuZ2luZShwaHlzaWNzUGFyYW1zKTtcbiAgfVxuXG4gIHJlc2V0KCkge1xuICAgIHRoaXMuX2VsYXBzZWRUaW1lID0gMC4wO1xuICAgIHRoaXMuX3JlbWFpbmluZ1RpbWUgPSAwLjA7XG4gICAgdGhpcy5fbm9uQ29sbGlkYWJsZUpvYnMgPSBbXTtcbiAgICB0aGlzLl9jb2xsaWRhYmxlSm9icyA9IFtdO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgdGhlIGdpdmVuIFBoeXNpY3NKb2IuXG4gICAqXG4gICAqIEBwYXJhbSB7UGh5c2ljc0pvYn0gam9iXG4gICAqL1xuICBhZGRKb2Ioam9iKSB7XG4gICAgLy8gY29uc29sZS5kZWJ1ZyhgU3RhcnRpbmcgUGh5c2ljc0pvYmApO1xuXG4gICAgaWYgKGpvYiBpbnN0YW5jZW9mIENvbGxpZGFibGVQaHlzaWNzSm9iKSB7XG4gICAgICB0aGlzLl9jb2xsaWRhYmxlSm9icy5wdXNoKGpvYik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX25vbkNvbGxpZGFibGVKb2JzLnB1c2goam9iKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyB0aGUgZ2l2ZW4gUGh5c2ljc0pvYi5cbiAgICpcbiAgICogVGhyb3dzIG5vIGVycm9yIGlmIHRoZSBqb2IgaXMgbm90IHJlZ2lzdGVyZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7UGh5c2ljc0pvYn0gam9iXG4gICAqL1xuICByZW1vdmVKb2Ioam9iKSB7XG4gICAgLy8gY29uc29sZS5kZWJ1ZyhgQ2FuY2VsbGluZyBQaHlzaWNzSm9iYCk7XG4gICAgdGhpcy5fcmVtb3ZlSm9iKGpvYik7XG4gIH1cblxuICAvKipcbiAgICogV3JhcHMgdGhlIGRyYXcgYW5kIHVwZGF0ZSBtZXRob2RzIGluIGEgcHJvZmlsZXIgZnVuY3Rpb24gdGhhdCB3aWxsIHRyYWNrIHRoZSBmcmFtZSBsYXRlbmNpZXMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfc2V0VXBGb3JJbkRldk1vZGUoKSB7XG4gICAgY29uc3QgdW53cmFwcGVkVXBkYXRlID0gdGhpcy51cGRhdGUuYmluZCh0aGlzKTtcbiAgICBjb25zdCBsYXRlbmN5UHJvZmlsZXIgPSBuZXcgRnJhbWVMYXRlbmN5UHJvZmlsZXIoX0ZSQU1FX0xBVEVOQ1lfTE9HX1BFUklPRCwgXG4gICAgICAgIHRoaXMuX3BoeXNpY3NQYXJhbXMudGltZVN0ZXBEdXJhdGlvbiwgX0xBVEVOQ1lfTE9HX0xBQkVMKTtcbiAgICBsYXRlbmN5UHJvZmlsZXIuc3RhcnQoKTtcblxuICAgIHRoaXMudXBkYXRlID0gKC4uLmFyZ3MpID0+IHtcbiAgICAgIGNvbnN0IGJlZm9yZVRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgIHVud3JhcHBlZFVwZGF0ZSguLi5hcmdzKTtcbiAgICAgIGNvbnN0IGRlbHRhVGltZSA9IHBlcmZvcm1hbmNlLm5vdygpIC0gYmVmb3JlVGltZTtcbiAgICAgIGxhdGVuY3lQcm9maWxlci5yZWNvcmRGcmFtZUxhdGVuY3koZGVsdGFUaW1lKTtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGUgcGh5c2ljcyBzdGF0ZSBmb3IgdGhlIGN1cnJlbnQgYW5pbWF0aW9uIHVwZGF0ZSBmcmFtZS5cbiAgICpcbiAgICogQHBhcmFtIHtET01IaWdoUmVzVGltZVN0YW1wfSBjdXJyZW50VGltZVxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGRlbHRhVGltZVxuICAgKi9cbiAgdXBkYXRlKGN1cnJlbnRUaW1lLCBkZWx0YVRpbWUpIHtcbiAgICB0aGlzLl9yZW1haW5pbmdUaW1lICs9IGRlbHRhVGltZTtcblxuICAgIC8vIFJ1biBhcyBtYW55IGNvbnN0YW50LWludGVydmFsIHBoeXNpY3MgdXBkYXRlcyBhcyBhcmUgbmVlZGVkIGZvciB0aGUgZ2l2ZW4gYW5pbWF0aW9uIGZyYW1lXG4gICAgLy8gaW50ZXJ2YWwuXG4gICAgd2hpbGUgKHRoaXMuX3JlbWFpbmluZ1RpbWUgPj0gdGhpcy5fcGh5c2ljc1BhcmFtcy50aW1lU3RlcER1cmF0aW9uKSB7XG4gICAgICB0aGlzLl91cGRhdGVUb05leHRQaHlzaWNzRnJhbWUoKTtcbiAgICAgIHRoaXMuX2VsYXBzZWRUaW1lICs9IHRoaXMuX3BoeXNpY3NQYXJhbXMudGltZVN0ZXBEdXJhdGlvbjtcbiAgICAgIHRoaXMuX3JlbWFpbmluZ1RpbWUgLT0gdGhpcy5fcGh5c2ljc1BhcmFtcy50aW1lU3RlcER1cmF0aW9uO1xuICAgIH1cblxuICAgIC8vIENhbGN1bGF0ZSB0aGUgaW50ZXJtZWRpYXRlIHBoeXNpY3Mgc3RhdGUgdG8gdXNlIGZvciByZW5kZXJpbmcgdGhlIGN1cnJlbnQgYW5pbWF0aW9uIGZyYW1lLlxuICAgIGNvbnN0IHBhcnRpYWxSYXRpbyA9IHRoaXMuX3JlbWFpbmluZ1RpbWUgLyB0aGlzLl9waHlzaWNzUGFyYW1zLnRpbWVTdGVwRHVyYXRpb247XG4gICAgdGhpcy5fc2V0UGFydGlhbFN0YXRlRm9yUmVuZGVyVGltZVN0ZXBGb3JBbGxKb2JzKHBhcnRpYWxSYXRpbyk7XG4gIH1cblxuICBfdXBkYXRlVG9OZXh0UGh5c2ljc0ZyYW1lKCkge1xuICAgIGlmIChfdXRpbC5pc0luRGV2TW9kZSkge1xuICAgICAgdGhpcy5fcmVjb3JkT2xkU3RhdGVzRm9yQWxsSm9ic0ZvckRldk1vZGUoKTtcbiAgICAgIHJlY29yZE9sZENvbGxpc2lvbnNGb3JEZXZNb2RlRm9yQWxsQ29sbGlkYWJsZXMoKTtcbiAgICB9XG5cbiAgICB0aGlzLl9ub25Db2xsaWRhYmxlSm9icy5mb3JFYWNoKHRoaXMuX2ludGVncmF0ZVBoeXNpY3NTdGF0ZUZvckpvYi5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLl9jb2xsaWRhYmxlSm9icy5mb3JFYWNoKGpvYiA9PiB7XG4gICAgICBpZiAoIWpvYi5pc0F0UmVzdCkge1xuICAgICAgICB0aGlzLl9pbnRlZ3JhdGVQaHlzaWNzU3RhdGVGb3JDb2xsaWRhYmxlSm9iKGpvYik7XG4gICAgICAgIGhhbmRsZUNvbGxpc2lvbnNGb3JKb2Ioam9iLCB0aGlzLl9lbGFwc2VkVGltZSwgdGhpcy5fcGh5c2ljc1BhcmFtcyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAoX3V0aWwuaXNJbkRldk1vZGUpIHtcbiAgICAgIGNoZWNrVGhhdE5vT2JqZWN0c0NvbGxpZGUoKTtcbiAgICB9XG5cbiAgICB0aGlzLl9zdXBwcmVzc0xvd01vbWVudGFGb3JBbGxKb2JzKCk7XG5cbiAgICBkZXRlcm1pbmVKb2JzQXRSZXN0KHRoaXMuX2NvbGxpZGFibGVKb2JzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIHRoZSBnaXZlbiBqb2IgZnJvbSB0aGUgY29sbGVjdGlvbiBvZiBhY3RpdmUgam9icyBpZiBpdCBleGlzdHMuXG4gICAqXG4gICAqIEBwYXJhbSB7UGh5c2ljc0pvYn0gam9iXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbaW5kZXg9LTFdXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfcmVtb3ZlSm9iKGpvYiwgaW5kZXggPSAtMSkge1xuICAgIGlmIChqb2IgaW5zdGFuY2VvZiBDb2xsaWRhYmxlUGh5c2ljc0pvYikge1xuICAgICAgX3JlbW92ZUpvYkZyb21Db2xsZWN0aW9uKGpvYiwgaW5kZXgsIHRoaXMuX2NvbGxpZGFibGVKb2JzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgX3JlbW92ZUpvYkZyb21Db2xsZWN0aW9uKGpvYiwgaW5kZXgsIHRoaXMuX25vbkNvbGxpZGFibGVKb2JzKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIHRoZSBjdXJyZW50IHBoeXNpY3Mgc3RhdGUgZm9yIGEgam9iIGZvciB0aGUgY3VycmVudCBwaHlzaWNzIHVwZGF0ZSBmcmFtZS5cbiAgICpcbiAgICogVGhpcyBpbmNsdWRlcyBhcHBseWluZyBhbGwgZm9yY2VzIHRoYXQgaGF2ZSBiZWVuIHJlZ2lzdGVyZWQgd2l0aCB0aGUgcGh5c2ljcyBqb2IuXG4gICAqXG4gICAqIEBwYXJhbSB7Q29sbGlkYWJsZVBoeXNpY3NKb2J9IGpvYlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2ludGVncmF0ZVBoeXNpY3NTdGF0ZUZvckNvbGxpZGFibGVKb2Ioam9iKSB7XG4gICAgdGhpcy5faW50ZWdyYXRlUGh5c2ljc1N0YXRlRm9ySm9iKGpvYik7XG5cbiAgICAvLyBVcGRhdGUgdGhlIGNvbGxpZGFibGUncyBwb3NpdGlvbiBhbmQgb3JpZW50YXRpb24uXG4gICAgam9iLmNvbGxpZGFibGUucG9zaXRpb24gPSBqb2IuY3VycmVudFN0YXRlLnBvc2l0aW9uO1xuICAgIGpvYi5jb2xsaWRhYmxlLm9yaWVudGF0aW9uID0gam9iLmN1cnJlbnRTdGF0ZS5vcmllbnRhdGlvbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgdGhlIGN1cnJlbnQgcGh5c2ljcyBzdGF0ZSBmb3IgYSBqb2IgZm9yIHRoZSBjdXJyZW50IHBoeXNpY3MgdXBkYXRlIGZyYW1lLlxuICAgKlxuICAgKiBUaGlzIGluY2x1ZGVzIGFwcGx5aW5nIGFsbCBmb3JjZXMgdGhhdCBoYXZlIGJlZW4gcmVnaXN0ZXJlZCB3aXRoIHRoZSBwaHlzaWNzIGpvYi5cbiAgICpcbiAgICogQHBhcmFtIHtQaHlzaWNzSm9ifSBqb2JcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9pbnRlZ3JhdGVQaHlzaWNzU3RhdGVGb3JKb2Ioam9iKSB7XG4gICAgam9iLnByZXZpb3VzU3RhdGUuY29weShqb2IuY3VycmVudFN0YXRlKTtcbiAgICB0aGlzLmludGVncmF0b3IuaW50ZWdyYXRlKGpvYiwgdGhpcy5fZWxhcHNlZFRpbWUsIHRoaXMuX3BoeXNpY3NQYXJhbXMudGltZVN0ZXBEdXJhdGlvbik7XG4gIH1cblxuICBfc3VwcHJlc3NMb3dNb21lbnRhRm9yQWxsSm9icygpIHtcbiAgICB0aGlzLl9jb2xsaWRhYmxlSm9icy5mb3JFYWNoKGpvYiA9PiBfc3VwcHJlc3NMb3dNb21lbnRhRm9ySm9iKGpvYixcbiAgICAgICAgdGhpcy5fcGh5c2ljc1BhcmFtcy5sb3dNb21lbnR1bVN1cHByZXNzaW9uVGhyZXNob2xkLFxuICAgICAgICB0aGlzLl9waHlzaWNzUGFyYW1zLmxvd0FuZ3VsYXJNb21lbnR1bVN1cHByZXNzaW9uVGhyZXNob2xkKSk7XG4gICAgdGhpcy5fbm9uQ29sbGlkYWJsZUpvYnMuZm9yRWFjaChqb2IgPT4gX3N1cHByZXNzTG93TW9tZW50YUZvckpvYihqb2IsXG4gICAgICAgIHRoaXMuX3BoeXNpY3NQYXJhbXMubG93TW9tZW50dW1TdXBwcmVzc2lvblRocmVzaG9sZCxcbiAgICAgICAgdGhpcy5fcGh5c2ljc1BhcmFtcy5sb3dBbmd1bGFyTW9tZW50dW1TdXBwcmVzc2lvblRocmVzaG9sZCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZSB0aGUgaW50ZXJtZWRpYXRlIHBoeXNpY3Mgc3RhdGUgdG8gdXNlIGZvciByZW5kZXJpbmcgdGhlIGN1cnJlbnQgYW5pbWF0aW9uIGZyYW1lLiBUaGVcbiAgICogZ2l2ZW4gcmF0aW8gc3BlY2lmaWVzIGhvdyBmYXIgdGhlIGN1cnJlbnQgcmVuZGVyIGZyYW1lIGlzIGJldHdlZW4gdGhlIHByZXZpb3VzIGFuZCBjdXJyZW50XG4gICAqIHBoeXNpY3MgdXBkYXRlIGZyYW1lcy5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IHBhcnRpYWxSYXRpb1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3NldFBhcnRpYWxTdGF0ZUZvclJlbmRlclRpbWVTdGVwRm9yQWxsSm9icyhwYXJ0aWFsUmF0aW8pIHtcbiAgICB0aGlzLl9jb2xsaWRhYmxlSm9icy5mb3JFYWNoKF9zZXRQYXJ0aWFsU3RhdGVGb3JSZW5kZXJUaW1lU3RlcEZvckpvYi5iaW5kKG51bGwsIHBhcnRpYWxSYXRpbykpO1xuICAgIHRoaXMuX25vbkNvbGxpZGFibGVKb2JzLmZvckVhY2goX3NldFBhcnRpYWxTdGF0ZUZvclJlbmRlclRpbWVTdGVwRm9ySm9iLmJpbmQobnVsbCwgcGFydGlhbFJhdGlvKSk7XG4gIH1cblxuICBfcmVjb3JkT2xkU3RhdGVzRm9yQWxsSm9ic0ZvckRldk1vZGUoKSB7XG4gICAgdGhpcy5fY29sbGlkYWJsZUpvYnMuZm9yRWFjaChfcmVjb3JkT2xkU3RhdGVzRm9ySm9iKTtcbiAgICB0aGlzLl9ub25Db2xsaWRhYmxlSm9icy5mb3JFYWNoKF9yZWNvcmRPbGRTdGF0ZXNGb3JKb2IpO1xuICB9XG5cbiAgZHJhdygpIHt9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtQaHlzaWNzRW5naW5lfVxuICAgKi9cbiAgc3RhdGljIGdldCBpbnN0YW5jZSgpIHtcbiAgICBpZiAoIV9waHlzaWNzRW5naW5lKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhblxcJ3QgYWNjZXNzIFBoeXNpY3NFbmdpbmUuaW5zdGFuY2UgYmVmb3JlIGl0IGhhcyBiZWVuIGluc3RhbnRpYXRlZC4nKTtcbiAgICB9XG4gICAgcmV0dXJuIF9waHlzaWNzRW5naW5lO1xuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtQaHlzaWNzSm9ifSBqb2JcbiAqIEBwYXJhbSB7bnVtYmVyfSBsb3dNb21lbnR1bVN1cHByZXNzaW9uVGhyZXNob2xkXG4gKiBAcGFyYW0ge251bWJlcn0gbG93QW5ndWxhck1vbWVudHVtU3VwcHJlc3Npb25UaHJlc2hvbGRcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIF9zdXBwcmVzc0xvd01vbWVudGFGb3JKb2Ioam9iLCBsb3dNb21lbnR1bVN1cHByZXNzaW9uVGhyZXNob2xkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb3dBbmd1bGFyTW9tZW50dW1TdXBwcmVzc2lvblRocmVzaG9sZCkge1xuICBjb25zdCBjdXJyZW50U3RhdGUgPSBqb2IuY3VycmVudFN0YXRlO1xuXG4gIGlmICh2ZWMzLnNxdWFyZWRMZW5ndGgoY3VycmVudFN0YXRlLm1vbWVudHVtKSA8IGxvd01vbWVudHVtU3VwcHJlc3Npb25UaHJlc2hvbGQpIHtcbiAgICB2ZWMzLnNldChjdXJyZW50U3RhdGUubW9tZW50dW0sIDAsIDAsIDApO1xuICB9XG5cbiAgaWYgKHZlYzMuc3F1YXJlZExlbmd0aChjdXJyZW50U3RhdGUuYW5ndWxhck1vbWVudHVtKSA8IGxvd0FuZ3VsYXJNb21lbnR1bVN1cHByZXNzaW9uVGhyZXNob2xkKSB7XG4gICAgdmVjMy5zZXQoY3VycmVudFN0YXRlLmFuZ3VsYXJNb21lbnR1bSwgMCwgMCwgMCk7XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge1BoeXNpY3NKb2J9IGpvYlxuICogQHBhcmFtIHtudW1iZXJ9IGluZGV4XG4gKiBAcGFyYW0ge0FycmF5LjxQaHlzaWNzSm9iPn0gam9ic1xuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX3JlbW92ZUpvYkZyb21Db2xsZWN0aW9uKGpvYiwgaW5kZXgsIGpvYnMpIHtcbiAgaWYgKGluZGV4ID49IDApIHtcbiAgICBqb2JzLnNwbGljZShpbmRleCwgMSk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgY291bnQgPSBqb2JzLmxlbmd0aDtcbiAgICBmb3IgKGluZGV4ID0gMDsgaW5kZXggPCBjb3VudDsgaW5kZXgrKykge1xuICAgICAgaWYgKGpvYnNbaW5kZXhdID09PSBqb2IpIHtcbiAgICAgICAgam9icy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gcGFydGlhbFJhdGlvXG4gKiBAcGFyYW0ge1BoeXNpY3NKb2J9IGpvYlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX3NldFBhcnRpYWxTdGF0ZUZvclJlbmRlclRpbWVTdGVwRm9ySm9iKHBhcnRpYWxSYXRpbywgam9iKSB7XG4gIGpvYi5yZW5kZXJTdGF0ZS5sZXJwKGpvYi5wcmV2aW91c1N0YXRlLCBqb2IuY3VycmVudFN0YXRlLCBwYXJ0aWFsUmF0aW8pO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7UGh5c2ljc0pvYn0gam9iXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfcmVjb3JkT2xkU3RhdGVzRm9ySm9iKGpvYikge1xuICBpZiAoIWpvYi5leHRyYVByZXZpb3VzU3RhdGVzKSB7XG4gICAgam9iLmV4dHJhUHJldmlvdXNTdGF0ZXMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDQ7IGkrKykge1xuICAgICAgam9iLmV4dHJhUHJldmlvdXNTdGF0ZXNbaV0gPSBuZXcgUGh5c2ljc1N0YXRlKCk7XG4gICAgfVxuICB9XG5cbiAgZm9yIChsZXQgaSA9IDM7IGkgPiAwOyBpLS0pIHtcbiAgICBqb2IuZXh0cmFQcmV2aW91c1N0YXRlc1tpXS5jb3B5KGpvYi5leHRyYVByZXZpb3VzU3RhdGVzW2kgLSAxXSk7XG4gIH1cbiAgam9iLmV4dHJhUHJldmlvdXNTdGF0ZXNbMF0uY29weShqb2IucHJldmlvdXNTdGF0ZSk7XG59XG5cbmxldCBfcGh5c2ljc0VuZ2luZSA9IG51bGw7XG5cbmV4cG9ydCB7UGh5c2ljc0VuZ2luZX07XG4iLCJpbXBvcnQge2FuaW1hdG9yfSBmcm9tICdsc2wtYW5pbWF0ZXgnO1xuaW1wb3J0IHtQaHlzaWNzRW5naW5lfSBmcm9tICcuL3BoeXNpY3MtZW5naW5lJztcbmltcG9ydCB7UGh5c2ljc1N0YXRlfSBmcm9tICcuL3BoeXNpY3Mtc3RhdGUnO1xuaW1wb3J0IHtfdXRpbH0gZnJvbSAnLi4vdXRpbCc7XG5cbi8qKlxuICogQSBQaHlzaWNzSm9iIG1haW50YWlucyBhIGN1cnJlbnQgZm9yY2UvbW9tZW50dW0gc3RhdGUgYW5kIGRlZmluZXMgYSBtZXRob2QgZm9yIGFwcGx5aW5nIGZvcmNlcyBhdFxuICogYSBnaXZlbiBwaHlzaWNzIHRpbWUgc3RlcC5cbiAqL1xuY2xhc3MgUGh5c2ljc0pvYiB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge0FycmF5LjxGb3JjZUFwcGxpZXI+fSBbZm9yY2VBcHBsaWVyc11cbiAgICogQHBhcmFtIHtQaHlzaWNzU3RhdGV9IFtzdGF0ZV1cbiAgICovXG4gIGNvbnN0cnVjdG9yKGZvcmNlQXBwbGllcnMsIHN0YXRlKSB7XG4gICAgZm9yY2VBcHBsaWVycyA9IGZvcmNlQXBwbGllcnMgfHwgW107XG4gICAgc3RhdGUgPSBzdGF0ZSB8fCBuZXcgUGh5c2ljc1N0YXRlKCk7XG5cbiAgICB0aGlzLnN0YXJ0VGltZSA9IG51bGw7XG4gICAgdGhpcy5jdXJyZW50U3RhdGUgPSBzdGF0ZTtcbiAgICB0aGlzLnByZXZpb3VzU3RhdGUgPSBudWxsO1xuICAgIHRoaXMucmVuZGVyU3RhdGUgPSBudWxsO1xuICAgIHRoaXMuX2ZvcmNlQXBwbGllcnMgPSBmb3JjZUFwcGxpZXJzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7Rm9yY2VBcHBsaWVyT3V0cHV0fSBvdXRwdXRQYXJhbXNcbiAgICogQHBhcmFtIHtGb3JjZUFwcGxpZXJJbnB1dH0gaW5wdXRQYXJhbXNcbiAgICovXG4gIGFwcGx5Rm9yY2VzKG91dHB1dFBhcmFtcywgaW5wdXRQYXJhbXMpIHtcbiAgICB0aGlzLl9mb3JjZUFwcGxpZXJzLmZvckVhY2goZm9yY2VBcHBsaWVyID0+IGZvcmNlQXBwbGllcihvdXRwdXRQYXJhbXMsIGlucHV0UGFyYW1zKSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtGb3JjZUFwcGxpZXJ9IGZvcmNlQXBwbGllclxuICAgKiBAcGFyYW0ge251bWJlcn0gW2luZGV4PTBdIFRoZSBpbmRleCB0byBhZGQgdGhlIGdpdmVuIGZvcmNlIGFwcGxpZXIgaW4gdGhlIGN1cnJlbnQgbGlzdCBvZlxuICAgKiBhcHBsaWVycy5cbiAgICovXG4gIGFkZEZvcmNlQXBwbGllcihmb3JjZUFwcGxpZXIsIGluZGV4ID0gMCkge1xuICAgIHRoaXMuX2ZvcmNlQXBwbGllcnMuc3BsaWNlKGluZGV4LCAwLCBmb3JjZUFwcGxpZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7Rm9yY2VBcHBsaWVyfSBmb3JjZUFwcGxpZXJcbiAgICovXG4gIHJlbW92ZUZvcmNlQXBwbGllcihmb3JjZUFwcGxpZXIpIHtcbiAgICB0aGlzLl9mb3JjZUFwcGxpZXJzLnNwbGljZSh0aGlzLl9mb3JjZUFwcGxpZXJzLmluZGV4T2YoZm9yY2VBcHBsaWVyKSwgMSk7XG4gIH1cblxuICAvKipcbiAgICogUmVnaXN0ZXJzIHRoaXMgUGh5c2ljc0pvYiBhbmQgYWxsIG9mIGl0cyBkZXNjZW5kYW50IGNoaWxkIGpvYnMgd2l0aCB0aGUgcGh5c2ljcyBlbmdpbmUuXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnRUaW1lXVxuICAgKi9cbiAgc3RhcnQoc3RhcnRUaW1lKSB7XG4gICAgdGhpcy5zdGFydFRpbWUgPSBzdGFydFRpbWUgfHwgYW5pbWF0b3IuY3VycmVudFRpbWU7XG5cbiAgICBjb25zdCBwcmV2aW91c1N0YXRlID0gbmV3IFBoeXNpY3NTdGF0ZSgpO1xuICAgIHByZXZpb3VzU3RhdGUuY29weSh0aGlzLmN1cnJlbnRTdGF0ZSk7XG4gICAgY29uc3QgcmVuZGVyU3RhdGUgPSBuZXcgUGh5c2ljc1N0YXRlKCk7XG4gICAgcmVuZGVyU3RhdGUuY29weSh0aGlzLmN1cnJlbnRTdGF0ZSk7XG5cbiAgICB0aGlzLnByZXZpb3VzU3RhdGUgPSBwcmV2aW91c1N0YXRlO1xuICAgIHRoaXMucmVuZGVyU3RhdGUgPSByZW5kZXJTdGF0ZTtcblxuICAgIGlmIChfdXRpbC5pc0luRGV2TW9kZSkge1xuICAgICAgLy8gSXQgaXMgdXNlZnVsIGZvciBkZWJ1Z2dpbmcgdG8gYmUgYWJsZSB0byB0cmFjZSB0aGUgc3RhdGVzIGJhY2sgdG8gdGhlaXIgam9icy5cbiAgICAgIHRoaXMuY3VycmVudFN0YXRlLmpvYiA9IHRoaXM7XG4gICAgICB0aGlzLnByZXZpb3VzU3RhdGUuam9iID0gdGhpcztcbiAgICAgIHRoaXMucmVuZGVyU3RhdGUuam9iID0gdGhpcztcbiAgICB9XG5cbiAgICBQaHlzaWNzRW5naW5lLmluc3RhbmNlLmFkZEpvYih0aGlzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVbnJlZ2lzdGVycyB0aGlzIFBoeXNpY3NKb2IgYW5kIGFsbCBvZiBpdHMgZGVzY2VuZGFudCBjaGlsZCBqb2JzIHdpdGggdGhlIHBoeXNpY3MgZW5naW5lLlxuICAgKlxuICAgKiBUaHJvd3Mgbm8gZXJyb3IgaWYgdGhlIGpvYiBpcyBub3QgcmVnaXN0ZXJlZC5cbiAgICovXG4gIGZpbmlzaCgpIHtcbiAgICBQaHlzaWNzRW5naW5lLmluc3RhbmNlLnJlbW92ZUpvYih0aGlzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0VGltZV1cbiAgICovXG4gIHJlc3RhcnQoc3RhcnRUaW1lKSB7XG4gICAgdGhpcy5maW5pc2goKTtcbiAgICB0aGlzLnN0YXJ0KHN0YXJ0VGltZSk7XG4gIH1cbn1cblxuZXhwb3J0IHtQaHlzaWNzSm9ifTtcblxuLyoqXG4gKiBAdHlwZWRlZiB7RnVuY3Rpb259IEZvcmNlQXBwbGllclxuICogQHByb3BlcnR5IHt2ZWMzfSBmb3JjZSBPdXRwdXQuXG4gKiBAcHJvcGVydHkge3ZlYzN9IHRvcnF1ZSBPdXRwdXQuXG4gKiBAcHJvcGVydHkge1BoeXNpY3NTdGF0ZX0gc3RhdGUgSW5wdXQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gdCBJbnB1dC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkdCBJbnB1dC5cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFBoeXNpY3NDb25maWdcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB0aW1lU3RlcER1cmF0aW9uXG4gKiBAcHJvcGVydHkge251bWJlcn0gZ3Jhdml0eVxuICogQHByb3BlcnR5IHt2ZWMzfSBfZ3Jhdml0eVZlY1xuICogQHByb3BlcnR5IHtudW1iZXJ9IGxpbmVhckRyYWdDb2VmZmljaWVudFxuICogQHByb3BlcnR5IHtudW1iZXJ9IGFuZ3VsYXJEcmFnQ29lZmZpY2llbnRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBjb2VmZmljaWVudE9mUmVzdGl0dXRpb25cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBjb2VmZmljaWVudE9mRnJpY3Rpb25cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBsb3dNb21lbnR1bVN1cHByZXNzaW9uVGhyZXNob2xkXG4gKiBAcHJvcGVydHkge251bWJlcn0gbG93QW5ndWxhck1vbWVudHVtU3VwcHJlc3Npb25UaHJlc2hvbGRcbiAqL1xuIiwiaW1wb3J0IHtyb3RhdGVUZW5zb3IsIGNyZWF0ZUJveEluZXJ0aWFUZW5zb3J9IGZyb20gJy4uL3V0aWwnO1xuXG4vKipcbiAqIFRoaXMgY2xhc3MgcmVwcmVzZW50cyB0aGUgc3RhdGUgb2YgYW4gb2JqZWN0IHRoYXQgaXMgbmVlZGVkIGZvciBhIHBoeXNpY3Mgc2ltdWxhdGlvbiAoc3VjaCBhc1xuICogcG9zaXRpb24sIG1vbWVudHVtLCBhbmQgbWFzcykuXG4gKi9cbmNsYXNzIFBoeXNpY3NTdGF0ZSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge0R5bmFtaWNzQ29uZmlnfSBbZHluYW1pY3NQYXJhbXM9e31dXG4gICAqL1xuICBjb25zdHJ1Y3RvcihkeW5hbWljc1BhcmFtcyA9IHt9KSB7XG4gICAgY29uc3QgcG9zaXRpb24gPSBkeW5hbWljc1BhcmFtcy5wb3NpdGlvbiB8fCB2ZWMzLmNyZWF0ZSgpO1xuICAgIGNvbnN0IG1vbWVudHVtID0gZHluYW1pY3NQYXJhbXMubW9tZW50dW0gfHwgdmVjMy5jcmVhdGUoKTtcbiAgICBjb25zdCBvcmllbnRhdGlvbiA9IGR5bmFtaWNzUGFyYW1zLm9yaWVudGF0aW9uIHx8IHF1YXQuY3JlYXRlKCk7XG4gICAgY29uc3QgYW5ndWxhck1vbWVudHVtID0gZHluYW1pY3NQYXJhbXMuYW5ndWxhck1vbWVudHVtIHx8IHZlYzMuY3JlYXRlKCk7XG4gICAgY29uc3QgbWFzcyA9IGR5bmFtaWNzUGFyYW1zLm1hc3MgfHwgMTtcbiAgICBjb25zdCB1bnJvdGF0ZWRJbmVydGlhVGVuc29yID0gZHluYW1pY3NQYXJhbXMudW5yb3RhdGVkSW5lcnRpYVRlbnNvciB8fCBjcmVhdGVCb3hJbmVydGlhVGVuc29yKDEsIDEsIDEsIG1hc3MpO1xuXG4gICAgLy8gQ29uc3RhbnQgZmllbGRzLlxuXG4gICAgdGhpcy5tYXNzID0gbWFzcztcbiAgICB0aGlzLmludmVyc2VNYXNzID0gMSAvIG1hc3M7XG4gICAgdGhpcy51bnJvdGF0ZWRJbmVydGlhVGVuc29yID0gdW5yb3RhdGVkSW5lcnRpYVRlbnNvcjtcblxuICAgIC8vIEluZGVwZW5kZW50IGZpZWxkcy5cblxuICAgIHRoaXMucG9zaXRpb24gPSBwb3NpdGlvbjtcbiAgICB0aGlzLm1vbWVudHVtID0gbW9tZW50dW07XG4gICAgdGhpcy5vcmllbnRhdGlvbiA9IG9yaWVudGF0aW9uO1xuICAgIHRoaXMuYW5ndWxhck1vbWVudHVtID0gYW5ndWxhck1vbWVudHVtO1xuXG4gICAgLy8gRGVwZW5kZW50IGZpZWxkcy5cblxuICAgIC8vIExpbmVhciB2ZWxvY2l0eS5cbiAgICB0aGlzLnZlbG9jaXR5ID0gdmVjMy5jcmVhdGUoKTtcbiAgICAvLyBRdWF0ZXJuaW9uLWJhc2VkIHJlcHJlc2VudGF0aW9uIG9mIHRoZSByYXRlIG9mIGNoYW5nZSBpbiBvcmllbnRhdGlvbi5cbiAgICB0aGlzLnNwaW4gPSBxdWF0LmNyZWF0ZSgpO1xuICAgIC8vIFZlY3Rvci1iYXNlZCByZXByZXNlbnRhdGlvbiBvZiB0aGUgYW5ndWxhciB2ZWxvY2l0eS5cbiAgICB0aGlzLmFuZ3VsYXJWZWxvY2l0eSA9IHZlYzMuY3JlYXRlKCk7XG4gICAgLy8gVGhlIGludmVyc2UgaW5lcnRpYSB0ZW5zb3Igcm90YXRlZCB0byB0aGUgd29ybGQgY29vcmRpbmF0ZSBmcmFtZS5cbiAgICB0aGlzLmludmVyc2VJbmVydGlhVGVuc29yID0gbWF0My5jcmVhdGUoKTtcblxuICAgIHRoaXMudXBkYXRlRGVwZW5kZW50RmllbGRzKCk7XG4gIH1cblxuICB1cGRhdGVEZXBlbmRlbnRGaWVsZHMoKSB7Ly8gVE9ETzogVGVzdCB0aGlzIHNvbWVob3cuLi5cbiAgICAvLyBVcGRhdGUgbGluZWFyIHZlbG9jaXR5LlxuICAgIHZlYzMuc2NhbGUodGhpcy52ZWxvY2l0eSwgdGhpcy5tb21lbnR1bSwgdGhpcy5pbnZlcnNlTWFzcyk7XG5cbiAgICAvLyBVcGRhdGUgYW5ndWxhciB2ZWxvY2l0eS5cbiAgICBxdWF0Lm5vcm1hbGl6ZSh0aGlzLm9yaWVudGF0aW9uLCB0aGlzLm9yaWVudGF0aW9uKTtcbiAgICByb3RhdGVUZW5zb3IodGhpcy5pbnZlcnNlSW5lcnRpYVRlbnNvciwgdGhpcy51bnJvdGF0ZWRJbmVydGlhVGVuc29yLCB0aGlzLm9yaWVudGF0aW9uKTtcbiAgICBtYXQzLmludmVydCh0aGlzLmludmVyc2VJbmVydGlhVGVuc29yLCB0aGlzLnVucm90YXRlZEluZXJ0aWFUZW5zb3IpO1xuICAgIHZlYzMudHJhbnNmb3JtTWF0Myh0aGlzLmFuZ3VsYXJWZWxvY2l0eSwgdGhpcy5hbmd1bGFyTW9tZW50dW0sIHRoaXMuaW52ZXJzZUluZXJ0aWFUZW5zb3IpO1xuICAgIHF1YXQuc2V0KHRoaXMuc3BpbiwgdGhpcy5hbmd1bGFyVmVsb2NpdHlbMF0sIHRoaXMuYW5ndWxhclZlbG9jaXR5WzFdLFxuICAgICAgICB0aGlzLmFuZ3VsYXJWZWxvY2l0eVsyXSwgMCk7XG4gICAgcXVhdC5zY2FsZSh0aGlzLnNwaW4sIHRoaXMuc3BpbiwgMC41KTtcbiAgICBxdWF0Lm11bHRpcGx5KHRoaXMuc3BpbiwgdGhpcy5zcGluLCB0aGlzLm9yaWVudGF0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQZXJmb3JtIGEgZGVlcCBjb3B5LlxuICAgKlxuICAgKiBAcGFyYW0ge1BoeXNpY3NTdGF0ZX0gb3RoZXJcbiAgICovXG4gIGNvcHkob3RoZXIpIHtcbiAgICB0aGlzLm1hc3MgPSBvdGhlci5tYXNzO1xuICAgIHRoaXMuaW52ZXJzZU1hc3MgPSBvdGhlci5pbnZlcnNlTWFzcztcbiAgICBtYXQzLmNvcHkodGhpcy51bnJvdGF0ZWRJbmVydGlhVGVuc29yLCBvdGhlci51bnJvdGF0ZWRJbmVydGlhVGVuc29yKTtcbiAgICBtYXQzLmNvcHkodGhpcy5pbnZlcnNlSW5lcnRpYVRlbnNvciwgb3RoZXIuaW52ZXJzZUluZXJ0aWFUZW5zb3IpO1xuICAgIHZlYzMuY29weSh0aGlzLnBvc2l0aW9uLCBvdGhlci5wb3NpdGlvbik7XG4gICAgdmVjMy5jb3B5KHRoaXMubW9tZW50dW0sIG90aGVyLm1vbWVudHVtKTtcbiAgICBxdWF0LmNvcHkodGhpcy5vcmllbnRhdGlvbiwgb3RoZXIub3JpZW50YXRpb24pO1xuICAgIHZlYzMuY29weSh0aGlzLmFuZ3VsYXJNb21lbnR1bSwgb3RoZXIuYW5ndWxhck1vbWVudHVtKTtcbiAgICB2ZWMzLmNvcHkodGhpcy52ZWxvY2l0eSwgb3RoZXIudmVsb2NpdHkpO1xuICAgIHF1YXQuY29weSh0aGlzLnNwaW4sIG90aGVyLnNwaW4pO1xuICAgIHZlYzMuY29weSh0aGlzLmFuZ3VsYXJWZWxvY2l0eSwgb3RoZXIuYW5ndWxhclZlbG9jaXR5KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1BoeXNpY3NTdGF0ZX0gYVxuICAgKiBAcGFyYW0ge1BoeXNpY3NTdGF0ZX0gYlxuICAgKiBAcGFyYW0ge251bWJlcn0gcGFydGlhbFJhdGlvXG4gICAqL1xuICBsZXJwKGEsIGIsIHBhcnRpYWxSYXRpbykge1xuICAgIHZlYzMubGVycCh0aGlzLnBvc2l0aW9uLCBhLnBvc2l0aW9uLCBiLnBvc2l0aW9uLCBwYXJ0aWFsUmF0aW8pO1xuICAgIHZlYzMubGVycCh0aGlzLm1vbWVudHVtLCBhLm1vbWVudHVtLCBiLm1vbWVudHVtLCBwYXJ0aWFsUmF0aW8pO1xuICAgIHF1YXQuc2xlcnAodGhpcy5vcmllbnRhdGlvbiwgYS5vcmllbnRhdGlvbiwgYi5vcmllbnRhdGlvbiwgcGFydGlhbFJhdGlvKTtcbiAgICBxdWF0Lm5vcm1hbGl6ZSh0aGlzLm9yaWVudGF0aW9uLCB0aGlzLm9yaWVudGF0aW9uKTtcbiAgICB2ZWMzLmxlcnAodGhpcy5hbmd1bGFyTW9tZW50dW0sIGEuYW5ndWxhck1vbWVudHVtLCBiLmFuZ3VsYXJNb21lbnR1bSwgcGFydGlhbFJhdGlvKTtcbiAgICB0aGlzLnVwZGF0ZURlcGVuZGVudEZpZWxkcygpO1xuICB9XG59XG5cbmV4cG9ydCB7UGh5c2ljc1N0YXRlfTtcblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBEeW5hbWljc0NvbmZpZ1xuICogQHByb3BlcnR5IHt2ZWMzfSBbcG9zaXRpb25dXG4gKiBAcHJvcGVydHkge3ZlYzN9IFttb21lbnR1bV1cbiAqIEBwcm9wZXJ0eSB7cXVhdH0gW29yaWVudGF0aW9uXVxuICogQHByb3BlcnR5IHt2ZWMzfSBbYW5ndWxhck1vbWVudHVtXVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXNzXVxuICogQHByb3BlcnR5IHttYXQzfSBbdW5yb3RhdGVkSW5lcnRpYVRlbnNvcl1cbiAqL1xuIiwiZXhwb3J0ICogZnJvbSAnLi9zcmMvZm9yY2UtdXRpbHMnO1xuZXhwb3J0ICogZnJvbSAnLi9zcmMvZ2VvbWV0cnknO1xuZXhwb3J0ICogZnJvbSAnLi9zcmMvaW5lcnRpYS10ZW5zb3ItdXRpbHMnO1xuZXhwb3J0ICogZnJvbSAnLi9zcmMvdXRpbCc7XG4iLCIvKipcbiAqIFRoaXMgbW9kdWxlIGRlZmluZXMgYSBjb2xsZWN0aW9uIG9mIHN0YXRpYyBnZW5lcmFsIHV0aWxpdHkgZnVuY3Rpb25zIGZvciBjYWxjdWxhdGluZyBmb3JjZXMuXG4gKi9cblxuLyoqXG4gKiBAcGFyYW0ge0dyYXZpdHlBcHBsaWVyQ29uZmlnfSBjb25maWdcbiAqIEBwYXJhbSB7Rm9yY2VBcHBsaWVyT3V0cHV0fSBvdXRwdXRcbiAqIEBwYXJhbSB7Rm9yY2VBcHBsaWVySW5wdXR9IGlucHV0XG4gKi9cbmZ1bmN0aW9uIGFwcGx5R3Jhdml0eShjb25maWcsIG91dHB1dCwgaW5wdXQpIHtcbiAgdmVjMy5zY2FsZUFuZEFkZChvdXRwdXQuZm9yY2UsIG91dHB1dC5mb3JjZSwgY29uZmlnLl9ncmF2aXR5VmVjLCBpbnB1dC5zdGF0ZS5tYXNzKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0xpbmVhckRyYWdBcHBsaWVyQ29uZmlnfSBjb25maWdcbiAqIEBwYXJhbSB7Rm9yY2VBcHBsaWVyT3V0cHV0fSBvdXRwdXRcbiAqIEBwYXJhbSB7Rm9yY2VBcHBsaWVySW5wdXR9IGlucHV0XG4gKi9cbmZ1bmN0aW9uIGFwcGx5TGluZWFyRHJhZyhjb25maWcsIG91dHB1dCwgaW5wdXQpIHtcbiAgY29uc3QgZHJhZ01hZ25pdHVkZSA9IC12ZWMzLnNxdWFyZWRMZW5ndGgoaW5wdXQuc3RhdGUudmVsb2NpdHkpICogY29uZmlnLmxpbmVhckRyYWdDb2VmZmljaWVudDtcbiAgdmVjMy5ub3JtYWxpemUoX3ZlYzMsIGlucHV0LnN0YXRlLnZlbG9jaXR5KTtcbiAgdmVjMy5zY2FsZUFuZEFkZChvdXRwdXQuZm9yY2UsIG91dHB1dC5mb3JjZSwgX3ZlYzMsIGRyYWdNYWduaXR1ZGUpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7QW5ndWxhckRyYWdBcHBsaWVyQ29uZmlnfSBjb25maWdcbiAqIEBwYXJhbSB7Rm9yY2VBcHBsaWVyT3V0cHV0fSBvdXRwdXRcbiAqIEBwYXJhbSB7Rm9yY2VBcHBsaWVySW5wdXR9IGlucHV0XG4gKi9cbmZ1bmN0aW9uIGFwcGx5QW5ndWxhckRyYWcoY29uZmlnLCBvdXRwdXQsIGlucHV0KSB7XG4gIHZlYzMuc2NhbGVBbmRBZGQob3V0cHV0LnRvcnF1ZSwgb3V0cHV0LnRvcnF1ZSwgaW5wdXQuc3RhdGUuYW5ndWxhclZlbG9jaXR5LFxuICAgICAgY29uZmlnLmFuZ3VsYXJEcmFnQ29lZmZpY2llbnQpO1xufVxuXG4vKipcbiAqIEFwcGxpZXMgYSBzaW1wbGUgbGluZWFyIHNwcmluZyBmb3JjZSAodXNpbmcgSG9va2UncyBsYXcpLlxuICpcbiAqIGZvcmNlID0gZGlzcGxhY2VtZW50ICogY29lZmZpY2llbnRcbiAqXG4gKiBAcGFyYW0ge0xpbmVhclNwcmluZ0ZvcmNlQXBwbGllckNvbmZpZ30gY29uZmlnXG4gKiBAcGFyYW0ge0ZvcmNlQXBwbGllck91dHB1dH0gb3V0cHV0XG4gKiBAcGFyYW0ge0ZvcmNlQXBwbGllcklucHV0fSBpbnB1dFxuICovXG5mdW5jdGlvbiBhcHBseUxpbmVhclNwcmluZ0ZvcmNlKGNvbmZpZywgb3V0cHV0LCBpbnB1dCkge1xuICB2ZWMzLnN1YnRyYWN0KF92ZWMzLCBjb25maWcuZ2V0SW50ZW5kZWRQb3NpdGlvbigpLCBpbnB1dC5zdGF0ZS5wb3NpdGlvbik7XG4gIHZlYzMuc2NhbGVBbmRBZGQob3V0cHV0LmZvcmNlLCBvdXRwdXQuZm9yY2UsIF92ZWMzLCBjb25maWcuc3ByaW5nQ29lZmZpY2llbnQpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7U3ByaW5nRGFtcGluZ0FwcGxpZXJDb25maWd9IGNvbmZpZ1xuICogQHBhcmFtIHtGb3JjZUFwcGxpZXJPdXRwdXR9IG91dHB1dFxuICogQHBhcmFtIHtGb3JjZUFwcGxpZXJJbnB1dH0gaW5wdXRcbiAqL1xuZnVuY3Rpb24gYXBwbHlTcHJpbmdEYW1waW5nKGNvbmZpZywgb3V0cHV0LCBpbnB1dCkge1xuICB2ZWMzLnNjYWxlKF92ZWMzLCBpbnB1dC5zdGF0ZS52ZWxvY2l0eSwgLWNvbmZpZy5kYW1waW5nQ29lZmZpY2llbnQpO1xuICB2ZWMzLmFkZChvdXRwdXQuZm9yY2UsIG91dHB1dC5mb3JjZSwgX3ZlYzMpO1xufVxuXG5jb25zdCBfdmVjMyA9IHZlYzMuY3JlYXRlKCk7XG5cbmV4cG9ydCB7XG4gIGFwcGx5QW5ndWxhckRyYWcsXG4gIGFwcGx5R3Jhdml0eSxcbiAgYXBwbHlMaW5lYXJEcmFnLFxuICBhcHBseUxpbmVhclNwcmluZ0ZvcmNlLFxuICBhcHBseVNwcmluZ0RhbXBpbmcsXG59XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gR3Jhdml0eUFwcGxpZXJDb25maWdcbiAqIEBwcm9wZXJ0eSB7dmVjM30gX2dyYXZpdHlWZWNcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IExpbmVhckRyYWdBcHBsaWVyQ29uZmlnXG4gKiBAcHJvcGVydHkge251bWJlcn0gbGluZWFyRHJhZ0NvZWZmaWNpZW50XG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBBbmd1bGFyRHJhZ0FwcGxpZXJDb25maWdcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBhbmd1bGFyRHJhZ0NvZWZmaWNpZW50XG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBMaW5lYXJTcHJpbmdGb3JjZUFwcGxpZXJDb25maWdcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBzcHJpbmdDb2VmZmljaWVudFxuICogQHByb3BlcnR5IHtGdW5jdGlvbi48dmVjMz59IGdldEludGVuZGVkUG9zaXRpb25cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFNwcmluZ0RhbXBpbmdBcHBsaWVyQ29uZmlnXG4gKiBAcHJvcGVydHkge251bWJlcn0gZGFtcGluZ0NvZWZmaWNpZW50XG4gKi9cbiIsIi8qKlxuICogVGhpcyBtb2R1bGUgZGVmaW5lcyBhIGNvbGxlY3Rpb24gb2Ygc3RhdGljIGdlb21ldHJ5IHV0aWxpdHkgZnVuY3Rpb25zLlxuICovXG5cbmNvbnN0IEVQU0lMT04gPSAwLjAwMDAwMDE7XG5jb25zdCBIQUxGX1BJID0gTWF0aC5QSSAvIDI7XG5jb25zdCBUV09fUEkgPSBNYXRoLlBJICogMjtcblxuLyoqXG4gKiBGaW5kcyB0aGUgbWluaW11bSBzcXVhcmVkIGRpc3RhbmNlIGJldHdlZW4gdHdvIGxpbmUgc2VnbWVudHMuXG4gKlxuICogQHBhcmFtIHtMaW5lU2VnbWVudH0gc2VnbWVudEFcbiAqIEBwYXJhbSB7TGluZVNlZ21lbnR9IHNlZ21lbnRCXG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5mdW5jdGlvbiBmaW5kU3F1YXJlZERpc3RhbmNlQmV0d2VlblNlZ21lbnRzKHNlZ21lbnRBLCBzZWdtZW50Qikge1xuICBmaW5kQ2xvc2VzdFBvaW50c0Zyb21TZWdtZW50VG9TZWdtZW50KF9zZWdtZW50RGlzdGFuY2VfdG1wVmVjQSwgX3NlZ21lbnREaXN0YW5jZV90bXBWZWNCLFxuICAgICAgc2VnbWVudEEsIHNlZ21lbnRCKTtcbiAgcmV0dXJuIHZlYzMuc3F1YXJlZERpc3RhbmNlKF9zZWdtZW50RGlzdGFuY2VfdG1wVmVjQSwgX3NlZ21lbnREaXN0YW5jZV90bXBWZWNCKTtcbn1cblxuLyoqXG4gKiBGaW5kcyB0aGUgbWluaW11bSBzcXVhcmVkIGRpc3RhbmNlIGJldHdlZW4gYSBsaW5lIHNlZ21lbnQgYW5kIGEgcG9pbnQuXG4gKlxuICogQHBhcmFtIHtMaW5lU2VnbWVudH0gc2VnbWVudFxuICogQHBhcmFtIHt2ZWMzfSBwb2ludFxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZnVuY3Rpb24gZmluZFNxdWFyZWREaXN0YW5jZUZyb21TZWdtZW50VG9Qb2ludChzZWdtZW50LCBwb2ludCkge1xuICBmaW5kQ2xvc2VzdFBvaW50T25TZWdtZW50VG9Qb2ludChfc2VnbWVudERpc3RhbmNlX3RtcFZlY0EsIHNlZ21lbnQsIHBvaW50KTtcbiAgcmV0dXJuIHZlYzMuc3F1YXJlZERpc3RhbmNlKF9zZWdtZW50RGlzdGFuY2VfdG1wVmVjQSwgcG9pbnQpO1xufVxuXG5jb25zdCBfc2VnbWVudERpc3RhbmNlX3RtcFZlY0EgPSB2ZWMzLmNyZWF0ZSgpO1xuY29uc3QgX3NlZ21lbnREaXN0YW5jZV90bXBWZWNCID0gdmVjMy5jcmVhdGUoKTtcblxuLyoqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dHB1dFBvaW50IE91dHB1dCBwYXJhbWV0ZXIuXG4gKiBAcGFyYW0ge0FhYmJ9IGFhYmJcbiAqIEBwYXJhbSB7dmVjM30gdGFyZ2V0UG9pbnRcbiAqL1xuZnVuY3Rpb24gZmluZENsb3Nlc3RQb2ludEZyb21BYWJiVG9Qb2ludChvdXRwdXRQb2ludCwgYWFiYiwgdGFyZ2V0UG9pbnQpIHtcbiAgb3V0cHV0UG9pbnRbMF0gPSBhYWJiLm1pblggPiB0YXJnZXRQb2ludFswXVxuICAgICAgPyBhYWJiLm1pblhcbiAgICAgIDogYWFiYi5tYXhYIDwgdGFyZ2V0UG9pbnRbMF1cbiAgICAgICAgICA/IGFhYmIubWF4WFxuICAgICAgICAgIDogdGFyZ2V0UG9pbnRbMF07XG4gIG91dHB1dFBvaW50WzFdID0gYWFiYi5taW5ZID4gdGFyZ2V0UG9pbnRbMV1cbiAgICAgID8gYWFiYi5taW5ZXG4gICAgICA6IGFhYmIubWF4WSA8IHRhcmdldFBvaW50WzFdXG4gICAgICAgICAgPyBhYWJiLm1heFlcbiAgICAgICAgICA6IHRhcmdldFBvaW50WzFdO1xuICBvdXRwdXRQb2ludFsyXSA9IGFhYmIubWluWiA+IHRhcmdldFBvaW50WzJdXG4gICAgICA/IGFhYmIubWluWlxuICAgICAgOiBhYWJiLm1heFogPCB0YXJnZXRQb2ludFsyXVxuICAgICAgICAgID8gYWFiYi5tYXhaXG4gICAgICAgICAgOiB0YXJnZXRQb2ludFsyXTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dHB1dFBvaW50IE91dHB1dCBwYXJhbWV0ZXIuXG4gKiBAcGFyYW0ge0FhYmJ9IGFhYmJcbiAqIEBwYXJhbSB7dmVjM30gdGFyZ2V0UG9pbnRcbiAqL1xuZnVuY3Rpb24gZmluZENsb3Nlc3RQb2ludEZyb21BYWJiU3VyZmFjZVRvUG9pbnQob3V0cHV0UG9pbnQsIGFhYmIsIHRhcmdldFBvaW50KSB7XG4gIGZpbmRDbG9zZXN0UG9pbnRGcm9tQWFiYlRvUG9pbnQob3V0cHV0UG9pbnQsIGFhYmIsIHRhcmdldFBvaW50KTtcblxuICAvLyBJZiB0aGUgY2FsY3VsYXRlZCBwb2ludCBsaWVzIHdpdGhpbiB0aGUgQUFCQiwgdGhlbiB3ZSBuZWVkIHRvIGFkanVzdCBvbmUgY29vcmRpbmF0ZSB0byBsaWVcbiAgLy8gYWxvbmcgdGhlIGVkZ2Ugb2YgdGhlIEFBQkIuXG4gIGlmIChhYWJiVnNQb2ludChhYWJiLCBvdXRwdXRQb2ludCkpIHtcbiAgICAvLyBDYWxjdWxhdGUgdGhlIGNsb3Nlc3QgdmVydGV4LlxuICAgIF90bXBWZWMxWzBdID0gdGFyZ2V0UG9pbnRbMF0gLSBhYWJiLm1pblggPCBhYWJiLm1heFggLSB0YXJnZXRQb2ludFswXVxuICAgICAgICA/IGFhYmIubWluWFxuICAgICAgICA6IGFhYmIubWF4WDtcbiAgICBfdG1wVmVjMVsxXSA9IHRhcmdldFBvaW50WzFdIC0gYWFiYi5taW5ZIDwgYWFiYi5tYXhZIC0gdGFyZ2V0UG9pbnRbMV1cbiAgICAgICAgPyBhYWJiLm1pbllcbiAgICAgICAgOiBhYWJiLm1heFk7XG4gICAgX3RtcFZlYzFbMl0gPSB0YXJnZXRQb2ludFsyXSAtIGFhYmIubWluWiA8IGFhYmIubWF4WiAtIHRhcmdldFBvaW50WzJdXG4gICAgICAgID8gYWFiYi5taW5aXG4gICAgICAgIDogYWFiYi5tYXhaO1xuXG4gICAgLy8gQ2FsY3VsYXRlIHRoZSBkaXN0YW5jZSB0byB0aGUgdmVydGV4IGFsb25nIGVhY2ggZGltZW5zaW9uLlxuICAgIF90bXBWZWMyWzBdID0gX3RtcFZlYzFbMF0gLSBvdXRwdXRQb2ludFswXTtcbiAgICBfdG1wVmVjMlswXSA9IF90bXBWZWMyWzBdIDwgMCA/IC1fdG1wVmVjMlswXSA6IF90bXBWZWMyWzBdO1xuICAgIF90bXBWZWMyWzFdID0gX3RtcFZlYzFbMV0gLSBvdXRwdXRQb2ludFsxXTtcbiAgICBfdG1wVmVjMlsxXSA9IF90bXBWZWMyWzFdIDwgMSA/IC1fdG1wVmVjMlsxXSA6IF90bXBWZWMyWzFdO1xuICAgIF90bXBWZWMyWzJdID0gX3RtcFZlYzFbMl0gLSBvdXRwdXRQb2ludFsyXTtcbiAgICBfdG1wVmVjMlsyXSA9IF90bXBWZWMyWzJdIDwgMiA/IC1fdG1wVmVjMlsyXSA6IF90bXBWZWMyWzJdO1xuXG4gICAgLy8gRGV0ZXJtaW5lIGFsb25nIHdoaWNoIGRpbWVuc2lvbiB0aGUgcG9pbnQgaXMgY2xvc2VzdCB0byB0aGUgQUFCQi5cbiAgICBjb25zdCBpbmRleCA9IF90bXBWZWMyWzBdIDwgX3RtcFZlYzJbMV1cbiAgICAgICAgPyAoX3RtcFZlYzJbMF0gPCBfdG1wVmVjMlsyXVxuICAgICAgICAgICAgPyAwXG4gICAgICAgICAgICA6IDIpXG4gICAgICAgIDogKF90bXBWZWMyWzFdIDwgX3RtcFZlYzJbMl1cbiAgICAgICAgICAgID8gMVxuICAgICAgICAgICAgOiAyKTtcblxuICAgIG91dHB1dFBvaW50W2luZGV4XSA9IF90bXBWZWMxW2luZGV4XTtcbiAgfVxufVxuXG4vKipcbiAqIEZpbmRzIHRoZSBwb2ludCBvZiBpbnRlcnNlY3Rpb24gYmV0d2VlbiBhIGxpbmUgc2VnbWVudCBhbmQgYSBjb3BsYW5hciBxdWFkcmlsYXRlcmFsLlxuICpcbiAqIFRoaXMgYXNzdW1lcyB0aGUgcmVnaW9uIGlzIG5vdCBkZWdlbmVyYXRlIChoYXMgbm9uLXplcm8gc2lkZSBsZW5ndGhzKS5cbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IHBvaSBPdXRwdXQgcGFyYW0uIE51bGwgaWYgdGhlcmUgaXMgbm8gaW50ZXJzZWN0aW9uLlxuICogQHBhcmFtIHtMaW5lU2VnbWVudH0gc2VnbWVudFxuICogQHBhcmFtIHt2ZWMzfSBwbGFuZVZlcnRleDFcbiAqIEBwYXJhbSB7dmVjM30gcGxhbmVWZXJ0ZXgyXG4gKiBAcGFyYW0ge3ZlYzN9IHBsYW5lVmVydGV4M1xuICogQHBhcmFtIHt2ZWMzfSBwbGFuZVZlcnRleDRcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZXJlIGlzIGFuIGludGVyc2VjdGlvbi5cbiAqL1xuZnVuY3Rpb24gZmluZFBvaUJldHdlZW5TZWdtZW50QW5kUGxhbmVSZWdpb24ocG9pLCBzZWdtZW50LCBwbGFuZVZlcnRleDEsIHBsYW5lVmVydGV4MiwgcGxhbmVWZXJ0ZXgzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhbmVWZXJ0ZXg0KSB7XG4gIHJldHVybiBmaW5kUG9pQmV0d2VlblNlZ21lbnRBbmRUcmlhbmdsZShwb2ksIHNlZ21lbnQsIHBsYW5lVmVydGV4MSwgcGxhbmVWZXJ0ZXgyLCBwbGFuZVZlcnRleDMpIHx8XG4gICAgICBmaW5kUG9pQmV0d2VlblNlZ21lbnRBbmRUcmlhbmdsZShwb2ksIHNlZ21lbnQsIHBsYW5lVmVydGV4MSwgcGxhbmVWZXJ0ZXgzLCBwbGFuZVZlcnRleDQpO1xufVxuXG4vKipcbiAqIEZpbmRzIHRoZSBwb2ludCBvZiBpbnRlcnNlY3Rpb24gYmV0d2VlbiBhIGxpbmUgc2VnbWVudCBhbmQgYSB0cmlhbmdsZS5cbiAqXG4gKiBUaGlzIGFzc3VtZXMgdGhlIHRyaWFuZ2xlIGlzIG5vdCBkZWdlbmVyYXRlIChoYXMgbm9uLXplcm8gc2lkZSBsZW5ndGhzKS5cbiAqXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBPcmlnaW5hbGx5IGJhc2VkIG9uIERhbiBTdW5kYXkncyBhbGdvcml0aG1zIGF0IGh0dHA6Ly9nZW9tYWxnb3JpdGhtcy5jb20vYTA2LV9pbnRlcnNlY3QtMi5odG1sLlxuICpcbiAqIENvcHlyaWdodCAyMDAxIHNvZnRTdXJmZXIsIDIwMTIgRGFuIFN1bmRheVxuICogVGhpcyBjb2RlIG1heSBiZSBmcmVlbHkgdXNlZCBhbmQgbW9kaWZpZWQgZm9yIGFueSBwdXJwb3NlXG4gKiBwcm92aWRpbmcgdGhhdCB0aGlzIGNvcHlyaWdodCBub3RpY2UgaXMgaW5jbHVkZWQgd2l0aCBpdC5cbiAqIFNvZnRTdXJmZXIgbWFrZXMgbm8gd2FycmFudHkgZm9yIHRoaXMgY29kZSwgYW5kIGNhbm5vdCBiZSBoZWxkXG4gKiBsaWFibGUgZm9yIGFueSByZWFsIG9yIGltYWdpbmVkIGRhbWFnZSByZXN1bHRpbmcgZnJvbSBpdHMgdXNlLlxuICogVXNlcnMgb2YgdGhpcyBjb2RlIG11c3QgdmVyaWZ5IGNvcnJlY3RuZXNzIGZvciB0aGVpciBhcHBsaWNhdGlvbi5cbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IHBvaSBPdXRwdXQgcGFyYW0uIE51bGwgaWYgdGhlcmUgaXMgbm8gaW50ZXJzZWN0aW9uLlxuICogQHBhcmFtIHtMaW5lU2VnbWVudH0gc2VnbWVudFxuICogQHBhcmFtIHt2ZWMzfSB0cmlhbmdsZVZlcnRleDFcbiAqIEBwYXJhbSB7dmVjM30gdHJpYW5nbGVWZXJ0ZXgyXG4gKiBAcGFyYW0ge3ZlYzN9IHRyaWFuZ2xlVmVydGV4M1xuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlcmUgaXMgYW4gaW50ZXJzZWN0aW9uLlxuICovXG5mdW5jdGlvbiBmaW5kUG9pQmV0d2VlblNlZ21lbnRBbmRUcmlhbmdsZShwb2ksIHNlZ21lbnQsIHRyaWFuZ2xlVmVydGV4MSwgdHJpYW5nbGVWZXJ0ZXgyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJpYW5nbGVWZXJ0ZXgzKSB7XG4gIC8vXG4gIC8vIEZpbmQgdGhlIHBvaW50IG9mIGludGVyc2VjdGlvbiBiZXR3ZWVuIHRoZSBzZWdtZW50IGFuZCB0aGUgdHJpYW5nbGUncyBwbGFuZS5cbiAgLy9cblxuICAvLyBGaXJzdCB0cmlhbmdsZSBlZGdlLlxuICB2ZWMzLnN1YnRyYWN0KF90bXBWZWMxLCB0cmlhbmdsZVZlcnRleDIsIHRyaWFuZ2xlVmVydGV4MSk7XG4gIC8vIFNlY29uZCB0cmlhbmdsZSBlZGdlLlxuICB2ZWMzLnN1YnRyYWN0KF90bXBWZWMyLCB0cmlhbmdsZVZlcnRleDMsIHRyaWFuZ2xlVmVydGV4MSk7XG4gIC8vIFRyaWFuZ2xlIG5vcm1hbC5cbiAgdmVjMy5jcm9zcyhfdG1wVmVjMywgX3RtcFZlYzEsIF90bXBWZWMyKTtcbiAgLy8gVHJpYW5nbGUgdG8gc2VnbWVudC5cbiAgdmVjMy5zdWJ0cmFjdChfdG1wVmVjNCwgc2VnbWVudC5zdGFydCwgdHJpYW5nbGVWZXJ0ZXgxKTtcblxuICBjb25zdCBub3JtYWxUb1NlZ21lbnRQcm9qID0gdmVjMy5kb3QoX3RtcFZlYzMsIHNlZ21lbnQuZGlyKTtcblxuICBpZiAobm9ybWFsVG9TZWdtZW50UHJvaiA8IEVQU0lMT04gJiYgbm9ybWFsVG9TZWdtZW50UHJvaiA+IC1FUFNJTE9OKSB7XG4gICAgLy8gVGhlIGxpbmUgc2VnbWVudCBpcyBwYXJhbGxlbCB0byB0aGUgdHJpYW5nbGUuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgY29uc3Qgbm9ybWFsVG9EaWZmUHJvaiA9IC12ZWMzLmRvdChfdG1wVmVjMywgX3RtcFZlYzQpO1xuICBjb25zdCBzZWdtZW50Tm9ybWFsaXplZERpc3RhbmNlID0gbm9ybWFsVG9EaWZmUHJvaiAvIG5vcm1hbFRvU2VnbWVudFByb2o7XG5cbiAgaWYgKHNlZ21lbnROb3JtYWxpemVkRGlzdGFuY2UgPCAwIHx8IHNlZ21lbnROb3JtYWxpemVkRGlzdGFuY2UgPiAxKSB7XG4gICAgLy8gVGhlIGxpbmUgc2VnbWVudCBlbmRzIGJlZm9yZSBpbnRlcnNlY3RpbmcgdGhlIHBsYW5lLlxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZlYzMuc2NhbGVBbmRBZGQocG9pLCBzZWdtZW50LnN0YXJ0LCBzZWdtZW50LmRpciwgc2VnbWVudE5vcm1hbGl6ZWREaXN0YW5jZSk7XG5cbiAgLy9cbiAgLy8gRGV0ZXJtaW5lIHdoZXRoZXIgdGhlIHBvaW50IG9mIGludGVyc2VjdGlvbiBsaWVzIHdpdGhpbiB0aGUgdHJpYW5nbGUuXG4gIC8vXG5cbiAgY29uc3QgZWRnZTFEb3RFZGdlMSA9IHZlYzMuZG90KF90bXBWZWMxLCBfdG1wVmVjMSk7XG4gIGNvbnN0IGVkZ2UxRG90RWRnZTIgPSB2ZWMzLmRvdChfdG1wVmVjMSwgX3RtcFZlYzIpO1xuICBjb25zdCBlZGdlMkRvdEVkZ2UyID0gdmVjMy5kb3QoX3RtcFZlYzIsIF90bXBWZWMyKTtcbiAgLy8gVHJpYW5nbGUgdG8gcG9pbnQgb2YgaW50ZXJzZWN0aW9uLlxuICB2ZWMzLnN1YnRyYWN0KF90bXBWZWMzLCBwb2ksIHRyaWFuZ2xlVmVydGV4MSk7XG4gIGNvbnN0IGRpZmZEb3RFZGdlMSA9IHZlYzMuZG90KF90bXBWZWMzLCBfdG1wVmVjMSk7XG4gIGNvbnN0IGRpZmZEb3RFZGdlMiA9IHZlYzMuZG90KF90bXBWZWMzLCBfdG1wVmVjMik7XG4gIGNvbnN0IGRlbm9taW5hdG9yID0gZWRnZTFEb3RFZGdlMiAqIGVkZ2UxRG90RWRnZTIgLSBlZGdlMURvdEVkZ2UxICogZWRnZTJEb3RFZGdlMjtcblxuICAvLyBDaGVjayB0aGUgdHJpYW5nbGUncyBwYXJhbWV0cmljIGNvb3JkaW5hdGVzLlxuICBjb25zdCBzID0gKGVkZ2UxRG90RWRnZTIgKiBkaWZmRG90RWRnZTIgLSBlZGdlMkRvdEVkZ2UyICogZGlmZkRvdEVkZ2UxKSAvIGRlbm9taW5hdG9yO1xuICBpZiAocyA8IDAgfHwgcyA+IDEpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgY29uc3QgdCA9IChlZGdlMURvdEVkZ2UyICogZGlmZkRvdEVkZ2UxIC0gZWRnZTFEb3RFZGdlMSAqIGRpZmZEb3RFZGdlMikgLyBkZW5vbWluYXRvcjtcbiAgaWYgKHQgPCAwIHx8IHMgKyB0ID4gMSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIE9yaWdpbmFsbHkgYmFzZWQgb24gSnVra2EgSnlsw6Rua2kncyBhbGdvcml0aG0gYXRcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9qdWovTWF0aEdlb0xpYi9ibG9iLzEwOTNlMzlkOTFkZWY3ZmY2OTA1ZmI3NDg5ODkzMTkwZDdkODEzNTMvc3JjL0dlb21ldHJ5L09CQi5jcHAuXG4gKlxuICogQ29weXJpZ2h0IDIwMTEgSnVra2EgSnlsw6Rua2lcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dHB1dFBvaW50IE91dHB1dCBwYXJhbWV0ZXIuXG4gKiBAcGFyYW0ge09iYn0gb2JiXG4gKiBAcGFyYW0ge3ZlYzN9IHRhcmdldFBvaW50XG4gKi9cbmZ1bmN0aW9uIGZpbmRDbG9zZXN0UG9pbnRGcm9tT2JiVG9Qb2ludChvdXRwdXRQb2ludCwgb2JiLCB0YXJnZXRQb2ludCkge1xuICB2ZWMzLnN1YnRyYWN0KF90bXBWZWMxLCB0YXJnZXRQb2ludCwgb2JiLmNlbnRlck9mVm9sdW1lKTtcbiAgdmVjMy5jb3B5KG91dHB1dFBvaW50LCBvYmIuY2VudGVyT2ZWb2x1bWUpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkrKykge1xuICAgIC8vIENvbXB1dGUgdGhlIGRpc3BsYWNlbWVudCBhbG9uZyB0aGlzIGF4aXMuXG4gICAgbGV0IHByb2plY3Rpb24gPSB2ZWMzLmRvdChvYmIuYXhlc1tpXSwgX3RtcFZlYzEpO1xuICAgIHByb2plY3Rpb24gPSBwcm9qZWN0aW9uID4gb2JiLmhhbGZTaWRlTGVuZ3Roc1tpXSA/IG9iYi5oYWxmU2lkZUxlbmd0aHNbaV0gOlxuICAgICAgICAocHJvamVjdGlvbiA8IC1vYmIuaGFsZlNpZGVMZW5ndGhzW2ldID8gLW9iYi5oYWxmU2lkZUxlbmd0aHNbaV0gOiBwcm9qZWN0aW9uKTtcbiAgICB2ZWMzLnNjYWxlQW5kQWRkKG91dHB1dFBvaW50LCBvdXRwdXRQb2ludCwgb2JiLmF4ZXNbaV0sIHByb2plY3Rpb24pO1xuICB9XG59XG5cbi8qKlxuICogRmluZHMgdGhlIGNsb3Nlc3QgcG9zaXRpb24gb24gb25lIGxpbmUgc2VnbWVudCB0byB0aGUgb3RoZXIgbGluZSBzZWdtZW50LCBhbmQgdmljZSB2ZXJzYS5cbiAqXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBPcmlnaW5hbGx5IGJhc2VkIG9uIEp1a2thIEp5bMOkbmtpJ3MgYWxnb3JpdGhtIGF0XG4gKiBodHRwczovL2dpdGh1Yi5jb20vanVqL01hdGhHZW9MaWIvYmxvYi9mZjJkMzQ4YTE2NzAwOGM4MzFhZTMwNDQ4M2I4MjQ2NDdmNzFmYmY2L3NyYy9HZW9tZXRyeS9MaW5lU2VnbWVudC5jcHAuXG4gKlxuICogQ29weXJpZ2h0IDIwMTEgSnVra2EgSnlsw6Rua2lcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IGNsb3Nlc3RBIE91dHB1dCBwYXJhbS5cbiAqIEBwYXJhbSB7dmVjM30gY2xvc2VzdEIgT3V0cHV0IHBhcmFtLlxuICogQHBhcmFtIHtMaW5lU2VnbWVudH0gc2VnbWVudEFcbiAqIEBwYXJhbSB7TGluZVNlZ21lbnR9IHNlZ21lbnRCXG4gKi9cbmZ1bmN0aW9uIGZpbmRDbG9zZXN0UG9pbnRzRnJvbVNlZ21lbnRUb1NlZ21lbnQoY2xvc2VzdEEsIGNsb3Nlc3RCLCBzZWdtZW50QSwgc2VnbWVudEIpIHtcbiAgY29uc3Qge2Rpc3RBLCBkaXN0Qn0gPSBmaW5kQ2xvc2VzdFBvaW50c0Zyb21MaW5lVG9MaW5lKFxuICAgICAgc2VnbWVudEEuc3RhcnQsIHNlZ21lbnRBLmRpciwgc2VnbWVudEIuc3RhcnQsIHNlZ21lbnRCLmRpcik7XG5cbiAgY29uc3QgaXNEaXN0QUluQm91bmRzID0gZGlzdEEgPj0gMCAmJiBkaXN0QSA8PSAxO1xuICBjb25zdCBpc0Rpc3RCSW5Cb3VuZHMgPSBkaXN0QiA+PSAwICYmIGRpc3RCIDw9IDE7XG5cbiAgaWYgKGlzRGlzdEFJbkJvdW5kcykge1xuICAgIGlmIChpc0Rpc3RCSW5Cb3VuZHMpIHtcbiAgICAgIC8vIFRoZSBkaXN0YW5jZXMgYWxvbmcgYm90aCBsaW5lIHNlZ21lbnRzIGFyZSB3aXRoaW4gYm91bmRzLlxuICAgICAgdmVjMy5zY2FsZUFuZEFkZChjbG9zZXN0QSwgc2VnbWVudEEuc3RhcnQsIHNlZ21lbnRBLmRpciwgZGlzdEEpO1xuICAgICAgdmVjMy5zY2FsZUFuZEFkZChjbG9zZXN0Qiwgc2VnbWVudEIuc3RhcnQsIHNlZ21lbnRCLmRpciwgZGlzdEIpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBPbmx5IHRoZSBkaXN0YW5jZSBhbG9uZyB0aGUgZmlyc3QgbGluZSBzZWdtZW50IGlzIHdpdGhpbiBib3VuZHMuXG4gICAgICBpZiAoZGlzdEIgPCAwKSB7XG4gICAgICAgIHZlYzMuY29weShjbG9zZXN0Qiwgc2VnbWVudEIuc3RhcnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmVjMy5jb3B5KGNsb3Nlc3RCLCBzZWdtZW50Qi5lbmQpO1xuICAgICAgfVxuICAgICAgZmluZENsb3Nlc3RQb2ludE9uU2VnbWVudFRvUG9pbnQoY2xvc2VzdEEsIHNlZ21lbnRBLCBjbG9zZXN0Qik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChpc0Rpc3RCSW5Cb3VuZHMpIHtcbiAgICAgIC8vIE9ubHkgdGhlIGRpc3RhbmNlIGFsb25nIHRoZSBzZWNvbmQgbGluZSBzZWdtZW50IGlzIHdpdGhpbiBib3VuZHMuXG4gICAgICBpZiAoZGlzdEEgPCAwKSB7XG4gICAgICAgIHZlYzMuY29weShjbG9zZXN0QSwgc2VnbWVudEEuc3RhcnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmVjMy5jb3B5KGNsb3Nlc3RBLCBzZWdtZW50QS5lbmQpO1xuICAgICAgfVxuICAgICAgZmluZENsb3Nlc3RQb2ludE9uU2VnbWVudFRvUG9pbnQoY2xvc2VzdEIsIHNlZ21lbnRCLCBjbG9zZXN0QSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE5laXRoZXIgb2YgdGhlIGRpc3RhbmNlcyBhbG9uZyBlaXRoZXIgbGluZSBzZWdtZW50IGFyZSB3aXRoaW4gYm91bmRzLlxuICAgICAgaWYgKGRpc3RBIDwgMCkge1xuICAgICAgICB2ZWMzLmNvcHkoY2xvc2VzdEEsIHNlZ21lbnRBLnN0YXJ0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZlYzMuY29weShjbG9zZXN0QSwgc2VnbWVudEEuZW5kKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGRpc3RCIDwgMCkge1xuICAgICAgICB2ZWMzLmNvcHkoY2xvc2VzdEIsIHNlZ21lbnRCLnN0YXJ0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZlYzMuY29weShjbG9zZXN0Qiwgc2VnbWVudEIuZW5kKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgYWx0Q2xvc2VzdEEgPSB2ZWMzLmNyZWF0ZSgpO1xuICAgICAgY29uc3QgYWx0Q2xvc2VzdEIgPSB2ZWMzLmNyZWF0ZSgpO1xuXG4gICAgICBmaW5kQ2xvc2VzdFBvaW50T25TZWdtZW50VG9Qb2ludChhbHRDbG9zZXN0QSwgc2VnbWVudEEsIGNsb3Nlc3RCKTtcbiAgICAgIGZpbmRDbG9zZXN0UG9pbnRPblNlZ21lbnRUb1BvaW50KGFsdENsb3Nlc3RCLCBzZWdtZW50QiwgY2xvc2VzdEEpO1xuXG4gICAgICBpZiAodmVjMy5zcXVhcmVkRGlzdGFuY2UoYWx0Q2xvc2VzdEEsIGNsb3Nlc3RCKSA8XG4gICAgICAgICAgdmVjMy5zcXVhcmVkRGlzdGFuY2UoYWx0Q2xvc2VzdEIsIGNsb3Nlc3RBKSkge1xuICAgICAgICB2ZWMzLmNvcHkoY2xvc2VzdEEsIGFsdENsb3Nlc3RBKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZlYzMuY29weShjbG9zZXN0QiwgYWx0Q2xvc2VzdEIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEZpbmRzIHRoZSBjbG9zZXN0IHBvc2l0aW9uIG9uIGEgbGluZSBzZWdtZW50IHRvIGEgcG9pbnQuXG4gKlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogT3JpZ2luYWxseSBiYXNlZCBvbiBKdWtrYSBKeWzDpG5raSdzIGFsZ29yaXRobSBhdFxuICogaHR0cHM6Ly9naXRodWIuY29tL2p1ai9NYXRoR2VvTGliL2Jsb2IvZmYyZDM0OGExNjcwMDhjODMxYWUzMDQ0ODNiODI0NjQ3ZjcxZmJmNi9zcmMvR2VvbWV0cnkvTGluZVNlZ21lbnQuY3BwLlxuICpcbiAqIENvcHlyaWdodCAyMDExIEp1a2thIEp5bMOkbmtpXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBjbG9zZXN0UG9pbnQgT3V0cHV0IHBhcmFtLlxuICogQHBhcmFtIHtMaW5lU2VnbWVudH0gc2VnbWVudFxuICogQHBhcmFtIHt2ZWMzfSBwb2ludFxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gZmluZENsb3Nlc3RQb2ludE9uU2VnbWVudFRvUG9pbnQoY2xvc2VzdFBvaW50LCBzZWdtZW50LCBwb2ludCkge1xuICBjb25zdCBkaXJTcXVhcmVkTGVuZ3RoID0gdmVjMy5zcXVhcmVkTGVuZ3RoKHNlZ21lbnQuZGlyKTtcblxuICBpZiAoIWRpclNxdWFyZWRMZW5ndGgpIHtcbiAgICAvLyBUaGUgcG9pbnQgaXMgYXQgdGhlIHNlZ21lbnQgc3RhcnQuXG4gICAgdmVjMy5jb3B5KGNsb3Nlc3RQb2ludCwgc2VnbWVudC5zdGFydCk7XG4gIH0gZWxzZSB7XG4gICAgLy8gQ2FsY3VsYXRlIHRoZSBwcm9qZWN0aW9uIG9mIHRoZSBwb2ludCBvbnRvIHRoZSBsaW5lIGV4dGVuZGluZyB0aHJvdWdoIHRoZSBzZWdtZW50LlxuICAgIHZlYzMuc3VidHJhY3QoX3RtcFZlYzEsIHBvaW50LCBzZWdtZW50LnN0YXJ0KTtcbiAgICBjb25zdCB0ID0gdmVjMy5kb3QoX3RtcFZlYzEsIHNlZ21lbnQuZGlyKSAvIGRpclNxdWFyZWRMZW5ndGg7XG5cbiAgICBpZiAodCA8IDApIHtcbiAgICAgIC8vIFRoZSBwb2ludCBwcm9qZWN0cyBiZXlvbmQgdGhlIHNlZ21lbnQgc3RhcnQuXG4gICAgICB2ZWMzLmNvcHkoY2xvc2VzdFBvaW50LCBzZWdtZW50LnN0YXJ0KTtcbiAgICB9IGVsc2UgaWYgKHQgPiAxKSB7XG4gICAgICAvLyBUaGUgcG9pbnQgcHJvamVjdHMgYmV5b25kIHRoZSBzZWdtZW50IGVuZC5cbiAgICAgIHZlYzMuY29weShjbG9zZXN0UG9pbnQsIHNlZ21lbnQuZW5kKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVGhlIHBvaW50IHByb2plY3RzIGJldHdlZW4gdGhlIHN0YXJ0IGFuZCBlbmQgb2YgdGhlIHNlZ21lbnQuXG4gICAgICB2ZWMzLnNjYWxlQW5kQWRkKGNsb3Nlc3RQb2ludCwgc2VnbWVudC5zdGFydCwgc2VnbWVudC5kaXIsIHQpO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEZpbmRzIHRoZSBjbG9zZXN0IHBvc2l0aW9uIG9uIG9uZSBsaW5lIHRvIHRoZSBvdGhlciBsaW5lLCBhbmQgdmljZSB2ZXJzYS5cbiAqXG4gKiBUaGUgcG9zaXRpb25zIGFyZSByZXByZXNlbnRlZCBhcyBzY2FsYXItdmFsdWUgZGlzdGFuY2VzIGZyb20gdGhlIFwic3RhcnRcIiBwb3NpdGlvbnMgb2YgZWFjaCBsaW5lLlxuICogVGhlc2UgYXJlIHNjYWxlZCBhY2NvcmRpbmcgdG8gdGhlIGdpdmVuIGRpcmVjdGlvbiB2ZWN0b3JzLlxuICpcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIE9yaWdpbmFsbHkgYmFzZWQgb24gSnVra2EgSnlsw6Rua2kncyBhbGdvcml0aG0gYXRcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9qdWovTWF0aEdlb0xpYi9ibG9iL2ZmMmQzNDhhMTY3MDA4YzgzMWFlMzA0NDgzYjgyNDY0N2Y3MWZiZjYvc3JjL0dlb21ldHJ5L0xpbmUuY3BwLlxuICpcbiAqIENvcHlyaWdodCAyMDExIEp1a2thIEp5bMOkbmtpXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBzdGFydEEgVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIGxpbmUgQS5cbiAqIEBwYXJhbSB7dmVjM30gZGlyQSBUaGUgKHVubm9ybWFsaXplZCkgZGlyZWN0aW9uIG9mIGxpbmUgQS4gQ2Fubm90IGJlIHplcm8uXG4gKiBAcGFyYW0ge3ZlYzN9IHN0YXJ0QiBUaGUgc3RhcnQgcG9zaXRpb24gb2YgbGluZSBCLlxuICogQHBhcmFtIHt2ZWMzfSBkaXJCIFRoZSAodW5ub3JtYWxpemVkKSBkaXJlY3Rpb24gb2YgbGluZSBCLiBDYW5ub3QgYmUgemVyby5cbiAqIEByZXR1cm5zIHt7ZGlzdEE6IE51bWJlciwgZGlzdEI6IE51bWJlcn19XG4gKi9cbmZ1bmN0aW9uIGZpbmRDbG9zZXN0UG9pbnRzRnJvbUxpbmVUb0xpbmUoc3RhcnRBLCBkaXJBLCBzdGFydEIsIGRpckIpIHtcbiAgdmVjMy5zdWJ0cmFjdChfdG1wVmVjMSwgc3RhcnRBLCBzdGFydEIpO1xuICBjb25zdCBkaXJCRG90RGlyQVRvQiA9IHZlYzMuZG90KGRpckIsIF90bXBWZWMxKTtcbiAgY29uc3QgZGlyQURvdERpckFUb0IgPSB2ZWMzLmRvdChkaXJBLCBfdG1wVmVjMSk7XG5cbiAgY29uc3Qgc3FyTGVuRGlyQiA9IHZlYzMuc3F1YXJlZExlbmd0aChkaXJCKTtcbiAgY29uc3Qgc3FyTGVuRGlyQSA9IHZlYzMuc3F1YXJlZExlbmd0aChkaXJBKTtcblxuICBjb25zdCBkaXJBRG90RGlyQiA9IHZlYzMuZG90KGRpckEsIGRpckIpO1xuXG4gIGNvbnN0IGRlbm9taW5hdG9yID0gc3FyTGVuRGlyQSAqIHNxckxlbkRpckIgLSBkaXJBRG90RGlyQiAqIGRpckFEb3REaXJCO1xuXG4gIGNvbnN0IGRpc3RBID0gZGVub21pbmF0b3IgPCBFUFNJTE9OXG4gICAgICA/IDBcbiAgICAgIDogKGRpckFEb3REaXJCICogZGlyQkRvdERpckFUb0IgLSBzcXJMZW5EaXJCICogZGlyQURvdERpckFUb0IpIC8gZGVub21pbmF0b3I7XG4gIGNvbnN0IGRpc3RCID0gKGRpckJEb3REaXJBVG9CICsgZGlyQURvdERpckIgKiBkaXN0QSkgLyBzcXJMZW5EaXJCO1xuXG4gIHJldHVybiB7XG4gICAgZGlzdEE6IGRpc3RBLFxuICAgIGRpc3RCOiBkaXN0QlxuICB9O1xufVxuXG4vKipcbiAqIEEgZ29vZCBkZXNjcmlwdGlvbiBvZiB3aHkgd2UgbmVlZCB0aGVzZSBzcGVjaWFsIG9wZXJhdGlvbnMgZm9yIHJvdGF0aW5nIHRlbnNvcnMgY2FuIGJlIGZvdW5kXG4gKiBoZXJlOiBodHRwOi8vd3d3LnJhbmR5Z2F1bC5uZXQvMjAxNC8wNC8wOS90cmFuc2Zvcm1hdGlvbnMtY2hhbmdlLW9mLWJhc2lzLW1hdHJpeC8uXG4gKlxuICogQHBhcmFtIHttYXQzfSBvdXRwdXQgT3V0cHV0IHBhcmFtLlxuICogQHBhcmFtIHttYXQzfSB0ZW5zb3JcbiAqIEBwYXJhbSB7cXVhdH0gcm90YXRpb25cbiAqL1xuZnVuY3Rpb24gcm90YXRlVGVuc29yKG91dHB1dCwgdGVuc29yLCByb3RhdGlvbikgey8vIFRPRE86IFRlc3QgdGhpcyBzb21laG93Li4uXG4gIG1hdDMuZnJvbVF1YXQoX3RtcE1hdCwgcm90YXRpb24pO1xuICBtYXQzLm11bHRpcGx5KG91dHB1dCwgX3RtcE1hdCwgdGVuc29yKTtcbiAgbWF0My5pbnZlcnQoX3RtcE1hdCwgX3RtcE1hdCk7XG4gIG1hdDMubXVsdGlwbHkob3V0cHV0LCBvdXRwdXQsIF90bXBNYXQpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7QWFiYn0gYWFiYlxuICogQHBhcmFtIHt2ZWMzfSBwb2ludFxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGFhYmJWc1BvaW50KGFhYmIsIHBvaW50KSB7XG4gIHJldHVybiBwb2ludFswXSA+PSBhYWJiLm1pblggJiYgcG9pbnRbMF0gPD0gYWFiYi5tYXhYICYmXG4gICAgICBwb2ludFsxXSA+PSBhYWJiLm1pblkgJiYgcG9pbnRbMV0gPD0gYWFiYi5tYXhZICYmXG4gICAgICBwb2ludFsyXSA+PSBhYWJiLm1pblogJiYgcG9pbnRbMl0gPD0gYWFiYi5tYXhaXG59XG5cbi8qKlxuICogQHBhcmFtIHtxdWF0fSBvdXRcbiAqIEBwYXJhbSB7cXVhdH0gYVxuICogQHBhcmFtIHtxdWF0fSBiXG4gKiBAcGFyYW0ge251bWJlcn0gc2NhbGVcbiAqIEByZXR1cm5zIHtxdWF0fVxuICovXG5mdW5jdGlvbiBzY2FsZUFuZEFkZFF1YXQob3V0LCBhLCBiLCBzY2FsZSkge1xuICByZXR1cm4gcXVhdC5zZXQob3V0LFxuICAgICAgYVswXSArIGJbMF0gKiBzY2FsZSxcbiAgICAgIGFbMV0gKyBiWzFdICogc2NhbGUsXG4gICAgICBhWzJdICsgYlsyXSAqIHNjYWxlLFxuICAgICAgYVszXSArIGJbM10gKiBzY2FsZSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHt2ZWMzfSBhXG4gKiBAcGFyYW0ge3ZlYzN9IGJcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBhcmVWZWMzc0Nsb3NlKGEsIGIpIHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCAzOyBpKyspIHtcbiAgICBpZiAoYVtpXSAtIGJbaV0gPiBFUFNJTE9OIHx8IGJbaV0gLSBhW2ldID4gRVBTSUxPTikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLy8gUmUtdXNlZCBhY3Jvc3MgdGhlIGdlb21ldHJ5IHV0aWxpdHkgZnVuY3Rpb25zLCBzbyB3ZSBkb24ndCBpbnN0YW50aWF0ZSBhcyBtYW55IHZlYzMgb2JqZWN0cy5cbmNvbnN0IF90bXBWZWMxID0gdmVjMy5jcmVhdGUoKTtcbmNvbnN0IF90bXBWZWMyID0gdmVjMy5jcmVhdGUoKTtcbmNvbnN0IF90bXBWZWMzID0gdmVjMy5jcmVhdGUoKTtcbmNvbnN0IF90bXBWZWM0ID0gdmVjMy5jcmVhdGUoKTtcbmNvbnN0IF90bXBNYXQgPSBtYXQzLmNyZWF0ZSgpO1xuXG4vLyBFeHBvc2VkIHRvIGNvbnN1bWVycywgc28gdGhleSBkb24ndCBoYXZlIHRvIGluc3RhbnRpYXRlIGFzIG1hbnkgdmVjMyBvYmplY3RzLlxuY29uc3QgdG1wVmVjMSA9IHZlYzMuY3JlYXRlKCk7XG5jb25zdCB0bXBWZWMyID0gdmVjMy5jcmVhdGUoKTtcbmNvbnN0IHRtcFZlYzMgPSB2ZWMzLmNyZWF0ZSgpO1xuY29uc3QgdG1wVmVjNCA9IHZlYzMuY3JlYXRlKCk7XG5cbmNvbnN0IF9nZW9tZXRyeSA9IHtcbiAgRVBTSUxPTixcbiAgSEFMRl9QSSxcbiAgVFdPX1BJLFxuICBzY2FsZUFuZEFkZFF1YXQsXG59O1xuXG5leHBvcnQge1xuICBfZ2VvbWV0cnksXG4gIHRtcFZlYzEsXG4gIHRtcFZlYzIsXG4gIHRtcFZlYzMsXG4gIHRtcFZlYzQsXG4gIGZpbmRTcXVhcmVkRGlzdGFuY2VCZXR3ZWVuU2VnbWVudHMsXG4gIGZpbmRTcXVhcmVkRGlzdGFuY2VGcm9tU2VnbWVudFRvUG9pbnQsXG4gIGZpbmRDbG9zZXN0UG9pbnRGcm9tQWFiYlRvUG9pbnQsXG4gIGZpbmRDbG9zZXN0UG9pbnRGcm9tQWFiYlN1cmZhY2VUb1BvaW50LFxuICBmaW5kUG9pQmV0d2VlblNlZ21lbnRBbmRUcmlhbmdsZSxcbiAgZmluZFBvaUJldHdlZW5TZWdtZW50QW5kUGxhbmVSZWdpb24sXG4gIGZpbmRDbG9zZXN0UG9pbnRGcm9tT2JiVG9Qb2ludCxcbiAgZmluZENsb3Nlc3RQb2ludHNGcm9tU2VnbWVudFRvU2VnbWVudCxcbiAgZmluZENsb3Nlc3RQb2ludE9uU2VnbWVudFRvUG9pbnQsXG4gIGZpbmRDbG9zZXN0UG9pbnRzRnJvbUxpbmVUb0xpbmUsXG4gIHJvdGF0ZVRlbnNvcixcbiAgYWFiYlZzUG9pbnQsXG4gIGFyZVZlYzNzQ2xvc2UsXG59O1xuIiwiLyoqXG4gKiBUaGlzIG1vZHVsZSBkZWZpbmVzIGEgY29sbGVjdGlvbiBvZiBzdGF0aWMgdXRpbGl0eSBmdW5jdGlvbnMgZm9yIGNhbGN1bGF0aW5nIGluZXJ0aWEgdGVuc29ycy5cbiAqL1xuXG5pbXBvcnQge19nZW9tZXRyeSwgcm90YXRlVGVuc29yfSBmcm9tICcuL2dlb21ldHJ5JztcblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzXG4gKiBAcGFyYW0ge251bWJlcn0gbWFzc1xuICogQHJldHVybnMge21hdDN9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVNwaGVyZUluZXJ0aWFUZW5zb3IocmFkaXVzLCBtYXNzKSB7Ly8gVE9ETzogVGVzdCB0aGlzIHNvbWVob3cuLi5cbiAgY29uc3QgdGVuc29yID0gbWF0My5jcmVhdGUoKTtcbiAgY29uc3QgbW9tZW50ID0gMiAvIDUgKiBtYXNzICogcmFkaXVzICogcmFkaXVzO1xuICB0ZW5zb3JbMF0gPSBtb21lbnQ7XG4gIHRlbnNvcls0XSA9IG1vbWVudDtcbiAgdGVuc29yWzhdID0gbW9tZW50O1xuICByZXR1cm4gdGVuc29yO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSByYW5nZVhcbiAqIEBwYXJhbSB7bnVtYmVyfSByYW5nZVlcbiAqIEBwYXJhbSB7bnVtYmVyfSByYW5nZVpcbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXNzXG4gKiBAcmV0dXJucyB7bWF0M31cbiAqL1xuZnVuY3Rpb24gY3JlYXRlQm94SW5lcnRpYVRlbnNvcihyYW5nZVgsIHJhbmdlWSwgcmFuZ2VaLCBtYXNzKSB7Ly8gVE9ETzogVGVzdCB0aGlzIHNvbWVob3cuLi5cbiAgY29uc3QgdGVuc29yID0gbWF0My5jcmVhdGUoKTtcbiAgY29uc3QgdG1wID0gbWFzcyAvIDEyO1xuICBjb25zdCB4UmFuZ2VTcXVhcmVkID0gcmFuZ2VYICogcmFuZ2VYO1xuICBjb25zdCB5UmFuZ2VTcXVhcmVkID0gcmFuZ2VZICogcmFuZ2VZO1xuICBjb25zdCB6UmFuZ2VTcXVhcmVkID0gcmFuZ2VaICogcmFuZ2VaO1xuICB0ZW5zb3JbMF0gPSB0bXAgKiAoeVJhbmdlU3F1YXJlZCArIHpSYW5nZVNxdWFyZWQpO1xuICB0ZW5zb3JbNF0gPSB0bXAgKiAoeFJhbmdlU3F1YXJlZCArIHlSYW5nZVNxdWFyZWQpO1xuICB0ZW5zb3JbOF0gPSB0bXAgKiAoeFJhbmdlU3F1YXJlZCArIHpSYW5nZVNxdWFyZWQpO1xuICByZXR1cm4gdGVuc29yO1xufVxuXG4vKipcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIE9yaWdpbmFsbHkgYmFzZWQgb24gQm9qYW4gTG92cm92aWMncyBhbGdvcml0aG0gYXRcbiAqIGh0dHA6Ly93d3cuZ2FtZWRldi5uZXQvcGFnZS9yZXNvdXJjZXMvXy90ZWNobmljYWwvbWF0aC1hbmQtcGh5c2ljcy9jYXBzdWxlLWluZXJ0aWEtdGVuc29yLXIzODU2LlxuICpcbiAqIENvcHlyaWdodCAyMDE0IEJvamFuIExvdnJvdmljXG4gKlxuICogR2FtZURldi5uZXQgT3BlbiBMaWNlbnNlXG4gKiAoaHR0cDovL3d3dy5nYW1lZGV2Lm5ldC9wYWdlL3Jlc291cmNlcy9fL2dkbmV0aGVscC9nYW1lZGV2bmV0LW9wZW4tbGljZW5zZS1yMjk1NilcbiAqXG4gKiBURVJNUyBBTkQgQ09ORElUSU9OUyBGT1IgVVNFLCBSRVBST0RVQ1RJT04sIEFORCBESVNUUklCVVRJT05cbiAqXG4gKiAxLiBEZWZpbml0aW9ucy5cbiAqXG4gKiBcIkFydGljbGVcIiBzaGFsbCByZWZlciB0byBhbnkgYm9keSBvZiB0ZXh0IHdyaXR0ZW4gYnkgQXV0aG9yIHdoaWNoIGRlc2NyaWJlcyBhbmQgZG9jdW1lbnRzIHRoZSB1c2VcbiAqIGFuZC9vciBvcGVyYXRpb24gb2YgU291cmNlLiBJdCBzcGVjaWZpY2FsbHkgZG9lcyBub3QgcmVmZXIgdG8gYW55IGFjY29tcGFueWluZyBTb3VyY2UgZWl0aGVyXG4gKiBlbWJlZGRlZCB3aXRoaW4gdGhlIGJvZHkgb2YgdGV4dCBvciBhdHRhY2hlZCB0byB0aGUgYXJ0aWNsZSBhcyBhIGZpbGUuXG4gKlxuICogXCJBdXRob3JcIiBtZWFucyB0aGUgaW5kaXZpZHVhbCBvciBlbnRpdHkgdGhhdCBvZmZlcnMgdGhlIFdvcmsgdW5kZXIgdGhlIHRlcm1zIG9mIHRoaXMgTGljZW5zZS5cbiAqXG4gKiBcIkxpY2Vuc2VcIiBzaGFsbCBtZWFuIHRoZSB0ZXJtcyBhbmQgY29uZGl0aW9ucyBmb3IgdXNlLCByZXByb2R1Y3Rpb24sIGFuZCBkaXN0cmlidXRpb24gYXMgZGVmaW5lZFxuICogYnkgU2VjdGlvbnMgMSB0aHJvdWdoIDkgb2YgdGhpcyBkb2N1bWVudC5cbiAqXG4gKiBcIkxpY2Vuc29yXCIgc2hhbGwgbWVhbiB0aGUgY29weXJpZ2h0IG93bmVyIG9yIGVudGl0eSBhdXRob3JpemVkIGJ5IHRoZSBjb3B5cmlnaHQgb3duZXIgdGhhdCBpc1xuICogZ3JhbnRpbmcgdGhlIExpY2Vuc2UuXG4gKlxuICogXCJZb3VcIiAob3IgXCJZb3VyXCIpIHNoYWxsIG1lYW4gYW4gaW5kaXZpZHVhbCBvciBlbnRpdHkgZXhlcmNpc2luZyBwZXJtaXNzaW9ucyBncmFudGVkIGJ5IHRoaXNcbiAqIExpY2Vuc2UuXG4gKlxuICogXCJTb3VyY2VcIiBzaGFsbCBpbmNsdWRlIGFsbCBzb2Z0d2FyZSB0ZXh0IHNvdXJjZSBjb2RlIGFuZCBjb25maWd1cmF0aW9uIGZpbGVzIHVzZWQgdG8gY3JlYXRlXG4gKiBleGVjdXRhYmxlIHNvZnR3YXJlXG4gKlxuICogXCJPYmplY3RcIiBzaGFsbCBtZWFuIGFueSBTb3VyY2Ugd2hpY2ggaGFzIGJlZW4gY29udmVydGVkIGludG8gYSBtYWNoaW5lIGV4ZWN1dGFibGUgc29mdHdhcmVcbiAqXG4gKiBcIldvcmtcIiBjb25zaXN0cyBvZiBib3RoIHRoZSBBcnRpY2xlIGFuZCBTb3VyY2VcbiAqXG4gKiBcIlB1Ymxpc2hlclwiIHJlZmVycyB0byBHYW1lRGV2Lm5ldCBMTENcbiAqXG4gKiBUaGlzIGFncmVlbWVudCBpcyBiZXR3ZWVuIFlvdSBhbmQgQXV0aG9yLCB0aGUgb3duZXIgYW5kIGNyZWF0b3Igb2YgdGhlIFdvcmsgbG9jYXRlZCBhdFxuICogR2FtZWRldi5uZXQuXG4gKlxuICogMi4gRmFpciBEZWFsaW5nIFJpZ2h0cy5cbiAqXG4gKiBOb3RoaW5nIGluIHRoaXMgTGljZW5zZSBpcyBpbnRlbmRlZCB0byByZWR1Y2UsIGxpbWl0LCBvciByZXN0cmljdCBhbnkgdXNlcyBmcmVlIGZyb20gY29weXJpZ2h0IG9yXG4gKiByaWdodHMgYXJpc2luZyBmcm9tIGxpbWl0YXRpb25zIG9yIGV4Y2VwdGlvbnMgdGhhdCBhcmUgcHJvdmlkZWQgZm9yIGluIGNvbm5lY3Rpb24gd2l0aCB0aGVcbiAqIGNvcHlyaWdodCBwcm90ZWN0aW9uIHVuZGVyIGNvcHlyaWdodCBsYXcgb3Igb3RoZXIgYXBwbGljYWJsZSBsYXdzLlxuICpcbiAqIDMuIEdyYW50IG9mIENvcHlyaWdodCBMaWNlbnNlLlxuICpcbiAqIFN1YmplY3QgdG8gdGhlIHRlcm1zIGFuZCBjb25kaXRpb25zIG9mIHRoaXMgTGljZW5zZSwgdGhlIEF1dGhvciBoZXJlYnkgZ3JhbnRzIHRvIFlvdSBhIHBlcnBldHVhbCxcbiAqIHdvcmxkd2lkZSwgbm9uLWV4Y2x1c2l2ZSwgbm8tY2hhcmdlLCByb3lhbHR5LWZyZWUsIGlycmV2b2NhYmxlIGNvcHlyaWdodCBsaWNlbnNlIHRvIHRoZSBXb3JrXG4gKiB1bmRlciB0aGUgZm9sbG93aW5nIHN0YXRlZCB0ZXJtczpcbiAqIFlvdSBtYXkgbm90IHJlcHJvZHVjZSB0aGUgQXJ0aWNsZSBvbiBhbnkgb3RoZXIgd2Vic2l0ZSBvdXRzaWRlIG9mIEdhbWVkZXYubmV0IHdpdGhvdXQgZXhwcmVzc1xuICogd3JpdHRlbiBwZXJtaXNzaW9uIGZyb20gdGhlIEF1dGhvclxuICogWW91IG1heSB1c2UsIGNvcHksIGxpbmssIG1vZGlmeSBhbmQgZGlzdHJpYnV0ZSB1bmRlciBZb3VyIG93biB0ZXJtcywgYmluYXJ5IE9iamVjdCBjb2RlIHZlcnNpb25zXG4gKiBiYXNlZCBvbiB0aGUgV29yayBpbiB5b3VyIG93biBzb2Z0d2FyZVxuICogWW91IG1heSByZXByb2R1Y2UsIHByZXBhcmUgZGVyaXZhdGl2ZSBXb3JrcyBvZiwgcHVibGljbHkgZGlzcGxheSwgcHVibGljbHkgcGVyZm9ybSwgc3VibGljZW5zZSxcbiAqIGFuZCBkaXN0cmlidXRlIHRoZSBTb3VyY2UgYW5kIHN1Y2ggZGVyaXZhdGl2ZSBTb3VyY2UgaW4gU291cmNlIGZvcm0gb25seSBhcyBwYXJ0IG9mIGEgbGFyZ2VyXG4gKiBzb2Z0d2FyZSBkaXN0cmlidXRpb24gYW5kIHByb3ZpZGVkIHRoYXQgYXR0cmlidXRpb24gdG8gdGhlIG9yaWdpbmFsIEF1dGhvciBpcyBncmFudGVkLlxuICogVGhlIG9yaWdpbiBvZiB0aGlzIFdvcmsgbXVzdCBub3QgYmUgbWlzcmVwcmVzZW50ZWQ7IHlvdSBtdXN0IG5vdCBjbGFpbSB0aGF0IHlvdSB3cm90ZSB0aGVcbiAqIG9yaWdpbmFsIFNvdXJjZS4gSWYgeW91IHVzZSB0aGlzIFNvdXJjZSBpbiBhIHByb2R1Y3QsIGFuIGFja25vd2xlZGdtZW50IG9mIHRoZSBBdXRob3IgbmFtZSB3b3VsZFxuICogYmUgYXBwcmVjaWF0ZWQgYnV0IGlzIG5vdCByZXF1aXJlZC5cbiAqXG4gKiA0LiBSZXN0cmljdGlvbnMuXG4gKlxuICogVGhlIGxpY2Vuc2UgZ3JhbnRlZCBpbiBTZWN0aW9uIDMgYWJvdmUgaXMgZXhwcmVzc2x5IG1hZGUgc3ViamVjdCB0byBhbmQgbGltaXRlZCBieSB0aGUgZm9sbG93aW5nXG4gKiByZXN0cmljdGlvbnM6XG4gKiBBbHRlcmVkIFNvdXJjZSB2ZXJzaW9ucyBtdXN0IGJlIHBsYWlubHkgbWFya2VkIGFzIHN1Y2gsIGFuZCBtdXN0IG5vdCBiZSBtaXNyZXByZXNlbnRlZCBhcyBiZWluZ1xuICogdGhlIG9yaWdpbmFsIHNvZnR3YXJlLlxuICogVGhpcyBMaWNlbnNlIG11c3QgYmUgdmlzaWJseSBsaW5rZWQgdG8gZnJvbSBhbnkgb25saW5lIGRpc3RyaWJ1dGlvbiBvZiB0aGUgQXJ0aWNsZSBieSBVUkkgYW5kXG4gKiB1c2luZyB0aGUgZGVzY3JpcHRpdmUgdGV4dCBcIkxpY2Vuc2VkIHVuZGVyIHRoZSBHYW1lRGV2Lm5ldCBPcGVuIExpY2Vuc2VcIlxuICogTmVpdGhlciB0aGUgbmFtZSBvZiB0aGUgQXV0aG9yIG9mIHRoaXMgV29yaywgbm9yIGFueSBvZiB0aGVpciB0cmFkZW1hcmtzIG9yIHNlcnZpY2UgbWFya3MsIG1heSBiZVxuICogdXNlZCB0byBlbmRvcnNlIG9yIHByb21vdGUgcHJvZHVjdHMgZGVyaXZlZCBmcm9tIHRoaXMgV29yayB3aXRob3V0IGV4cHJlc3MgcHJpb3IgcGVybWlzc2lvbiBvZlxuICogdGhlIEF1dGhvclxuICogRXhjZXB0IGFzIGV4cHJlc3NseSBzdGF0ZWQgaGVyZWluLCBub3RoaW5nIGluIHRoaXMgTGljZW5zZSBncmFudHMgYW55IGxpY2Vuc2UgdG8gQXV0aG9yJ3NcbiAqIHRyYWRlbWFya3MsIGNvcHlyaWdodHMsIHBhdGVudHMsIHRyYWRlIHNlY3JldHMgb3IgYW55IG90aGVyIGludGVsbGVjdHVhbCBwcm9wZXJ0eS4gTm8gbGljZW5zZSBpc1xuICogZ3JhbnRlZCB0byB0aGUgdHJhZGVtYXJrcyBvZiBBdXRob3IgZXZlbiBpZiBzdWNoIG1hcmtzIGFyZSBpbmNsdWRlZCBpbiB0aGUgV29yay4gTm90aGluZyBpbiB0aGlzXG4gKiBMaWNlbnNlIHNoYWxsIGJlIGludGVycHJldGVkIHRvIHByb2hpYml0IEF1dGhvciBmcm9tIGxpY2Vuc2luZyB1bmRlciB0ZXJtcyBkaWZmZXJlbnQgZnJvbSB0aGlzXG4gKiBMaWNlbnNlIGFueSBXb3JrIHRoYXQgQXV0aG9yIG90aGVyd2lzZSB3b3VsZCBoYXZlIGEgcmlnaHQgdG8gbGljZW5zZS5cbiAqXG4gKiA1LiBHcmFudCBvZiBQYXRlbnQgTGljZW5zZS5cbiAqXG4gKiBTdWJqZWN0IHRvIHRoZSB0ZXJtcyBhbmQgY29uZGl0aW9ucyBvZiB0aGlzIExpY2Vuc2UsIGVhY2ggQ29udHJpYnV0b3IgaGVyZWJ5IGdyYW50cyB0byBZb3UgYVxuICogcGVycGV0dWFsLCB3b3JsZHdpZGUsIG5vbi1leGNsdXNpdmUsIG5vLWNoYXJnZSwgcm95YWx0eS1mcmVlLCBpcnJldm9jYWJsZSAoZXhjZXB0IGFzIHN0YXRlZCBpblxuICogdGhpcyBzZWN0aW9uKSBwYXRlbnQgbGljZW5zZSB0byBtYWtlLCBoYXZlIG1hZGUsIHVzZSwgb2ZmZXIgdG8gc2VsbCwgc2VsbCwgaW1wb3J0LCBhbmQgb3RoZXJ3aXNlXG4gKiB0cmFuc2ZlciB0aGUgV29yaywgd2hlcmUgc3VjaCBsaWNlbnNlIGFwcGxpZXMgb25seSB0byB0aG9zZSBwYXRlbnQgY2xhaW1zIGxpY2Vuc2FibGUgYnkgc3VjaFxuICogQ29udHJpYnV0b3IgdGhhdCBhcmUgbmVjZXNzYXJpbHkgaW5mcmluZ2VkIGJ5IHRoZWlyIENvbnRyaWJ1dGlvbihzKSBhbG9uZSBvciBieSBjb21iaW5hdGlvbiBvZlxuICogdGhlaXIgQ29udHJpYnV0aW9uKHMpIHdpdGggdGhlIFdvcmsgdG8gd2hpY2ggc3VjaCBDb250cmlidXRpb24ocykgd2FzIHN1Ym1pdHRlZC4gSWYgWW91IGluc3RpdHV0ZVxuICogcGF0ZW50IGxpdGlnYXRpb24gYWdhaW5zdCBhbnkgZW50aXR5IChpbmNsdWRpbmcgYSBjcm9zcy1jbGFpbSBvciBjb3VudGVyY2xhaW0gaW4gYSBsYXdzdWl0KVxuICogYWxsZWdpbmcgdGhhdCB0aGUgV29yayBvciBTb3VyY2UgaW5jb3Jwb3JhdGVkIHdpdGhpbiB0aGUgV29yayBjb25zdGl0dXRlcyBkaXJlY3Qgb3IgY29udHJpYnV0b3J5XG4gKiBwYXRlbnQgaW5mcmluZ2VtZW50LCB0aGVuIGFueSBwYXRlbnQgbGljZW5zZXMgZ3JhbnRlZCB0byBZb3UgdW5kZXIgdGhpcyBMaWNlbnNlIGZvciB0aGF0IFdvcmtcbiAqIHNoYWxsIHRlcm1pbmF0ZSBhcyBvZiB0aGUgZGF0ZSBzdWNoIGxpdGlnYXRpb24gaXMgZmlsZWQuXG4gKlxuICogNi4gTGltaXRhdGlvbiBvZiBMaWFiaWxpdHkuXG4gKlxuICogSW4gbm8gZXZlbnQgYW5kIHVuZGVyIG5vIGxlZ2FsIHRoZW9yeSwgd2hldGhlciBpbiB0b3J0IChpbmNsdWRpbmcgbmVnbGlnZW5jZSksIGNvbnRyYWN0LCBvclxuICogb3RoZXJ3aXNlLCB1bmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgKHN1Y2ggYXMgZGVsaWJlcmF0ZSBhbmQgZ3Jvc3NseSBuZWdsaWdlbnQgYWN0cykgb3JcbiAqIGFncmVlZCB0byBpbiB3cml0aW5nLCBzaGFsbCBhbnkgQXV0aG9yIG9yIFB1Ymxpc2hlciBiZSBsaWFibGUgdG8gWW91IGZvciBkYW1hZ2VzLCBpbmNsdWRpbmcgYW55XG4gKiBkaXJlY3QsIGluZGlyZWN0LCBzcGVjaWFsLCBpbmNpZGVudGFsLCBvciBjb25zZXF1ZW50aWFsIGRhbWFnZXMgb2YgYW55IGNoYXJhY3RlciBhcmlzaW5nIGFzIGFcbiAqIHJlc3VsdCBvZiB0aGlzIExpY2Vuc2Ugb3Igb3V0IG9mIHRoZSB1c2Ugb3IgaW5hYmlsaXR5IHRvIHVzZSB0aGUgV29yayAoaW5jbHVkaW5nIGJ1dCBub3QgbGltaXRlZFxuICogdG8gZGFtYWdlcyBmb3IgbG9zcyBvZiBnb29kd2lsbCwgd29yayBzdG9wcGFnZSwgY29tcHV0ZXIgZmFpbHVyZSBvciBtYWxmdW5jdGlvbiwgb3IgYW55IGFuZCBhbGxcbiAqIG90aGVyIGNvbW1lcmNpYWwgZGFtYWdlcyBvciBsb3NzZXMpLCBldmVuIGlmIHN1Y2ggQXV0aG9yIGhhcyBiZWVuIGFkdmlzZWQgb2YgdGhlIHBvc3NpYmlsaXR5IG9mXG4gKiBzdWNoIGRhbWFnZXMuXG4gKlxuICogNy4gRElTQ0xBSU1FUiBPRiBXQVJSQU5UWVxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVFxuICogTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkRcbiAqIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4gKiBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gKiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cbiAqXG4gKiA4LiBQdWJsaXNoZXIuXG4gKlxuICogVGhlIHBhcnRpZXMgaGVyZWJ5IGNvbmZpcm0gdGhhdCB0aGUgUHVibGlzaGVyIHNoYWxsIG5vdCwgdW5kZXIgYW55IGNpcmN1bXN0YW5jZXMsIGJlIHJlc3BvbnNpYmxlXG4gKiBmb3IgYW5kIHNoYWxsIG5vdCBoYXZlIGFueSBsaWFiaWxpdHkgaW4gcmVzcGVjdCBvZiB0aGUgc3ViamVjdCBtYXR0ZXIgb2YgdGhpcyBMaWNlbnNlLiBUaGVcbiAqIFB1Ymxpc2hlciBtYWtlcyBubyB3YXJyYW50eSB3aGF0c29ldmVyIGluIGNvbm5lY3Rpb24gd2l0aCB0aGUgV29yayBhbmQgc2hhbGwgbm90IGJlIGxpYWJsZSB0byBZb3VcbiAqIG9yIGFueSBwYXJ0eSBvbiBhbnkgbGVnYWwgdGhlb3J5IGZvciBhbnkgZGFtYWdlcyB3aGF0c29ldmVyLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIGFueVxuICogZ2VuZXJhbCwgc3BlY2lhbCwgaW5jaWRlbnRhbCBvciBjb25zZXF1ZW50aWFsIGRhbWFnZXMgYXJpc2luZyBpbiBjb25uZWN0aW9uIHRvIHRoaXMgbGljZW5zZS4gVGhlXG4gKiBQdWJsaXNoZXIgcmVzZXJ2ZXMgdGhlIHJpZ2h0IHRvIGNlYXNlIG1ha2luZyB0aGUgV29yayBhdmFpbGFibGUgdG8gWW91IGF0IGFueSB0aW1lIHdpdGhvdXQgbm90aWNlXG4gKlxuICogOS4gVGVybWluYXRpb25cbiAqXG4gKiBUaGlzIExpY2Vuc2UgYW5kIHRoZSByaWdodHMgZ3JhbnRlZCBoZXJldW5kZXIgd2lsbCB0ZXJtaW5hdGUgYXV0b21hdGljYWxseSB1cG9uIGFueSBicmVhY2ggYnkgWW91XG4gKiBvZiB0aGUgdGVybXMgb2YgdGhpcyBMaWNlbnNlLiBJbmRpdmlkdWFscyBvciBlbnRpdGllcyB3aG8gaGF2ZSByZWNlaXZlZCBEZXJpdmlhdGl2ZSBXb3JrcyBmcm9tXG4gKiBZb3UgdW5kZXIgdGhpcyBMaWNlbnNlLCBob3dldmVyLCB3aWxsIG5vdCBoYXZlIHRoZWlyIGxpY2Vuc2VzIHRlcm1pbmF0ZWQgcHJvdmlkZWQgc3VjaFxuICogaW5kaXZpZHVhbHMgb3IgZW50aXRpZXMgcmVtYWluIGluIGZ1bGwgY29tcGxpYW5jZSB3aXRoIHRob3NlIGxpY2Vuc2VzLiBTZWN0aW9ucyAxLCAyLCA2LCA3LCA4IGFuZFxuICogOSB3aWxsIHN1cnZpdmUgYW55IHRlcm1pbmF0aW9uIG9mIHRoaXMgTGljZW5zZS5cbiAqIFN1YmplY3QgdG8gdGhlIGFib3ZlIHRlcm1zIGFuZCBjb25kaXRpb25zLCB0aGUgbGljZW5zZSBncmFudGVkIGhlcmUgaXMgcGVycGV0dWFsIChmb3IgdGhlXG4gKiBkdXJhdGlvbiBvZiB0aGUgYXBwbGljYWJsZSBjb3B5cmlnaHQgaW4gdGhlIFdvcmspLiBOb3R3aXRoc3RhbmRpbmcgdGhlIGFib3ZlLCBMaWNlbnNvciByZXNlcnZlc1xuICogdGhlIHJpZ2h0IHRvIHJlbGVhc2UgdGhlIFdvcmsgdW5kZXIgZGlmZmVyZW50IGxpY2Vuc2UgdGVybXMgb3IgdG8gc3RvcCBkaXN0cmlidXRpbmcgdGhlIFdvcmsgYXRcbiAqIGFueSB0aW1lOyBwcm92aWRlZCwgaG93ZXZlciB0aGF0IGFueSBzdWNoIGVsZWN0aW9uIHdpbGwgbm90IHNlcnZlIHRvIHdpdGhkcmF3IHRoaXMgTGljZW5zZSAob3JcbiAqIGFueSBvdGhlciBsaWNlbnNlIHRoYXQgaGFzIGJlZW4sIG9yIGlzIHJlcXVpcmVkIHRvIGJlLCBncmFudGVkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGlzIExpY2Vuc2UpLFxuICogYW5kIHRoaXMgTGljZW5zZSB3aWxsIGNvbnRpbnVlIGluIGZ1bGwgZm9yY2UgYW5kIGVmZmVjdCB1bmxlc3MgdGVybWluYXRlZCBhcyBzdGF0ZWQgYWJvdmUuXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IGhhbGZEaXN0YW5jZVxuICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1c1xuICogQHBhcmFtIHtudW1iZXJ9IG1hc3NcbiAqIEByZXR1cm5zIHttYXQzfVxuICovXG5mdW5jdGlvbiBjcmVhdGVDYXBzdWxlSW5lcnRpYVRlbnNvcihoYWxmRGlzdGFuY2UsIHJhZGl1cywgbWFzcykgey8vIFRPRE86IFRlc3QgdGhpcyBzb21laG93Li4uXG4gIGNvbnN0IHRlbnNvciA9IG1hdDMuY3JlYXRlKCk7XG5cbiAgY29uc3QgY3lsaW5kZXJIZWlnaHQgPSBoYWxmRGlzdGFuY2UgKiAyO1xuICBjb25zdCByYWRpdXNTcXVhcmVkID0gcmFkaXVzICogcmFkaXVzO1xuICBjb25zdCBjeWxpbmRlclZvbHVtZSA9IE1hdGguUEkgKiByYWRpdXNTcXVhcmVkICogY3lsaW5kZXJIZWlnaHQ7XG4gIGNvbnN0IGhlbWlzcGhlcmVDb21iaW5lZFZvbHVtZSA9IDQgLyAzICogTWF0aC5QSSAqIHJhZGl1c1NxdWFyZWQ7XG4gIGNvbnN0IGN5bGluZGVyTWFzcyA9IGN5bGluZGVyVm9sdW1lIC8gKGN5bGluZGVyVm9sdW1lICogaGVtaXNwaGVyZUNvbWJpbmVkVm9sdW1lKSAqIG1hc3M7XG4gIGNvbnN0IGhlbWlzcGhlcmVNYXNzID0gKG1hc3MgLSBjeWxpbmRlck1hc3MpIC8gMjtcblxuICAvLyBDb250cmlidXRpb24gZnJvbSB0aGUgY3lsaW5kZXIuXG4gIHRlbnNvcls0XSA9IHJhZGl1c1NxdWFyZWQgKiBjeWxpbmRlck1hc3MgLyAyO1xuICB0ZW5zb3JbMF0gPSB0ZW5zb3JbNF0gLyAyICsgY3lsaW5kZXJNYXNzICogY3lsaW5kZXJIZWlnaHQgKiBjeWxpbmRlckhlaWdodCAvIDEyO1xuICB0ZW5zb3JbOF0gPSB0ZW5zb3JbMF07XG5cbiAgLy8gQ29udHJpYnV0aW9ucyBmcm9tIHRoZSBoZW1pc3BoZXJlcy5cbiAgY29uc3QgdG1wMSA9IGhlbWlzcGhlcmVNYXNzICogMiAqIHJhZGl1c1NxdWFyZWQgLyA1O1xuICB0ZW5zb3JbNF0gKz0gdG1wMSAqIDI7XG4gIGNvbnN0IHRtcDIgPVxuICAgICAgKHRtcDEgKyBoZW1pc3BoZXJlTWFzcyAqIChoYWxmRGlzdGFuY2UgKiBoYWxmRGlzdGFuY2UgKyAzIC8gOCAqIGN5bGluZGVySGVpZ2h0ICogcmFkaXVzKSkgKiAyO1xuICB0ZW5zb3JbMF0gKz0gdG1wMjtcbiAgdGVuc29yWzhdICs9IHRtcDI7XG5cbiAgLy8gVGhlIGFib3ZlIGNhbGN1bGF0aW9ucyBhc3N1bWUgdGhlIGNhcHN1bGUgaXMgYWxpZ25lZCBhbG9uZyB0aGUgeS1heGlzLiBIb3dldmVyLCBvdXIgZGVmYXVsdFxuICAvLyBjYXBzdWxlIG9yaWVudGF0aW9uIGlzIGFsaWduZWQgYWxvbmcgdGhlIHotYXhpcy5cbiAgY29uc3Qgcm90YXRpb24gPSBxdWF0LmNyZWF0ZSgpO1xuICBxdWF0LnJvdGF0ZVgocm90YXRpb24sIHJvdGF0aW9uLCBfZ2VvbWV0cnkuSEFMRl9QSSk7XG4gIHJvdGF0ZVRlbnNvcih0ZW5zb3IsIHRlbnNvciwgcm90YXRpb24pO1xuXG4gIHJldHVybiB0ZW5zb3I7XG59XG5cbi8qKlxuICogQHBhcmFtIHtDb2xsaWRhYmxlfSBjb2xsaWRhYmxlXG4gKiBAcGFyYW0ge251bWJlcn0gbWFzc1xuICogQHJldHVybnMge21hdDN9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUZvckNvbGxpZGFibGUoY29sbGlkYWJsZSwgbWFzcykge1xuICBzd2l0Y2ggKGNvbGxpZGFibGUuY29uc3RydWN0b3IubmFtZSkge1xuICAgIGNhc2UgJ1NwaGVyZSc6XG4gICAgICByZXR1cm4gY3JlYXRlU3BoZXJlSW5lcnRpYVRlbnNvcihjb2xsaWRhYmxlLnJhZGl1cywgbWFzcyk7XG4gICAgY2FzZSAnQWFiYic6XG4gICAgICByZXR1cm4gY3JlYXRlQm94SW5lcnRpYVRlbnNvcihjb2xsaWRhYmxlLnJhbmdlWCwgY29sbGlkYWJsZS5yYW5nZVksIGNvbGxpZGFibGUucmFuZ2VaLCBtYXNzKTtcbiAgICBjYXNlICdDYXBzdWxlJzpcbiAgICAgIHJldHVybiBjcmVhdGVDYXBzdWxlSW5lcnRpYVRlbnNvcihjb2xsaWRhYmxlLmhhbGZEaXN0YW5jZSwgY29sbGlkYWJsZS5yYWRpdXMsIG1hc3MpO1xuICAgIGNhc2UgJ09iYic6XG4gICAgICByZXR1cm4gY3JlYXRlQm94SW5lcnRpYVRlbnNvcihjb2xsaWRhYmxlLmhhbGZTaWRlTGVuZ3Roc1swXSAqIDIsXG4gICAgICAgICAgY29sbGlkYWJsZS5oYWxmU2lkZUxlbmd0aHNbMV0gKiAyLCBjb2xsaWRhYmxlLmhhbGZTaWRlTGVuZ3Roc1syXSAqIDIsIG1hc3MpO1xuICB9XG59XG5cbmV4cG9ydCB7XG4gIGNyZWF0ZVNwaGVyZUluZXJ0aWFUZW5zb3IsXG4gIGNyZWF0ZUJveEluZXJ0aWFUZW5zb3IsXG4gIGNyZWF0ZUNhcHN1bGVJbmVydGlhVGVuc29yLFxuICBjcmVhdGVGb3JDb2xsaWRhYmxlLFxufTtcbiIsIi8qKlxuICogVGhpcyBtb2R1bGUgZGVmaW5lcyBhIGNvbGxlY3Rpb24gb2Ygc3RhdGljIGdlbmVyYWwgdXRpbGl0eSBmdW5jdGlvbnMuXG4gKi9cblxuLy8gVE9ETzogVGhpcyBzaG91bGQgYmUgc2V0IGZyb20gc29tZXdoZXJlIGVsc2UgKHByb2JhYmx5IGFzIGEgcGFyYW0gdG8gY29udHJvbGxlciBsaWtlIGJlZm9yZTsgYnV0IHRoZW4gSSBuZWVkIHRvIG1ha2UgdGhpcyB1cGRhdGFibGUpXG5jb25zdCBpc0luRGV2TW9kZSA9IHRydWU7XG5cbmNvbnN0IF91dGlsID0ge1xuICBpc0luRGV2TW9kZTogaXNJbkRldk1vZGVcbn07XG5cbmV4cG9ydCB7XG4gIF91dGlsLFxufTtcbiIsImV4cG9ydCAqIGZyb20gJy4vc3JjL2NhbWVyYS1jb25maWcnO1xyXG5leHBvcnQgKiBmcm9tICcuL3NyYy9jYW1lcmEtZm9sZGVyLWNvbmZpZyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vc3JjL2lucHV0LWNvbmZpZyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vc3JjL3BoeXNpY3MtY29uZmlnJztcclxuZXhwb3J0ICogZnJvbSAnLi9zcmMvcGh5c2ljcy1mb2xkZXItY29uZmlnJztcclxuIiwiLyoqXHJcbiAqIFRoaXMgbW9kdWxlIGhhbmRsZXMgY29uZmlndXJhdGlvbiBwYXJhbWV0ZXJzIHJlbGF0aW5nIHRvIHRoZSBjYW1lcmEuIFRoaXMgdXNlcyB0aGUgZGF0LkdVSVxyXG4gKiBwYWNrYWdlLlxyXG4gKi9cclxuXHJcbi8vIFRPRE86IFRpZSB0aGlzIGludG8gdGhlIGZvbGRlci1jb25maWcgc3lzdGVtLlxyXG5cclxuaW1wb3J0IHtcclxuICBkZWdUb1JhZCxcclxuICBGaXJzdFBlcnNvbkNhbWVyYSxcclxuICBGaXhlZENhbWVyYSxcclxuICBGaXhlZEZvbGxvd0NhbWVyYSxcclxuICBTcHJpbmdGb2xsb3dDYW1lcmEsXHJcbn0gZnJvbSAnZ2FtZXgnO1xyXG5cclxuY29uc3QgY2FtZXJhQ29uZmlnID0ge307XHJcblxyXG5jYW1lcmFDb25maWcuZm92WSA9IHtcclxuICBzdGFydDogZGVnVG9SYWQoNzAuMCksXHJcbiAgbWluOiAwLjAsXHJcbiAgbWF4OiAzLjE0MTVcclxufTtcclxuY2FtZXJhQ29uZmlnLmRlZmF1bHRBc3BlY3RSYXRpbyA9IHtcclxuICBzdGFydDogMTYgLyA5LFxyXG4gIG1pbjogMC4wMSxcclxuICBtYXg6IDguMFxyXG59O1xyXG5jYW1lcmFDb25maWcuX3pOZWFyID0gMC4xO1xyXG5jYW1lcmFDb25maWcuX3pGYXIgPSA0MDAwO1xyXG5jYW1lcmFDb25maWcuX2RlZmF1bHRMb29rQXREaXJlY3Rpb24gPSB2ZWMzLmZyb21WYWx1ZXMoMCwgMCwgLTEpO1xyXG5jYW1lcmFDb25maWcuY2FtZXJhVHlwZSA9IHtcclxuICBzdGFydDogJ3RoaXJkUGVyc29uU3ByaW5nJyxcclxuICBvcHRpb25zOiBbXHJcbiAgICAnZmlyc3RQZXJzb24nLFxyXG4gICAgJ3RoaXJkUGVyc29uU3ByaW5nJyxcclxuICAgICd0aGlyZFBlcnNvbkZpeGVkJyxcclxuICAgICdmaXhlZCcsXHJcbiAgXVxyXG59O1xyXG5cclxuY29uc3QgY2FtZXJhVHlwZU1hcCA9IHtcclxuICAnZmlyc3RQZXJzb24nOiBGaXJzdFBlcnNvbkNhbWVyYSxcclxuICAndGhpcmRQZXJzb25GaXhlZCc6IEZpeGVkRm9sbG93Q2FtZXJhLFxyXG4gICd0aGlyZFBlcnNvblNwcmluZyc6IFNwcmluZ0ZvbGxvd0NhbWVyYSxcclxuICAnZml4ZWQnOiBGaXhlZENhbWVyYSxcclxufTtcclxuXHJcbmNvbnN0IGZpeGVkQ2FtZXJhQ29uZmlnID0ge307XHJcblxyXG5maXhlZENhbWVyYUNvbmZpZy5wb3NpdGlvbiA9IHtcclxuICBzdGFydDogdmVjMy5mcm9tVmFsdWVzKDAsIC00MCwgNSksXHJcbiAgbWluOiB2ZWMzLmZyb21WYWx1ZXMoLTIwMCwgLTIwMCwgLTIwMCksXHJcbiAgbWF4OiB2ZWMzLmZyb21WYWx1ZXMoMjAwLCAyMDAsIDIwMClcclxufTtcclxuZml4ZWRDYW1lcmFDb25maWcudmlld0RpcmVjdGlvbiA9IHtcclxuICBzdGFydDogdmVjMy5mcm9tVmFsdWVzKDAsIDEsIC0uNSksXHJcbiAgbWluOiB2ZWMzLmZyb21WYWx1ZXMoLTEsIC0xLCAtMSksXHJcbiAgbWF4OiB2ZWMzLmZyb21WYWx1ZXMoMSwgMSwgMSlcclxufTtcclxuZml4ZWRDYW1lcmFDb25maWcuX3VwID0gdmVjMy5mcm9tVmFsdWVzKDAsIDAsIDEpO1xyXG5cclxuY29uc3QgZmlyc3RQZXJzb25DYW1lcmFDb25maWcgPSB7fTtcclxuXHJcbmZpcnN0UGVyc29uQ2FtZXJhQ29uZmlnLmludGVuZGVkRGlzcGxhY2VtZW50RnJvbVRhcmdldCA9IHZlYzMuZnJvbVZhbHVlcygwLCAwLjMsIC0wLjgpO1xyXG5maXJzdFBlcnNvbkNhbWVyYUNvbmZpZy52aWV3RGlyZWN0aW9uID0gdmVjMy5mcm9tVmFsdWVzKDAsIDAsIC0xKTtcclxuZmlyc3RQZXJzb25DYW1lcmFDb25maWcudGFyZ2V0RGlzdGFuY2UgPSAxMDtcclxuXHJcbmNvbnN0IGZvbGxvd0NhbWVyYUNvbmZpZyA9IHt9O1xyXG5cclxuZm9sbG93Q2FtZXJhQ29uZmlnLnNwcmluZ0NvZWZmaWNpZW50ID0gMC4wMDA0O1xyXG5mb2xsb3dDYW1lcmFDb25maWcuZGFtcGluZ0NvZWZmaWNpZW50ID0gMC4wNDtcclxuXHJcbmZvbGxvd0NhbWVyYUNvbmZpZy5pbnRlbmRlZERpc3RhbmNlRnJvbVRhcmdldCA9IHtcclxuICBzdGFydDogNSxcclxuICBtaW46IDAsXHJcbiAgbWF4OiAxMDBcclxufTtcclxuZm9sbG93Q2FtZXJhQ29uZmlnLmludGVuZGVkUm90YXRpb25BbmdsZUZyb21UYXJnZXQgPSB7XHJcbiAgc3RhcnQ6IC1NYXRoLlBJICogLjA3NSxcclxuICBtaW46IDAsXHJcbiAgbWF4OiAyICogTWF0aC5QSVxyXG59O1xyXG5mb2xsb3dDYW1lcmFDb25maWcuaW50ZW5kZWRSb3RhdGlvbkF4aXNGcm9tVGFyZ2V0ID0gdmVjMy5mcm9tVmFsdWVzKDEsIDAsIDApO1xyXG5mb2xsb3dDYW1lcmFDb25maWcuX2ludGVuZGVkVHJhbnNsYXRpb25Gcm9tVGFyZ2V0ID0gdmVjMy5jcmVhdGUoKTtcclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZUludGVuZGVkVHJhbnNsYXRpb25Gcm9tVGFyZ2V0KCkge1xyXG4gIGNvbnN0IHRyYW5zZm9ybWF0aW9uID0gbWF0NC5jcmVhdGUoKTtcclxuICBtYXQ0LnJvdGF0ZShcclxuICAgICAgdHJhbnNmb3JtYXRpb24sXHJcbiAgICAgIHRyYW5zZm9ybWF0aW9uLFxyXG4gICAgICBmb2xsb3dDYW1lcmFDb25maWcuaW50ZW5kZWRSb3RhdGlvbkFuZ2xlRnJvbVRhcmdldCxcclxuICAgICAgZm9sbG93Q2FtZXJhQ29uZmlnLmludGVuZGVkUm90YXRpb25BeGlzRnJvbVRhcmdldCk7XHJcbiAgbWF0NC50cmFuc2xhdGUoXHJcbiAgICAgIHRyYW5zZm9ybWF0aW9uLFxyXG4gICAgICB0cmFuc2Zvcm1hdGlvbixcclxuICAgICAgdmVjMy5mcm9tVmFsdWVzKDAsIDAsIGZvbGxvd0NhbWVyYUNvbmZpZy5pbnRlbmRlZERpc3RhbmNlRnJvbVRhcmdldCkpO1xyXG4gIHZlYzMudHJhbnNmb3JtTWF0NChcclxuICAgICAgZm9sbG93Q2FtZXJhQ29uZmlnLl9pbnRlbmRlZFRyYW5zbGF0aW9uRnJvbVRhcmdldCxcclxuICAgICAgZm9sbG93Q2FtZXJhQ29uZmlnLl9pbnRlbmRlZFRyYW5zbGF0aW9uRnJvbVRhcmdldCxcclxuICAgICAgdHJhbnNmb3JtYXRpb24pO1xyXG59XHJcblxyXG5jb25zdCBub3JtYWxpemVGaXJzdFBlcnNvblZpZXdEaXJlY3Rpb24gPVxyXG4gICAgKCkgPT4gdmVjMy5ub3JtYWxpemUoZmlyc3RQZXJzb25DYW1lcmFDb25maWcudmlld0RpcmVjdGlvbixcclxuICAgICAgICBmaXJzdFBlcnNvbkNhbWVyYUNvbmZpZy52aWV3RGlyZWN0aW9uKTtcclxuY29uc3Qgbm9ybWFsaXplRml4ZWRWaWV3RGlyZWN0aW9uID1cclxuICAgICgpID0+IHZlYzMubm9ybWFsaXplKGZpeGVkQ2FtZXJhQ29uZmlnLnZpZXdEaXJlY3Rpb24sIGZpeGVkQ2FtZXJhQ29uZmlnLnZpZXdEaXJlY3Rpb24pO1xyXG5jb25zdCBub3JtYWxpemVEZWZhdWx0TG9va0F0RGlyZWN0aW9uID1cclxuICAgICgpID0+IHZlYzMubm9ybWFsaXplKGNhbWVyYUNvbmZpZy5fZGVmYXVsdExvb2tBdERpcmVjdGlvbixcclxuICAgICAgICBjYW1lcmFDb25maWcuX2RlZmF1bHRMb29rQXREaXJlY3Rpb24pO1xyXG5cclxuY29uc3QgY2FtZXJhQ29uZmlnVXBkYXRlcnMgPSB7XHJcbiAgdXBkYXRlSW50ZW5kZWRUcmFuc2xhdGlvbkZyb21UYXJnZXQ6IHVwZGF0ZUludGVuZGVkVHJhbnNsYXRpb25Gcm9tVGFyZ2V0LFxyXG4gIG5vcm1hbGl6ZUZpcnN0UGVyc29uVmlld0RpcmVjdGlvbjogbm9ybWFsaXplRmlyc3RQZXJzb25WaWV3RGlyZWN0aW9uLFxyXG4gIG5vcm1hbGl6ZUZpeGVkVmlld0RpcmVjdGlvbjogbm9ybWFsaXplRml4ZWRWaWV3RGlyZWN0aW9uLFxyXG4gIG5vcm1hbGl6ZURlZmF1bHRMb29rQXREaXJlY3Rpb246IG5vcm1hbGl6ZURlZmF1bHRMb29rQXREaXJlY3Rpb25cclxufTtcclxuXHJcbm5vcm1hbGl6ZURlZmF1bHRMb29rQXREaXJlY3Rpb24oKTtcclxuXHJcbmV4cG9ydCB7XHJcbiAgY2FtZXJhQ29uZmlnLFxyXG4gIGZpeGVkQ2FtZXJhQ29uZmlnLFxyXG4gIGZpcnN0UGVyc29uQ2FtZXJhQ29uZmlnLFxyXG4gIGZvbGxvd0NhbWVyYUNvbmZpZyxcclxuICBjYW1lcmFDb25maWdVcGRhdGVycyxcclxuICBjYW1lcmFUeXBlTWFwLFxyXG59O1xyXG4iLCJpbXBvcnQge1xyXG4gIGNhbWVyYUNvbmZpZyxcclxuICBmaXJzdFBlcnNvbkNhbWVyYUNvbmZpZyxcclxuICBmaXhlZENhbWVyYUNvbmZpZyxcclxuICBmb2xsb3dDYW1lcmFDb25maWcsXHJcbiAgY2FtZXJhQ29uZmlnVXBkYXRlcnNcclxufSBmcm9tICcuL2NhbWVyYS1jb25maWcnO1xyXG5cclxuLyoqXHJcbiAqIFRoaXMgbW9kdWxlIGNvbmZpZ3VyZXMgdGhlIGNhbWVyYSBkYXQuR1VJIG1lbnUgZm9sZGVyLlxyXG4gKi9cclxuXHJcbmNvbnN0IGZpcnN0UGVyc29uQ2FtZXJhRm9sZGVyQ29uZmlnID0ge1xyXG4gIGxhYmVsOiAnRmlyc3QtcGVyc29uIGNhbWVyYScsXHJcbiAgY29uZmlnOiBmaXJzdFBlcnNvbkNhbWVyYUNvbmZpZyxcclxuICBpc09wZW46IGZhbHNlLFxyXG4gIG9uQ2hhbmdlTGlzdGVuZXJzOiB7XHJcbiAgICAndmlld0RpcmVjdGlvbic6IGNhbWVyYUNvbmZpZ1VwZGF0ZXJzLm5vcm1hbGl6ZUZpcnN0UGVyc29uVmlld0RpcmVjdGlvblxyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IGZpeGVkQ2FtZXJhRm9sZGVyQ29uZmlnID0ge1xyXG4gIGxhYmVsOiAnRml4ZWQgY2FtZXJhJyxcclxuICBjb25maWc6IGZpeGVkQ2FtZXJhQ29uZmlnLFxyXG4gIGlzT3BlbjogZmFsc2UsXHJcbiAgb25DaGFuZ2VMaXN0ZW5lcnM6IHtcclxuICAgICd2aWV3RGlyZWN0aW9uJzogY2FtZXJhQ29uZmlnVXBkYXRlcnMubm9ybWFsaXplRml4ZWRWaWV3RGlyZWN0aW9uXHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgZm9sbG93Q2FtZXJhRm9sZGVyQ29uZmlnID0ge1xyXG4gIGxhYmVsOiAnRm9sbG93IGNhbWVyYScsXHJcbiAgY29uZmlnOiBmb2xsb3dDYW1lcmFDb25maWcsXHJcbiAgaXNPcGVuOiBmYWxzZSxcclxuICBvbkNoYW5nZUxpc3RlbmVyczoge1xyXG4gICAgJ2ludGVuZGVkRGlzdGFuY2VGcm9tVGFyZ2V0JzogY2FtZXJhQ29uZmlnVXBkYXRlcnMudXBkYXRlSW50ZW5kZWRUcmFuc2xhdGlvbkZyb21UYXJnZXQsXHJcbiAgICAnaW50ZW5kZWRSb3RhdGlvbkFuZ2xlRnJvbVRhcmdldCc6IGNhbWVyYUNvbmZpZ1VwZGF0ZXJzLnVwZGF0ZUludGVuZGVkVHJhbnNsYXRpb25Gcm9tVGFyZ2V0LFxyXG4gICAgJ2ludGVuZGVkUm90YXRpb25BeGlzRnJvbVRhcmdldCc6IGNhbWVyYUNvbmZpZ1VwZGF0ZXJzLnVwZGF0ZUludGVuZGVkVHJhbnNsYXRpb25Gcm9tVGFyZ2V0XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgY2FtZXJhRm9sZGVyQ29uZmlnID0ge1xyXG4gIGxhYmVsOiAnQ2FtZXJhJyxcclxuICBjb25maWc6IGNhbWVyYUNvbmZpZyxcclxuICBpc09wZW46IGZhbHNlLFxyXG4gIGNoaWxkRm9sZGVyczogW1xyXG4gICAgZm9sbG93Q2FtZXJhRm9sZGVyQ29uZmlnLFxyXG4gICAgZmlyc3RQZXJzb25DYW1lcmFGb2xkZXJDb25maWcsXHJcbiAgICBmaXhlZENhbWVyYUZvbGRlckNvbmZpZ1xyXG4gIF1cclxufTtcclxuXHJcbmV4cG9ydCB7Y2FtZXJhRm9sZGVyQ29uZmlnLCBmaXJzdFBlcnNvbkNhbWVyYUZvbGRlckNvbmZpZywgZml4ZWRDYW1lcmFGb2xkZXJDb25maWcsIGZvbGxvd0NhbWVyYUZvbGRlckNvbmZpZ307XHJcbiIsIi8qKlxyXG4gKiBUaGlzIG1vZHVsZSBoYW5kbGVzIGNvbmZpZ3VyYXRpb24gcGFyYW1ldGVycyByZWxhdGluZyB0byBpbnB1dCBjb250cm9scy5cclxuICovXHJcblxyXG5jb25zdCBpbnB1dENvbmZpZyA9IHt9O1xyXG5cclxuLy8gVE9ETzogQ2hhbmdlIHRoZXNlIHRvIG5vdCBiZSBEdm9yYWstYmFzZWQuXHJcblxyXG5pbnB1dENvbmZpZy5zaGlwU2hvb3RUb3JwZWRvS2V5ID0gJ3UnO1xyXG5pbnB1dENvbmZpZy5zaGlwRm9yd2FyZFRocnVzdGVyS2V5ID0gJ2UnO1xyXG5pbnB1dENvbmZpZy5zaGlwU3RhYmlsaXplcktleSA9ICdvJztcclxuaW5wdXRDb25maWcuc2hpcFBpdGNoVGhydXN0ZXJVcEtleSA9ICdVUCc7XHJcbmlucHV0Q29uZmlnLnNoaXBQaXRjaFRocnVzdGVyRG93bktleSA9ICdET1dOJztcclxuaW5wdXRDb25maWcuc2hpcFlhd1RocnVzdGVyTGVmdEtleSA9ICdMRUZUJztcclxuaW5wdXRDb25maWcuc2hpcFlhd1RocnVzdGVyUmlnaHRLZXkgPSAnUklHSFQnO1xyXG5pbnB1dENvbmZpZy5wYXVzZUtleXMgPSBbJ1NQQUNFJywgJ0VTQ0FQRSddO1xyXG5cclxuaW5wdXRDb25maWcuYWxsS2V5cyA9IFtcclxuICBpbnB1dENvbmZpZy5zaGlwU2hvb3RUb3JwZWRvS2V5LFxyXG4gIGlucHV0Q29uZmlnLnNoaXBGb3J3YXJkVGhydXN0ZXJLZXksXHJcbiAgaW5wdXRDb25maWcuc2hpcFN0YWJpbGl6ZXJLZXksXHJcbiAgaW5wdXRDb25maWcuc2hpcFBpdGNoVGhydXN0ZXJVcEtleSxcclxuICBpbnB1dENvbmZpZy5zaGlwUGl0Y2hUaHJ1c3RlckRvd25LZXksXHJcbiAgaW5wdXRDb25maWcuc2hpcFlhd1RocnVzdGVyTGVmdEtleSxcclxuICBpbnB1dENvbmZpZy5zaGlwWWF3VGhydXN0ZXJSaWdodEtleSxcclxuICAuLi5pbnB1dENvbmZpZy5wYXVzZUtleXMsXHJcbl07XHJcblxyXG5leHBvcnQge2lucHV0Q29uZmlnfTtcclxuIiwiLyoqXHJcbiAqIFRoaXMgbW9kdWxlIGhhbmRsZXMgY29uZmlndXJhdGlvbiBwYXJhbWV0ZXJzIHJlbGF0aW5nIHRvIHRoZSBwaHlzaWNzIGVuZ2luZS5cclxuICovXHJcblxyXG5jb25zdCBwaHlzaWNzQ29uZmlnID0ge307XHJcblxyXG5waHlzaWNzQ29uZmlnLnRpbWVTdGVwRHVyYXRpb24gPSB7XHJcbiAgc3RhcnQ6IDEwLFxyXG4gIG1pbjogMSxcclxuICBtYXg6IDEwMDBcclxufTtcclxuXHJcbnBoeXNpY3NDb25maWcubGluZWFyRHJhZ0NvZWZmaWNpZW50ID0ge1xyXG4gIHN0YXJ0OiAwLjAwMDAxLFxyXG4gIG1pbjogMC4wLFxyXG4gIG1heDogMC4wMDAxXHJcbn07XHJcbnBoeXNpY3NDb25maWcuYW5ndWxhckRyYWdDb2VmZmljaWVudCA9IHtcclxuICBzdGFydDogMC4wMDAwMDEsXHJcbiAgbWluOiAwLjAsXHJcbiAgbWF4OiAwLjAwMDA1XHJcbn07XHJcbnBoeXNpY3NDb25maWcuY29lZmZpY2llbnRPZlJlc3RpdHV0aW9uID0ge1xyXG4gIHN0YXJ0OiAwLjgsXHJcbiAgbWluOiAwLjAwMDEsXHJcbiAgbWF4OiAxLjBcclxufTtcclxucGh5c2ljc0NvbmZpZy5jb2VmZmljaWVudE9mRnJpY3Rpb24gPSB7XHJcbiAgc3RhcnQ6IDAuMDMsXHJcbiAgbWluOiAwLjAwMDEsXHJcbiAgbWF4OiAxLjBcclxufTtcclxucGh5c2ljc0NvbmZpZy5sb3dNb21lbnR1bVN1cHByZXNzaW9uVGhyZXNob2xkID0ge1xyXG4gIHN0YXJ0OiAwLjAwMDAwMDAwMixcclxuICBtaW46IDAuMCxcclxuICBtYXg6IDAuMDAwMDAwMDJcclxufTtcclxucGh5c2ljc0NvbmZpZy5sb3dBbmd1bGFyTW9tZW50dW1TdXBwcmVzc2lvblRocmVzaG9sZCA9IHtcclxuICBzdGFydDogMC4wMDAwMDAwMDEsXHJcbiAgbWluOiAwLjAsXHJcbiAgbWF4OiAwLjAwMDAwMDAxXHJcbn07XHJcblxyXG5leHBvcnQge3BoeXNpY3NDb25maWd9O1xyXG4iLCJpbXBvcnQge3BoeXNpY3NDb25maWd9IGZyb20gJy4vcGh5c2ljcy1jb25maWcnO1xyXG5cclxuLyoqXHJcbiAqIFRoaXMgbW9kdWxlIGNvbmZpZ3VyZXMgdGhlIHBoeXNpY3MgZGF0LkdVSSBtZW51IGZvbGRlci5cclxuICovXHJcblxyXG5jb25zdCBwaHlzaWNzRm9sZGVyQ29uZmlnID0ge1xyXG4gIGxhYmVsOiAnUGh5c2ljcyBFbmdpbmUnLFxyXG4gIGNvbmZpZzogcGh5c2ljc0NvbmZpZyxcclxuICBpc09wZW46IGZhbHNlLFxyXG4gIG9uQ2hhbmdlTGlzdGVuZXJzOiB7fVxyXG59O1xyXG5cclxuZXhwb3J0IHtwaHlzaWNzRm9sZGVyQ29uZmlnfTtcclxuIiwiaW1wb3J0IHtcclxuICBBYWJiLFxyXG4gIGFyZVZlYzNzRXF1YWwsXHJcbiAgdmVjM1RvU3RyaW5nLFxyXG59IGZyb20gJ2dhbWV4JztcclxuXHJcbi8qKlxyXG4gKiBUaGlzIGNsYXNzIGhlbHBzIHRvIHJlbmRlciBlbm91Z2ggb2YgdGhlIHdvcmxkIGFyb3VuZCB0aGUgY3VycmVudCBzY2VuZSBwb3NpdGlvbiwgYnV0IG5vdCB0b29cclxuICogbXVjaC4gSXQgZG9lcyB0aGlzIGJ5IHN1Yi1kaXZpZGluZyB0aGUgc2NlbmUgc3BhY2UgaW50byB0aHJlZS1kaW1lbnNpb25hbCBjZWxscyBjYWxsZWQgY2h1bmtzLlxyXG4gKiBXaGVuIHRoZSBzY2VuZSBjZW50ZXIgcG9zaXRpb24gbW92ZXMgaW50byBhIG5ldyBjaHVuaywgdGhlbiBzb21lIG9sZCBjaHVua3MgKHRoYXQgYXJlIGJlaW5nIG1vdmVkXHJcbiAqIGF3YXkgZnJvbSkgYXJlIGRlc3Ryb3llZCBhbmQgc29tZSBuZXcgY2h1bmtzICh0aGF0IGFyZSBiZWluZyBtb3ZlZCB0b3dvcmRzKSBhcmUgY3JlYXRlZC5cclxuICpcclxuICogTXVjaCBvZiB0aGUgZG9jdW1lbnRhdGlvbiBpbiB0aGlzIGNsYXNzIG1lbnRpb25zIFwiY2h1bmsgY29vcmRpbmF0ZXNcIi4gKDAsMCwwKSBpbiBjaHVua1xyXG4gKiBjb29yZGluYXRlcyBpcyB0aGUgc2FtZSBwb2ludCBhcyAoMCwwLDApIGluIHNjZW5lIGNvb3JkaW5hdGVzLiBIb3dldmVyLCBjaHVuayBjb29yZGluYXRlcyBhcmVcclxuICogZXNzZW50aWFsbHkgaW5kaWNlcyBpbnRvIHRoZSB0aHJlZS1kaW1lbnNpb25hbCBncmlkIG9mIGFsbCBwb3NzaWJsZSBjaHVuayBwb3NpdGlvbnMuIENodW5rXHJcbiAqIGNvb3JkaW5hdGVzIHNob3VsZCBhbHdheXMgYmUgaW50ZWdlcnNcclxuICovXHJcbmNsYXNzIENodW5rQ29udHJvbGxlciB7XHJcbiAgLyoqXHJcbiAgICogUmVnaXN0ZXJzIGNhbGxiYWNrcyBmb3IgY3JlYXRpbmcgYW5kIGRlc3Ryb3lpbmcgY2h1bmtzIGFzIHRoZSBzY2VuZSBwb3NpdGlvbiBjaGFuZ2VzLlxyXG4gICAqXHJcbiAgICogQSBuZXcgY29sbGVjdGlvbiBvZiBjaHVua3MgaXMgcmVuZGVyZWQgKGFuZCBkZXN0cm95ZWQpIGV2ZXJ5IHRpbWUgdGhlIHNjZW5lIG1vdmVzIGEgZGlzdGFuY2Ugb2ZcclxuICAgKiBjaHVua1NpZGVMZW5ndGggYWxvbmcgYW55IGF4aXMuIEEgY29sbGVjdGlvbiBpcyBhbGwgb2YgdGhlIGNodW5rcyBhbG9uZyBvbmUgZmFjZSBvZiB0aGUgb3ZlcmFsbFxyXG4gICAqIHNjZW5lIGJvdW5kaW5nIGJveC5cclxuICAgKlxyXG4gICAqIFRoZSBhZGQgb3IgZGVsZXRlIGhhbmRsZXJzIGFyZSBjYWxsZWQgb25jZSBmb3IgZXZlcnkgY2h1bmsgaW4gdGhlIGNvbGxlY3Rpb24gdGhhdCdzIGJlaW5nIGFkZGVkXHJcbiAgICogb3IgcmVtb3ZlZCwgcmVzcGVjdGl2ZWx5LlxyXG4gICAqXHJcbiAgICogVGhlIGhhbmRsZXJzIGFyZSBpbnZva2VkIHdpdGggdGhlIGZvbGxvd2luZyBhcmd1bWVudHM6XHJcbiAgICogLSBjaHVuazogVGhlIGNodW5rIGJlaW5nIGFkZGVkL3JlbW92ZWQuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge3ZlYzN9IHNjZW5lQ2VudGVyIFRoZSBjdXJyZW50IHNjZW5lIGNlbnRlci5cclxuICAgKiBAcGFyYW0ge251bWJlcn0gY2h1bmtTaWRlTGVuZ3RoIFRoZSBheGlhbGx5LWFsaWduZWQgbGVuZ3RoIG9mIG9uZSBjaHVuayAoY2h1bmtzIGFyZSBjdWJpYykuXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IGNodW5rQ291bnRPbkFTaWRlIFRoZSBudW1iZXIgb2YgY2h1bmtzIHRvIHJlbmRlciBhbG9uZyBhbiBheGlzLiBUaGF0IGlzLFxyXG4gICAqIGNodW5rQ291bnRPbkFTaWRlXjMgaXMgdGhlIHRvdGFsIG51bWJlciBvZiBjaHVua3MgdGhhdCB3aWxsIGJlIHJlbmRlcmVkIGF0IGEgdGltZS5cclxuICAgKiBAcGFyYW0ge0FycmF5LjxDaHVua0xpc3RlbmVyPn0gY2h1bmtMaXN0ZW5lcnMgQSBjb2xsZWN0aW9uIG9mIGVudGl0aWVzIHdoaWNoIHdpbGwgYmUgaW5mb3JtZWRcclxuICAgKiBvZiBhbGwgY2h1bmsgZXZlbnRzLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNjZW5lQ2VudGVyLCBjaHVua1NpZGVMZW5ndGgsIGNodW5rQ291bnRPbkFTaWRlLCBjaHVua0xpc3RlbmVycykge1xyXG4gICAgdGhpcy5fY2h1bmtTaWRlTGVuZ3RoID0gY2h1bmtTaWRlTGVuZ3RoO1xyXG4gICAgdGhpcy5fY2h1bmtIYWxmU2lkZUxlbmd0aCA9IGNodW5rU2lkZUxlbmd0aCAvIDI7XHJcbiAgICAvLyBFbnN1cmUgdGhpcyBpcyBhbiBldmVuIG51bWJlci5cclxuICAgIHRoaXMuX2NodW5rQ291bnRPbkFTaWRlID1cclxuICAgICAgICBjaHVua0NvdW50T25BU2lkZSAlIDIgPT09IDAgPyBjaHVua0NvdW50T25BU2lkZSA6IGNodW5rQ291bnRPbkFTaWRlICsgMTtcclxuICAgIHRoaXMuX2NodW5rTGlzdGVuZXJzID0gY2h1bmtMaXN0ZW5lcnM7XHJcbiAgICB0aGlzLl9wcmV2UmVuZGVyU2NlbmVDZW50ZXIgPSB2ZWMzLmNyZWF0ZSgpO1xyXG4gICAgdGhpcy5fc2V0Q2h1bmtDb29yZGluYXRlUG9zaXRpb25Gcm9tU2NlbmVQb3NpdGlvbihzY2VuZUNlbnRlcik7XHJcbiAgICB0aGlzLl9jaHVua3MgPSBuZXcgTWFwKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXRzIHRoZSBzY2VuZSBjZW50ZXIsIGRlc3Ryb3lzIGFsbCBvbGQgY2h1bmtzLCBhbmQgY3JlYXRlcyBhbGwgb2YgdGhlIG5ldyBjaHVua3MuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge3ZlYzN9IHNjZW5lQ2VudGVyXHJcbiAgICovXHJcbiAgcmVzZXQoc2NlbmVDZW50ZXIpIHtcclxuICAgIHRoaXMuX3NldENodW5rQ29vcmRpbmF0ZVBvc2l0aW9uRnJvbVNjZW5lUG9zaXRpb24oc2NlbmVDZW50ZXIpO1xyXG4gICAgdGhpcy5fZGVzdHJveUFsbENodW5rcygpO1xyXG4gICAgdGhpcy5fY3JlYXRlQWxsQ2h1bmtzKCk7XHJcbiAgICB0aGlzLl9jaHVua0xpc3RlbmVycy5mb3JFYWNoKGxpc3RlbmVyID0+IGxpc3RlbmVyLm9uQWxsQ2h1bmtzVXBkYXRlZCgpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEtlZXBzIHRyYWNrIG9mIHdoZW4gdGhlIHNjZW5lIGNlbnRlciBoYXMgbW92ZWQgdG8gYSBuZXcgY2h1bmsuIFdoZW4gaXQgaGFzLCB0aGVuIGRlc3Ryb3kgYW5kXHJcbiAgICogY3JlYXRlIG5ldyBjaHVua3MgYWNjb3JkaW5nIHRvIHRoZSBuZXcgc2NlbmUgcG9zaXRpb24uXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge3ZlYzN9IHNjZW5lQ2VudGVyIEluIHNjZW5lIGNvb3JkaW5hdGVzLlxyXG4gICAqL1xyXG4gIHVwZGF0ZShzY2VuZUNlbnRlcikge1xyXG4gICAgLy8gQ29udmVydCB0aGUgc2NlbmUgY2VudGVyIHRvIGNodW5rIGNvb3JkaW5hdGVzLlxyXG4gICAgY29uc3QgY2VudGVySW5DaHVua0Nvb3JkcyA9XHJcbiAgICAgICAgdGhpcy5fZ2V0Q2h1bmtDb29yZGluYXRlUG9zaXRpb25Gcm9tU2NlbmVQb3NpdGlvbihzY2VuZUNlbnRlcik7XHJcblxyXG4gICAgLy8gSGFzIHRoZSBzY2VuZSBjZW50ZXIgbW92ZWQgdG8gYSBuZXcgY2h1bms/XHJcbiAgICBpZiAoIWFyZVZlYzNzRXF1YWwodGhpcy5fcHJldlJlbmRlclNjZW5lQ2VudGVyLCBjZW50ZXJJbkNodW5rQ29vcmRzKSkge1xyXG4gICAgICB0aGlzLl9oYW5kbGVTY2VuZU1vdmVkVG9OZXdDaHVuayhzY2VuZUNlbnRlciwgY2VudGVySW5DaHVua0Nvb3Jkcyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBEZXN0cm95IGFuZCBjcmVhdGUgbmV3IGNodW5rcyBhY2NvcmRpbmcgdG8gdGhlIG5ldyBzY2VuZSBwb3NpdGlvbi5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7dmVjM30gY2VudGVySW5TY2VuZUNvb3Jkc1xyXG4gICAqIEBwYXJhbSB7dmVjM30gY2VudGVySW5DaHVua0Nvb3Jkc1xyXG4gICAqIEBwcml2YXRlXHJcbiAgICovXHJcbiAgX2hhbmRsZVNjZW5lTW92ZWRUb05ld0NodW5rKGNlbnRlckluU2NlbmVDb29yZHMsIGNlbnRlckluQ2h1bmtDb29yZHMpIHtcclxuICAgIC8vIEdldCB0aGUgZGlmZmVyZW5jZSBmcm9tIHRoZSBuZXcgY2VudGVyIHRvIHRoZSBvbGQgb25lLlxyXG4gICAgY29uc3QgZGlmZiA9IHZlYzMuY3JlYXRlKCk7XHJcbiAgICB2ZWMzLnN1YnRyYWN0KGRpZmYsIGNlbnRlckluQ2h1bmtDb29yZHMsIHRoaXMuX3ByZXZSZW5kZXJTY2VuZUNlbnRlcik7XHJcblxyXG4gICAgY29uc3QgaXNEaWZmR3JlYXRlclRoYW5Db3VudE9uQVNpZGUgPVxyXG4gICAgICAgIGRpZmZbMF0gPiB0aGlzLl9jaHVua0NvdW50T25BU2lkZSB8fFxyXG4gICAgICAgIGRpZmZbMV0gPiB0aGlzLl9jaHVua0NvdW50T25BU2lkZSB8fFxyXG4gICAgICAgIGRpZmZbMl0gPiB0aGlzLl9jaHVua0NvdW50T25BU2lkZTtcclxuXHJcbiAgICAvLyBXaXRoIHJlYWxseSBsYXJnZSBkaWZmZXJlbmNlcywgaXQncyBtb3JlIGVmZmljaWVudCB0byBqdXN0IHJlc2V0IGFsbCBjaHVua3MuXHJcbiAgICBpZiAoaXNEaWZmR3JlYXRlclRoYW5Db3VudE9uQVNpZGUpIHtcclxuICAgICAgdGhpcy5yZXNldChjZW50ZXJJblNjZW5lQ29vcmRzKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX3VwZGF0ZUNodW5rc0Zvck5ld0NlbnRlcihkaWZmKTtcclxuICAgIH1cclxuXHJcbiAgICB2ZWMzLmNvcHkodGhpcy5fcHJldlJlbmRlclNjZW5lQ2VudGVyLCBjZW50ZXJJbkNodW5rQ29vcmRzKTtcclxuXHJcbiAgICB0aGlzLl9jaHVua0xpc3RlbmVycy5mb3JFYWNoKGxpc3RlbmVyID0+IGxpc3RlbmVyLm9uQWxsQ2h1bmtzVXBkYXRlZCgpKTtcclxuXHJcbiAgICBjb25zdCBwb3NpdGlvblN0cmluZyA9IHZlYzNUb1N0cmluZyhjZW50ZXJJbkNodW5rQ29vcmRzKTtcclxuICAgIGNvbnNvbGUuZGVidWcoYEVudGVyZWQgbmV3IGNodW5rOiAke3Bvc2l0aW9uU3RyaW5nfWApO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ3JlYXRlcyBhbmQgZGVzdHJveXMgY2h1bmtzIHRvIHVwZGF0ZSB0byB0aGUgbmV3IGNlbnRlciBwb3NpdGlvbi5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7dmVjM30gY2VudGVyRGlmZiBUaGUgZGlmZmVyZW5jZSBmcm9tIHRoZSBvbGQgY2VudGVyIHRvIHRoZSBuZXcgb25lLCBpbiBjaHVua1xyXG4gICAqIGNvb3JkaW5hdGVzLlxyXG4gICAqIEBwcml2YXRlXHJcbiAgICovXHJcbiAgX3VwZGF0ZUNodW5rc0Zvck5ld0NlbnRlcihjZW50ZXJEaWZmKSB7XHJcbiAgICBsZXQgeERpZmYgPSBjZW50ZXJEaWZmWzBdO1xyXG4gICAgbGV0IHlEaWZmID0gY2VudGVyRGlmZlsxXTtcclxuICAgIGxldCB6RGlmZiA9IGNlbnRlckRpZmZbMl07XHJcblxyXG4gICAgY29uc3QgY2h1bmtIYWxmQ291bnRPbkFTaWRlID0gdGhpcy5fY2h1bmtDb3VudE9uQVNpZGUgLyAyO1xyXG5cclxuICAgIGxldCBsb3dlc3RYQ29vcmRpbmF0ZVRvRGVsZXRlID0gdGhpcy5fcHJldlJlbmRlclNjZW5lQ2VudGVyWzBdIC0gY2h1bmtIYWxmQ291bnRPbkFTaWRlO1xyXG4gICAgbGV0IGxvd2VzdFlDb29yZGluYXRlVG9EZWxldGUgPSB0aGlzLl9wcmV2UmVuZGVyU2NlbmVDZW50ZXJbMV0gLSBjaHVua0hhbGZDb3VudE9uQVNpZGU7XHJcbiAgICBsZXQgbG93ZXN0WkNvb3JkaW5hdGVUb0RlbGV0ZSA9IHRoaXMuX3ByZXZSZW5kZXJTY2VuZUNlbnRlclsyXSAtIGNodW5rSGFsZkNvdW50T25BU2lkZTtcclxuXHJcbiAgICBsZXQgbG93ZXN0WENvb3JkaW5hdGVUb0FkZCA9IHRoaXMuX3ByZXZSZW5kZXJTY2VuZUNlbnRlclswXSArIGNodW5rSGFsZkNvdW50T25BU2lkZTtcclxuICAgIGxldCBsb3dlc3RZQ29vcmRpbmF0ZVRvQWRkID0gdGhpcy5fcHJldlJlbmRlclNjZW5lQ2VudGVyWzFdICsgY2h1bmtIYWxmQ291bnRPbkFTaWRlO1xyXG4gICAgbGV0IGxvd2VzdFpDb29yZGluYXRlVG9BZGQgPSB0aGlzLl9wcmV2UmVuZGVyU2NlbmVDZW50ZXJbMl0gKyBjaHVua0hhbGZDb3VudE9uQVNpZGU7XHJcblxyXG4gICAgaWYgKHhEaWZmIDwgMCkge1xyXG4gICAgICBsb3dlc3RYQ29vcmRpbmF0ZVRvRGVsZXRlICs9IHRoaXMuX2NodW5rQ291bnRPbkFTaWRlICsgeERpZmY7XHJcbiAgICAgIGxvd2VzdFhDb29yZGluYXRlVG9BZGQgLT0gdGhpcy5fY2h1bmtDb3VudE9uQVNpZGUgLSB4RGlmZjtcclxuICAgICAgeERpZmYgPSAteERpZmY7XHJcbiAgICB9XHJcbiAgICBpZiAoeURpZmYgPCAwKSB7XHJcbiAgICAgIGxvd2VzdFlDb29yZGluYXRlVG9EZWxldGUgKz0gdGhpcy5fY2h1bmtDb3VudE9uQVNpZGUgKyB5RGlmZjtcclxuICAgICAgbG93ZXN0WUNvb3JkaW5hdGVUb0FkZCAtPSB0aGlzLl9jaHVua0NvdW50T25BU2lkZSAtIHlEaWZmO1xyXG4gICAgICB5RGlmZiA9IC15RGlmZjtcclxuICAgIH1cclxuICAgIGlmICh6RGlmZiA8IDApIHtcclxuICAgICAgbG93ZXN0WkNvb3JkaW5hdGVUb0RlbGV0ZSArPSB0aGlzLl9jaHVua0NvdW50T25BU2lkZSArIHpEaWZmO1xyXG4gICAgICBsb3dlc3RaQ29vcmRpbmF0ZVRvQWRkIC09IHRoaXMuX2NodW5rQ291bnRPbkFTaWRlIC0gekRpZmY7XHJcbiAgICAgIHpEaWZmID0gLXpEaWZmO1xyXG4gICAgfVxyXG5cclxuICAgIC8vXHJcbiAgICAvLyBSZW1vdmUgb2xkIGNodW5rcy5cclxuICAgIC8vXHJcblxyXG4gICAgLy8gUmVtb3ZlIG9sZCBjaHVua3MgZnJvbSB0aGUgZGVsdGEteCBmYWNlIChhbmQgZnJvbSB0aGUgeC15IGFuZCB4LXogY29ybmVycykuXHJcbiAgICBmb3IgKGxldCB4ID0gMDsgeCA8IHhEaWZmOyB4KyspIHtcclxuICAgICAgZm9yIChsZXQgeSA9IDA7IHkgPCB0aGlzLl9jaHVua0NvdW50T25BU2lkZTsgeSsrKSB7XHJcbiAgICAgICAgZm9yIChsZXQgeiA9IDA7IHogPCB0aGlzLl9jaHVua0NvdW50T25BU2lkZTsgeisrKSB7XHJcbiAgICAgICAgICBjb25zdCBjaHVuayA9IHRoaXMuX2dldENodW5rRnJvbVBvc2l0aW9uKFxyXG4gICAgICAgICAgICAgIHggKyBsb3dlc3RYQ29vcmRpbmF0ZVRvRGVsZXRlLFxyXG4gICAgICAgICAgICAgIHkgKyBsb3dlc3RZQ29vcmRpbmF0ZVRvRGVsZXRlLFxyXG4gICAgICAgICAgICAgIHogKyBsb3dlc3RaQ29vcmRpbmF0ZVRvRGVsZXRlKTtcclxuICAgICAgICAgIGlmIChjaHVuaykge1xyXG4gICAgICAgICAgICB0aGlzLl9kZXN0cm95Q2h1bmsoY2h1bmspO1xyXG4gICAgICAgICAgICB0aGlzLl9jaHVua3MuZGVsZXRlKGNodW5rLmlkKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBSZW1vdmUgb2xkIGNodW5rcyBmcm9tIHRoZSBkZWx0YS15IGZhY2UgKGFuZCBmcm9tIHRoZSB5LXogY29ybmVyLCBidXQgbm90IGZyb20gdGhlIHgteVxyXG4gICAgLy8gY29ybmVyKS5cclxuICAgIGZvciAobGV0IHggPSB4RGlmZjsgeCA8IHRoaXMuX2NodW5rQ291bnRPbkFTaWRlOyB4KyspIHtcclxuICAgICAgZm9yIChsZXQgeSA9IDA7IHkgPCB5RGlmZjsgeSsrKSB7XHJcbiAgICAgICAgZm9yIChsZXQgeiA9IDA7IHogPCB0aGlzLl9jaHVua0NvdW50T25BU2lkZTsgeisrKSB7XHJcbiAgICAgICAgICBjb25zdCBjaHVuayA9IHRoaXMuX2dldENodW5rRnJvbVBvc2l0aW9uKFxyXG4gICAgICAgICAgICAgIHggKyBsb3dlc3RYQ29vcmRpbmF0ZVRvRGVsZXRlLFxyXG4gICAgICAgICAgICAgIHkgKyBsb3dlc3RZQ29vcmRpbmF0ZVRvRGVsZXRlLFxyXG4gICAgICAgICAgICAgIHogKyBsb3dlc3RaQ29vcmRpbmF0ZVRvRGVsZXRlKTtcclxuICAgICAgICAgIGlmIChjaHVuaykge1xyXG4gICAgICAgICAgICB0aGlzLl9kZXN0cm95Q2h1bmsoY2h1bmspO1xyXG4gICAgICAgICAgICB0aGlzLl9jaHVua3MuZGVsZXRlKGNodW5rLmlkKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBSZW1vdmUgb2xkIGNodW5rcyBmcm9tIHRoZSBkZWx0YS16IGZhY2UgKGJ1dCBub3QgZnJvbSB0aGUgeC16IG9yIHkteiBjb3JuZXJzKS5cclxuICAgIGZvciAobGV0IHggPSB4RGlmZjsgeCA8IHRoaXMuX2NodW5rQ291bnRPbkFTaWRlOyB4KyspIHtcclxuICAgICAgZm9yIChsZXQgeSA9IHlEaWZmOyB5IDwgdGhpcy5fY2h1bmtDb3VudE9uQVNpZGU7IHkrKykge1xyXG4gICAgICAgIGZvciAobGV0IHogPSAwOyB6IDwgekRpZmY7IHorKykge1xyXG4gICAgICAgICAgY29uc3QgY2h1bmsgPSB0aGlzLl9nZXRDaHVua0Zyb21Qb3NpdGlvbihcclxuICAgICAgICAgICAgICB4ICsgbG93ZXN0WENvb3JkaW5hdGVUb0RlbGV0ZSxcclxuICAgICAgICAgICAgICB5ICsgbG93ZXN0WUNvb3JkaW5hdGVUb0RlbGV0ZSxcclxuICAgICAgICAgICAgICB6ICsgbG93ZXN0WkNvb3JkaW5hdGVUb0RlbGV0ZSk7XHJcbiAgICAgICAgICBpZiAoY2h1bmspIHtcclxuICAgICAgICAgICAgdGhpcy5fZGVzdHJveUNodW5rKGNodW5rKTtcclxuICAgICAgICAgICAgdGhpcy5fY2h1bmtzLmRlbGV0ZShjaHVuay5pZCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy9cclxuICAgIC8vIEFkZCBuZXcgY2h1bmtzLlxyXG4gICAgLy9cclxuXHJcbiAgICBjb25zdCBjaHVua1Bvc2l0aW9uID0gdmVjMy5jcmVhdGUoKTtcclxuXHJcbiAgICAvLyBBZGQgbmV3IGNodW5rcyB0byB0aGUgZGVsdGEteCBmYWNlIChhbmQgdG8gdGhlIHgteSBhbmQgeC16IGNvcm5lcnMpLlxyXG4gICAgZm9yIChsZXQgeCA9IDA7IHggPCB4RGlmZjsgeCsrKSB7XHJcbiAgICAgIGZvciAobGV0IHkgPSAwOyB5IDwgdGhpcy5fY2h1bmtDb3VudE9uQVNpZGU7IHkrKykge1xyXG4gICAgICAgIGZvciAobGV0IHogPSAwOyB6IDwgdGhpcy5fY2h1bmtDb3VudE9uQVNpZGU7IHorKykge1xyXG4gICAgICAgICAgdmVjMy5zZXQoY2h1bmtQb3NpdGlvbixcclxuICAgICAgICAgICAgICB4ICsgbG93ZXN0WENvb3JkaW5hdGVUb0FkZCxcclxuICAgICAgICAgICAgICB5ICsgbG93ZXN0WUNvb3JkaW5hdGVUb0RlbGV0ZSxcclxuICAgICAgICAgICAgICB6ICsgbG93ZXN0WkNvb3JkaW5hdGVUb0RlbGV0ZSk7XHJcbiAgICAgICAgICBjb25zdCBjaHVuayA9IHRoaXMuX2NyZWF0ZUNodW5rKGNodW5rUG9zaXRpb24pO1xyXG4gICAgICAgICAgdGhpcy5fY2h1bmtzLnNldChjaHVuay5pZCwgY2h1bmspO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIEFkZCBuZXcgY2h1bmtzIHRvIHRoZSBkZWx0YS15IGZhY2UgKGFuZCB0byB0aGUgeS16IGNvcm5lciwgYnV0IG5vdCB0byB0aGUgeC15IGNvcm5lcikuXHJcbiAgICBmb3IgKGxldCB4ID0geERpZmY7IHggPCB0aGlzLl9jaHVua0NvdW50T25BU2lkZTsgeCsrKSB7XHJcbiAgICAgIGZvciAobGV0IHkgPSAwOyB5IDwgeURpZmY7IHkrKykge1xyXG4gICAgICAgIGZvciAobGV0IHogPSAwOyB6IDwgdGhpcy5fY2h1bmtDb3VudE9uQVNpZGU7IHorKykge1xyXG4gICAgICAgICAgdmVjMy5zZXQoY2h1bmtQb3NpdGlvbixcclxuICAgICAgICAgICAgICB4ICsgbG93ZXN0WENvb3JkaW5hdGVUb0RlbGV0ZSxcclxuICAgICAgICAgICAgICB5ICsgbG93ZXN0WUNvb3JkaW5hdGVUb0FkZCxcclxuICAgICAgICAgICAgICB6ICsgbG93ZXN0WkNvb3JkaW5hdGVUb0RlbGV0ZSk7XHJcbiAgICAgICAgICBjb25zdCBjaHVuayA9IHRoaXMuX2NyZWF0ZUNodW5rKGNodW5rUG9zaXRpb24pO1xyXG4gICAgICAgICAgdGhpcy5fY2h1bmtzLnNldChjaHVuay5pZCwgY2h1bmspO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIEFkZCBuZXcgY2h1bmtzIHRvIHRoZSBkZWx0YS16IGZhY2UgKGJ1dCBub3QgdG8gdGhlIHgteiBvciB5LXogY29ybmVycykuXHJcbiAgICBmb3IgKGxldCB4ID0geERpZmY7IHggPCB0aGlzLl9jaHVua0NvdW50T25BU2lkZTsgeCsrKSB7XHJcbiAgICAgIGZvciAobGV0IHkgPSB5RGlmZjsgeSA8IHRoaXMuX2NodW5rQ291bnRPbkFTaWRlOyB5KyspIHtcclxuICAgICAgICBmb3IgKGxldCB6ID0gMDsgeiA8IHpEaWZmOyB6KyspIHtcclxuICAgICAgICAgIHZlYzMuc2V0KGNodW5rUG9zaXRpb24sXHJcbiAgICAgICAgICAgICAgeCArIGxvd2VzdFhDb29yZGluYXRlVG9EZWxldGUsXHJcbiAgICAgICAgICAgICAgeSArIGxvd2VzdFlDb29yZGluYXRlVG9EZWxldGUsXHJcbiAgICAgICAgICAgICAgeiArIGxvd2VzdFpDb29yZGluYXRlVG9BZGQpO1xyXG4gICAgICAgICAgY29uc3QgY2h1bmsgPSB0aGlzLl9jcmVhdGVDaHVuayhjaHVua1Bvc2l0aW9uKTtcclxuICAgICAgICAgIHRoaXMuX2NodW5rcy5zZXQoY2h1bmsuaWQsIGNodW5rKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwcml2YXRlXHJcbiAgICovXHJcbiAgX2Rlc3Ryb3lBbGxDaHVua3MoKSB7XHJcbiAgICB0aGlzLl9jaHVua3MuZm9yRWFjaChjaHVuayA9PiB0aGlzLl9kZXN0cm95Q2h1bmsoY2h1bmspKTtcclxuICAgIHRoaXMuX2NodW5rcy5jbGVhcigpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ3JlYXRlcyBhbGwgY2h1bmtzIHRvIGZpbGwgdGhlIGluaXRpYWwgc3BhbiBvZiB0aGUgZ2xvYmFsIGJvdW5kaW5nIGJveCwgd2hpY2ggaXMgY2FsY3VsYXRlZFxyXG4gICAqIGZyb20gY2h1bmtDb3VudE9uQVNpZGUuXHJcbiAgICpcclxuICAgKiBBc3N1bWVzIHRoaXMuX2NodW5rQ291bnRPbkFTaWRlIGlzIGFuIGV2ZW4gbnVtYmVyLlxyXG4gICAqXHJcbiAgICogQHByaXZhdGVcclxuICAgKi9cclxuICBfY3JlYXRlQWxsQ2h1bmtzKCkge1xyXG4gICAgY29uc3QgY2h1bmtQb3NpdGlvbiA9IHZlYzMuY3JlYXRlKCk7XHJcblxyXG4gICAgY29uc3QgbG93ZXN0Q2h1Y2tPZmZzZXRGcm9tQ2VudGVyID0gLXRoaXMuX2NodW5rQ291bnRPbkFTaWRlIC8gMjtcclxuICAgIGNvbnN0IGxvd2VzdENodW5rWENvb3JkaW5hdGUgPSB0aGlzLl9wcmV2UmVuZGVyU2NlbmVDZW50ZXJbMF0gKyBsb3dlc3RDaHVja09mZnNldEZyb21DZW50ZXI7XHJcbiAgICBjb25zdCBsb3dlc3RDaHVua1lDb29yZGluYXRlID0gdGhpcy5fcHJldlJlbmRlclNjZW5lQ2VudGVyWzFdICsgbG93ZXN0Q2h1Y2tPZmZzZXRGcm9tQ2VudGVyO1xyXG4gICAgY29uc3QgbG93ZXN0Q2h1bmtaQ29vcmRpbmF0ZSA9IHRoaXMuX3ByZXZSZW5kZXJTY2VuZUNlbnRlclsyXSArIGxvd2VzdENodWNrT2Zmc2V0RnJvbUNlbnRlcjtcclxuXHJcbiAgICBmb3IgKGxldCB4ID0gMDsgeCA8IHRoaXMuX2NodW5rQ291bnRPbkFTaWRlOyB4KyspIHtcclxuICAgICAgZm9yIChsZXQgeSA9IDA7IHkgPCB0aGlzLl9jaHVua0NvdW50T25BU2lkZTsgeSsrKSB7XHJcbiAgICAgICAgZm9yIChsZXQgeiA9IDA7IHogPCB0aGlzLl9jaHVua0NvdW50T25BU2lkZTsgeisrKSB7XHJcbiAgICAgICAgICB2ZWMzLnNldChjaHVua1Bvc2l0aW9uLFxyXG4gICAgICAgICAgICAgIGxvd2VzdENodW5rWENvb3JkaW5hdGUgKyB4LFxyXG4gICAgICAgICAgICAgIGxvd2VzdENodW5rWUNvb3JkaW5hdGUgKyB5LFxyXG4gICAgICAgICAgICAgIGxvd2VzdENodW5rWkNvb3JkaW5hdGUgKyB6KTtcclxuICAgICAgICAgIGNvbnN0IGNodW5rID0gdGhpcy5fY3JlYXRlQ2h1bmsoY2h1bmtQb3NpdGlvbik7XHJcbiAgICAgICAgICB0aGlzLl9jaHVua3Muc2V0KGNodW5rLmlkLCBjaHVuayk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0ge3ZlYzN9IGNodW5rUG9zaXRpb24gVGhlIGxvd2VzdCBjb3JuZXIgb2YgdGhlIGNodW5rLCBpbiBjaHVuayBjb29yZGluYXRlcy5cclxuICAgKiBAcmV0dXJucyB7Q2h1bmt9XHJcbiAgICogQHByaXZhdGVcclxuICAgKi9cclxuICBfY3JlYXRlQ2h1bmsoY2h1bmtQb3NpdGlvbikge1xyXG4gICAgY29uc3QgY2VudGVySW5TY2VuZUNvb3JkcyA9XHJcbiAgICAgICAgdGhpcy5fZ2V0U2NlbmVDb29yZGluYXRlQ2h1bmtDZW50ZXJQb3NpdGlvbkZyb21DaHVua1Bvc2l0aW9uKGNodW5rUG9zaXRpb24pO1xyXG4gICAgY29uc3QgY2h1bmsgPSB7XHJcbiAgICAgIGlkOiBDaHVua0NvbnRyb2xsZXIuX2dldElkRnJvbUNodW5rUG9zaXRpb24oXHJcbiAgICAgICAgICBjaHVua1Bvc2l0aW9uWzBdLCBjaHVua1Bvc2l0aW9uWzFdLCBjaHVua1Bvc2l0aW9uWzJdKSxcclxuICAgICAgYm91bmRzOlxyXG4gICAgICAgICAgQWFiYi5jcmVhdGVBc1VuaWZvcm1Bcm91bmRDZW50ZXIoY2VudGVySW5TY2VuZUNvb3JkcywgdGhpcy5fY2h1bmtIYWxmU2lkZUxlbmd0aClcclxuICAgIH07XHJcbiAgICB0aGlzLl9jaHVua0xpc3RlbmVycy5mb3JFYWNoKGxpc3RlbmVyID0+IGxpc3RlbmVyLm9uQ2h1bmtDcmVhdGVkKGNodW5rKSk7XHJcbiAgICByZXR1cm4gY2h1bms7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0ge0NodW5rfSBjaHVua1xyXG4gICAqIEBwcml2YXRlXHJcbiAgICovXHJcbiAgX2Rlc3Ryb3lDaHVuayhjaHVuaykge1xyXG4gICAgdGhpcy5fY2h1bmtMaXN0ZW5lcnMuZm9yRWFjaChsaXN0ZW5lciA9PiBsaXN0ZW5lci5vbkNodW5rRGVzdHJveWVkKGNodW5rKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBUcmFuc2xhdGVzIHRoZSBnaXZlbiB0aGUgbG93ZXN0LWNvcm5lciBwb3NpdGlvbiBvZiBhIGNodW5rIGluIGNodW5rIGNvb3JkaW5hdGVzIHRvIHRoZVxyXG4gICAqIGNlbnRlciBwb3NpdGlvbiBvZiB0aGUgY2h1bmsgaW4gc2NlbmUgY29vcmRpbmF0ZXMuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge3ZlYzN9IGNodW5rUG9zaXRpb25cclxuICAgKiBAcmV0dXJucyB7dmVjM31cclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIF9nZXRTY2VuZUNvb3JkaW5hdGVDaHVua0NlbnRlclBvc2l0aW9uRnJvbUNodW5rUG9zaXRpb24oY2h1bmtQb3NpdGlvbikge1xyXG4gICAgcmV0dXJuIHZlYzMuZnJvbVZhbHVlcyhcclxuICAgICAgICBNYXRoLmZsb29yKGNodW5rUG9zaXRpb25bMF0gKiB0aGlzLl9jaHVua1NpZGVMZW5ndGggKyB0aGlzLl9jaHVua0hhbGZTaWRlTGVuZ3RoKSxcclxuICAgICAgICBNYXRoLmZsb29yKGNodW5rUG9zaXRpb25bMV0gKiB0aGlzLl9jaHVua1NpZGVMZW5ndGggKyB0aGlzLl9jaHVua0hhbGZTaWRlTGVuZ3RoKSxcclxuICAgICAgICBNYXRoLmZsb29yKGNodW5rUG9zaXRpb25bMl0gKiB0aGlzLl9jaHVua1NpZGVMZW5ndGggKyB0aGlzLl9jaHVua0hhbGZTaWRlTGVuZ3RoKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBUcmFuc2xhdGVzIHRoZSBnaXZlbiBwb3NpdGlvbiBmcm9tIHNjZW5lIGNvb3JkaW5hdGVzIHRvIGNodW5rIGNvb3JkaW5hdGVzLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHt2ZWMzfSBzY2VuZUNlbnRlclxyXG4gICAqIEByZXR1cm5zIHt2ZWMzfVxyXG4gICAqIEBwcml2YXRlXHJcbiAgICovXHJcbiAgX2dldENodW5rQ29vcmRpbmF0ZVBvc2l0aW9uRnJvbVNjZW5lUG9zaXRpb24oc2NlbmVDZW50ZXIpIHtcclxuICAgIHJldHVybiB2ZWMzLmZyb21WYWx1ZXMoXHJcbiAgICAgICAgTWF0aC5mbG9vcihzY2VuZUNlbnRlclswXSAvIHRoaXMuX2NodW5rU2lkZUxlbmd0aCksXHJcbiAgICAgICAgTWF0aC5mbG9vcihzY2VuZUNlbnRlclsxXSAvIHRoaXMuX2NodW5rU2lkZUxlbmd0aCksXHJcbiAgICAgICAgTWF0aC5mbG9vcihzY2VuZUNlbnRlclsyXSAvIHRoaXMuX2NodW5rU2lkZUxlbmd0aCkpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVHJhbnNsYXRlcyB0aGUgZ2l2ZW4gc2NlbmUtY2VudGVyIHBvc2l0aW9uIGZyb20gc2NlbmUgY29vcmRpbmF0ZXMgdG8gY2h1bmsgY29vcmRpbmF0ZXMsIHRoZW5cclxuICAgKiBzYXZlcyB0aGUgY2h1bmsgY2VudGVyLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHt2ZWMzfSBzY2VuZUNlbnRlclxyXG4gICAqIEBwcml2YXRlXHJcbiAgICovXHJcbiAgX3NldENodW5rQ29vcmRpbmF0ZVBvc2l0aW9uRnJvbVNjZW5lUG9zaXRpb24oc2NlbmVDZW50ZXIpIHtcclxuICAgIHZlYzMuY29weSh0aGlzLl9wcmV2UmVuZGVyU2NlbmVDZW50ZXIsXHJcbiAgICAgICAgdGhpcy5fZ2V0Q2h1bmtDb29yZGluYXRlUG9zaXRpb25Gcm9tU2NlbmVQb3NpdGlvbihzY2VuZUNlbnRlcikpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHhcclxuICAgKiBAcGFyYW0ge251bWJlcn0geVxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB6XHJcbiAgICogQHJldHVybnMgez9DaHVua31cclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIF9nZXRDaHVua0Zyb21Qb3NpdGlvbih4LCB5LCB6KSB7XHJcbiAgICByZXR1cm4gdGhpcy5fY2h1bmtzLmdldChDaHVua0NvbnRyb2xsZXIuX2dldElkRnJvbUNodW5rUG9zaXRpb24oeCwgeSwgeikpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVHdvIGNodW5rIHBvc2l0aW9ucyB3aXRoIHRoZSBzYW1lIGNvb3JkaW5hdGVzIHdpbGwgYWx3YXlzIGhhdmUgdGhlIHNhbWUgSUQuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge251bWJlcn0geFxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB5XHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHpcclxuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gICAqIEBwcml2YXRlXHJcbiAgICovXHJcbiAgc3RhdGljIF9nZXRJZEZyb21DaHVua1Bvc2l0aW9uKHgsIHksIHopIHtcclxuICAgIHJldHVybiBgJHt4fSwke3l9LCR7en1gO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IHtDaHVua0NvbnRyb2xsZXJ9O1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlZGVmIHtPYmplY3R9IENodW5rXHJcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBpZFxyXG4gKiBAcHJvcGVydHkge0FhYmJ9IGJvdW5kc1xyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBDaHVua0xpc3RlbmVyXHJcbiAqIEBwcm9wZXJ0eSB7RnVuY3Rpb259IG9uQ2h1bmtDcmVhdGVkIEFuIGV2ZW50IGhhbmRsZXIgdGhhdCBpcyBjYWxsZWQgdXBvbiB0aGUgY3JlYXRpb24gb2YgZWFjaFxyXG4gKiBpbmRpdmlkdWFsIG5ldyBjaHVuay5cclxuICogQHByb3BlcnR5IHtGdW5jdGlvbn0gb25DaHVua0Rlc3Ryb3llZCBBbiBldmVudCBoYW5kbGVyIHRoYXQgaXMgY2FsbGVkIHVwb24gdGhlIGRlc3RydWN0aW9uIG9mXHJcbiAqIGVhY2ggaW5kaXZpZHVhbC5cclxuICogQHByb3BlcnR5IHtGdW5jdGlvbn0gb25BbGxDaHVua3NVcGRhdGVkIEFuIGV2ZW50IGhhbmRsZXIgdGhhdCBpcyBjYWxsZWQgYWZ0ZXIgYWxsIGNodW5rcyBoYXZlIGJlZW5cclxuICogY3JlYXRlZCBhbmQgZGVzdHJveWVkIGZvciBhIGdpdmVuIGNodW5rIHBvc2l0aW9uaW5nIHVwZGF0ZS5cclxuICovXHJcbiIsImltcG9ydCB7IGNyZWF0ZUhzbENvbG9yU3RyaW5nIH0gZnJvbSAnZ2FtZXgnO1xyXG5cclxuY29uc3QgSU5JVElBTF9IRUFMVEhfQ09VTlQgPSAzO1xyXG5jb25zdCBIVUVfRU1QVFkgPSAwLjA7XHJcbmNvbnN0IEhVRV9GVUxMID0gMC4zMztcclxuY29uc3QgU0FUVVJBVElPTiA9IDAuOTQ7XHJcbmNvbnN0IExJR0hUTkVTUyA9IDAuNTA7XHJcbmNvbnN0IEFMUEhBID0gMC44O1xyXG5cclxuY2xhc3MgSGVhbHRoQ29udHJvbGxlciB7XHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gaGVhbHRoTWV0ZXJcclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkhlYWx0aERlcGxldGVkXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IoaGVhbHRoTWV0ZXIsIG9uSGVhbHRoRGVwbGV0ZWQpIHtcclxuICAgIHRoaXMuX2hlYWx0aE1ldGVyID0gaGVhbHRoTWV0ZXI7XHJcbiAgICB0aGlzLl9vbkhlYWx0aERlcGxldGVkID0gb25IZWFsdGhEZXBsZXRlZDtcclxuICAgIHRoaXMuX2NhcGFjaXR5V2lkdGggPSB0aGlzLl9oZWFsdGhNZXRlci5vZmZzZXRXaWR0aDtcclxuICAgIHRoaXMuX2hlYWx0aENvdW50ID0gSU5JVElBTF9IRUFMVEhfQ09VTlQ7XHJcbiAgICB0aGlzLl91cGRhdGVIZWFsdGhNZXRlcigxKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFRoZSByYXRpbyBvZiB0aGUgY3VycmVudCBoZWFsdGggdG8gdGhlIG9yaWdpbmFsIGhlYWx0aCBjYXBhY2l0eS5cclxuICAgKi9cclxuICBkZWNyZW1lbnQoKSB7XHJcbiAgICB0aGlzLl9oZWFsdGhDb3VudC0tO1xyXG4gICAgY29uc3QgcmF0aW8gPSB0aGlzLl9oZWFsdGhDb3VudCAqIDEuMCAvIElOSVRJQUxfSEVBTFRIX0NPVU5UO1xyXG4gICAgdGhpcy5fdXBkYXRlSGVhbHRoTWV0ZXIocmF0aW8pO1xyXG5cclxuICAgIGlmICh0aGlzLl9oZWFsdGhDb3VudCA8PSAwKSB7XHJcbiAgICAgIHRoaXMuX29uSGVhbHRoRGVwbGV0ZWQoKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcmF0aW87XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0ge251bWJlcn0gcmF0aW8gRnJvbSAwIHRvIDEuXHJcbiAgICovXHJcbiAgX3VwZGF0ZUhlYWx0aE1ldGVyKHJhdGlvKSB7XHJcbiAgICB0aGlzLl9oZWFsdGhNZXRlci5zdHlsZS53aWR0aCA9IGAke3JhdGlvICogdGhpcy5fY2FwYWNpdHlXaWR0aH1weGA7XHJcbiAgICB0aGlzLl9oZWFsdGhNZXRlci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBjcmVhdGVIc2xDb2xvclN0cmluZyh7XHJcbiAgICAgIGg6IEhVRV9FTVBUWSArIChIVUVfRlVMTCAtIEhVRV9FTVBUWSkgKiByYXRpbyxcclxuICAgICAgczogU0FUVVJBVElPTixcclxuICAgICAgbDogTElHSFRORVNTLFxyXG4gICAgICBhOiBBTFBIQSxcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IHsgSGVhbHRoQ29udHJvbGxlciB9O1xyXG4iLCJjb25zdCBQT0lOVFNfRk9SX0FTVEVST0lEID0gMTAwO1xyXG5cclxuY2xhc3MgU2NvcmVDb250cm9sbGVyIHtcclxuICAvKipcclxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBzY29yZVBhbmVsXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc2NvcmVQYW5lbCkge1xyXG4gICAgdGhpcy5fc2NvcmVQYW5lbCA9IHNjb3JlUGFuZWw7XHJcbiAgICB0aGlzLl9zY29yZSA9IDA7XHJcbiAgICB0aGlzLl91cGRhdGVTY29yZVBhbmVsKCk7XHJcbiAgICB0aGlzLl9iZXN0U2NvcmUgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2Jlc3Qtc2NvcmUnKSB8fCAwO1xyXG4gIH1cclxuXHJcbiAgb25Bc3Rlcm9pZFNob3QoKSB7XHJcbiAgICB0aGlzLl9zY29yZSArPSBQT0lOVFNfRk9SX0FTVEVST0lEO1xyXG4gICAgdGhpcy5fdXBkYXRlU2NvcmVQYW5lbCgpO1xyXG4gIH1cclxuXHJcbiAgX3VwZGF0ZVNjb3JlUGFuZWwoKSB7XHJcbiAgICB0aGlzLl9zY29yZVBhbmVsLnRleHRDb250ZW50ID0gdGhpcy5fc2NvcmU7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAcmV0dXJucyB7bnVtYmVyfVxyXG4gICAqL1xyXG4gIGdldCBzY29yZSgpIHtcclxuICAgIHJldHVybiB0aGlzLl9zY29yZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9XHJcbiAgICovXHJcbiAgZ2V0IGJlc3RTY29yZSgpIHtcclxuICAgIHJldHVybiB0aGlzLl9iZXN0U2NvcmU7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBVcGRhdGVzIHRoZSBiZXN0IHNjb3JlIHdpdGggdGhlIGN1cnJlbnQgc2NvcmUsIGlmIHRoZSBjdXJyZW50IHNjb3JlIGlzIGhpZ2hlci5cclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBjdXJyZW50IHNjb3JlIHdhcyBoaWdoZXIuXHJcbiAgICovXHJcbiAgdXBkYXRlQmVzdFNjb3JlKCkge1xyXG4gICAgaWYgKHRoaXMuX3Njb3JlID4gdGhpcy5fYmVzdFNjb3JlKSB7XHJcbiAgICAgIHRoaXMuX2Jlc3RTY29yZSA9IHRoaXMuX3Njb3JlO1xyXG4gICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2Jlc3Qtc2NvcmUnLCB0aGlzLl9zY29yZSk7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IHsgU2NvcmVDb250cm9sbGVyIH07XHJcbiIsImltcG9ydCB7XHJcbiAgYW5pbWF0b3IsXHJcbiAgY29uZmlnQ29udHJvbGxlcixcclxuICBHYW1lQ29udHJvbGxlcixcclxufVxyXG5mcm9tICdnYW1leCc7XHJcblxyXG5pbXBvcnQgeyBpbnB1dENvbmZpZyB9IGZyb20gJy4uL2NvbmZpZyc7XHJcbmltcG9ydCB7IEhlYWx0aENvbnRyb2xsZXIgfSBmcm9tICcuL2hlYWx0aC1jb250cm9sbGVyJztcclxuaW1wb3J0IHsgU2NvcmVDb250cm9sbGVyIH0gZnJvbSAnLi9zY29yZS1jb250cm9sbGVyJztcclxuXHJcbi8qKlxyXG4gKiBUaGlzIHRvcC1sZXZlbCBDb250cm9sbGVyIGNsYXNzIGluaXRpYWxpemVzIGFuZCBydW5zIHRoZSByZXN0IG9mIHRoZSBhcHAuXHJcbiAqL1xyXG5jbGFzcyBTcGFjZURlYnJpc0NvbnRyb2xsZXIgZXh0ZW5kcyBHYW1lQ29udHJvbGxlciB7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICBzdXBlcigpO1xyXG5cclxuICAgIHRoaXMuX3BhdXNlU2NyZWVuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBhdXNlLXNjcmVlbicpO1xyXG4gICAgdGhpcy5fdGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGl0bGUnKTtcclxuICAgIHRoaXMuX3BsYXlCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdidXR0b24ucGxheScpO1xyXG4gICAgdGhpcy5fbmV3UmVjb3JkRmllbGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmV3LXJlY29yZCcpO1xyXG4gICAgdGhpcy5fdG9hc3RQYW5lbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50b2FzdCcpO1xyXG5cclxuICAgIHRoaXMuaGVhbHRoQ3RybCA9IG51bGw7XHJcbiAgICB0aGlzLnNjb3JlQ3RybCA9IG51bGw7XHJcblxyXG4gICAgdGhpcy5fc2V0RWxlbWVudExpc3RlbmVycygpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gY2FudmFzXHJcbiAgICogQHBhcmFtIHtBcnJheS48UHJvZ3JhbVdyYXBwZXJDb25maWc+fSBwcm9ncmFtQ29uZmlncyBDb25maWd1cmF0aW9ucyBmb3IgcHJvZ3JhbSB3cmFwcGVycyB0aGF0XHJcbiAgICogc2hvdWxkIGJlIHByZS1jYWNoZWQgYmVmb3JlIHN0YXJ0aW5nIHRoZSByZXN0IG9mIHRoZSBhcHAuXHJcbiAgICogQHBhcmFtIHtBcnJheS48U3RyaW5nPn0gdGV4dHVyZVBhdGhzIFRleHR1cmUgaW1hZ2VzIHRoYXQgc2hvdWxkIGJlIHByZS1jYWNoZWQgYmVmb3JlXHJcbiAgICogc3RhcnRpbmcgdGhlIHJlc3Qgb2YgdGhlIGFwcC5cclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9uLjxTY2VuZT59IFNjZW5lSW1wbCBBIGNsYXNzIHRoYXQgZXh0ZW5kcyBHYW1lU2NlbmUuXHJcbiAgICogQHJldHVybnMge1Byb21pc2V9XHJcbiAgICovXHJcbiAgaW5pdGlhbGl6ZShjYW52YXMsIHByb2dyYW1Db25maWdzLCB0ZXh0dXJlUGF0aHMsIFNjZW5lSW1wbCkge1xyXG4gICAgY29uc3QgaGVhbHRoTWV0ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhbHRoIC5jdXJyZW50Jyk7XHJcbiAgICBjb25zdCBzY29yZVBhbmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNjb3JlJyk7XHJcblxyXG4gICAgdGhpcy5oZWFsdGhDdHJsID0gbmV3IEhlYWx0aENvbnRyb2xsZXIoaGVhbHRoTWV0ZXIsIHRoaXMuZW5kR2FtZS5iaW5kKHRoaXMpKTtcclxuICAgIHRoaXMuc2NvcmVDdHJsID0gbmV3IFNjb3JlQ29udHJvbGxlcihzY29yZVBhbmVsKTtcclxuXHJcbiAgICByZXR1cm4gc3VwZXIuaW5pdGlhbGl6ZShjYW52YXMsIHByb2dyYW1Db25maWdzLCB0ZXh0dXJlUGF0aHMsIFNjZW5lSW1wbClcclxuICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX3NldFBhdXNlS2V5TGlzdGVuZXJzKCk7XHJcbiAgICAgICAgdGhpcy5fc2V0SGlkZVRvYXN0TGlzdGVuZXJzKCk7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcnVuKCkge1xyXG4gICAgc3VwZXIucnVuKCk7XHJcbiAgICB0aGlzLmlzR2FtZU92ZXIgPSBmYWxzZTtcclxuICAgIHRoaXMuX3RpdGxlLmlubmVySFRNTCA9ICdQYXVzZWQnO1xyXG4gICAgdGhpcy5fdG9hc3RQYW5lbC5zdHlsZS5vcGFjaXR5ID0gJzEnO1xyXG4gIH1cclxuXHJcbiAgZW5kR2FtZSgpIHtcclxuICAgIHRoaXMuX3NjZW5lLmRlc3Ryb3lTaGlwKCk7XHJcbiAgICB0aGlzLmlzR2FtZU92ZXIgPSB0cnVlO1xyXG4gICAgY29uc3QgaXNOZXdSZWNvcmQgPSB0aGlzLnNjb3JlQ3RybC51cGRhdGVCZXN0U2NvcmUoKTtcclxuICAgIHRoaXMuX3VwZGF0ZVBhdXNlTWVudSgpO1xyXG5cclxuICAgIHRoaXMuX3RpdGxlLmlubmVySFRNTCA9ICdHYW1lIG92ZXInO1xyXG4gICAgdGhpcy5fcGxheUJ1dHRvbi5pbm5lckhUTUwgPSAnUGxheSBhZ2Fpbic7XHJcbiAgICB0aGlzLl9wYXVzZVNjcmVlbi5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuXHJcbiAgICB0aGlzLl9uZXdSZWNvcmRGaWVsZC5zdHlsZS5kaXNwbGF5ID0gaXNOZXdSZWNvcmQgPyAnYmxvY2snIDogJ25vbmUnO1xyXG4gIH1cclxuXHJcbiAgdG9nZ2xlUGF1c2UoKSB7XHJcbiAgICBpZiAodGhpcy5pc1BhdXNlZCkge1xyXG4gICAgICB0aGlzLnVucGF1c2UoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMucGF1c2UoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHBhdXNlKCkge1xyXG4gICAgc3VwZXIucGF1c2UoKTtcclxuICAgIHRoaXMuX3VwZGF0ZVBhdXNlTWVudSgpO1xyXG4gICAgdGhpcy5fcGF1c2VTY3JlZW4uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgfVxyXG5cclxuICB1bnBhdXNlKCkge1xyXG4gICAgc3VwZXIudW5wYXVzZSgpO1xyXG4gICAgdGhpcy5fcGF1c2VTY3JlZW4uc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuXHJcbiAgICBpZiAodGhpcy5pc0dhbWVPdmVyKSB7XHJcbiAgICAgIHRoaXMuX3Jlc3RhcnQoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF91cGRhdGVQYXVzZU1lbnUoKSB7XHJcbiAgICBjb25zdCBzY29yZUZpZWxkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBhdXNlLW1lbnUtc2NvcmUnKTtcclxuICAgIGNvbnN0IGhpZ2hlc3RTY29yZUZpZWxkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBhdXNlLW1lbnUtaGlnaGVzdC1zY29yZScpO1xyXG4gICAgY29uc3QgcnVuVGltZUZpZWxkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBhdXNlLW1lbnUtdG90YWwtcnVuLXRpbWUnKTtcclxuXHJcbiAgICBjb25zdCBzY29yZVRleHQgPSBgJHt0aGlzLnNjb3JlQ3RybC5zY29yZX0gcG9pbnRzYDtcclxuICAgIGNvbnN0IGhpZ2hlc3RTY29yZVRleHQgPSBgJHt0aGlzLnNjb3JlQ3RybC5iZXN0U2NvcmV9IHBvaW50c2A7XHJcbiAgICBjb25zdCBydW5UaW1lVGV4dCA9IG1pbGxpc2Vjb25kc1RvU3RyaW5nKGFuaW1hdG9yLnRvdGFsUnVuVGltZSk7XHJcblxyXG4gICAgc2NvcmVGaWVsZC5pbm5lckhUTUwgPSBzY29yZVRleHQ7XHJcbiAgICBoaWdoZXN0U2NvcmVGaWVsZC5pbm5lckhUTUwgPSBoaWdoZXN0U2NvcmVUZXh0O1xyXG4gICAgcnVuVGltZUZpZWxkLmlubmVySFRNTCA9IHJ1blRpbWVUZXh0O1xyXG4gIH1cclxuXHJcbiAgX3NldFBhdXNlS2V5TGlzdGVuZXJzKCkge1xyXG4gICAgaW5wdXRDb25maWcucGF1c2VLZXlzLmZvckVhY2goa2V5ID0+XHJcbiAgICAgIHRoaXMuX2lucHV0Q3RybC5hZGRLZXlEb3duTGlzdGVuZXIoa2V5LCAoKSA9PiB0aGlzLnRvZ2dsZVBhdXNlKCkpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEhpZGUgdGhlIHRvYXN0IG92ZXJsYXkgb25jZSB0aGUgdXNlciBpcyBhY3R1YWxseSBwbGF5aW5nIChhZnRlciB0d28ga2V5IHByZXNzZXMgb24gcmVsZXZhbnRcclxuICAgKiBrZXlzKS5cclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIF9zZXRIaWRlVG9hc3RMaXN0ZW5lcnMoKSB7XHJcbiAgICBsZXQgZ2FtZUtleVByZXNzQ291bnQgPSAwO1xyXG4gICAgY29uc3QgaGFuZGxlR2FtZUtleVByZXNzID0gKCkgPT4ge1xyXG4gICAgICBnYW1lS2V5UHJlc3NDb3VudCsrO1xyXG4gICAgICBpZiAoZ2FtZUtleVByZXNzQ291bnQgPj0gMikge1xyXG4gICAgICAgIHRoaXMuX3RvYXN0UGFuZWwuc3R5bGUub3BhY2l0eSA9ICcwJztcclxuXHJcbiAgICAgICAgLy8gUmVtb3ZlIGxpc3RlbmVycy5cclxuICAgICAgICBpbnB1dENvbmZpZy5hbGxLZXlzLmZvckVhY2goa2V5ID0+XHJcbiAgICAgICAgICAgIHRoaXMuX2lucHV0Q3RybC5yZW1vdmVLZXlEb3duTGlzdGVuZXIoa2V5LCBoYW5kbGVHYW1lS2V5UHJlc3MpKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBBZGQgbGlzdGVuZXJzLlxyXG4gICAgaW5wdXRDb25maWcuYWxsS2V5cy5mb3JFYWNoKGtleSA9PlxyXG4gICAgICAgIHRoaXMuX2lucHV0Q3RybC5hZGRLZXlEb3duTGlzdGVuZXIoa2V5LCBoYW5kbGVHYW1lS2V5UHJlc3MpKTtcclxuICB9XHJcblxyXG4gIF9zZXRFbGVtZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fcGxheUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMudW5wYXVzZSgpLCBmYWxzZSk7XHJcbiAgICB0aGlzLl9wYXVzZVNjcmVlbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGV2ZW50ID0+IHRoaXMuX29uU2NyZWVuQ2xpY2tlZChldmVudCksIGZhbHNlKTtcclxuICB9XHJcblxyXG4gIF9vblNjcmVlbkNsaWNrZWQoZXZlbnQpIHtcclxuICAgIC8vIElmIHRoZSB1c2VyIGNsaWNrcyBvdXRzaWRlIHRoZSBwYXVzZSBtZW51LCB0aGVuIHdlIHVucGF1c2UuXHJcbiAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSB0aGlzLl9wYXVzZVNjcmVlbiAmJiAhdGhpcy5pc0dhbWVPdmVyKSB7XHJcbiAgICAgIHRoaXMudW5wYXVzZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gVE9ETzogUmVtb3ZlIHRoaXMuIFRoaXMgaXMgbmVlZGVkLCBiZWNhdXNlIHJpZ2h0IG5vdywgYHJlc2V0YCB3b24ndCByZXR1cm4gdGhlIGFwcCB0byBpdHNcclxuICAvLyAgICAgc3RhcnRpbmcgc3RhdGUuIEluc3RlYWQsIHdlIGhhdmUgdG8gcmVjcmVhdGUgZXZlcnl0aGluZy5cclxuICBfcmVzdGFydCgpIHtcclxuICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoZmFsc2UpO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gbWlsbGlzZWNvbmRzVG9TdHJpbmcodG90YWxNaWxsaXNlY29uZHMpIHtcclxuICBjb25zdCBtaWxsaXNlY29uZHMgPSB0b3RhbE1pbGxpc2Vjb25kcyAlIDEwMDA7XHJcbiAgbGV0IHRtcCA9ICh0b3RhbE1pbGxpc2Vjb25kcyAtIG1pbGxpc2Vjb25kcykgLyAxMDAwO1xyXG4gIGNvbnN0IHNlY29uZHMgPSB0bXAgJSA2MDtcclxuICB0bXAgPSAodG1wIC0gc2Vjb25kcykgLyA2MDtcclxuICBjb25zdCBtaW51dGVzID0gdG1wICUgNjA7XHJcbiAgY29uc3QgaG91cnMgPSAodG1wIC0gbWludXRlcykgLyA2MDtcclxuICByZXR1cm4gYCR7cGFkKGhvdXJzKX06JHtwYWQobWludXRlcyl9OiR7cGFkKHNlY29uZHMpfS4ke3BhZChtaWxsaXNlY29uZHMsIDMpfWA7XHJcblxyXG4gIGZ1bmN0aW9uIHBhZChudW1iZXIsIGRpZ2l0cz0yKSB7XHJcbiAgICByZXR1cm4gYDAwJHtudW1iZXJ9YC5zbGljZSgtZGlnaXRzKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7IFNwYWNlRGVicmlzQ29udHJvbGxlciB9O1xyXG4iLCJpbXBvcnQgeyBQaHlzaWNzRW5naW5lIH0gZnJvbSAnZ2FtZXgnO1xyXG5cclxuaW1wb3J0IHsgcGh5c2ljc0NvbmZpZyB9IGZyb20gJy4vY29uZmlnJztcclxuaW1wb3J0IHsgU3BhY2VEZWJyaXNDb250cm9sbGVyIH0gZnJvbSAnLi9jb3JlL3NwYWNlLWRlYnJpcy1jb250cm9sbGVyJztcclxuaW1wb3J0IHsgU2NlbmVJbXBsIH0gZnJvbSAnLi9tb2RlbC1jb250cm9sbGVycy9zY2VuZSc7XHJcbmltcG9ydCB7XHJcbiAgYmxvb21Qcm9ncmFtV3JhcHBlckNvbmZpZyxcclxuICBmbGF0Q29sb3JQcm9ncmFtV3JhcHBlckNvbmZpZyxcclxuICBnZW5lcmFsTW9kZWxQcm9ncmFtV3JhcHBlckNvbmZpZyxcclxuICBzdGFyUG9pbnRzUHJvZ3JhbVdyYXBwZXJDb25maWcsXHJcbn1cclxuZnJvbSAnLi9wcm9ncmFtcyc7XHJcblxyXG4vKipcclxuICogVGhpcyBzY3JpcHQgZGVmaW5lcyB0aGUgdG9wLWxldmVsIGxvZ2ljIHRoYXQgYm9vdHN0cmFwcyB0aGUgYXBwbGljYXRpb24uXHJcbiAqL1xyXG5cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBfaW5pdEFwcCwgZmFsc2UpO1xyXG5cclxuLyoqXHJcbiAqIEluaXRpYWxpemVzIHRoZSBhcHAuIFRoaXMgaXMgdGhlIGV2ZW50IGhhbmRsZXIgZm9yIHRoZSBjb21wbGV0aW9uIG9mIHRoZSBET00gbG9hZGluZy5cclxuICpcclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIF9pbml0QXBwKCkge1xyXG4gIGNvbnNvbGUuZGVidWcoJ29uRG9jdW1lbnRMb2FkJyk7XHJcblxyXG4gIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2FkJywgX2luaXRBcHApO1xyXG5cclxuICBjb25zdCBjb250cm9sbGVyID0gbmV3IFNwYWNlRGVicmlzQ29udHJvbGxlcigpO1xyXG5cclxuICBQaHlzaWNzRW5naW5lLmNyZWF0ZShwaHlzaWNzQ29uZmlnKTtcclxuXHJcbiAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dhbWUtYXJlYScpO1xyXG4gIGNvbnN0IHByb2dyYW1Db25maWdzID0gW1xyXG4gICAgYmxvb21Qcm9ncmFtV3JhcHBlckNvbmZpZyxcclxuICAgIGZsYXRDb2xvclByb2dyYW1XcmFwcGVyQ29uZmlnLFxyXG4gICAgZ2VuZXJhbE1vZGVsUHJvZ3JhbVdyYXBwZXJDb25maWcsXHJcbiAgICBzdGFyUG9pbnRzUHJvZ3JhbVdyYXBwZXJDb25maWcsXHJcbiAgXTtcclxuICBjb25zdCB0ZXh0dXJlcyA9IFtdO1xyXG4gIGNvbnRyb2xsZXIuaW5pdGlhbGl6ZShjYW52YXMsIHByb2dyYW1Db25maWdzLCB0ZXh0dXJlcywgU2NlbmVJbXBsKVxyXG4gICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICBjb25zdCBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpO1xyXG4gICAgICBib2R5LnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSc7XHJcblxyXG4gICAgICBjb250cm9sbGVyLnJ1bigpO1xyXG4gICAgfSk7XHJcbn1cclxuIiwiaW1wb3J0IHtyZW5kZXJhYmxlU2hhcGVGYWN0b3J5fSBmcm9tICdnYW1leCc7XHJcbmltcG9ydCB7YXN0ZXJvaWRSZW5kZXJhYmxlU2hhcGVGYWN0b3J5fSBmcm9tICcuL3NyYy9hc3Rlcm9pZC1zaGFwZS1jb25maWcnO1xyXG5cclxuZXhwb3J0ICogZnJvbSAnLi9zcmMvYXN0ZXJvaWQtY29udHJvbGxlcic7XHJcbmV4cG9ydCAqIGZyb20gJy4vc3JjL2FzdGVyb2lkLXNoYXBlLWNvbmZpZyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vc3JjL2FzdGVyb2lkcy1jb25maWcnO1xyXG5leHBvcnQgKiBmcm9tICcuL3NyYy9hc3Rlcm9pZHMtY29udHJvbGxlcic7XHJcblxyXG5yZW5kZXJhYmxlU2hhcGVGYWN0b3J5LnJlZ2lzdGVyUmVuZGVyYWJsZVNoYXBlRmFjdG9yeShhc3Rlcm9pZFJlbmRlcmFibGVTaGFwZUZhY3RvcnkpO1xyXG4iLCJpbXBvcnQge1xyXG4gIGdldE90aGVyQ29udHJvbGxlckZyb21Db2xsaXNpb24sXHJcbiAgQ29sbGlkYWJsZVBoeXNpY3NNb2RlbENvbnRyb2xsZXIsXHJcbn1cclxuZnJvbSAnZ2FtZXgnO1xyXG5cclxuaW1wb3J0IHsgYXN0ZXJvaWRzQ29uZmlnIH0gZnJvbSAnLi9hc3Rlcm9pZHMtY29uZmlnJztcclxuXHJcbi8qKlxyXG4gKiBUaGlzIGNsYXNzIGNvbnRyb2xzIGFuIGFzdGVyb2lkLlxyXG4gKi9cclxuY2xhc3MgQXN0ZXJvaWRDb250cm9sbGVyIGV4dGVuZHMgQ29sbGlkYWJsZVBoeXNpY3NNb2RlbENvbnRyb2xsZXIge1xyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7TW9kZWxDb250cm9sbGVyQ29uZmlnfSBtb2RlbENvbnRyb2xsZXJQYXJhbXNcclxuICAgKiBAcGFyYW0ge0R5bmFtaWNzQ29uZmlnfSBkeW5hbWljc1BhcmFtc1xyXG4gICAqIEBwYXJhbSB7dmVjM30gc2NhbGVcclxuICAgKiBAcGFyYW0ge251bWJlcn0gZGl2aXNpb25zQ291bnRcclxuICAgKiBAcGFyYW0ge1Njb3JlQ29udHJvbGxlcn0gc2NvcmVDdHJsXHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gb25EZXN0cm95ZWRDYWxsYmFja1xyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKG1vZGVsQ29udHJvbGxlclBhcmFtcywgZHluYW1pY3NQYXJhbXMsIHNjYWxlLCBkaXZpc2lvbnNDb3VudCwgc2NvcmVDdHJsLFxyXG4gICAgb25EZXN0cm95ZWRDYWxsYmFjaykge1xyXG4gICAgbW9kZWxDb250cm9sbGVyUGFyYW1zLnByb2dyYW1XcmFwcGVySWQgPSBhc3Rlcm9pZHNDb25maWcuc2hhZGVyUHJvZ3JhbTtcclxuICAgIG1vZGVsQ29udHJvbGxlclBhcmFtcy50ZXh0dXJlUGF0aCA9IGFzdGVyb2lkc0NvbmZpZy50ZXh0dXJlUGF0aDtcclxuXHJcbiAgICBjb25zdCBzaGFwZVBhcmFtcyA9IHtcclxuICAgICAgc2hhcGVJZDogJ0FTVEVST0lEJyxcclxuICAgICAgY29sbGlkYWJsZVNoYXBlSWQ6ICdTUEhFUkUnLFxyXG4gICAgICBpc1VzaW5nU3BoZXJpY2FsTm9ybWFsczogdHJ1ZSxcclxuICAgICAgZGl2aXNpb25zQ291bnQ6IGRpdmlzaW9uc0NvdW50LFxyXG4gICAgICBzY2FsZTogc2NhbGUsXHJcbiAgICAgIGlzU3RhdGlvbmFyeTogZmFsc2UsXHJcbiAgICB9O1xyXG4gICAgY29uc3QgZm9yY2VBcHBsaWVycyA9IFtdO1xyXG5cclxuICAgIHN1cGVyKG1vZGVsQ29udHJvbGxlclBhcmFtcywgZHluYW1pY3NQYXJhbXMsIHNoYXBlUGFyYW1zLCBmb3JjZUFwcGxpZXJzKTtcclxuXHJcbiAgICB0aGlzLl9zY29yZUN0cmwgPSBzY29yZUN0cmw7XHJcbiAgICB0aGlzLl9vbkRlc3Ryb3llZENhbGxiYWNrID0gb25EZXN0cm95ZWRDYWxsYmFjaztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFRoaXMgY2FsbGJhY2sgaXMgdHJpZ2dlcmVkIGluIHJlc3BvbnNlIHRvIGEgY29sbGlzaW9uLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtDb2xsaXNpb259IGNvbGxpc2lvblxyXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoaXMgbmVlZHMgdGhlIHN0YW5kYXJkIGNvbGxpc2lvbiByZXN0aXR1dGlvbiB0byBwcm9jZWVkLlxyXG4gICAqL1xyXG4gIGhhbmRsZUNvbGxpc2lvbihjb2xsaXNpb24pIHtcclxuICAgIGNvbnN0IGNvbGxpZGFibGVUeXBlID0gZ2V0T3RoZXJDb250cm9sbGVyRnJvbUNvbGxpc2lvbihjb2xsaXNpb24sIHRoaXMpLmNvbnN0cnVjdG9yLm5hbWU7XHJcbiAgICBpZiAoY29sbGlkYWJsZVR5cGUgPT09ICdUb3JwZWRvQ29udHJvbGxlcicpIHtcclxuICAgICAgdGhpcy5fc2NvcmVDdHJsLm9uQXN0ZXJvaWRTaG90KCk7XHJcbiAgICAgIHRoaXMuX29uRGVzdHJveWVkQ2FsbGJhY2sodGhpcyk7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7IEFzdGVyb2lkQ29udHJvbGxlciB9O1xyXG4iLCIvKipcclxuICogVGhpcyBtb2R1bGUgZGVmaW5lcyB0aGUgYXN0ZXJvaWQgc2hhcGUgY29uZmlndXJhdGlvbi5cclxuICpcclxuICogVGhlIGFzdGVyb2lkIHNoYXBlIGlzIGZvcm1lZCBmcm9tIGdpdmluZyByYW5kb20gb2Zmc2V0cyB0byB0aGUgdmVydGljZXMgb2YgYSBpY29zcGhlcmUuXHJcbiAqXHJcbiAqIFRoZSBzaGFwZSBpcyBjZW50ZXJlZCBhcm91bmQgdGhlIG9yaWdpbi5cclxuICovXHJcblxyXG5pbXBvcnQge1xyXG4gIGRlZXBDb3B5LFxyXG4gIGdldENhY2hlS2V5LFxyXG4gIHJhbmRvbUZsb2F0SW5SYW5nZSxcclxuICByZW5kZXJhYmxlU2hhcGVGYWN0b3J5LFxyXG59IGZyb20gJ2dhbWV4JztcclxuaW1wb3J0IHthc3Rlcm9pZHNDb25maWd9IGZyb20gJy4vYXN0ZXJvaWRzLWNvbmZpZyc7XHJcblxyXG5jb25zdCBhc3Rlcm9pZFJlbmRlcmFibGVTaGFwZUZhY3RvcnkgPSB7XHJcbiAgc2hhcGVJZDogJ0FTVEVST0lEJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtSZW5kZXJhYmxlU2hhcGVDb25maWd9IHBhcmFtc1xyXG4gICAqIEByZXR1cm5zIHtSZW5kZXJhYmxlU2hhcGV9XHJcbiAgICovXHJcbiAgZ2V0UmVuZGVyYWJsZVNoYXBlOiAocGFyYW1zKSA9PiB7XHJcbiAgICBjb25zdCBjb3B5UGFyYW1zID0gZGVlcENvcHkocGFyYW1zKTtcclxuICAgIGNvcHlQYXJhbXMuc2hhcGVJZCA9ICdJQ09TUEhFUkUnO1xyXG4gICAgY29uc3QgaWNvc3BoZXJlUmVuZGVyYWJsZVNoYXBlID0gcmVuZGVyYWJsZVNoYXBlRmFjdG9yeS5nZXRSZW5kZXJhYmxlU2hhcGUoY29weVBhcmFtcyk7XHJcblxyXG4gICAgLy8gQ29weSB0aGUgbm9ybWFscyBhcnJheSwgYmVjYXVzZSBpdCBtYXkgaGF2ZSBiZWVuIHJlZmVyZW5jaW5nIHRoZSBzYW1lIGluc3RhbmNlIGFzIHRoZVxyXG4gICAgLy8gcG9zaXRpb25zIGFycmF5LCB3aGljaCB3ZSdyZSBhYm91dCB0byBtb2RpZnkuXHJcbiAgICBpY29zcGhlcmVSZW5kZXJhYmxlU2hhcGUudmVydGV4Tm9ybWFscyA9IFsuLi5pY29zcGhlcmVSZW5kZXJhYmxlU2hhcGUudmVydGV4Tm9ybWFsc107XHJcblxyXG4gICAgX2FkZFJhbmRvbU9mZnNldHNUb1Bvc2l0aW9ucyhpY29zcGhlcmVSZW5kZXJhYmxlU2hhcGUudmVydGV4UG9zaXRpb25zKTtcclxuXHJcbiAgICByZXR1cm4gaWNvc3BoZXJlUmVuZGVyYWJsZVNoYXBlO1xyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7UmVuZGVyYWJsZVNoYXBlQ29uZmlnfSBwYXJhbXNcclxuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gICAqL1xyXG4gIGdldENhY2hlSWQocGFyYW1zKSB7XHJcbiAgICByZXR1cm4gZ2V0Q2FjaGVLZXkocGFyYW1zKTtcclxuICB9XHJcbn07XHJcblxyXG4vKipcclxuICogQWRkcyBhIHJhbmRvbSBvcnRob2dvbmFsIG9mZnNldCB0byBlYWNoIG9mIHRoZSBnaXZlbiBwb3NpdGlvbnMuXHJcbiAqXHJcbiAqIEBwYXJhbSB7QXJyYXkuPE51bWJlcj59IHZlcnRleFBvc2l0aW9uc1xyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gX2FkZFJhbmRvbU9mZnNldHNUb1Bvc2l0aW9ucyh2ZXJ0ZXhQb3NpdGlvbnMpIHtcclxuICBjb25zdCB2ZXJ0ZXhQb3NpdGlvbiA9IHZlYzMuY3JlYXRlKCk7XHJcbiAgY29uc3Qgb3J0aG9nb25hbE9mZnNldFZlY3RvciA9IHZlYzMuY3JlYXRlKCk7XHJcblxyXG4gIGxldCBpO1xyXG4gIGxldCBjb3VudDtcclxuICBsZXQgb3J0aG9nb25hbE9mZnNldDtcclxuXHJcbiAgZm9yIChpID0gMCwgY291bnQgPSB2ZXJ0ZXhQb3NpdGlvbnMubGVuZ3RoOyBpIDwgY291bnQ7IGkgKz0gMykge1xyXG4gICAgdmVjMy5zZXQodmVydGV4UG9zaXRpb24sIHZlcnRleFBvc2l0aW9uc1tpXSwgdmVydGV4UG9zaXRpb25zW2kgKyAxXSwgdmVydGV4UG9zaXRpb25zW2kgKyAyXSk7XHJcblxyXG4gICAgLy8gT3J0aG9nb25hbCBvZmZzZXQuXHJcbiAgICBvcnRob2dvbmFsT2Zmc2V0ID0gcmFuZG9tRmxvYXRJblJhbmdlKGFzdGVyb2lkc0NvbmZpZy5taW5WZXJ0ZXhPcnRob2dvbmFsRGV2aWF0aW9uLFxyXG4gICAgICAgIGFzdGVyb2lkc0NvbmZpZy5tYXhWZXJ0ZXhPcnRob2dvbmFsRGV2aWF0aW9uKTtcclxuICAgIHZlYzMuY29weShvcnRob2dvbmFsT2Zmc2V0VmVjdG9yLCB2ZXJ0ZXhQb3NpdGlvbik7XHJcbiAgICB2ZWMzLnNjYWxlKG9ydGhvZ29uYWxPZmZzZXRWZWN0b3IsIG9ydGhvZ29uYWxPZmZzZXRWZWN0b3IsIG9ydGhvZ29uYWxPZmZzZXQpO1xyXG5cclxuICAgIHZlYzMuYWRkKHZlcnRleFBvc2l0aW9uLCB2ZXJ0ZXhQb3NpdGlvbiwgb3J0aG9nb25hbE9mZnNldFZlY3Rvcik7XHJcblxyXG4gICAgdmVydGV4UG9zaXRpb25zW2ldID0gdmVydGV4UG9zaXRpb25bMF07XHJcbiAgICB2ZXJ0ZXhQb3NpdGlvbnNbaSArIDFdID0gdmVydGV4UG9zaXRpb25bMV07XHJcbiAgICB2ZXJ0ZXhQb3NpdGlvbnNbaSArIDJdID0gdmVydGV4UG9zaXRpb25bMl07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQge2FzdGVyb2lkUmVuZGVyYWJsZVNoYXBlRmFjdG9yeX07XHJcbiIsIi8qKlxyXG4gKiBUaGlzIG1vZHVsZSBoYW5kbGVzIGNvbmZpZ3VyYXRpb24gcGFyYW1ldGVycyByZWxhdGluZyB0byB0aGUgYXN0ZXJvaWRzIG1vZGVsLlxyXG4gKi9cclxuXHJcbmNvbnN0IGFzdGVyb2lkc0NvbmZpZyA9IHt9O1xyXG5cclxuYXN0ZXJvaWRzQ29uZmlnLnNoYWRlclByb2dyYW0gPSAnZ2VuZXJhbC1tb2RlbC1wcm9ncmFtJztcclxuYXN0ZXJvaWRzQ29uZmlnLnRleHR1cmVQYXRoID0gJ2ltYWdlcy90ZXh0dXJlcy9hc3Ryb25vbWljYWwvcmhlYS5wbmcnO1xyXG5hc3Rlcm9pZHNDb25maWcuaW5pdGlhbEFzdGVyb2lkQ291bnQgPSAxNztcclxuXHJcbmFzdGVyb2lkc0NvbmZpZy5faW5pdGlhbEFzdGVyb2lkTWluRGlzdGFuY2VGcm9tU2hpcCA9IDEwMDtcclxuYXN0ZXJvaWRzQ29uZmlnLl9pbml0aWFsQXN0ZXJvaWRNYXhEaXN0YW5jZUZyb21TaGlwID0gNDAwO1xyXG5hc3Rlcm9pZHNDb25maWcubWluRGlzdGFuY2VGcm9tU2hpcCA9IDE1MDtcclxuYXN0ZXJvaWRzQ29uZmlnLm1heERpc3RhbmNlRnJvbVNoaXAgPSA0NjA7XHJcblxyXG4vLyBUT0RPOiBBZGQgcGFyYW1zIGJhY2ssIGFuZCBjaGVjayBhbGwgdGhlc2VcclxuXHJcbi8vIFNjZW5lIGNvb3JkaW5hdGVzIHBlciBtaWxsaXNlY29uZC5cclxuYXN0ZXJvaWRzQ29uZmlnLl9pbml0aWFsTWluU3BlZWQgPSAwLjE7XHJcbmFzdGVyb2lkc0NvbmZpZy5faW5pdGlhbE1heFNwZWVkID0gMC4yO1xyXG5hc3Rlcm9pZHNDb25maWcubWluU3BlZWQgPSAwLjI1O1xyXG5hc3Rlcm9pZHNDb25maWcubWF4U3BlZWQgPSAwLjQ1O1xyXG5cclxuYXN0ZXJvaWRzQ29uZmlnLm1pblNjYWxlID0gMzg7XHJcbmFzdGVyb2lkc0NvbmZpZy5tYXhTY2FsZSA9IDc4O1xyXG5cclxuYXN0ZXJvaWRzQ29uZmlnLm1pbkRpdmlzaW9uc0NvdW50ID0gMjtcclxuYXN0ZXJvaWRzQ29uZmlnLm1heERpdmlzaW9uc0NvdW50ID0gNTtcclxuXHJcbmFzdGVyb2lkc0NvbmZpZy5taW5WZXJ0ZXhPcnRob2dvbmFsRGV2aWF0aW9uID0gLTAuMjtcclxuYXN0ZXJvaWRzQ29uZmlnLm1heFZlcnRleE9ydGhvZ29uYWxEZXZpYXRpb24gPSAwLjI7XHJcblxyXG4vLyBSYWRpYW5zIHBlciBtaWxsaXNlY29uZC5cclxuY29uc3QgX29uZVJldm9sdXRpb25QZXJTZWNvbmQgPSBNYXRoLlBJIC8gNTAwO1xyXG5hc3Rlcm9pZHNDb25maWcubWluUm90YXRpb25SYXRlID0gX29uZVJldm9sdXRpb25QZXJTZWNvbmQgKiAwLjAwMTtcclxuYXN0ZXJvaWRzQ29uZmlnLm1heFJvdGF0aW9uUmF0ZSA9IF9vbmVSZXZvbHV0aW9uUGVyU2Vjb25kICogMC4yO1xyXG5cclxuYXN0ZXJvaWRzQ29uZmlnLm1pbkludGVyY2VwdFZlbG9jaXR5RGV2aWF0aW9uQW5nbGUgPSAwO1xyXG5hc3Rlcm9pZHNDb25maWcubWF4SW50ZXJjZXB0VmVsb2NpdHlEZXZpYXRpb25BbmdsZSA9IE1hdGguUEkgKiAwLjA0O1xyXG5cclxuYXN0ZXJvaWRzQ29uZmlnLmRlbnNpdHkgPSAwLjAwMDAwMztcclxuXHJcbmFzdGVyb2lkc0NvbmZpZy5wb3NpdGlvbk1heEFuZ2xlRnJvbVNoaXBUcmFqZWN0b3J5ID0gTWF0aC5QSSAqIDAuMjU7XHJcblxyXG5hc3Rlcm9pZHNDb25maWcubWluQXN0ZXJvaWRDb3VudCA9IDEwO1xyXG5hc3Rlcm9pZHNDb25maWcubWF4QXN0ZXJvaWRDb3VudCA9IDQwO1xyXG5cclxuLy8gTmV3IGFzdGVyb2lkcyBzcGF3biBhdCBhIHJhdGUgdGhhdCBpcyBpbnZlcnNlbHkgcHJvcG9ydGlvbmFsIHRvIHRoZSBzaGlwJ3Mgc3BlZWQuIFRoaXMgZGVmaW5lc1xyXG4vLyB0aGF0IHJhdGlvLlxyXG5hc3Rlcm9pZHNDb25maWcuX3NwYXduUGVyaW9kU2hpcFNwZWVkTXVsdGlwbGllciA9IDUwO1xyXG5cclxuLy8gU2hvdWxkIHByb2JhYmx5IHRyeSB0byBrZWVwIHRoaXMgaW4tc3luYyB3aXRoIHNjZW5lQ29uZmlnLmNodW5rU2lkZUxlbmd0aC5cclxuYXN0ZXJvaWRzQ29uZmlnLnJlbW92YWxEaXN0YW5jZSA9IDYwMDtcclxuXHJcbmFzdGVyb2lkc0NvbmZpZy5fcmVtb3ZhbENoZWNrVGhyb3R0bGVEZWxheSA9IDMwMDtcclxuYXN0ZXJvaWRzQ29uZmlnLl9yZW1vdmFsU3F1YXJlZERpc3RhbmNlID0gbnVsbDtcclxuXHJcbmZ1bmN0aW9uIF91cGRhdGVSZW1vdmFsU3F1YXJlZERpc3RhbmNlKCkge1xyXG4gIGFzdGVyb2lkc0NvbmZpZy5fcmVtb3ZhbFNxdWFyZWREaXN0YW5jZSA9XHJcbiAgICAgIGFzdGVyb2lkc0NvbmZpZy5yZW1vdmFsRGlzdGFuY2UgKiBhc3Rlcm9pZHNDb25maWcucmVtb3ZhbERpc3RhbmNlO1xyXG59XHJcblxyXG5fdXBkYXRlUmVtb3ZhbFNxdWFyZWREaXN0YW5jZSgpO1xyXG5cclxuY29uc3QgYXN0ZXJvaWRzRm9sZGVyQ29uZmlnID0ge1xyXG4gIGxhYmVsOiAnQXN0ZXJvaWRzJyxcclxuICBjb25maWc6IGFzdGVyb2lkc0NvbmZpZyxcclxuICBpc09wZW46IGZhbHNlLFxyXG4gIG9uQ2hhbmdlTGlzdGVuZXJzOiB7XHJcbiAgICAncmVtb3ZhbERpc3RhbmNlJzogX3VwZGF0ZVJlbW92YWxTcXVhcmVkRGlzdGFuY2UsXHJcbiAgfSxcclxufTtcclxuXHJcbmV4cG9ydCB7YXN0ZXJvaWRzQ29uZmlnLCBhc3Rlcm9pZHNGb2xkZXJDb25maWd9O1xyXG4iLCJpbXBvcnQge1xyXG4gIGFkZFJhbmRvbVJvdGF0aW9uVG9WZWN0b3IsXHJcbiAgYW5pbWF0b3IsXHJcbiAgY3JlYXRlUmFuZG9tVmVjMyxcclxuICBjcmVhdGVTcGhlcmVJbmVydGlhVGVuc29yLFxyXG4gIGZpbmRJbnRlcnNlY3RpbmdDb2xsaWRhYmxlc0ZvckNvbGxpZGFibGUsXHJcbiAgZ2V0TWF4VmVjM0RpbWVuc2lvbixcclxuICBNb2RlbEdyb3VwQ29udHJvbGxlcixcclxuICByYW5kb21GbG9hdEluUmFuZ2UsXHJcbiAgcmFuZG9tSW50SW5SYW5nZSxcclxuICB0aHJvdHRsZSxcclxuICBUV09fUEksXHJcbn1cclxuZnJvbSAnZ2FtZXgnO1xyXG5cclxuaW1wb3J0IHsgY2FsY3VsYXRlSW50ZXJjZXB0VmVsb2NpdHkgfSBmcm9tICcuLi8uLi8uLi91dGlsJztcclxuaW1wb3J0IHsgQXN0ZXJvaWRDb250cm9sbGVyIH0gZnJvbSAnLi9hc3Rlcm9pZC1jb250cm9sbGVyJztcclxuaW1wb3J0IHsgYXN0ZXJvaWRzQ29uZmlnIH0gZnJvbSAnLi9hc3Rlcm9pZHMtY29uZmlnJztcclxuXHJcbi8qKlxyXG4gKiBUaGlzIGNsYXNzIGNvbnRyb2xzIHRoZSBjb2xsZWN0aW9uIG9mIGFzdGVyb2lkcy5cclxuICpcclxuICogLSBOZXcgYXN0ZXJvaWRzIGFyZSBhZGRlZCBhdCBhIHJlZ3VsYXIgdGltZSBpbnRlcnZhbC5cclxuICogICAtIE5ldyBhc3Rlcm9pZHMgYXJlIGNyZWF0ZWQgd2l0aGluIGEgd2lkZSBjb25lIHJlZ2lvbiBhcm91bmQgdGhlIHNoaXAncyBjdXJyZW50IHRyYWplY3RvcnkuXHJcbiAqICAgLSBOZXcgYXN0ZXJvaWRzIGFyZSBnaXZlbiBhIHRyYWplY3RvcnkgdGhhdCBpcyBzbGlnaHRseSBvZmZzZXQgZnJvbSB3aGF0IHdvdWxkIGNhdXNlIHRoZW0gdG9cclxuICogICAgIGludGVyY2VwdCB0aGUgc2hpcCBhdCBpdHMgY3VycmVudCB0cmFqZWN0b3J5LlxyXG4gKiAgIC0gVGhlIGFzdGVyb2lkIGNvdW50IHdpbGwgYWx3YXlzIGJlIHdpdGhpbiBhIGNvbmZpZ3VyZWQgbWluIGFuZCBtYXguXHJcbiAqIC0gT2xkIGFzdGVyb2lkcyBhcmUgcmVtb3ZlZCB3aGVuIHRoZXkgbW92ZSB0b28gZmFyIGZyb20gdGhlIHNoaXAuXHJcbiAqL1xyXG5jbGFzcyBBc3Rlcm9pZHNDb250cm9sbGVyIGV4dGVuZHMgTW9kZWxHcm91cENvbnRyb2xsZXIge1xyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7TW9kZWxHcm91cENvbnRyb2xsZXJDb25maWd9IG1vZGVsQ29udHJvbGxlclBhcmFtc1xyXG4gICAqIEBwYXJhbSB7RnVuY3Rpb24uPHZlYzM+fSBnZXRTaGlwUG9zaXRpb25cclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9uLjx2ZWMzPn0gZ2V0U2hpcFZlbG9jaXR5XHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IobW9kZWxDb250cm9sbGVyUGFyYW1zLCBzY29yZUN0cmwsIGdldFNoaXBQb3NpdGlvbiwgZ2V0U2hpcFZlbG9jaXR5KSB7XHJcbiAgICBzdXBlcihtb2RlbENvbnRyb2xsZXJQYXJhbXMpO1xyXG4gICAgdGhpcy5fc2NvcmVDdHJsID0gc2NvcmVDdHJsO1xyXG4gICAgdGhpcy5fZ2V0U2hpcFBvc2l0aW9uID0gZ2V0U2hpcFBvc2l0aW9uO1xyXG4gICAgdGhpcy5fZ2V0U2hpcFZlbG9jaXR5ID0gZ2V0U2hpcFZlbG9jaXR5O1xyXG4gICAgdGhpcy5fdGhyb3R0bGVkUmVtb3ZlRGlzdGFudEFzdGVyb2lkcyA9XHJcbiAgICAgIHRocm90dGxlKCgpID0+IHRoaXMuX3JlbW92ZURpc3RhbnRBc3Rlcm9pZHMoKSwgYXN0ZXJvaWRzQ29uZmlnLl9yZW1vdmFsQ2hlY2tUaHJvdHRsZURlbGF5KTtcclxuICAgIHRoaXMuX2xhc3RBc3Rlcm9pZFNwYXduVGltZSA9IG51bGw7XHJcbiAgfVxyXG5cclxuICByZXNldCgpIHtcclxuICAgIHRoaXMuY2xlYXJNb2RlbENvbnRyb2xsZXJzKCk7XHJcbiAgICB0aGlzLl9jcmVhdGVJbml0aWFsQXN0ZXJvaWRzKCk7XHJcbiAgICB0aGlzLl9sYXN0QXN0ZXJvaWRTcGF3blRpbWUgPSBhbmltYXRvci5jdXJyZW50VGltZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gY3VycmVudFRpbWVcclxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGRlbHRhVGltZVxyXG4gICAqL1xyXG4gIHVwZGF0ZShjdXJyZW50VGltZSwgZGVsdGFUaW1lKSB7XHJcbiAgICB0aGlzLl90aHJvdHRsZWRSZW1vdmVEaXN0YW50QXN0ZXJvaWRzKCk7XHJcbiAgICB0aGlzLl9oYW5kbGVJbkZsaWdodEFzdGVyb2lkQ3JlYXRpb24oY3VycmVudFRpbWUpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IGN1cnJlbnRUaW1lXHJcbiAgICogQHByaXZhdGVcclxuICAgKi9cclxuICBfaGFuZGxlSW5GbGlnaHRBc3Rlcm9pZENyZWF0aW9uKGN1cnJlbnRUaW1lKSB7XHJcbiAgICBjb25zdCBlbGFwc2VkVGltZSA9IGN1cnJlbnRUaW1lIC0gdGhpcy5fbGFzdEFzdGVyb2lkU3Bhd25UaW1lO1xyXG4gICAgY29uc3Qgc3Bhd25QZXJpb2QgPSBhc3Rlcm9pZHNDb25maWcuX3NwYXduUGVyaW9kU2hpcFNwZWVkTXVsdGlwbGllciAvXHJcbiAgICAgIHZlYzMubGVuZ3RoKHRoaXMuX2dldFNoaXBWZWxvY2l0eSgpKTtcclxuICAgIGlmIChlbGFwc2VkVGltZSA+IHNwYXduUGVyaW9kKSB7XHJcbiAgICAgIHRoaXMuX2xhc3RBc3Rlcm9pZFNwYXduVGltZSA9IGN1cnJlbnRUaW1lO1xyXG4gICAgICB0aGlzLl9jcmVhdGVJbkZsaWdodEFzdGVyb2lkKCkudGhlbihhc3Rlcm9pZCA9PiB0aGlzLl9lbnN1cmVBc3Rlcm9pZElzTm90Q29sbGlkaW5nKGFzdGVyb2lkKSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIF9jcmVhdGVJbml0aWFsQXN0ZXJvaWRzKCkge1xyXG4gICAgY29uc3QgcHJvbWlzZXMgPSBbXTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXN0ZXJvaWRzQ29uZmlnLmluaXRpYWxBc3Rlcm9pZENvdW50OyBpKyspIHtcclxuICAgICAgcHJvbWlzZXMucHVzaCh0aGlzLl9jcmVhdGVJbml0aWFsQXN0ZXJvaWQoKSk7XHJcbiAgICB9XHJcbiAgICBQcm9taXNlLmFsbChwcm9taXNlcykudGhlbigoKSA9PiB0aGlzLl9lbnN1cmVOb0FzdGVyb2lkc0NvbGxpZGUoKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZS48TW9kZWxDb250cm9sbGVyPn1cclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIF9jcmVhdGVJbml0aWFsQXN0ZXJvaWQoKSB7XHJcbiAgICBjb25zdCBwb3NpdGlvbiA9IHRoaXMuX2NyZWF0ZVJhbmRvbUluaXRpYWxBc3Rlcm9pZFBvc2l0aW9uKCk7XHJcbiAgICBjb25zdCB2ZWxvY2l0eSA9IHRoaXMuX2NyZWF0ZVJhbmRvbUFzdGVyb2lkVmVsb2NpdHkocG9zaXRpb24sXHJcbiAgICAgIGFzdGVyb2lkc0NvbmZpZy5faW5pdGlhbE1pblNwZWVkLCBhc3Rlcm9pZHNDb25maWcuX2luaXRpYWxNYXhTcGVlZCk7XHJcbiAgICByZXR1cm4gdGhpcy5fY3JlYXRlQXN0ZXJvaWQocG9zaXRpb24sIHZlbG9jaXR5KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlLjxNb2RlbENvbnRyb2xsZXI+fVxyXG4gICAqIEBwcml2YXRlXHJcbiAgICovXHJcbiAgX2NyZWF0ZUluRmxpZ2h0QXN0ZXJvaWQoKSB7XHJcbiAgICAvLyBNYWtlIHN1cmUgd2UgZG9uJ3QgY3JlYXRlIHRvbyBtYW55IGFzdGVyb2lkcy5cclxuICAgIGlmICh0aGlzLl9tb2RlbEN0cmxzLmxlbmd0aCA+PSBhc3Rlcm9pZHNDb25maWcubWF4QXN0ZXJvaWRDb3VudCkgcmV0dXJuIFByb21pc2UucmVqZWN0KCk7XHJcblxyXG4gICAgY29uc3QgcG9zaXRpb24gPSB0aGlzLl9jcmVhdGVSYW5kb21JbkZsaWdodEFzdGVyb2lkUG9zaXRpb24oKTtcclxuICAgIGNvbnN0IHZlbG9jaXR5ID0gdGhpcy5fY3JlYXRlUmFuZG9tQXN0ZXJvaWRWZWxvY2l0eShwb3NpdGlvbiwgYXN0ZXJvaWRzQ29uZmlnLm1pblNwZWVkLFxyXG4gICAgICBhc3Rlcm9pZHNDb25maWcubWF4U3BlZWQpO1xyXG4gICAgcmV0dXJuIHRoaXMuX2NyZWF0ZUFzdGVyb2lkKHBvc2l0aW9uLCB2ZWxvY2l0eSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0ge3ZlYzN9IHBvc2l0aW9uXHJcbiAgICogQHBhcmFtIHt2ZWMzfSB2ZWxvY2l0eVxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlLjxNb2RlbENvbnRyb2xsZXI+fVxyXG4gICAqIEBwcml2YXRlXHJcbiAgICovXHJcbiAgX2NyZWF0ZUFzdGVyb2lkKHBvc2l0aW9uLCB2ZWxvY2l0eSkge1xyXG4gICAgY29uc3Qgc2NhbGUgPSB0aGlzLl9jcmVhdGVSYW5kb21Bc3Rlcm9pZFNjYWxlKCk7XHJcbiAgICBjb25zdCByb3RhdGlvblJhdGUgPSB0aGlzLl9jcmVhdGVSYW5kb21Bc3Rlcm9pZFJvdGF0aW9uUmF0ZSgpO1xyXG4gICAgY29uc3QgZGl2aXNpb25zQ291bnQgPSB0aGlzLl9jcmVhdGVSYW5kb21Bc3Rlcm9pZERpdmlzaW9uc0NvdW50KCk7XHJcblxyXG4gICAgY29uc3QgbW9kZWxDb250cm9sbGVyUGFyYW1zID0ge1xyXG4gICAgICBnbDogdGhpcy5fZ2wsXHJcbiAgICAgIGdldFZpZXdNYXRyaXg6IHRoaXMuX2dldFZpZXdNYXRyaXgsXHJcbiAgICAgIGdldFByb2plY3Rpb25NYXRyaXg6IHRoaXMuX2dldFByb2plY3Rpb25NYXRyaXgsXHJcbiAgICAgIGdldFBhcmVudFdvcmxkVHJhbnNmb3JtOiB0aGlzLl9nZXRQYXJlbnRXb3JsZFRyYW5zZm9ybSxcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgZHluYW1pY3NQYXJhbXMgPSBfY2FsY3VsYXRlQXN0ZXJvaWREeW5hbWljc0NvbmZpZyhhc3Rlcm9pZHNDb25maWcuZGVuc2l0eSwgcG9zaXRpb24sXHJcbiAgICAgIHZlbG9jaXR5LCByb3RhdGlvblJhdGUsIHNjYWxlKTtcclxuXHJcbiAgICBjb25zdCBhc3Rlcm9pZCA9IG5ldyBBc3Rlcm9pZENvbnRyb2xsZXIoXHJcbiAgICAgIG1vZGVsQ29udHJvbGxlclBhcmFtcyxcclxuICAgICAgZHluYW1pY3NQYXJhbXMsXHJcbiAgICAgIHNjYWxlLFxyXG4gICAgICBkaXZpc2lvbnNDb3VudCxcclxuICAgICAgdGhpcy5fc2NvcmVDdHJsLFxyXG4gICAgICBhc3Rlcm9pZCA9PiB0aGlzLl9vbk1vZGVsQ29udHJvbGxlckRlc3Ryb3llZChhc3Rlcm9pZCkpO1xyXG4gICAgcmV0dXJuIHRoaXMuX3N0YXJ0TW9kZWxDb250cm9sbGVyKGFzdGVyb2lkKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEByZXR1cm5zIHt2ZWMzfVxyXG4gICAqIEBwcml2YXRlXHJcbiAgICovXHJcbiAgX2NyZWF0ZVJhbmRvbUluaXRpYWxBc3Rlcm9pZFBvc2l0aW9uKCkge1xyXG4gICAgY29uc3QgZGlzdGFuY2VGcm9tU2hpcCA9IHJhbmRvbUZsb2F0SW5SYW5nZShhc3Rlcm9pZHNDb25maWcuX2luaXRpYWxBc3Rlcm9pZE1pbkRpc3RhbmNlRnJvbVNoaXAsXHJcbiAgICAgIGFzdGVyb2lkc0NvbmZpZy5faW5pdGlhbEFzdGVyb2lkTWF4RGlzdGFuY2VGcm9tU2hpcCk7XHJcbiAgICBjb25zdCBzaGlwUG9zaXRpb24gPSB0aGlzLl9nZXRTaGlwUG9zaXRpb24oKTtcclxuXHJcbiAgICAvLyBEaXJlY3Rpb24gZnJvbSBzaGlwLlxyXG4gICAgY29uc3QgYXN0ZXJvaWRQb3NpdGlvbiA9IGNyZWF0ZVJhbmRvbVZlYzMoKTtcclxuICAgIC8vIERpc3BsYWNlbWVudCBmcm9tIHNoaXAuXHJcbiAgICB2ZWMzLnNjYWxlKGFzdGVyb2lkUG9zaXRpb24sIGFzdGVyb2lkUG9zaXRpb24sIGRpc3RhbmNlRnJvbVNoaXApO1xyXG4gICAgLy8gQXN0ZXJvaWQgcG9zaXRpb24uXHJcbiAgICB2ZWMzLmFkZChhc3Rlcm9pZFBvc2l0aW9uLCBhc3Rlcm9pZFBvc2l0aW9uLCBzaGlwUG9zaXRpb24pO1xyXG5cclxuICAgIHJldHVybiBhc3Rlcm9pZFBvc2l0aW9uO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ3JlYXRlcyBhIHJhbmRvbSBwb3NpdGlvbiB3aXRoaW4gYSB3aWRlIGNvbmUgcmVnaW9uIGFyb3VuZCB0aGUgc2hpcCdzIGN1cnJlbnQgdHJhamVjdG9yeS5cclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHt2ZWMzfVxyXG4gICAqIEBwcml2YXRlXHJcbiAgICovXHJcbiAgX2NyZWF0ZVJhbmRvbUluRmxpZ2h0QXN0ZXJvaWRQb3NpdGlvbigpIHtcclxuICAgIC8vIENhbGN1bGF0ZSBzb21lIHBhcmFtZXRlcnMgZm9yIHRoZSBwb3NpdGlvbiB3aXRoaW4gYSB2aXJ0dWFsIGNvbmUuXHJcbiAgICBsZXQgciA9IHJhbmRvbUZsb2F0SW5SYW5nZSgwLCAxKTtcclxuICAgIC8vIFdlaWdodCB0aGUgYW5nbGUgdG8gYmUgZnVydGhlciB0b3dhcmQgdGhlIG91dHNpZGUgb2YgdGhlIHRoZSB2aXJ0dWFsIGNvbmUuXHJcbiAgICBsZXQgcmF0aW8gPSAxIC0gciAqIHI7XHJcbiAgICBjb25zdCBsYXRlcmFsQW5nbGUgPSByYXRpbyAqIGFzdGVyb2lkc0NvbmZpZy5wb3NpdGlvbk1heEFuZ2xlRnJvbVNoaXBUcmFqZWN0b3J5O1xyXG4gICAgciA9IHJhbmRvbUZsb2F0SW5SYW5nZSgwLCAxKTtcclxuICAgIC8vIFdlaWdodCB0aGUgZGlzdGFuY2UgdG8gZmF2b3IgYmVpbmcgZnVydGhlciBhd2F5LlxyXG4gICAgcmF0aW8gPSAxIC0gciAqIHI7XHJcbiAgICBjb25zdCBkaXN0YW5jZSA9IGFzdGVyb2lkc0NvbmZpZy5taW5EaXN0YW5jZUZyb21TaGlwICtcclxuICAgICAgKGFzdGVyb2lkc0NvbmZpZy5tYXhEaXN0YW5jZUZyb21TaGlwIC0gYXN0ZXJvaWRzQ29uZmlnLm1pbkRpc3RhbmNlRnJvbVNoaXApICogcmF0aW87XHJcbiAgICBjb25zdCBheGlhbEFuZ2xlID0gcmFuZG9tRmxvYXRJblJhbmdlKDAsIFRXT19QSSk7XHJcbiAgICBjb25zdCBvcmlnaW4gPSB2ZWMzLmNyZWF0ZSgpO1xyXG5cclxuICAgIC8vIFN0YXJ0IHdpdGggYSBwb3NpdGlvbiBhdCB0aGUgZ2l2ZW4gZGlzdGFuY2UuXHJcbiAgICBjb25zdCBwb3NpdGlvbiA9IHZlYzMuZnJvbVZhbHVlcygwLCAwLCAtZGlzdGFuY2UpO1xyXG5cclxuICAgIC8vIFJvdGF0ZSB0aGUgcG9zaXRpb24gd2l0aGluIHRoZSB2aXJ0dWFsIGNvbmUuXHJcbiAgICB2ZWMzLnJvdGF0ZVgocG9zaXRpb24sIHBvc2l0aW9uLCBvcmlnaW4sIGxhdGVyYWxBbmdsZSk7XHJcbiAgICB2ZWMzLnJvdGF0ZVoocG9zaXRpb24sIHBvc2l0aW9uLCBvcmlnaW4sIGF4aWFsQW5nbGUpO1xyXG5cclxuICAgIC8vIFJvdGF0ZSB0byBtYXRjaCB0aGUgZGlyZWN0aW9uIG9mIHRoZSBzaGlwJ3MgdmVsb2NpdHkuXHJcbiAgICBjb25zdCBzaGlwVmVsb2NpdHkgPSB0aGlzLl9nZXRTaGlwVmVsb2NpdHkoKTtcclxuICAgIHZlYzMubm9ybWFsaXplKHNoaXBWZWxvY2l0eSwgc2hpcFZlbG9jaXR5KTtcclxuICAgIGNvbnN0IHJvdGF0aW9uWCA9IE1hdGguYXNpbihzaGlwVmVsb2NpdHlbMV0pO1xyXG4gICAgY29uc3Qgcm90YXRpb25ZID0gLU1hdGguYXRhbjIoc2hpcFZlbG9jaXR5WzBdLCAtc2hpcFZlbG9jaXR5WzJdKTtcclxuICAgIHZlYzMucm90YXRlWChwb3NpdGlvbiwgcG9zaXRpb24sIG9yaWdpbiwgcm90YXRpb25YKTtcclxuICAgIHZlYzMucm90YXRlWShwb3NpdGlvbiwgcG9zaXRpb24sIG9yaWdpbiwgcm90YXRpb25ZKTtcclxuXHJcbiAgICB2ZWMzLmFkZChwb3NpdGlvbiwgcG9zaXRpb24sIHRoaXMuX2dldFNoaXBQb3NpdGlvbigpKTtcclxuXHJcbiAgICByZXR1cm4gcG9zaXRpb247XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBBZGRzIGFueSBuZWVkZWQgb2Zmc2V0IHRvIGFueSBhc3Rlcm9pZCBzbyB0aGF0IGl0IGRvZXMgbm90IGNvbGxpZGUgd2l0aCBhbnkgcHJlLWV4aXN0aW5nXHJcbiAgICogb2JqZWN0cy5cclxuICAgKlxyXG4gICAqIEBwcml2YXRlXHJcbiAgICovXHJcbiAgX2Vuc3VyZU5vQXN0ZXJvaWRzQ29sbGlkZSgpIHtcclxuICAgIC8vIExvb3AgaW4gcmV2ZXJzZSBvcmRlciBzbyB3ZSBvbmx5IG1vdmUgdGhlIGFzdGVyb2lkcyB0aGF0IGFyZSBhZGRlZCBsYXRlci5cclxuICAgIGZvciAobGV0IGkgPSB0aGlzLl9tb2RlbEN0cmxzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgIHRoaXMuX2Vuc3VyZUFzdGVyb2lkSXNOb3RDb2xsaWRpbmcodGhpcy5fbW9kZWxDdHJsc1tpXSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBBZGRzIGFueSBuZWVkZWQgb2Zmc2V0IHRvIHRoZSBuZXcgYXN0ZXJvaWQgc28gdGhhdCBpdCBkb2VzIG5vdCBjb2xsaWRlIHdpdGggYW55IHByZS1leGlzdGluZ1xyXG4gICAqIG9iamVjdHMuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge0FzdGVyb2lkQ29udHJvbGxlcn0gYXN0ZXJvaWRcclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIF9lbnN1cmVBc3Rlcm9pZElzTm90Q29sbGlkaW5nKGFzdGVyb2lkKSB7XHJcbiAgICBjb25zdCBjb2xsaWRhYmxlID0gYXN0ZXJvaWQucGh5c2ljc0pvYi5jb2xsaWRhYmxlO1xyXG4gICAgY29uc3QgcmFkaXVzID0gZ2V0TWF4VmVjM0RpbWVuc2lvbihhc3Rlcm9pZC5zY2FsZSk7XHJcbiAgICBjb25zdCBhc3Rlcm9pZFBvc2l0aW9uID0gYXN0ZXJvaWQucG9zaXRpb247XHJcblxyXG4gICAgY29uc3Qgc2hpcFRvQXN0ZXJvaWRPZmZzZXQgPSB2ZWMzLmNyZWF0ZSgpO1xyXG4gICAgdmVjMy5zdWJ0cmFjdChzaGlwVG9Bc3Rlcm9pZE9mZnNldCwgYXN0ZXJvaWRQb3NpdGlvbiwgdGhpcy5fZ2V0U2hpcFBvc2l0aW9uKCkpO1xyXG4gICAgdmVjMy5ub3JtYWxpemUoc2hpcFRvQXN0ZXJvaWRPZmZzZXQsIHNoaXBUb0FzdGVyb2lkT2Zmc2V0KTtcclxuICAgIHZlYzMuc2NhbGUoc2hpcFRvQXN0ZXJvaWRPZmZzZXQsIHNoaXBUb0FzdGVyb2lkT2Zmc2V0LCByYWRpdXMpO1xyXG5cclxuICAgIGxldCBjb2xsaWRpbmdDb2xsaWRhYmxlcyA9IGZpbmRJbnRlcnNlY3RpbmdDb2xsaWRhYmxlc0ZvckNvbGxpZGFibGUoY29sbGlkYWJsZSk7XHJcbiAgICB3aGlsZSAoY29sbGlkaW5nQ29sbGlkYWJsZXMubGVuZ3RoKSB7XHJcbiAgICAgIHZlYzMuYWRkKGFzdGVyb2lkUG9zaXRpb24sIGFzdGVyb2lkUG9zaXRpb24sIHNoaXBUb0FzdGVyb2lkT2Zmc2V0KTtcclxuICAgICAgYXN0ZXJvaWQucG9zaXRpb24gPSBhc3Rlcm9pZFBvc2l0aW9uO1xyXG4gICAgICBjb2xsaWRpbmdDb2xsaWRhYmxlcyA9IGZpbmRJbnRlcnNlY3RpbmdDb2xsaWRhYmxlc0ZvckNvbGxpZGFibGUoY29sbGlkYWJsZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDYWxjdWxhdGVzIGEgcmFuZG9tIHZlbG9jaXR5IHRoYXQgbW92ZXMgdGhlIGFzdGVyb2lkIGNsb3NlIHRvIHRoZSBzaGlwLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHt2ZWMzfSBhc3Rlcm9pZFBvc2l0aW9uXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IG1pblNwZWVkXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IG1heFNwZWVkXHJcbiAgICogQHJldHVybnMge3ZlYzN9XHJcbiAgICogQHByaXZhdGVcclxuICAgKi9cclxuICBfY3JlYXRlUmFuZG9tQXN0ZXJvaWRWZWxvY2l0eShhc3Rlcm9pZFBvc2l0aW9uLCBtaW5TcGVlZCwgbWF4U3BlZWQpIHtcclxuICAgIGNvbnN0IHNoaXBQb3NpdGlvbiA9IHRoaXMuX2dldFNoaXBQb3NpdGlvbigpO1xyXG4gICAgY29uc3Qgc2hpcFZlbG9jaXR5ID0gdGhpcy5fZ2V0U2hpcFZlbG9jaXR5KCk7XHJcblxyXG4gICAgLy8gQ2FsY3VsYXRlIGEgcmFuZG9tIHNwZWVkIGZvciB0aGUgYXN0ZXJvaWQuXHJcbiAgICBjb25zdCBhc3Rlcm9pZFNwZWVkID0gcmFuZG9tRmxvYXRJblJhbmdlKG1pblNwZWVkLCBtYXhTcGVlZCk7XHJcblxyXG4gICAgLy8gQ2FsY3VsYXRlIGluIHdoYXQgZGlyZWN0aW9uIHRoZSBhc3Rlcm9pZCBuZWVkcyB0byB0cmF2ZWwgaW4gb3JkZXIgdG8gY29sbGlkZSB3aXRoIHRoZSBzaGlwIGlmXHJcbiAgICAvLyB0aGUgc2hpcCB3ZXJlIHRvIG1haW50YWluIGl0J3MgY3VycmVudCB2ZWxvY2l0eS5cclxuICAgIGNvbnN0IGludGVyY2VwdFZlbG9jaXR5ID0gdmVjMy5jcmVhdGUoKTtcclxuICAgIGNhbGN1bGF0ZUludGVyY2VwdFZlbG9jaXR5KFxyXG4gICAgICBpbnRlcmNlcHRWZWxvY2l0eSwgYXN0ZXJvaWRQb3NpdGlvbiwgYXN0ZXJvaWRTcGVlZCwgc2hpcFBvc2l0aW9uLCBzaGlwVmVsb2NpdHkpO1xyXG5cclxuICAgIC8vIFRPRE86IFRoZSBjYWxjdWxhdGlvbiBmb3IgaW50ZXJjZXB0IHZlbG9jaXR5IHNlZW1zIGJyb2tlbjsgdGhlIHJlc3VsdGluZyBzcGVlZHMgYXJlIHRvbyBmYXN0LlxyXG4gICAgLy8gVGhpcyBoYWNrIHNsb3dzIHRoZW0gZG93bi5cclxuICAgIHZlYzMubm9ybWFsaXplKGludGVyY2VwdFZlbG9jaXR5LCBpbnRlcmNlcHRWZWxvY2l0eSk7XHJcbiAgICB2ZWMzLnNjYWxlKGludGVyY2VwdFZlbG9jaXR5LCBpbnRlcmNlcHRWZWxvY2l0eSwgYXN0ZXJvaWRTcGVlZCAvIDEyKTtcclxuXHJcbiAgICAvLyBBZGQgYSByYW5kb20gZGV2aWF0aW9uIHRvIHRoZSB2ZWxvY2l0eSBjYWxjdWxhdGVkIGFib3ZlLlxyXG4gICAgYWRkUmFuZG9tUm90YXRpb25Ub1ZlY3RvcihpbnRlcmNlcHRWZWxvY2l0eSxcclxuICAgICAgYXN0ZXJvaWRzQ29uZmlnLm1pbkludGVyY2VwdFZlbG9jaXR5RGV2aWF0aW9uQW5nbGUsXHJcbiAgICAgIGFzdGVyb2lkc0NvbmZpZy5tYXhJbnRlcmNlcHRWZWxvY2l0eURldmlhdGlvbkFuZ2xlKTtcclxuXHJcbiAgICByZXR1cm4gaW50ZXJjZXB0VmVsb2NpdHk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAcmV0dXJucyB7dmVjM31cclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIF9jcmVhdGVSYW5kb21Bc3Rlcm9pZFNjYWxlKCkge1xyXG4gICAgY29uc3QgdmFsdWUgPSByYW5kb21GbG9hdEluUmFuZ2UoYXN0ZXJvaWRzQ29uZmlnLm1pblNjYWxlLCBhc3Rlcm9pZHNDb25maWcubWF4U2NhbGUpO1xyXG4gICAgcmV0dXJuIHZlYzMuZnJvbVZhbHVlcyh2YWx1ZSwgdmFsdWUsIHZhbHVlKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9XHJcbiAgICogQHByaXZhdGVcclxuICAgKi9cclxuICBfY3JlYXRlUmFuZG9tQXN0ZXJvaWRSb3RhdGlvblJhdGUoKSB7XHJcbiAgICByZXR1cm4gcmFuZG9tRmxvYXRJblJhbmdlKGFzdGVyb2lkc0NvbmZpZy5taW5Sb3RhdGlvblJhdGUsXHJcbiAgICAgIGFzdGVyb2lkc0NvbmZpZy5tYXhSb3RhdGlvblJhdGUpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQHJldHVybnMge251bWJlcn1cclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIF9jcmVhdGVSYW5kb21Bc3Rlcm9pZERpdmlzaW9uc0NvdW50KCkge1xyXG4gICAgcmV0dXJuIHJhbmRvbUludEluUmFuZ2UoYXN0ZXJvaWRzQ29uZmlnLm1pbkRpdmlzaW9uc0NvdW50LFxyXG4gICAgICBhc3Rlcm9pZHNDb25maWcubWF4RGl2aXNpb25zQ291bnQpO1xyXG4gIH1cclxuXHJcbiAgX3JlbW92ZURpc3RhbnRBc3Rlcm9pZHMoKSB7XHJcbiAgICB0aGlzLl9yZW1vdmVEaXN0YW50TW9kZWxDb250cm9sbGVycyh0aGlzLl9nZXRTaGlwUG9zaXRpb24oKSxcclxuICAgICAgYXN0ZXJvaWRzQ29uZmlnLl9yZW1vdmFsU3F1YXJlZERpc3RhbmNlKTtcclxuXHJcbiAgICAvLyBNYWtlIHN1cmUgd2UgZG9uJ3QgaGF2ZSB0b28gZmV3IGFzdGVyb2lkcy5cclxuICAgIGNvbnN0IGFzdGVyb2lkRGVmaWNpdCA9IGFzdGVyb2lkc0NvbmZpZy5taW5Bc3Rlcm9pZENvdW50IC0gdGhpcy5fbW9kZWxDdHJscy5sZW5ndGg7XHJcbiAgICBpZiAoYXN0ZXJvaWREZWZpY2l0ID4gMCkge1xyXG4gICAgICBjb25zdCBwcm9taXNlcyA9IFtdO1xyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFzdGVyb2lkRGVmaWNpdDsgaSsrKSB7XHJcbiAgICAgICAgcHJvbWlzZXMucHVzaCh0aGlzLl9jcmVhdGVJbkZsaWdodEFzdGVyb2lkKCkpO1xyXG4gICAgICB9XHJcbiAgICAgIFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKCgpID0+IHRoaXMuX2Vuc3VyZU5vQXN0ZXJvaWRzQ29sbGlkZSgpKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0dXJlUGF0aFxyXG4gICAqL1xyXG4gIC8vIFRPRE86IENhbGwgdGhpcyBmcm9tIGRhdC5HVUkgdHJpZ2dlci5cclxuICB1cGRhdGVUZXh0dXJlKHRleHR1cmVQYXRoKSB7XHJcbiAgICB0aGlzLl9tb2RlbEN0cmxzLmZvckVhY2gob2JqZWN0ID0+IG9iamVjdC50ZXh0dXJlUGF0aCA9IHRleHR1cmVQYXRoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZFxyXG4gICAqL1xyXG4gIC8vIFRPRE86IENhbGwgdGhpcyBmcm9tIGRhdC5HVUkgdHJpZ2dlci5cclxuICB1cGRhdGVQcm9ncmFtV3JhcHBlcihpZCkge1xyXG4gICAgdGhpcy5fbW9kZWxDdHJscy5mb3JFYWNoKG9iamVjdCA9PiBvYmplY3QucHJvZ3JhbVdyYXBwZXJJZCA9IGlkKTtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0ge251bWJlcn0gZGVuc2l0eVxyXG4gKiBAcGFyYW0ge3ZlYzN9IHN0YXJ0UG9zaXRpb25cclxuICogQHBhcmFtIHt2ZWMzfSB2ZWxvY2l0eVxyXG4gKiBAcGFyYW0ge251bWJlcn0gcm90YXRpb25SYXRlXHJcbiAqIEBwYXJhbSB7dmVjM30gc2NhbGVcclxuICogQHJldHVybnMge0R5bmFtaWNzQ29uZmlnfVxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gX2NhbGN1bGF0ZUFzdGVyb2lkRHluYW1pY3NDb25maWcoZGVuc2l0eSwgc3RhcnRQb3NpdGlvbiwgdmVsb2NpdHksIHJvdGF0aW9uUmF0ZSwgc2NhbGUpIHtcclxuICBjb25zdCByYWRpdXMgPSAoc2NhbGVbMF0gKyBzY2FsZVsxXSArIHNjYWxlWzJdKSAvIDM7XHJcbiAgY29uc3QgbWFzcyA9IGRlbnNpdHkgKiA0IC8gMyAqIE1hdGguUEkgKiByYWRpdXMgKiByYWRpdXMgKiByYWRpdXM7XHJcblxyXG4gIGNvbnN0IG1vbWVudHVtID0gdmVjMy5jcmVhdGUoKTtcclxuICB2ZWMzLnNjYWxlKG1vbWVudHVtLCB2ZWxvY2l0eSwgbWFzcyk7XHJcbiAgY29uc3Qgc3RhcnRPcmllbnRhdGlvbiA9IHF1YXQuY3JlYXRlKCk7XHJcbiAgY29uc3QgYW5ndWxhck1vbWVudHVtID0gX2NhbGN1bGF0ZUFuZ3VsYXJNb21lbnR1bUZyb21Sb3RhdGlvblJhdGUocm90YXRpb25SYXRlLCByYWRpdXMsIG1hc3MpO1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgbWFzczogbWFzcyxcclxuICAgIHBvc2l0aW9uOiBzdGFydFBvc2l0aW9uLFxyXG4gICAgbW9tZW50dW06IG1vbWVudHVtLFxyXG4gICAgb3JpZW50YXRpb246IHN0YXJ0T3JpZW50YXRpb24sXHJcbiAgICBhbmd1bGFyTW9tZW50dW06IGFuZ3VsYXJNb21lbnR1bSxcclxuICB9O1xyXG59XHJcblxyXG4vKipcclxuICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0aW9uUmF0ZVxyXG4gKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXNzXHJcbiAqIEByZXR1cm5zIHt2ZWMzfVxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gX2NhbGN1bGF0ZUFuZ3VsYXJNb21lbnR1bUZyb21Sb3RhdGlvblJhdGUocm90YXRpb25SYXRlLCByYWRpdXMsIG1hc3MpIHtcclxuICBjb25zdCBpbmVydGlhVGVuc29yID0gY3JlYXRlU3BoZXJlSW5lcnRpYVRlbnNvcihyYWRpdXMsIG1hc3MpO1xyXG4gIGNvbnN0IGFuZ3VsYXJNb21lbnR1bSA9IGNyZWF0ZVJhbmRvbVZlYzMocm90YXRpb25SYXRlKTtcclxuICB2ZWMzLnRyYW5zZm9ybU1hdDMoYW5ndWxhck1vbWVudHVtLCBhbmd1bGFyTW9tZW50dW0sIGluZXJ0aWFUZW5zb3IpO1xyXG4gIHJldHVybiBhbmd1bGFyTW9tZW50dW07XHJcbn1cclxuXHJcbmV4cG9ydCB7IEFzdGVyb2lkc0NvbnRyb2xsZXIgfTtcclxuIiwiZXhwb3J0ICogZnJvbSAnLi9zcmMvc2NlbmUtY29uZmlnJztcclxuZXhwb3J0ICogZnJvbSAnLi9zcmMvc2NlbmUtaW1wbCc7XHJcbmV4cG9ydCAqIGZyb20gJy4vc3JjL3NoaXAtZGVzdHJveWVkLWNhbWVyYS10YXJnZXQnO1xyXG4iLCJpbXBvcnQge2NhbWVyYUNvbmZpZ30gZnJvbSAnLi4vLi4vLi4vY29uZmlnJztcclxuXHJcbi8qKlxyXG4gKiBUaGlzIG1vZHVsZSBoYW5kbGVzIGNvbmZpZ3VyYXRpb24gcGFyYW1ldGVycyByZWxhdGluZyB0byB0aGUgb3ZlcmFsbCBzY2VuZS5cclxuICovXHJcblxyXG5jb25zdCBzY2VuZUNvbmZpZyA9IHt9O1xyXG5cclxuLy8gU2hvdWxkIHByb2JhYmx5IHRyeSB0byBrZWVwIHRoaXMgaW4tc3luYyB3aXRoIGFzdGVyb2lkc0NvbmZpZy5yZW1vdmFsRGlzdGFuY2UuXHJcbnNjZW5lQ29uZmlnLmNodW5rU2lkZUxlbmd0aCA9IDcwMDtcclxuc2NlbmVDb25maWcuY2h1bmtDb3VudE9uQVNpZGUgPSA4O1xyXG5cclxuLy8gS2VlcCB0aGlzIHZhbHVlIGNvcnJlbGF0ZWQgd2l0aCBjYW1lcmFDb25maWcuX3pGYXIgYW5kIHN0YXItc2hhZGVyLk1BWF9ESVNUQU5DRV9GUk9NX0NBTUVSQS5cclxuc2NlbmVDb25maWcucmVuZGVyRGlzdGFuY2UgPSBzY2VuZUNvbmZpZy5jaHVua1NpZGVMZW5ndGggKiAoc2NlbmVDb25maWcuY2h1bmtDb3VudE9uQVNpZGUgLSAxKSAvIDI7XHJcbmNhbWVyYUNvbmZpZy5fekZhciA9IHNjZW5lQ29uZmlnLnJlbmRlckRpc3RhbmNlO1xyXG5cclxuZXhwb3J0IHtzY2VuZUNvbmZpZ307XHJcbiIsImltcG9ydCB7XHJcbiAgY29uZmlnQ29udHJvbGxlcixcclxuICBHYW1lU2NlbmUsXHJcbiAgc2hhbGxvd0NvcHksXHJcbn1cclxuZnJvbSAnZ2FtZXgnO1xyXG5cclxuaW1wb3J0IHtcclxuICBjYW1lcmFDb25maWcsXHJcbiAgY2FtZXJhRm9sZGVyQ29uZmlnLFxyXG4gIGNhbWVyYVR5cGVNYXAsXHJcbiAgZmlyc3RQZXJzb25DYW1lcmFDb25maWcsXHJcbiAgZml4ZWRDYW1lcmFDb25maWcsXHJcbiAgZm9sbG93Q2FtZXJhQ29uZmlnLFxyXG4gIHBoeXNpY3NGb2xkZXJDb25maWcsXHJcbn1cclxuZnJvbSAnLi4vLi4vLi4vY29uZmlnJztcclxuXHJcbmltcG9ydCB7IHNjZW5lQ29uZmlnIH0gZnJvbSAnLi9zY2VuZS1jb25maWcnO1xyXG5cclxuaW1wb3J0IHsgQ2h1bmtDb250cm9sbGVyIH0gZnJvbSAnLi4vLi4vLi4vY29yZS9jaHVuay1jb250cm9sbGVyJztcclxuXHJcbmltcG9ydCB7XHJcbiAgVG9ycGVkb2VzQ29udHJvbGxlcixcclxuICB0b3JwZWRvZXNDb25maWcsXHJcbiAgdG9ycGVkb2VzRm9sZGVyQ29uZmlnLFxyXG59XHJcbmZyb20gJy4uLy4uL3RvcnBlZG8nO1xyXG5pbXBvcnQge1xyXG4gIEFzdGVyb2lkc0NvbnRyb2xsZXIsXHJcbiAgYXN0ZXJvaWRzQ29uZmlnLFxyXG4gIGFzdGVyb2lkc0ZvbGRlckNvbmZpZyxcclxufVxyXG5mcm9tICcuLi8uLi9hc3Rlcm9pZCc7XHJcbmltcG9ydCB7XHJcbiAgU2hpcENvbnRyb2xsZXIsXHJcbiAgc2hpcENvbmZpZyxcclxuICBzaGlwRm9sZGVyQ29uZmlnLFxyXG59XHJcbmZyb20gJy4uLy4uL3NoaXAnO1xyXG5pbXBvcnQge1xyXG4gIFN0YXJzQ29udHJvbGxlcixcclxuICBzdGFyc0ZvbGRlckNvbmZpZyxcclxufVxyXG5mcm9tICcuLi8uLi9zdGFyJztcclxuaW1wb3J0IHtcclxuICAvLyBVZm9zQ29udHJvbGxlcixcclxuICB1Zm9zQ29uZmlnLFxyXG4gIHVmb3NGb2xkZXJDb25maWcsXHJcbn1cclxuZnJvbSAnLi4vLi4vdWZvJztcclxuXHJcbmltcG9ydCB7IFNoaXBEZXN0cm95ZWRDYW1lcmFUYXJnZXQgfSBmcm9tICcuL3NoaXAtZGVzdHJveWVkLWNhbWVyYS10YXJnZXQnO1xyXG5cclxuLyoqXHJcbiAqIFRoaXMgY2xhc3MgaGFuZGxlcyB0aGUgb3ZlcmFsbCBzY2VuZS5cclxuICpcclxuICogVGhpcyBpbmNsdWRlczpcclxuICogLSB0aGUgYmFja2dyb3VuZCxcclxuICogLSBhbGwgb2JqZWN0cyBpbiB0aGUgZm9yZWdyb3VuZCxcclxuICogLSBhbGwgbGlnaHQgc291cmNlcy5cclxuICovXHJcbmNsYXNzIFNjZW5lSW1wbCBleHRlbmRzIEdhbWVTY2VuZSB7XHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtNb2RlbEdyb3VwQ29udHJvbGxlckNvbmZpZ30gbW9kZWxDb250cm9sbGVyUGFyYW1zXHJcbiAgICogQHBhcmFtIHtHYW1lQ29udHJvbGxlcn0gZ2FtZUN0cmxcclxuICAgKiBAcGFyYW0ge0lucHV0Q29udHJvbGxlcn0gaW5wdXRDdHJsXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IobW9kZWxDb250cm9sbGVyUGFyYW1zLCBnYW1lQ3RybCwgaW5wdXRDdHJsKSB7XHJcbiAgICBzdXBlcihtb2RlbENvbnRyb2xsZXJQYXJhbXMsIGdhbWVDdHJsLCBpbnB1dEN0cmwsIHNjZW5lQ29uZmlnLnJlbmRlckRpc3RhbmNlKTtcclxuXHJcbiAgICB0aGlzLl9hc3Rlcm9pZHNDdHJsID0gbnVsbDtcclxuICAgIHRoaXMuX3RvcnBlZG9lc0N0cmwgPSBudWxsO1xyXG4gICAgdGhpcy5fc2hpcEN0cmwgPSBudWxsO1xyXG4gICAgdGhpcy5fc3RhcnNDdHJsID0gbnVsbDtcclxuICAgIHRoaXMuX3Vmb3NDdHJsID0gbnVsbDtcclxuICAgIHRoaXMuX2NodW5rQ3RybCA9IG51bGw7XHJcbiAgICAvLyBUaGlzIGlzIGVpdGhlciBfc2hpcEN0cmwgb3IgX3NoaXBEZXN0cm95ZWRDYW1lcmFUYXJnZXQgZGVwZW5kaW5nIG9uIHdoZXRoZXIgdGhlIGdhbWUgaXMgb3Zlci5cclxuICAgIHRoaXMuX3NoaXBQcm94eSA9IG51bGw7XHJcbiAgICB0aGlzLl9zaGlwRGVzdHJveWVkQ2FtZXJhVGFyZ2V0ID0gbnVsbDtcclxuICAgIHRoaXMuX2NhbWVyYSA9IG51bGw7XHJcbiAgICB0aGlzLl9jaHVua0xpc3RlbmVycyA9IFtdO1xyXG5cclxuICAgIHRoaXMuX2NyZWF0ZUNvbmZpZ0NvbnRyb2xsZXIoKTtcclxuICAgIHRoaXMuX2NyZWF0ZUNodW5rQ29udHJvbGxlcigpO1xyXG4gICAgdGhpcy5faXNSZWFkeVByb21pc2UgPSB0aGlzLl9jcmVhdGVNb2RlbENvbnRyb2xsZXJzKGlucHV0Q3RybCk7XHJcbiAgICB0aGlzLl9jcmVhdGVDYW1lcmEoKTtcclxuICB9XHJcblxyXG4gIHJlc2V0KCkge1xyXG4gICAgc3VwZXIucmVzZXQoKTtcclxuXHJcbiAgICB0aGlzLl9zaGlwRGVzdHJveWVkQ2FtZXJhVGFyZ2V0ID0gbnVsbDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gY3VycmVudFRpbWVcclxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGRlbHRhVGltZVxyXG4gICAqL1xyXG4gIHVwZGF0ZUNoaWxkcmVuKGN1cnJlbnRUaW1lLCBkZWx0YVRpbWUpIHtcclxuICAgIHN1cGVyLnVwZGF0ZUNoaWxkcmVuKGN1cnJlbnRUaW1lLCBkZWx0YVRpbWUpO1xyXG4gICAgLy8gVGhlIHNjZW5lIHBvc2l0aW9uIGZvbGxvd3MgdGhlIHNoaXAgcG9zaXRpb24uXHJcbiAgICB0aGlzLmNlbnRlck9mVm9sdW1lID0gdGhpcy5fc2hpcFByb3h5LnBvc2l0aW9uO1xyXG4gICAgdGhpcy5fY2h1bmtDdHJsLnVwZGF0ZSh0aGlzLmNlbnRlck9mVm9sdW1lKTtcclxuICB9XHJcblxyXG4gIGRlc3Ryb3lTaGlwKCkge1xyXG4gICAgLy8gVXBkYXRlIHRoZSBjYW1lcmEgdGFyZ2V0LCBzaW5jZSB3ZSdyZSByZW1vdmluZyB0aGUgc2hpcC5cclxuICAgIHRoaXMuX3NoaXBEZXN0cm95ZWRDYW1lcmFUYXJnZXQgPSBuZXcgU2hpcERlc3Ryb3llZENhbWVyYVRhcmdldCh0aGlzLl9zaGlwQ3RybCk7XHJcbiAgICB0aGlzLl9zdGFydE1vZGVsQ29udHJvbGxlcih0aGlzLl9zaGlwRGVzdHJveWVkQ2FtZXJhVGFyZ2V0KS50aGVuKCgpID0+IHtcclxuICAgICAgdGhpcy5fc2hpcFByb3h5ID0gdGhpcy5fc2hpcERlc3Ryb3llZENhbWVyYVRhcmdldDtcclxuICAgICAgdGhpcy5fY3JlYXRlQ2FtZXJhKCk7XHJcbiAgICAgIHRoaXMuX29uTW9kZWxDb250cm9sbGVyRGVzdHJveWVkKHRoaXMuX3NoaXBDdHJsKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIFRPRE86IFRyaWdnZXIgZXhwbG9zaW9uIGFuaW1hdGlvbi5cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7SW5wdXRDb250cm9sbGVyfSBpbnB1dEN0cmxcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cclxuICAgKi9cclxuICBfY3JlYXRlTW9kZWxDb250cm9sbGVycyhpbnB1dEN0cmwpIHtcclxuICAgIGNvbnN0IGdldFdvcmxkVHJhbnNmb3JtID0gKCkgPT4gdGhpcy53b3JsZFRyYW5zZm9ybTtcclxuICAgIGNvbnN0IGdldENhbWVyYVBvc2l0aW9uID0gKCkgPT4gdGhpcy5fY2FtZXJhLnBvc2l0aW9uO1xyXG4gICAgY29uc3QgZ2V0U2hpcFBvc2l0aW9uID0gKCkgPT4gdGhpcy5fc2hpcFByb3h5LnBvc2l0aW9uO1xyXG4gICAgY29uc3QgZ2V0U2hpcFZlbG9jaXR5ID0gKCkgPT4gdGhpcy5fc2hpcFByb3h5LnZlbG9jaXR5O1xyXG4gICAgY29uc3QgbW9kZWxDb250cm9sbGVyUGFyYW1zID0ge1xyXG4gICAgICBnbDogdGhpcy5fZ2wsXHJcbiAgICAgIGdldFZpZXdNYXRyaXg6IHRoaXMuX2dldFZpZXdNYXRyaXgsXHJcbiAgICAgIGdldFByb2plY3Rpb25NYXRyaXg6IHRoaXMuX2dldFByb2plY3Rpb25NYXRyaXgsXHJcbiAgICAgIGdldFBhcmVudFdvcmxkVHJhbnNmb3JtOiBnZXRXb3JsZFRyYW5zZm9ybSxcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5fYXN0ZXJvaWRzQ3RybCA9IG5ldyBBc3Rlcm9pZHNDb250cm9sbGVyKHNoYWxsb3dDb3B5KG1vZGVsQ29udHJvbGxlclBhcmFtcyksXHJcbiAgICAgIHRoaXMuX2dhbWVDdHJsLnNjb3JlQ3RybCwgZ2V0U2hpcFBvc2l0aW9uLCBnZXRTaGlwVmVsb2NpdHkpO1xyXG4gICAgdGhpcy5fdG9ycGVkb2VzQ3RybCA9IG5ldyBUb3JwZWRvZXNDb250cm9sbGVyKHNoYWxsb3dDb3B5KG1vZGVsQ29udHJvbGxlclBhcmFtcyksXHJcbiAgICAgIGdldFNoaXBQb3NpdGlvbik7XHJcbiAgICB0aGlzLl9zaGlwQ3RybCA9XHJcbiAgICAgIG5ldyBTaGlwQ29udHJvbGxlcihzaGFsbG93Q29weShtb2RlbENvbnRyb2xsZXJQYXJhbXMpLCBpbnB1dEN0cmwsIHRoaXMuX2dhbWVDdHJsLmhlYWx0aEN0cmwsXHJcbiAgICAgICAgdGhpcy5fdG9ycGVkb2VzQ3RybCk7XHJcbiAgICB0aGlzLl9zaGlwUHJveHkgPSB0aGlzLl9zaGlwQ3RybDtcclxuICAgIHRoaXMuX3N0YXJzQ3RybCA9IG5ldyBTdGFyc0NvbnRyb2xsZXIoc2hhbGxvd0NvcHkobW9kZWxDb250cm9sbGVyUGFyYW1zKSwgZ2V0Q2FtZXJhUG9zaXRpb24pO1xyXG4gICAgLy8gVE9ET1xyXG4gICAgLy8gdGhpcy5fdWZvc0N0cmwgPSBuZXcgVWZvc0NvbnRyb2xsZXIobW9kZWxDb250cm9sbGVyUGFyYW1zLCBnZXRTaGlwUG9zaXRpb24sIGdldFNoaXBWZWxvY2l0eSxcclxuICAgIC8vICAgICB0aGlzLl90b3JwZWRvZXNDdHJsKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5fc3RhcnRNb2RlbENvbnRyb2xsZXJzKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIF9zdGFydE1vZGVsQ29udHJvbGxlcnMoKSB7XHJcbiAgICBjb25zdCBtb2RlbEN0cmxzID0gW1xyXG4gICAgICB0aGlzLl9hc3Rlcm9pZHNDdHJsLFxyXG4gICAgICB0aGlzLl90b3JwZWRvZXNDdHJsLFxyXG4gICAgICB0aGlzLl9zaGlwQ3RybCxcclxuICAgICAgdGhpcy5fc3RhcnNDdHJsLFxyXG4gICAgICAvLyB0aGlzLl91Zm9zQ3RybCxcclxuICAgIF07XHJcblxyXG4gICAgcmV0dXJuIFByb21pc2UuYWxsKG1vZGVsQ3RybHMubWFwKG1vZGVsQ3RybCA9PiB0aGlzLl9zdGFydE1vZGVsQ29udHJvbGxlcihtb2RlbEN0cmwpKSlcclxuICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2NodW5rTGlzdGVuZXJzLnB1c2godGhpcy5fc3RhcnNDdHJsKTtcclxuICAgICAgICB0aGlzLl9jaHVua0N0cmwucmVzZXQodGhpcy5jZW50ZXJPZlZvbHVtZSk7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgX2NyZWF0ZUNodW5rQ29udHJvbGxlcigpIHtcclxuICAgIHRoaXMuX2NodW5rQ3RybCA9IG5ldyBDaHVua0NvbnRyb2xsZXIoXHJcbiAgICAgIHRoaXMuY2VudGVyT2ZWb2x1bWUsXHJcbiAgICAgIHNjZW5lQ29uZmlnLmNodW5rU2lkZUxlbmd0aCxcclxuICAgICAgc2NlbmVDb25maWcuY2h1bmtDb3VudE9uQVNpZGUsXHJcbiAgICAgIHRoaXMuX2NodW5rTGlzdGVuZXJzKTtcclxuICB9XHJcblxyXG4gIF9jcmVhdGVDYW1lcmEoKSB7XHJcbiAgICAvLyBHZXQgdGhlIGNsYXNzIGZvciB0aGUgY3VycmVudGx5IHNlbGVjdGVkIGNhbWVyYSB0eXBlLlxyXG4gICAgY29uc3QgY2FtZXJhVHlwZSA9IGNhbWVyYUNvbmZpZy5jYW1lcmFUeXBlIGluc3RhbmNlb2YgT2JqZWN0ID9cclxuICAgICAgY2FtZXJhQ29uZmlnLmNhbWVyYVR5cGUuc3RhcnQgOiBjYW1lcmFDb25maWcuY2FtZXJhVHlwZTtcclxuICAgIGNvbnN0IGNhbWVyYUNsYXNzID0gY2FtZXJhVHlwZU1hcFtjYW1lcmFUeXBlXTtcclxuICAgIGNvbnN0IGNhbWVyYVRhcmdldCA9IHRoaXMuX2NyZWF0ZUNhbWVyYVRhcmdldCgpO1xyXG5cclxuICAgIGNvbnN0IGNhbWVyYVR5cGVUb0ZhY3RvcnkgPSB7XHJcbiAgICAgICdmaXJzdFBlcnNvbic6ICgpID0+XHJcbiAgICAgICAgbmV3IGNhbWVyYUNsYXNzKGNhbWVyYVRhcmdldCwgZmlyc3RQZXJzb25DYW1lcmFDb25maWcsIGNhbWVyYUNvbmZpZyxcclxuICAgICAgICAgIHRoaXMuX2NhbWVyYSksXHJcbiAgICAgICd0aGlyZFBlcnNvblNwcmluZyc6ICgpID0+XHJcbiAgICAgICAgbmV3IGNhbWVyYUNsYXNzKGNhbWVyYVRhcmdldCwgZm9sbG93Q2FtZXJhQ29uZmlnLCBjYW1lcmFDb25maWcsIHRoaXMuX2NhbWVyYSksXHJcbiAgICAgICd0aGlyZFBlcnNvbkZpeGVkJzogKCkgPT5cclxuICAgICAgICBuZXcgY2FtZXJhQ2xhc3MoY2FtZXJhVGFyZ2V0LCBmb2xsb3dDYW1lcmFDb25maWcsIGNhbWVyYUNvbmZpZywgdGhpcy5fY2FtZXJhKSxcclxuICAgICAgJ2ZpeGVkJzogKCkgPT4gbmV3IGNhbWVyYUNsYXNzKGZpeGVkQ2FtZXJhQ29uZmlnLCBjYW1lcmFDb25maWcsIHRoaXMuX2NhbWVyYSksXHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuX2NhbWVyYSA9IGNhbWVyYVR5cGVUb0ZhY3RvcnlbY2FtZXJhVHlwZV0oKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfVxyXG4gICAqL1xyXG4gIGdldElzUmVhZHkoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5faXNSZWFkeVByb21pc2U7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAcmV0dXJucyB7Q2FtZXJhVGFyZ2V0fVxyXG4gICAqIEBwcml2YXRlXHJcbiAgICovXHJcbiAgX2NyZWF0ZUNhbWVyYVRhcmdldCgpIHtcclxuICAgIGNvbnN0IHNoaXBQcm94eSA9IHRoaXMuX3NoaXBQcm94eTtcclxuXHJcbiAgICAvLyBDcmVhdGUgYSBwcm94eSBvYmplY3QgdG8gdHJhbnNsYXRlIFwicG9zaXRpb25cIiB0byBcInJlbmRlclBvc2l0aW9uXCIgYW5kIFwib3JpZW50YXRpb25cIiB0b1xyXG4gICAgLy8gXCJyZW5kZXJPcmllbnRhdGlvblwiLlxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgZ2V0IHBvc2l0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiBzaGlwUHJveHkucmVuZGVyUG9zaXRpb247XHJcbiAgICAgIH0sXHJcbiAgICAgIGdldCBvcmllbnRhdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gc2hpcFByb3h5LnJlbmRlck9yaWVudGF0aW9uO1xyXG4gICAgICB9LFxyXG4gICAgICBnZXQgd29ybGRUcmFuc2Zvcm0oKSB7XHJcbiAgICAgICAgcmV0dXJuIHNoaXBQcm94eS53b3JsZFRyYW5zZm9ybTtcclxuICAgICAgfSxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvLyBUT0RPOiBBZGQgY29uZmlnc1xyXG5cclxuICBfY3JlYXRlQ29uZmlnQ29udHJvbGxlcigpIHtcclxuICAgIGNvbmZpZ0NvbnRyb2xsZXIuY3JlYXRlRm9sZGVyKGFzdGVyb2lkc0ZvbGRlckNvbmZpZywgbnVsbCwge1xyXG4gICAgICAndGV4dHVyZVBhdGgnOiAoKSA9PiB0aGlzLl91cGRhdGVBc3Rlcm9pZHNUZXh0dXJlKCksXHJcbiAgICAgICdzaGFkZXJQcm9ncmFtJzogKCkgPT4gdGhpcy5fdXBkYXRlQXN0ZXJvaWRzUHJvZ3JhbVdyYXBwZXIoKSxcclxuICAgIH0pO1xyXG4gICAgY29uZmlnQ29udHJvbGxlci5jcmVhdGVGb2xkZXIodG9ycGVkb2VzRm9sZGVyQ29uZmlnLCBudWxsLCB7XHJcbiAgICAgICdzaGFkZXJQcm9ncmFtJzogKCkgPT4gdGhpcy5fdXBkYXRlVG9ycGVkb2VzUHJvZ3JhbVdyYXBwZXIoKSxcclxuICAgIH0pO1xyXG4gICAgY29uZmlnQ29udHJvbGxlci5jcmVhdGVGb2xkZXIoc2hpcEZvbGRlckNvbmZpZywgbnVsbCwge1xyXG4gICAgICAndGV4dHVyZVBhdGgnOiAoKSA9PiB0aGlzLl91cGRhdGVTaGlwVGV4dHVyZSgpLFxyXG4gICAgICAnc2hhZGVyUHJvZ3JhbSc6ICgpID0+IHRoaXMuX3VwZGF0ZVNoaXBQcm9ncmFtV3JhcHBlcigpLFxyXG4gICAgfSk7XHJcbiAgICAvLyBjb25maWdDb250cm9sbGVyLmNyZWF0ZUZvbGRlcih1Zm9zRm9sZGVyQ29uZmlnLCBudWxsLFxyXG4gICAgLy8gICAndGV4dHVyZVBhdGgnOiAoKSA9PiB0aGlzLl91cGRhdGVVZm9zVGV4dHVyZSgpLFxyXG4gICAgLy8gICAnc2hhZGVyUHJvZ3JhbSc6ICgpID0+IHRoaXMuX3VwZGF0ZVVmb3NQcm9ncmFtV3JhcHBlcigpLFxyXG4gICAgLy8gfSk7XHJcbiAgICBjb25maWdDb250cm9sbGVyLmNyZWF0ZUZvbGRlcihzdGFyc0ZvbGRlckNvbmZpZyk7XHJcbiAgICBjb25maWdDb250cm9sbGVyLmNyZWF0ZUZvbGRlcihwaHlzaWNzRm9sZGVyQ29uZmlnKTtcclxuXHJcbiAgICBjb25zdCBzZXRDYW1lcmFQZXJzcGVjdGl2ZSA9XHJcbiAgICAgICAgKCkgPT4gdGhpcy5fY2FtZXJhLl9zZXRQZXJzcGVjdGl2ZShjYW1lcmFDb25maWcuZm92WSwgY2FtZXJhQ29uZmlnLmRlZmF1bHRBc3BlY3RSYXRpbyxcclxuICAgICAgICAgICAgY2FtZXJhQ29uZmlnLl96TmVhciwgY2FtZXJhQ29uZmlnLl96RmFyKTtcclxuICAgIGNvbmZpZ0NvbnRyb2xsZXIuY3JlYXRlRm9sZGVyKGNhbWVyYUZvbGRlckNvbmZpZywgbnVsbCwge1xyXG4gICAgICAnZm92WSc6IHNldENhbWVyYVBlcnNwZWN0aXZlLFxyXG4gICAgICAnZGVmYXVsdEFzcGVjdFJhdGlvJzogc2V0Q2FtZXJhUGVyc3BlY3RpdmUsXHJcbiAgICAgICdjYW1lcmFUeXBlJzogKCkgPT4gdGhpcy5fY3JlYXRlQ2FtZXJhKCksXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIF91cGRhdGVBc3Rlcm9pZHNUZXh0dXJlKCkge1xyXG4gICAgaWYgKHRoaXMuX2FzdGVyb2lkc0N0cmwpIHtcclxuICAgICAgdGhpcy5fYXN0ZXJvaWRzQ3RybC51cGRhdGVUZXh0dXJlKGFzdGVyb2lkc0NvbmZpZy50ZXh0dXJlUGF0aCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfdXBkYXRlU2hpcFRleHR1cmUoKSB7XHJcbiAgICBpZiAodGhpcy5fc2hpcEN0cmwpIHtcclxuICAgICAgdGhpcy5fc2hpcEN0cmwudXBkYXRlVGV4dHVyZShzaGlwQ29uZmlnLnRleHR1cmVQYXRoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF91cGRhdGVVZm9zVGV4dHVyZSgpIHtcclxuICAgIGlmICh0aGlzLl91Zm9zQ3RybCkge1xyXG4gICAgICB0aGlzLl91Zm9zQ3RybC51cGRhdGVUZXh0dXJlKHVmb3NDb25maWcudGV4dHVyZVBhdGgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX3VwZGF0ZUFzdGVyb2lkc1Byb2dyYW1XcmFwcGVyKCkge1xyXG4gICAgaWYgKHRoaXMuX2FzdGVyb2lkc0N0cmwpIHtcclxuICAgICAgdGhpcy5fYXN0ZXJvaWRzQ3RybC51cGRhdGVQcm9ncmFtV3JhcHBlcihhc3Rlcm9pZHNDb25maWcuc2hhZGVyUHJvZ3JhbSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfdXBkYXRlU2hpcFByb2dyYW1XcmFwcGVyKCkge1xyXG4gICAgaWYgKHRoaXMuX3NoaXBDdHJsKSB7XHJcbiAgICAgIHRoaXMuX3NoaXBDdHJsLnVwZGF0ZVByb2dyYW1XcmFwcGVyKHNoaXBDb25maWcuc2hhZGVyUHJvZ3JhbSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfdXBkYXRlVG9ycGVkb2VzUHJvZ3JhbVdyYXBwZXIoKSB7XHJcbiAgICBpZiAodGhpcy5fdG9ycGVkb2VzQ3RybCkge1xyXG4gICAgICB0aGlzLl90b3JwZWRvZXNDdHJsLnVwZGF0ZVByb2dyYW1XcmFwcGVyKHRvcnBlZG9lc0NvbmZpZy5zaGFkZXJQcm9ncmFtKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF91cGRhdGVVZm9zUHJvZ3JhbVdyYXBwZXIoKSB7XHJcbiAgICBpZiAodGhpcy5fdWZvc0N0cmwpIHtcclxuICAgICAgdGhpcy5fdWZvc0N0cmwudXBkYXRlUHJvZ3JhbVdyYXBwZXIodWZvc0NvbmZpZy5zaGFkZXJQcm9ncmFtKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7IFNjZW5lSW1wbCB9O1xyXG4iLCJpbXBvcnQge1xyXG4gIGFwcGx5QW5ndWxhckRyYWcsXHJcbiAgSW52aXNpYmxlTW9kZWxDb250cm9sbGVyLFxyXG4gIFBoeXNpY3NKb2IsXHJcbiAgUGh5c2ljc01vZGVsQ29udHJvbGxlcixcclxuICBQaHlzaWNzU3RhdGUsXHJcbn0gZnJvbSAnZ2FtZXgnO1xyXG5pbXBvcnQge3BoeXNpY3NDb25maWd9IGZyb20gJy4uLy4uLy4uL2NvbmZpZyc7XHJcblxyXG4vKipcclxuICogVGhpcyBjb250cm9sbGVyIHJlbmRlcnMgbm90aGluZyBidXQgZG9lcyBjb250aW51ZSB0byB1cGRhdGUgaXRzIHN0YXRlLCBzbyB0aGF0IGl0IGNhbiBzZXJ2ZSBhcyBhXHJcbiAqIGNhbWVyYSB0YXJnZXQgYWZ0ZXIgdGhlIHNoaXAgaGFzIGJlZW4gZGVzdHJveWVkLlxyXG4gKlxyXG4gKiBJdCdzIGluaXRpYWwgc3RhdGUgaXMgYmFzZWQgb24gdGhlIHNoaXAncyBsYXN0IHN0YXRlLlxyXG4gKi9cclxuY2xhc3MgU2hpcERlc3Ryb3llZENhbWVyYVRhcmdldCBleHRlbmRzIFBoeXNpY3NNb2RlbENvbnRyb2xsZXIge1xyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7U2hpcENvbnRyb2xsZXJ9IHNoaXBDdHJsXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc2hpcEN0cmwpIHtcclxuICAgIC8vIFVzZSBhbiBpbnZpc2libGUgbW9kZWwgY29udHJvbGxlciB0aGF0IG1haW50YWlucyBzdGF0ZSwgYnV0IHJlbmRlcnMgbm90aGluZy5cclxuICAgIGNvbnN0IG1vZGVsQ3RybFBhcmFtcyA9IHtcclxuICAgICAgZ2w6IHNoaXBDdHJsLm1vZGVsQ3RybC5fZ2wsXHJcbiAgICAgIGdldFZpZXdNYXRyaXg6IHNoaXBDdHJsLm1vZGVsQ3RybC5fZ2V0Vmlld01hdHJpeCxcclxuICAgICAgZ2V0UHJvamVjdGlvbk1hdHJpeDogc2hpcEN0cmwubW9kZWxDdHJsLl9nZXRQcm9qZWN0aW9uTWF0cml4LFxyXG4gICAgICBnZXRQYXJlbnRXb3JsZFRyYW5zZm9ybTogc2hpcEN0cmwubW9kZWxDdHJsLl9nZXRQYXJlbnRXb3JsZFRyYW5zZm9ybSxcclxuICAgIH07XHJcbiAgICBjb25zdCBtb2RlbEN0cmwgPSBuZXcgSW52aXNpYmxlTW9kZWxDb250cm9sbGVyKG1vZGVsQ3RybFBhcmFtcyk7XHJcblxyXG4gICAgLy8gQ29weSB0aGUgc2hpcCdzIGxhc3Qgc3RhdGUuXHJcbiAgICBjb25zdCBwaHlzaWNzSm9iID0gbmV3IFBoeXNpY3NKb2IoKTtcclxuICAgIHBoeXNpY3NKb2IuY3VycmVudFN0YXRlID0gbmV3IFBoeXNpY3NTdGF0ZShzaGlwQ3RybC5waHlzaWNzSm9iLmN1cnJlbnRTdGF0ZSk7XHJcbiAgICBwaHlzaWNzSm9iLnByZXZpb3VzU3RhdGUgPSBuZXcgUGh5c2ljc1N0YXRlKHNoaXBDdHJsLnBoeXNpY3NKb2IucHJldmlvdXNTdGF0ZSk7XHJcbiAgICBwaHlzaWNzSm9iLnJlbmRlclN0YXRlID0gbmV3IFBoeXNpY3NTdGF0ZShzaGlwQ3RybC5waHlzaWNzSm9iLnJlbmRlclN0YXRlKTtcclxuXHJcbiAgICBjb25zdCBmb3JjZUFwcGxpZXJzID0gW1xyXG4gICAgICBhcHBseUFuZ3VsYXJEcmFnLmJpbmQobnVsbCwgcGh5c2ljc0NvbmZpZyksXHJcbiAgICBdO1xyXG5cclxuICAgIHN1cGVyKG1vZGVsQ3RybCwgcGh5c2ljc0pvYiwgdW5kZWZpbmVkLCBmb3JjZUFwcGxpZXJzKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7IFNoaXBEZXN0cm95ZWRDYW1lcmFUYXJnZXQgfTtcclxuIiwiaW1wb3J0IHtyZW5kZXJhYmxlU2hhcGVGYWN0b3J5fSBmcm9tICdnYW1leCc7XHJcbmltcG9ydCB7c2hpcFJlbmRlcmFibGVTaGFwZUZhY3Rvcnl9IGZyb20gJy4vc3JjL3NoaXAtc2hhcGUtY29uZmlnJztcclxuaW1wb3J0IHtzaGlwRm9yd2FyZFRocnVzdGVyUmVuZGVyYWJsZVNoYXBlRmFjdG9yeX0gZnJvbSAnLi9zcmMvc2hpcC1mb3J3YXJkLXRocnVzdGVyLXNoYXBlLWNvbmZpZyc7XHJcblxyXG5leHBvcnQgKiBmcm9tICcuL3NyYy9zaGlwLWNvbmZpZyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vc3JjL3NoaXAtY29udHJvbGxlcic7XHJcbmV4cG9ydCAqIGZyb20gJy4vc3JjL3NoaXAtc2hhcGUtY29uZmlnJztcclxuXHJcbnJlbmRlcmFibGVTaGFwZUZhY3RvcnkucmVnaXN0ZXJSZW5kZXJhYmxlU2hhcGVGYWN0b3J5KHNoaXBSZW5kZXJhYmxlU2hhcGVGYWN0b3J5KTtcclxucmVuZGVyYWJsZVNoYXBlRmFjdG9yeS5yZWdpc3RlclJlbmRlcmFibGVTaGFwZUZhY3Rvcnkoc2hpcEZvcndhcmRUaHJ1c3RlclJlbmRlcmFibGVTaGFwZUZhY3RvcnkpO1xyXG4iLCIvKipcclxuICogVGhpcyBtb2R1bGUgaGFuZGxlcyBjb25maWd1cmF0aW9uIHBhcmFtZXRlcnMgcmVsYXRpbmcgdG8gdGhlIHNoaXAgbW9kZWwuXHJcbiAqL1xyXG5cclxuY29uc3Qgc2hpcENvbmZpZyA9IHt9O1xyXG5cclxuc2hpcENvbmZpZy5zaGFkZXJQcm9ncmFtID0gJ2dlbmVyYWwtbW9kZWwtcHJvZ3JhbSc7XHJcbnNoaXBDb25maWcudGV4dHVyZVBhdGggPSAnaW1hZ2VzL3RleHR1cmVzL21ldGFsL21ldGFsNC5wbmcnO1xyXG5cclxuc2hpcENvbmZpZy5zaGlwV2lkdGggPSB7XHJcbiAgc3RhcnQ6IDEuMixcclxuICBtaW46IDAuMSxcclxuICBtYXg6IDEwLFxyXG59O1xyXG5zaGlwQ29uZmlnLnNoaXBMZW5ndGggPSB7XHJcbiAgc3RhcnQ6IDEuNyxcclxuICBtaW46IDAuMSxcclxuICBtYXg6IDEwLFxyXG59O1xyXG5zaGlwQ29uZmlnLnNoaXBEZXB0aCA9IHtcclxuICBzdGFydDogMC40LFxyXG4gIG1pbjogMC4xLFxyXG4gIG1heDogMTAsXHJcbn07XHJcbnNoaXBDb25maWcuc2hpcFJlYXJXaW5nRXh0ZW5zaW9uTGVuZ3RoID0ge1xyXG4gIHN0YXJ0OiAwLjUsXHJcbiAgbWluOiAtNCxcclxuICBtYXg6IDQsXHJcbn07XHJcblxyXG5zaGlwQ29uZmlnLmZvcndhcmRUaHJ1c3RBY2NlbGVyYXRpb25NYWduaXR1ZGUgPSB7XHJcbiAgc3RhcnQ6IDAuMDAwMDI1LFxyXG4gIG1pbjogMC4wMDAwMDEsXHJcbiAgbWF4OiAwLjAwMDUsXHJcbn07XHJcbnNoaXBDb25maWcucGl0Y2hBbmd1bGFyQWNjZWxlcmF0aW9uID0ge1xyXG4gIHN0YXJ0OiAwLjAwMDAwOCxcclxuICBtaW46IDAuMDAwMDAxLFxyXG4gIG1heDogMC4wMDAxLFxyXG59O1xyXG5zaGlwQ29uZmlnLnlhd0FuZ3VsYXJBY2NlbGVyYXRpb24gPSB7XHJcbiAgc3RhcnQ6IDAuMDAwMDA4LFxyXG4gIG1pbjogMC4wMDAwMDEsXHJcbiAgbWF4OiAwLjAwMDEsXHJcbn07XHJcblxyXG5zaGlwQ29uZmlnLnNsb3dkb3duQWNjZWxlcmF0aW9uID0ge1xyXG4gIHN0YXJ0OiAwLjAwMDA4LFxyXG4gIG1pbjogMC4wLFxyXG4gIG1heDogMC4wMDUsXHJcbn07XHJcbnNoaXBDb25maWcuYW5ndWxhclNsb3dkb3duQWNjZWxlcmF0aW9uID0ge1xyXG4gIHN0YXJ0OiAwLjAwMDAwOCxcclxuICBtaW46IDAuMCxcclxuICBtYXg6IDAuMDAwNSxcclxufTtcclxuXHJcbnNoaXBDb25maWcubWF4U3BlZWQgPSB7XHJcbiAgc3RhcnQ6IDAuMDk1LFxyXG4gIG1pbjogMC4wMDEsXHJcbiAgbWF4OiAxLjAsXHJcbn07XHJcbnNoaXBDb25maWcubWF4QW5ndWxhclNwZWVkID0ge1xyXG4gIHN0YXJ0OiAwLjAwOTUsXHJcbiAgbWluOiAwLjAwMDEsXHJcbiAgbWF4OiAwLjEsXHJcbn07XHJcblxyXG5zaGlwQ29uZmlnLm1hc3MgPSB7XHJcbiAgc3RhcnQ6IDEsXHJcbiAgbWluOiAwLFxyXG4gIG1heDogMTAwLFxyXG59O1xyXG5cclxuc2hpcENvbmZpZy50b3JwZWRvU3BlZWQgPSB7XHJcbiAgc3RhcnQ6IDAuMyxcclxuICBtaW46IDAuMDMsXHJcbiAgbWF4OiAzLjAsXHJcbn07XHJcbnNoaXBDb25maWcudG9ycGVkb0xlbmd0aCA9IHtcclxuICBzdGFydDogNi4wLFxyXG4gIG1pbjogMC4wMSxcclxuICBtYXg6IDMwLjAsXHJcbn07XHJcbnNoaXBDb25maWcudG9ycGVkb1dpZHRoID0ge1xyXG4gIHN0YXJ0OiAwLjgsXHJcbiAgbWluOiAwLjAxLFxyXG4gIG1heDogNS4wLFxyXG59O1xyXG5zaGlwQ29uZmlnLnRvcnBlZG9Db2xvciA9IHtcclxuICBoOiAwLjI5LFxyXG4gIHM6IDAuOTksXHJcbiAgbDogMC42LFxyXG59O1xyXG5cclxuc2hpcENvbmZpZy5mb3J3YXJkVGhydXN0ZXJTaGFkZXJQcm9ncmFtID0gJ2ZsYXQtY29sb3ItcHJvZ3JhbSc7XHJcblxyXG5zaGlwQ29uZmlnLmZvcndhcmRUaHJ1c3RlckNvbG9yID0ge1xyXG4gIGg6IDAuNTUsXHJcbiAgczogMC45OSxcclxuICBsOiAwLjksXHJcbn07XHJcbnNoaXBDb25maWcuZm9yd2FyZFRocnVzdGVyQ29sb3JBbHBoYSA9IHtcclxuICBzdGFydDogMC45NSxcclxuICBtaW46IDAuMDEsXHJcbiAgbWF4OiAxLFxyXG59O1xyXG5cclxuc2hpcENvbmZpZy5mb3J3YXJkVGhydXN0ZXJNYXJnaW5SYXRpbyA9IHtcclxuICBzdGFydDogMC43LFxyXG4gIG1pbjogMC4wMSxcclxuICBtYXg6IDIsXHJcbn07XHJcbnNoaXBDb25maWcuZm9yd2FyZFRocnVzdGVyTGVuZ3RoID0ge1xyXG4gIHN0YXJ0OiAwLjUsXHJcbiAgbWluOiAwLFxyXG4gIG1heDogMTAsXHJcbn07XHJcblxyXG5zaGlwQ29uZmlnLl9zaG9vdFRvcnBlZG9UaHJvdHRsZURlbGF5ID0gMTUwO1xyXG5cclxuY29uc3Qgc2hpcEZvbGRlckNvbmZpZyA9IHtcclxuICBsYWJlbDogJ1NoaXAnLFxyXG4gIGNvbmZpZzogc2hpcENvbmZpZyxcclxuICBpc09wZW46IGZhbHNlXHJcbn07XHJcblxyXG5leHBvcnQge3NoaXBDb25maWcsIHNoaXBGb2xkZXJDb25maWd9O1xyXG4iLCJpbXBvcnQge1xyXG4gIGFwcGx5QW5ndWxhckRyYWcsXHJcbiAgYXBwbHlMaW5lYXJEcmFnLFxyXG4gIGNyZWF0ZUJveEluZXJ0aWFUZW5zb3IsXHJcbiAgRVBTSUxPTixcclxuICBnZXRPdGhlckNvbnRyb2xsZXJGcm9tQ29sbGlzaW9uLFxyXG4gIHNoYWxsb3dDb3B5LFxyXG4gIENvbGxpZGFibGVQaHlzaWNzTW9kZWxDb250cm9sbGVyLFxyXG4gIHRocm90dGxlLFxyXG59XHJcbmZyb20gJ2dhbWV4JztcclxuXHJcbmltcG9ydCB7XHJcbiAgaW5wdXRDb25maWcsXHJcbiAgcGh5c2ljc0NvbmZpZyxcclxufVxyXG5mcm9tICcuLi8uLi8uLi9jb25maWcnO1xyXG5cclxuaW1wb3J0IHsgc2hpcENvbmZpZyB9IGZyb20gJy4vc2hpcC1jb25maWcnO1xyXG5pbXBvcnQgeyBTaGlwRm9yd2FyZFRocnVzdGVyQ29udHJvbGxlciB9IGZyb20gJy4vc2hpcC1mb3J3YXJkLXRocnVzdGVyLWNvbnRyb2xsZXInO1xyXG5cclxuLyoqXHJcbiAqIFRoaXMgY2xhc3MgY29udHJvbHMgdGhlIHNoaXAuXHJcbiAqL1xyXG5jbGFzcyBTaGlwQ29udHJvbGxlciBleHRlbmRzIENvbGxpZGFibGVQaHlzaWNzTW9kZWxDb250cm9sbGVyIHtcclxuICAvKipcclxuICAgKiBAcGFyYW0ge01vZGVsQ29udHJvbGxlckNvbmZpZ30gbW9kZWxDb250cm9sbGVyUGFyYW1zXHJcbiAgICogQHBhcmFtIHtJbnB1dENvbnRyb2xsZXJ9IGlucHV0Q3RybFxyXG4gICAqIEBwYXJhbSB7SGVhbHRoQ29udHJvbGxlcn0gaGVhbHRoQ3RybFxyXG4gICAqIEBwYXJhbSB7VG9ycGVkb2VzQ29udHJvbGxlcn0gdG9ycGVkb2VzQ3RybFxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKG1vZGVsQ29udHJvbGxlclBhcmFtcywgaW5wdXRDdHJsLCBoZWFsdGhDdHJsLCB0b3JwZWRvZXNDdHJsKSB7XHJcbiAgICBtb2RlbENvbnRyb2xsZXJQYXJhbXMucHJvZ3JhbVdyYXBwZXJJZCA9IHNoaXBDb25maWcuc2hhZGVyUHJvZ3JhbTtcclxuICAgIG1vZGVsQ29udHJvbGxlclBhcmFtcy50ZXh0dXJlUGF0aCA9IHNoaXBDb25maWcudGV4dHVyZVBhdGg7XHJcblxyXG4gICAgY29uc3Qgc2hhcGVQYXJhbXMgPSB7XHJcbiAgICAgIHNoYXBlSWQ6ICdTSElQJyxcclxuICAgICAgY29sbGlkYWJsZVNoYXBlSWQ6ICdTUEhFUkUnLFxyXG4gICAgICBzaGlwV2lkdGg6IHNoaXBDb25maWcuc2hpcFdpZHRoLFxyXG4gICAgICBzaGlwTGVuZ3RoOiBzaGlwQ29uZmlnLnNoaXBMZW5ndGgsXHJcbiAgICAgIHNoaXBEZXB0aDogc2hpcENvbmZpZy5zaGlwRGVwdGgsXHJcbiAgICAgIHNoaXBSZWFyV2luZ0V4dGVuc2lvbkxlbmd0aDogc2hpcENvbmZpZy5zaGlwUmVhcldpbmdFeHRlbnNpb25MZW5ndGgsXHJcbiAgICAgIHNoaXBGb3J3YXJkVGhydXN0ZXJNYXJnaW5SYXRpbzogc2hpcENvbmZpZy5mb3J3YXJkVGhydXN0ZXJNYXJnaW5SYXRpbyxcclxuICAgICAgc2hpcEZvcndhcmRUaHJ1c3Rlckxlbmd0aDogc2hpcENvbmZpZy5mb3J3YXJkVGhydXN0ZXJMZW5ndGgsXHJcbiAgICAgIGlzU3RhdGlvbmFyeTogZmFsc2UsXHJcbiAgICAgIHNjYWxlOiB2ZWMzLmZyb21WYWx1ZXMoMSwgMSwgMSksXHJcbiAgICB9O1xyXG4gICAgY29uc3QgZHluYW1pY3NQYXJhbXMgPSB7XHJcbiAgICAgIG1hc3M6IHNoaXBDb25maWcubWFzcyxcclxuICAgICAgcG9zaXRpb246IHZlYzMuY3JlYXRlKCksXHJcbiAgICAgIG1vbWVudHVtOiBfZ2V0SW5pdGlhbE1vbWVudHVtKCksXHJcbiAgICAgIG9yaWVudGF0aW9uOiBxdWF0LmNyZWF0ZSgpLFxyXG4gICAgICBhbmd1bGFyTW9tZW50dW06IHZlYzMuY3JlYXRlKCksXHJcbiAgICAgIHVucm90YXRlZEluZXJ0aWFUZW5zb3I6IF9jcmVhdGVJbmVydGlhVGVuc29yKHNoYXBlUGFyYW1zKSxcclxuICAgIH07XHJcbiAgICBjb25zdCBmb3JjZUFwcGxpZXJzID0gW1xyXG4gICAgICAob3V0cHV0LCBpbnB1dCkgPT4gdGhpcy5fYXBwbHlTcGluU2xvd2Rvd24ob3V0cHV0LCBpbnB1dCksXHJcbiAgICAgIGFwcGx5TGluZWFyRHJhZy5iaW5kKG51bGwsIHBoeXNpY3NDb25maWcpLFxyXG4gICAgICBhcHBseUFuZ3VsYXJEcmFnLmJpbmQobnVsbCwgcGh5c2ljc0NvbmZpZyksXHJcbiAgICBdO1xyXG5cclxuICAgIHN1cGVyKG1vZGVsQ29udHJvbGxlclBhcmFtcywgZHluYW1pY3NQYXJhbXMsIHNoYXBlUGFyYW1zLCBmb3JjZUFwcGxpZXJzKTtcclxuXHJcbiAgICB0aGlzLl9pbnB1dEN0cmwgPSBpbnB1dEN0cmw7XHJcbiAgICB0aGlzLl9oZWFsdGhDdHJsID0gaGVhbHRoQ3RybDtcclxuICAgIHRoaXMuX3RvcnBlZG9lc0N0cmwgPSB0b3JwZWRvZXNDdHJsO1xyXG4gICAgdGhpcy5fZm9yd2FyZFRocnVzdGVyQ3RybCA9IG51bGw7XHJcbiAgICB0aGlzLl9hY3RpdmVUaHJ1c3RlcnMgPSBudWxsO1xyXG4gICAgdGhpcy5fdGhydXN0ZXJDb25maWcgPSBudWxsO1xyXG4gICAgdGhpcy5faXNTaGlwU3Bpbm5pbmdPdXRPZkNvbnRyb2wgPSBmYWxzZTtcclxuXHJcbiAgICB0aGlzLl9zZXRVcFRocnVzdGVyTW9kZWxDb250cm9sbGVycyhzaGFsbG93Q29weShtb2RlbENvbnRyb2xsZXJQYXJhbXMpKTtcclxuICAgIHRoaXMuX3NldFVwSW5wdXRMaXN0ZW5lcnMoKTtcclxuXHJcbiAgICB0aGlzLl9wYXRjaE1vZGVsQ29udHJvbGxlcih7XHJcbiAgICAgIHVwZGF0ZUNoaWxkcmVuOiAoY3VycmVudFRpbWUsIGRlbHRhVGltZSkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2ZvcndhcmRUaHJ1c3RlckN0cmwudXBkYXRlU2VsZkFuZENoaWxkcmVuKGN1cnJlbnRUaW1lLCBkZWx0YVRpbWUpO1xyXG4gICAgICB9LFxyXG4gICAgICBnZXRJc1JlYWR5OiAoc3VwZXJWZXJzaW9uKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKFtcclxuICAgICAgICAgIHN1cGVyVmVyc2lvbigpLFxyXG4gICAgICAgICAgdGhpcy5fZm9yd2FyZFRocnVzdGVyQ3RybC5nZXRJc1JlYWR5KCksXHJcbiAgICAgICAgXSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtNb2RlbENvbnRyb2xsZXJDb25maWd9IG1vZGVsQ29udHJvbGxlclBhcmFtc1xyXG4gICAqIEBwcml2YXRlXHJcbiAgICovXHJcbiAgX3NldFVwVGhydXN0ZXJNb2RlbENvbnRyb2xsZXJzKG1vZGVsQ29udHJvbGxlclBhcmFtcykge1xyXG4gICAgbW9kZWxDb250cm9sbGVyUGFyYW1zLmdldFBhcmVudFdvcmxkVHJhbnNmb3JtID0gKCkgPT4gdGhpcy5tb2RlbEN0cmwuX3dvcmxkVHJhbnNmb3JtO1xyXG5cclxuICAgIGNvbnN0IGdldElzRm9yd2FyZFRocnVzdGVyQWN0aXZlID0gKCkgPT4gdGhpcy5fYWN0aXZlVGhydXN0ZXJzLmhhcygnZm9yd2FyZCcpO1xyXG4gICAgdGhpcy5fZm9yd2FyZFRocnVzdGVyQ3RybCA9XHJcbiAgICAgIG5ldyBTaGlwRm9yd2FyZFRocnVzdGVyQ29udHJvbGxlcihtb2RlbENvbnRyb2xsZXJQYXJhbXMsIGdldElzRm9yd2FyZFRocnVzdGVyQWN0aXZlKTtcclxuXHJcbiAgICAvLyBUT0RPOiBDcmVhdGUgdGhlIHBpdGNoIGFuZCBhemltdXRoIHRocnVzdGVyIG1vZGVsc1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQHByaXZhdGVcclxuICAgKi9cclxuICBfc2V0VXBJbnB1dExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX3NldFVwVGhydXN0ZXJzKCk7XHJcbiAgICBjb25zdCB0aHJvdHRsZWRTaG9vdFRvcnBlZG8gPVxyXG4gICAgICB0aHJvdHRsZSgoKSA9PiB0aGlzLl9zaG9vdFRvcnBlZG8oKSwgc2hpcENvbmZpZy5fc2hvb3RUb3JwZWRvVGhyb3R0bGVEZWxheSwgdHJ1ZSk7XHJcbiAgICB0aGlzLl9pbnB1dEN0cmwuYWRkS2V5RG93bkxpc3RlbmVyKGlucHV0Q29uZmlnLnNoaXBTaG9vdFRvcnBlZG9LZXksXHJcbiAgICAgIHRocm90dGxlZFNob290VG9ycGVkbyk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIF9zaG9vdFRvcnBlZG8oKSB7XHJcbiAgICBjb25zdCBzdGF0ZSA9IHRoaXMucGh5c2ljc0pvYi5jdXJyZW50U3RhdGU7XHJcbiAgICBjb25zdCBzcGhlcmUgPSB0aGlzLnBoeXNpY3NKb2IuY29sbGlkYWJsZTtcclxuXHJcbiAgICBjb25zdCBvcmllbnRhdGlvbiA9IHF1YXQuY2xvbmUoc3RhdGUub3JpZW50YXRpb24pO1xyXG5cclxuICAgIC8vIENhbGN1bGF0ZSB0aGUgdmVsb2NpdHkuXHJcbiAgICBjb25zdCB2ZWxvY2l0eSA9IHZlYzMuZnJvbVZhbHVlcygwLCAwLCAtc2hpcENvbmZpZy50b3JwZWRvU3BlZWQpO1xyXG4gICAgdmVjMy50cmFuc2Zvcm1RdWF0KHZlbG9jaXR5LCB2ZWxvY2l0eSwgb3JpZW50YXRpb24pO1xyXG4gICAgdmVjMy5hZGQodmVsb2NpdHksIHZlbG9jaXR5LCBzdGF0ZS52ZWxvY2l0eSk7XHJcblxyXG4gICAgLy8gQ2FsY3VsYXRlIHRoZSBwb3NpdGlvbi5cclxuICAgIGNvbnN0IHNoaXBTcGVlZCA9IHZlYzMubGVuZ3RoKHN0YXRlLnZlbG9jaXR5KTtcclxuICAgIGNvbnN0IHNoaXBEaXN0YW5jZU5leHRGcmFtZSA9IHNoaXBTcGVlZCAqIHBoeXNpY3NDb25maWcudGltZVN0ZXBEdXJhdGlvbiAqXHJcbiAgICAgIF90b3JwZWRvRGlzdGFuY2VNdWx0aXBsaWVyO1xyXG4gICAgY29uc3QgdG9ycGVkb0Rpc3RhbmNlID1cclxuICAgICAgc3BoZXJlLnJhZGl1cyArIHNoaXBDb25maWcudG9ycGVkb0xlbmd0aCAvIDIgKyBzaGlwRGlzdGFuY2VOZXh0RnJhbWUgKyBFUFNJTE9OO1xyXG4gICAgY29uc3QgcG9zaXRpb24gPSB2ZWMzLmZyb21WYWx1ZXMoMCwgMCwgLXRvcnBlZG9EaXN0YW5jZSk7XHJcbiAgICB2ZWMzLnRyYW5zZm9ybVF1YXQocG9zaXRpb24sIHBvc2l0aW9uLCBvcmllbnRhdGlvbik7XHJcbiAgICB2ZWMzLmFkZChwb3NpdGlvbiwgcG9zaXRpb24sIHNwaGVyZS5jZW50ZXJPZlZvbHVtZSk7XHJcblxyXG4gICAgY29uc3QgdG9ycGVkb1BhcmFtcyA9IHtcclxuICAgICAgcG9zaXRpb246IHBvc2l0aW9uLFxyXG4gICAgICB2ZWxvY2l0eTogdmVsb2NpdHksXHJcbiAgICAgIG9yaWVudGF0aW9uOiBvcmllbnRhdGlvbixcclxuICAgICAgbGVuZ3RoOiBzaGlwQ29uZmlnLnRvcnBlZG9MZW5ndGgsXHJcbiAgICAgIHdpZHRoOiBzaGlwQ29uZmlnLnRvcnBlZG9XaWR0aCxcclxuICAgICAgY29sb3I6IHNoaXBDb25maWcudG9ycGVkb0NvbG9yLnJnYlZlYyxcclxuICAgICAgc291cmNlOiB0aGlzLFxyXG4gICAgfTtcclxuICAgIHRoaXMuX3RvcnBlZG9lc0N0cmwuY3JlYXRlVG9ycGVkbyh0b3JwZWRvUGFyYW1zKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwcml2YXRlXHJcbiAgICovXHJcbiAgX3NldFVwVGhydXN0ZXJzKCkge1xyXG4gICAgdGhpcy5fYWN0aXZlVGhydXN0ZXJzID0gbmV3IFNldCgpO1xyXG5cclxuICAgIHRoaXMuX3RocnVzdGVyQ29uZmlnID0ge1xyXG4gICAgICAnZm9yd2FyZCc6IHtcclxuICAgICAgICBrZXk6IGlucHV0Q29uZmlnLnNoaXBGb3J3YXJkVGhydXN0ZXJLZXksXHJcbiAgICAgICAgZm9yY2VBcHBsaWVyOiBfYXBwbHlGb3J3YXJkVGhydXN0XHJcbiAgICAgIH0sXHJcbiAgICAgICdzdGFiaWxpemVyJzoge1xyXG4gICAgICAgIGtleTogaW5wdXRDb25maWcuc2hpcFN0YWJpbGl6ZXJLZXksXHJcbiAgICAgICAgZm9yY2VBcHBsaWVyOiBfYXBwbHlTdGFiaWxpemVyVGhydXN0XHJcbiAgICAgIH0sXHJcbiAgICAgICdsZWZ0d2FyZFlhdyc6IHtcclxuICAgICAgICBrZXk6IGlucHV0Q29uZmlnLnNoaXBZYXdUaHJ1c3RlckxlZnRLZXksXHJcbiAgICAgICAgZm9yY2VBcHBsaWVyOiBfYXBwbHlZYXdUaHJ1c3QuYmluZCh0aGlzLCB0cnVlKVxyXG4gICAgICB9LFxyXG4gICAgICAncmlnaHR3YXJkWWF3Jzoge1xyXG4gICAgICAgIGtleTogaW5wdXRDb25maWcuc2hpcFlhd1RocnVzdGVyUmlnaHRLZXksXHJcbiAgICAgICAgZm9yY2VBcHBsaWVyOiBfYXBwbHlZYXdUaHJ1c3QuYmluZCh0aGlzLCBmYWxzZSlcclxuICAgICAgfSxcclxuICAgICAgJ3Vwd2FyZFBpdGNoJzoge1xyXG4gICAgICAgIGtleTogaW5wdXRDb25maWcuc2hpcFBpdGNoVGhydXN0ZXJVcEtleSxcclxuICAgICAgICBmb3JjZUFwcGxpZXI6IF9hcHBseVBpdGNoVGhydXN0LmJpbmQodGhpcywgdHJ1ZSlcclxuICAgICAgfSxcclxuICAgICAgJ2Rvd253YXJkUGl0Y2gnOiB7XHJcbiAgICAgICAga2V5OiBpbnB1dENvbmZpZy5zaGlwUGl0Y2hUaHJ1c3RlckRvd25LZXksXHJcbiAgICAgICAgZm9yY2VBcHBsaWVyOiBfYXBwbHlQaXRjaFRocnVzdC5iaW5kKHRoaXMsIGZhbHNlKVxyXG4gICAgICB9LFxyXG4gICAgfTtcclxuXHJcbiAgICBPYmplY3Qua2V5cyh0aGlzLl90aHJ1c3RlckNvbmZpZylcclxuICAgICAgLmZvckVhY2godGhydXN0ZXJOYW1lID0+IHRoaXMucmVnaXN0ZXJUaHJ1c3RlcklucHV0TGlzdGVuZXJzKHRocnVzdGVyTmFtZSkpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IHRocnVzdGVyTmFtZVxyXG4gICAqL1xyXG4gIHJlZ2lzdGVyVGhydXN0ZXJJbnB1dExpc3RlbmVycyh0aHJ1c3Rlck5hbWUpIHtcclxuICAgIGNvbnN0IGtleSA9IHRoaXMuX3RocnVzdGVyQ29uZmlnW3RocnVzdGVyTmFtZV0ua2V5O1xyXG4gICAgdGhpcy5faW5wdXRDdHJsLmFkZEtleURvd25MaXN0ZW5lcihrZXksICgpID0+IHRoaXMuX2FjdGl2YXRlVGhydXN0ZXIodGhydXN0ZXJOYW1lKSk7XHJcbiAgICB0aGlzLl9pbnB1dEN0cmwuYWRkS2V5VXBMaXN0ZW5lcihrZXksICgpID0+IHRoaXMuX2RlYWN0aXZhdGVUaHJ1c3Rlcih0aHJ1c3Rlck5hbWUpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0aHJ1c3Rlck5hbWVcclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIF9hY3RpdmF0ZVRocnVzdGVyKHRocnVzdGVyTmFtZSkge1xyXG4gICAgdGhpcy5waHlzaWNzSm9iLmFkZEZvcmNlQXBwbGllcih0aGlzLl90aHJ1c3RlckNvbmZpZ1t0aHJ1c3Rlck5hbWVdLmZvcmNlQXBwbGllcik7XHJcbiAgICB0aGlzLl9hY3RpdmVUaHJ1c3RlcnMuYWRkKHRocnVzdGVyTmFtZSk7XHJcbiAgICBpZiAodGhydXN0ZXJOYW1lICE9PSAnZm9yd2FyZCcpIHtcclxuICAgICAgdGhpcy5faXNTaGlwU3Bpbm5pbmdPdXRPZkNvbnRyb2wgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIC8vIGNvbnNvbGUuZGVidWcoYFN0YXJ0ZWQgYXBwbHlpbmcgJHt0aHJ1c3Rlck5hbWV9IHRocnVzdGApO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IHRocnVzdGVyTmFtZVxyXG4gICAqIEBwcml2YXRlXHJcbiAgICovXHJcbiAgX2RlYWN0aXZhdGVUaHJ1c3Rlcih0aHJ1c3Rlck5hbWUpIHtcclxuICAgIHRoaXMucGh5c2ljc0pvYi5yZW1vdmVGb3JjZUFwcGxpZXIodGhpcy5fdGhydXN0ZXJDb25maWdbdGhydXN0ZXJOYW1lXS5mb3JjZUFwcGxpZXIpO1xyXG4gICAgdGhpcy5fYWN0aXZlVGhydXN0ZXJzLmRlbGV0ZSh0aHJ1c3Rlck5hbWUpO1xyXG4gICAgLy8gY29uc29sZS5kZWJ1ZyhgU3RvcHBlZCBhcHBseWluZyAke3RocnVzdGVyTmFtZX0gdGhydXN0YCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0ge0ZvcmNlQXBwbGllck91dHB1dH0gb3V0cHV0XHJcbiAgICogQHBhcmFtIHtGb3JjZUFwcGxpZXJJbnB1dH0gaW5wdXRcclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIF9hcHBseVNwaW5TbG93ZG93bihvdXRwdXQsIGlucHV0KSB7XHJcbiAgICAvLyBJZiB0aGUgdXNlciBpcyBjdXJyZW50bHkgdGVsbGluZyB0aGUgc2hpcCB0byByb3RhdGUsIHRoZW4gZG9uJ3Qgc2xvdyB0aGUgc3Bpbi5cclxuICAgIGlmICh0aGlzLl9pc1NoaXBTcGlubmluZ091dE9mQ29udHJvbCB8fCB0aGlzLl9pc1NvbWVTaGlwUm90YXRpb25UaHJ1c3RlckFjdGl2ZSgpKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBfYXBwbHlTcGluU2xvd2Rvd24ob3V0cHV0LCBpbnB1dCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIF9pc1NvbWVTaGlwUm90YXRpb25UaHJ1c3RlckFjdGl2ZSgpIHtcclxuICAgIHJldHVybiAhW1xyXG4gICAgICAnbGVmdHdhcmRZYXcnLFxyXG4gICAgICAncmlnaHR3YXJkWWF3JyxcclxuICAgICAgJ3Vwd2FyZFBpdGNoJyxcclxuICAgICAgJ2Rvd253YXJkUGl0Y2gnLFxyXG4gICAgXS5ldmVyeSh0aHJ1c3RlciA9PiAhdGhpcy5fYWN0aXZlVGhydXN0ZXJzLmhhcyh0aHJ1c3RlcikpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVGhpcyBjYWxsYmFjayBpcyB0cmlnZ2VyZWQgaW4gcmVzcG9uc2UgdG8gYSBjb2xsaXNpb24uXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge0NvbGxpc2lvbn0gY29sbGlzaW9uXHJcbiAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhpcyBuZWVkcyB0aGUgc3RhbmRhcmQgY29sbGlzaW9uIHJlc3RpdHV0aW9uIHRvIHByb2NlZWQuXHJcbiAgICovXHJcbiAgaGFuZGxlQ29sbGlzaW9uKGNvbGxpc2lvbikge1xyXG4gICAgY29uc3Qgb3RoZXIgPSBnZXRPdGhlckNvbnRyb2xsZXJGcm9tQ29sbGlzaW9uKGNvbGxpc2lvbiwgdGhpcyk7XHJcblxyXG4gICAgLy8gSWdub3JlIGNvbGxpc2lvbnMgd2l0aCB0b3JwZWRvZXMgdGhhdCB0aGlzIHNoaXAgY3JlYXRlZCAodGhpcyBzaG91bGRuJ3QgaGFwcGVuLCBidXQgdGhlcmUnc1xyXG4gICAgLy8gYSBidWcgc29tZXdoZXJlKS5cclxuICAgIGlmIChvdGhlci5zb3VyY2UgPT09IHRoaXMpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICB0aGlzLl9pc1NoaXBTcGlubmluZ091dE9mQ29udHJvbCA9IHRydWU7XHJcblxyXG4gICAgY29uc29sZS5kZWJ1ZygnU2hpcCBjb2xsaWRlZCcpO1xyXG5cclxuICAgIC8vIFRPRE86IHRyaWdnZXIgYSBjYW1lcmEgaml0dGVyIGNyYXNoIGFuaW1hdGlvblxyXG5cclxuICAgIHRoaXMuX2hlYWx0aEN0cmwuZGVjcmVtZW50KCk7XHJcblxyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogQHBhcmFtIHtTaGlwU2hhcGVDb25maWd9IHNoYXBlUGFyYW1zXHJcbiAqIEByZXR1cm5zIHttYXQzfVxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gX2NyZWF0ZUluZXJ0aWFUZW5zb3Ioc2hhcGVQYXJhbXMpIHtcclxuICAvLyBUaGlzIGluZXJ0aWEgdGVuc29yIGFzc3VtZXMgdGhlIG9yaWdpbiBpcyBhdCB0aGUgY2VudGVyIG9mIHRoZSBzaGFwZSwgYnV0IHRoZSBzaGlwIHNoYXBlXHJcbiAgLy8gY2FsY3VsYXRlcyBpdHMgb3JpZ2luIG9uIHRoZSBiYWNrIHNpZGUuIEhvd2V2ZXIsIHRoaXMgc2hvdWxkIGhhdmUgdGhlIGVmZmVjdCBvZiBzbGlnaHRseVxyXG4gIC8vIGV4YWdnZXJhdGluZyB0aGUgc3BpbiByZXNwb25zZSBvZiB0aGUgc2hpcCB3aGVuIGl0IGNvbGxpZGVzLCB3aGljaCBJIHRoaW5rIGlzIGRlc2lyYWJsZS5cclxuICByZXR1cm4gY3JlYXRlQm94SW5lcnRpYVRlbnNvcihzaGFwZVBhcmFtcy5zaGlwV2lkdGgsIHNoYXBlUGFyYW1zLnNoaXBMZW5ndGgsXHJcbiAgICBzaGFwZVBhcmFtcy5zaGlwRGVwdGgsIHNoaXBDb25maWcubWFzcyk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBcHBsaWVzIGEgZm9yd2FyZCB0aHJ1c3QgZm9yY2UgaW4gcmVzcG9uc2UgdG8gdXNlciBpbnB1dC5cclxuICpcclxuICogQHBhcmFtIHtGb3JjZUFwcGxpZXJPdXRwdXR9IG91dHB1dFxyXG4gKiBAcGFyYW0ge0ZvcmNlQXBwbGllcklucHV0fSBpbnB1dFxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gX2FwcGx5Rm9yd2FyZFRocnVzdChvdXRwdXQsIGlucHV0KSB7XHJcbiAgLy8gQ3JlYXRlIGFuIGFjY2VsZXJhdGlvbiB2ZWN0b3IuXHJcbiAgY29uc3QgYWNjZWxlcmF0aW9uID0gdmVjMy5mcm9tVmFsdWVzKDAsIDAsIC1zaGlwQ29uZmlnLmZvcndhcmRUaHJ1c3RBY2NlbGVyYXRpb25NYWduaXR1ZGUpO1xyXG5cclxuICAvLyBSb3RhdGUgdGhlIGFjY2VsZXJhdGlvbiB0byBhcHBseSBmcm9tIHRoZSBzaGlwJ3MgY3VycmVudCBvcmllbnRhdGlvbi5cclxuICB2ZWMzLnRyYW5zZm9ybVF1YXQoYWNjZWxlcmF0aW9uLCBhY2NlbGVyYXRpb24sIGlucHV0LnN0YXRlLm9yaWVudGF0aW9uKTtcclxuXHJcbiAgLy8gQXBwbHkgdGhlIGZvcmNlLlxyXG4gIHZlYzMuc2NhbGVBbmRBZGQob3V0cHV0LmZvcmNlLCBvdXRwdXQuZm9yY2UsIGFjY2VsZXJhdGlvbiwgaW5wdXQuc3RhdGUubWFzcyk7XHJcblxyXG4gIF9hcHBseU1heFNwZWVkTGltaXRlcihvdXRwdXQsIGlucHV0KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNMZWZ0d2FyZFxyXG4gKiBAcGFyYW0ge0ZvcmNlQXBwbGllck91dHB1dH0gb3V0cHV0XHJcbiAqIEBwYXJhbSB7Rm9yY2VBcHBsaWVySW5wdXR9IGlucHV0XHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBfYXBwbHlZYXdUaHJ1c3QoaXNMZWZ0d2FyZCwgb3V0cHV0LCBpbnB1dCkge1xyXG4gIC8vIENyZWF0ZSBhbiBhbmd1bGFyIGFjY2VsZXJhdGlvbiB2ZWN0b3IuXHJcbiAgY29uc3QgYWNjZWxlcmF0aW9uTWFnbml0dWRlID0gc2hpcENvbmZpZy55YXdBbmd1bGFyQWNjZWxlcmF0aW9uICogKGlzTGVmdHdhcmQgPyAxIDogLTEpO1xyXG4gIGNvbnN0IGFjY2VsZXJhdGlvbiA9IHZlYzMuZnJvbVZhbHVlcygwLCBhY2NlbGVyYXRpb25NYWduaXR1ZGUsIDApO1xyXG5cclxuICBfYXBwbHlMb2NhbEFuZ3VsYXJBY2NlbGVyYXRpb24ob3V0cHV0LCBpbnB1dCwgYWNjZWxlcmF0aW9uKTtcclxuICBfYXBwbHlNYXhTcGluTGltaXRlcihvdXRwdXQsIGlucHV0KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNVcHdhcmRcclxuICogQHBhcmFtIHtGb3JjZUFwcGxpZXJPdXRwdXR9IG91dHB1dFxyXG4gKiBAcGFyYW0ge0ZvcmNlQXBwbGllcklucHV0fSBpbnB1dFxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gX2FwcGx5UGl0Y2hUaHJ1c3QoaXNVcHdhcmQsIG91dHB1dCwgaW5wdXQpIHtcclxuICAvLyBDcmVhdGUgYW4gYW5ndWxhciBhY2NlbGVyYXRpb24gdmVjdG9yLlxyXG4gIGNvbnN0IGFjY2VsZXJhdGlvbk1hZ25pdHVkZSA9IHNoaXBDb25maWcueWF3QW5ndWxhckFjY2VsZXJhdGlvbiAqIChpc1Vwd2FyZCA/IC0xIDogMSk7XHJcbiAgY29uc3QgYWNjZWxlcmF0aW9uID0gdmVjMy5mcm9tVmFsdWVzKGFjY2VsZXJhdGlvbk1hZ25pdHVkZSwgMCwgMCk7XHJcblxyXG4gIF9hcHBseUxvY2FsQW5ndWxhckFjY2VsZXJhdGlvbihvdXRwdXQsIGlucHV0LCBhY2NlbGVyYXRpb24pO1xyXG4gIF9hcHBseU1heFNwaW5MaW1pdGVyKG91dHB1dCwgaW5wdXQpO1xyXG59XHJcblxyXG4vKipcclxuICogQHBhcmFtIHtGb3JjZUFwcGxpZXJPdXRwdXR9IG91dHB1dFxyXG4gKiBAcGFyYW0ge0ZvcmNlQXBwbGllcklucHV0fSBpbnB1dFxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gX2FwcGx5TWF4U3BlZWRMaW1pdGVyKG91dHB1dCwgaW5wdXQpIHtcclxuICBjb25zdCBzcGVlZCA9IHZlYzMubGVuZ3RoKGlucHV0LnN0YXRlLnZlbG9jaXR5KTtcclxuXHJcbiAgLy8gSWYgdGhlIHNoaXAgaXNuJ3QgbW92aW5nIHRvbyBmYXN0LCB0aGVuIHdlIGRvbid0IG5lZWQgdG8gc2xvdyBpdCBkb3duLlxyXG4gIGlmIChzcGVlZCA8IHNoaXBDb25maWcubWF4U3BlZWQpIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8vIENhbGN1bGF0ZSBob3cgZmFyIG92ZXIgdGhlIG1heCBzcGVlZCB0aGUgc2hpcCBpcyBtb3ZpbmcuXHJcbiAgY29uc3Qgc3BlZWREaWZmID0gc3BlZWQgLSBzaGlwQ29uZmlnLm1heFNwZWVkO1xyXG5cclxuICAvLyBDYWxjdWxhdGUgdGhlIGNoYW5nZSBpbiB2ZWxvY2l0eSB0aGF0IGlzIG5lZWRlZCB0byByZWR1Y2Ugc3BlZWQgdG8gdGhlIGxpbWl0LlxyXG4gIGNvbnN0IGNvdW50ZXJBY2NlbGVyYXRpb24gPSB2ZWMzLmNyZWF0ZSgpO1xyXG4gIHZlYzMubmVnYXRlKGNvdW50ZXJBY2NlbGVyYXRpb24sIGlucHV0LnN0YXRlLnZlbG9jaXR5KTtcclxuICB2ZWMzLm5vcm1hbGl6ZShjb3VudGVyQWNjZWxlcmF0aW9uLCBjb3VudGVyQWNjZWxlcmF0aW9uKTtcclxuXHJcbiAgLy8gQ2FsY3VsYXRlIHRoZSBzbG93LWRvd24gYWNjZWxlcmF0aW9uLlxyXG4gIHZlYzMuc2NhbGUoY291bnRlckFjY2VsZXJhdGlvbiwgY291bnRlckFjY2VsZXJhdGlvbiwgc3BlZWREaWZmKTtcclxuXHJcbiAgLy8gQXBwbHkgdGhlIHNsb3ctZG93biBmb3JjZS5cclxuICB2ZWMzLnNjYWxlQW5kQWRkKG91dHB1dC5mb3JjZSwgb3V0cHV0LmZvcmNlLCBjb3VudGVyQWNjZWxlcmF0aW9uLCBpbnB1dC5zdGF0ZS5tYXNzKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7Rm9yY2VBcHBsaWVyT3V0cHV0fSBvdXRwdXRcclxuICogQHBhcmFtIHtGb3JjZUFwcGxpZXJJbnB1dH0gaW5wdXRcclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIF9hcHBseU1heFNwaW5MaW1pdGVyKG91dHB1dCwgaW5wdXQpIHtcclxuICBjb25zdCBhbmd1bGFyU3BlZWQgPSB2ZWMzLmxlbmd0aChpbnB1dC5zdGF0ZS5hbmd1bGFyVmVsb2NpdHkpO1xyXG5cclxuICAvLyBJZiB0aGUgc2hpcCBpc24ndCByb3RhdGluZyB0b28gZmFzdCwgdGhlbiB3ZSBkb24ndCBuZWVkIHRvIHNsb3cgaXQgZG93bi5cclxuICBpZiAoYW5ndWxhclNwZWVkIDwgc2hpcENvbmZpZy5tYXhBbmd1bGFyU3BlZWQpIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8vIENhbGN1bGF0ZSBob3cgZmFyIG92ZXIgdGhlIG1heCBhbmd1bGFyIHNwZWVkIHRoZSBzaGlwIGlzIHJvdGF0aW5nLlxyXG4gIGNvbnN0IGFuZ3VsYXJTcGVlZERpZmYgPSBhbmd1bGFyU3BlZWQgLSBzaGlwQ29uZmlnLm1heEFuZ3VsYXJTcGVlZDtcclxuXHJcbiAgLy8gQ2FsY3VsYXRlIHRoZSBjaGFuZ2UgaW4gYW5ndWxhciB2ZWxvY2l0eSB0aGF0IGlzIG5lZWRlZCB0byByZWR1Y2Ugcm90YXRpb24gdG8gdGhlIGxpbWl0LlxyXG4gIGNvbnN0IGNvdW50ZXJBY2NlbGVyYXRpb24gPSB2ZWMzLmNyZWF0ZSgpO1xyXG4gIHZlYzMubmVnYXRlKGNvdW50ZXJBY2NlbGVyYXRpb24sIGlucHV0LnN0YXRlLmFuZ3VsYXJWZWxvY2l0eSk7XHJcbiAgdmVjMy5ub3JtYWxpemUoY291bnRlckFjY2VsZXJhdGlvbiwgY291bnRlckFjY2VsZXJhdGlvbik7XHJcblxyXG4gIC8vIENhbGN1bGF0ZSB0aGUgc2xvdy1kb3duIGFuZ3VsYXIgYWNjZWxlcmF0aW9uLlxyXG4gIHZlYzMuc2NhbGUoY291bnRlckFjY2VsZXJhdGlvbiwgY291bnRlckFjY2VsZXJhdGlvbiwgYW5ndWxhclNwZWVkRGlmZik7XHJcblxyXG4gIF9hcHBseVdvcmxkQW5ndWxhckFjY2VsZXJhdGlvbihvdXRwdXQsIGlucHV0LCBjb3VudGVyQWNjZWxlcmF0aW9uKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEFwcGxpZXMgc3RhYmlsaXppbmcgdGhydXN0IGZvcmNlIChha2EgYnJha2VzKSBpbiByZXNwb25zZSB0byB1c2VyIGlucHV0LlxyXG4gKlxyXG4gKiBAcGFyYW0ge0ZvcmNlQXBwbGllck91dHB1dH0gb3V0cHV0XHJcbiAqIEBwYXJhbSB7Rm9yY2VBcHBsaWVySW5wdXR9IGlucHV0XHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBfYXBwbHlTdGFiaWxpemVyVGhydXN0KG91dHB1dCwgaW5wdXQpIHtcclxuICBfYXBwbHlTcGVlZFNsb3dkb3duKG91dHB1dCwgaW5wdXQpO1xyXG4gIF9hcHBseVNwaW5TbG93ZG93bihvdXRwdXQsIGlucHV0KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7Rm9yY2VBcHBsaWVyT3V0cHV0fSBvdXRwdXRcclxuICogQHBhcmFtIHtGb3JjZUFwcGxpZXJJbnB1dH0gaW5wdXRcclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIF9hcHBseVNwZWVkU2xvd2Rvd24ob3V0cHV0LCBpbnB1dCkge1xyXG4gIGNvbnN0IHNwZWVkID0gdmVjMy5sZW5ndGgoaW5wdXQuc3RhdGUudmVsb2NpdHkpO1xyXG5cclxuICAvLyBJZiB0aGUgc2hpcCBpc24ndCBtb3ZpbmcsIHdlIGRvbid0IG5lZWQgdG8gc2xvdyBpdC5cclxuICBpZiAoc3BlZWQgPT09IDApIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8vIERldGVybWluZSB0aGUgZGlyZWN0aW9uIHRvIGFwcGx5IHRoZSBzbG93ZG93biBpbi5cclxuICBjb25zdCBhY2NlbGVyYXRpb24gPSB2ZWMzLmNyZWF0ZSgpO1xyXG4gIHZlYzMubm9ybWFsaXplKGFjY2VsZXJhdGlvbiwgaW5wdXQuc3RhdGUudmVsb2NpdHkpO1xyXG5cclxuICAvLyBTbG93IGRvd24gYnkgY29uZmlndXJlZCBhY2NlbGVyYXRpb24sIHVubGVzcyBpdCBleGNlZWRzIHRoZSBjdXJyZW50IHNwZWVkLlxyXG4gIGNvbnN0IHNsb3dEb3duTWFnbml0dWRlID0gc3BlZWQgPiBzaGlwQ29uZmlnLnNsb3dkb3duQWNjZWxlcmF0aW9uID9cclxuICAgIHNoaXBDb25maWcuc2xvd2Rvd25BY2NlbGVyYXRpb24gOiBzcGVlZDtcclxuICB2ZWMzLnNjYWxlKGFjY2VsZXJhdGlvbiwgYWNjZWxlcmF0aW9uLCAtc2xvd0Rvd25NYWduaXR1ZGUpO1xyXG5cclxuICAvLyBBcHBseSB0aGUgc2xvd2Rvd24gZm9yY2UuXHJcbiAgdmVjMy5zY2FsZUFuZEFkZChvdXRwdXQuZm9yY2UsIG91dHB1dC5mb3JjZSwgYWNjZWxlcmF0aW9uLCBpbnB1dC5zdGF0ZS5tYXNzKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7Rm9yY2VBcHBsaWVyT3V0cHV0fSBvdXRwdXRcclxuICogQHBhcmFtIHtGb3JjZUFwcGxpZXJJbnB1dH0gaW5wdXRcclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIF9hcHBseVNwaW5TbG93ZG93bihvdXRwdXQsIGlucHV0KSB7XHJcbiAgY29uc3QgYW5ndWxhclNwZWVkID0gdmVjMy5sZW5ndGgoaW5wdXQuc3RhdGUuYW5ndWxhclZlbG9jaXR5KTtcclxuXHJcbiAgLy8gSWYgdGhlIHNoaXAgaXNuJ3Qgcm90YXRpbmcsIHdlIGRvbid0IG5lZWQgdG8gc2xvdyB0aGUgc3Bpbi5cclxuICBpZiAoYW5ndWxhclNwZWVkID09PSAwKSB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvLyBEZXRlcm1pbmUgdGhlIGRpcmVjdGlvbiB0byBhcHBseSB0aGUgc2xvd2Rvd24gaW4uXHJcbiAgY29uc3QgYWNjZWxlcmF0aW9uID0gdmVjMy5jcmVhdGUoKTtcclxuICB2ZWMzLm5vcm1hbGl6ZShhY2NlbGVyYXRpb24sIGlucHV0LnN0YXRlLmFuZ3VsYXJWZWxvY2l0eSk7XHJcblxyXG4gIC8vIFNsb3cgZG93biBieSBjb25maWd1cmVkIGFjY2VsZXJhdGlvbiwgdW5sZXNzIGl0IGV4Y2VlZHMgdGhlIGN1cnJlbnQgc3Bpbi5cclxuICBjb25zdCBzbG93RG93bk1hZ25pdHVkZSA9IGFuZ3VsYXJTcGVlZCA+IHNoaXBDb25maWcuYW5ndWxhclNsb3dkb3duQWNjZWxlcmF0aW9uID9cclxuICAgIHNoaXBDb25maWcuYW5ndWxhclNsb3dkb3duQWNjZWxlcmF0aW9uIDogYW5ndWxhclNwZWVkO1xyXG4gIHZlYzMuc2NhbGUoYWNjZWxlcmF0aW9uLCBhY2NlbGVyYXRpb24sIC1zbG93RG93bk1hZ25pdHVkZSk7XHJcblxyXG4gIF9hcHBseVdvcmxkQW5ndWxhckFjY2VsZXJhdGlvbihvdXRwdXQsIGlucHV0LCBhY2NlbGVyYXRpb24pO1xyXG59XHJcblxyXG4vKipcclxuICogQHBhcmFtIHtGb3JjZUFwcGxpZXJPdXRwdXR9IG91dHB1dFxyXG4gKiBAcGFyYW0ge0ZvcmNlQXBwbGllcklucHV0fSBpbnB1dFxyXG4gKiBAcGFyYW0ge3ZlYzN9IGFjY2VsZXJhdGlvblxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gX2FwcGx5V29ybGRBbmd1bGFyQWNjZWxlcmF0aW9uKG91dHB1dCwgaW5wdXQsIGFjY2VsZXJhdGlvbikge1xyXG4gIC8vIENvbnZlcnQgdGhlIGFjY2VsZXJhdGlvbiB0byBsb2NhbCBzaGlwIGNvb3JkaW5hdGVzIChzbyB3ZSBjYW4gcmUtdXNlXHJcbiAgLy8gX2FwcGx5TG9jYWxBbmd1bGFyQWNjZWxlcmF0aW9uKS5cclxuICBjb25zdCByZXZlcnNlUm90YXRpb24gPSBxdWF0LmNyZWF0ZSgpO1xyXG4gIHF1YXQuaW52ZXJ0KHJldmVyc2VSb3RhdGlvbiwgaW5wdXQuc3RhdGUub3JpZW50YXRpb24pO1xyXG4gIHZlYzMudHJhbnNmb3JtUXVhdChhY2NlbGVyYXRpb24sIGFjY2VsZXJhdGlvbiwgcmV2ZXJzZVJvdGF0aW9uKTtcclxuXHJcbiAgX2FwcGx5TG9jYWxBbmd1bGFyQWNjZWxlcmF0aW9uKG91dHB1dCwgaW5wdXQsIGFjY2VsZXJhdGlvbik7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0ge0ZvcmNlQXBwbGllck91dHB1dH0gb3V0cHV0XHJcbiAqIEBwYXJhbSB7Rm9yY2VBcHBsaWVySW5wdXR9IGlucHV0XHJcbiAqIEBwYXJhbSB7dmVjM30gYWNjZWxlcmF0aW9uXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBfYXBwbHlMb2NhbEFuZ3VsYXJBY2NlbGVyYXRpb24ob3V0cHV0LCBpbnB1dCwgYWNjZWxlcmF0aW9uKSB7XHJcbiAgLy8gR2V0IHRvcnF1ZSBmcm9tIGFjY2VsZXJhdGlvbiBhbmQgbWFzcyBtb21lbnQgb2YgaW5lcnRpYS5cclxuICB2ZWMzLnRyYW5zZm9ybU1hdDMoYWNjZWxlcmF0aW9uLCBhY2NlbGVyYXRpb24sIGlucHV0LnN0YXRlLnVucm90YXRlZEluZXJ0aWFUZW5zb3IpO1xyXG5cclxuICAvLyBSb3RhdGUgdGhlIHRvcnF1ZSB0byBhcHBseSBmcm9tIHRoZSBzaGlwJ3MgY3VycmVudCBvcmllbnRhdGlvbi5cclxuICB2ZWMzLnRyYW5zZm9ybVF1YXQoYWNjZWxlcmF0aW9uLCBhY2NlbGVyYXRpb24sIGlucHV0LnN0YXRlLm9yaWVudGF0aW9uKTtcclxuXHJcbiAgLy8gQXBwbHkgdGhlIHRvcnF1ZS5cclxuICB2ZWMzLmFkZChvdXRwdXQudG9ycXVlLCBvdXRwdXQudG9ycXVlLCBhY2NlbGVyYXRpb24pO1xyXG59XHJcblxyXG4vKipcclxuICogR2l2ZXMgdGhlIHNoaXAgYSBsaXR0bGUgaW5pdGlhbCBtb21lbnR1bSwgd2hpY2ggY2F1c2VzIHRoZSBmYXIgc3RhcnMgdG8gZ2xpdHRlciByaWdodCBhdCB0aGVcclxuICogc3RhcnQuXHJcbiAqXHJcbiAqIEByZXR1cm5zIHt2ZWMzfVxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gX2dldEluaXRpYWxNb21lbnR1bSgpIHtcclxuICByZXR1cm4gdmVjMy5mcm9tVmFsdWVzKDAsIDAsIC1faW5pdGlhbFNwZWVkICogc2hpcENvbmZpZy5tYXNzKTtcclxufVxyXG5jb25zdCBfaW5pdGlhbFNwZWVkID0gMC4wMDI7XHJcblxyXG4vLyBGb3Igc29tZSB1bmtub3duIHJlYXNvbiwgYSBuZXdseSBjcmVhdGVkIHRvcnBlZG8gc29tZXRpbWVzIGNvbGxpZGVzIHdpdGggdGhlIHNoaXAuIFRoaXNcclxuLy8gbXVsdGlwbGllciBoZWxwcyB0byBkZWNyZWFzZSB0aGUgbGlrZWxpaG9vZCBvZiB0aGF0IGhhcHBlbmluZy5cclxuY29uc3QgX3RvcnBlZG9EaXN0YW5jZU11bHRpcGxpZXIgPSAxLjE7XHJcblxyXG5leHBvcnQgeyBTaGlwQ29udHJvbGxlciB9O1xyXG4iLCJpbXBvcnQge1N0YW5kYXJkTW9kZWxDb250cm9sbGVyfSBmcm9tICdnYW1leCc7XHJcblxyXG5pbXBvcnQge2ZsYXRDb2xvclByb2dyYW1XcmFwcGVyQ29uZmlnfSBmcm9tICcuLi8uLi8uLi9wcm9ncmFtcyc7XHJcbmltcG9ydCB7c2hpcENvbmZpZ30gZnJvbSAnLi9zaGlwLWNvbmZpZyc7XHJcblxyXG4vKipcclxuICogVGhpcyBjbGFzcyBjb250cm9scyB0aGUgc2hpcCdzIGZvcndhcmQgdGhydXN0ZXIuXHJcbiAqL1xyXG5jbGFzcyBTaGlwRm9yd2FyZFRocnVzdGVyQ29udHJvbGxlciBleHRlbmRzIFN0YW5kYXJkTW9kZWxDb250cm9sbGVyIHtcclxuICAvKipcclxuICAgKiBAcGFyYW0ge01vZGVsQ29udHJvbGxlckNvbmZpZ30gbW9kZWxDb250cm9sbGVyUGFyYW1zXHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbi48Ym9vbGVhbj59IGdldElzVGhydXN0ZXJBY3RpdmVcclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihtb2RlbENvbnRyb2xsZXJQYXJhbXMsIGdldElzVGhydXN0ZXJBY3RpdmUpIHtcclxuICAgIG1vZGVsQ29udHJvbGxlclBhcmFtcy5wcm9ncmFtV3JhcHBlcklkID0gc2hpcENvbmZpZy5mb3J3YXJkVGhydXN0ZXJTaGFkZXJQcm9ncmFtO1xyXG4gICAgZGVsZXRlIG1vZGVsQ29udHJvbGxlclBhcmFtcy50ZXh0dXJlUGF0aDtcclxuXHJcbiAgICBjb25zdCBzaGFwZVBhcmFtcyA9IHtcclxuICAgICAgc2hhcGVJZDogJ1NISVBfRk9SV0FSRF9USFJVU1RFUicsXHJcbiAgICAgIHNoaXBXaWR0aDogc2hpcENvbmZpZy5zaGlwV2lkdGgsXHJcbiAgICAgIHNoaXBMZW5ndGg6IHNoaXBDb25maWcuc2hpcExlbmd0aCxcclxuICAgICAgc2hpcERlcHRoOiBzaGlwQ29uZmlnLnNoaXBEZXB0aCxcclxuICAgICAgc2hpcFJlYXJXaW5nRXh0ZW5zaW9uTGVuZ3RoOiBzaGlwQ29uZmlnLnNoaXBSZWFyV2luZ0V4dGVuc2lvbkxlbmd0aCxcclxuICAgICAgc2hpcEZvcndhcmRUaHJ1c3Rlck1hcmdpblJhdGlvOiBzaGlwQ29uZmlnLmZvcndhcmRUaHJ1c3Rlck1hcmdpblJhdGlvLFxyXG4gICAgICBzaGlwRm9yd2FyZFRocnVzdGVyTGVuZ3RoOiBzaGlwQ29uZmlnLmZvcndhcmRUaHJ1c3Rlckxlbmd0aCxcclxuICAgIH07XHJcblxyXG4gICAgc3VwZXIobW9kZWxDb250cm9sbGVyUGFyYW1zLCBzaGFwZVBhcmFtcyk7XHJcblxyXG4gICAgdGhpcy5fY29sb3IgPSB2ZWM0LmZyb21WYWx1ZXMoXHJcbiAgICAgICAgc2hpcENvbmZpZy5mb3J3YXJkVGhydXN0ZXJDb2xvci5yZ2JWZWNbMF0sXHJcbiAgICAgICAgc2hpcENvbmZpZy5mb3J3YXJkVGhydXN0ZXJDb2xvci5yZ2JWZWNbMV0sXHJcbiAgICAgICAgc2hpcENvbmZpZy5mb3J3YXJkVGhydXN0ZXJDb2xvci5yZ2JWZWNbMl0sXHJcbiAgICAgICAgc2hpcENvbmZpZy5mb3J3YXJkVGhydXN0ZXJDb2xvckFscGhhLFxyXG4gICAgKTtcclxuICAgIHRoaXMuX2dldElzVGhydXN0ZXJBY3RpdmUgPSBnZXRJc1RocnVzdGVyQWN0aXZlO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlKGN1cnJlbnRUaW1lLCBkZWx0YVRpbWUpIHt9XHJcblxyXG4gIGRyYXcoKSB7XHJcbiAgICBpZiAodGhpcy5fZ2V0SXNUaHJ1c3RlckFjdGl2ZSgpKSB7XHJcbiAgICAgIGZsYXRDb2xvclByb2dyYW1XcmFwcGVyQ29uZmlnLmRyYXcuY2FsbCh0aGlzKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbi8vIFJlLXVzZSBtZXRob2RzIHRoYXQgYXJlIGNvbW1vbiBmb3IgdGhlIGZsYXQtY29sb3IgcHJvZ3JhbS5cclxuU2hpcEZvcndhcmRUaHJ1c3RlckNvbnRyb2xsZXIucHJvdG90eXBlLl9zZXRVcFByb2dyYW1WYXJpYWJsZXNDb25maWcgPVxyXG4gICAgZmxhdENvbG9yUHJvZ3JhbVdyYXBwZXJDb25maWcuc2V0VXBQcm9ncmFtVmFyaWFibGVzQ29uZmlnO1xyXG5cclxuZXhwb3J0IHtTaGlwRm9yd2FyZFRocnVzdGVyQ29udHJvbGxlcn07XHJcbiIsIi8qKlxyXG4gKiBUaGlzIG1vZHVsZSBkZWZpbmVzIHRoZSBzaGFwZSBjb25maWd1cmF0aW9uIGZvciB0aGUgc2hpcCdzIGZvcndhcmQtdGhydXN0ZXIuXHJcbiAqXHJcbiAqIFRoZSBmb3J3YXJkIHRocnVzdGVyIGZvbGxvd3MgdGhlIHNoYXBlIG9mIHRoZSBiYWNrIHNpZGUgb2YgdGhlIHNoaXAsIGJ1dCB3aXRoIGEgbWFyZ2luIGFyb3VuZCB0aGVcclxuICogZWRnZXMuIEFsc28sIHRoZSB0aHJ1c3RlciBzdGlja3Mgb3V0IHNsaWdodGx5IGZyb20gdGhlIHNoaXAuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHtjYWxjdWxhdGVPcnRob2dvbmFsVmVydGV4Tm9ybWFsc30gZnJvbSAnZ2FtZXgnO1xyXG5cclxuY29uc3Qgc2hpcEZvcndhcmRUaHJ1c3RlclJlbmRlcmFibGVTaGFwZUZhY3RvcnkgPSB7XHJcbiAgc2hhcGVJZDogJ1NISVBfRk9SV0FSRF9USFJVU1RFUicsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7U2hpcFNoYXBlQ29uZmlnfSBwYXJhbXNcclxuICAgKiBAcmV0dXJucyB7UmVuZGVyYWJsZVNoYXBlfVxyXG4gICAqL1xyXG4gIGdldFJlbmRlcmFibGVTaGFwZTogKHBhcmFtcykgPT4ge1xyXG4gICAgY29uc3QgZmFjZWxlc3NWZXJ0ZXhQb3NpdGlvbnMgPSBfY2FsY3VsYXRlRmFjZWxlc3NWZXJ0ZXhQb3NpdGlvbnMocGFyYW1zKTtcclxuICAgIGNvbnN0IHZlcnRleFBvc2l0aW9ucyA9IF9jYWxjdWxhdGVWZXJ0ZXhQb3NpdGlvbnMoZmFjZWxlc3NWZXJ0ZXhQb3NpdGlvbnMpO1xyXG4gICAgY29uc3QgdmVydGV4Tm9ybWFscyA9IF9jYWxjdWxhdGVWZXJ0ZXhOb3JtYWxzKHZlcnRleFBvc2l0aW9ucyk7XHJcbiAgICBjb25zdCB0ZXh0dXJlQ29vcmRpbmF0ZXMgPSBfY2FsY3VsYXRlVGV4dHVyZUNvb3JkaW5hdGVzKHBhcmFtcyk7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgdmVydGV4UG9zaXRpb25zOiB2ZXJ0ZXhQb3NpdGlvbnMsXHJcbiAgICAgIHZlcnRleE5vcm1hbHM6IHZlcnRleE5vcm1hbHMsXHJcbiAgICAgIHRleHR1cmVDb29yZGluYXRlczogdGV4dHVyZUNvb3JkaW5hdGVzLFxyXG4gICAgICB2ZXJ0ZXhJbmRpY2VzOiBudWxsLFxyXG4gICAgICBlbGVtZW50Q291bnQ6IHZlcnRleFBvc2l0aW9ucy5sZW5ndGggLyAzLFxyXG4gICAgfTtcclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0ge1NoaXBTaGFwZUNvbmZpZ30gcGFyYW1zXHJcbiAgICogQHJldHVybnMge3N0cmluZ31cclxuICAgKi9cclxuICBnZXRDYWNoZUlkKHBhcmFtcykge1xyXG4gICAgcmV0dXJuIGAke3BhcmFtcy5zaGFwZUlkfToke3BhcmFtcy5zaGlwV2lkdGh9OiR7cGFyYW1zLnNoaXBMZW5ndGh9YCArXHJcbiAgICAgICAgYDoke3BhcmFtcy5zaGlwRGVwdGh9OiR7cGFyYW1zLnNoaXBSZWFyV2luZ0V4dGVuc2lvbkxlbmd0aH1gO1xyXG4gIH1cclxufTtcclxuXHJcbi8vIEZvciB0aGUgY2FsY3VsYXRpb24gb2YgdGhlIHZlcnRleCBub3JtYWxzLCBpdCBpcyBpbXBvcnRhbnQgdG8gc3BlY2lmeSB0aGUgdmVydGljZXMgZm9yIGEgZmFjZSBpblxyXG4vLyBjbG9ja3dpc2Ugb3JkZXIgKGFzIHNlZW4gd2hlbiBsb29raW5nIGF0IHRoZSBleHRlcmlvciBzaWRlKS5cclxuY29uc3QgX2ZhY2VWZXJ0ZXhQb3NpdGlvbkluZGljZXMgPSBbXHJcbiAgLy8gVG9wLWxlZnQgZmFjZVxyXG4gIHZlYzMuZnJvbVZhbHVlcyg0LCAxLCAwKSxcclxuICAvLyBUb3AtcmlnaHQgZmFjZVxyXG4gIHZlYzMuZnJvbVZhbHVlcyg0LCAzLCAxKSxcclxuICAvLyBCb3R0b20tbGVmdCBmYWNlXHJcbiAgdmVjMy5mcm9tVmFsdWVzKDQsIDAsIDIpLFxyXG4gIC8vIEJvdHRvbS1yaWdodCBmYWNlXHJcbiAgdmVjMy5mcm9tVmFsdWVzKDQsIDIsIDMpLFxyXG4gIC8vIEZyb250LWxlZnQgZmFjZVxyXG4gIHZlYzMuZnJvbVZhbHVlcygwLCAxLCAyKSxcclxuICAvLyBGcm9udC1yaWdodCBmYWNlXHJcbiAgdmVjMy5mcm9tVmFsdWVzKDIsIDEsIDMpLFxyXG5dO1xyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7U2hpcFNoYXBlQ29uZmlnfSBwYXJhbXNcclxuICogQHJldHVybnMge0FycmF5Ljx2ZWMzPn1cclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIF9jYWxjdWxhdGVGYWNlbGVzc1ZlcnRleFBvc2l0aW9ucyhwYXJhbXMpIHtcclxuICBjb25zdCBoYWxmV2lkdGggPSBwYXJhbXMuc2hpcFdpZHRoIC8gMiAqIHBhcmFtcy5zaGlwRm9yd2FyZFRocnVzdGVyTWFyZ2luUmF0aW87XHJcbiAgY29uc3QgaGFsZkRlcHRoID0gcGFyYW1zLnNoaXBEZXB0aCAvIDIgKiBwYXJhbXMuc2hpcEZvcndhcmRUaHJ1c3Rlck1hcmdpblJhdGlvO1xyXG4gIGNvbnN0IGhhbGZTaGlwTGVuZ3RoID0gcGFyYW1zLnNoaXBMZW5ndGggLyAyO1xyXG4gIGNvbnN0IG1hcmdpbkRlcHRoT2Zmc2V0ID1cclxuICAgICAgcGFyYW1zLnNoaXBSZWFyV2luZ0V4dGVuc2lvbkxlbmd0aCAqICgxIC0gcGFyYW1zLnNoaXBGb3J3YXJkVGhydXN0ZXJNYXJnaW5SYXRpbyk7XHJcbiAgY29uc3QgZXBzaWxvbiA9IDAuMDAxO1xyXG4gIGNvbnN0IG1pZGRsZVogPSBoYWxmU2hpcExlbmd0aCAtIHBhcmFtcy5zaGlwUmVhcldpbmdFeHRlbnNpb25MZW5ndGggKyBlcHNpbG9uO1xyXG4gIGNvbnN0IG91dGVyWiA9IGhhbGZTaGlwTGVuZ3RoIC0gbWFyZ2luRGVwdGhPZmZzZXQgKyBlcHNpbG9uO1xyXG5cclxuICByZXR1cm4gW1xyXG4gICAgLy8gRnJvbnQtbGVmdCBjb3JuZXJcclxuICAgIHZlYzMuZnJvbVZhbHVlcygtaGFsZldpZHRoLCAwLCBvdXRlclopLFxyXG4gICAgLy8gRnJvbnQtbWlkZGxlLXRvcCBjb3JuZXJcclxuICAgIHZlYzMuZnJvbVZhbHVlcygwLCBoYWxmRGVwdGgsIG1pZGRsZVopLFxyXG4gICAgLy8gRnJvbnQtbWlkZGxlLWJvdHRvbSBjb3JuZXJcclxuICAgIHZlYzMuZnJvbVZhbHVlcygwLCAtaGFsZkRlcHRoLCBtaWRkbGVaKSxcclxuICAgIC8vIEZyb250LXJpZ2h0IGNvcm5lclxyXG4gICAgdmVjMy5mcm9tVmFsdWVzKGhhbGZXaWR0aCwgMCwgb3V0ZXJaKSxcclxuICAgIC8vIEJhY2sgY29ybmVyXHJcbiAgICB2ZWMzLmZyb21WYWx1ZXMoMCwgMCwgbWlkZGxlWiArIHBhcmFtcy5zaGlwRm9yd2FyZFRocnVzdGVyTGVuZ3RoKSxcclxuICBdO1xyXG59XHJcblxyXG4vKipcclxuICogQHBhcmFtIHtBcnJheS48dmVjMz59IGZhY2VsZXNzVmVydGV4UG9zaXRpb25zXHJcbiAqIEByZXR1cm5zIHtBcnJheS48TnVtYmVyPn1cclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIF9jYWxjdWxhdGVWZXJ0ZXhQb3NpdGlvbnMoZmFjZWxlc3NWZXJ0ZXhQb3NpdGlvbnMpIHtcclxuICBjb25zdCB2ZXJ0ZXhQb3NpdGlvbnMgPSBbXTtcclxuICAvLyBUT0RPOiBDb25zb2xpZGF0ZSB3aXRoIHRoZSBkdXBsaWNhdGVkIGxvZ2ljIGluIHNoaXAtc2hhcGUtY29uZmlnLmpzLlxyXG4gIC8vIFRPRE86IGZpbmQgYSBiZXR0ZXIgd2F5IG9mIGZsYXR0ZW5pbmcgdGhpcy5cclxuICAvLyBDcmVhdGUgdGhlIGZsYXQgYXJyYXkgdGhhdCBpcyBuZWVkZWQgZm9yIHRoZSByZW5kZXJpbmcgcGlwZWxpbmUuXHJcbiAgZm9yIChsZXQgaSA9IDAsIGNvdW50ID0gX2ZhY2VWZXJ0ZXhQb3NpdGlvbkluZGljZXMubGVuZ3RoOyBpIDwgY291bnQ7IGkrKykge1xyXG4gICAgY29uc3QgY3VycmVudEZhY2VWZXJ0ZXhQb3NpdGlvbkluZGljZXMgPSBfZmFjZVZlcnRleFBvc2l0aW9uSW5kaWNlc1tpXTtcclxuICAgIGZvciAobGV0IGogPSAwOyBqIDwgMzsgaisrKSB7XHJcbiAgICAgIGNvbnN0IGN1cnJlbnRQb3NpdGlvbiA9IGZhY2VsZXNzVmVydGV4UG9zaXRpb25zW2N1cnJlbnRGYWNlVmVydGV4UG9zaXRpb25JbmRpY2VzW2pdXTtcclxuICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCAzOyBrKyspIHtcclxuICAgICAgICB2ZXJ0ZXhQb3NpdGlvbnNbaSAqIDkgKyBqICogMyArIGtdID0gY3VycmVudFBvc2l0aW9uW2tdO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIHJldHVybiB2ZXJ0ZXhQb3NpdGlvbnM7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0ge0FycmF5LjxOdW1iZXI+fSB2ZXJ0ZXhQb3NpdGlvbnNcclxuICogQHJldHVybnMge0FycmF5LjxOdW1iZXI+fVxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gX2NhbGN1bGF0ZVZlcnRleE5vcm1hbHModmVydGV4UG9zaXRpb25zKSB7XHJcbiAgcmV0dXJuIGNhbGN1bGF0ZU9ydGhvZ29uYWxWZXJ0ZXhOb3JtYWxzKHZlcnRleFBvc2l0aW9ucyk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0ge1NoaXBTaGFwZUNvbmZpZ30gcGFyYW1zXHJcbiAqIEByZXR1cm5zIHtBcnJheS48dmVjMz59XHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBfY2FsY3VsYXRlVGV4dHVyZUNvb3JkaW5hdGVzKHBhcmFtcykge1xyXG4gIHJldHVybiBbXHJcbiAgICAvLyBUT0RPXHJcbiAgXTtcclxufVxyXG5cclxuZXhwb3J0IHtzaGlwRm9yd2FyZFRocnVzdGVyUmVuZGVyYWJsZVNoYXBlRmFjdG9yeX07XHJcbiIsIi8qKlxyXG4gKiBUaGlzIG1vZHVsZSBkZWZpbmVzIHRoZSBzaGlwIHNoYXBlIGNvbmZpZ3VyYXRpb24uXHJcbiAqL1xyXG5cclxuaW1wb3J0IHtcclxuICBjYWxjdWxhdGVPcnRob2dvbmFsVmVydGV4Tm9ybWFsc1xyXG59IGZyb20gJ2dhbWV4JztcclxuXHJcbmNvbnN0IHNoaXBSZW5kZXJhYmxlU2hhcGVGYWN0b3J5ID0ge1xyXG4gIHNoYXBlSWQ6ICdTSElQJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtTaGlwU2hhcGVDb25maWd9IHBhcmFtc1xyXG4gICAqIEByZXR1cm5zIHtSZW5kZXJhYmxlU2hhcGV9XHJcbiAgICovXHJcbiAgZ2V0UmVuZGVyYWJsZVNoYXBlOiAocGFyYW1zKSA9PiB7XHJcbiAgICBjb25zdCBmYWNlbGVzc1ZlcnRleFBvc2l0aW9ucyA9IF9jYWxjdWxhdGVGYWNlbGVzc1ZlcnRleFBvc2l0aW9ucyhwYXJhbXMpO1xyXG4gICAgY29uc3QgdmVydGV4UG9zaXRpb25zID0gX2NhbGN1bGF0ZVZlcnRleFBvc2l0aW9ucyhmYWNlbGVzc1ZlcnRleFBvc2l0aW9ucyk7XHJcbiAgICBjb25zdCB2ZXJ0ZXhOb3JtYWxzID0gX2NhbGN1bGF0ZVZlcnRleE5vcm1hbHModmVydGV4UG9zaXRpb25zKTtcclxuICAgIGNvbnN0IHRleHR1cmVDb29yZGluYXRlcyA9IF9jYWxjdWxhdGVUZXh0dXJlQ29vcmRpbmF0ZXMocGFyYW1zKTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICB2ZXJ0ZXhQb3NpdGlvbnM6IHZlcnRleFBvc2l0aW9ucyxcclxuICAgICAgdmVydGV4Tm9ybWFsczogdmVydGV4Tm9ybWFscyxcclxuICAgICAgdGV4dHVyZUNvb3JkaW5hdGVzOiB0ZXh0dXJlQ29vcmRpbmF0ZXMsXHJcbiAgICAgIHZlcnRleEluZGljZXM6IG51bGwsXHJcbiAgICAgIGVsZW1lbnRDb3VudDogdmVydGV4UG9zaXRpb25zLmxlbmd0aCAvIDMsXHJcbiAgICB9O1xyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7U2hpcFNoYXBlQ29uZmlnfSBwYXJhbXNcclxuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gICAqL1xyXG4gIGdldENhY2hlSWQocGFyYW1zKSB7XHJcbiAgICByZXR1cm4gYCR7cGFyYW1zLnNoYXBlSWR9OiR7cGFyYW1zLnNoaXBXaWR0aH06JHtwYXJhbXMuc2hpcExlbmd0aH1gICtcclxuICAgICAgICBgOiR7cGFyYW1zLnNoaXBEZXB0aH06JHtwYXJhbXMuc2hpcFJlYXJXaW5nRXh0ZW5zaW9uTGVuZ3RofWA7XHJcbiAgfVxyXG59O1xyXG5cclxuLy8gICAgICAgICAgICAgNDooMCwwLDUpXHJcbi8vICAgICAgICAgICAgICAgICAgfFxyXG4vLyAgICAgICAgICAgICAgICAgIHxcclxuLy9cclxuLy8gICAgICAgICAgICAgICAgICBeXHJcbi8vICAgICAgICAgICAgICAgICAvfFxcXHJcbi8vICAgICAgICAgICAgICAgIC8gfCBcXFxyXG4vLyAgICAgICAgICAgICAgIC8gIHwgIFxcXHJcbi8vICAgICAgICAgICAgICAvICAgfCAgIFxcXHJcbi8vICAgICAgICAgICAgIC8gICAgfCAgICBcXFxyXG4vLyAgICAgICAgICAgIC8gICAgIG8gICAgIFxcICAtLS0tLS0tIExvY2FsIG9yaWdpblxyXG4vLyAgICAgICAgICAgLyAgICAgIHwgICAgICBcXFxyXG4vLyAgICAgICAgICAvICAgICAgIHwgICAgICAgXFxcclxuLy8gICAgICAgICAvICAgICAgICB8ICAgICAgICBcXFxyXG4vLyAgICAgICAgLyAgICAgICBfX15fXyAgICAgICBcXFxyXG4vLyAgICAgICAvICAgX18tLS0gICAgIC0tLV9fICAgXFxcclxuLy8gICAgICAvXy0tLSAgICAgICAgICAgICAgIC0tLV9cXFxyXG4vL1xyXG4vLyAgICAgIHwgICAgICAgICAgIHwgICAgICAgICAgIHxcclxuLy8gICAgICB8ICAgICAgICAgICB8ICAgICAgICAgICB8XHJcbi8vIDA6KC0yLDAsMCkgICAgICAgfCAgICAgICAgICAgfFxyXG4vLyAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgIHxcclxuLy8gICAgICAgICAgMSwyOigwLC41LC41KSAgICAgICB8XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAzOigyLDAsMClcclxuXHJcbi8vIEZvciB0aGUgY2FsY3VsYXRpb24gb2YgdGhlIHZlcnRleCBub3JtYWxzLCBpdCBpcyBpbXBvcnRhbnQgdG8gc3BlY2lmeSB0aGUgdmVydGljZXMgZm9yIGEgZmFjZSBpblxyXG4vLyBjbG9ja3dpc2Ugb3JkZXIgKGFzIHNlZW4gd2hlbiBsb29raW5nIGF0IHRoZSBleHRlcmlvciBzaWRlKS5cclxuY29uc3QgX2ZhY2VWZXJ0ZXhQb3NpdGlvbkluZGljZXMgPSBbXHJcbiAgLy8gVG9wLWxlZnQgZmFjZVxyXG4gIHZlYzMuZnJvbVZhbHVlcygxLCAwLCA0KSxcclxuICAvLyBUb3AtcmlnaHQgZmFjZVxyXG4gIHZlYzMuZnJvbVZhbHVlcygzLCAxLCA0KSxcclxuICAvLyBCb3R0b20tbGVmdCBmYWNlXHJcbiAgdmVjMy5mcm9tVmFsdWVzKDAsIDIsIDQpLFxyXG4gIC8vIEJvdHRvbS1yaWdodCBmYWNlXHJcbiAgdmVjMy5mcm9tVmFsdWVzKDIsIDMsIDQpLFxyXG4gIC8vIEJhY2stbGVmdCBmYWNlXHJcbiAgdmVjMy5mcm9tVmFsdWVzKDAsIDEsIDIpLFxyXG4gIC8vIEJhY2stcmlnaHQgZmFjZVxyXG4gIHZlYzMuZnJvbVZhbHVlcygyLCAxLCAzKSxcclxuXTtcclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0ge1NoaXBTaGFwZUNvbmZpZ30gcGFyYW1zXHJcbiAqIEByZXR1cm5zIHtBcnJheS48dmVjMz59XHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBfY2FsY3VsYXRlRmFjZWxlc3NWZXJ0ZXhQb3NpdGlvbnMocGFyYW1zKSB7XHJcbiAgY29uc3QgaGFsZldpZHRoID0gcGFyYW1zLnNoaXBXaWR0aCAvIDI7XHJcbiAgY29uc3QgaGFsZkRlcHRoID0gcGFyYW1zLnNoaXBEZXB0aCAvIDI7XHJcbiAgY29uc3QgaGFsZkxlbmd0aCA9IHBhcmFtcy5zaGlwTGVuZ3RoIC8gMjtcclxuXHJcbiAgcmV0dXJuIFtcclxuICAgIC8vIEJhY2stbGVmdCBjb3JuZXJcclxuICAgIHZlYzMuZnJvbVZhbHVlcygtaGFsZldpZHRoLCAwLCBoYWxmTGVuZ3RoKSxcclxuICAgIC8vIEJhY2stbWlkZGxlLXRvcCBjb3JuZXJcclxuICAgIHZlYzMuZnJvbVZhbHVlcygwLCBoYWxmRGVwdGgsIGhhbGZMZW5ndGggLSBwYXJhbXMuc2hpcFJlYXJXaW5nRXh0ZW5zaW9uTGVuZ3RoKSxcclxuICAgIC8vIEJhY2stbWlkZGxlLWJvdHRvbSBjb3JuZXJcclxuICAgIHZlYzMuZnJvbVZhbHVlcygwLCAtaGFsZkRlcHRoLCBoYWxmTGVuZ3RoIC0gcGFyYW1zLnNoaXBSZWFyV2luZ0V4dGVuc2lvbkxlbmd0aCksXHJcbiAgICAvLyBCYWNrLXJpZ2h0IGNvcm5lclxyXG4gICAgdmVjMy5mcm9tVmFsdWVzKGhhbGZXaWR0aCwgMCwgaGFsZkxlbmd0aCksXHJcbiAgICAvLyBGcm9udCBjb3JuZXJcclxuICAgIHZlYzMuZnJvbVZhbHVlcygwLCAwLCAtaGFsZkxlbmd0aCksXHJcbiAgXTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7QXJyYXkuPHZlYzM+fSBmYWNlbGVzc1ZlcnRleFBvc2l0aW9uc1xyXG4gKiBAcmV0dXJucyB7QXJyYXkuPE51bWJlcj59XHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBfY2FsY3VsYXRlVmVydGV4UG9zaXRpb25zKGZhY2VsZXNzVmVydGV4UG9zaXRpb25zKSB7XHJcbiAgY29uc3QgdmVydGV4UG9zaXRpb25zID0gW107XHJcbiAgLy8gVE9ETzogZmluZCBhIGJldHRlciB3YXkgb2YgZmxhdHRlbmluZyB0aGlzLlxyXG4gIC8vIENyZWF0ZSB0aGUgZmxhdCBhcnJheSB0aGF0IGlzIG5lZWRlZCBmb3IgdGhlIHJlbmRlcmluZyBwaXBlbGluZS5cclxuICBmb3IgKGxldCBpID0gMCwgY291bnQgPSBfZmFjZVZlcnRleFBvc2l0aW9uSW5kaWNlcy5sZW5ndGg7IGkgPCBjb3VudDsgaSsrKSB7XHJcbiAgICBjb25zdCBjdXJyZW50RmFjZVZlcnRleFBvc2l0aW9uSW5kaWNlcyA9IF9mYWNlVmVydGV4UG9zaXRpb25JbmRpY2VzW2ldO1xyXG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCAzOyBqKyspIHtcclxuICAgICAgY29uc3QgY3VycmVudFBvc2l0aW9uID0gZmFjZWxlc3NWZXJ0ZXhQb3NpdGlvbnNbY3VycmVudEZhY2VWZXJ0ZXhQb3NpdGlvbkluZGljZXNbal1dO1xyXG4gICAgICBmb3IgKGxldCBrID0gMDsgayA8IDM7IGsrKykge1xyXG4gICAgICAgIHZlcnRleFBvc2l0aW9uc1tpICogOSArIGogKiAzICsga10gPSBjdXJyZW50UG9zaXRpb25ba107XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIHZlcnRleFBvc2l0aW9ucztcclxufVxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7QXJyYXkuPE51bWJlcj59IHZlcnRleFBvc2l0aW9uc1xyXG4gKiBAcmV0dXJucyB7QXJyYXkuPE51bWJlcj59XHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBfY2FsY3VsYXRlVmVydGV4Tm9ybWFscyh2ZXJ0ZXhQb3NpdGlvbnMpIHtcclxuICByZXR1cm4gY2FsY3VsYXRlT3J0aG9nb25hbFZlcnRleE5vcm1hbHModmVydGV4UG9zaXRpb25zKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7U2hpcFNoYXBlQ29uZmlnfSBwYXJhbXNcclxuICogQHJldHVybnMge0FycmF5Ljx2ZWMzPn1cclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIF9jYWxjdWxhdGVUZXh0dXJlQ29vcmRpbmF0ZXMocGFyYW1zKSB7XHJcbiAgY29uc3Qgc2hpcFJlYXJXaW5nRXh0ZW5zaW9uUmF0aW8gPSBwYXJhbXMuc2hpcFJlYXJXaW5nRXh0ZW5zaW9uTGVuZ3RoIC8gcGFyYW1zLnNoaXBMZW5ndGg7XHJcbiAgY29uc3Qgb25lTWludXNTaGlwUmVhcldpbmdFeHRlbnNpb25SYXRpbyA9IDEgLSBzaGlwUmVhcldpbmdFeHRlbnNpb25SYXRpbztcclxuXHJcbiAgcmV0dXJuIFtcclxuICAgIC8vIFRvcC1sZWZ0IGZhY2VcclxuICAgIC41LCBvbmVNaW51c1NoaXBSZWFyV2luZ0V4dGVuc2lvblJhdGlvLFxyXG4gICAgMCwgMSxcclxuICAgIC41LCAwLFxyXG4gICAgLy8gVG9wLXJpZ2h0IGZhY2VcclxuICAgIDEsIDEsXHJcbiAgICAuNSwgb25lTWludXNTaGlwUmVhcldpbmdFeHRlbnNpb25SYXRpbyxcclxuICAgIC41LCAwLFxyXG4gICAgLy8gQm90dG9tLWxlZnQgZmFjZVxyXG4gICAgMSwgMSxcclxuICAgIC41LCBvbmVNaW51c1NoaXBSZWFyV2luZ0V4dGVuc2lvblJhdGlvLFxyXG4gICAgLjUsIDAsXHJcbiAgICAvLyBCb3R0b20tcmlnaHQgZmFjZVxyXG4gICAgLjUsIG9uZU1pbnVzU2hpcFJlYXJXaW5nRXh0ZW5zaW9uUmF0aW8sXHJcbiAgICAwLCAxLFxyXG4gICAgLjUsIDAsXHJcbiAgICAvLyBCYWNrLWxlZnQgZmFjZVxyXG4gICAgMCwgLjUsXHJcbiAgICAuNSwgMCxcclxuICAgIC41LCAxLFxyXG4gICAgLy8gQmFjay1yaWdodCBmYWNlXHJcbiAgICAuNSwgMSxcclxuICAgIC41LCAwLFxyXG4gICAgMSwgLjVcclxuICBdO1xyXG59XHJcblxyXG5leHBvcnQge1xyXG4gIHNoaXBSZW5kZXJhYmxlU2hhcGVGYWN0b3J5LFxyXG4gIF9mYWNlVmVydGV4UG9zaXRpb25JbmRpY2VzLFxyXG4gIF9jYWxjdWxhdGVGYWNlbGVzc1ZlcnRleFBvc2l0aW9ucyxcclxufTtcclxuXHJcbi8qKlxyXG4gKiBAdHlwZWRlZiB7UmVuZGVyYWJsZVNoYXBlQ29uZmlnfSBTaGlwU2hhcGVDb25maWdcclxuICogQHByb3BlcnR5IHtudW1iZXJ9IHNoaXBXaWR0aFxyXG4gKiBAcHJvcGVydHkge251bWJlcn0gc2hpcExlbmd0aFxyXG4gKiBAcHJvcGVydHkge251bWJlcn0gc2hpcERlcHRoXHJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBzaGlwUmVhcldpbmdFeHRlbnNpb25MZW5ndGhcclxuICogQHByb3BlcnR5IHtudW1iZXJ9IHNoaXBGb3J3YXJkVGhydXN0ZXJNYXJnaW5SYXRpb1xyXG4gKiBAcHJvcGVydHkge251bWJlcn0gc2hpcEZvcndhcmRUaHJ1c3Rlckxlbmd0aFxyXG4gKi9cclxuIiwiZXhwb3J0ICogZnJvbSAnLi9zcmMvc3RhcnMtY29uZmlnJztcclxuZXhwb3J0ICogZnJvbSAnLi9zcmMvc3RhcnMtY29udHJvbGxlcic7XHJcbiIsIi8qKlxyXG4gKiBUaGlzIG1vZHVsZSBoYW5kbGVzIGNvbmZpZ3VyYXRpb24gcGFyYW1ldGVycyByZWxhdGluZyB0byB0aGUgc3RhcnMgbW9kZWwuXHJcbiAqL1xyXG5cclxuY29uc3Qgc3RhcnNDb25maWcgPSB7fTtcclxuXHJcbnN0YXJzQ29uZmlnLnNoYWRlclByb2dyYW0gPSAnc3Rhci1wb2ludHMtcHJvZ3JhbSc7XHJcblxyXG5zdGFyc0NvbmZpZy5zdGFyQ291bnRQZXJDaHVuayA9IDg7XHJcblxyXG5zdGFyc0NvbmZpZy5taW5TaXplID0gNjtcclxuc3RhcnNDb25maWcubWF4U2l6ZSA9IDEyO1xyXG5cclxuc3RhcnNDb25maWcubWluSHVlID0gMC4wO1xyXG5zdGFyc0NvbmZpZy5tYXhIdWUgPSAxLjA7XHJcblxyXG5zdGFyc0NvbmZpZy5taW5TYXR1cmF0aW9uID0gMC4wO1xyXG5zdGFyc0NvbmZpZy5tYXhTYXR1cmF0aW9uID0gMC45NTtcclxuXHJcbnN0YXJzQ29uZmlnLm1pbkxpZ2h0bmVzcyA9IDAuNzU7XHJcbnN0YXJzQ29uZmlnLm1heExpZ2h0bmVzcyA9IDAuOTtcclxuXHJcbmNvbnN0IHN0YXJzRm9sZGVyQ29uZmlnID0ge1xyXG4gIGxhYmVsOiAnU3RhcnMnLFxyXG4gIGNvbmZpZzogc3RhcnNDb25maWcsXHJcbiAgaXNPcGVuOiBmYWxzZVxyXG59O1xyXG5cclxuZXhwb3J0IHtzdGFyc0NvbmZpZywgc3RhcnNGb2xkZXJDb25maWd9O1xyXG4iLCJpbXBvcnQge1xyXG4gIGNyZWF0ZUJ1ZmZlckZyb21EYXRhLFxyXG4gIGhzbFRvUmdiLFxyXG4gIE1vZGVsQ29udHJvbGxlcixcclxuICByYW5kb21GbG9hdEluUmFuZ2UsXHJcbn0gZnJvbSAnZ2FtZXgnO1xyXG5pbXBvcnQge3N0YXJzQ29uZmlnfSBmcm9tICcuL3N0YXJzLWNvbmZpZyc7XHJcblxyXG4vKipcclxuICogVGhpcyBjbGFzcyBjb250cm9scyB0aGUgc3RhcnMuXHJcbiAqL1xyXG5jbGFzcyBTdGFyc0NvbnRyb2xsZXIgZXh0ZW5kcyBNb2RlbENvbnRyb2xsZXIge1xyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7TW9kZWxDb250cm9sbGVyQ29uZmlnfSBwYXJhbXNcclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9uLjx2ZWMzPn0gZ2V0Q2FtZXJhUG9zaXRpb25cclxuICAgKi9cclxuICBjb25zdHJ1Y3RvcihwYXJhbXMsIGdldENhbWVyYVBvc2l0aW9uKSB7XHJcbiAgICBwYXJhbXMucHJvZ3JhbVdyYXBwZXJJZCA9IHN0YXJzQ29uZmlnLnNoYWRlclByb2dyYW07XHJcblxyXG4gICAgc3VwZXIocGFyYW1zKTtcclxuXHJcbiAgICB0aGlzLl9nZXRDYW1lcmFQb3NpdGlvbiA9IGdldENhbWVyYVBvc2l0aW9uO1xyXG4gICAgdGhpcy5fcHJvZ3JhbVZhcmlhYmxlc0NvbmZpZyA9IG51bGw7XHJcbiAgICB0aGlzLl9wb3NpdGlvbnNDb25maWcgPSBudWxsO1xyXG4gICAgdGhpcy5fc2l6ZXNDb25maWcgPSBudWxsO1xyXG4gICAgdGhpcy5fY29sb3JzQ29uZmlnID0gbnVsbDtcclxuICAgIHRoaXMuX212TWF0cml4ID0gbWF0NC5jcmVhdGUoKTtcclxuICAgIHRoaXMuX3N0YXJzUGVyQ2h1bmsgPSBuZXcgTWFwKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGN1cnJlbnRUaW1lXHJcbiAgICogQHBhcmFtIHtET01IaWdoUmVzVGltZVN0YW1wfSBkZWx0YVRpbWVcclxuICAgKiBAcHJvdGVjdGVkXHJcbiAgICovXHJcbiAgdXBkYXRlKGN1cnJlbnRUaW1lLCBkZWx0YVRpbWUpIHtcclxuICAgIC8vIERvIG5vdGhpbmcgaGVyZS4gU3RhciB1cGRhdGVzIG9jY3VyIHdoZW4gbmV3IGNodW5rcyBhcmUgY3JlYXRlZC5cclxuICB9XHJcblxyXG4gIHVwZGF0ZUNoaWxkcmVuKGN1cnJlbnRUaW1lLCBkZWx0YVRpbWUpIHt9XHJcblxyXG4gIGRyYXcoKSB7XHJcbiAgICAvLyBVcGRhdGUgdGhlIG1vZGVsLXZpZXcgbWF0cml4LlxyXG4gICAgbWF0NC5tdWx0aXBseSh0aGlzLl9tdk1hdHJpeCwgdGhpcy5fZ2V0Vmlld01hdHJpeCgpLCB0aGlzLl93b3JsZFRyYW5zZm9ybSk7XHJcblxyXG4gICAgLy8gVXBkYXRlIHRoZSB1bmlmb3JtIHZhcmlhYmxlcy5cclxuICAgIHRoaXMuX3Byb2dyYW1WYXJpYWJsZXNDb25maWcudW5pZm9ybXNbJ3VDYW1lcmFQb3NpdGlvbiddID0gdGhpcy5fZ2V0Q2FtZXJhUG9zaXRpb24oKTtcclxuICAgIHRoaXMuX3Byb2dyYW1WYXJpYWJsZXNDb25maWcudW5pZm9ybXNbJ3VQTWF0cml4J10gPSB0aGlzLl9nZXRQcm9qZWN0aW9uTWF0cml4KCk7XHJcbiAgICB0aGlzLl9wcm9ncmFtVmFyaWFibGVzQ29uZmlnLnVuaWZvcm1zWyd1TVZNYXRyaXgnXSA9IHRoaXMuX212TWF0cml4O1xyXG5cclxuICAgIC8vIERyYXcgc2hhcGVzIHVzaW5nIHRoZSBjdXJyZW50IHZhcmlhYmxlcyBjb25maWd1cmF0aW9uLlxyXG4gICAgdGhpcy5fcHJvZ3JhbVdyYXBwZXIuZHJhdyh0aGlzLl9nbCwgdGhpcy5fcHJvZ3JhbVZhcmlhYmxlc0NvbmZpZyk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDcmVhdGUgbmV3IHN0YXJzIHdpdGhpbiB0aGUgZ2l2ZW4gY2h1bmsuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge0NodW5rfSBjaHVua1xyXG4gICAqL1xyXG4gIG9uQ2h1bmtDcmVhdGVkKGNodW5rKSB7XHJcbiAgICBjb25zdCBzdGFyc0ZvckNodW5rID0gW107XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0YXJzQ29uZmlnLnN0YXJDb3VudFBlckNodW5rOyBpKyspIHtcclxuICAgICAgc3RhcnNGb3JDaHVuay5wdXNoKHtcclxuICAgICAgICBwb3NpdGlvbjogU3RhcnNDb250cm9sbGVyLl9nZXRSYW5kb21Qb3NpdGlvbihjaHVuay5ib3VuZHMpLFxyXG4gICAgICAgIHNpemU6IFN0YXJzQ29udHJvbGxlci5fZ2V0UmFuZG9tU2l6ZSgpLFxyXG4gICAgICAgIGNvbG9yOiBTdGFyc0NvbnRyb2xsZXIuX2dldFJhbmRvbUNvbG9yKClcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICB0aGlzLl9zdGFyc1BlckNodW5rLnNldChjaHVuay5pZCwgc3RhcnNGb3JDaHVuayk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZW1vdmUgYWxsIHN0YXJzIGZyb20gdGhlIGdpdmVuIGNodW5rLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtDaHVua30gY2h1bmtcclxuICAgKi9cclxuICBvbkNodW5rRGVzdHJveWVkKGNodW5rKSB7XHJcbiAgICB0aGlzLl9zdGFyc1BlckNodW5rLmRlbGV0ZShjaHVuay5pZCk7XHJcbiAgfVxyXG5cclxuICBvbkFsbENodW5rc1VwZGF0ZWQoKSB7XHJcbiAgICB0aGlzLl91cGRhdGVCdWZmZXJzKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBJbml0aWFsaXplcyB0aGUgcHJvZ3JhbSB2YXJpYWJsZXMgY29uZmlndXJhdGlvbi5cclxuICAgKlxyXG4gICAqIEBwcm90ZWN0ZWRcclxuICAgKi9cclxuICBfc2V0VXBQcm9ncmFtVmFyaWFibGVzQ29uZmlnKCkge1xyXG4gICAgdGhpcy5fcG9zaXRpb25zQ29uZmlnID0ge1xyXG4gICAgICBidWZmZXI6IG51bGwsXHJcbiAgICAgIHNpemU6IDMsXHJcbiAgICAgIHR5cGU6IHRoaXMuX2dsLkZMT0FULFxyXG4gICAgICBub3JtYWxpemVkOiBmYWxzZSxcclxuICAgICAgc3RyaWRlOiAwLFxyXG4gICAgICBvZmZzZXQ6IDBcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5fc2l6ZXNDb25maWcgPSB7XHJcbiAgICAgIGJ1ZmZlcjogbnVsbCxcclxuICAgICAgc2l6ZTogMSxcclxuICAgICAgdHlwZTogdGhpcy5fZ2wuRkxPQVQsXHJcbiAgICAgIG5vcm1hbGl6ZWQ6IGZhbHNlLFxyXG4gICAgICBzdHJpZGU6IDAsXHJcbiAgICAgIG9mZnNldDogMFxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLl9jb2xvcnNDb25maWcgPSB7XHJcbiAgICAgIGJ1ZmZlcjogbnVsbCxcclxuICAgICAgc2l6ZTogMyxcclxuICAgICAgdHlwZTogdGhpcy5fZ2wuRkxPQVQsXHJcbiAgICAgIG5vcm1hbGl6ZWQ6IGZhbHNlLFxyXG4gICAgICBzdHJpZGU6IDAsXHJcbiAgICAgIG9mZnNldDogMFxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLl9wcm9ncmFtVmFyaWFibGVzQ29uZmlnID0ge1xyXG4gICAgICBhdHRyaWJ1dGVzOiB7XHJcbiAgICAgICAgYVBvc2l0aW9uOiB0aGlzLl9wb3NpdGlvbnNDb25maWcsXHJcbiAgICAgICAgYVNpemU6IHRoaXMuX3NpemVzQ29uZmlnLFxyXG4gICAgICAgIGFDb2xvcjogdGhpcy5fY29sb3JzQ29uZmlnXHJcbiAgICAgIH0sXHJcbiAgICAgIHVuaWZvcm1zOiB7XHJcbiAgICAgICAgdUNhbWVyYVBvc2l0aW9uOiB0aGlzLl9nZXRDYW1lcmFQb3NpdGlvbigpLFxyXG4gICAgICAgIHVQTWF0cml4OiB0aGlzLl9nZXRQcm9qZWN0aW9uTWF0cml4KCksXHJcbiAgICAgICAgdU1WTWF0cml4OiB0aGlzLl9tdk1hdHJpeFxyXG4gICAgICB9LFxyXG4gICAgICBtb2RlOiB0aGlzLl9nbC5QT0lOVFMsXHJcbiAgICAgIGVsZW1lbnRDb3VudDogbnVsbFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENyZWF0ZXMgZmxhdHRlbmVkIGFycm95cyBvZiB0aGUgc3RhciBwb3NpdGlvbnMsIHNpemVzLCBhbmQgY29sb3JzIGFuZCB1cGRhdGVzIHRoZSBXZWJHTCBidWZmZXJzXHJcbiAgICogd2l0aCB0aGVzZSBhcnJheXMuXHJcbiAgICpcclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIF91cGRhdGVCdWZmZXJzKCkge1xyXG4gICAgY29uc3QgZmxhdHRlbmVkUG9zaXRpb25zID0gW107XHJcbiAgICBjb25zdCBmbGF0dGVuZWRTaXplcyA9IFtdO1xyXG4gICAgY29uc3QgZmxhdHRlbmVkQ29sb3JzID0gW107XHJcbiAgICBsZXQgZWxlbWVudENvdW50ID0gMDtcclxuXHJcbiAgICB0aGlzLl9zdGFyc1BlckNodW5rLmZvckVhY2goc3RhcnNGb3JDaHVuayA9PiB7XHJcbiAgICAgIGZvciAobGV0IGkgPSAwLCBjb3VudCA9IHN0YXJzRm9yQ2h1bmsubGVuZ3RoOyBpIDwgY291bnQ7IGkrKywgZWxlbWVudENvdW50KyspIHtcclxuICAgICAgICBjb25zdCBjdXJyZW50U3RhciA9IHN0YXJzRm9yQ2h1bmtbaV07XHJcblxyXG4gICAgICAgIGZsYXR0ZW5lZFNpemVzW2VsZW1lbnRDb3VudF0gPSBjdXJyZW50U3Rhci5zaXplO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDM7IGorKykge1xyXG4gICAgICAgICAgZmxhdHRlbmVkUG9zaXRpb25zW2VsZW1lbnRDb3VudCAqIDMgKyBqXSA9IGN1cnJlbnRTdGFyLnBvc2l0aW9uW2pdO1xyXG4gICAgICAgICAgZmxhdHRlbmVkQ29sb3JzW2VsZW1lbnRDb3VudCAqIDMgKyBqXSA9IGN1cnJlbnRTdGFyLmNvbG9yW2pdO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5fcG9zaXRpb25zQ29uZmlnLmJ1ZmZlciA9IGNyZWF0ZUJ1ZmZlckZyb21EYXRhKHRoaXMuX2dsLCBmbGF0dGVuZWRQb3NpdGlvbnMsXHJcbiAgICAgICAgdGhpcy5fZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLl9nbC5EWU5BTUlDX0RSQVcpO1xyXG4gICAgdGhpcy5fc2l6ZXNDb25maWcuYnVmZmVyID0gY3JlYXRlQnVmZmVyRnJvbURhdGEodGhpcy5fZ2wsIGZsYXR0ZW5lZFNpemVzLFxyXG4gICAgICAgIHRoaXMuX2dsLkFSUkFZX0JVRkZFUiwgdGhpcy5fZ2wuRFlOQU1JQ19EUkFXKTtcclxuICAgIHRoaXMuX2NvbG9yc0NvbmZpZy5idWZmZXIgPSBjcmVhdGVCdWZmZXJGcm9tRGF0YSh0aGlzLl9nbCwgZmxhdHRlbmVkQ29sb3JzLFxyXG4gICAgICAgIHRoaXMuX2dsLkFSUkFZX0JVRkZFUiwgdGhpcy5fZ2wuRFlOQU1JQ19EUkFXKTtcclxuXHJcbiAgICB0aGlzLl9wcm9ncmFtVmFyaWFibGVzQ29uZmlnLmVsZW1lbnRDb3VudCA9IGVsZW1lbnRDb3VudDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7QWFiYn0gYm91bmRzXHJcbiAgICogQHJldHVybnMge3ZlYzN9XHJcbiAgICogQHByaXZhdGVcclxuICAgKi9cclxuICBzdGF0aWMgX2dldFJhbmRvbVBvc2l0aW9uKGJvdW5kcykge1xyXG4gICAgcmV0dXJuIHZlYzMuZnJvbVZhbHVlcyhcclxuICAgICAgICByYW5kb21GbG9hdEluUmFuZ2UoYm91bmRzLm1pblgsIGJvdW5kcy5tYXhYKSxcclxuICAgICAgICByYW5kb21GbG9hdEluUmFuZ2UoYm91bmRzLm1pblksIGJvdW5kcy5tYXhZKSxcclxuICAgICAgICByYW5kb21GbG9hdEluUmFuZ2UoYm91bmRzLm1pblosIGJvdW5kcy5tYXhaKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAcmV0dXJucyB7bnVtYmVyfVxyXG4gICAqIEBwcml2YXRlXHJcbiAgICovXHJcbiAgc3RhdGljIF9nZXRSYW5kb21TaXplKCkge1xyXG4gICAgcmV0dXJuIHJhbmRvbUZsb2F0SW5SYW5nZShzdGFyc0NvbmZpZy5taW5TaXplLCBzdGFyc0NvbmZpZy5tYXhTaXplKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEByZXR1cm5zIHt2ZWMzfVxyXG4gICAqIEBwcml2YXRlXHJcbiAgICovXHJcbiAgc3RhdGljIF9nZXRSYW5kb21Db2xvcigpIHtcclxuICAgIGNvbnN0IGhzbCA9IHtcclxuICAgICAgaDogcmFuZG9tRmxvYXRJblJhbmdlKHN0YXJzQ29uZmlnLm1pbkh1ZSwgc3RhcnNDb25maWcubWF4SHVlKSxcclxuICAgICAgczogcmFuZG9tRmxvYXRJblJhbmdlKHN0YXJzQ29uZmlnLm1pblNhdHVyYXRpb24sIHN0YXJzQ29uZmlnLm1heFNhdHVyYXRpb24pLFxyXG4gICAgICBsOiByYW5kb21GbG9hdEluUmFuZ2Uoc3RhcnNDb25maWcubWluTGlnaHRuZXNzLCBzdGFyc0NvbmZpZy5tYXhMaWdodG5lc3MpXHJcbiAgICB9O1xyXG4gICAgY29uc3QgcmdiID0gaHNsVG9SZ2IoaHNsKTtcclxuICAgIHJldHVybiB2ZWMzLmZyb21WYWx1ZXMocmdiLnIsIHJnYi5nLCByZ2IuYik7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQge1N0YXJzQ29udHJvbGxlcn07XHJcblxyXG4vKipcclxuICogQHR5cGVkZWYge09iamVjdH0gU3RhclxyXG4gKiBAcHJvcGVydHkge3ZlYzN9IHBvc2l0aW9uXHJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBzaXplXHJcbiAqIEBwcm9wZXJ0eSB7dmVjM30gY29sb3JcclxuICovXHJcbiIsImV4cG9ydCAqIGZyb20gJy4vc3JjL3RvcnBlZG8tY29udHJvbGxlcic7XHJcbmV4cG9ydCAqIGZyb20gJy4vc3JjL3RvcnBlZG9lcy1jb25maWcnO1xyXG5leHBvcnQgKiBmcm9tICcuL3NyYy90b3JwZWRvZXMtY29udHJvbGxlcic7XHJcbiIsImltcG9ydCB7XHJcbiAgZ2V0T3RoZXJDb250cm9sbGVyRnJvbUNvbGxpc2lvbixcclxuICBDb2xsaWRhYmxlUGh5c2ljc01vZGVsQ29udHJvbGxlcixcclxufSBmcm9tICdnYW1leCc7XHJcblxyXG5pbXBvcnQge2ZsYXRDb2xvclByb2dyYW1XcmFwcGVyQ29uZmlnfSBmcm9tICcuLi8uLi8uLi9wcm9ncmFtcyc7XHJcbmltcG9ydCB7dG9ycGVkb2VzQ29uZmlnfSBmcm9tICcuL3RvcnBlZG9lcy1jb25maWcnO1xyXG5cclxuLyoqXHJcbiAqIFRoaXMgY2xhc3MgY29udHJvbHMgYSB0b3JwZWRvLlxyXG4gKi9cclxuY2xhc3MgVG9ycGVkb0NvbnRyb2xsZXIgZXh0ZW5kcyBDb2xsaWRhYmxlUGh5c2ljc01vZGVsQ29udHJvbGxlciB7XHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtNb2RlbENvbnRyb2xsZXJDb25maWd9IG1vZGVsQ29udHJvbGxlclBhcmFtc1xyXG4gICAqIEBwYXJhbSB7VG9ycGVkb0NvbmZpZ30gdG9ycGVkb1BhcmFtc1xyXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRGVzdHJveWVkQ2FsbGJhY2tcclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihtb2RlbENvbnRyb2xsZXJQYXJhbXMsIHRvcnBlZG9QYXJhbXMsIG9uRGVzdHJveWVkQ2FsbGJhY2spIHtcclxuICAgIG1vZGVsQ29udHJvbGxlclBhcmFtcy5wcm9ncmFtV3JhcHBlcklkID0gdG9ycGVkb2VzQ29uZmlnLnNoYWRlclByb2dyYW07XHJcblxyXG4gICAgY29uc3Qgc2hhcGVQYXJhbXMgPSBfY3JlYXRlU2hhcGVQYXJhbXModG9ycGVkb1BhcmFtcyk7XHJcbiAgICBjb25zdCBkeW5hbWljc1BhcmFtcyA9IF9jcmVhdGVEeW5hbWljc1BhcmFtcyh0b3JwZWRvUGFyYW1zKTtcclxuICAgIGNvbnN0IGZvcmNlQXBwbGllcnMgPSBbXTtcclxuXHJcbiAgICBzdXBlcihtb2RlbENvbnRyb2xsZXJQYXJhbXMsIGR5bmFtaWNzUGFyYW1zLCBzaGFwZVBhcmFtcywgZm9yY2VBcHBsaWVycyk7XHJcblxyXG4gICAgdGhpcy5zb3VyY2UgPSB0b3JwZWRvUGFyYW1zLnNvdXJjZTtcclxuICAgIHRoaXMuX29uRGVzdHJveWVkQ2FsbGJhY2sgPSBvbkRlc3Ryb3llZENhbGxiYWNrO1xyXG5cclxuICAgIHRoaXMubW9kZWxDdHJsLl9jb2xvciA9IHZlYzQuZnJvbVZhbHVlcyh0b3JwZWRvUGFyYW1zLmNvbG9yWzBdLCB0b3JwZWRvUGFyYW1zLmNvbG9yWzFdLFxyXG4gICAgICAgIHRvcnBlZG9QYXJhbXMuY29sb3JbMl0sIHRvcnBlZG9lc0NvbmZpZy5hbHBoYSk7XHJcblxyXG4gICAgLy8gUmUtdXNlIHNvbWUgbWV0aG9kcyB0aGF0IGFyZSBjb21tb24gZm9yIHRoZSBmbGF0LWNvbG9yIHByb2dyYW0uXHJcbiAgICB0aGlzLl9wYXRjaE1vZGVsQ29udHJvbGxlcih7XHJcbiAgICAgIGRyYXc6IGZsYXRDb2xvclByb2dyYW1XcmFwcGVyQ29uZmlnLmRyYXcsXHJcbiAgICAgIF9zZXRVcFByb2dyYW1WYXJpYWJsZXNDb25maWc6IGZsYXRDb2xvclByb2dyYW1XcmFwcGVyQ29uZmlnLnNldFVwUHJvZ3JhbVZhcmlhYmxlc0NvbmZpZyxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcmVzZXQoKSB7XHJcbiAgICBzdXBlci5yZXNldCgpO1xyXG5cclxuICAgIC8vIENsZWFyIHNvbWUgdW51c2VkIGluaGVyaXRlZCBwcm9wZXJ0aWVzLlxyXG4gICAgZGVsZXRlIHRoaXMubW9kZWxDdHJsLl9ub3JtYWxNYXRyaXg7XHJcbiAgICBkZWxldGUgdGhpcy5fbW9kZWwuX3ZlcnRleE5vcm1hbHNCdWZmZXI7XHJcbiAgICBkZWxldGUgdGhpcy5fbW9kZWwuX3RleHR1cmVDb29yZGluYXRlc0J1ZmZlcjtcclxuICAgIGRlbGV0ZSB0aGlzLl9tb2RlbC5fdGV4dHVyZUNvb3JkaW5hdGVzQ29uZmlnO1xyXG4gICAgZGVsZXRlIHRoaXMuX21vZGVsLl92ZXJ0ZXhOb3JtYWxzQ29uZmlnO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtDb2xsaXNpb259IGNvbGxpc2lvblxyXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoaXMgbmVlZHMgdGhlIHN0YW5kYXJkIGNvbGxpc2lvbiByZXN0aXR1dGlvbiB0byBwcm9jZWVkLlxyXG4gICAqL1xyXG4gIGhhbmRsZUNvbGxpc2lvbihjb2xsaXNpb24pIHtcclxuICAgIGNvbnN0IG90aGVyID0gZ2V0T3RoZXJDb250cm9sbGVyRnJvbUNvbGxpc2lvbihjb2xsaXNpb24sIHRoaXMpO1xyXG5cclxuICAgIC8vIElnbm9yZSBjb2xsaXNpb25zIHdpdGggdGhlIG9iamVjdCB0aGF0IGNyZWF0ZWQgdGhpcyB0b3JwZWRvICh0aGlzIHNob3VsZG4ndCBoYXBwZW4sIGJ1dFxyXG4gICAgLy8gdGhlcmUncyBhIGJ1ZyBzb21ld2hlcmUpLlxyXG4gICAgaWYgKG90aGVyID09PSB0aGlzLnNvdXJjZSkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgIHRoaXMuX29uRGVzdHJveWVkQ2FsbGJhY2sodGhpcyk7XHJcblxyXG4gICAgY29uc3QgY29sbGlkYWJsZVR5cGUgPSBnZXRPdGhlckNvbnRyb2xsZXJGcm9tQ29sbGlzaW9uKGNvbGxpc2lvbiwgdGhpcykuY29uc3RydWN0b3IubmFtZTtcclxuICAgIHJldHVybiBjb2xsaWRhYmxlVHlwZSA9PT0gJ0FzdGVyb2lkQ29udHJvbGxlcicgPyBmYWxzZSA6IHRydWU7XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogQHBhcmFtIHtUb3JwZWRvQ29uZmlnfSB0b3JwZWRvUGFyYW1zXHJcbiAqIEByZXR1cm5zIHtSZW5kZXJhYmxlQW5kQ29sbGlkYWJsZVNoYXBlQ29uZmlnfVxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gX2NyZWF0ZVNoYXBlUGFyYW1zKHRvcnBlZG9QYXJhbXMpIHtcclxuICByZXR1cm4ge1xyXG4gICAgc2hhcGVJZDogJ0NBUFNVTEUnLFxyXG4gICAgY29sbGlkYWJsZVNoYXBlSWQ6ICdDQVBTVUxFJyxcclxuICAgIGlzU3RhdGlvbmFyeTogZmFsc2UsXHJcbiAgICBpc1VzaW5nU3BoZXJpY2FsTm9ybWFsczogZmFsc2UsXHJcbiAgICBkaXZpc2lvbnNDb3VudDogNCxcclxuICAgIGNhcHN1bGVFbmRQb2ludHNEaXN0YW5jZTogdG9ycGVkb1BhcmFtcy5sZW5ndGggLSB0b3JwZWRvUGFyYW1zLndpZHRoLFxyXG4gICAgcmFkaXVzOiB0b3JwZWRvUGFyYW1zLndpZHRoIC8gMixcclxuICAgIHNjYWxlOiB2ZWMzLmZyb21WYWx1ZXMoMSwgMSwgMSksXHJcbiAgfTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7VG9ycGVkb0NvbmZpZ30gdG9ycGVkb1BhcmFtc1xyXG4gKiBAcmV0dXJucyB7RHluYW1pY3NDb25maWd9XHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBfY3JlYXRlRHluYW1pY3NQYXJhbXModG9ycGVkb1BhcmFtcykge1xyXG4gIGNvbnN0IG1vbWVudHVtID0gdmVjMy5jcmVhdGUoKTtcclxuICB2ZWMzLnNjYWxlKG1vbWVudHVtLCB0b3JwZWRvUGFyYW1zLnZlbG9jaXR5LCB0b3JwZWRvZXNDb25maWcubWFzcyk7XHJcbiAgcmV0dXJuIHtcclxuICAgIG1hc3M6IHRvcnBlZG9lc0NvbmZpZy5tYXNzLFxyXG4gICAgcG9zaXRpb246IHRvcnBlZG9QYXJhbXMucG9zaXRpb24sXHJcbiAgICBtb21lbnR1bTogbW9tZW50dW0sXHJcbiAgICBvcmllbnRhdGlvbjogdG9ycGVkb1BhcmFtcy5vcmllbnRhdGlvbixcclxuICB9O1xyXG59XHJcblxyXG5leHBvcnQge1RvcnBlZG9Db250cm9sbGVyfTtcclxuXHJcbi8qKlxyXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBUb3JwZWRvQ29uZmlnXHJcbiAqIEBwcm9wZXJ0eSB7dmVjM30gcG9zaXRpb25cclxuICogQHByb3BlcnR5IHt2ZWMzfSB2ZWxvY2l0eVxyXG4gKiBAcHJvcGVydHkge3ZlYzN9IG9yaWVudGF0aW9uXHJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBsZW5ndGhcclxuICogQHByb3BlcnR5IHtudW1iZXJ9IHdpZHRoXHJcbiAqIEBwcm9wZXJ0eSB7dmVjM30gY29sb3JcclxuICogQHByb3BlcnR5IHtNb2RlbENvbnRyb2xsZXJ9IHNvdXJjZVxyXG4gKi9cclxuIiwiLyoqXHJcbiAqIFRoaXMgbW9kdWxlIGhhbmRsZXMgY29uZmlndXJhdGlvbiBwYXJhbWV0ZXJzIHJlbGF0aW5nIHRvIHRoZSB0b3JwZWRvIG1vZGVsLlxyXG4gKi9cclxuXHJcbmNvbnN0IHRvcnBlZG9lc0NvbmZpZyA9IHt9O1xyXG5cclxudG9ycGVkb2VzQ29uZmlnLnNoYWRlclByb2dyYW0gPSAnZmxhdC1jb2xvci1wcm9ncmFtJztcclxuXHJcbnRvcnBlZG9lc0NvbmZpZy5tYXNzID0gMTA7XHJcblxyXG50b3JwZWRvZXNDb25maWcuYWxwaGEgPSB7XHJcbiAgc3RhcnQ6IDAuOSxcclxuICBtaW46IDAsXHJcbiAgbWF4OiAxLFxyXG59O1xyXG5cclxuLy8gU2hvdWxkIHByb2JhYmx5IHRyeSB0byBrZWVwIHRoaXMgaW4tc3luYyB3aXRoIHNjZW5lQ29uZmlnLmNodW5rU2lkZUxlbmd0aC5cclxudG9ycGVkb2VzQ29uZmlnLnJlbW92YWxEaXN0YW5jZSA9IDMwMDtcclxuXHJcbnRvcnBlZG9lc0NvbmZpZy5fcmVtb3ZhbENoZWNrVGhyb3R0bGVEZWxheSA9IDMwMDtcclxudG9ycGVkb2VzQ29uZmlnLl9yZW1vdmFsU3F1YXJlZERpc3RhbmNlID0gbnVsbDtcclxuXHJcbmZ1bmN0aW9uIF91cGRhdGVSZW1vdmFsU3F1YXJlZERpc3RhbmNlKCkge1xyXG4gIHRvcnBlZG9lc0NvbmZpZy5fcmVtb3ZhbFNxdWFyZWREaXN0YW5jZSA9XHJcbiAgICAgIHRvcnBlZG9lc0NvbmZpZy5yZW1vdmFsRGlzdGFuY2UgKiB0b3JwZWRvZXNDb25maWcucmVtb3ZhbERpc3RhbmNlO1xyXG59XHJcblxyXG5fdXBkYXRlUmVtb3ZhbFNxdWFyZWREaXN0YW5jZSgpO1xyXG5cclxuY29uc3QgdG9ycGVkb2VzRm9sZGVyQ29uZmlnID0ge1xyXG4gIGxhYmVsOiAnVG9ycGVkb2VzJyxcclxuICBjb25maWc6IHRvcnBlZG9lc0NvbmZpZyxcclxuICBpc09wZW46IGZhbHNlLFxyXG4gIG9uQ2hhbmdlTGlzdGVuZXJzOiB7XHJcbiAgICAncmVtb3ZhbERpc3RhbmNlJzogX3VwZGF0ZVJlbW92YWxTcXVhcmVkRGlzdGFuY2UsXHJcbiAgfSxcclxufTtcclxuXHJcbmV4cG9ydCB7dG9ycGVkb2VzQ29uZmlnLCB0b3JwZWRvZXNGb2xkZXJDb25maWd9O1xyXG4iLCJpbXBvcnQge1xyXG4gIE1vZGVsR3JvdXBDb250cm9sbGVyLFxyXG4gIHRocm90dGxlLFxyXG59IGZyb20gJ2dhbWV4JztcclxuXHJcbmltcG9ydCB7VG9ycGVkb0NvbnRyb2xsZXJ9IGZyb20gJy4vdG9ycGVkby1jb250cm9sbGVyJztcclxuaW1wb3J0IHt0b3JwZWRvZXNDb25maWd9IGZyb20gJy4vdG9ycGVkb2VzLWNvbmZpZyc7XHJcblxyXG4vKipcclxuICogVGhpcyBjbGFzcyBjb250cm9scyBhbGwgdG9ycGVkb2VzIGluIHRoZSBzY2VuZS5cclxuICpcclxuICogLSBOZXcgdG9ycGVkb2VzIGFyZSBhZGRlZCBmcm9tIGVpdGhlciB0aGUgc2hpcCBvciBhIFVGTy5cclxuICogLSBPbGQgdG9ycGVkb2VzIGFyZSByZW1vdmVkIHdoZW4gdGhleSBtb3ZlIHRvbyBmYXIgZnJvbSB0aGUgc2hpcC5cclxuICovXHJcbmNsYXNzIFRvcnBlZG9lc0NvbnRyb2xsZXIgZXh0ZW5kcyBNb2RlbEdyb3VwQ29udHJvbGxlciB7XHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtNb2RlbEdyb3VwQ29udHJvbGxlckNvbmZpZ30gbW9kZWxDb250cm9sbGVyUGFyYW1zXHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbi48dmVjMz59IGdldFNoaXBQb3NpdGlvblxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKG1vZGVsQ29udHJvbGxlclBhcmFtcywgZ2V0U2hpcFBvc2l0aW9uKSB7XHJcbiAgICBzdXBlcihtb2RlbENvbnRyb2xsZXJQYXJhbXMpO1xyXG4gICAgdGhpcy5fZ2V0U2hpcFBvc2l0aW9uID0gZ2V0U2hpcFBvc2l0aW9uO1xyXG4gICAgdGhpcy5fdGhyb3R0bGVkUmVtb3ZlRGlzdGFudFRvcnBlZG9lcyA9XHJcbiAgICAgICAgdGhyb3R0bGUoKCkgPT4gdGhpcy5fcmVtb3ZlRGlzdGFudFRvcnBlZG9lcygpLCB0b3JwZWRvZXNDb25maWcuX3JlbW92YWxDaGVja1Rocm90dGxlRGVsYXkpO1xyXG4gIH1cclxuXHJcbiAgcmVzZXQoKSB7XHJcbiAgICB0aGlzLmNsZWFyTW9kZWxDb250cm9sbGVycygpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtUb3JwZWRvQ29uZmlnfSB0b3JwZWRvUGFyYW1zXHJcbiAgICovXHJcbiAgY3JlYXRlVG9ycGVkbyh0b3JwZWRvUGFyYW1zKSB7XHJcbiAgICBjb25zdCBtb2RlbENvbnRyb2xsZXJQYXJhbXMgPSB7XHJcbiAgICAgIGdsOiB0aGlzLl9nbCxcclxuICAgICAgZ2V0Vmlld01hdHJpeDogdGhpcy5fZ2V0Vmlld01hdHJpeCxcclxuICAgICAgZ2V0UHJvamVjdGlvbk1hdHJpeDogdGhpcy5fZ2V0UHJvamVjdGlvbk1hdHJpeCxcclxuICAgICAgZ2V0UGFyZW50V29ybGRUcmFuc2Zvcm06IHRoaXMuX2dldFBhcmVudFdvcmxkVHJhbnNmb3JtLFxyXG4gICAgfTtcclxuICAgIGNvbnN0IHRvcnBlZG8gPSBuZXcgVG9ycGVkb0NvbnRyb2xsZXIobW9kZWxDb250cm9sbGVyUGFyYW1zLCB0b3JwZWRvUGFyYW1zLFxyXG4gICAgICAgIHRvcnBlZG8gPT4gdGhpcy5fb25Nb2RlbENvbnRyb2xsZXJEZXN0cm95ZWQodG9ycGVkbykpO1xyXG4gICAgdGhpcy5fc3RhcnRNb2RlbENvbnRyb2xsZXIodG9ycGVkbyk7XHJcbiAgfVxyXG5cclxuICBfcmVtb3ZlRGlzdGFudFRvcnBlZG9lcygpIHtcclxuICAgIHRoaXMuX3JlbW92ZURpc3RhbnRNb2RlbENvbnRyb2xsZXJzKHRoaXMuX2dldFNoaXBQb3NpdGlvbigpLFxyXG4gICAgICAgIHRvcnBlZG9lc0NvbmZpZy5fcmVtb3ZhbFNxdWFyZWREaXN0YW5jZSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGN1cnJlbnRUaW1lXHJcbiAgICogQHBhcmFtIHtET01IaWdoUmVzVGltZVN0YW1wfSBkZWx0YVRpbWVcclxuICAgKi9cclxuICB1cGRhdGUoY3VycmVudFRpbWUsIGRlbHRhVGltZSkge1xyXG4gICAgdGhpcy5fdGhyb3R0bGVkUmVtb3ZlRGlzdGFudFRvcnBlZG9lcygpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkXHJcbiAgICovXHJcbiAgLy8gVE9ETzogQ2FsbCB0aGlzIGZyb20gZGF0LkdVSSB0cmlnZ2VyLlxyXG4gIHVwZGF0ZVByb2dyYW1XcmFwcGVyKGlkKSB7XHJcbiAgICB0aGlzLl9tb2RlbEN0cmxzLmZvckVhY2gob2JqZWN0ID0+IG9iamVjdC5wcm9ncmFtV3JhcHBlcklkID0gaWQpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IHtUb3JwZWRvZXNDb250cm9sbGVyfTtcclxuIiwiZXhwb3J0ICogZnJvbSAnLi9zcmMvdWZvLWNvbnRyb2xsZXInO1xyXG5leHBvcnQgKiBmcm9tICcuL3NyYy91Zm9zLWNvbmZpZyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vc3JjL3Vmb3MtY29udHJvbGxlcic7XHJcbiIsImltcG9ydCB7XHJcbiAgQ29sbGlkYWJsZVBoeXNpY3NNb2RlbENvbnRyb2xsZXIsXHJcbn0gZnJvbSAnZ2FtZXgnO1xyXG5cclxuLyoqXHJcbiAqIFRoaXMgY2xhc3MgY29udHJvbHMgYW4gdWZvLlxyXG4gKi9cclxuY2xhc3MgVWZvQ29udHJvbGxlciBleHRlbmRzIENvbGxpZGFibGVQaHlzaWNzTW9kZWxDb250cm9sbGVyIHtcclxuICAvLyBUT0RPXHJcblxyXG4gIC8vIFRPRE86IFRoaXMgb2xkIGxvZ2ljIGZyb20gQXN0ZXJvaWRzQ29udHJvbGxlciBzaG91bGQgYmUgdXNlZnVsIGZvciBjYWxjdWxhdGluZyBpbnRlcmNlcHQgY291cnNlc1xyXG4gIC8vICAgICAgIGZvciB0aGUgVUZPcyB0byBzdGFydCBvZmYgd2l0aC5cclxuICAvLyAvKipcclxuICAvLyAgKiBDYWxjdWxhdGVzIGEgcmFuZG9tIHZlbG9jaXR5IHRoYXQgbW92ZXMgdGhlIGFzdGVyb2lkIGNsb3NlIHRvIHRoZSBzaGlwLlxyXG4gIC8vICAqXHJcbiAgLy8gICogQHBhcmFtIHt2ZWMzfSBhc3Rlcm9pZFBvc2l0aW9uXHJcbiAgLy8gICogQHJldHVybnMge3ZlYzN9XHJcbiAgLy8gICogQHByaXZhdGVcclxuICAvLyAgKi9cclxuICAvLyBfY3JlYXRlUmFuZG9tQXN0ZXJvaWRWZWxvY2l0eShhc3Rlcm9pZFBvc2l0aW9uKSB7XHJcbiAgLy8gICBjb25zdCBzaGlwUG9zaXRpb24gPSB0aGlzLl9nZXRTaGlwUG9zaXRpb24oKTtcclxuICAvLyAgIGNvbnN0IHNoaXBWZWxvY2l0eSA9IHRoaXMuX2dldFNoaXBWZWxvY2l0eSgpO1xyXG4gIC8vXHJcbiAgLy8gICAvLyBDYWxjdWxhdGUgYSByYW5kb20gc3BlZWQgZm9yIHRoZSBhc3Rlcm9pZC5cclxuICAvLyAgIGNvbnN0IGFzdGVyb2lkU3BlZWQgPSByYW5kb21GbG9hdEluUmFuZ2UoYXN0ZXJvaWRzQ29uZmlnLm1pblNwZWVkLCBhc3Rlcm9pZHNDb25maWcubWF4U3BlZWQpO1xyXG4gIC8vXHJcbiAgLy8gICAvLyBDYWxjdWxhdGUgaW4gd2hhdCBkaXJlY3Rpb24gdGhlIGFzdGVyb2lkIG5lZWRzIHRvIHRyYXZlbCBpbiBvcmRlciB0byBjb2xsaWRlIHdpdGggdGhlIHNoaXAgaWZcclxuICAvLyAgIC8vIHRoZSBzaGlwIHdlcmUgdG8gbWFpbnRhaW4gaXQncyBjdXJyZW50IHZlbG9jaXR5LlxyXG4gIC8vICAgY29uc3QgaW50ZXJjZXB0VmVsb2NpdHkgPSB2ZWMzLmNyZWF0ZSgpO1xyXG4gIC8vICAgY2FsY3VsYXRlSW50ZXJjZXB0VmVsb2NpdHkoXHJcbiAgLy8gICAgICAgaW50ZXJjZXB0VmVsb2NpdHksIGFzdGVyb2lkUG9zaXRpb24sIGFzdGVyb2lkU3BlZWQsIHNoaXBQb3NpdGlvbiwgc2hpcFZlbG9jaXR5KTtcclxuICAvL1xyXG4gIC8vICAgLy8gQWRkIGEgcmFuZG9tIGRldmlhdGlvbiB0byB0aGUgdmVsb2NpdHkgY2FsY3VsYXRlZCBhYm92ZS5cclxuICAvLyAgIGFkZFJhbmRvbVJvdGF0aW9uVG9WZWN0b3IoaW50ZXJjZXB0VmVsb2NpdHksXHJcbiAgLy8gICAgICAgYXN0ZXJvaWRzQ29uZmlnLm1pbkludGVyY2VwdFZlbG9jaXR5RGV2aWF0aW9uQW5nbGUsXHJcbiAgLy8gICAgICAgYXN0ZXJvaWRzQ29uZmlnLm1heEludGVyY2VwdFZlbG9jaXR5RGV2aWF0aW9uQW5nbGUpO1xyXG4gIC8vXHJcbiAgLy8gICByZXR1cm4gaW50ZXJjZXB0VmVsb2NpdHk7XHJcbiAgLy8gfVxyXG59XHJcbiIsIi8qKlxyXG4gKiBUaGlzIG1vZHVsZSBoYW5kbGVzIGNvbmZpZ3VyYXRpb24gcGFyYW1ldGVycyByZWxhdGluZyB0byB0aGUgdWZvcyBtb2RlbC5cclxuICovXHJcblxyXG5jb25zdCB1Zm9zQ29uZmlnID0ge307XHJcblxyXG51Zm9zQ29uZmlnLnRleHR1cmVQYXRoID0gJ2ltYWdlcy90ZXh0dXJlcy9tZXRhbC9tZXRhbDEucG5nJztcclxudWZvc0NvbmZpZy5pbml0aWFsVWZvQ291bnQgPSAxMDtcclxudWZvc0NvbmZpZy5pbml0aWFsVWZvRGlzdGFuY2VGcm9tU2hpcCA9IDQwO1xyXG5cclxuLy8gU2NlbmUgY29vcmRpbmF0ZXMgcGVyIG1pbGxpc2Vjb25kLlxyXG51Zm9zQ29uZmlnLm1pblNwZWVkID0gMC4wMDAxO1xyXG51Zm9zQ29uZmlnLm1heFNwZWVkID0gMC4wMDE7XHJcblxyXG51Zm9zQ29uZmlnLm1pbkludGVyY2VwdFZlbG9jaXR5RGV2aWF0aW9uQW5nbGUgPSBNYXRoLlBJICogMC4xO1xyXG51Zm9zQ29uZmlnLm1heEludGVyY2VwdFZlbG9jaXR5RGV2aWF0aW9uQW5nbGUgPSBNYXRoLlBJICogMC4zO1xyXG5cclxuY29uc3QgdWZvc0ZvbGRlckNvbmZpZyA9IHtcclxuICBsYWJlbDogJ1VGT3MnLFxyXG4gIGNvbmZpZzogdWZvc0NvbmZpZyxcclxuICBpc09wZW46IGZhbHNlXHJcbn07XHJcblxyXG5leHBvcnQge3Vmb3NDb25maWcsIHVmb3NGb2xkZXJDb25maWd9O1xyXG4iLCJpbXBvcnQge1xyXG4gIE1vZGVsR3JvdXBDb250cm9sbGVyLFxyXG59IGZyb20gJ2dhbWV4JztcclxuXHJcbi8qKlxyXG4gKiBUaGlzIGNsYXNzIGNvbnRyb2xzIHRoZSBjb2xsZWN0aW9uIG9mIFVGT3MuLlxyXG4gKi9cclxuY2xhc3MgVWZvc0NvbnRyb2xsZXIgZXh0ZW5kcyBNb2RlbEdyb3VwQ29udHJvbGxlciB7XHJcbiAgLy8gVE9ET1xyXG59XHJcbiIsIi8qKlxyXG4gKiBUaGlzIG1vZHVsZSBkZWZpbmVzIHRoZSBjb25maWd1cmF0aW9uIGZvciBhIFdlYkdMIHByb2dyYW0gdGhhdCBjb21iaW5lcyB0d28gaW1hZ2VzIHRvZ2V0aGVyLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7cHJvZ3JhbVdyYXBwZXJTdG9yZSwgY3JlYXRlMkRTcXVhcmVQb3NpdGlvbnNDb25maWd9IGZyb20gJ2dhbWV4JztcclxuXHJcbmNvbnN0IGJsZW5kUHJvZ3JhbVdyYXBwZXJDb25maWcgPSB7fTtcclxuXHJcbmJsZW5kUHJvZ3JhbVdyYXBwZXJDb25maWcuaWQgPSAnYmxlbmQtcHJvZ3JhbSc7XHJcblxyXG4vLyBUaGUgYnVpbGQgc3lzdGVtIG1vdmVzIHNoYWRlciBmaWxlcyB0byBkaXN0L3NoYWRlcnMvLlxyXG5ibGVuZFByb2dyYW1XcmFwcGVyQ29uZmlnLnZlcnRleFNoYWRlclBhdGggPSAnc2hhZGVycy9wb3N0LXByb2Nlc3Nvci1zaGFkZXIudmVydCc7XHJcbmJsZW5kUHJvZ3JhbVdyYXBwZXJDb25maWcuZnJhZ21lbnRTaGFkZXJQYXRoID0gJ3NoYWRlcnMvYmxlbmQtc2hhZGVyLmZyYWcnO1xyXG5cclxubGV0IF9wb3NpdGlvbnNDb25maWcgPSBudWxsO1xyXG5sZXQgX3Byb2dyYW1WYXJpYWJsZXNDb25maWcgPSBudWxsO1xyXG5cclxuLyoqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCAqL1xyXG5ibGVuZFByb2dyYW1XcmFwcGVyQ29uZmlnLmluaXRpYWxpemUgPSBnbCA9PiB7XHJcbiAgX3Bvc2l0aW9uc0NvbmZpZyA9IGNyZWF0ZTJEU3F1YXJlUG9zaXRpb25zQ29uZmlnKGdsKTtcclxuICBfcHJvZ3JhbVZhcmlhYmxlc0NvbmZpZyA9IHtcclxuICAgIGF0dHJpYnV0ZXM6IHtcclxuICAgICAgYVZlcnRleFBvc2l0aW9uOiBfcG9zaXRpb25zQ29uZmlnLFxyXG4gICAgfSxcclxuICAgIHVuaWZvcm1zOiB7XHJcbiAgICAgIHVNb2RlbHNTYW1wbGVyOiBudWxsLFxyXG4gICAgICB1QnJpZ2h0bmVzc1NhbXBsZXI6IG51bGwsXHJcbiAgICB9LFxyXG4gICAgbW9kZTogZ2wuVFJJQU5HTEVTLFxyXG4gICAgZWxlbWVudENvdW50OiA2LFxyXG4gIH07XHJcbn07XHJcblxyXG4vKipcclxuICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsXHJcbiAqIEBwYXJhbSB7QXJyYXkuPHN0cmluZz59IGlucHV0RnJhbWVidWZmZXJJZHNcclxuICogQHJldHVybnMge1Byb2dyYW1WYXJpYWJsZXNDb25maWd9XHJcbiAqL1xyXG5ibGVuZFByb2dyYW1XcmFwcGVyQ29uZmlnLmdldFByb2dyYW1WYXJpYWJsZXNDb25maWcgPSAoZ2wsIGlucHV0RnJhbWVidWZmZXJJZHMpID0+IHtcclxuICBfcHJvZ3JhbVZhcmlhYmxlc0NvbmZpZy51bmlmb3Jtcy51TW9kZWxzU2FtcGxlciA9XHJcbiAgICAgIHByb2dyYW1XcmFwcGVyU3RvcmUuZ2V0VGV4dHVyZShpbnB1dEZyYW1lYnVmZmVySWRzWzBdKTtcclxuICBfcHJvZ3JhbVZhcmlhYmxlc0NvbmZpZy51bmlmb3Jtcy51QnJpZ2h0bmVzc1NhbXBsZXIgPVxyXG4gICAgICBwcm9ncmFtV3JhcHBlclN0b3JlLmdldFRleHR1cmUoaW5wdXRGcmFtZWJ1ZmZlcklkc1sxXSk7XHJcbiAgcmV0dXJuIF9wcm9ncmFtVmFyaWFibGVzQ29uZmlnO1xyXG59O1xyXG5cclxuZXhwb3J0IHtibGVuZFByb2dyYW1XcmFwcGVyQ29uZmlnfTtcclxuIiwiLyoqXHJcbiAqIFRoaXMgbW9kdWxlIGRlZmluZXMgdGhlIGNvbmZpZ3VyYXRpb24gZm9yIGEgV2ViR0wgcHJvZ3JhbSB0aGF0IHByb2Nlc3NlcyBhbiBpbWFnZSBpbiBvcmRlciB0b1xyXG4gKiByZW5kZXIgYmxvb20gZm9yIHRoZSBicmlnaHQgYXJlYXMuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHtcclxuICBnZXRWaWV3cG9ydEhlaWdodCxcclxuICBnZXRWaWV3cG9ydFdpZHRoLFxyXG4gIE1PREVMU19GUkFNRUJVRkZFUl9JRCxcclxuICBwcm9ncmFtV3JhcHBlclN0b3JlLFxyXG59IGZyb20gJ2dhbWV4JztcclxuXHJcbmltcG9ydCB7YmxlbmRQcm9ncmFtV3JhcHBlckNvbmZpZ30gIGZyb20gJy4vYmxlbmQtcHJvZ3JhbS9ibGVuZC1wcm9ncmFtLWNvbmZpZyc7XHJcbmltcG9ydCB7Ymx1ckhvcml6b250YWxQcm9ncmFtV3JhcHBlckNvbmZpZ30gIGZyb20gJy4vYmx1ci1ob3Jpem9udGFsLXByb2dyYW0vYmx1ci1ob3Jpem9udGFsLXByb2dyYW0tY29uZmlnJztcclxuaW1wb3J0IHtibHVyVmVydGljYWxQcm9ncmFtV3JhcHBlckNvbmZpZ30gIGZyb20gJy4vYmx1ci12ZXJ0aWNhbC1wcm9ncmFtL2JsdXItdmVydGljYWwtcHJvZ3JhbS1jb25maWcnO1xyXG5pbXBvcnQge2JyaWdodG5lc3NQcm9ncmFtV3JhcHBlckNvbmZpZ30gIGZyb20gJy4vYnJpZ2h0bmVzcy1maWx0ZXItcHJvZ3JhbS9icmlnaHRuZXNzLWZpbHRlci1wcm9ncmFtLWNvbmZpZyc7XHJcblxyXG5jb25zdCBfQkxPT01fRlJBTUVCVUZGRVJfMV9JRCA9ICdibG9vbS1mcmFtZWJ1ZmZlci0xJztcclxuY29uc3QgX0JMT09NX0ZSQU1FQlVGRkVSXzJfSUQgPSAnYmxvb20tZnJhbWVidWZmZXItMic7XHJcblxyXG5jb25zdCBibG9vbVByb2dyYW1XcmFwcGVyQ29uZmlnID0ge307XHJcblxyXG5ibG9vbVByb2dyYW1XcmFwcGVyQ29uZmlnLmlkID0gJ2Jsb29tLXByb2dyYW0nO1xyXG5cclxuYmxvb21Qcm9ncmFtV3JhcHBlckNvbmZpZy5yZW5kZXJQcmlvcml0eSA9IDE7XHJcblxyXG5ibG9vbVByb2dyYW1XcmFwcGVyQ29uZmlnLmlzQVBvc3RQcm9jZXNzb3IgPSB0cnVlO1xyXG5cclxuYmxvb21Qcm9ncmFtV3JhcHBlckNvbmZpZy5jaGlsZHJlblByb2dyYW1Db25maWdzID0gW1xyXG4gIGJyaWdodG5lc3NQcm9ncmFtV3JhcHBlckNvbmZpZyxcclxuICBibHVySG9yaXpvbnRhbFByb2dyYW1XcmFwcGVyQ29uZmlnLFxyXG4gIGJsdXJWZXJ0aWNhbFByb2dyYW1XcmFwcGVyQ29uZmlnLFxyXG4gIGJsZW5kUHJvZ3JhbVdyYXBwZXJDb25maWcsXHJcbl07XHJcblxyXG5ibG9vbVByb2dyYW1XcmFwcGVyQ29uZmlnLmNoaWxkcmVuUHJvZ3JhbXNUb0RyYXcgPSBbXHJcbiAge1xyXG4gICAgcHJvZ3JhbUlkOiBicmlnaHRuZXNzUHJvZ3JhbVdyYXBwZXJDb25maWcuaWQsXHJcbiAgICBpbnB1dEZyYW1lYnVmZmVySWRzOiBbTU9ERUxTX0ZSQU1FQlVGRkVSX0lEXSxcclxuICAgIG91dHB1dEZyYW1lYnVmZmVySWQ6IF9CTE9PTV9GUkFNRUJVRkZFUl8xX0lELFxyXG4gIH0sXHJcbiAge1xyXG4gICAgcHJvZ3JhbUlkOiBibHVySG9yaXpvbnRhbFByb2dyYW1XcmFwcGVyQ29uZmlnLmlkLFxyXG4gICAgaW5wdXRGcmFtZWJ1ZmZlcklkczogW19CTE9PTV9GUkFNRUJVRkZFUl8xX0lEXSxcclxuICAgIG91dHB1dEZyYW1lYnVmZmVySWQ6IF9CTE9PTV9GUkFNRUJVRkZFUl8yX0lELFxyXG4gIH0sXHJcbiAge1xyXG4gICAgcHJvZ3JhbUlkOiBibHVyVmVydGljYWxQcm9ncmFtV3JhcHBlckNvbmZpZy5pZCxcclxuICAgIGlucHV0RnJhbWVidWZmZXJJZHM6IFtfQkxPT01fRlJBTUVCVUZGRVJfMl9JRF0sXHJcbiAgICBvdXRwdXRGcmFtZWJ1ZmZlcklkOiBfQkxPT01fRlJBTUVCVUZGRVJfMV9JRCxcclxuICB9LFxyXG4gIHtcclxuICAgIHByb2dyYW1JZDogYmx1ckhvcml6b250YWxQcm9ncmFtV3JhcHBlckNvbmZpZy5pZCxcclxuICAgIGlucHV0RnJhbWVidWZmZXJJZHM6IFtfQkxPT01fRlJBTUVCVUZGRVJfMV9JRF0sXHJcbiAgICBvdXRwdXRGcmFtZWJ1ZmZlcklkOiBfQkxPT01fRlJBTUVCVUZGRVJfMl9JRCxcclxuICB9LFxyXG4gIHtcclxuICAgIHByb2dyYW1JZDogYmx1clZlcnRpY2FsUHJvZ3JhbVdyYXBwZXJDb25maWcuaWQsXHJcbiAgICBpbnB1dEZyYW1lYnVmZmVySWRzOiBbX0JMT09NX0ZSQU1FQlVGRkVSXzJfSURdLFxyXG4gICAgb3V0cHV0RnJhbWVidWZmZXJJZDogX0JMT09NX0ZSQU1FQlVGRkVSXzFfSUQsXHJcbiAgfSxcclxuICB7XHJcbiAgICBwcm9ncmFtSWQ6IGJsdXJIb3Jpem9udGFsUHJvZ3JhbVdyYXBwZXJDb25maWcuaWQsXHJcbiAgICBpbnB1dEZyYW1lYnVmZmVySWRzOiBbX0JMT09NX0ZSQU1FQlVGRkVSXzFfSURdLFxyXG4gICAgb3V0cHV0RnJhbWVidWZmZXJJZDogX0JMT09NX0ZSQU1FQlVGRkVSXzJfSUQsXHJcbiAgfSxcclxuICB7XHJcbiAgICBwcm9ncmFtSWQ6IGJsdXJWZXJ0aWNhbFByb2dyYW1XcmFwcGVyQ29uZmlnLmlkLFxyXG4gICAgaW5wdXRGcmFtZWJ1ZmZlcklkczogW19CTE9PTV9GUkFNRUJVRkZFUl8yX0lEXSxcclxuICAgIG91dHB1dEZyYW1lYnVmZmVySWQ6IF9CTE9PTV9GUkFNRUJVRkZFUl8xX0lELFxyXG4gIH0sXHJcbiAge1xyXG4gICAgcHJvZ3JhbUlkOiBibHVySG9yaXpvbnRhbFByb2dyYW1XcmFwcGVyQ29uZmlnLmlkLFxyXG4gICAgaW5wdXRGcmFtZWJ1ZmZlcklkczogW19CTE9PTV9GUkFNRUJVRkZFUl8xX0lEXSxcclxuICAgIG91dHB1dEZyYW1lYnVmZmVySWQ6IF9CTE9PTV9GUkFNRUJVRkZFUl8yX0lELFxyXG4gIH0sXHJcbiAge1xyXG4gICAgcHJvZ3JhbUlkOiBibHVyVmVydGljYWxQcm9ncmFtV3JhcHBlckNvbmZpZy5pZCxcclxuICAgIGlucHV0RnJhbWVidWZmZXJJZHM6IFtfQkxPT01fRlJBTUVCVUZGRVJfMl9JRF0sXHJcbiAgICBvdXRwdXRGcmFtZWJ1ZmZlcklkOiBfQkxPT01fRlJBTUVCVUZGRVJfMV9JRCxcclxuICB9LFxyXG4gIHtcclxuICAgIHByb2dyYW1JZDogYmxlbmRQcm9ncmFtV3JhcHBlckNvbmZpZy5pZCxcclxuICAgIGlucHV0RnJhbWVidWZmZXJJZHM6IFtNT0RFTFNfRlJBTUVCVUZGRVJfSUQsIF9CTE9PTV9GUkFNRUJVRkZFUl8xX0lEXSxcclxuICAgIC8vIFRPRE86IEFkZCBzdXBwb3J0IGZvciBub3QgcmVuZGVyaW5nIHRoZSBsYXN0IHN1Yi1wcm9ncmFtIGRpcmVjdGx5IHRvIHRoZSBjYW52YXMgaWYgd2UgZXZlclxyXG4gICAgLy8gYWRkIGEgc2Vjb25kIHBvc3QtcHJvY2Vzc2luZyBwcm9ncmFtLlxyXG4gICAgb3V0cHV0RnJhbWVidWZmZXJJZDogbnVsbCxcclxuICB9LFxyXG5dO1xyXG5cclxuLy8gUGluZy1wb25nIGZyYW1lYnVmZmVycy5cclxuYmxvb21Qcm9ncmFtV3JhcHBlckNvbmZpZy5jaGlsZHJlbkZyYW1lYnVmZmVySWRzID1cclxuICAgIFtfQkxPT01fRlJBTUVCVUZGRVJfMV9JRCwgX0JMT09NX0ZSQU1FQlVGRkVSXzJfSURdO1xyXG5cclxuLyoqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCAqL1xyXG5ibG9vbVByb2dyYW1XcmFwcGVyQ29uZmlnLndlYkdMU3RhdGVTZXR0ZXIgPSBnbCA9PiB7XHJcbiAgZ2wuZGlzYWJsZShnbC5ERVBUSF9URVNUKTtcclxuICBnbC5kaXNhYmxlKGdsLkJMRU5EKTtcclxufTtcclxuXHJcbmV4cG9ydCB7Ymxvb21Qcm9ncmFtV3JhcHBlckNvbmZpZ307XHJcbiIsIi8qKlxyXG4gKiBUaGlzIG1vZHVsZSBkZWZpbmVzIHRoZSBjb25maWd1cmF0aW9uIGZvciBhIFdlYkdMIHByb2dyYW0gdGhhdCBwcm9jZXNzZXMgYW4gaW1hZ2UgdG8gYmx1ciBwaXhlbHNcclxuICogaG9yaXpvbnRhbGx5LlxyXG4gKi9cclxuXHJcbmltcG9ydCB7XHJcbiAgcHJvZ3JhbVdyYXBwZXJTdG9yZSxcclxuICBjcmVhdGUyRFNxdWFyZVBvc2l0aW9uc0NvbmZpZyxcclxuICBnZXRWaWV3cG9ydEhlaWdodCxcclxuICBnZXRWaWV3cG9ydFdpZHRoLFxyXG59IGZyb20gJ2dhbWV4JztcclxuXHJcbmNvbnN0IGJsdXJIb3Jpem9udGFsUHJvZ3JhbVdyYXBwZXJDb25maWcgPSB7fTtcclxuXHJcbmJsdXJIb3Jpem9udGFsUHJvZ3JhbVdyYXBwZXJDb25maWcuaWQgPSAnYmx1ci1ob3Jpem9udGFsLXByb2dyYW0nO1xyXG5cclxuLy8gVGhlIGJ1aWxkIHN5c3RlbSBtb3ZlcyBzaGFkZXIgZmlsZXMgdG8gZGlzdC9zaGFkZXJzLy5cclxuYmx1ckhvcml6b250YWxQcm9ncmFtV3JhcHBlckNvbmZpZy52ZXJ0ZXhTaGFkZXJQYXRoID0gJ3NoYWRlcnMvcG9zdC1wcm9jZXNzb3Itc2hhZGVyLnZlcnQnO1xyXG5ibHVySG9yaXpvbnRhbFByb2dyYW1XcmFwcGVyQ29uZmlnLmZyYWdtZW50U2hhZGVyUGF0aCA9ICdzaGFkZXJzL2JsdXItaG9yaXpvbnRhbC1zaGFkZXIuZnJhZyc7XHJcblxyXG5sZXQgX3Bvc2l0aW9uc0NvbmZpZyA9IG51bGw7XHJcbmxldCBfcHJvZ3JhbVZhcmlhYmxlc0NvbmZpZyA9IG51bGw7XHJcblxyXG4vKiogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsICovXHJcbmJsdXJIb3Jpem9udGFsUHJvZ3JhbVdyYXBwZXJDb25maWcuaW5pdGlhbGl6ZSA9IGdsID0+IHtcclxuICBfcG9zaXRpb25zQ29uZmlnID0gY3JlYXRlMkRTcXVhcmVQb3NpdGlvbnNDb25maWcoZ2wpO1xyXG4gIF9wcm9ncmFtVmFyaWFibGVzQ29uZmlnID0ge1xyXG4gICAgYXR0cmlidXRlczoge1xyXG4gICAgICBhVmVydGV4UG9zaXRpb246IF9wb3NpdGlvbnNDb25maWcsXHJcbiAgICB9LFxyXG4gICAgdW5pZm9ybXM6IHtcclxuICAgICAgdVNhbXBsZXJTaXplOiB2ZWMyLmZyb21WYWx1ZXMoZ2V0Vmlld3BvcnRXaWR0aCgpLCBnZXRWaWV3cG9ydEhlaWdodCgpKSxcclxuICAgICAgdVNhbXBsZXI6IG51bGwsXHJcbiAgICB9LFxyXG4gICAgbW9kZTogZ2wuVFJJQU5HTEVTLFxyXG4gICAgZWxlbWVudENvdW50OiA2LFxyXG4gIH07XHJcbn07XHJcblxyXG4vKipcclxuICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsXHJcbiAqIEBwYXJhbSB7QXJyYXkuPHN0cmluZz59IGlucHV0RnJhbWVidWZmZXJJZHNcclxuICogQHJldHVybnMge1Byb2dyYW1WYXJpYWJsZXNDb25maWd9XHJcbiAqL1xyXG5ibHVySG9yaXpvbnRhbFByb2dyYW1XcmFwcGVyQ29uZmlnLmdldFByb2dyYW1WYXJpYWJsZXNDb25maWcgPSAoZ2wsIGlucHV0RnJhbWVidWZmZXJJZHMpID0+IHtcclxuICBfcHJvZ3JhbVZhcmlhYmxlc0NvbmZpZy51bmlmb3Jtcy51U2FtcGxlciA9XHJcbiAgICAgIHByb2dyYW1XcmFwcGVyU3RvcmUuZ2V0VGV4dHVyZShpbnB1dEZyYW1lYnVmZmVySWRzWzBdKTtcclxuICB2ZWMyLnNldChfcHJvZ3JhbVZhcmlhYmxlc0NvbmZpZy51bmlmb3Jtcy51U2FtcGxlclNpemUsIGdldFZpZXdwb3J0V2lkdGgoKSwgZ2V0Vmlld3BvcnRIZWlnaHQoKSk7XHJcbiAgcmV0dXJuIF9wcm9ncmFtVmFyaWFibGVzQ29uZmlnO1xyXG59O1xyXG5cclxuZXhwb3J0IHtibHVySG9yaXpvbnRhbFByb2dyYW1XcmFwcGVyQ29uZmlnfTtcclxuIiwiLyoqXHJcbiAqIFRoaXMgbW9kdWxlIGRlZmluZXMgdGhlIGNvbmZpZ3VyYXRpb24gZm9yIGEgV2ViR0wgcHJvZ3JhbSB0aGF0IHByb2Nlc3NlcyBhbiBpbWFnZSB0byBibHVyIHBpeGVsc1xyXG4gKiB2ZXJ0aWNhbGx5LlxyXG4gKi9cclxuXHJcbmltcG9ydCB7XHJcbiAgcHJvZ3JhbVdyYXBwZXJTdG9yZSxcclxuICBjcmVhdGUyRFNxdWFyZVBvc2l0aW9uc0NvbmZpZyxcclxuICBnZXRWaWV3cG9ydEhlaWdodCxcclxuICBnZXRWaWV3cG9ydFdpZHRoLFxyXG59IGZyb20gJ2dhbWV4JztcclxuXHJcbmNvbnN0IGJsdXJWZXJ0aWNhbFByb2dyYW1XcmFwcGVyQ29uZmlnID0ge307XHJcblxyXG5ibHVyVmVydGljYWxQcm9ncmFtV3JhcHBlckNvbmZpZy5pZCA9ICdibHVyLXZlcnRpY2FsLXByb2dyYW0nO1xyXG5cclxuLy8gVGhlIGJ1aWxkIHN5c3RlbSBtb3ZlcyBzaGFkZXIgZmlsZXMgdG8gZGlzdC9zaGFkZXJzLy5cclxuYmx1clZlcnRpY2FsUHJvZ3JhbVdyYXBwZXJDb25maWcudmVydGV4U2hhZGVyUGF0aCA9ICdzaGFkZXJzL3Bvc3QtcHJvY2Vzc29yLXNoYWRlci52ZXJ0JztcclxuYmx1clZlcnRpY2FsUHJvZ3JhbVdyYXBwZXJDb25maWcuZnJhZ21lbnRTaGFkZXJQYXRoID0gJ3NoYWRlcnMvYmx1ci12ZXJ0aWNhbC1zaGFkZXIuZnJhZyc7XHJcblxyXG5sZXQgX3Bvc2l0aW9uc0NvbmZpZyA9IG51bGw7XHJcbmxldCBfcHJvZ3JhbVZhcmlhYmxlc0NvbmZpZyA9IG51bGw7XHJcblxyXG4vKiogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsICovXHJcbmJsdXJWZXJ0aWNhbFByb2dyYW1XcmFwcGVyQ29uZmlnLmluaXRpYWxpemUgPSBnbCA9PiB7XHJcbiAgX3Bvc2l0aW9uc0NvbmZpZyA9IGNyZWF0ZTJEU3F1YXJlUG9zaXRpb25zQ29uZmlnKGdsKTtcclxuICBfcHJvZ3JhbVZhcmlhYmxlc0NvbmZpZyA9IHtcclxuICAgIGF0dHJpYnV0ZXM6IHtcclxuICAgICAgYVZlcnRleFBvc2l0aW9uOiBfcG9zaXRpb25zQ29uZmlnLFxyXG4gICAgfSxcclxuICAgIHVuaWZvcm1zOiB7XHJcbiAgICAgIHVTYW1wbGVyU2l6ZTogdmVjMi5mcm9tVmFsdWVzKGdldFZpZXdwb3J0V2lkdGgoKSwgZ2V0Vmlld3BvcnRIZWlnaHQoKSksXHJcbiAgICAgIHVTYW1wbGVyOiBudWxsLFxyXG4gICAgfSxcclxuICAgIG1vZGU6IGdsLlRSSUFOR0xFUyxcclxuICAgIGVsZW1lbnRDb3VudDogNixcclxuICB9O1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbFxyXG4gKiBAcGFyYW0ge0FycmF5LjxzdHJpbmc+fSBpbnB1dEZyYW1lYnVmZmVySWRzXHJcbiAqIEByZXR1cm5zIHtQcm9ncmFtVmFyaWFibGVzQ29uZmlnfVxyXG4gKi9cclxuYmx1clZlcnRpY2FsUHJvZ3JhbVdyYXBwZXJDb25maWcuZ2V0UHJvZ3JhbVZhcmlhYmxlc0NvbmZpZyA9IChnbCwgaW5wdXRGcmFtZWJ1ZmZlcklkcykgPT4ge1xyXG4gIF9wcm9ncmFtVmFyaWFibGVzQ29uZmlnLnVuaWZvcm1zLnVTYW1wbGVyID1cclxuICAgICAgcHJvZ3JhbVdyYXBwZXJTdG9yZS5nZXRUZXh0dXJlKGlucHV0RnJhbWVidWZmZXJJZHNbMF0pO1xyXG4gIHZlYzIuc2V0KF9wcm9ncmFtVmFyaWFibGVzQ29uZmlnLnVuaWZvcm1zLnVTYW1wbGVyU2l6ZSwgZ2V0Vmlld3BvcnRXaWR0aCgpLCBnZXRWaWV3cG9ydEhlaWdodCgpKTtcclxuICByZXR1cm4gX3Byb2dyYW1WYXJpYWJsZXNDb25maWc7XHJcbn07XHJcblxyXG5leHBvcnQge2JsdXJWZXJ0aWNhbFByb2dyYW1XcmFwcGVyQ29uZmlnfTtcclxuIiwiLyoqXHJcbiAqIFRoaXMgbW9kdWxlIGRlZmluZXMgdGhlIGNvbmZpZ3VyYXRpb24gZm9yIGEgV2ViR0wgcHJvZ3JhbSB0aGF0IHByb2Nlc3NlcyBhbiBpbWFnZSB0byByZW5kZXIgb25seVxyXG4gKiB0aGUgYnJpZ2h0IGFyZWFzLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7cHJvZ3JhbVdyYXBwZXJTdG9yZSwgY3JlYXRlMkRTcXVhcmVQb3NpdGlvbnNDb25maWd9IGZyb20gJ2dhbWV4JztcclxuXHJcbmNvbnN0IGJyaWdodG5lc3NQcm9ncmFtV3JhcHBlckNvbmZpZyA9IHt9O1xyXG5cclxuYnJpZ2h0bmVzc1Byb2dyYW1XcmFwcGVyQ29uZmlnLmlkID0gJ2JyaWdodG5lc3MtcHJvZ3JhbSc7XHJcblxyXG4vLyBUaGUgYnVpbGQgc3lzdGVtIG1vdmVzIHNoYWRlciBmaWxlcyB0byBkaXN0L3NoYWRlcnMvLlxyXG5icmlnaHRuZXNzUHJvZ3JhbVdyYXBwZXJDb25maWcudmVydGV4U2hhZGVyUGF0aCA9ICdzaGFkZXJzL3Bvc3QtcHJvY2Vzc29yLXNoYWRlci52ZXJ0JztcclxuYnJpZ2h0bmVzc1Byb2dyYW1XcmFwcGVyQ29uZmlnLmZyYWdtZW50U2hhZGVyUGF0aCA9ICdzaGFkZXJzL2JyaWdodG5lc3MtZmlsdGVyLXNoYWRlci5mcmFnJztcclxuXHJcbmxldCBfcG9zaXRpb25zQ29uZmlnID0gbnVsbDtcclxubGV0IF9wcm9ncmFtVmFyaWFibGVzQ29uZmlnID0gbnVsbDtcclxuXHJcbi8qKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgKi9cclxuYnJpZ2h0bmVzc1Byb2dyYW1XcmFwcGVyQ29uZmlnLmluaXRpYWxpemUgPSBnbCA9PiB7XHJcbiAgX3Bvc2l0aW9uc0NvbmZpZyA9IGNyZWF0ZTJEU3F1YXJlUG9zaXRpb25zQ29uZmlnKGdsKTtcclxuICBfcHJvZ3JhbVZhcmlhYmxlc0NvbmZpZyA9IHtcclxuICAgIGF0dHJpYnV0ZXM6IHtcclxuICAgICAgYVZlcnRleFBvc2l0aW9uOiBfcG9zaXRpb25zQ29uZmlnLFxyXG4gICAgfSxcclxuICAgIHVuaWZvcm1zOiB7XHJcbiAgICAgIHVTYW1wbGVyOiBudWxsLFxyXG4gICAgfSxcclxuICAgIG1vZGU6IGdsLlRSSUFOR0xFUyxcclxuICAgIGVsZW1lbnRDb3VudDogNixcclxuICB9O1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbFxyXG4gKiBAcGFyYW0ge0FycmF5LjxzdHJpbmc+fSBpbnB1dEZyYW1lYnVmZmVySWRzXHJcbiAqIEByZXR1cm5zIHtQcm9ncmFtVmFyaWFibGVzQ29uZmlnfVxyXG4gKi9cclxuYnJpZ2h0bmVzc1Byb2dyYW1XcmFwcGVyQ29uZmlnLmdldFByb2dyYW1WYXJpYWJsZXNDb25maWcgPSAoZ2wsIGlucHV0RnJhbWVidWZmZXJJZHMpID0+IHtcclxuICBfcHJvZ3JhbVZhcmlhYmxlc0NvbmZpZy51bmlmb3Jtcy51U2FtcGxlciA9XHJcbiAgICAgIHByb2dyYW1XcmFwcGVyU3RvcmUuZ2V0VGV4dHVyZShpbnB1dEZyYW1lYnVmZmVySWRzWzBdKTtcclxuICByZXR1cm4gX3Byb2dyYW1WYXJpYWJsZXNDb25maWc7XHJcbn07XHJcblxyXG5leHBvcnQge2JyaWdodG5lc3NQcm9ncmFtV3JhcHBlckNvbmZpZ307XHJcbiIsIi8qKlxyXG4gKiBUaGlzIG1vZHVsZSBkZWZpbmVzIHRoZSBjb25maWd1cmF0aW9uIGZvciBhIFdlYkdMIHByb2dyYW0gdGhhdCByZW5kZXJzIG9iamVjdHMgd2l0aCBqdXN0IGEgcGxhaW4sXHJcbiAqIGZsYXQgY29sb3IuXHJcbiAqL1xyXG5cclxuY29uc3QgZmxhdENvbG9yUHJvZ3JhbVdyYXBwZXJDb25maWcgPSB7fTtcclxuXHJcbmZsYXRDb2xvclByb2dyYW1XcmFwcGVyQ29uZmlnLmlkID0gJ2ZsYXQtY29sb3ItcHJvZ3JhbSc7XHJcblxyXG4vLyBUaGUgYnVpbGQgc3lzdGVtIG1vdmVzIHNoYWRlciBmaWxlcyB0byBkaXN0L3NoYWRlcnMvLlxyXG5mbGF0Q29sb3JQcm9ncmFtV3JhcHBlckNvbmZpZy52ZXJ0ZXhTaGFkZXJQYXRoID0gJ3NoYWRlcnMvZmxhdC1jb2xvci1zaGFkZXIudmVydCc7XHJcbmZsYXRDb2xvclByb2dyYW1XcmFwcGVyQ29uZmlnLmZyYWdtZW50U2hhZGVyUGF0aCA9ICdzaGFkZXJzL2ZsYXQtY29sb3Itc2hhZGVyLmZyYWcnO1xyXG5cclxuLy8gVGhpcyBzaG91bGQgcmVuZGVyIGFmdGVyIHRoZSBzdGFyczsgYWxsIHN0YXJzIHNob3VsZCBhcHBlYXIgYmVoaW5kIHRoZSBvdGhlciBvYmplY3RzLlxyXG5mbGF0Q29sb3JQcm9ncmFtV3JhcHBlckNvbmZpZy5yZW5kZXJQcmlvcml0eSA9IDM7XHJcblxyXG4vKipcclxuICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsXHJcbiAqL1xyXG5mbGF0Q29sb3JQcm9ncmFtV3JhcHBlckNvbmZpZy53ZWJHTFN0YXRlU2V0dGVyID0gZ2wgPT4ge1xyXG4gIC8vIFR1cm4gb24gZGVwdGggdGVzdGluZy5cclxuICBnbC5lbmFibGUoZ2wuREVQVEhfVEVTVCk7XHJcbiAgZ2wuZGVwdGhGdW5jKGdsLkxFUVVBTCk7XHJcblxyXG4gIC8vIFR1cm4gb24gYWxwaGEgYmxlbmRpbmcuXHJcbiAgZ2wuZW5hYmxlKGdsLkJMRU5EKTtcclxuICBnbC5ibGVuZEZ1bmMoZ2wuU1JDX0FMUEhBLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBUaGlzIGNhbiBiZSBhc3NpZ25lZCBhcyB0aGUgZHJhdyBtZXRob2QgZm9yIGEgY2xhc3MgdGhhdCBleHRlbmRzIFN0YW5kYXJkTW9kZWxDb250cm9sbGVyIGFuZCB1c2VzXHJcbiAqIHRoZSBmbGF0LWNvbG9yIHByb2dyYW0uXHJcbiAqXHJcbiAqIEB0aGlzIFN0YW5kYXJkTW9kZWxDb250cm9sbGVyXHJcbiAqL1xyXG5mbGF0Q29sb3JQcm9ncmFtV3JhcHBlckNvbmZpZy5kcmF3ID0gZnVuY3Rpb24oKSB7XHJcbiAgLy8gVXBkYXRlIHRoZSBtb2RlbC12aWV3IG1hdHJpeC5cclxuICBtYXQ0Lm11bHRpcGx5KHRoaXMuX212TWF0cml4LCB0aGlzLl9nZXRWaWV3TWF0cml4KCksIHRoaXMuX3dvcmxkVHJhbnNmb3JtKTtcclxuXHJcbiAgLy8gVXBkYXRlIHRoZSB1bmlmb3JtIHZhcmlhYmxlcy5cclxuICB0aGlzLl9wcm9ncmFtVmFyaWFibGVzQ29uZmlnLnVuaWZvcm1zWyd1UE1hdHJpeCddID0gdGhpcy5fZ2V0UHJvamVjdGlvbk1hdHJpeCgpO1xyXG4gIHRoaXMuX3Byb2dyYW1WYXJpYWJsZXNDb25maWcudW5pZm9ybXNbJ3VNVk1hdHJpeCddID0gdGhpcy5fbXZNYXRyaXg7XHJcblxyXG4gIC8vIERyYXcgc2hhcGVzIHVzaW5nIHRoZSBjdXJyZW50IHZhcmlhYmxlcyBjb25maWd1cmF0aW9uLlxyXG4gIHRoaXMuX3Byb2dyYW1XcmFwcGVyLmRyYXcodGhpcy5fZ2wsIHRoaXMuX3Byb2dyYW1WYXJpYWJsZXNDb25maWcsIDAsIHRoaXMuX21vZGVsLmVsZW1lbnRDb3VudCk7XHJcbn07XHJcblxyXG4vKipcclxuICogVGhpcyBjYW4gYmUgYXNzaWduZWQgYXMgdGhlIF9zZXRVcFByb2dyYW1WYXJpYWJsZXNDb25maWcgbWV0aG9kIGZvciBhIGNsYXNzIHRoYXQgZXh0ZW5kc1xyXG4gKiBTdGFuZGFyZE1vZGVsQ29udHJvbGxlciBhbmQgdXNlcyB0aGUgZmxhdC1jb2xvciBwcm9ncmFtLlxyXG4gKlxyXG4gKiBAdGhpcyBTdGFuZGFyZE1vZGVsQ29udHJvbGxlclxyXG4gKi9cclxuZmxhdENvbG9yUHJvZ3JhbVdyYXBwZXJDb25maWcuc2V0VXBQcm9ncmFtVmFyaWFibGVzQ29uZmlnID0gZnVuY3Rpb24oKSB7XHJcbiAgdGhpcy5fcHJvZ3JhbVZhcmlhYmxlc0NvbmZpZyA9IHtcclxuICAgIGF0dHJpYnV0ZXM6IHtcclxuICAgICAgYVZlcnRleFBvc2l0aW9uOiB0aGlzLl9tb2RlbC52ZXJ0ZXhQb3NpdGlvbnNDb25maWcsXHJcbiAgICB9LFxyXG4gICAgdW5pZm9ybXM6IHtcclxuICAgICAgdVBNYXRyaXg6IHRoaXMuX2dldFByb2plY3Rpb25NYXRyaXgoKSxcclxuICAgICAgdU1WTWF0cml4OiB0aGlzLl9tdk1hdHJpeCxcclxuICAgICAgdUNvbG9yOiB0aGlzLl9jb2xvcixcclxuICAgIH0sXHJcbiAgICBtb2RlOiB0aGlzLl9tb2RlbC5tb2RlLFxyXG4gICAgdmVydGV4SW5kaWNlczogdGhpcy5fbW9kZWwudmVydGV4SW5kaWNlc0J1ZmZlcixcclxuICAgIGVsZW1lbnRDb3VudDogdGhpcy5fbW9kZWwuZWxlbWVudENvdW50XHJcbiAgfTtcclxufTtcclxuXHJcbmV4cG9ydCB7ZmxhdENvbG9yUHJvZ3JhbVdyYXBwZXJDb25maWd9O1xyXG4iLCIvKipcclxuICogVGhpcyBtb2R1bGUgZGVmaW5lcyB0aGUgY29uZmlndXJhdGlvbiBmb3IgYSBXZWJHTCBwcm9ncmFtIHRoYXQgcmVuZGVycyBhIGdlbmVyYWwgbW9kZWwtLXRoYXQgaXMsXHJcbiAqIHRoaXMgcHJvZ3JhbSByZW5kZXJzIGV2ZXJ5dGhpbmcgYnV0IHRoZSBzdGFycy5cclxuICpcclxuICogVGhpcyBwcm9ncmFtIHJlbmRlcnMgdGhyZWUtZGltZW5zaW9uYWwgc2hhcGVzIHdpdGggdGV4dHVyZXMgYW5kIEJsaW5uLVBob25nIHNoYWRpbmcuXHJcbiAqL1xyXG5cclxuY29uc3QgZ2VuZXJhbE1vZGVsUHJvZ3JhbVdyYXBwZXJDb25maWcgPSB7fTtcclxuXHJcbmdlbmVyYWxNb2RlbFByb2dyYW1XcmFwcGVyQ29uZmlnLmlkID0gJ2dlbmVyYWwtbW9kZWwtcHJvZ3JhbSc7XHJcblxyXG4vLyBUaGUgYnVpbGQgc3lzdGVtIG1vdmVzIHNoYWRlciBmaWxlcyB0byBkaXN0L3NoYWRlcnMvLlxyXG5nZW5lcmFsTW9kZWxQcm9ncmFtV3JhcHBlckNvbmZpZy52ZXJ0ZXhTaGFkZXJQYXRoID0gJ3NoYWRlcnMvZ2VuZXJhbC1tb2RlbC1zaGFkZXIudmVydCc7XHJcbmdlbmVyYWxNb2RlbFByb2dyYW1XcmFwcGVyQ29uZmlnLmZyYWdtZW50U2hhZGVyUGF0aCA9ICdzaGFkZXJzL2dlbmVyYWwtbW9kZWwtc2hhZGVyLmZyYWcnO1xyXG5cclxuLy8gVGhpcyBzaG91bGQgcmVuZGVyIGFmdGVyIHRoZSBzdGFyczsgYWxsIHN0YXJzIHNob3VsZCBhcHBlYXIgYmVoaW5kIHRoZSBvdGhlciBvYmplY3RzLlxyXG5nZW5lcmFsTW9kZWxQcm9ncmFtV3JhcHBlckNvbmZpZy5yZW5kZXJQcmlvcml0eSA9IDI7XHJcblxyXG4vKipcclxuICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsXHJcbiAqL1xyXG5nZW5lcmFsTW9kZWxQcm9ncmFtV3JhcHBlckNvbmZpZy53ZWJHTFN0YXRlU2V0dGVyID0gZ2wgPT4ge1xyXG4gIC8vIFR1cm4gb2ZmIGFscGhhIGJsZW5kaW5nLlxyXG4gIGdsLmRpc2FibGUoZ2wuQkxFTkQpO1xyXG5cclxuICAvLyBUdXJuIG9uIGRlcHRoIHRlc3RpbmcuXHJcbiAgZ2wuZW5hYmxlKGdsLkRFUFRIX1RFU1QpO1xyXG4gIGdsLmRlcHRoRnVuYyhnbC5MRVFVQUwpO1xyXG59O1xyXG5cclxuZXhwb3J0IHtnZW5lcmFsTW9kZWxQcm9ncmFtV3JhcHBlckNvbmZpZ307XHJcbiIsImV4cG9ydCAqIGZyb20gJy4vYmxlbmQtcHJvZ3JhbS9ibGVuZC1wcm9ncmFtLWNvbmZpZyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vYmx1ci1ob3Jpem9udGFsLXByb2dyYW0vYmx1ci1ob3Jpem9udGFsLXByb2dyYW0tY29uZmlnJztcclxuZXhwb3J0ICogZnJvbSAnLi9ibHVyLXZlcnRpY2FsLXByb2dyYW0vYmx1ci12ZXJ0aWNhbC1wcm9ncmFtLWNvbmZpZyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vYnJpZ2h0bmVzcy1maWx0ZXItcHJvZ3JhbS9icmlnaHRuZXNzLWZpbHRlci1wcm9ncmFtLWNvbmZpZyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vZmxhdC1jb2xvci1wcm9ncmFtL2ZsYXQtY29sb3ItcHJvZ3JhbS1jb25maWcnO1xyXG5leHBvcnQgKiBmcm9tICcuL2dlbmVyYWwtbW9kZWwtcHJvZ3JhbS9nZW5lcmFsLW1vZGVsLXByb2dyYW0tY29uZmlnJztcclxuZXhwb3J0ICogZnJvbSAnLi9zdGFyLXBvaW50cy1wcm9ncmFtL3N0YXItcG9pbnRzLXByb2dyYW0tY29uZmlnJztcclxuXHJcbmV4cG9ydCAqIGZyb20gJy4vYmxvb20tcHJvZ3JhbS1jb25maWcnO1xyXG4iLCIvKipcclxuICogVGhpcyBtb2R1bGUgZGVmaW5lcyB0aGUgY29uZmlndXJhdGlvbiBmb3IgYSBXZWJHTCBwcm9ncmFtIHRoYXQgcmVuZGVycyB0aGUgc3RhcnMuXHJcbiAqXHJcbiAqIFRoaXMgcHJvZ3JhbSByZW5kZXJzIHBvaW50cyB3aXRoIHRyYW5zcGFyZW50IHJhZGlhbCBncmFkaWVudHMuXHJcbiAqL1xyXG5cclxuY29uc3Qgc3RhclBvaW50c1Byb2dyYW1XcmFwcGVyQ29uZmlnID0ge307XHJcblxyXG5zdGFyUG9pbnRzUHJvZ3JhbVdyYXBwZXJDb25maWcuaWQgPSAnc3Rhci1wb2ludHMtcHJvZ3JhbSc7XHJcblxyXG4vLyBUaGUgYnVpbGQgc3lzdGVtIG1vdmVzIHNoYWRlciBmaWxlcyB0byBkaXN0L3NoYWRlcnMvLlxyXG5zdGFyUG9pbnRzUHJvZ3JhbVdyYXBwZXJDb25maWcudmVydGV4U2hhZGVyUGF0aCA9ICdzaGFkZXJzL3N0YXItcG9pbnRzLXNoYWRlci52ZXJ0Jztcclxuc3RhclBvaW50c1Byb2dyYW1XcmFwcGVyQ29uZmlnLmZyYWdtZW50U2hhZGVyUGF0aCA9ICdzaGFkZXJzL3N0YXItcG9pbnRzLXNoYWRlci5mcmFnJztcclxuXHJcbi8vIFRoaXMgc2hvdWxkIHJlbmRlciBiZWZvcmUgdGhlIG90aGVyIG9iamVjdHM7IGFsbCBzdGFycyBzaG91bGQgYXBwZWFyIGJlaGluZCB0aGUgb3RoZXIgb2JqZWN0cy5cclxuc3RhclBvaW50c1Byb2dyYW1XcmFwcGVyQ29uZmlnLnJlbmRlclByaW9yaXR5ID0gMTtcclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2xcclxuICovXHJcbnN0YXJQb2ludHNQcm9ncmFtV3JhcHBlckNvbmZpZy53ZWJHTFN0YXRlU2V0dGVyID0gZ2wgPT4ge1xyXG4gIC8vIFR1cm4gb2ZmIGRlcHRoIHRlc3RpbmcuXHJcbiAgZ2wuZGlzYWJsZShnbC5ERVBUSF9URVNUKTtcclxuXHJcbiAgLy8gVHVybiBvbiBhbHBoYSBibGVuZGluZy5cclxuICBnbC5lbmFibGUoZ2wuQkxFTkQpO1xyXG4gIGdsLmJsZW5kRnVuYyhnbC5TUkNfQUxQSEEsIGdsLk9ORSk7XHJcbn07XHJcblxyXG5leHBvcnQge3N0YXJQb2ludHNQcm9ncmFtV3JhcHBlckNvbmZpZ307XHJcbiIsImV4cG9ydCAqIGZyb20gJy4vc3JjL2dlb21ldHJ5JztcclxuIiwiLyoqXHJcbiAqIFRoaXMgbW9kdWxlIGRlZmluZXMgYSBjb2xsZWN0aW9uIG9mIHN0YXRpYyBnZW9tZXRyeSB1dGlsaXR5IGZ1bmN0aW9ucy5cclxuICovXHJcblxyXG4vKipcclxuICogQ2FsY3VsYXRlcyB0aGUgdmVsb2NpdHkgbmVlZGVkIGZvciBhbiBvYmplY3QgZnJvbSBzb3VyY2VQb3NpdGlvbiBtb3Zpbmcgd2l0aCBzb3VyY2VTcGVlZCB0b1xyXG4gKiBpbnRlcmNlcHQgd2l0aCBhbiBvYmplY3QgbW92aW5nIGZyb20gdGFyZ2V0UG9zaXRpb24gd2l0aCB0YXJnZXRWZWxvY2l0eS5cclxuICpcclxuICogVGhlIHJlc3VsdGluZyB2ZWxvY2l0eSBpcyBhc3NpZ25lZCB0byB0aGUgZ2l2ZW4gaW50ZXJjZXB0VmVsb2NpdHkgb3V0cHV0IHBhcmFtZXRlci5cclxuICpcclxuICogSWYgc291cmNlU3BlZWQgaXMgbm90IGZhc3QgZW5vdWdoIHRvIGludGVyY2VwdCB0aGUgdGFyZ2V0LCB0aGVuIGludGVyY2VwdFZlbG9jaXR5IHdpbGwgYmVcclxuICogYXNzaWduZWQgYSB2YWx1ZSBwYXJhbGxlbCB0byB0YXJnZXRWZWxvY2l0eS5cclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBpbnRlcmNlcHRWZWxvY2l0eSAoT3V0cHV0IHBhcmFtZXRlcilcclxuICogQHBhcmFtIHt2ZWMzfSBzb3VyY2VQb3NpdGlvblxyXG4gKiBAcGFyYW0ge251bWJlcn0gc291cmNlU3BlZWRcclxuICogQHBhcmFtIHt2ZWMzfSB0YXJnZXRQb3NpdGlvblxyXG4gKiBAcGFyYW0ge3ZlYzN9IHRhcmdldFZlbG9jaXR5XHJcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHNvdXJjZVNwZWVkIHdhcyBmYXN0IGVub3VnaCB0byBpbnRlcmNlcHQgdGhlIHRhcmdldC5cclxuICovXHJcbmZ1bmN0aW9uIGNhbGN1bGF0ZUludGVyY2VwdFZlbG9jaXR5KGludGVyY2VwdFZlbG9jaXR5LCBzb3VyY2VQb3NpdGlvbiwgc291cmNlU3BlZWQsIHRhcmdldFBvc2l0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRWZWxvY2l0eSkge1xyXG4gIC8vIENhbGN1bGF0ZSB0aGUgZGlyZWN0aW9uIGZyb20gdGhlIHNvdXJjZSB0byB0aGUgdGFyZ2V0LlxyXG4gIGNvbnN0IGRpcmVjdGlvblRvVGFyZ2V0ID0gdmVjMy5jcmVhdGUoKTtcclxuICB2ZWMzLnN1YnRyYWN0KGRpcmVjdGlvblRvVGFyZ2V0LCB0YXJnZXRQb3NpdGlvbiwgc291cmNlUG9zaXRpb24pO1xyXG4gIHZlYzMubm9ybWFsaXplKGRpcmVjdGlvblRvVGFyZ2V0LCBkaXJlY3Rpb25Ub1RhcmdldCk7XHJcblxyXG4gIC8vIERlY29tcG9zZSB0aGUgdGFyZ2V0J3MgdmVsb2NpdHkgaW50byB0d28gcGFydHM6XHJcbiAgLy8gLSB0aGUgcGFydCBwYXJhbGxlbCB0byBkaXJlY3Rpb25Ub1RhcmdldCxcclxuICAvLyAtIHRoZSBwYXJ0IG9ydGhvZ29uYWwgdG8gZGlyZWN0aW9uVG9UYXJnZXQuXHJcblxyXG4gIC8vIFRoZSBwYXJhbGxlbCBjb21wb25lbnQuXHJcbiAgY29uc3QgdGFyZ2V0VmVsb2NpdHlQYXJhbGxlbENvbXBvbmVudCA9IHZlYzMuY3JlYXRlKCk7XHJcbiAgY29uc3QgcGFyYWxsZWxDb21wb25lbnRTY2FsZSA9IHZlYzMuZG90KHRhcmdldFZlbG9jaXR5LCBkaXJlY3Rpb25Ub1RhcmdldCk7XHJcbiAgdmVjMy5zY2FsZSh0YXJnZXRWZWxvY2l0eVBhcmFsbGVsQ29tcG9uZW50LCBkaXJlY3Rpb25Ub1RhcmdldCwgcGFyYWxsZWxDb21wb25lbnRTY2FsZSk7XHJcblxyXG4gIC8vIFRoZSBvcnRob2dvbmFsIGNvbXBvbmVudC5cclxuICBjb25zdCB0YXJnZXRWZWxvY2l0eU9ydGhvZ29uYWxDb21wb25lbnQgPSB2ZWMzLmNyZWF0ZSgpO1xyXG4gIHZlYzMuc3VidHJhY3QodGFyZ2V0VmVsb2NpdHlPcnRob2dvbmFsQ29tcG9uZW50LCB0YXJnZXRWZWxvY2l0eSwgdGFyZ2V0VmVsb2NpdHlQYXJhbGxlbENvbXBvbmVudCk7XHJcblxyXG4gIGNvbnN0IG9ydGhvZ29uYWxTcGVlZCA9IHZlYzMubGVuZ3RoKHRhcmdldFZlbG9jaXR5T3J0aG9nb25hbENvbXBvbmVudCk7XHJcblxyXG4gIGNvbnN0IGlzU291cmNlRmFzdEVub3VnaFRvSW50ZXJjZXB0VGFyZ2V0ID0gb3J0aG9nb25hbFNwZWVkIDwgc291cmNlU3BlZWQ7XHJcblxyXG4gIGlmICghaXNTb3VyY2VGYXN0RW5vdWdoVG9JbnRlcmNlcHRUYXJnZXQpIHtcclxuICAgIC8vIFNpbmNlIHNvdXJjZSBpcyBub3QgZmFzdCBlbm91Z2ggdG8gaW50ZXJjZXB0IHRoZSB0YXJnZXQsIGdpdmUgaXQgYSB2ZWxvY2l0eSB0aGF0IGlzIHBhcmFsbGVsXHJcbiAgICAvLyB0byB0YXJnZXRWZWxvY2l0eS5cclxuICAgIHZlYzMubm9ybWFsaXplKGludGVyY2VwdFZlbG9jaXR5LCB0YXJnZXRWZWxvY2l0eSk7XHJcbiAgICB2ZWMzLnNjYWxlKGludGVyY2VwdFZlbG9jaXR5LCBpbnRlcmNlcHRWZWxvY2l0eSwgc291cmNlU3BlZWQpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBjb25zdCBwYXJhbGxlbFNwZWVkID0gTWF0aC5zcXJ0KHNvdXJjZVNwZWVkICogc291cmNlU3BlZWQgLSBvcnRob2dvbmFsU3BlZWQgKiBvcnRob2dvbmFsU3BlZWQpO1xyXG4gICAgY29uc3Qgc291cmNlVmVsb2NpdHlQYXJhbGxlbENvbXBvbmVudCA9IHZlYzMuY3JlYXRlKCk7XHJcbiAgICB2ZWMzLnNjYWxlKHNvdXJjZVZlbG9jaXR5UGFyYWxsZWxDb21wb25lbnQsIGRpcmVjdGlvblRvVGFyZ2V0LCBwYXJhbGxlbFNwZWVkKTtcclxuICAgIHZlYzMuYWRkKGludGVyY2VwdFZlbG9jaXR5LCBzb3VyY2VWZWxvY2l0eVBhcmFsbGVsQ29tcG9uZW50LCB0YXJnZXRWZWxvY2l0eU9ydGhvZ29uYWxDb21wb25lbnQpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGlzU291cmNlRmFzdEVub3VnaFRvSW50ZXJjZXB0VGFyZ2V0O1xyXG59XHJcblxyXG5leHBvcnQge1xyXG4gIGNhbGN1bGF0ZUludGVyY2VwdFZlbG9jaXR5LFxyXG59O1xyXG4iXX0="}